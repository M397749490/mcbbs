{
    "title": "村民交易问题（1.8）&tellraw点击",
    "author": "egg_apple",
    "replyCount": 6,
    "timestamp": 1469083740,
    "txt_content": "正题来了：\n1、1.8村民交易，我用一本自定义的书本（内容有颜色字体）换另一本自定义书本。可为什么换不了？内容完全一样！就是换不了？但是！我重新刷了一本，没有打开过（就是没有打开书本看过内容），却可以交易了！打开看过就不能交易，没看过就能= =这怎么能行？有什么办法可以解决？让不管看过多少次的书都可以交易！\n \n \n2、tellraw指令，点击我会。但如何让点击后会出现其他字？就是一点又会触发新的tellraw。比如有 a和b 。如何点a会又出现A，点b又会出现B？\n\n\n3、类似服务器那种：靠近NPC会出现：1、XX   2、xxx\n在框里输入1，就会触发对话之类的。原版可以做到吗？1.8的，1.9可以做到么？1.10可以做到么？是服务器插件么？是的话就算了= =\n\n\n附加：上次的问题[如何召唤一个自定义交易的村民，交易不会产生经验？应该可以做到的！不要说计分板记交易次数扣除经验！]\n这次用了60金粒= =平均每个问题20金粒= =（附加不算）",
    "replies": [
        {
            "author": "langyo",
            "timestamp": 1469083740,
            "txt_content": "egg_apple，你好。\n\n你给的金粒怎么这么少？！这些问题你看看市场价，每个都是100金粒啊=-=\n问题1：\n你在设置村民交易标签的时候把样式代码加进去了（§），但在你打开书之后，游戏会立即识别样式代码，识别出来后会将它在内部处理时删除的！因此你打开后的书实际上已经被改变过了，跟村民要的肯定不一样！\n解决方案？你设置打开过的书（样式代码被过滤后的）作为村民交易的内容，而不是没打开过的，这是目前最靠谱的方法。\n\n问题2：\n在clickEvent事件中设置action为run_command，value设置成/tellraw新的内容；如果没有作弊权限，你也可以创建计分板变量，判据为trigger，然后value设置成/trigger 你那变量的名字 set 1，设置高频/tellraw @a[score_你那变量名_min=1,score_你那变量名=1] {...}\n\n问题3：\n原版里虽然可以通过给NPC实体附近的玩家输出tellraw，但是没办法识别玩家在聊天框里输入的东西，只能识别trigger、按钮事件和字符插入事件（两个事件如果你学好tellraw你就知道是什么了）\n没错如果你遇到了输入进命令框里再这样那样的情况，那的确是服务器插件\n直接给NPC生物（通常是村民）/execute，不断/tellraw @a[r=你要的方块半径] {...}\n\n附加问题：\n给村民加入NBT标签：\n{Recipes:[{rewardExp:0b,...},...]}\n给每个交易选项都加rewardExp:0b就能将村民交易后提供经验球这个选项弄掉；如果是单个就弄单个，多个你看着弄；1b是给经验球，0b是不给；再具体你查wiki吧，篇幅限制废话不多说\n\n求采纳"
        },
        {
            "author": "幻世丿子鱼",
            "timestamp": 1469086560,
            "txt_content": "第3个貌似是插件"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1469100900,
            "txt_content": "1、？？？？\n2、直接把要点击的指令改成tellraw，或者在远处放置红石块然后激活命令方块\n3、原版不可探测玩家说了什么，你可以用tellraw啊"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1469101440,
            "txt_content": "1、来自wiki：resolved: 可选的，当成书被创建后第一次被打开时创建并设为 1 。用于分析书中内容的 JSON 的选择器，此时这些选择器会被确定下来。\n这就很尴尬了，直接交易的时候设置为1，give的时候也设置为1吧"
        },
        {
            "author": "langyo",
            "timestamp": 1469111340,
            "txt_content": "补充\n问题1：\n@FHC红石 他给的resolved标签才是对的答案=-=\n所以，你只能在村民标签设置中将这个设置成1b，然后give玩家的时候也把这标签设置成1b吧=-=\n不然真不好弄=-="
        },
        {
            "author": "what_name",
            "timestamp": 1469114220,
            "txt_content": "第一个可能是因为你没有加resolved(打开过),玩家打开了书本，NBT数量就会+1，而你兑换的NBT缺少1，就换不了了(使用方法:resolved:1即可)\n\n第二个可以用extra\ntellraw @a {text:\"A \",clickEvent:{action:run_command,value:\"/say A\"},extra:[{text:\"B\",clickEvent:{action:run_command,value:\"/say B\"}}]}复制代码\n\n第三个目前做不到，因为无法检测玩家在聊天栏里输入的内容"
        }
    ]
}