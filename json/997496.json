{
    "title": "PlayerPoints连接数据库报错",
    "author": "jowi",
    "replyCount": 2,
    "timestamp": 1585184640,
    "txt_content": " 本帖最后由 jowi 于 2020-3-26 09:17 编辑 \n\n报错：\n[PlayerPoints] Could not create getter statement.com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 37,572,187 milliseconds ago.  The last packet sent successfully to the server was 37,572,188 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_241]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[?:1.8.0_241]\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[?:1.8.0_241]\n        at java.lang.reflect.Constructor.newInstance(Unknown Source) ~[?:1.8.0_241]\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3746) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2484) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at lib.PatPeter.SQLibrary.Database.query(Database.java:261) ~[?:?]\n        at lib.PatPeter.SQLibrary.Database.query(Database.java:278) ~[?:?]\n        at org.black_ixx.playerpoints.storage.models.MySQLStorage.getPoints(MySQLStorage.java:87) ~[?:?]\n        at org.black_ixx.playerpoints.storage.StorageHandler.getPoints(StorageHandler.java:39) ~[?:?]\n        at org.black_ixx.playerpoints.PlayerPointsAPI.look(PlayerPointsAPI.java:102) ~[?:?]\n        at com.extendedclip.papi.expansion.playerpoints.PlayerPointsExpansion.getPoints(PlayerPointsExpansion.java:73) ~[?:?]\n        at com.extendedclip.papi.expansion.playerpoints.PlayerPointsExpansion.onPlaceholderRequest(PlayerPointsExpansion.java:65) ~[?:?]\n        at me.clip.placeholderapi.PlaceholderHook.onRequest(PlaceholderHook.java:38) ~[?:?]\n        at me.clip.placeholderapi.PlaceholderAPI.setPlaceholders(PlaceholderAPI.java:234) ~[?:?]\n        at me.clip.placeholderapi.PlaceholderAPI.setPlaceholders(PlaceholderAPI.java:375) ~[?:?]\n        at southcraft.LukixCZE.ScoreBoard.Placeholders.replaceValues(Placeholders.java:72) ~[?:?]\n        at southcraft.LukixCZE.ScoreBoard.ScoreboardManager.createScoreboard(ScoreboardManager.java:62) ~[?:?]\n        at southcraft.LukixCZE.ScoreBoard.ScoreboardManager.addScoreboard(ScoreboardManager.java:35) ~[?:?]\n        at southcraft.LukixCZE.ScoreBoard.Main$1.run(Main.java:87) ~[?:?]\n        at org.bukkit.craftbukkit.v1_12_R1.scheduler.CraftTask.run(CraftTask.java:64) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at org.bukkit.craftbukkit.v1_12_R1.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:423) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:840) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:423) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:774) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:666) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\nCaused by: java.net.SocketException: Software caused connection abort: socket write error\n        at java.net.SocketOutputStream.socketWrite0(Native Method) ~[?:1.8.0_241]\n        at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_241]\n        at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_241]\n        at java.io.BufferedOutputStream.flushBuffer(Unknown Source) ~[?:1.8.0_241]\n        at java.io.BufferedOutputStream.flush(Unknown Source) ~[?:1.8.0_241]\n        at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[PaperSpigot-1.12.2.jar:git-Paper-1617]\n        ... 26 more\n\n\n已解决 方法如下:\n\n\n\n\nQQ截图20200326091624.png (227.55 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-26 09:16 上传\n\n\n\n\n\n",
    "replies": [
        {
            "author": "xmdhs",
            "timestamp": 1585184640,
            "txt_content": "尝试调高 mysql 的 wait_timeout\n\nhttps://blog.csdn.net/liuj2511981/article/details/8520912"
        },
        {
            "author": "小天铄",
            "timestamp": 1585185360,
            "txt_content": "看一下配置文件"
        }
    ]
}