{
    "title": "【萌新求助】如何写一个自定义药水的mod?",
    "author": "CharlotteSAMA",
    "replyCount": 7,
    "timestamp": 1562108340,
    "txt_content": "rt，网上的教程都是自定义药水效果，我想只用原版的药水效果，只需要自定义药水就好，求助><",
    "replies": [
        {
            "author": "3TUSK",
            "timestamp": 1562129580,
            "txt_content": "只用原版的药水效果只需要自定义药水就好\n这俩难道不是互相冲突的？“自定义”药水已经不是原版药水了啊。\n\n言归正传，假定楼主你是在开发一个基于 Minecraft 1.12.2 的 Mod，然后假定你只是想用原版的药水效果：\n// 0 级饥饿（实际显示 1 级），持续 0 tick\nnew PotionEffect(MobEffects.HUNGER);\n// 0 级饥饿，持续 1200 tick（1 分钟）\nnew PotionEffect(MobEffects.HUNGER, 1200);\n// 2 级饥饿（实际显示 3 级），持续 1200 ticks\nnew PotionEffect(MobEffects.HUNGER, 1200, 2);\n// 2 级饥饿，持续 1200 tick，true 代表来自周围环境效果（原版信标等），false 代表无粒子效果\nnew PotionEffect(ModEffects.HUNGER, 1200, 2, true, false);复制代码"
        },
        {
            "author": "CharlotteSAMA",
            "timestamp": 1562130480,
            "txt_content": "u.s.knowledge 发表于 2019-7-3 12:53\n这俩难道不是互相冲突的？“自定义”药水已经不是原版药水了啊。\n\n言归正传，假定楼主你是在开发一个基于 ...\n谢谢回复!!><，还有就是药水是item还是food类的，因为看到其他mod似乎在药水的代码中写的是public static food()，然后使用完的代码是onfoodEaten所以不知道药水的代码到底是怎样(表达能力差真的非常抱歉orz"
        },
        {
            "author": "CharlotteSAMA",
            "timestamp": 1562130720,
            "txt_content": "u.s.knowledge 发表于 2019-7-3 12:53\n这俩难道不是互相冲突的？“自定义”药水已经不是原版药水了啊。\n\n言归正传，假定楼主你是在开发一个基于 ...\n然后我想说的是网上的关于药水的教程都是教如何自定义全新的药水效果，而我只想用原版的药水效果来自定义药水，所以有些不懂><(为我的语言组织能力再次道歉orz"
        },
        {
            "author": "3TUSK",
            "timestamp": 1562131260,
            "txt_content": "CharlotteSAMA 发表于 2019-7-3 13:08\n谢谢回复!!>\n这个问题有点复杂。有三个和药水相关的类，它们的名字（不论是游戏内的叫法、翻译成中文后的叫法还是 MCP 名）也是混乱至极：\n药水效果是 PotionEffect，药水效果的类型是 Potion，而药水物品的类型是 PotionType。\n\nPotion 和 PotionEffect 之间的关系相当于 Item 和 ItemStack 之间的关系。\nPotionType 之于原版药水这个物品（Items.POTIONITEM）相当于 Enchantment 之于原版附魔书（Items.ENCHANTMENT_BOOK）。\n原版药水物品的类型是 Item。\n\n给某个生物实体加药水效果：\n// srg func_70690_d\nentityLivingBase.addPotionEffects(new PotionEffect(MobEffects.REGENERATION, 1200, 1);复制代码\n\n拿到代表原版水瓶的 ItemStack：\nPotionUtils.addPotionToItemStack(new ItemStack(Items.POTIONITEM), PotionTypes.WATER);复制代码"
        },
        {
            "author": "CharlotteSAMA",
            "timestamp": 1562131500,
            "txt_content": "u.s.knowledge 发表于 2019-7-3 13:21\n这个问题有点复杂。有三个和药水相关的类，它们的名字（不论是游戏内的叫法、翻译成中文后的叫法还是 MCP  ...\n谢谢大佬!!"
        },
        {
            "author": "CharlotteSAMA",
            "timestamp": 1562131680,
            "txt_content": "u.s.knowledge 发表于 2019-7-3 13:21\n这个问题有点复杂。有三个和药水相关的类，它们的名字（不论是游戏内的叫法、翻译成中文后的叫法还是 MCP  ...\n还有一个小问题，如何使物品在使用后数量-1呢，我用public ItemStack onItemUseFinish却没用orz(万分感谢\n\n\n\n\n\n\n152523n8mh8j3hp8b2q9k3.png\n(265.46 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-7-3 13:27 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "3TUSK",
            "timestamp": 1562132820,
            "txt_content": "CharlotteSAMA 发表于 2019-7-3 13:28\n还有一个小问题，如何使物品在使用后数量-1呢，我用public ItemStack onItemUseFinish却没用orz(万分感谢 ...\nonItemUseFinish 是原版食物、药水瓶、弓这样的物品在“玩家松开使用键”（默认鼠标右键）的一瞬间调用的。你可以试试把那个 shrink(1) 改到 onItemRightClick 里。"
        }
    ]
}