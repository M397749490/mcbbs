{
    "title": "[求助]关于权限控制的数据架构设计问题",
    "author": "912628490",
    "replyCount": 4,
    "timestamp": 1583082060,
    "txt_content": " 本帖最后由 912628490 于 2020-3-2 08:08 编辑 \n\n非常感谢你点击进来\n最近在开发一个插件时遇到了一些问题，需求是每个节点单独控制每个标记中的玩家名单(这句表达不清楚 可以忽略)\n节点、标记、玩家的关系：\n一个节点包含若干个标记(定长)，每个标记中包含若干个玩家的UUID(不定长)\n标记包含的数据存在增减操作\n\n\n\n\nQQ截图20200302003313.png (32.19 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-2 00:34 上传\n\n\n\n\n\n除此之外 我们又有多个节点(1k+)，也存在节点的增减\n拟用MYSQL储存数据，尝试过一个节点为一条数据、一种标记为一个字段，然后将玩家的UUID用分隔符隔开储存，但是认为这样效率很低，出错风险也很大。\n\n节点需储存的数据:唯一ID、别称、标记(多个)\n标记需储存的数据:玩家UUID(多个)玩家的UUID可以重复出现在任意节点的任意标记中，即玩家A可以出现在节点1.标记1中也可以出现在节点1.标记2或节点2.标记1\n\n问题一：想知道有没有更好的架构可以满足需求且效率有提升\n问题二：如果标记是不定长的(存在增减但每个节点包含的标记总是相同)，是否仍有较好的架构可以满足上述条件同时保证一定效率\n限定：可以使用多张表、内存不能够缓存所有数据\n\n再次感谢你能读到这里，如果你有解决方案或想法，望能得到你的回复。\n如果你也遇到类似问题，欢迎回帖讨论。\n\n谢谢！\n\n\n",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1583083800,
            "txt_content": "不太清楚楼主表达的具体问题\n假设节点不是无限多或者不是非常多可以一个节点一张表\n或者玩家也可以储存在单独的一张表中,内含什么节点或者什么标记的索引?"
        },
        {
            "author": "912628490",
            "timestamp": 1583109300,
            "txt_content": "a8105 发表于 2020-3-2 01:30\n不太清楚楼主表达的具体问题\n假设节点不是无限多或者不是非常多可以一个节点一张表\n或者玩家也可以储存在单 ...\n感谢回答\n应该是我表达不够清晰我稍后改一改\n节点数量在1k个以上并且会有继续增加的可能\n你提到的两个方法都很新颖，不过当某个标记要删除玩家的时候，方法二可能效率相对较低(因为一个玩家可能出现在不止一个标记中)"
        },
        {
            "author": "Karlatemp",
            "timestamp": 1583226720,
            "txt_content": "uuid，可以转换为两个long/4个int类型，共128bit/16byte\n\n你可以另外创建一个表存储玩家和节点的关系表在进行处理"
        },
        {
            "author": "912628490",
            "timestamp": 1583391360,
            "txt_content": "Karlatemp 发表于 2020-3-3 17:12\nuuid，可以转换为两个long/4个int类型，共128bit/16byte\n\n你可以另外创建一个表存储玩家和节点的关系表在进 ...\n感谢回答\n由于玩家会重复出现不同的节点和标记中 我再斟酌一下 谢谢你"
        }
    ]
}