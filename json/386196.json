{
    "title": "怎么实现结界？ 持有指定物品通过",
    "author": "南柯郡守",
    "replyCount": 13,
    "timestamp": 1421470380,
    "txt_content": "RT  求教如何实现{:10_524:}",
    "replies": [
        {
            "author": "215635430",
            "timestamp": 1421470560,
            "txt_content": "话说没有这样的MOD和插件吧...."
        },
        {
            "author": "南柯郡守",
            "timestamp": 1421470740,
            "txt_content": "215635430 发表于 2015-1-17 12:56\n话说没有这样的MOD和插件吧....\n{:10_495:} 可不可以设定某片区域只有持指定物品才能进去？"
        },
        {
            "author": "tzm123456",
            "timestamp": 1421472840,
            "txt_content": "969756790 发表于 2015-1-17 12:59\n可不可以设定某片区域只有持指定物品才能进去？\nhttp://www.mcbbs.net/forum.php?m ... =%E7%AB%8B%E5%9C%BA"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1421473680,
            "txt_content": "tzm123456 发表于 2015-1-17 13:34\nhttp://www.mcbbs.net/forum.php?mod=viewthread&tid=337127&highlight=%E7%AB%8B%E5%9C%BA\n{:10_522:} 又大又丑，还那么明显 而且还是mod~~  我想的是插件检测玩家背包里是否有指定物品 然后允许通过"
        },
        {
            "author": "1357373363",
            "timestamp": 1421539080,
            "txt_content": "到达某地后，检测背包，for（那啥。。忘了）｛\nif（item.getType）='所需物品'｛\n需要发生的事情\n｝\n｝"
        },
        {
            "author": "shifou",
            "timestamp": 1421770500,
            "txt_content": "我也不知道，看下楼"
        },
        {
            "author": "Knkiss",
            "timestamp": 1433037420,
            "txt_content": " 本帖最后由 baiyulong 于 2015-5-31 18:40 编辑 \n\n@EventHandler\n    public void onPlayerMove(PlayerMoveEvent event){                                                   //判定移动\n                Player p=event.getPlayer();                                                           \n                ItemStack i=new ItemStack(Material.DIAMOND);                             //设定指定物品类型\n                if(p.getLocation().getX()>110.0&&p.getLocation().getX()<120.0&&p.getLocation().getY()>60&&p.getLocation().getY()<65){  //设定结界\n                        if(!(p.getInventory().getItemInHand==i)){                            //不含有指定物品\n                                int X=(int) (p.getLocation().getX()-3.0);          //定义禁止进入后玩家传送到的坐标\n                                int Y=(int) p.getLocation().getY();\n                                int Z=(int) p.getLocation().getZ();\n                                Block b=p.getWorld().getBlockAt(X,Y,Z);            //获得完整Location\n                                p.teleport(b.getLocation());                               //传送到安全地\n                                p.sendMessage(\"You don't hava a Diamond\");  //发送警告\n                        }\n                }\n        }\n\n"
        },
        {
            "author": "t9044",
            "timestamp": 1433051880,
            "txt_content": "baiyulong 发表于 2015-5-31 09:57\n@EventHandler\n    public void onPlayerMove(PlayerMoveEvent event){                                   ...\n正解~~~~"
        },
        {
            "author": "Knkiss",
            "timestamp": 1433052240,
            "txt_content": "t9044 发表于 2015-5-31 13:58\n正解~~~~\n兄弟 你也是自己做插件？"
        },
        {
            "author": "t9044",
            "timestamp": 1433065380,
            "txt_content": "baiyulong 发表于 2015-5-31 14:04\n兄弟 你也是自己做插件？\n嗯,有时候会做一些功能性的插件"
        },
        {
            "author": "t9044",
            "timestamp": 1433065500,
            "txt_content": "baiyulong 发表于 2015-5-31 09:57\n@EventHandler\n    public void onPlayerMove(PlayerMoveEvent event){                                   ...\n不过楼主说的是要手持某个物品.\np.getInventory().contains(i))改成Itemhand吧"
        },
        {
            "author": "Knkiss",
            "timestamp": 1433068680,
            "txt_content": "t9044 发表于 2015-5-31 17:45\n不过楼主说的是要手持某个物品.\np.getInventory().contains(i))改成Itemhand吧\n谢谢提醒~"
        },
        {
            "author": "HotFlow",
            "timestamp": 1433084820,
            "txt_content": "PlayerMoveEvent"
        }
    ]
}