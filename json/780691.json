{
    "title": "[原版箱子菜单]",
    "author": "Huge_Black",
    "replyCount": 8,
    "timestamp": 1518241260,
    "txt_content": " 本帖最后由 wkqi 于 2018-2-10 22:20 编辑 \n\n相信各位曾经在服务器里都见过这个时钟菜单我曾经发过一个固定的箱子菜单,可问题是这个是固定的\n于是我就研究了个可随身携带的（拿着指定物品左键即可打开）\n效果图：\n\n先是配置教程\n先下载：\n\n\n\nHBCommand.rar\n(4.16 KB, 下载次数: 48)\n\n\n\n2018-2-10 13:38 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n下载完后解压并放在\"\\世界名\\data\\functions\\HBCommand\"\n打开后会看到下列文件：\n\n首先修改CustomMenu_Summon.mcfunction：\n修改方法：修改Items:[]内的内容来修改菜单，格式为nbt（会写nbt的dalao可以直接跳过此段）（其余不要修改）\n格式(放大看)：\n\n关于Slot的参考：\n\n然后修改CustomMenu_Summon.mcfunction，修改内容要和上述内容一致，同样修改Items:[]中内容\n\n然后打开Commands文件夹，你会看到2个预置的文件（可以删除）\n创建一个文件slot<对应的物品的格子>.mcfunction并在里面编写指令，然后保存为UTF-8无签名格式\n（你也可以不为某个格子编写指令，那样可以用来装饰你的菜单，例如那个服务器的例子，上面一排除了右边的玻璃板外都没有用）\n（你甚至可以使用@s来选定点击的玩家）\n\n修改ClearItem.mcfunction\n格式：\nclear @a minecraft:你希望的物品 0 64 {MenuItem:1b}\n(由于mc限制，请手动历遍所有菜单中的物品id）\n\n（可选）修改ActionBarText.mcfunction：\n这里内置了玩家手持菜单（钟）在行为栏（actionbar）显示的文字，可进行修改\n\n然后进入游戏（如果已经在运行了，输入/reload加载函数）\n再输入/function hbcommand:system/init把手中的命令方块放在地上来启用。\n\nTips：可使用§+颜色（和格式）id来修改字体颜色（和格式）\n\n\n然后是原理\n\n好啦，其实就是用一个箱子矿车往玩家脸上糊，然后玩家点击即可打开菜单。\n至于如何判断玩家是否点击：\n（lz这里使用了穷举，穷举每一个格子，这里列出1个）\n（@s为菜单箱子矿车）\nscoreboard players tag @s add Have0 {Items:[{Slot:0b}]}复制代码execute @s[tag=!Have0] ~ ~ ~ execute @a[tag=CartOwner] ~ ~ ~ function hbcommand:commands/slot0复制代码（不知道为什么这两条写在一个代码框里会被吃掉一个）\n就是说那个矿车有{Slot:0b}（即那格有物品）时加一个Have0标签\n如果那个矿车没有Have0则执行命令\n\n至于如何关联玩家和其对应的菜单\n我这里用了PlayerID和OwnerID计分板\n要检测时用PlayerID减去OwnerID（或者反过来）\nPlayerID为0的玩家即为拥有者。\n\n如何检测玩家不手持菜单：\nscoreboard players set @a Cart 1 {SelectedItem:{id:\"minecraft:clock\",tag:{display:{Name:\"§6§l菜单\"}}}}\nexecute @a[tag=HoldingMenu,score_Cart_min=2,score_Cart=2] ~ ~ ~ function hbcommand:system/remove\nscoreboard players set @a Cart 2 {SelectedItem:{id:\"minecraft:clock\",tag:{display:{Name:\"§6§l菜单\"}}}}\nexecute @a[tag=HoldingMenu,score_Cart_min=1,score_Cart=1] ~ ~ ~ function hbcommand:system/remove复制代码相信各位看明白了吧\n\n至于如何让矿车隐形：\n这里（演示图）用了材质包使得矿车透明\n\n\n\nresources.zip\n(26.29 KB, 下载次数: 18)\n\n\n\n2018-2-10 13:39 上传\n点击文件名下载附件\n\n\n\n\n\n\n没有材质包效果：\n\n\n好吧，就是这样，祝大家食用愉快",
    "replies": [
        {
            "author": "Huge_Black",
            "timestamp": 1518247260,
            "txt_content": "是不是有些图挂了"
        },
        {
            "author": "SevenC",
            "timestamp": 1518253380,
            "txt_content": "原理真的很巧妙_(:з」∠)_"
        },
        {
            "author": "Huge_Black",
            "timestamp": 1518253500,
            "txt_content": "SevenC 发表于 2018-2-10 17:03\n原理真的很巧妙_(:з」∠)_\n其实是某天在服务器里的废矿里搜刮运输矿车的时候想到的_(:з」∠)_"
        },
        {
            "author": "SevenC",
            "timestamp": 1518253560,
            "txt_content": "wkqi 发表于 2018-2-10 17:05\n其实是某天在服务器里的废矿里搜刮运输矿车的时候想到的_(:з」∠)_\n可以研究一个蝙蝠顶着箱子然后跟随玩家的便携背包_(:з」∠)_"
        },
        {
            "author": "SPGoding",
            "timestamp": 1518253860,
            "txt_content": "第一个折叠里好像少了几张图…敏感词会不会是“钦定”啊XD\nChestCommnd有了，接下来dalaos会选择mcfunctionify哪个插件呢【逃"
        },
        {
            "author": "Huge_Black",
            "timestamp": 1518254040,
            "txt_content": "SPGoding 发表于 2018-2-10 17:11\n第一个折叠里好像少了几张图…敏感词会不会是“钦定”啊XD\nChestCommnd有了，接下来dalaos会选择mcfunction ...\n最近瞄上了箱子商店"
        },
        {
            "author": "Yi_Xin_Yi",
            "timestamp": 1572750120,
            "txt_content": "多人用有bug，如果两个人同时用的话，其中一个人的菜单要传送到另一个正在使用的玩家"
        },
        {
            "author": "红ddd玖",
            "timestamp": 1572796200,
            "txt_content": "不做白给，从我做起{狗头保命}"
        }
    ]
}