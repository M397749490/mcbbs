{
    "title": "如何将物品存入数据库当中",
    "author": "Drunker",
    "replyCount": 5,
    "timestamp": 1575538860,
    "txt_content": "如何将物品存入数据库当中",
    "replies": [
        {
            "author": "huanmeng_cn",
            "timestamp": 1575545220,
            "txt_content": "数据库不清楚，不过我知道config可以获取ItemStack\ngetConfig().getItemStack(\"Item\");复制代码"
        },
        {
            "author": "wangmcptr",
            "timestamp": 1575550440,
            "txt_content": "存nbt，itemstack.tostring，恢复的话我就不知道了，我用的是另一种方法，比较麻烦主要为了能跨版本，就不误导你了"
        },
        {
            "author": "Lao_Ge",
            "timestamp": 1575553800,
            "txt_content": "谢谢，这个对我很有帮助"
        },
        {
            "author": "Bryan33",
            "timestamp": 1575555540,
            "txt_content": "如果你肯使用ProtocolLib的话\n可以使用这个方法把ItemStack序列化成字符串储存\n再使用这个反序列化回来"
        },
        {
            "author": "1257375501",
            "timestamp": 1575597720,
            "txt_content": "package com.germ.germplayer.Util;\n\nimport org.bukkit.inventory.*;\nimport org.yaml.snakeyaml.external.biz.base64Coder.*;\nimport org.bukkit.util.io.*;\nimport java.io.*;\nimport com.allatori.annotations.*;\n\npublic class Item\n{\n    public static String toBase64(final ItemStack itemStack) {\n        try {\n            final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n            final BukkitObjectOutputStream dataOutput = new BukkitObjectOutputStream((OutputStream)outputStream);\n            dataOutput.writeObject((Object)itemStack);\n            dataOutput.close();\n            return Base64Coder.encodeLines(outputStream.toByteArray());\n        }\n        catch (Exception e) {\n            throw new IllegalStateException(\"Unable to save item stacks.\", e);\n        }\n    }\n    \n    public static ItemStack fromBase64(final String data) throws IOException {\n        try {\n            final ByteArrayInputStream inputStream = new ByteArrayInputStream(Base64Coder.decodeLines(data));\n            final BukkitObjectInputStream dataInput = new BukkitObjectInputStream((InputStream)inputStream);\n            final ItemStack itemStack = (ItemStack)dataInput.readObject();\n            dataInput.close();\n            return itemStack;\n        }\n        catch (ClassNotFoundException e) {\n            throw new IOException(\"Unable to decode class type.\", e);\n        }\n    }\n}\n"
        }
    ]
}