{
    "title": "[安全|网页]WebLogin V2——连接到你的服务器来外置登录+联锁封号[开源][1.7.10~1.8]",
    "author": "无名智者",
    "replyCount": 25,
    "timestamp": 1454321520,
    "txt_content": " 本帖最后由 1582952890 于 2017-9-16 21:11 编辑 \n\nWebLoginV2.0：现已加入联锁封号（封号通知服务器）！\n\n这是什么当玩家尝试连接到服务器时，插件会自动向你填写的服务器POST数据当服务器返回特定消息的时候，允许或者拒绝玩家登录（默认消息为<[AccessOK]>，其他消息将作为踢出玩家所显示的信息）\n\n\n\n\n\nQQ截图20160201180346.png (54.75 KB, 下载次数: 54)\n\n下载附件\n\n2016-2-1 18:12 上传\n\n\n\n\n\n当玩家尝试连接到服务器时，插件会自动向你填写的服务器POST数据当服务器返回特定消息的时候，允许或者拒绝玩家登录（默认消息为<[AccessOK]>，其他消息将作为踢出玩家所显示的信息）该插件也支持/ban和/unban指令，当你输入这些命令时，插件会自动提交一些数据到你指定的服务器 1.7.10以下版本未测试，如果能用的话请告知灵感来源于Beelogin，向其作者致谢\n它有什么优势\n\n1.更安全比起传统的CrazyLogin之类的进游戏后再登录的插件，他更安全众所周知，CL无法拦截MOD发送的数据包，比如NEI（没登录也能修改世界时间之类的）2.更开放WebLogin只是个服务端，一切验证行为都由目标网页端完成，WebLogin几乎不参与交互比如MoeCraft设计的“按一下按钮登录”3.功能强大它会向服务端提交 玩家名称，IP，UUID，时间 信息支持密码验证支持自定义消息（支持显示网页端给出的消息）当网页端服务器宕机时，可以设置是否允许玩家直接登录（此时可以使用Crazylogin等传统插件）\n用法\n1.命令/weblogin 显示插件帮助/weblogin reload 重载插件设置/wban 使用weblogin封禁玩家/wunban 使用weblogin解除封禁玩家/ban 使用weblogin封禁玩家. 选项 rewriteBanCommand 为 true 时可用/unban 使用weblogin解除封禁玩家. 选项 rewriteBanCommand 为 true 时可用\n2.权限moecraft.weblogin.command.reload\n允许重载插件，OP默认拥有3.POST数据说明[\n    'name', //玩家名\n    'uuid, //UUID\n    'ip', //玩家IP\n    'time', //服务器时间（UNIX时间戳）\n    'pwd', //你设置的密码\n    'mac', //MAC地址(感谢Luxcoldury)\n]复制代码\n\n范例：( 来自PHP的print_r() )Array\n(\n [name] => Kenvix\n [uuid] => 922328d2-6a01-33f7-b636-a8f5aacc9795\n [ip] => 127.0.0.1\n [time] => 1454318534931\n [pwd] => helloworld\n)复制代码Web Ban 网页连锁封号[\n    'name', //Target player name\n    'sender', //The player who want to ban/unban the target player\n    'reason', //Ban/unban reason\n    'action', //Give 0 for ban action, give 1 for unban action\n    'time', //Server time (UNIX Timestamp)\n    'pwd', //Server Password\n]复制代码\n\n\n4.插件配置文件说明\n# 登录成功/封号成功时服务器给出的消息。当服务器给出这个消息的时候允许玩家登录\nsuccessMsg: '<[AccessOK]>'\n\n# 服务器密码（POST的pwd项）\npwd: 'helloworld'\n\n###########################外部网页登录设置#####################################\n# 目标服务器地址\nurl: 'http://localhost/weblogin.php'\n\n# 是否启用外部网页登录\nenableWebLogin: true\n\n\n\n# 自定义踢出消息？ true表示显示服务器发出的消息。警告：服务器给出空消息表示服务器宕机！\ncustomKickMsg: true\n\n# 踢出玩家所显示的消息，当开启自定义踢出消息时不可用\nkickMsg: 'Access denied.'\n\n# 是否要在服务器宕机时重试？输入重试次数\nretryIfServerOffline: 5\n\n# 如果服务器宕机，是否不要踢出玩家？\nnoKickIfServerOffline: false\n\n# 是否在发生致命错误时踢出玩家？\nkickIfWebloginError: true\n# 发生致命错误时踢出玩家的消息\nkickIfWebloginErrorMessage: 'SERVER ERROR'\n########################################################################################\n\n############################# 网页连锁封号的设置 #####################################\n# 网页连锁封号的目标服务器地址\nbanUrl: 'http://localhost/wenban.php'\n\n# 启用网页连锁封号？\nenableWebBan: true\n\n# 是否在成功时（给出<[AccessOK]>）踢出玩家？\nbanKickIfSuccess: true\n\n# 封号成功时踢出玩家的消息\nbanKickMessage: 'You are banned!'\n\n# 重写 /ban /unban 指令? 可能不工作\nrewriteBanCommand: true\n\n# Continue(allow other plugin to process ban command) if some fatal error happened? Unavaiable if \"rewriteBanCommand\" is \"false\"\nbanContinueIfFailed: false\n########################################################################################\n复制代码\n\n下载\n已编译版本下载:Github:https://github.com/kenvix/Minec...et.moecraft.weblogin/net.moecraft.weblogin.jarGit@OSC:https://git.oschina.net/kenv......net.moecraft.weblogin/net.moecraft.weblogin.jar代码库:Github:https://github.com/kenvix/Minecraft-WebLoginGit@OSC:https://git.oschina.net/kenvix/Minecraft-WebLogin\n计划实现服务器开关通知\n\n把文章从博客复制过来直接就没法看了，不得不说discuz的编辑器真是烂\n\n网页端自写！网页端自写！网页端自写！重要的事情说三遍！\n\n\n",
    "replies": [
        {
            "author": "孤独秋叶",
            "timestamp": 1454321760,
            "txt_content": "这玩到网页去了，不得不说楼主创意很不错，这插件在下收走了。"
        },
        {
            "author": "Innovators",
            "timestamp": 1454322000,
            "txt_content": "具体如何使用呢- -"
        },
        {
            "author": "无名智者",
            "timestamp": 1454322120,
            "txt_content": "Innovators 发表于 2016-2-1 18:20\n具体如何使用呢- -\n改好配置文件，然后写网页端。\nWeblogin只提供MC层的登陆验证，其他让网页端去做"
        },
        {
            "author": "mikexu1998",
            "timestamp": 1454325480,
            "txt_content": "密码用户在哪里填写？"
        },
        {
            "author": "mikexu1998",
            "timestamp": 1454325660,
            "txt_content": "然而这不就是个远程白名单么，，"
        },
        {
            "author": "CatSeed",
            "timestamp": 1454326320,
            "txt_content": "\n\n\n\n\n1.png (20.29 KB, 下载次数: 12)\n\n下载附件\n\n2016-2-1 19:32 上传\n\n\n\n\n\n\n\n\n2.png (43.67 KB, 下载次数: 4)\n\n下载附件\n\n2016-2-1 19:32 上传\n\n\n\n\n\n\n很巧。。我也在做。。。\n"
        },
        {
            "author": "刃起无痕",
            "timestamp": 1454327940,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "深海鲸鱼座",
            "timestamp": 1454383440,
            "txt_content": " 本帖最后由 lj2000lj 于 2016-2-2 11:30 编辑 \n\n真巧 吾辈也有个做完的\n看吾辈签名档就晓得了233\n以及事实上ip在很大程度上受到大内网的影响\n常导致网页端获得的ip与服务器获得的不同"
        },
        {
            "author": "Jovel",
            "timestamp": 1454383980,
            "txt_content": "那么网页端呢"
        },
        {
            "author": "Jovel",
            "timestamp": 1454384040,
            "txt_content": "其次Sponge实测不可用"
        },
        {
            "author": "mikexu1998",
            "timestamp": 1455074760,
            "txt_content": "您好，我之前发了一个pr，然后被merge了，现在突然想起来java文件里package没改回来，您检查一下，，另外我现在在做一个服务器的准备，希望能得到一些指教，也希望您能来我们服务器光顾，我们的网站地址是www.wanderforest.com"
        },
        {
            "author": "无名智者",
            "timestamp": 1455079860,
            "txt_content": "mikexu1998 发表于 2016-2-10 11:26\n您好，我之前发了一个pr，然后被merge了，现在突然想起来java文件里package没改回来，您检查一下，，另外我 ...\n我已经改回来了"
        },
        {
            "author": "v_sky",
            "timestamp": 1455080040,
            "txt_content": "实际上建议得折腾一下https，万一熊孩子来个劫持那就神作了233"
        },
        {
            "author": "翼LOVE·小爱",
            "timestamp": 1455092580,
            "txt_content": "太复杂了吧 还要网页端 你在打击我们这些小学生吗？Q^Q {:10_522:}"
        },
        {
            "author": "mikexu1998",
            "timestamp": 1455241140,
            "txt_content": "lj2000lj 发表于 2016-2-2 11:24\n真巧 吾辈也有个做完的\n看吾辈签名档就晓得了233\n以及事实上ip在很大程度上受到大内 ...\n我提交的mac地址验证PR已经得到了MERGE，敬请下载编译"
        },
        {
            "author": "无名智者",
            "timestamp": 1480137060,
            "txt_content": "V2.0已发布！"
        },
        {
            "author": "Maple_Lemon",
            "timestamp": 1484550780,
            "txt_content": "楼主能教我吗，实在是看不懂qwq"
        },
        {
            "author": "a942575106",
            "timestamp": 1484562000,
            "txt_content": "每天水一水 身体会更健康"
        },
        {
            "author": "zcdl",
            "timestamp": 1503131340,
            "txt_content": "看得我一脸懵逼啊，楼主就不能讲解详细一点，这网页端怎么写起码给个教程"
        },
        {
            "author": "真版2012",
            "timestamp": 1505698920,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Ghostxy",
            "timestamp": 1507101720,
            "txt_content": "不会使用啊"
        },
        {
            "author": "pokexove",
            "timestamp": 1549464120,
            "txt_content": "        很棒的作品！"
        },
        {
            "author": "MC_XO",
            "timestamp": 1563221640,
            "txt_content": "收藏了留着备用"
        },
        {
            "author": "し不懂丶装懂つ",
            "timestamp": 1590733500,
            "txt_content": "mcbbs有你更精彩"
        },
        {
            "author": "q553006875",
            "timestamp": 1595344500,
            "txt_content": "让熊孩子无路可进服"
        }
    ]
}