{
    "title": "GlobalShop经济支持调用init时挂了...",
    "author": "Wei_Boss",
    "replyCount": 2,
    "timestamp": 1502435340,
    "txt_content": "代码:package com.WeiBoss.GlobalShopPointsAPI;\n\nimport com.github.a810587921.GlobalShop.API.MoneyAPI;\nimport me.BukkitPVP.PointsAPI.PointsAPI;\nimport org.bukkit.Bukkit;\nimport org.bukkit.configuration.file.YamlConfiguration;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.ItemMeta;\n\nimport java.io.File;\n\n/**\n * Created by admin on 2017/8/11.\n */\npublic class Main extends MoneyAPI {\n    private String name;\n    private double tax;\n    private ItemStack texture;\n    private PointsAPI points;\n    private YamlConfiguration config;\n    public void init(){\n        File configFile = new File(getDataFolder(),\"config.yml\");\n        config = new YamlConfiguration();\n        if (!getDataFolder().exists()){\n            getDataFolder().mkdirs();\n        }\n        saveDefaultConfig();\n        config = YamlConfiguration.loadConfiguration(configFile);\n        this.name = config.getString(\"Name\");\n        this.tax = config.getDouble(\"Tax\");\n        String idStr = config.getString(\"Texture\");\n        int id = 0;\n        int dur = 0;\n        if (!idStr.contains(\":\"))\n        {\n            id = Integer.parseInt(idStr);\n        }\n        else\n        {\n            String[] a = idStr.split(\":\");\n            id = Integer.parseInt(a[0]);\n            dur = Integer.parseInt(a[1]);\n        }\n        String color = config.getString(\"TextureColor\").replace(\"&\", \"§\");\n        this.texture = new ItemStack(id, 1, (short)dur);\n        ItemMeta meta = this.texture.getItemMeta();\n        meta.setDisplayName(color + getName());\n        this.texture.setItemMeta(meta);\n        setupPoints();\n    }\n    public void disable() {}\n    private boolean setupPoints(){\n        if (Bukkit.getPluginManager().getPlugin(\"PointsAPI\") == null){\n            return false;\n        }\n        this.points = (PointsAPI)Bukkit.getPluginManager().getPlugin(\"PointsAPI\");\n        return true;\n    }\n    public boolean addMoney(String p,int money){\n        points.addPoints(Bukkit.getPlayerExact(p),money);\n        return true;\n    }\n    public boolean setMoney(String p,int money){\n        points.setPoints(Bukkit.getPlayerExact(p),money);\n        return true;\n    }\n    public boolean delMoney(String p,int money){\n        points.removePoints(Bukkit.getPlayerExact(p),money);\n        return true;\n    }\n    public int getMoney(String p){\n        return points.getPoints(Bukkit.getPlayerExact(p));\n    }\n    public boolean hasMoney(String p,int money){\n        return points.getPoints(Bukkit.getPlayerExact(p)) >= money;\n    }\n    public int getBuyMoney(int amount){\n        return (int)(amount - amount * this.tax);\n    }\n    public boolean hasEnable(){\n        return this.points != null;\n    }\n    public ItemStack getTexture(){\n        return this.texture;\n    }\n    public String getName(){\n        return this.name;\n    }\n}复制代码\n报错:\n[15:00:43] [Server thread/WARN]: java.lang.NullPointerException\n[15:00:43] [Server thread/WARN]:         at java.io.Reader.<init>(Reader.java:78)\n[15:00:43] [Server thread/WARN]:         at java.io.InputStreamReader.<init>(InputStreamReader.java:72)\n[15:00:43] [Server thread/WARN]:         at com.github.a810587921.GlobalShop.Main.IiiiiIiiiI(x:501)\n[15:00:43] [Server thread/WARN]:         at com.github.a810587921.GlobalShop.Main.onEnable(x:71)\n[15:00:43] [Server thread/WARN]:         at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:271)\n[15:00:43] [Server thread/WARN]:         at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:316)\n[15:00:43] [Server thread/WARN]:         at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:407)\n[15:00:43] [Server thread/WARN]:         at com.rylinaux.plugman.util.PluginUtil.load(PluginUtil.java:366)\n[15:00:43] [Server thread/WARN]:         at com.rylinaux.plugman.util.PluginUtil.load(PluginUtil.java:318)\n[15:00:43] [Server thread/WARN]:         at com.rylinaux.plugman.util.PluginUtil.reload(PluginUtil.java:380)\n[15:00:43] [Server thread/WARN]:         at com.rylinaux.plugman.command.ReloadCommand.execute(ReloadCommand.java:122)\n[15:00:43] [Server thread/WARN]:         at com.rylinaux.plugman.PlugManCommandHandler.onCommand(PlugManCommandHandler.java:95)\n[15:00:43] [Server thread/WARN]:         at org.bukkit.command.PluginCommand.execute(PluginCommand.java:44)\n[15:00:43] [Server thread/WARN]:         at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:151)\n[15:00:43] [Server thread/WARN]:         at org.bukkit.craftbukkit.v1_11_R1.CraftServer.dispatchCommand(CraftServer.java:675)\n[15:00:43] [Server thread/WARN]:         at org.bukkit.craftbukkit.v1_11_R1.CraftServer.dispatchServerCommand(CraftServer.java:638)\n[15:00:43] [Server thread/WARN]:         at net.minecraft.server.v1_11_R1.DedicatedServer.aM(DedicatedServer.java:441)\n[15:00:43] [Server thread/WARN]:         at net.minecraft.server.v1_11_R1.DedicatedServer.D(DedicatedServer.java:404)\n[15:00:43] [Server thread/WARN]:         at net.minecraft.server.v1_11_R1.MinecraftServer.C(MinecraftServer.java:763)\n[15:00:43] [Server thread/WARN]:         at net.minecraft.server.v1_11_R1.MinecraftServer.run(MinecraftServer.java:661)\n[15:00:43] [Server thread/WARN]:         at java.lang.Thread.run(Thread.java:745)复制代码\n@810587921 I need help XP",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1502475840,
            "txt_content": "不要使用unload和load等其他插件的指令\n以使用stop再开启时的运行状态为准←_←"
        },
        {
            "author": "Wei_Boss",
            "timestamp": 1502601900,
            "txt_content": "810587921 发表于 2017-8-12 02:24\n不要使用unload和load等其他插件的指令\n以使用stop再开启时的运行状态为准←_← ...\nok,解决了\n但是为什么这个变量显示的信息不一样\n\n\n\n\n\n\nQQ图片20170813131929.png\n(2.36 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2017-8-13 13:25 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQQ图片20170813131951.png\n(1.47 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2017-8-13 13:25 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQQ图片20170813132038.png\n(4.58 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2017-8-13 13:25 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQQ图片20170813132116.png\n(6.3 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2017-8-13 13:25 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        }
    ]
}