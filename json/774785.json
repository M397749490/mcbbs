{
    "title": "[求助]事件监听器问题 1.获取玩家MOD列表2.检测是否钓鱼",
    "author": "元路",
    "replyCount": 7,
    "timestamp": 1515591540,
    "txt_content": "我用的是[水龙头核心]spigot-1.11.2-R0.1-SNAPSHOT.jar的jar包\n\n\n我的第一个问题\n我想判断玩家是否使用某个名称的MOD进入服务器\n请问有什么事件可以做到吗？还是我需要换一种包导入？\n\n我的第二个问题\n还有一个问题 我需要检测一下玩家是否正在钓鱼，但是似乎只有一个PlayerFishEvent监听器，没法区分玩家是否正在钓鱼，需要添加什么？\n\n谢谢\n\n",
    "replies": [
        {
            "author": "Ir.Nep",
            "timestamp": 1515594660,
            "txt_content": " 本帖最后由 qzz740827 于 2018-1-10 22:43 编辑 \n\n很惭愧水平有限，我只能回答第二个问题\n\n\nprivate HashMap<Player, Entity> hooks;\n\npublic XXClass(){\n        this.hooks = new HashMap<>();\n}\n\n@EventHandler\npublic void onProjectileLaunch(ProjectileLaunchEvent e){\n        ProjectileSource source =  ((Projectile)e.getEntity()).getShooter();\n        if(e.getEntityType() == EntityType.FISHING_HOOK && source instanceof Player){\n                hooks.put((Player)source, e.getEntity());\n        }\n}\n\npublic boolean isPlayerFishing(Player p){\n        return hooks.containsKey(p) ? hooks.get(p).isValid() : false;\n}\n复制代码"
        },
        {
            "author": "元路",
            "timestamp": 1515756840,
            "txt_content": "qzz740827 发表于 2018-1-10 22:31\n很惭愧水平有限，我只能回答第二个问题\n请问\n\nprivate HashMap<Player, Entity> hooks;\nthis.hooks = new HashMap<>();\n\n是什么意思呢？"
        },
        {
            "author": "ddyy163",
            "timestamp": 1515757740,
            "txt_content": "关于mod列表 我只知道bc插件可以直接获取到mod列表"
        },
        {
            "author": "Ir.Nep",
            "timestamp": 1515758760,
            "txt_content": "lilanxiao 发表于 2018-1-12 19:34\n请问\n\nprivate HashMap hooks;\nJava有一种东西叫做Map\n学校电脑老师称他为映射表\nHashMap就是映射表\n点这百度告诉你怎么使用\n\n\n//声明一个只有该类可以调用的映射表变量hooks\nprivate HashMap<Player, Entity> hooks;\n//初始化[color=Red]该实例[/color]的变量hooks\nthis.hooks = new HashMap<>();复制代码"
        },
        {
            "author": "元路",
            "timestamp": 1515766080,
            "txt_content": "qzz740827 发表于 2018-1-12 20:06\nJava有一种东西叫做Map\n学校电脑老师称他为映射表\nHashMap就是映射表\n看了看 我觉得因该是用Map<Player, Entity> hook = new HashMap<Player, Entity>();啊"
        },
        {
            "author": "Lss233",
            "timestamp": 1515768060,
            "txt_content": "lilanxiao 发表于 2018-1-12 22:08\n看了看 我觉得因该是用Map hook = new HashMap();啊\nJava1.7特性，这两者是等价的。\n点击这里阅读更多\n拓展阅读"
        },
        {
            "author": "元路",
            "timestamp": 1515768300,
            "txt_content": "Lss233 发表于 2018-1-12 22:41\nJava1.7特性，这两者是等价的。\n点击这里阅读更多\n拓展阅读\nemm，谢了"
        }
    ]
}