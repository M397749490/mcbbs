{
    "title": "实战 小白修复错误区块",
    "author": "ARALE",
    "replyCount": 3,
    "timestamp": 1446752880,
    "txt_content": " 本帖最后由 ARALE 于 2015-11-6 03:54 编辑 \n\n相信对于各位服主，最头痛的莫过于区块错误问题，导致客户端闪退严重甚至于崩服，各种区块错误的修复无外乎重置/回档区域重新生成，但是那样会导致很多东西被重置（地图文件一个区块文件是512*512格），给玩家造成损失/造成玩家流失，而且操作性很麻烦（各种指令，选区，而最大的问题就是选区）。\n今天，稳定运营3个月有足的服务器突然出现错误区块\n下面分享一下我的修复过程供各位参考（我并不是大神，方法或许大神看不上也不要见笑）\n首先，有玩家表示游戏崩溃并提供了坐标\n我以为是个例，然后用seen指令获取了该玩家坐标\n位于-347，+292附近\ntp到这个坐标之后我的客户端也崩溃了，于是确定该处出现区块错误\n经过计算该区块文件是r.-1.0.mca\n首先，我们先备份一下服务器\n如果是资源地图那么可以直接关服删除这个文件再开机\n但是这个是问题是在地皮区域出现，我服玩家都是居住于地皮（地皮大小64*64，街道宽9），删除区块文件会导致7*7块地皮被重置，所以不能这样干，只能进行修复\n将这个区块文件下载至本地\n使用地图编辑器打开，逛了一圈，发现土豪家也在这个区域，更不能直接删除了。\n修复错误区块其实就是删除导致错误的方块，问题就在于找到这个方块\n这里我使用的就是排除法。\n地皮有一点好处就是格子已经画出来了\n如果不是地皮\n可以在地图编辑器的显示选项中勾选显示区块边缘\n\n这样我们就有了参考线方便用于做排除法。\n我错误区块的地图是地皮，所以直接就数地皮了。\n区域内地皮分布为7*7，我一次性删除1*7区域地皮（框选整个区域从天上到地下删除区域方块、实体）\n然后点击保存，将文件上传至服务器开启。\n登陆游戏，崩溃  \n明显错误不是在这个1*7区域\n重复步骤 删除到3*7区域时  游戏正常 问题解决\n将之前的存档拿回\n开始逐块删除3*7区域的地皮测试\n删除到第二块时，问题解决\n再次拿回存档，单独删除该地皮\n出问题的确定就在3,2地皮，查看了一下地皮信息，是一个被封禁的玩家，那就好办了，都不用继续排除了，直接重置。\n好了，问题完美解决\n\n",
    "replies": [
        {
            "author": "hyzgzz",
            "timestamp": 1564367880,
            "txt_content": "怎么计算=、="
        },
        {
            "author": "1522952496",
            "timestamp": 1568445180,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "phb2996690320",
            "timestamp": 1598454300,
            "txt_content": "十分有用感谢感谢"
        }
    ]
}