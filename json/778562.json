{
    "title": "WaterFall & PaperSpigot - 正版验证问题",
    "author": "Alorw",
    "replyCount": 4,
    "timestamp": 1517550600,
    "txt_content": "[服务端详细]\n\n代理服务器采用: WaterFall-164;  子服采用 Paper-1317 (Mc:1.12.2)\n两端所有插件均移除\n\n\n\n\n[配置]\n\nWaterFall -> config.yml\n\nip_forward: true\nnetwork_compression_threshold: 256\nstats: 73a1a15b-c14f-4c31-929b-d946dddce7b4\npermissions:\n  default:\n  - none\n  admin:\n  - none\ngroups:\n  Arasple:\n  - admin\nservers:\n  Lobby:\n    motd: ''\n    address: localhost:25566\n    restricted: false\ntimeout: 30000\nlisteners:\n- query_port: 25565\n  motd: ''\n  tab_list: GLOBAL_PING\n  query_enabled: false\n  proxy_protocol: false\n  forced_hosts:\n    pvp.md-5.net: pvp\n  ping_passthrough: false\n  priorities:\n  - Lobby\n  bind_local_address: true\n  host: 0.0.0.0:25565\n  max_players: 1\n  tab_size: 60\n  force_default_server: true\nprevent_proxy_connections: false\nplayer_limit: -1\nonline_mode: true\nlog_commands: false\ndisabled_commands:\n- disabledcommandhere\nconnection_throttle: 4000复制代码\n\nLobby -> server.properties\n\nspawn-protection=200\nserver-name=Lobby\ngenerator-settings=\nforce-gamemode=true\nallow-nether=false\ngamemode=2\nbroadcast-console-to-ops=true\nenable-query=false\nplayer-idle-timeout=0\ndifficulty=1\nspawn-monsters=false\nop-permission-level=4\npvp=false\nsnooper-enabled=true\nlevel-type=DEFAULT\nhardcore=false\nenable-command-block=true\nmax-players=15\nnetwork-compression-threshold=256\nresource-pack-sha1=\nmax-world-size=500\nserver-port=25566\ndebug=false\nserver-ip=127.0.0.1\nspawn-npcs=false\nallow-flight=false\nlevel-name=Lobby\nview-distance=6\nresource-pack=\nspawn-animals=false\nwhite-list=true\ngenerate-structures=false\nonline-mode=true\nmax-build-height=256\nlevel-seed=\nprevent-proxy-connections=false\nenable-rcon=false\nmotd=Lobby\n复制代码\n\nLobb -> spigot.yml ( bungee: true )\nLobb -> bukkit.yml ( settings.connection-throttle: -1 )\n\n\n\n\n\n[问题]\n\n当加入服务器时(正版), 客户端提示;\n (Server is only online mode)\nWaterFall - 控制台输出错误;\n\n[13:41:06 ERROR]: [Arasple|/127.0.0.1:27774] <-> ServerConnector [Lobby] - encountered exception\njava.lang.RuntimeException: Server is online mode!\n        at net.md_5.bungee.ServerConnector.handle(ServerConnector.java:310) ~[WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at net.md_5.bungee.protocol.packet.EncryptionRequest.handle(EncryptionRequest.java:42) ~[WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at net.md_5.bungee.netty.HandlerBoss.channelRead(HandlerBoss.java:103) ~[WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1359) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:935) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:141) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886) [WaterFall.jar:git:Waterfall-Bootstrap:1.12-SNAPSHOT:82e5f37:164]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_151]复制代码\nLobby - 控制台输出信息\n[13:41:06 INFO]: com.mojang.authlib.GameProfile@5f6225c6[id=<null>,name=Arasple,properties={},legacy=false] (/127.0.0.1:27777) lost connection: Disconnected复制代码附: (使用离线登陆则提示正常)\n\n\n\n\n\n\n求解，如何正确的开启 Bungee OnlineMode?\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "TRCRedstoner",
            "timestamp": 1517550600,
            "txt_content": "bc端连接子服的话，子服正版验证就必须关掉\n不然这和验证两次正版没什么区别，bc验证子服也验证，他当然不让你这么做。\n把子服的online-mode=true改false"
        },
        {
            "author": "1302796097",
            "timestamp": 1517560740,
            "txt_content": "你检查一下你的服务端能不能正确访问MoJang官网"
        },
        {
            "author": "Black_White_",
            "timestamp": 1517568300,
            "txt_content": "把配置中含localhost的IP换成127.0.0.1，还有forced_hosts:最好填空格加｛｝"
        },
        {
            "author": "Alorw",
            "timestamp": 1517569620,
            "txt_content": "Black_White_ 发表于 2018-2-2 18:45\n把配置中含localhost的IP换成127.0.0.1，还有forced_hosts:最好填空格加｛｝\n无效\n\n\n\n\n\n"
        }
    ]
}