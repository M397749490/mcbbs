{
    "title": "一起学习插件开发——本地开服（3/3）",
    "author": "MCHandler",
    "replyCount": 4,
    "timestamp": 1476605100,
    "txt_content": " 本帖最后由 MCHandler 于 2016-10-23 13:06 编辑 \n\n\n       上一篇：一起学习插件开发——本地开服（2/3）\n       本帖不是教程帖，是为了记录一下我接触Minecraft的过程。前两帖的内容和Oeasy老师的网课内容是重复的，但是后面会有个人的内容。\n       JDK安装以后，我们就可以运行我们本地的服务器了。\n       使用前面下载的“craftbukkit-1.7.2-R0.3-20140211.200058-44.jar”文件。\n       首先，在这个文件所在的目录下新建一个“开始.txt”，然后复制粘贴以下内容：\n@echo off\n:MAIN\ncls\njava -Xms1024M -Xmx1024M -jar craftbukkit-1.7.2-R0.3-20140211.200058-44.jar\nif exist \"plugins\\RestartEvolution\\restart.mcs\" goto MAIN\nif not exist \"plugins\\RestartEvolution\\restart.mcs\" goto END\n:END\necho\npause>nul复制代码\n       其中Xmx是用来设置你的应用程序能够使用的最大内存数,如果程序要花很大内存的话，那就需要修改增加此数的值。\n       Xms是用它来设置程序初始化的时候内存栈的大小，增加这个值的话你的程序的启动性能会得到提高。\n       接着对“开始.txt”重命名，改成“开始.bat”。如果系统隐藏了文件后缀名，设置一下显示文件后缀名就可以了。\n       如下图所示：\n\n       至于整个批处理命令的逻辑，不必深究，我们现在的目的是能够让服务器跑起来。\n       现在双击“开始.bat”\n\n\n\n       最后看到“Done(15.957s)!”，说明服务器已经运行完毕了。\n       服务器弄好了，接下来就是去下载客户端了。\n       Oeasy老师的视频中并没有讲解怎么下载客户端。我本着“从官网下载、避免病毒、体验原汁原味Minecraft”的信念，去官网下载了Minecraft的安装程序。安装完以后，又等老半天更新资源，最后发现如果不花钱买正版，只能玩Demo。本想支持一下，但是觉得有点贵。就想着先自己折腾，等熟练了再充值信仰。\n       尝试了几个办法，最后发现视频中Oeasy老师用的是Hello Minecraft Launcher——你好我的世界启动器（HMCL）。\n       搜索一下，第二条就是官网：\n\n       打开官网，看了一下，更新日期还挺近，看来是受众颇广、经常维护的。直接点击网页上的“立即下载”就可以得到HMCL-2.5.3.88.exe了。\n\n       下载完成后，双击运行。\n       运行前的文件夹是这样的：\n\n       运行后的文件夹是这样的：\n\n       接下来去下载“.minecraft”包。我是在Minecraftxyz网站上下载的，我也不是给它打广告，毕竟百度第一条就是它：\n\n       我想着越新的客户端越好吧，就去下载了1.10版本，后来发现我的服务器的jar包是“craftbukkit-1.7.2-R0.3-20140211.200058-44.jar”，版本不兼容。\n       我就又下载了1.7.2版本，里面有“.minecraft”这个文件夹，把这个文件夹里面的东西复制到先前的HMCL启动器生成的.minecraft里面就行了，至于压缩包里其他的文件，我们暂时（也可能以后都）用不到。\n\n       在复制的过程中估计会出现以下提示：\n\n       这个选“是”或者“否”都没有关系。当再次使用HMCL启动器的时候，它会覆写这个文件的。现在再次启动HMCL启动器，可以看到它已经发现了1.7.2版本的Minecraft：\n\n       左侧的名字填一个自己喜欢的就行了。然后点击右下角的“启动Minecraft”，可能会提示“资源不完整”，这取决于下载的Minecraft包：\n\n       选“是”就可以了。（唉，为了写贴子，把原先的包删除了，想着重新安装一遍，现在又要下载一会儿了）\n\n\n       我的网速大概是1.7MB/s，用了不到一分钟就下载完缺失的文件了。\n\n       点击“多人游戏”，可能会直接显示我们刚才打开的服务器，也可能会如下图所示：\n\n       我们可以手动添加，本地的服务器地址是“127.0.0.1”。这个地址还有更多的含义，我们不再深究。有兴趣的Mcer可以搜索一下这个地址或者看一下计算机网络相关的书籍。\n\n       填写了服务器地址后，点击下面的“完成”：\n\n       然后就可以看到本地的服务器了。直接双击就可以进去了——大误——会出现下面的情况：\n\n       这是应该的，因为我们没有充值信仰啊，所以还需要改一下本地服务器的配置。把前面运行的cmd.exe关掉，HMCL也关掉。在服务器所在的文件夹下寻找一个名为“server.properties”的文件。\n       对了，刚才忘记说了，“开始.bat”运行之前，服务器端文件夹下面只有“开始.bat”和“craftbukkit-1.7.2-R0.3-20140211.200058-44.jar”两个文件，当运行了“开始.bat”文件后，就会生成很多文件，应该是下图的样子：\n\n       这个properties文件是一个文本文件，基本上任何一个文本编辑器（记事本、notepad++、vim、gedit、nano）都可以正常打开。如下图所示，第22行中“online-mode=true”说明目前在线模式是打开的，我们是本地的服务器，不需要在线，所以改成“online-mode=false”后保存这个文件就可以了。\n\n       如下：\n\n       然后再次启动服务器；待服务器启动完毕后，再次启动HCML启动器。\n       这次服务器启动时间大大缩短了，仅1.457s：\n\n       使用HMCL启动Minecraft，可以看到提示“Temp joined the game.”\n\n       服务器也提示“Temp[/127.0.01:64242] logged in ……”\n\n       现在可以愉快的在自己的服务器上玩耍了。\n       截止到目前，我所写的内容还是从Oeasy老师的课上学习的知识，下一个帖子我将会写一下如何编译最新的服务器，以及如何在远程云服务器上运行Minecraft服务器。",
    "replies": [
        {
            "author": "世道苍穹",
            "timestamp": 1476606000,
            "txt_content": "dalao你好  "
        },
        {
            "author": "MCHandler",
            "timestamp": 1476608100,
            "txt_content": "brownboy2005 发表于 2016-10-16 16:20\ndalao你好\n你好！\n我只是小白，刚刚入门。"
        },
        {
            "author": "Because.",
            "timestamp": 1476609000,
            "txt_content": "这是啥玩意..\n\n\n\n\n--------“支配与被支配的人，是否会心生恨意？\n\n"
        },
        {
            "author": "MCHandler",
            "timestamp": 1476609180,
            "txt_content": "Because. 发表于 2016-10-16 17:10\n这是啥玩意..\n这是讲述如何搭建自己的Minecraft服务器的。"
        }
    ]
}