{
    "title": "玩家进服报错：Invalid payload REGISTER",
    "author": "DreamVoid",
    "replyCount": 1,
    "timestamp": 1595304720,
    "txt_content": " 本帖最后由 DreamVoid 于 2020-7-21 12:18 编辑 \n\n控制台报错如下：\n[12:01:00 INFO]: UUID of player xxx is xxx\n[12:01:02 INFO]: xxx[/xxx:xxx] logged in with entity id 193 at (xxx)\n[12:01:02 ERROR]: Couldn't register custom payload\norg.bukkit.plugin.messaging.ChannelNameTooLongException: Attempted to send a Plugin Message to a channel that was too large. The maximum length a channel may be is 32 chars (attempted 40 - 'fabric-screen-handler-api-v1:open_screen.\n        at org.bukkit.plugin.messaging.StandardMessenger.validateAndCorrectChannel(StandardMessenger.java:481) ~[minecraft.jar:git-Paper-655]\n        at org.bukkit.craftbukkit.v1_13_R2.entity.CraftPlayer.addChannel(CraftPlayer.java:1463) ~[minecraft.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.PlayerConnection.a(PlayerConnection.java:2605) ~[?:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.PacketPlayInCustomPayload.a(SourceFile:45) ~[minecraft.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.PacketPlayInCustomPayload.a(SourceFile:9) ~[minecraft.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.PlayerConnectionUtils.lambda$ensureMainThread$0(PlayerConnectionUtils.java:15) ~[minecraft.jar:git-Paper-655]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) ~[?:1.8.0_241]\n        at java.util.concurrent.FutureTask.run(Unknown Source) ~[?:1.8.0_241]\n        at net.minecraft.server.v1_13_R2.SystemUtils.a(SystemUtils.java:108) ~[minecraft.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.MinecraftServer.b(MinecraftServer.java:1018) ~[minecraft.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.DedicatedServer.b(DedicatedServer.java:439) ~[minecraft.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.MinecraftServer.a(MinecraftServer.java:940) ~[minecraft.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.MinecraftServer.run(MinecraftServer.java:837) ~[minecraft.jar:git-Paper-655]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\n[12:01:02 INFO]: xxx lost connection: Invalid payload REGISTER!复制代码\n其中xxx为玩家名、IP等信息\n服务端为1.13.2 PaperSpigot，更换为Spigot一样出现这个\n该玩家客户端为1.16.1 Fabric，安装了投影mod（schematic，好像叫这个），删除这个mod即可正常进服\n\n我找到了SpigotMC论坛上的这个帖子：https://www.spigotmc.org/threads/invalid-payload-error.367167/ 给出的解决方案是客户端删除mod，但是我不想让玩家删除mod\n\n其他可能有用的信息：\n我的服务器在BungeeCord处安装了ViaVersion，在这个服务器中，我额外安装了ViaVersion+ViaBackwards以让1.12.2玩家可以进入\n这名玩家（或者说任何装了某些mod的玩家）可以直接进入我服务器内所有1.12.2 PaperSpigot的服务器和一个1.15.2 Spigot服务器（都没有装ViaVersion和ViaBackwards），就是这个服务器进不去\n想知道有没有什么方法能解决\n\n不接受以下回答：\n更换服务端核心（除非你把TNTRun_reloaded插件搞成最新版支持1.12.2服务端）\n让玩家删除mod\n服务端删除ViaVersion+ViaBackwards或者BungeeCord装上ViaVersion+ViaBackwards\n\n如果需要更多信息随时可以提出\n提前感谢各位大佬的回答\n\n补充：\n根据我服玩家的反馈，即使fabric不装mod也是进不去，也是报这个错误",
    "replies": [
        {
            "author": "蕾米洛伊",
            "timestamp": 1595306220,
            "txt_content": "ViaVersion 的问题，详见 ViaVersion #1855。\nViaversion 开发者 KennyTV 提到这是一个跨版本间消息通道“翻译”的问题，可以暂时让那些想使用 mod 的玩家或者进不去的玩家使用 1.13.2 也就是你服务端的版本进入试试。目前还未修复，可以关注一下这个 issue。"
        }
    ]
}