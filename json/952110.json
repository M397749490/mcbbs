{
    "title": "CustomNPCs问题，如何把阵营点数用scoreboard形式表现出来",
    "author": "末日少侠",
    "replyCount": 12,
    "timestamp": 1580827140,
    "txt_content": " 本帖最后由 末日少侠 于 2020-2-5 23:16 编辑 \n\n 我弄了个叫”声誉值“的阵营，用来记录玩家击败怪物和做任务的分数，这个用来配合结界方块、红石方块、以及npc对话有奇效的，但是奈何阵营可用选项那里只能选友好、不友好、中立，限制有些大。我发现可用选项的那个计分板可以用scoreboard判断，如果能把阵营点数用scoreboard表示，就可以做出很多东西。急！！！\n\n\n\n\n批注 2020-02-04 223712.png (55.23 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-4 22:37 上传\n\n\n\n\n\n\n\n\n\n批注 2020-02-04 175324.png (10.22 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-4 22:36 上传\n\n\n\n\n\n这个是记分板\n这是上一个求救帖子：地址\n\n",
    "replies": [
        {
            "author": "粘兽",
            "timestamp": 1580827140,
            "txt_content": " 本帖最后由 粘兽 于 2020-2-5 17:15 编辑 \n末日少侠 发表于 2020-2-5 15:48\n不是。我先/scoreboard objectives add abc dummy  创建一个叫abc的虚拟记分项。然后我想用这个abc记分项 ...\n哦 你的意思是想把记分项和阵容点同步是吧\n\n那你可以用player类中的这个方法来添加阵容点数\n\n\n\n\nimage.png (6.92 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-5 17:10 上传\n\n\n\n\n\n\n然后通过脚本获取记分板内容可以看这里\n[1.12.2][ECMA]使用脚本遍历记分板内容示例\nhttp://bbs.mcnpc.cn/forum.php?mo ... d=53&fromuid=19"
        },
        {
            "author": "末日少侠",
            "timestamp": 1580827320,
            "txt_content": "@粘兽  请一位脚本大佬QAQ"
        },
        {
            "author": "粘兽",
            "timestamp": 1580829120,
            "txt_content": "没有看懂你的描述\n\n你是要把阵营点放到右侧计分板中展示？"
        },
        {
            "author": "末日少侠",
            "timestamp": 1580888880,
            "txt_content": "粘兽 发表于 2020-2-4 23:12\n没有看懂你的描述\n\n你是要把阵营点放到右侧计分板中展示？\n不是。我先/scoreboard objectives add abc dummy  创建一个叫abc的虚拟记分项。然后我想用这个abc记分项记录一个叫声誉值的阵营点数，也就是说我声誉值阵营点数为200时，abc分数也为200。npcmod可用选项里面的计分板左边框只能填原版记分项，比如我在边界方块填abc大于100，那我声誉值阵营点数低于或等于100就过不去。"
        },
        {
            "author": "末日少侠",
            "timestamp": 1580894220,
            "txt_content": "粘兽 发表于 2020-2-5 17:12\n哦 你的意思是想把记分项和阵容点同步是吧\n\n那你可以用player类中的这个方法来添加阵容点数\n我还是不太懂怎么弄QAQ，能不能说一下具体要怎么操作。"
        },
        {
            "author": "末日少侠",
            "timestamp": 1580907300,
            "txt_content": "粘兽 发表于 2020-2-5 17:12\n哦 你的意思是想把记分项和阵容点同步是吧\n\n那你可以用player类中的这个方法来添加阵容点数\n我还是不懂怎么套用你发的那个示例QAQ"
        },
        {
            "author": "粘兽",
            "timestamp": 1580907480,
            "txt_content": "末日少侠 发表于 2020-2-5 20:55\n我还是不懂怎么套用你发的那个示例QAQ\n你的游戏版本是"
        },
        {
            "author": "末日少侠",
            "timestamp": 1580908200,
            "txt_content": "粘兽 发表于 2020-2-5 20:58\n你的游戏版本是\n1.12.2        "
        },
        {
            "author": "粘兽",
            "timestamp": 1580909280,
            "txt_content": "末日少侠 发表于 2020-2-5 21:10\n1.12.2\n在player脚本页中监听factionUpdate事件\n↓\n判断触发事件的阵营是否为\"声誉值阵营\"\n↓\n将\"声誉值阵营\"的点数设置到对应的记分项中\n↓\n结束"
        },
        {
            "author": "末日少侠",
            "timestamp": 1580915880,
            "txt_content": "粘兽 发表于 2020-2-5 21:28\n在player脚本页中监听factionUpdate事件\n↓\n判断触发事件的阵营是否为\"声誉值阵营\"\n可不可以直接帮我写一个可以直接用的代码，我连怎么监听都不会QAQ\n悬赏我提高了，麻烦你了。"
        },
        {
            "author": "末日少侠",
            "timestamp": 1581944580,
            "txt_content": "粘兽 发表于 2020-2-5 21:28\n在player脚本页中监听factionUpdate事件\n↓\n判断触发事件的阵营是否为\"声誉值阵营\"\n我后来自己研究了一下，终于弄出来了，但是我这个只能通过点击npc才能更新记分板，我想弄成10秒自动更新一次，最好是没有记分板更新提醒的，我现在弄的那个会弹出记分板分数更新。\nfunction interact(e){\nvar camp=e.player.getFactionPoints(6);\nvar name=e.player.name;\ne.npc.executeCommand('scoreboard players set '+name+' renown '+camp );}\n\n我不清楚tick要怎么用，别人说获取玩家才能用，但我不知道怎么获取QAQ"
        },
        {
            "author": "末日少侠",
            "timestamp": 1581944700,
            "txt_content": "粘兽 发表于 2020-2-5 21:28\n在player脚本页中监听factionUpdate事件\n↓\n判断触发事件的阵营是否为\"声誉值阵营\"\nrenown是一个记分项，那个6是阵营‘声望值’的id"
        }
    ]
}