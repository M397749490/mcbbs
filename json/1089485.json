{
    "title": "某些插件连接数据库ssl关不掉",
    "author": "Lonewolfi",
    "replyCount": 10,
    "timestamp": 1596090120,
    "txt_content": " 本帖最后由 Lonewolfi 于 2020-7-30 14:25 编辑 \n\n有些插件的配置里面没有写是不是用ssl连接mysql,但是开服的时候会显示数据库没有ssl\n刚接触mysql,不知道怎么搞就例如以下这一段\n[14:24:01 警告]: Thu Jul 30 14:24:01 CST 2020 警告: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n\n",
    "replies": [
        {
            "author": "嗷呜魔王",
            "timestamp": 1596090120,
            "txt_content": " 本帖最后由 嗷呜魔王 于 2020-7-30 15:00 编辑 \nLonewolfi 发表于 2020-7-30 14:51\n我去百度了一下my.cnf是不是windows系统生成的数据库没有这个文件....\n要是 Linux 系统就比较好办了\n应该是连接的时候没有选择是否使用 SSL, 然后服务器就默认地选择了使用 SSL _(:з)∠)_\n但是服务器没配置 SSL 证书，客户端一看这服务端没证书呀所以无法验证。所以会出现这个警告。\n估计如果插件作者不手动指定是否使用 SSL 的话那这个问题就不太有可能简单地解决, 就得需要自己签证书让它不出警告咯。\n\nLinux 的 mysql 配置文件在 /etc/my.cnf\n试试按照这个方法配置证书，但是可能比较复杂 🤦‍"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1596090960,
            "txt_content": "解决方法\n1 让插件作者进行修改来兼容开启了ssl的数据库\n2 参照这片教程来关闭ssl\n\n\n\n方法2 未经测试不确定有效"
        },
        {
            "author": "Lonewolfi",
            "timestamp": 1596091140,
            "txt_content": "南柯郡守 发表于 2020-7-30 14:36\n解决方法\n1 让插件作者进行修改来兼容开启了ssl的数据库\n2 参照这片教程来关闭ssl\n不\n我的意思是我的数据库没有ssl(因为我都不知道怎么开)\n然后有些插件默认开启了ssl(暂时发现的是点券插件重置版和skillapi)"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1596091320,
            "txt_content": "Lonewolfi 发表于 2020-7-30 14:39\n不\n我的意思是我的数据库没有ssl(因为我都不知道怎么开)\n然后有些插件默认开启了ssl(暂时发现的是 ...\nmysql版本多少 \n\nmysql5.7以上就默认开启ssl连接方式了\n\n\n同样的 刚才的那个关闭ssl的教程你修改一下值就是开启了"
        },
        {
            "author": "Lonewolfi",
            "timestamp": 1596091560,
            "txt_content": "南柯郡守 发表于 2020-7-30 14:42\nmysql版本多少 \n\nmysql5.7以上就默认开启ssl连接方式了\n就是5.7 不过用的是PhpStudy8.1开的数据库,我查了一下have_ssl disabled"
        },
        {
            "author": "Lonewolfi",
            "timestamp": 1596091860,
            "txt_content": "南柯郡守 发表于 2020-7-30 14:42\nmysql版本多少 \n\nmysql5.7以上就默认开启ssl连接方式了\n我去百度了一下my.cnf是不是windows系统生成的数据库没有这个文件...."
        },
        {
            "author": "南柯郡守",
            "timestamp": 1596092280,
            "txt_content": "那就不用管这一句\n\n你用的插件里面应该是混合了启用了ssl和没启用ssl的\n\n所以这句报错是那些没有启用ssl的插件连接数据库报出来的\n\n解决方法还是要找插件作者"
        },
        {
            "author": "Lonewolfi",
            "timestamp": 1596093120,
            "txt_content": "南柯郡守 发表于 2020-7-30 14:58\n那就不用管这一句\n\n你用的插件里面应该是混合了启用了ssl和没启用ssl的\n如果说插件默认启用ssl,但是mysql又没有ssl会不会影响正常使用"
        },
        {
            "author": "Lonewolfi",
            "timestamp": 1596093180,
            "txt_content": "嗷呜魔王 发表于 2020-7-30 14:58\n要是 Linux 系统就比较好办了\n应该是连接的时候没有选择是否使用 SSL, 然后服务器就默认地选择了使用 SSL  ...\n选择去世"
        },
        {
            "author": "嗷呜魔王",
            "timestamp": 1596093300,
            "txt_content": "Lonewolfi 发表于 2020-7-30 15:12\n如果说插件默认启用ssl,但是mysql又没有ssl会不会影响正常使用mysql又没有ssl不是没启用 SSL, 是没有证书, 没有证书也可以用SSL可是跟没用一样的。不影响正常使用, 不过它会给警告, 因为你不带证书用SSL和不用没什么区别 _(:з)∠)_ "
        }
    ]
}