{
    "title": "[ForgeMod开发]基础教程：基本物品",
    "author": "hao19891029",
    "replyCount": 4,
    "timestamp": 1381303140,
    "txt_content": " 本帖最后由 hao19891029 于 2013-10-10 16:37 编辑 \n\n注：下面文章基本转自Forge论坛里的教程（原地址），游戏版本为1.6.2。缓慢更新。。。\n索引贴地址：点我 \n目标\n\n建立一个新的物品配置新建立的物品的属性\n提前准备\n\n已经安装了Forge开发环境（教学）建立了你的基础Mod\n引\n    “物品”是Minecraft里面很普遍的东西。例如染料、工具、怪物掉落物等，肯定每个人都会有一些想在游戏里增加的物品。\n    游戏里所有的物品都有一下的通用属性：\n物品ID（ItemID）堆叠数量（Stack Size）图标索引（Icon Index）内部名字（Internal Name）游戏里显示的名字（In Game Name）创造模式时在哪个标签页显示（Creative Tab）\n基本物品\n    好，首先第一件事，先看看我们之前建好的基本mod类--generic，如果你没有想好你的新物品的名字，我们就先把接下来要新建的物品叫做“GenericItem”吧。\n    在基本类里，我们要声明新物品的存在，然后给它设定一个物品的ID。物品ID的最小值是0，最大值是32000。我们的“GenericItem”将会使用‘5000’作为它的ID，然后每个新物品id都在5000基础上加一。\n    所有的物品都是“Item”类的子类。物品Item的唯一的构造方法是公开（public）的，所以“new Item(5000)”这样写是可行的。\n建立“tutorial.generic.GenericItem”类的步骤如下：\n对“tutorial.generic.GenericItem”类右键，选择 New-> Class将新建类命名为“GenericItem”让新建类继承“Item”类，“Item”类位于“net.minecraft.item.Item”添加构造方法\n当完成了以上步骤，你的新建类的代码应该像下面一样：\npackage tutorial.generic;\n\nimport net.minecraft.item.Item;\n\npublic class GenericItem extends Item {\n\n        public GenericItem(int id) {\n                super(id);\n                // TODO Auto-generated constructor stub\n        }\n\n}\n复制代码   如果你的代码不是像这样的，我建议你把新建的类删除掉，然后重新再来一遍，直到你的代码跟上面的一样。当然你也可以直接复制代码，但是边自己敲代码边理解它也是很重要的过程。\n    通过构造方法穿进去的物品ID就是你的新物品的ID，这是新建所有物品时都需要做的事情。\n    接下来让我们在基本类中利用这个新建类。\nprivate final static Item genericItem = new GenericItem(5000);\n复制代码如上面代码所示，构造方法的第一个参数就是物品的id。\n提示：“final”关键字可以让你的参数不能再被修改，当你使用“final”时要谨慎。\n特别提示：如上面代码所传进去的ID--‘5000’在游戏内部会被转换成其它数字，所以不要在代码里用“== xxxID”的方法，最好的办法就是使用“getID”的方法。如下：\nint MyItemID = genericItem.itemID;\n复制代码   当然，通过使用“private”关键字，这个物品参数只能在声明它的类里使用。\n设置“GenericItem”属性\n    现在，你已经有了一个物品，但是它还不能在游戏里获得。我们想让它在创造模式里显示。我们还想给它一个游戏里显示的名字。\n    这些属性都可以用“Item”类里的方法来设置。这些属性可以用方法链形式来设置，谨记，所有设置属性的方法返回的都是“Item”对象。你也可以在构造方法里用属性链的形式来设置，两种方法都是可行的。\n属性链形式在构造方法里设置\n    在“GenericItem”类的构造方法里，把下面的代码添加进去：\n// 构造方法里属性链设置\nsetMaxStackSize(64);\nsetCreativeTab(CreativeTabs.tabMisc);\nsetUnlocalizedName(\"genericItem\");\n复制代码setMaxStackSize(设置最大堆叠数量)\n             设置该物品在游戏里可以堆叠的最大数量。记住，堆叠在一起的物品共享同一个耐久度值，如果这个物品拥有除“metadata”以外的耐久度值等，它的堆叠数量应该设置为 1。一般建议设置最大堆叠数量为16。\nsetCreativeTab(设置该物品位于创造模式的哪个标签)\n             如果没有设置这个属性，物品会被放置在“杂项”标签下。\nsetUnlocalizedName(设置该物品的内部名字)\n             为该物品设置一个内部名字。这个名字在这里是没有被本地化的，意味着它还没有被设置进语言设置里。但稍后将会对它进行设置。\n提示：你需要导入“net.minecraft.creativetab.CreativeTabs”\n\n\n方法链形式设置属性\n    方块和物品都可以用方法链形式设置属性。大多数在构造方法里设置的属性会返回方块(block)的引用（而不是返回void），所以允许你在前一个方法后面接着另一个设置属性方法。Minecraft原版代码里就使用了繁重的方法链形式来设置属性。\n    下面我们来新建一个叫“genericIngot”的物品。这个物品会在以后的教程里使用，并且会由矿石“Generic Ore”掉落。嗲吗如下：\nprivate static final Item genericIngot = new GenericItem(5001).setMaxStackSize(16).setCreativeTab(CreativeTabs.tabMisc).setUnlocalizedName(\"genericIngot\");\n复制代码   方法链设置的属性会覆盖掉构造方法里设置的属性，因为方法链的执行是在构造方法完成了之后进行的。\n    使用方法链的好处是，你可以先在构造方法里设置一个默认值，然后在方法链里修改这个值。例如下面代码，所有的新建物品都在构造方法里设置的创造模式的标签处，我们就不用每次都在方法链里设置一遍，这样可以让我们的代码更简洁。\nprivate static final Item genericIngot = new GenericItem(5001).setMaxStackSize(16).setUnlocalizedName(\"genericIngot\");复制代码添加额外的构造方法\n    还有一个设置是在构造方法里增加一些额外的设置好的属性作为参数。例如，我们可以给“GenericItem”添加额外的构造函数。代码如下：\npublic GenericItem(int id, int maxStackSize, CreativeTabs tab, int texture, String name) {\n        super(id);\n        setMaxStackSize(maxStackSize);\n        setCreativeTab(tab);\n        setUnlocalizedName(name);\n}\n复制代码   然后建立“genericIngot”，我们可以像下面的代码一样建立：public static final Item genericIngot = new GenericItem(5001, 16, CreativeTabs.tabMisc, 1, \"genericIngot\");\n复制代码   使用方法链或者属性链的决定权在你。当然一般是使用方法链的形式，以后的教程里也会使用方法链的形式来设置属性。\n游戏里的名字（Public Name）\n    需要注意的是上面设置的“setUnlocalizedName”并不是游戏里会显示出来的名字。如果你在游戏里寻找到你新建的物品，它应该是没有名字的。要给它增加名字，我们要用“LanguageRegistry”来注册物品的名字。LanguageRegistry.addName(Object toName, String readableName);\n复制代码   这个方法传入的参数可以是一个“Item”，一个“ItemStack”，或者一个“Block”。现在，我们传入一个“Item”。在你的基本类里增加下面的两句代码：\nLanguageRegistry.addName(genericItem, \"Generic Item\");\nLanguageRegistry.addName(genericIngot, \"Generic Ingot\");\n复制代码   此外：记得要导入“cpw.mods.fml.common.registry.LanguaueRegistry”。\n    现在当你在游戏里拿起一个新建的“generic ingot”物品，游戏里将会显示“Generic Ingot”。\n图标材质\n    给物品赋材质，请看教程：如何给物品方块赋材质。   \n结束\n    现在，我们有了两个没有任何功能的物品。因为它们是物品，所以你可以像游戏里使用物品一样使用它们。意思是说，只要你想，你可以为它们增加一个合成公式，让它们出现在地牢箱子里，或者让怪物掉落它们？\n    如果你想检查一下你的物品，你可以运行游戏，然后创建一个创造模式的世界，打开物品，你就会在相应的标签里看到它们。\n基本类（Generic）代码如下：\npackage tutorial.generic;\n\nimport net.minecraft.block.Block;\nimport net.minecraft.item.Item;\nimport net.minecraft.item.ItemStack;\nimport cpw.mods.fml.common.Mod;\n//import cpw.mods.fml.common.Mod.Init;       //1.5.2版本之前使用\nimport cpw.mods.fml.common.Mod.Instance;\n//import cpw.mods.fml.common.Mod.PostInit;   //1.5.2版本之前使用 \n//import cpw.mods.fml.common.Mod.PreInit;    //1.5.2版本之前使用 \nimport cpw.mods.fml.common.Mod.EventHandler; //1.6.x版本使用\nimport cpw.mods.fml.common.SidedProxy;\nimport cpw.mods.fml.common.event.FMLInitializationEvent;\nimport cpw.mods.fml.common.event.FMLPostInitializationEvent;\nimport cpw.mods.fml.common.event.FMLPreInitializationEvent;\nimport cpw.mods.fml.common.network.NetworkMod;\nimport cpw.mods.fml.common.registry.GameRegistry;\nimport cpw.mods.fml.common.registry.LanguageRegistry;\n\n@Mod(modid=\"generic\", name=\"Generic\", version=\"0.0.0\")\n@NetworkMod(clientSideRequired=true, serverSideRequired=false)\npublic class Generic {\n        \n        \n        @Instance(value=\"generic\")\n        public static Generic instance;\n\n        private static Item genericItem;\n        public static Item genericIngot;\n\n        @SidedProxy(clientSide=\"tutorial.generic.client.ClientProxy\",\n                        serverSide=\"tutorial.generic.CommonProxy\")\n        public static CommonProxy proxy;\n        \n        @EventHandler\n        public void preInit(FMLPreInitializationEvent event) {\n                genericItem = new GenericItem(5000);\n                genericIngot = new GenericItem(5001)\n                .setMaxStackSize(16).setUnlocalizedName(\"genericIngot\");\n        }\n        \n        @EventHandler\n        public void load(FMLInitializationEvent event) {\n                LanguageRegistry.addName(genericItem, \"Generic Item\");\n                LanguageRegistry.addName(genericIngot, \"Generic Ingot\");\n        }\n        \n        @EventHandler\n        public void postInit(FMLPostInitializationEvent event) {\n                // Stub Method\n        }\n}\n复制代码基本物品（GenericItem）类代码如下：\npackage tutorial.generic;\n\nimport net.minecraft.creativetab.CreativeTabs;\nimport net.minecraft.item.Item;\n\npublic class GenericItem extends Item {\n\n        public GenericItem(int id) {\n                super(id);\n                \n                // Constructor Configuration\n                maxStackSize = 64;\n                setCreativeTab(CreativeTabs.tabMisc);\n                setUnlocalizedName(\"genericItem\");\n        }\n}复制代码\n\n下一步做什么？\n\n基本方块 ------ 教你建立一个基本的新方块；制造和冶炼 --- 教你怎样简单地添加你的物品的合成等； \n\n",
    "replies": [
        {
            "author": "simon3000",
            "timestamp": 1381304880,
            "txt_content": "看起来好厉害啊，试试看啊"
        },
        {
            "author": "hendyzone",
            "timestamp": 1381307160,
            "txt_content": "原来是wiki的教程啊0 0\n楼主辛苦了"
        },
        {
            "author": "hao19891029",
            "timestamp": 1381312800,
            "txt_content": "hendyzone 发表于 2013-10-9 16:26 \n原来是wiki的教程啊0 0\n楼主辛苦了\n{:10_512:}"
        },
        {
            "author": "liehuoyanyike",
            "timestamp": 1384516800,
            "txt_content": " 本帖最后由 liehuoyanyike 于 2013-11-15 20:04 编辑 \n\n对“tutorial.generic.GenericItem”类右键，选择 New-> Class\n将新建类命名为“GenericItem”\n这里不是先建立个名为tutorial.generic.GenericItem的包吗?然后再建立GenericItem的类\n但是pack 的确实tutorial.generic.{:10_499:}"
        }
    ]
}