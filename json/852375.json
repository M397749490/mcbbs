{
    "title": "求pineapple的枪械数据包解析",
    "author": "egg_apple",
    "replyCount": 10,
    "timestamp": 1553343900,
    "txt_content": " 本帖最后由 egg_apple 于 2019-3-23 20:28 编辑 \n\n如题：\n\nhttp://www.mcbbs.net/thread-773456-1-1.html\n\n这是pineapple 大大的帖子，我现在对这个枪械很感兴趣，\n但是不知咋的，我下载的数据包，使用后发现**打中敌人不扣血。实验发现是tag给命中目标标签时有错误，但是我又不知道怎么改\n我挺想学习这位大大的枪械数据包，但是很可惜我对1.13及以后版本的命令一窍不通\n\n所以：\n有没有其他大佬理解这个数据包的，\n重点是关于命中扣血这方面我不懂，换弹暂不需要解释。\n有没有大佬可以帮我改一下或者说解释一下其中的命令，最好能详略得当，重点是给予tag扣血这块。\n换弹，穿透可以先不讲。\n\n当然，如果各位大佬懂的话也可以都讲解一下，方便我理解\n谢谢~\n\n（顺便at一下本人 \n\n\n@pineapple \n\n",
    "replies": [
        {
            "author": "⊙v⊙",
            "timestamp": 1553343900,
            "txt_content": "就他贴出来的那些命令来看，应该是的。替换所有offset为positioned\n然后不排除 block tag里有旧(错误)的方块ID导致又出错"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1553345280,
            "txt_content": "听说 pineapple 高三了…… 所以@他多半是不会出来了……\n首先，他那把枪是胡萝卜钓竿。\n过程大致是这样的：\n开始——使用胡萝卜钓竿——导致计分板分数+1——检测到计分板分数+1——先计分板分数-1，再作为玩家，在玩家所在的位置，向上偏移 1.62 格（刚好是眼睛的位置）——使用局部坐标向前递归——找到实体——给予伤害——结束"
        },
        {
            "author": "egg_apple",
            "timestamp": 1553345820,
            "txt_content": "Teenager_Yang 发表于 2019-3-23 20:48\n听说 pineapple 高三了…… 所以@他多半是不会出来了……\n首先，他那把枪是胡萝卜钓竿。\n过程大致是这样的 ...\n那我现在发现打中目标没扣学是咋回事？\n\n而且我想知道具体的，指令的作用：\n就像您列出来的，最后那4条，我想听您详细讲解一下"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1553345940,
            "txt_content": " 本帖最后由 ⊙v⊙ 于 2019-3-23 03:47 编辑 \n\n原贴你认真看了吗？\n上面的 被加上M16_shoot_by的实 体就 是 被击 中的实体了，那么 如何 对这 个实 体造 成 伤 害呢，难道要用effect或 者是鬼 畜的弓 箭之类 的东 西？？\n新版本的execute可以解决这个问题execute as @e[tag=M16_shoot_by] store result score @s M16_damage run data get entity @s Health 1\nscoreboard players remove @e[tag=M16_shoot_by] M16_damage 8\nexecute as @e[tag=M16_shoot_by] store result entity @s Health float 1 run scoreboard players get @s M16_damage\nexecute as @e[tag=M16_shoot_by] run effect give @s minecraft:instant_health 1 31 true\nexecute as @e[tag=M16_shoot_by] run effect give @s minecraft:instant_damage 1 31 true\nexecute as @a[tag=M16_shoot_by] run effect give @s minecraft:instant_damage 1 0 true\ntag @e remove M16_shoot_by复制代码首先 被击 中的实 体，把自 己的Heal th血量 输出 到记 分板M16_damage上  \n减去 8分\n再通 过execute赋 回Health标签，得到 的 Health就-8了，也就 是造成 了8 点伤害\n但是 这样造 成伤 害生物不 会 变红\n因为 31级 的瞬 间 伤害 和瞬间 治疗不会  对生物 造 成 伤害 或回 血，但是 会使 应该 受到 伤 害 的 实 体变 红，就 可以 伪 造 为 枪 造 成 伤 害 了\n由于玩家 受 到 31级的瞬间 伤 害无反应，且不会被 修改Health标签，只能用 effect 一个 1级 的瞬间 伤害 这个 方法来减掉 玩家 的血量了，\n因为 末影 龙 免 疫 药 水，所 以 末影龙  有 不 变 红  的bug\n最后清掉标签\n就一个 effect give 而已。甚至这个effect不需要套execute...菠萝当时应该是糊涂了\n"
        },
        {
            "author": "egg_apple",
            "timestamp": 1553346360,
            "txt_content": "⊙v⊙ 发表于 2019-3-23 20:59\n原贴你认真看了吗？\n\n就一个 effect give 而已。\n那我现在打中实体不扣血，我看了原帖也没看出什么端倪，不然我来问什么问题嘛- -"
        },
        {
            "author": "egg_apple",
            "timestamp": 1553346420,
            "txt_content": "⊙v⊙ 发表于 2019-3-23 20:59\n原贴你认真看了吗？\n\n就一个 effect give 而已。\n我贴近实体**，都没用，但是我/tag @e add M16_shoot_by就会出现扣血"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1553346900,
            "txt_content": " 本帖最后由 ⊙v⊙ 于 2019-3-23 03:27 编辑 \n\n你拿着18w02a的数据包去1.13试当然会出问题，比如调整高度位置的命令 offset， 早就变为positioned了（甚至就用anchored了...）\n就是说，就算你贴近实体开打，弹道也是从脚地出发，这还是建立在这些函数不因游戏不识别而导致整个函数给停用的情况下。\n\n你说加tag能受伤，感觉嘛...伤害处理的这整个函数里的命令都没问题，所以运行正常。其他(大部分)函数因为格式不对都被停掉了..."
        },
        {
            "author": "egg_apple",
            "timestamp": 1553347260,
            "txt_content": "⊙v⊙ 发表于 2019-3-23 21:15\n你拿着18w02a的数据包去1.13试当然会出问题，比如调整高度位置的命令 offset， 早就变为positioned了（甚至 ...\n18w02a我注意到了，我也下载了，没用是咋回事- -"
        },
        {
            "author": "egg_apple",
            "timestamp": 1553347560,
            "txt_content": "⊙v⊙ 发表于 2019-3-23 21:15\n你拿着18w02a的数据包去1.13试当然会出问题，比如调整高度位置的命令 offset， 早就变为positioned了（甚至 ...\n哦哦，我没删掉他说的shoot第三条命令就可以了"
        },
        {
            "author": "egg_apple",
            "timestamp": 1553347620,
            "txt_content": "⊙v⊙ 发表于 2019-3-23 21:15\n你拿着18w02a的数据包去1.13试当然会出问题，比如调整高度位置的命令 offset， 早就变为positioned了（甚至 ...\n那我现在1.13.2想用是不是把offset改成positioned就可以用了？"
        }
    ]
}