{
    "title": "关于命令方块的问题：如何制作随机地图。",
    "author": "星E君",
    "replyCount": 6,
    "timestamp": 1441304580,
    "txt_content": "就像BInding of Isaac的地图生成，随机生成十个左右的房间，同时少许顶端的房间是特殊房间。（特殊房间不能放在地图中间）\n\n \n\n就像上图一样，要求必须生成几个特殊房间，同时特殊房间必须在地图的顶端。（只有一个门）\n\n整个地图必须全部随机生成，房间互相连接同时没有房间的方向没有门。\n\n\n我现有的设计是：\n\n地图第一个房间固定，四周一定机率出现房间。\n\n出现的房间和第一个房间的算法相同，变成像草地一样的方式往外扩展。\n\n但是这样的话很可能让一大堆房间集中在一起，而不会特别分散\n\n\n已有指令的两个展示在此：\n\nhttp://v.youku.com/v_show/id_XMTMyNDUyNzE0MA==.html\nhttp://v.youku.com/v_show/id_XMTMyNTEyOTI3Ng==.html\n\n上一个帖子没设定好就发出了。。。悬赏没有设定为3000.。。。\n\n所以重发了一个，上一个已经私信版主删除。\n",
    "replies": [
        {
            "author": "Xiao2",
            "timestamp": 1441304580,
            "txt_content": "这是我的思路：\n\n设立2个计分板，一个统计房间生成触发，一个检测物品\n\n生成3个盔甲架\n代表三种房间\n（当然越多越好）\n\n接下来是高频：\n检测有没有一个id为 钥匙ID 的物品，有就设立它的分数为1\n当计分板th为1时，将第一个盔甲架随机传送\n\n在第一个盔甲架为中心生成一个半径为r的普通房间\n（盔甲架下生成一个XX方块，在离第一个盔甲架为中心离r远的地方分别生成4个名为门的盔甲架）\n在离第一个盔甲架2r远的地方分别生成四个XX方块\n\n将盔甲架2随机传送到离 盔甲架1 2r远的地方（因为虚空，盔甲架2只能传送到那四个XX方块上。如果不为虚空，高频检查盔甲架2下是否为XX方块，是就停止随机传送）\n\n计分板分数为2\n在盔甲架2为中心生成一个半径为r的连接房间\n（盔甲架下生成一个XX方块，在离盔甲架2为中心离r远的地方分别生成4个名为门的盔甲架）\n在离 盔甲架2 2r远的地方分别生成四个XX方块\n\n积分版分数为3\n将盔甲架3随机传送到离 盔甲架2 2r远的地方\n\n在盔甲架3为中心生成一个半径为r的顶级房间\n（盔甲架下生成一个XX方块，在离盔甲架3为中心离r远的地方分别生成1个名为铁门的盔甲架）\n在离 盔甲架3 2r远的地方分别生成四个XX方块\n\n然后就是这样下去...\n\n然后检测两个名为门的盔甲架在一起，就清除方块（造成两个房间相通）\n如果门遇上铁门，就放置羊毛，羊毛遇到计分板检测的钥匙，就清除（要在顶级房间四周放置连接房间，连接房间四周放置连接房间，一定会有一条路把顶级房间与普通房间相连）\n\n检测到顶级房间里的boss死了（这里指有boss的顶级房间，当然顶级房间就是上面那样制作的），就放置一个盔甲架，玩家碰到盔甲架就生成上面那三个，盔甲架1被随机传送，然后就是循环上面那样...\n\n\n开始游戏：就是将玩家传送到盔甲架1处\n\n下面的命令仅供参考\n/scoreboard objectives add th dummy\n/scoreboard objectives add item dummy\n/scoreboard players set @e th 1\n\n/summon ArmorStand ~1 ~ ~ {CustomName:\"1\",NoGravity:1b,Invisible:1b}\n/summon ArmorStand ~2 ~ ~ {CustomName:\"2\",NoGravity:1b,Invisible:1b}\n/summon ArmorStand ~3 ~ ~ {CustomName:\"3\",NoGravity:1b,Invisible:1b}\n\n高频\n/scoreboard players set @e[type=Item] item 1 {Item:{id:\"钥匙ID\"}}\n/execute @e[score_th_min=1,score_th=1] ~ ~ ~ spreadplayers ~ ~ 0 1000 false @e[type=ArmorStand,name=1]\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ execute @e[type=ArmorStand,name=2,r=1] ~ ~ ~ kill @e[type=ArmorStand,name=2]\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ execute @e[type=ArmorStand,name=3,r=1] ~ ~ ~ \n/execute @e[type=ArmorStand,name=door] ~ ~ ~ execute @e[type=ArmorStand,name=door,r=2] ~ ~ ~ fill ~ ~ ~ ~ ~1 ~ air\n/execute @e[type=ArmorStand,name=door] ~ ~ ~ execute @e[type=ArmorStand,name=irondoor,r=2] ~ ~ ~ fill ~ ~ ~ ~ ~1 ~ wool\n/execute @e[type=Item,score_item_min=1,score_item=1,r=2] ~ ~ ~ execute @e[type=ArmorStand,name=irondoor] ~ ~ ~ fill ~ ~ ~ ~ ~1 ~ air\n激活高频(或用CB下上左右原则)\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ (这里是用命令fill或者setblock建造出生点房间,但在坐标~ ~ ~位置上一定要有XX方块,这个房间是以坐标~ ~ ~为中心，半径r的房间)\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ summon ArmorStand ~r ~ ~ {CustomName:\"door\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ summon ArmorStand ~-r ~ ~ {CustomName:\"door\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ summon ArmorStand ~ ~ ~r {CustomName:\"door\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ summon ArmorStand ~ ~ ~-r {CustomName:\"door\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ setblock ~2r ~ ~ XX\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ setblock ~-2r ~ ~ XX\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ setblock ~ ~ ~2r XX\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ setblock ~ ~ ~-2r XX\n激活\n/scoreboard players set @e th 2\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ summon ArmorStand ~ ~ ~ {CustomName:\"1a\",NoGravity:1b,Invisible:1b}\n/execute @e[score_th_min=2,score_th=2] ~ ~ ~ execute @e[type=ArmorStand,name=1] ~ ~ ~ spreadplayers ~ ~ ~2r ~2r false @e[type=ArmorStand,name=2]\n/execute @e[type=ArmorStand,name=1] ~ ~ ~ kill @e[type=ArmorStand,name=1]\n\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ (这里是用命令fill或者setblock建造连接房间,但在坐标~ ~ ~位置上一定要有XX(方块),这个房间是以坐标~ ~ ~为中心，半径r的房间)\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ summon ArmorStand ~r ~ ~ {CustomName:\"door\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ summon ArmorStand ~-r ~ ~ {CustomName:\"door\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ summon ArmorStand ~ ~ ~r {CustomName:\"door\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ summon ArmorStand ~ ~ ~-r {CustomName:\"door\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ setblock ~2r ~ ~ XX\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ setblock ~-2r ~ ~ XX\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ setblock ~ ~ ~2r XX\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ setblock ~ ~ ~-2r XX\n激活\n/scoreboard players set @e th 3\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ summon ArmorStand ~ ~ ~ {CustomName:\"2a\",NoGravity:1b,Invisible:1b}\n/execute @e[score_th_min=3,score_th=3] ~ ~ ~ execute @e[type=ArmorStand,name=2] ~ ~ ~ spreadplayers ~ ~ ~2r ~2r false @e[type=ArmorStand,name=3]\n/execute @e[type=ArmorStand,name=2] ~ ~ ~ kill @e[type=ArmorStand,name=2]\n\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ (这里是用命令fill或者setblock建造顶级房间,但在坐标~ ~ ~位置上一定要有XX(方块),这个房间是以坐标~ ~ ~为中心，半径r的房间)\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ setblock ~2r ~ ~ XX\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ setblock ~-2r ~ ~ XX\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ setblock ~ ~ ~2r XX\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ setblock ~ ~ ~-2r XX\n下方命令四选一(因为只有一个门)\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ summon ArmorStand ~r ~ ~ {CustomName:\"irondoor\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ summon ArmorStand ~-r ~ ~ {CustomName:\"irondoor\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ summon ArmorStand ~ ~ ~r {CustomName:\"irondoor\",NoGravity:1b,Invisible:1b}\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ summon ArmorStand ~ ~ ~-r {CustomName:\"irondoor\",NoGravity:1b,Invisible:1b}\n激活\n/scoreboard players set @e th 4\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ summon ArmorStand ~ ~ ~ {CustomName:\"3a\",NoGravity:1b,Invisible:1b}\n/execute @e[score_th_min=4,score_th=4] ~ ~ ~ execute @e[type=ArmorStand,name=3] ~ ~ ~ spreadplayers ~ ~ ~2r ~2r false @e[type=ArmorStand,name=4]\n/execute @e[type=ArmorStand,name=3] ~ ~ ~ kill @e[type=ArmorStand,name=3]\n\n之后和上面一样，在顶级房间周围放置连接房间，如果在门旁门就会打开\n其他房间也一样\n\n/execute @e[name=BOSS名字] ~ ~ ~ execute @e[type=ArmorStand,name=3a] ~ ~ ~ summon ArmorStand ~ ~ ~ {CustomName:\"goout\",NoGravity:1b,Invisible:1b，Equipment:[{},{},{},{},{id:出口标志方块ID}]}\n激活高频(或用CB下上左右原则)\n反向检测boss的存在\n/execute @p ~ ~ ~ execute @e[type=ArmorStand,name=goout,r=1] ~ ~ ~ summon ArmorStand ~ ~ ~ {CustomName:\"1\",NoGravity:1b,Invisible:1b}\n/execute @p ~ ~ ~ execute @e[type=ArmorStand,name=goout,r=1] ~ ~ ~ summon ArmorStand ~ ~ ~ {CustomName:\"2\",NoGravity:1b,Invisible:1b}\n/execute @p ~ ~ ~ execute @e[type=ArmorStand,name=goout,r=1] ~ ~ ~ summon ArmorStand ~ ~ ~ {CustomName:\"3\",NoGravity:1b,Invisible:1b}\n激活\n/scoreboard players set @e th 1\n/execute @p ~ ~ ~ execute @e[type=ArmorStand,name=goout,r=1] ~ ~ ~ tp @p @e[type=ArmorStand,name=1]\n\n开始游戏\n/tp @p @e[type=ArmorStand,name=1a]复制代码\n\n"
        },
        {
            "author": "lzs1234",
            "timestamp": 1441325340,
            "txt_content": "请问顶端的房间意思是边缘的房间吗？"
        },
        {
            "author": "星E君",
            "timestamp": 1441371900,
            "txt_content": "Xiao2 发表于 2015-9-3 23:16\n这是我的思路：\n对，这就是我已有的算法。\n\n但是这种算法很可能把一堆房间全部放在一起，就形成了2x2,3x3，以至于5x5的大型方块。\n\n我要尽可能的避免这种可能，同时我想再看看别人有什么设计。\n\n如果没人回复的话，就是你了。。。。。"
        },
        {
            "author": "Xiao2",
            "timestamp": 1441375260,
            "txt_content": "天迹灬战狂神 发表于 2015-9-4 21:05\n对，这就是我已有的算法。\n\n但是这种算法很可能把一堆房间全部放在一起，就形成了2x2,3x3，以至于5x5的大 ...\n有可能\n不过，因为这种算法是根据盔甲架来生成房间\n如果两个盔甲架重叠就清除第二个，就不会生成房间\n不过还是有偶然性的"
        },
        {
            "author": "lzs1234",
            "timestamp": 1441377240,
            "txt_content": "10个房间有可能排为“1字型”和“一字型”吗？\n如果这样可能需要100个无重力+隐身+Marker的盔甲架"
        },
        {
            "author": "星E君",
            "timestamp": 1441378800,
            "txt_content": "lzs1234 发表于 2015-9-4 09:34\n10个房间有可能排为“1字型”和“一字型”吗？\n如果这样可能需要100个无重力+隐身+Marker的盔甲架 ...\n不可能，因为特殊房间不止一个"
        }
    ]
}