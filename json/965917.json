{
    "title": "1.8.9服务端崩溃",
    "author": "GCVillager",
    "replyCount": 10,
    "timestamp": 1582339140,
    "txt_content": " 本帖最后由 GCVillager 于 2020-2-22 11:34 编辑 \n\n下载了https://www.mcbbs.net/thread-880582-1-1.html的地图，装到1.8.9的官方服务端里（服务器内有两个op）\n\n\n\ncrash-2020-02-21_12.41.00-server.txt\n(10.1 KB, 下载次数: 6)\n\n\n\n2020-2-22 10:29 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\ncrash-2020-02-21_12.14.49-server.txt\n(10.43 KB, 下载次数: 0)\n\n\n\n2020-2-22 10:29 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\ncrash-2020-02-21_12.32.27-server.txt\n(10.12 KB, 下载次数: 5)\n\n\n\n2020-2-22 10:29 上传\n点击文件名下载附件\n\n\n\n\n\n崩溃报告全部在此\n\n地图加载完之后\n就开始疯狂刷屏，日志如下（由于中间部分基本相同，只复制一小段，完整版在这里）：\n开头：\n[12:38:58] [Server thread/INFO]: Starting minecraft server version 1.8.9\n[12:38:58] [Server thread/INFO]: Loading properties\n[12:38:58] [Server thread/INFO]: Default game type: ADVENTURE\n[12:38:58] [Server thread/INFO]: Generating keypair\n[12:39:01] [Server thread/INFO]: Starting Minecraft server on *:25565\n[12:39:01] [Server thread/INFO]: Using default channel type\n[12:39:03] [Server thread/INFO]: Preparing level \"world\"\n[12:39:04] [Server thread/INFO]: Preparing start region for level 0\n[12:39:05] [Server thread/INFO]: Preparing spawn area: 4%\n[12:39:07] [Server thread/INFO]: Preparing spawn area: 16%\n[12:39:08] [Server thread/INFO]: Preparing spawn area: 23%\n[12:39:09] [Server thread/INFO]: Preparing spawn area: 38%\n[12:39:11] [Server thread/INFO]: Preparing spawn area: 53%\n[12:39:11] [Server thread/INFO]: Done (8.278s)! For help, type \"help\" or \"?\"\n然后中间就是一大堆一样的信息快速刷屏（此处复制一小段）：\n[12:39:12] [Server thread/INFO]: [@: 11 blocks filled]\n[12:39:12] [Server thread/INFO]: [@: 11 blocks filled]\n[12:39:12] [Server thread/INFO]: [@: Playing effect flame for 1 times]\n[12:39:13] [Server thread/INFO]: [@: Changing to clear weather]\n[12:39:13] [Server thread/INFO]: [@: 31 blocks filled]\n[12:39:13] [Server thread/INFO]: [@: 31 blocks filled]\n[12:39:13] [Server thread/INFO]: [@: Object successfully summoned]\n[12:39:13] [Server thread/INFO]: [@: Teleported Armor Stand to 1273.300000011921, 12.0, -636.3972584506821]\n[12:39:13] [Server thread/INFO]: [@: 11 blocks filled]\n[12:39:13] [Server thread/INFO]: [@: 11 blocks filled]\n[12:39:13] [Server thread/INFO]: [@: Set game difficulty to Easy]\n[12:39:13] [Server thread/INFO]: [@: Playing effect flame for 1 times]\n[12:39:13] [Server thread/INFO]: [@: Changing to clear weather]\n[12:39:13] [Server thread/INFO]: [@: 31 blocks filled]\n[12:39:14] [Server thread/INFO]: [@: 31 blocks filled]\n[12:39:14] [Server thread/INFO]: [@: Object successfully summoned]\n[12:39:14] [Server thread/INFO]: [@: Teleported Armor Stand to 1273.300000011921, 12.0, -636.3972584506821]\n[12:39:14] [Server thread/INFO]: [@: 11 blocks filled]\n[12:39:14] [Server thread/INFO]: [@: 11 blocks filled]\n[12:39:14] [Server thread/INFO]: [@: Playing effect flame for 1 times]\n[12:39:14] [Server thread/INFO]: [@: Changing to clear weather]\n[12:39:15] [Server thread/INFO]: [@: 31 blocks filled]\n[12:39:15] [Server thread/INFO]: [@: 31 blocks filled]\n[12:39:15] [Server thread/INFO]: [@: Object successfully summoned]\n[12:39:15] [Server thread/INFO]: [@: Teleported Armor Stand to 1273.300000011921, 12.0, -636.3972584506821]\n[12:39:15] [Server thread/INFO]: [@: 11 blocks filled]\n[12:39:15] [Server thread/INFO]: [@: 11 blocks filled]\n[12:39:15] [Server thread/INFO]: [@: Playing effect flame for 1 times]\n[12:39:15] [Server thread/INFO]: [@: Changing to clear weather]\n[12:39:15] [Server thread/INFO]: [@: 31 blocks filled]\n[12:39:15] [Server thread/INFO]: [@: 31 blocks filled]\n\n最后是：\n[12:40:59] [Server Watchdog/FATAL]: A single server tick took 60.00 seconds (should be max 0.05)\n[12:40:59] [Server thread/INFO]: [@: 11 blocks filled]\n[12:40:59] [Server Watchdog/FATAL]: Considering it to be crashed, server will forcibly shutdown.\n[12:40:59] [Server thread/INFO]: [@: 11 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: Playing effect flame for 1 times]\n[12:41:00] [Server thread/INFO]: [@: Changing to clear weather]\n[12:41:00] [Server thread/INFO]: [@: 31 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: 31 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: Object successfully summoned]\n[12:41:00] [Server thread/INFO]: [@: Teleported Armor Stand to 1273.300000011921, 12.0, -636.3972584506821]\n[12:41:00] [Server thread/INFO]: [@: Set game difficulty to Easy]\n[12:41:00] [Server thread/INFO]: [@: 11 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: 11 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: Playing effect flame for 1 times]\n[12:41:00] [Server thread/INFO]: [@: Changing to clear weather]\n[12:41:00] [Server thread/INFO]: [@: 31 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: 31 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: Object successfully summoned]\n[12:41:00] [Server thread/INFO]: [@: Teleported Armor Stand to 1273.300000011921, 12.0, -636.3972584506821]\n[12:41:00] [Server thread/INFO]: [@: 11 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: 11 blocks filled]\n[12:41:00] [Server thread/INFO]: [@: Playing effect flame for 1 times]\n[12:41:00] [Server thread/INFO]: [@: Changing to clear weather]\n[12:41:00] [Server Watchdog/ERROR]: This crash report has been saved to: E:\\1.8.9server\\.\\crash-reports\\crash-2020-02-21_12.41.00-server.txt\n[12:41:01] [Server thread/INFO]: [@: 31 blocks filled]\n[12:41:01] [Server thread/INFO]: [@: 31 blocks filled]\n[12:41:01] [Server thread/INFO]: [@: Object successfully summoned]\n[12:41:01] [Server thread/INFO]: [@: Teleported Armor Stand to 1273.300000011921, 12.0, -636.3972584506821]\n[12:41:01] [Server thread/INFO]: [@: 11 blocks filled]\n[12:41:01] [Server Shutdown Thread/INFO]: Stopping server\n[12:41:01] [Server thread/INFO]: [@: 11 blocks filled]\n\n\n如果是一个自然生成的世界，就不会有这个现象。\n！！！注意！！！这里又刷了一个崩溃报告，内容似乎有所不同。\n\n\n\n\n\n\n\n\n\n\ncrash-2020-02-22_11.26.55-server.txt\n\n\n2020-2-22 11:32 上传\n点击文件名下载附件\n\n\n\n\n7.62 KB, 下载次数: 1\n\n\n\n\n",
    "replies": [
        {
            "author": "哦快快快",
            "timestamp": 1582339140,
            "txt_content": " 本帖最后由 哦快快快 于 2020-2-22 11:49 编辑 \nGCVillager 发表于 2020-2-22 11:01\n我服务器内存资源百分之九十都是空着的，卡顿只是偶尔的事情。。。\n阁下的崩溃报告里记录给mc分配的1g内存基本用光（应该没看错吧，我也不是专业的），而且地图本身应该就会刷高频命令\n\n用/gamerule logAdminCommands false 可以禁止刷日志\n"
        },
        {
            "author": "哦快快快",
            "timestamp": 1582339920,
            "txt_content": "服务器过于卡顿吧，地图帖子里好像有给出优化方法，试试？"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1582340340,
            "txt_content": "如果这张图放到单人上会崩吗"
        },
        {
            "author": "GCVillager",
            "timestamp": 1582340460,
            "txt_content": " 本帖最后由 GCVillager 于 2020-2-22 11:35 编辑 \n哦快快快 发表于 2020-2-22 10:52\n服务器过于卡顿吧，地图帖子里好像有给出优化方法，试试？\n我服务器内存资源百分之九十都是空着的，卡顿只是偶尔的事情。。。已经使用极致优化版了，按照地图的说法不会有太多问题，估计也很难优化？"
        },
        {
            "author": "ItIsEnderman",
            "timestamp": 1582341420,
            "txt_content": "你这长得像是有人一直在命令方块刷高频，并导致Log4j忙于记录日志\n\n请问崩溃时服务器玩家正在执行何种操作？"
        },
        {
            "author": "GCVillager",
            "timestamp": 1582342200,
            "txt_content": "ItIsEnderman 发表于 2020-2-22 11:17\n你这长得像是有人一直在命令方块刷高频，并导致Log4j忙于记录日志\n\n请问崩溃时服务器玩家正在执行何种操作 ...\n整个服务器没有玩家，都是地图自己在刷命令方块。。。\n这怎么办？"
        },
        {
            "author": "ItIsEnderman",
            "timestamp": 1582342620,
            "txt_content": "GCVillager 发表于 2020-2-22 11:30\n整个服务器没有玩家，都是地图自己在刷命令方块。。。\n这怎么办？\n暂时把server.properties的enable-command-block改成false试试"
        },
        {
            "author": "Phwan",
            "timestamp": 1582342980,
            "txt_content": "好像是有一个高频"
        },
        {
            "author": "GCVillager",
            "timestamp": 1582344780,
            "txt_content": "哦快快快 发表于 2020-2-22 11:37\n阁下的崩溃报告里记录给mc分配的1g内存基本用光（应该没看错吧，我也不是专业的），而且地图本身应该就会 ...\n日志不刷了，但是这该死的命令方块把服务器弄得经常过载（顺便说一句，内存真的很充足，你可能看错了）"
        },
        {
            "author": "GCVillager",
            "timestamp": 1582345200,
            "txt_content": "ItIsEnderman 发表于 2020-2-22 11:37\n暂时把server.properties的enable-command-block改成false试试\n确实有用，但是关掉命令方块就玩不了了……"
        }
    ]
}