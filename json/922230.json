{
    "title": "插件无法报错 无法加载 跪求大佬！！！",
    "author": "mc能吃吗",
    "replyCount": 3,
    "timestamp": 1572013620,
    "txt_content": "服务端：Paper-209 MC版本1.14.4\n报错[22:14:03 ERROR]: Could not load 'plugins\\[刷矿]ShuaKuang_0.0.1.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: java.lang.IllegalArgumentException: Plugin already initialized!\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:138) ~[patched_1.14.4.jar:git-Paper-209]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:337) ~[patched_1.14.4.jar:git-Paper-209]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:257) ~[patched_1.14.4.jar:git-Paper-209]\n        at org.bukkit.craftbukkit.v1_14_R1.CraftServer.loadPlugins(CraftServer.java:355) ~[patched_1.14.4.jar:git-Paper-209]\n        at net.minecraft.server.v1_14_R1.DedicatedServer.init(DedicatedServer.java:226) ~[patched_1.14.4.jar:git-Paper-209]\n        at net.minecraft.server.v1_14_R1.MinecraftServer.run(MinecraftServer.java:876) ~[patched_1.14.4.jar:git-Paper-209]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_202]\nCaused by: java.lang.IllegalArgumentException: Plugin already initialized!\n        at org.bukkit.plugin.java.PluginClassLoader.initialize(PluginClassLoader.java:171) ~[patched_1.14.4.jar:git-Paper-209]\n        at org.bukkit.plugin.java.JavaPlugin.<init>(JavaPlugin.java:52) ~[patched_1.14.4.jar:git-Paper-209]\n        at qq2159116373.Main.<init>(Main.java:12) ~[?:?]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_202]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[?:1.8.0_202]\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[?:1.8.0_202]\n        at java.lang.reflect.Constructor.newInstance(Unknown Source) ~[?:1.8.0_202]\n        at java.lang.Class.newInstance(Unknown Source) ~[?:1.8.0_202]\n        at org.bukkit.plugin.java.PluginClassLoader.<init>(PluginClassLoader.java:75) ~[patched_1.14.4.jar:git-Paper-209]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:134) ~[patched_1.14.4.jar:git-Paper-209]\n        ... 6 more\nCaused by: java.lang.IllegalStateException: Initial initialization\n        at org.bukkit.plugin.java.PluginClassLoader.initialize(PluginClassLoader.java:174) ~[patched_1.14.4.jar:git-Paper-209]\n        at org.bukkit.plugin.java.JavaPlugin.<init>(JavaPlugin.java:52) ~[patched_1.14.4.jar:git-Paper-209]\n        at qq2159116373.Main.<init>(Main.java:12) ~[?:?]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_202]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[?:1.8.0_202]\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[?:1.8.0_202]\n        at java.lang.reflect.Constructor.newInstance(Unknown Source) ~[?:1.8.0_202]\n        at java.lang.Class.newInstance(Unknown Source) ~[?:1.8.0_202]\n        at org.bukkit.plugin.java.PluginClassLoader.<init>(PluginClassLoader.java:75) ~[patched_1.14.4.jar:git-Paper-209]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:134) ~[patched_1.14.4.jar:git-Paper-209]\n        ... 6 more复制代码\n插件源码\npackage qq2159116373;\n\n\nimport java.io.File;\n\nimport org.bukkit.Material;\nimport org.bukkit.block.Block;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.block.BlockFromToEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class Main extends JavaPlugin implements Listener {\n\n    @Override\n    public void onEnable() {\n        if(!getDataFolder().exists()) \n        {\n        getDataFolder().mkdir();\n        }\n        File file=new File(getDataFolder(),\"config.yml\");\n        if (!(file.exists())) {saveDefaultConfig();}\n        reloadConfig();\n        getLogger().info(\"插件已加载，by mo_java30433\");\n        getLogger().info(\"当前版本0.0.1\");\n        getServer().getPluginManager().registerEvents(this, this);\n\n    }\n\n    @Override\n    public void onDisable() {\n        getLogger().info(\"插件已关闭，by mo_java30433\");\n    }\n\n    @EventHandler\n    public void mo(BlockFromToEvent e) {\n        if (true == this.getConfig().getBoolean(\"debug\")) {\n            getLogger().info(\"成功触发事件\");\n        }\n        Block b = e.getToBlock();\n        Material bm = b.getType();\n        \n        if (bm == Material.AIR || bm == Material.LAVA) {\n            \n            if (true == this.getConfig().getBoolean(\"debug\")) {\n                getLogger().info(\"成功判断方块\");\n            }\n            \n            if (e.getBlock().getLocation().getWorld().getName().equalsIgnoreCase(\"bskyblock_world\")) {\n                if (true == this.getConfig().getBoolean(\"debug\")) {\n                    getLogger().info(\"正确的世界\");\n                }\n                double r = (double)(1.0+Math.random()*(100.0-1+1));\n                //1\n                if (r <= 12.0 && r > 0.0) {\n                    b.setType(Material.COAL_ORE);\n                    return;\n                }\n                //2\n                if (r <= 12.5 && r > 12.0) {\n                    b.setType(Material.DIAMOND_ORE);\n                    return;\n                }\n                //3\n                if (r <= 13.0 && r > 12.5) {\n                    b.setType(Material.EMERALD_ORE);\n                    return;\n                }\n                //4\n                if (r <= 15.0 && r > 13.0) {\n                    b.setType(Material.GOLD_ORE);\n                    return;\n                }\n                //5\n                if (r <= 23.0 && r > 15.0) {\n                    b.setType(Material.IRON_ORE);\n                    return;\n                }\n                //6\n                if (r <= 24.0 && r > 23.0) {\n                    b.setType(Material.LAPIS_ORE);\n                    return;\n                }\n                //7\n                if (r <= 25.0 && r > 24.0) {\n                    b.setType(Material.REDSTONE_ORE);\n                    return;\n                }\n                //8\n                if (r <= 25.1 && r > 25.0) {\n                    b.setType(Material.OBSIDIAN);\n                    return;\n                }\n                //end\n                if (r <= 100 && r > 25.1) {\n                    return;\n                }\n                \n            }\n            \n            if (e.getBlock().getLocation().getWorld().getName().equalsIgnoreCase(\"bskyblock_world_nether\")) {\n                \n                if (true == this.getConfig().getBoolean(\"debug\")) {\n                    getLogger().info(\"正确的世界\");\n                }\n                \n                double r = (double)(1.0+Math.random()*(100.0-1+1));\n                //1\n                if (r <= 3.0 && r > 0.0) {\n                    b.setType(Material.QUARTZ_ORE);\n                    return;\n                }\n                //2\n                if (r <= 6.0 && r > 3.0) {\n                    b.setType(Material.GLOWSTONE);\n                    return;\n                }\n                //3\n                if (r <= 7.0 && r > 6.0) {\n                    b.setType(Material.SOUL_SAND);\n                    return;\n                }\n                //4\n                if (r <= 100.0 && r > 7.0) {\n                    b.setType(Material.NETHERRACK);\n                    return;\n                }\n                \n            }\n            \n            if (e.getBlock().getLocation().getWorld().getName().equalsIgnoreCase(\"bskyblock_world_the_end\")) {\n                \n                if (true == this.getConfig().getBoolean(\"debug\")) {\n                    getLogger().info(\"正确的世界\");\n                }\n        \n                b.setType(Material.QUARTZ_ORE);\n                return;\n            }\n        }\n    }\n}\n复制代码\n\n",
    "replies": [
        {
            "author": "apacheii",
            "timestamp": 1572013620,
            "txt_content": "对的,包和主类名称一样,bukkit在加载的时候就会出现冲突\n包命名和主类按照标准格式来,比如com.qq.2159116373.shuakuang\nmain: com.qq.2159116373.shuakuang.ShuaKuang"
        },
        {
            "author": "apacheii",
            "timestamp": 1572018360,
            "txt_content": "能把plugin.yml贴出来看看吗?\n会不会是插件目录里太多这个插件了...\n再试试onEnable()里加上super.onEnable();呢?"
        },
        {
            "author": "mc能吃吗",
            "timestamp": 1572049080,
            "txt_content": "apacheii 发表于 2019-10-25 23:46\n能把plugin.yml贴出来看看吗?\n会不会是插件目录里太多这个插件了...\n再试试onEnable()里加上super.onEnable ...\nname: ShuaKuang\nmain: qq2159116373.Main\nversion: 0.0.1\napi-version: 1.13\n这个是plugins内容\n然后我有一个插件除了名字不同以外包和主类名称都是一样的\n就都是qq2159116373.Main\n是不是这个原因?重构重命名能否解决？"
        }
    ]
}