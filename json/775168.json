{
    "title": "【TCP|skeleton小白】【18w02a】单实体追踪导弹",
    "author": "skeleton小白",
    "replyCount": 7,
    "timestamp": 1515870660,
    "txt_content": " 本帖最后由 skeleton小白 于 2018-1-17 00:34 编辑 \n\n这是TCP军工发的第...几个来着？导弹帖了233333\n\n\n原本在17w50a版本下就想好了一个用实体面向移动的方法做的追踪导弹，算法什么的全推好了一直没时间做，直到新快照发布之后一看新添加的这个facing...太强大了，白推那么多算法了...\n\n\n新版本强大的指令省去了实体，相比以前一个导弹带着一堆as一起飞的场景，新版本的效率不知道要高了多少......\n\n效果图：（没错这次挨打的还是村民）\n\n\n\n原理讲解：\n\nscoreboard objectives add click minecraft.used:minecraft.carrot_on_a_stick复制代码首先添加名为click的计分板探测萝卜钓竿右键，用以触发\n\n（以下高频部分）\nexecute if entity @e[tag=target] at @a[scores={click=1}] run summon area_effect_cloud ~ ~ ~ {Duration:2100000000,Tags:[\"missile\"]}复制代码探测右键萝卜钓竿的玩家并生成名为missile的药水云。貌似新版本药水云没法用CustomName，只能扔个tag上去了\n\nexecute at @e[type=area_effect_cloud,tag=missile] run particle flame ~ ~ ~ 0 0 0 1 0复制代码火花粒子特效\n\n<p>execute as @e[type=area_effect_cloud,tag=missile] at @s positioned ~ ~-1.62 ~ as @e[distance=..0.5,tag=target] run effect give @s instant_damage 1 2</p><p>execute as @e[type=area_effect_cloud,tag=missile] at @s positioned ~ ~-1.62 ~ if entity @e[distance=..0.5,tag=target] run kill @s</p>复制代码如果导弹撞上了目标，那么给目标顺伤并清掉药水云。因为导弹是朝着目标的眼睛飞去的（见下一条指令），而实体的坐标位置在脚上，所以要将y坐标减去1.62探测\n\nexecute as @e[type=area_effect_cloud,tag=missile] at @s facing entity @e[limit=1,sort=nearest,tag=target] eyes run tp @s ^ ^ ^0.3复制代码将药水云向着目标眼睛方向tp0.3格。facing entity <entity> (eyes|feet)用于在命令执行时视为执行者朝向目标实体的眼部或脚步（但并不是真正转过去），配合局部坐标使用有很神奇的效果\n\nexecute as @e[type=area_effect_cloud,tag=missile] unless entity @e[tag=target] run kill @s复制代码如果找不到任何目标，就清掉导弹\n\nscoreboard players set @a click 0复制代码计分板清零\n\n\n然后把需要追踪的实体丢上一个target标签（上图为村民）就行了\n\n\n数据包：\n\n\n\ntracking_missile.zip\n(1.82 KB, 下载次数: 14)\n\n\n\n2018-1-14 03:11 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\n因为是熬夜修仙时码的帖，神志不太清所以有些错误，现已更正，感谢诸位提醒!\n\n[groupid=1009]The Command's Power[/groupid]",
    "replies": [
        {
            "author": "MineCrocodile",
            "timestamp": 1515898020,
            "txt_content": " 本帖最后由 MineCrocodile 于 2018-1-14 10:53 编辑 \n\nexecute as @e[type=area_effect_cloud,tag=missile] at @s positioned ~ ~-1.62 ~ as @e[distance=..0.5,tag=target] run effect give @s instant_damage 1 2\n\n这句是不是写错了为啥两个as？\n\ncustomname现在后面跟的是“{\\“text\\“：\\“xxx\\”}”这种\n\n局部坐标配合facing那部分能再详细讲一点么？^ ^ ^这个每一个指的是哪个方向？谢谢\n\n\n高端"
        },
        {
            "author": "chyx",
            "timestamp": 1515898740,
            "txt_content": "MineCrocodile 发表于 2018-1-14 10:47\nexecute as @e[type=area_effect_cloud,tag=missile] at @s positioned ~ ~-1.62 ~ as @e[distance=..0.5,t ...\n为啥有两个as就是写错了？"
        },
        {
            "author": "MineCrocodile",
            "timestamp": 1515903000,
            "txt_content": "chyx 发表于 2018-1-14 10:59\n为啥有两个as就是写错了？\n原来还可以这样用"
        },
        {
            "author": "雷鸣·翾鹗",
            "timestamp": 1515904860,
            "txt_content": "sk成功成为军工宣传委员"
        },
        {
            "author": "pca006132",
            "timestamp": 1515906660,
            "txt_content": "论tcp对导弹的执念2333\n我觉得那导弹攻击到实体之后不消失而是继续对着最近的目标攻击，甚至分裂攻击会更炫酷2333"
        },
        {
            "author": "玄素",
            "timestamp": 1515924300,
            "txt_content": "你这个带着个aec不能叫无实体呀……无实体是syl搞激光那种直接一个function递归出去完全不依赖媒介实体才算的\n不过facing rotated这几个的确是挺能搞事的没错"
        },
        {
            "author": "pineapple_",
            "timestamp": 1515925560,
            "txt_content": "tcp:不给人气，就导弹\n\n成功被无实体骗进来，明明是有实体的嘛\n\n如果不要击退效果，我的枪才是无实体的\n\nexecute as @e[type=area_effect_cloud,tag=missile] at @s facing entity @e[limit=1,sort=nearest,tag=target] eyes run tp @s ^ ^ ^0.3\n复制代码\n将药水云向着目标眼睛方向tp0.03格。facing entity <entity> (eyes|feet)用于在命令执行时视为执行者朝向目标实体的眼部或脚步（但并不是真正转过去），配合局部坐标使用有很神奇的效果\n\n是0.3不是0.03"
        }
    ]
}