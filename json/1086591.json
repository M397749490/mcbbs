{
    "title": "[其他]PlayerDogTag —— 玩家狗牌插件[1.7.10]",
    "author": "1346889484",
    "replyCount": 10,
    "timestamp": 1595746740,
    "txt_content": " 本帖最后由 1346889484 于 2020-7-27 11:06 编辑 \n\n\n\n\n\nfile_1595746597000.jpg (124.36 KB, 下载次数: 0)\n\n下载附件\n\n2020-7-26 14:56 上传\n\n\n\n\n\nconfig\nItemID: 4686复制代码src\n\n\npackage com.github.aimercet.playerdogtag;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.Material;\nimport org.bukkit.configuration.file.FileConfiguration;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.HandlerList;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.entity.PlayerDeathEvent;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.PlayerInventory;\nimport org.bukkit.inventory.meta.ItemMeta;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class PlayerDogTag extends JavaPlugin implements Listener{\n\n        public static int itemID;\n        \n        @Override\n        public void onEnable(){\n                \n                getLogger().info(\"玩家狗牌插件启用\");\n                Bukkit.getPluginManager().registerEvents(this, this);\n                saveDefaultConfig();\n                FileConfiguration config = getConfig();\n                int temp = config.getInt(\"ItemID\");\n                itemID = temp;\n                \n        }\n        @Override\n        public void onDisable(){\n                \n                getLogger().info(\"玩家狗牌插件卸载\");\n                HandlerList.unregisterAll();\n                \n        }\n        @EventHandler\n        public void playerDeath(PlayerDeathEvent evt){\n                \n                \n                Player dP = evt.getEntity();\n                Player kP = evt.getEntity().getKiller();\n                String dPName = evt.getEntity().getName();\n                String kPName = evt.getEntity().getKiller().getName();\n                int levelDogTag = evt.getEntity().getLevel();\n                String weapon = kP.getItemInHand().getType().name();\n                SimpleDateFormat killTime = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n                String world = evt.getEntity().getWorld().getName();//获取世界名字\n                ItemStack itemDogTag = new ItemStack(Material.getMaterial(itemID));\n                ItemMeta metaDogTag = itemDogTag.getItemMeta();\n                metaDogTag.setDisplayName(\"§6\" + dPName + \"§f的狗牌\");\n                \n                List<String> loreDogTag = new ArrayList<String>();\n                loreDogTag.add(\"§c击杀:\" + \"§f\" + kPName);\n                loreDogTag.add(\"§c时间:\" + \"§f\" + killTime.format(new Date()));\n                loreDogTag.add(\"§c世界:\" + \"§f\" + world);\n                loreDogTag.add(\"§c武器:\" + \"§f\" + weapon);\n                loreDogTag.add(\"§c等级:\" + \"§f\" + levelDogTag);\n                metaDogTag.setLore(loreDogTag);\n                itemDogTag.setItemMeta(metaDogTag);\n                \n                dP.sendMessage(\"你被§4§l\" + kPName + \"§f杀死\");\n                kP.getInventory().addItem(itemDogTag);\n        }\n}\n复制代码\n更新玩家检测\n\n\n\nDogTag.jar\n(3.36 KB, 下载次数: 186)\n\n\n\n2020-7-27 11:06 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "WuXNEK.",
            "timestamp": 1595747220,
            "txt_content": "A1奥里给吃粑粑"
        },
        {
            "author": "290MC",
            "timestamp": 1595747640,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "1346889484",
            "timestamp": 1595749200,
            "txt_content": "290MC 发表于 2020-7-26 15:14\n有啥用\n击杀获得狗牌"
        },
        {
            "author": "名副其实",
            "timestamp": 1595759820,
            "txt_content": "1346889484 发表于 2020-7-26 15:40\n击杀获得狗牌\n没记错的话这是1.7一些服务器很有特色的东西、\n老老玩家了"
        },
        {
            "author": "Swat特警",
            "timestamp": 1596337080,
            "txt_content": "哎还不错"
        },
        {
            "author": "杨_哥",
            "timestamp": 1598237160,
            "txt_content": "路过的萌新来水贴\n没经验下载插件真的是太惨了"
        },
        {
            "author": "3061534651",
            "timestamp": 1606893660,
            "txt_content": "狗牌，我的天，太有意思了"
        },
        {
            "author": "LONGYONG",
            "timestamp": 1612863720,
            "txt_content": "不错的插件"
        },
        {
            "author": "531569",
            "timestamp": 1612896240,
            "txt_content": "66666枪械服务器很好用"
        },
        {
            "author": "洗衣机好帅",
            "timestamp": 1612926540,
            "txt_content": "非常不错的插件，感谢大佬"
        }
    ]
}