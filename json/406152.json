{
    "title": "自定义NPC的血量问题",
    "author": "特伦酥",
    "replyCount": 6,
    "timestamp": 1423549560,
    "txt_content": "为什么有时候NPC身上会一直出现回复血量，要重置NPC才能消除，有时候重置都无法消除，虽然不是每个NPC都这样，但是看着很烦，求解。\n另外，怎么修改自定义NPC的最大血量，默认最大血量只有3W多，如果弄RPG服可不可以弄10多W\n\n\n\n\n\nQQ图片20150210142322.jpg\n(85.54 KB, 下载次数: 2)\n\n\n\n\n下载附件\n\n\n2015-2-10 14:25 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "平凡的行者",
            "timestamp": 1423549560,
            "txt_content": "不断回血那个我不清楚原因...不过服里很少发生这种情况，所以也没特别去追究。\n\n至于如何设定NPC的血量上限超过32767，我这里有3个方法：\n第一个就是用NbtExplorer修改，找到NPC所在的区块后，去修改NPC下的MaxHealth数值即可。\n不过这个要从外部修改，而且要劳烦你打开小算盘去计算NPC在哪个座标，很不方便，但是各版本通用。\n第二个你可以用IngameNbtEdit修改，修改的资料跟上面一样，只是换个方法修改NBT资料而已。\n\n不过如果你不想额外装mod修改NPC的话(据我所知，好像没有1.7.10版的IngameNbtedit)。\n第三个方法，用NPC模组的脚本修改(1.7.2以上版本的NPC模组有脚本魔杖，可以写脚本控制NPC的行为)\n如下图：(这里以1.7.10c版的为例)\n\n\n\n\njavaw 2015-02-10 20-21-03-161.jpg (49.97 KB, 下载次数: 3)\n\n下载附件\n\n2015-2-10 20:32 上传\n\n\n\n\n\n\n如图，我在Init的区块里，使用了npc物件下的setMaxHealth()方法，把NPC的血量上限修改为300万。\nInit区块里的程式，在NPC每次被服务器读入、或者用脚本魔杖、NPC魔杖、或者死亡后重生时皆会执行一次。\n然后设定完后结果如图：(记得把Enable改成Yes，这样脚本才会被执行)\n\n\n\n\njavaw 2015-02-10 20-21-18-045.jpg (92.16 KB, 下载次数: 2)\n\n下载附件\n\n2015-2-10 20:32 上传\n\n\n\n\n\n\nNPC的最大血量变成300万了，如果不用NPC魔杖再次去修改他的血量的话，基本上这设定不会跑掉。\n\nNPC脚本用的语言是javascript，如果对它有一些了解的话可以试着写写看脚本(NPC模组作者有提供NPC脚本的API，在第一张图的Website点进去就行)\n(NPC脚本也支援其他脚本语言，你可以点进第一张图的Website看看)\n"
        },
        {
            "author": "左右减前后",
            "timestamp": 1423556220,
            "txt_content": "三万就行了啊，但是回复血量这个问题可能是插件不行= ="
        },
        {
            "author": "口可居士",
            "timestamp": 1423556340,
            "txt_content": "奥。。。。想起来了，好像有。一个键是用来调的，你自己找一下，我忘了在哪。。。"
        },
        {
            "author": "特伦酥",
            "timestamp": 1423568340,
            "txt_content": "左右减前后 发表于 2015-2-10 16:17\n三万就行了啊，但是回复血量这个问题可能是插件不行= =\n你这不是等于没回答么.....就是三W太少了啊，我想调高"
        },
        {
            "author": "特伦酥",
            "timestamp": 1423568400,
            "txt_content": "口可居士 发表于 2015-2-10 16:19\n**** 作者被禁止或删除 内容自动屏蔽 ****\n这不负责任的回答是咱回事_(:з」∠)_"
        },
        {
            "author": "平凡的行者",
            "timestamp": 1423573140,
            "txt_content": "不过老实说，如果要做为BOSS，3万血已经很够用了，\n然后就是帖子的修改按钮跑哪去了???{:10_524:}"
        }
    ]
}