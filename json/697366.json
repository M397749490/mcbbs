{
    "title": "[PCD][管理]UnknownCommand——修改你未知指令的消息提示!告别英文![全版本]",
    "author": "弱鸡绿毛怪",
    "replyCount": 17,
    "timestamp": 1497091140,
    "txt_content": " 本帖最后由 1582952890 于 2017-9-16 16:12 编辑 \nUnknownCommand——修改你的未知指令提示，告别英文提示吧!\n于是我又带来一个非常简单但是实用的插件:\n效果图:\n\n\n\n\n\n1.png (25.44 KB, 下载次数: 5)\n\n下载附件\n\n2017-6-10 18:37 上传\n\n\n\n\n\n\n\n指令:\n无\n\n权限:\n无\n\n配置文件:\nmsg: \"&7&l未知指令，请输入 &a&l/help &7&l来查看所有的指令!\"  #这个可以改#成你想修改的信息，记得修改后重启服务器(我就懒得写重载指令了)\n\n下载地址:\nhttp://pan.baidu.com/s/1geSCSi3开源(仅供学习，禁止模仿抄袭):\n[/quote]\n [quote]import java.util.ArrayList;import java.util.List;\nimport org.bukkit.Bukkit;import org.bukkit.ChatColor;import org.bukkit.event.EventHandler;import org.bukkit.event.EventPriority;import org.bukkit.event.Listener;import org.bukkit.event.player.PlayerCommandPreprocessEvent;import org.bukkit.event.server.PluginEnableEvent;import org.bukkit.plugin.java.JavaPlugin;\npublic class Main extends JavaPlugin implements Listener{List<String> command = new ArrayList<>();@Overridepublic void onEnable(){Bukkit.getPluginManager().registerEvents(this, this);saveDefaultConfig();reloadConfig();}@EventHandlerpublic void onLoad(PluginEnableEvent e){try{for(String s:e.getPlugin().getDescription().getCommands().keySet()){        command.add(\"/\"+s);}}catch(NullPointerException e1){}}@EventHandler(priority=EventPriority.LOWEST)public void onCommand(PlayerCommandPreprocessEvent e){for(String s:command){                if(e.getMessage().equalsIgnoreCase(s)){                return;        }}e.getPlayer().sendMessage(ChatColor.translateAlternateColorCodes('&',getConfig().getString(\"msg\")));e.setCancelled(true);}}\n\n\n\n\n本插件所用所有代码均为原创,不存在借用/抄袭/违反协议等行为\n\n",
    "replies": [
        {
            "author": "Ano末路情",
            "timestamp": 1497091380,
            "txt_content": "看简介看着看到 中文名称哈哈哈哈哈"
        },
        {
            "author": "Hao_cen",
            "timestamp": 1497095040,
            "txt_content": "然而spigot服务器自带这个功能，可以在 spigot.yml 里面改\nmessages:\n  whitelist: You are not whitelisted on this server!\n  unknown-command: Unknown command. Type \"/help\" for help.\n  server-full: The server is full!\n  outdated-client: Outdated client! Please use {0}\n  outdated-server: Outdated server! I'm still on {0}\n  restart: Server is restarting复制代码"
        },
        {
            "author": "我真的笑了",
            "timestamp": 1497095580,
            "txt_content": "简单的来说 作者也就是把读取后的配置复制了spigot的内容 然后替换了默认的内容 好吧 虽然来说很简单 但是还是支持一个"
        },
        {
            "author": "鬼氏艹",
            "timestamp": 1497096540,
            "txt_content": "547932052 发表于 2017-6-10 19:44\n然而spigot服务器自带这个功能，可以在 spigot.yml 里面改\n+1,我正想说水龙头和纸龙头带这个功能"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1497099060,
            "txt_content": "我真的笑了 发表于 2017-6-10 19:53\n简单的来说 作者也就是把读取后的配置复制了spigot的内容 然后替换了默认的内容 好吧 虽然来说很简单 但是 ...\n我知道spigot.yml里面能换，但我不是这么做的"
        },
        {
            "author": "迷の十六",
            "timestamp": 1497102780,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "黑",
            "timestamp": 1497104820,
            "txt_content": "如果其他插件作者懒得注册指令\n而是直接使用 PlayerCommandPreprocessEvent 创建指令。\n那岂不是每次使用指令都会弹出提示？\n\n我觉得应该改成这样。\n@EventHandler(priority=EventPriority.HIGH)\npublic void onCommand(PlayerCommandPreprocessEvent e){\n    if (e.isCancelled()){\n        return;\n        }\n    for(String s:command){\n        if(e.getMessage().equalsIgnoreCase(s)){\n                return;\n        }\n    }\n    e.getPlayer().sendMessage(ChatColor.translateAlternateColorCodes('&',getConfig().getString(\"msg\")));\n    e.setCancelled(true);"
        },
        {
            "author": "EmptyV",
            "timestamp": 1497379140,
            "txt_content": "登录都显示自定义内容 2333"
        },
        {
            "author": "Drxuri",
            "timestamp": 1497402780,
            "txt_content": "可以的，虽然水龙头有这个功能"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1497426960,
            "txt_content": "EmptyV 发表于 2017-6-14 02:39\n登录都显示自定义内容 2333\n那只能说明你登录时有插件自带输入指令"
        },
        {
            "author": "Aaron.Hzy",
            "timestamp": 1514709540,
            "txt_content": "我输入 /stop 都弹出提示。。。"
        },
        {
            "author": "Grace_Black",
            "timestamp": 1515318900,
            "txt_content": "有BUG，管理员输入/gm 1 都不行还显示未知指令信息"
        },
        {
            "author": "hjyy0410",
            "timestamp": 1515471600,
            "txt_content": "可以！很棒棒"
        },
        {
            "author": "Eiup_Niow",
            "timestamp": 1519785180,
            "txt_content": "其实没必要吧 这个插件…"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1519982580,
            "txt_content": "Eiup_Niow 发表于 2018-2-28 10:33\n其实没必要吧 这个插件…\n本来就是好久以前的插件了\n如果你不喜欢 没必要挖出千年老坟再喷一句"
        },
        {
            "author": "新东方教主",
            "timestamp": 1525168020,
            "txt_content": "这·····spigot.yml哭晕在厕所"
        },
        {
            "author": "我的歌11",
            "timestamp": 1525178700,
            "txt_content": "看看好不好玩的插件"
        }
    ]
}