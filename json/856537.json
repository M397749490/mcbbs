{
    "title": "Linux 服务器一键运行官方基岩版服务器",
    "author": "nswebfrog",
    "replyCount": 20,
    "timestamp": 1554819120,
    "txt_content": " 本帖最后由 nswebfrog 于 2019-4-10 08:50 编辑 \n\n阅读提示：需要有 ssh 操作 Linux 的经验\n\n一键启动服务器\n\n基于容器技术，在任何装有 Docker 环境的操作系统下，只需一个命令就可以启动基岩版官方服务器：\n\ndocker run -d --restart=always --name=mc-bedrock-server --net=host nswebfrog/mc-bedrock-server:1.10.0.7复制代码\n\n补充\n\n如果当前 Linux 没有 Docker 环境，可以使用以下命令安装 Docker：\n\n$ curl -fsSL https://get.docker.com -o get-docker.sh\n$ sudo sh get-docker.sh复制代码\nDocker 安装完后启动:\n$ sudo systemctl enable docker\n$ sudo systemctl start docker复制代码\n\n",
    "replies": [
        {
            "author": "Akkariin",
            "timestamp": 1554839880,
            "txt_content": "然而 Docker 安装完了还需要 systemctl start docker 来启动"
        },
        {
            "author": "nswebfrog",
            "timestamp": 1554857100,
            "txt_content": "Akkariin 发表于 2019-4-10 03:58\n然而 Docker 安装完了还需要 systemctl start docker 来启动\n嗯嗯，添加上了。"
        },
        {
            "author": "a389434713",
            "timestamp": 1556156760,
            "txt_content": "系统不同命令也不同，看你最后的命令是centos 7的命令。"
        },
        {
            "author": "nswebfrog",
            "timestamp": 1556183940,
            "txt_content": "a389434713 发表于 2019-4-25 09:46\n系统不同命令也不同，看你最后的命令是centos 7的命令。\n 嗯。。。。 这是 systemd 的命令"
        },
        {
            "author": "a389434713",
            "timestamp": 1556202540,
            "txt_content": "nswebfrog 发表于 2019-4-25 17:19\n嗯。。。。 这是 systemd 的命令\nemmm ，redhat 6 centos6之前的版本都用不了 systemctl 这个吧。"
        },
        {
            "author": "nswebfrog",
            "timestamp": 1556240040,
            "txt_content": "a389434713 发表于 2019-4-25 22:29\nemmm ，redhat 6 centos6之前的版本都用不了 systemctl 这个吧。\n是的。 Systemd 在 centOS 7 才变成系统内置"
        },
        {
            "author": "szmimc",
            "timestamp": 1558107000,
            "txt_content": "官方服务端什么版本开服就是什么版本吗"
        },
        {
            "author": "nswebfrog",
            "timestamp": 1558242600,
            "txt_content": "szmimc 发表于 2019-5-17 23:30\n官方服务端什么版本开服就是什么版本吗\n需要我更新一下，这个 docker 镜像是我在维护的。"
        },
        {
            "author": "a'ゞTeai",
            "timestamp": 1560339000,
            "txt_content": "有什么用？？？？"
        },
        {
            "author": "lein317",
            "timestamp": 1567850160,
            "txt_content": "[root@iZwz93h5n3zt8geq1dhaxrZ minecraft]# ls\nbedrock_server  bedrock-server-1.12.1.1.zip  bedrock_server_how_to.html  behavior_packs  definitions  libCrypto.so  permissions.json  release-notes.txt  resource_packs  server.properties  structures  whitelist.json\n复制代码\n[root@iZwz93h5n3zt8geq1dhaxrZ minecraft]# docker run -d --restart=always --name=mc-bedrock-server --net=0.0.0.0 ./bedrock-server:1.12.1.1\ndocker: invalid reference format.\nSee 'docker run --help'.\n复制代码"
        },
        {
            "author": "lein317",
            "timestamp": 1567855680,
            "txt_content": "lein317 发表于 2019-9-7 17:56\n我理解错命令的意思了。\n照作者的其实运行成功了，\n\n但版本比较老了。\n\n我想自己搞一个docker镜像。作者牛啊，貌似把镜像传到了网上，下载也很快。\n我把centos 7的glibc libstdc++都升级了，运行bedrock_server报段错误。\n\n请教下，docker是可以模拟ubuntu环境吗？"
        },
        {
            "author": "lein317",
            "timestamp": 1567855740,
            "txt_content": "大牛，你好  我把centos 7的glibc libstdc++都升级了，运行bedrock_server报段错误。  请教下，docker是可以模拟ubuntu环境吗？ 或者请问你的glibc、 libstdc++的版本？"
        },
        {
            "author": "nswebfrog",
            "timestamp": 1568003280,
            "txt_content": "lein317 发表于 2019-9-7 19:29\n大牛，你好  我把centos 7的glibc libstdc++都升级了，运行bedrock_server报段错误。  请教下，docker是可 ...\n对，你理解的没错，就是 docker 有基于 ubuntu 的镜像，而 docker 在 Linux 发行版上都是可以运行的。这就是 docker 的优势。"
        },
        {
            "author": "lein317",
            "timestamp": 1568004780,
            "txt_content": "nswebfrog 发表于 2019-9-9 12:28\n对，你理解的没错，就是 docker 有基于 ubuntu 的镜像，而 docker 在 Linux 发行版上都是可以运行的。这就 ...\n我对docker的力量一无所知，\n我也想在centos上跑。\n\n我百度话，改百度什么关键字呢？\n我先试试 docker centos ubuntu镜像\n谢大佬~ "
        },
        {
            "author": "lein317",
            "timestamp": 1568004960,
            "txt_content": "nswebfrog 发表于 2019-9-9 12:28\n对，你理解的没错，就是 docker 有基于 ubuntu 的镜像，而 docker 在 Linux 发行版上都是可以运行的。这就 ...\n不过有点儿难以置信啊，你那个镜像，积分钟就下载运行了~不太像在一个系统上运行另外一个系统啊"
        },
        {
            "author": "nswebfrog",
            "timestamp": 1568022780,
            "txt_content": "lein317 发表于 2019-9-9 12:56\n不过有点儿难以置信啊，你那个镜像，积分钟就下载运行了~不太像在一个系统上运行另外一个系统啊 ...\nDocker 是基于 Linux 内核衍生出来的一种虚拟化技术，在 Linux 系统下，是跟宿主机共用同一个内核的，所以启动非常快。"
        },
        {
            "author": "lein317",
            "timestamp": 1568085720,
            "txt_content": "lein317 发表于 2019-9-9 12:53\n我对docker的力量一无所知，\n我也想在centos上跑。\n已解决\n\n=====================================================\n下载服务器端\nhttps://minecraft.net/zh-hans/download/server/bedrock/\n\nputty连接上你的服务器\n安装docker\n\ncurl -fsSL https://get.docker.com -o get-docker.sh\nsh get-docker.sh\nsystemctl start docker\ndocker pull ubuntu\n\ndocker run -p 0.0.0.0:19132:19132/udp -dit --name lein_mc_bedrock ubuntu\ndocker container ls\ndocker exec 74f74211259d mkdir -p /data/games/minecraft\ndocker cp /data/bedrock-server-1.12.1.1.zip 74f74211259d:/data/games/minecraft/\ndocker attach 74f74211259d \n\ncat /etc/issue\n\necho \"deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\" > /etc/apt/sources.list\necho \"deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse\" >> /etc/apt/sources.list\necho \"deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse\" >> /etc/apt/sources.list\napt-get update\n\n\napt-get install -y zip\napt-get install -y libcurl4-openssl-dev \n\ncd /data/games/minecraft\nunzip bedrock-server-1.12.1.1.zip \nLD_LIBRARY_PATH=. ./bedrock_server\n\n/////////////////////////////////////////////////复制代码"
        },
        {
            "author": "mohist",
            "timestamp": 1570266540,
            "txt_content": "不错教程，希望写一个windows一键开服帖子更好吧"
        },
        {
            "author": "nswebfrog",
            "timestamp": 1570494120,
            "txt_content": " 本帖最后由 nswebfrog 于 2019-10-8 08:26 编辑 \nlein317 发表于 2019-9-10 11:22\n已解决\n学的好快。\n\n补充一下，你的这些命令是可以提前执行好，封装成一个 Docker 镜像。然后就可以一个命令直接执行了。\n\n提供一下我的 Dockerfile 文件：\n\nFROM ubuntu:18.04\n\nARG BEDROCK_VER=1.12.1.1\n\nEXPOSE 19132\nVOLUME /opt/server/mc-bedrock/world\n\nENV TZ=Asia/Shanghai\nRUN apt-get update \\\n  && apt-get install -y wget unzip curl \\\n  && mkdir -p /opt/server/mc-bedrock && cd /opt/server/mc-bedrock \\\n  && wget https://minecraft.azureedge.net/bin-linux/bedrock-server-${BEDROCK_VER}.zip \\\n      -O /opt/server/mc-bedrock/server.zip \\\n  && unzip server.zip && rm server.zip \\\n  && apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nWORKDIR /opt/server/mc-bedrock\nENV LD_LIBRARY_PATH=/opt/server/mc-bedrock\nCMD [\"./bedrock_server\"]复制代码\n\n打包镜像的命令：\n\ndocker build -t mc-bedrock-server .复制代码\n\n运行镜像的命令：\n\ndocker run -d --restart=always --name=mc-bedrock-server --net=host mc-bedrock-server复制代码\n\n如果要更新官方的镜像，只需要修改 Dockerfile 里的 BEDROCK_VER 参数就好。\n\n备注： Dockerfile 里的官方 server 文件地址由于服务器在国外无法直接下载到。"
        },
        {
            "author": "我的祢豆子",
            "timestamp": 1574121420,
            "txt_content": "666666666666666"
        }
    ]
}