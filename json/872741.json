{
    "title": "跨ip的跨服群组服如何防止别人本地部署BungeeCord端直接指向子服务器",
    "author": "中华博",
    "replyCount": 16,
    "timestamp": 1560344100,
    "txt_content": " 本帖最后由 中华博 于 2019-6-12 21:00 编辑 \n\n这个漏洞如果都是同一个电脑跨服好解决，直接内网127.0.0.1禁止外网联入，但是我是两个外网IP的跨服，必须要1个指定外网能联入另一个指定外网，天空学院出了一个解决方案如图\n\n\n\n\n360截图16640323909484.jpg (192.44 KB, 下载次数: 0)\n\n下载附件\n\n2019-6-12 20:49 上传\n\n\n\n\n\n\n他说把子服的server-ip=变为那个外网IP，然而改了后就没法开服了，如图\n\n\n\n\n\nQQ图片20190612205424.png (30.88 KB, 下载次数: 0)\n\n下载附件\n\n2019-6-12 20:54 上传\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "恋",
            "timestamp": 1560344100,
            "txt_content": "中华博 发表于 2019-6-12 22:04\n这句不太懂耶，可以详细说一下嘛。\n这个漏洞别人会很容易查到我子服的ip吗？如果不好查就不用管了嘛 ...\n这个漏洞不好查子服IP BC是代理端 会首先连接BC端 然后BC端连接子服 就算是ping 也是到你的BC端 除非你把子服IP告诉其他人 基本上查不到 主要这个漏洞是针对单台服务器情况下  因为单台服务器BC和子服IP都是一样的"
        },
        {
            "author": "xmdhs",
            "timestamp": 1560344280,
            "txt_content": "你是打开了两个服务端吗。（一台服务器上）\n\n端口冲突了"
        },
        {
            "author": "中华博",
            "timestamp": 1560344400,
            "txt_content": "xmdhs 发表于 2019-6-12 20:58\n你是打开了两个服务端吗。（一台服务器上）\n\n端口冲突了\n没有，只是开一个端"
        },
        {
            "author": "xmdhs",
            "timestamp": 1560344580,
            "txt_content": "中华博 发表于 2019-6-12 21:00\n没有，只是开一个端\n明明就是端口占用了。。\n\n你按这个教程操作一番吧 http://jingyan.baidu.com/article ... d34491d47e10be358b8"
        },
        {
            "author": "中华博",
            "timestamp": 1560345540,
            "txt_content": "xmdhs 发表于 2019-6-12 21:03\n明明就是端口占用了。。\n\n你按这个教程操作一番吧 http://jingyan.baidu.com/article/3c48dd34491d47e10b ...\n我看了 我用25567开，但是真没被占用，没找到那个端口被占用\n\n\n\n\n\n360截图16470419449863.jpg (348.63 KB, 下载次数: 0)\n\n下载附件\n\n2019-6-12 21:19 上传\n\n\n\n\n\n"
        },
        {
            "author": "xmdhs",
            "timestamp": 1560345840,
            "txt_content": "中华博 发表于 2019-6-12 21:19\n我看了 我用25567开，但是真没被占用，没找到那个端口被占用\n1.5.8 是什么骚操作"
        },
        {
            "author": "恋",
            "timestamp": 1560345960,
            "txt_content": "跨IP的话你把server-ip=  填写成你BC端服务器的地址 别填写开服服务器的外网地址"
        },
        {
            "author": "中华博",
            "timestamp": 1560347040,
            "txt_content": "HTL9257 发表于 2019-6-12 21:26\n跨IP的话你把server-ip=  填写成你BC端服务器的地址 别填写开服服务器的外网地址  ...\n还那样，我把开子服的server-ip=填成我另外一个外网电脑的外网IP，然后还是这样"
        },
        {
            "author": "恋",
            "timestamp": 1560347160,
            "txt_content": "中华博 发表于 2019-6-12 21:44\n还那样，我把开子服的server-ip=填成我另外一个外网电脑的外网IP，然后还是这样 ...\n那你帖下BC端的config以及子服的server.properties"
        },
        {
            "author": "中华博",
            "timestamp": 1560347400,
            "txt_content": " 本帖最后由 中华博 于 2019-6-12 21:51 编辑 \nHTL9257 发表于 2019-6-12 21:46\n那你帖下BC端的config以及子服的server.properties其实server-ip除了填127.0.0.1以外的任何ip都不能开服，不信你试试\nconnection_throttle_limit: 3\nonline_mode: true\nlog_commands: false\nnetwork_compression_threshold: 256\nlisteners:\n- query_port: 25577\n  motd: '&aAnother Bungee server'\n  tab_list: GLOBAL_PING\n  query_enabled: false\n  proxy_protocol: false\n  forced_hosts:\n    pvp.md-5.net: pvp\n  ping_passthrough: false\n  priorities:\n  - lobby\n  bind_local_address: true\n  host: 0.0.0.0:25569\n  max_players: 111111\n  tab_size: 60\n  force_default_server: false\nconnection_throttle: 4000\ngroups:\n  md_5:\n  - admin\nlog_pings: true\nip_forward: true\nprevent_proxy_connections: false\nforge_support: true\nstats: 0eb244e9-fe3c-4ab2-9a3c-3aa24d9047f9\ndisabled_commands:\n- disabledcommandhere\ntimeout: 30000\npermissions:\n  default:\n  - bungeecord.command.server\n  - bungeecord.command.list\n  admin:\n  - bungeecord.command.alert\n  - bungeecord.command.end\n  - bungeecord.command.ip\n  - bungeecord.command.reload\nservers:\n  lobby:\n    motd: '&aaaaccct'\n    address: 127.0.0.1:25566\n    restricted: false\n  zhufu:\n    motd: '&1Just another BungeeCord - Forced Host'\n    address: 183.161.150.139:25567\n    restricted: false\nplayer_limit: -1\n复制代码\n\n#Minecraft server properties\n#Wed Jun 12 21:27:55 CST 2019\nspawn-protection=16\nmax-tick-time=60000\ngenerator-settings=\nforce-gamemode=false\nallow-nether=true\ngamemode=0\nbroadcast-console-to-ops=true\nenable-query=false\nplayer-idle-timeout=0\ndifficulty=1\nspawn-monsters=true\nop-permission-level=4\npvp=false\nsnooper-enabled=true\nlevel-type=OTG\nhardcore=false\nenable-command-block=false\nmax-players=20\nnetwork-compression-threshold=256\nresource-pack-sha1=\nmax-world-size=29999984\nserver-port=25567\nserver-ip=175.174.75.64\nspawn-npcs=true\nallow-flight=false\nlevel-name=Biome Bundle\nview-distance=8\nresource-pack=\nspawn-animals=true\nwhite-list=false\ngenerate-structures=true\nonline-mode=false\nmax-build-height=256\nlevel-seed=\nprevent-proxy-connections=false\nenable-rcon=false\nmotd=A Minecraft Server\n复制代码\n"
        },
        {
            "author": "xmdhs",
            "timestamp": 1560347760,
            "txt_content": "中华博 发表于 2019-6-12 21:50\n其实server-ip除了填127.0.0.1以外的任何ip都不能开服，不信你试试\n利用防火墙的白名单嘛，效果还好些。"
        },
        {
            "author": "恋",
            "timestamp": 1560347880,
            "txt_content": "中华博 发表于 2019-6-12 21:50\n其实server-ip除了填127.0.0.1以外的任何ip都不能开服，不信你试试\n我测试了一下 server-ip填写其他值也会出现这种报错 要么你就用防火墙规则把所有端口都禁掉 然后搭建一个VPN或者frp 连接BC服和子服 开个白名单 只允许BC端服务器的IP地址连接"
        },
        {
            "author": "中华博",
            "timestamp": 1560348240,
            "txt_content": "HTL9257 发表于 2019-6-12 21:58\n我测试了一下 server-ip填写其他值也会出现这种报错 要么你就用防火墙规则把所有端口都禁掉 然后搭建一个 ...然后搭建一个VPN或者frp 连接BC服和子服 开个白名单复制代码\n这句不太懂耶，可以详细说一下嘛。\n这个漏洞别人会很容易查到我子服的ip吗？如果不好查就不用管了嘛"
        },
        {
            "author": "中华博",
            "timestamp": 1560348360,
            "txt_content": "xmdhs 发表于 2019-6-12 21:56\n利用防火墙的白名单嘛，效果还好些。\n大佬求教"
        },
        {
            "author": "中华博",
            "timestamp": 1560348480,
            "txt_content": "HTL9257 发表于 2019-6-12 22:05\n这个漏洞不好查子服IP BC是代理端 会首先连接BC端 然后BC端连接子服 就算是ping 也是到你的BC端 除非你把 ...\n这样说多IP就等于没这漏洞了，其他本地子服直接server-ip=127.0.0.1好了"
        },
        {
            "author": "恋",
            "timestamp": 1560348540,
            "txt_content": "中华博 发表于 2019-6-12 22:08\n这样说多IP就等于没这漏洞了，其他本地子服直接server-ip=127.0.0.1好了\n对 除非你主动告诉别人子服务器的IP 别人查不到你子服务器IP "
        }
    ]
}