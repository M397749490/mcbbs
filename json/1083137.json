{
    "title": "[求助] 服务器报错后 玩家全部退回大厅",
    "author": "神奈川归尘",
    "replyCount": 11,
    "timestamp": 1595312040,
    "txt_content": "第一段报错\nhttps://paste.ubuntu.com/p/38Xmx2s6RT/\n\n\n\n第二段报错\nhttps://paste.ubuntu.com/p/4Y8cQtjtJ7/\n\n\n\n不知道有没有什么解决方法",
    "replies": [
        {
            "author": "蕾米洛伊",
            "timestamp": 1595312040,
            "txt_content": " 本帖最后由 蕾米洛伊 于 2020-7-21 14:54 编辑 \n\n啊，希望这次能赶上最佳。\n\n第一段报错, 卡服 (触发watchdog,卡服过久会强制关服导致崩溃)\n原因: SpawnerCreature.spawnMobs\n在随机刻尝试生成怪物卡服, 啊这, 是不是实体过多了? 发个 timings 看看吧, 或者寻找是否有密集实体区域看看。\n当然我觉得是 1.16 负优化的特性也说不定 =.=\n第二段报错, 卡服\n原因1: EntityPlayer.saveData\n玩家退出时保存数据卡服, 是不是硬盘读写出些瓶颈? 或者也有可能是机器配置的原因\n2: AdvancementDataPlayer\n玩家进度数据卡服, 这个我看到 Paper 里有几个人都发过 issues, 不过最后都是以性能问题和内存问题结尾, 看看是否性能问题?\n3: LightEngineGraph\n光照更新卡服, spigot 的话可以到配置文件中禁用随机光照更新 random-light-updates: false 优化性能\n第三个报错, 服务端 bug\njava.util.concurrent.CompletionException: net.minecraft.server.v1_16_R1.ReportedException: Feature placement\n        at java.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source) ~[?:1.8.0_111]\n投掷物问题, MOJANG 自己的特性, 需要等待 MOJANG 官方服务端更新后, Spigot Paper 等才能更新。\n\n总体来说是卡服 建议增加JVM优化参数和增加分配内存, CPU主要是光照问题可以尝试禁用光照更新再试, 如果不行则可能需要升级.\n以及检查一下硬盘(?)。"
        },
        {
            "author": "CABBA",
            "timestamp": 1595312400,
            "txt_content": "某个插件导致的  但是不知道是哪个"
        },
        {
            "author": "神奈川归尘",
            "timestamp": 1595313120,
            "txt_content": "又多了一段报错！\nhttps://paste.ubuntu.com/p/dWcF9XMPvF/"
        },
        {
            "author": "Freeze_Dolphin",
            "timestamp": 1595313180,
            "txt_content": "这个其实不算报错，这个是paper的watchdog功能，一般是服务器主进程挂起或卡死之后会出现的\n服务器配置够高的话其实是不会出现这种东西的= =\n另外玩家都跑到大厅去是bungee的fallback功能"
        },
        {
            "author": "神奈川归尘",
            "timestamp": 1595313480,
            "txt_content": "Freeze_Dolphin 发表于 2020-7-21 14:33\n这个其实不算报错，这个是paper的watchdog功能，一般是服务器主进程挂起或卡死之后会出现的\n服务器配置够高 ...\n的确 服务器配置不太高， 有没有啥解决方法 （只有升级配置吗）\n\n还有第三段报错\nhttps://paste.ubuntu.com/p/dWcF9XMPvF/"
        },
        {
            "author": "Freeze_Dolphin",
            "timestamp": 1595313900,
            "txt_content": "惊鸿落人间. 发表于 2020-7-21 14:38\n的确 服务器配置不太高， 有没有啥解决方法 （只有升级配置吗）\n\n还有第三段报错\n细读了报错，发现不是由任何插件构成的错误！？！？\n\n能了解一下你分配给服务器多少内存嘛"
        },
        {
            "author": "神奈川归尘",
            "timestamp": 1595314260,
            "txt_content": "Freeze_Dolphin 发表于 2020-7-21 14:45\n细读了报错，发现不是由任何插件构成的错误！？！？\n\n能了解一下你分配给服务器多少内存嘛 ...\nVPS：R7-3700X 6H8G\n分配了7G内存"
        },
        {
            "author": "神奈川归尘",
            "timestamp": 1595314620,
            "txt_content": "蕾米洛伊 发表于 2020-7-21 14:53\n啊，希望这次能赶上最佳。\n\n第一段报错, 卡服 (触发watchdog,卡服过久会强制关服导致崩溃)\nrandom-light-updates: false \n选项在哪个配置文件里面 找了好久没有"
        },
        {
            "author": "蕾米洛伊",
            "timestamp": 1595314620,
            "txt_content": "惊鸿落人间. 发表于 2020-7-21 14:57\nrandom-light-updates: false \n选项在哪个配置文件里面 找了好久没有\nspigot.yml"
        },
        {
            "author": "神奈川归尘",
            "timestamp": 1595314800,
            "txt_content": "蕾米洛伊 发表于 2020-7-21 14:57\nspigot.yml\n未找到选项，，搜索关键词 light 都没有"
        },
        {
            "author": "蕾米洛伊",
            "timestamp": 1595315160,
            "txt_content": "惊鸿落人间. 发表于 2020-7-21 15:00\n未找到选项，，搜索关键词 light 都没有\n啊这，1.14端里还有来着，可能是 1.16 删掉了，可以在 paper.yml 找找有没有 light 相关选项，没有的话就。。忽略吧。。"
        }
    ]
}