{
    "title": "插件  求 抛射物的 移速 和 距离 的example",
    "author": "805781737",
    "replyCount": 2,
    "timestamp": 1551854820,
    "txt_content": " 本帖最后由 805781737 于 2019-3-6 15:41 编辑 \n\n求 抛射物的 移速 和 距离 的example\n\n比如雪球  发出去 加快移速  和 缩短距离",
    "replies": [
        {
            "author": "小轩_",
            "timestamp": 1551876060,
            "txt_content": "不错。66666666666"
        },
        {
            "author": "Sonic1997",
            "timestamp": 1551897960,
            "txt_content": " 本帖最后由 Sonic1997 于 2019-3-6 10:50 编辑 \n\n速度可以从ProjectileLaunchEvent里getEntity().getVelocity()获得\n如果要更改速度的话，从ProjectileLaunchEvent里getEntity()，不过这次就要setVelocity(velocity)。\nvelocity是个vector，所以大概最方便的设置方法就是直接scale啥的了（要不然得自己设置方向之类的\n）。\n举个栗子：如果要原来的2倍速度的话：velocity = event.getEntity().getVelocity().multiply(2);。\n如果你有一个想要的速度了的话就先normalize然后乘上你要的速度就好了：velocity = event.getEntity().getVelocity().normalize().multiply(2);\n\n获得距离和限制距离的话没有现成的方法可以用（\n如果要获得打到人的时候的距离的话，需要在ProjectileLaunchEvent发生的时候记下Entity及其Location(getEntity().getLocation()，然后ProjectileHitEvent时比较记下了的Location（l1.distance?(l2)）\n\n限制距离的话大概懒的方法EntityDamageByEntityEvent发生时用上面计算的距离来决定要不要cancel event了（跑（假设你的projectile是用来打人/砸鱼/之类的\n\n或者ProjectileLaunchEvent发生时set个Timer，然后时间到就remove掉entity（（\n不过这个方法的话只能计算x/z距离，y受重力影响所以velocity不是constant。咱数学渣于是要用这个方法的话就自己算一下吧（（\n\n服务器厉害的话，就死循环看距离到了没有吧（PIA\n"
        }
    ]
}