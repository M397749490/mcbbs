{
    "title": "求大神检查一下代码！300金粒！",
    "author": "我chao爱MC",
    "replyCount": 7,
    "timestamp": 1466765640,
    "txt_content": "astX;var lastY;var lastZ;var tped = 0;var playerName = Entity.getNameTag(Player_getEntity());function Own_updateNewBack(){  lastX=getPlayerX();  lastY=getPlayerY();  lastZ=getPlayerZ();          tped = 1;}function Own_helpList(cmdName){clientMessage(\"Done!\");        switch(cmdName)        case \"tp\":        { clientMessage(ChatColor.YELLOW+\"将玩家传送到指定坐标\\n格式:/tp [X] [Y] [Z]\");                 break;}        case \"back\": {        clientMessage(ChatColor.YELLOW+\"将玩家传送到上一个传送点\\n格式：/back\");                 break;}    case \"spawnmob\": {        clientMessage(ChatColor.YELLOW+\"在指定坐标或玩家位置生成一个生物\\n格式：/spawnmob [生物类型] <[X] [Y] [Z]>\\n查看所有生物种类请输入/help mobs\");         break;        }    default:clientMessage(ChatColor.RED+\"未知的指令\");                         }}function procCmd(cmd){  cmd = cmd_split(\" \");  if(cmd[0]==\"help\")   {        if(cmd[1]==undefined)        {clientMessage(ChatColor_YELLOW+\"输入/help <指令> 查看单个指令帮助\\n所有指令：\\ntp\\nback\\nspawnmob\")} else {Own_helpList(cmd[1])}   }  if(cmd[0]==\"tp\") { if(cmd[1]==undefined||cmd[2]==undefined||cmd[3]==undefined)  { Own,helpList(\"tp\");  } else {  setPosition(getPlayerEnt(),cmd[1],cmd[2],cmd[3]);  clientMessage(\"已将\"+playerName+\"传送至\"+cmd[1]+\",\"+cmd[2]+\",\"+cmd[3]);  Own_updateNewBack();  } }if (cmd[0]==\"back\")  {    if(tped==0)        {                clientMessage(\"没有上一个传送点\");        } else {                setPosition(getPlayerEnt(),lastX,lastY,lastZ);        clientMessage(\"已将\"+playerName+\"传送至上一传送点\");                Own_updateNewBack();        }  }if(cmd[0]==\"spawnmob\")  {        if(cmd[2]==undefined){var spawnmob_X=getPlayerX();} else {var spawnmob_X=cmd[2]}                if(cmd[3]==undefined){var spawnmob_Y=getPlayerY();} else {var spawnmob_Y=cmd[3]}                if(cmd[4]==undefined){var spawnmob_Z=getPlayerZ();} else {var spawnmob_Z=cmd[4]}            switch(cmd[1])        {                var spawnmob_succeed=1;                case \"cow\":{spawnCow(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}                case \"chicken\":{spawnChicken(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}                case \"villager\":{spawnVillager(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"mushroomcow\":{spawnMushroomCow(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"zombie\":{spawnZombie(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"enderman\":{spawnEnderman(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"cavespider\":{spawnCaveSpider(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"creeper\":{spawnCreeper(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"silverfish\":{spawnSilverfish(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"squid\":{spawnSquid(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"skeleton\":{spawnSkeleton(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"wolf\":{spawnWolf(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"witch\":{spawnWitch(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"ozelot\":{spawnOzelot(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"pig\":{spawnPig(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"bat\":{spawnBat(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"pigzombie\":{spawnPigZombie(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}        case \"spider\":{spawnSpider(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}                case \"ghast\":{spawnGhast(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}                case \"sheep\":{spawnSheep(spawnmob_X,spawnmob_Y,spawnmob_Z);break;}                default:spawnmob_succeed=0;                if spawnmob_succeed=0 {clientMessage(\"已成功生成\"+cmd[1])} else {Own_helpList(\"spawnmob\");}        }  }}",
    "replies": [
        {
            "author": "我chao爱MC",
            "timestamp": 1466766000,
            "txt_content": "标题: 求大神检查一下代码！300金粒！新萌请大神不要嘲笑。。。\n要是大神有好点的js调试工具也帮忙推荐一下\n\n[code]var lastX;\nvar lastY;\nvar lastZ;\nvar tped = 0;\nvar playerName = Entity.getNameTag(Player_getEntity());\nfunction Own_updateNewBack()\n{\n  lastX=getPlayerX();\n  lastY=getPlayerY();\n  lastZ=getPlayerZ();"
        },
        {
            "author": "gooding300",
            "timestamp": 1466766000,
            "txt_content": " 本帖最后由 lichi2050 于 2016-6-24 17:39 编辑 \n\n先这样吧...建议lz多去写写java，虽然js很宽松也不是乱写的啊= =\n变量乱声明/类型混乱还只是习惯的问题，可那些语法错误和逻辑问题真的美的不敢看..\nvar lastX;\nvar lastY;\nvar lastZ;\nvar tped = false;\nvar playerName = Entity.getNameTag(Player_getEntity());\nfunction Own_updateNewBack() {\n        //严重的逻辑问题：所有用户会共享这一传送坐标(未修复)\n    lastX = getPlayerX();\n    lastY = getPlayerY();\n    lastZ = getPlayerZ();\n    tped = true;\n}\nfunction Own_helpList(cmdName) {\n    clientMessage(\"Done!\");//?\n    switch (cmdName) {\n    case \"tp\":\n        clientMessage(ChatColor.YELLOW + \"将玩家传送到指定坐标\\n格式:/tp [X] [Y] [Z]\");\n        break;\n    case \"back\":\n        clientMessage(ChatColor.YELLOW + \"将玩家传送到上一个传送点\\n格式：/back\");\n        break;\n    case \"spawnmob\":\n        clientMessage(ChatColor.YELLOW + \"在指定坐标或玩家位置生成一个生物\\n格式：/spawnmob [生物类型] <[X] [Y] [Z]>\\n查看所有生物种类请输入/help mobs\");\n        break;\n    default:\n        clientMessage(ChatColor.RED + \"未知的指令\");\n    }\n}\nfunction procCmd(cmd) {\n    cmd = cmd_split(\" \");\n    if (cmd[0] == \"help\") {\n        if (cmd[1] == undefined) {\n            clientMessage(ChatColor_YELLOW + \"输入/help <指令> 查看单个指令帮助\\n所有指令：\\ntp\\nback\\nspawnmob\");\n        } else {\n            Own_helpList(cmd[1]);\n        }\n    }\n    if (cmd[0] == \"tp\") {\n        if (cmd[1] == undefined || cmd[2] == undefined || cmd[3] == undefined) {\n            Own_helpList(\"tp\");\n        } else {\n                        Own_updateNewBack();//逻辑问题：应先记录坐标再传送\n            setPosition(getPlayerEnt(), parseInt(cmd[1]), parseInt(cmd[2]), parseInt(cmd[3]));\n            clientMessage(\"已将\" + playerName + \"传送至\" + cmd[1] + \",\" + cmd[2] + \",\" + cmd[3]);\n        }\n    }\n    if (cmd[0] == \"back\") {\n        if (!tped) {\n            clientMessage(\"没有上一个传送点\");\n        } else {\n                        Own_updateNewBack();//同逻辑问题\n            setPosition(getPlayerEnt(), lastX, lastY, lastZ);\n            clientMessage(\"已将\" + playerName + \"传送至上一传送点\");\n        }\n    }\n    if (cmd[0] == \"spawnmob\") {\n                var spawnmob_X, spawnmob_Y, spawnmob_Z;\n        if (cmd[2] == undefined) {\n            spawnmob_X = getPlayerX();\n        } else {\n            spawnmob_X = parseInt(cmd[2]);\n        }\n        if (cmd[3] == undefined) {\n            spawnmob_Y = getPlayerY();\n        } else {\n            spawnmob_Y = parseInt(cmd[3]);\n        }\n        if (cmd[4] == undefined) {\n            spawnmob_Z = getPlayerZ();\n        } else {\n            spawnmob_Z = parseInt(cmd[4]);\n        }\n        var spawnmob_succeed = true;\n        switch (cmd[1]) {\n        case \"cow\":\n            spawnCow(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"chicken\":\n            spawnChicken(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"villager\":\n            spawnVillager(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"mushroomcow\":\n            spawnMushroomCow(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"zombie\":\n            spawnZombie(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"enderman\":\n            spawnEnderman(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"cavespider\":\n            spawnCaveSpider(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"creeper\":\n            spawnCreeper(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"silverfish\":\n            spawnSilverfish(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"squid\":\n            spawnSquid(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"skeleton\":\n            spawnSkeleton(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"wolf\":\n            spawnWolf(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"witch\":\n            spawnWitch(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"ozelot\":\n            spawnOzelot(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"pig\":\n            spawnPig(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"bat\":\n            spawnBat(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"pigzombie\":\n            spawnPigZombie(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"spider\":\n            spawnSpider(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"ghast\":\n            spawnGhast(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        case \"sheep\":\n            spawnSheep(spawnmob_X, spawnmob_Y, spawnmob_Z);\n            break;\n        default:\n            spawnmob_succeed = false;\n\n        }\n        if (spawnmob_succeed) {//又是逻辑问题\n            clientMessage(\"已成功生成\" + cmd[1])\n        } else {\n            Own_helpList(\"spawnmob\");\n        }\n    }\n}复制代码"
        },
        {
            "author": "Fzr1",
            "timestamp": 1466771160,
            "txt_content": "我不太了解代码，但是我可以推荐你下载一个js大师 ，上面代码挺齐全的。"
        },
        {
            "author": "fsxitutu",
            "timestamp": 1466771940,
            "txt_content": "希望楼主码字码得好一点"
        },
        {
            "author": "gooding300",
            "timestamp": 1466772540,
            "txt_content": " 本帖最后由 lichi2050 于 2016-6-24 17:32 编辑 \n\n帮忙格式化了下，这是PE mod么？\n以及恕我直言，感觉js语法都有错。\nvar lastX;\nvar lastY;\nvar lastZ;\nvar tped = 0;\nvar playerName = Entity.getNameTag(Player_getEntity());\nfunction Own_updateNewBack() {\n    lastX = getPlayerX();\n    lastY = getPlayerY();\n    lastZ = getPlayerZ();\n    tped = 1;\n}\nfunction Own_helpList(cmdName) {\n    clientMessage(\"Done!\");\n    switch (cmdName)\ncase \"tp\":\n    {\n        clientMessage(ChatColor.YELLOW + \"将玩家传送到指定坐标\\n格式:/tp [X] [Y] [Z]\");\n        break;\n    }\ncase \"back\":\n    {\n        clientMessage(ChatColor.YELLOW + \"将玩家传送到上一个传送点\\n格式：/back\");\n        break;\n    }\ncase \"spawnmob\":\n    {\n        clientMessage(ChatColor.YELLOW + \"在指定坐标或玩家位置生成一个生物\\n格式：/spawnmob [生物类型] <[X] [Y] [Z]>\\n查看所有生物种类请输入/help mobs\");\n        break;\n    }\ndefault:\n    clientMessage(ChatColor.RED + \"未知的指令\");\n}\n}\nfunction procCmd(cmd) {\n    cmd = cmd_split(\" \");\n    if (cmd[0] == \"help\") {\n        if (cmd[1] == undefined) {\n            clientMessage(ChatColor_YELLOW + \"输入/help <指令> 查看单个指令帮助\\n所有指令：\\ntp\\nback\\nspawnmob\")\n        } else {\n            Own_helpList(cmd[1])\n        }\n    }\n    if (cmd[0] == \"tp\") {\n        if (cmd[1] == undefined || cmd[2] == undefined || cmd[3] == undefined) {\n            Own,\n            helpList(\"tp\");\n        } else {\n            setPosition(getPlayerEnt(), cmd[1], cmd[2], cmd[3]);\n            clientMessage(\"已将\" + playerName + \"传送至\" + cmd[1] + \",\" + cmd[2] + \",\" + cmd[3]);\n            Own_updateNewBack();\n        }\n    }\n    if (cmd[0] == \"back\") {\n        if (tped == 0) {\n            clientMessage(\"没有上一个传送点\");\n        } else {\n            setPosition(getPlayerEnt(), lastX, lastY, lastZ);\n            clientMessage(\"已将\" + playerName + \"传送至上一传送点\");\n            Own_updateNewBack();\n        }\n    }\n    if (cmd[0] == \"spawnmob\") {\n        if (cmd[2] == undefined) {\n            var spawnmob_X = getPlayerX();\n        } else {\n            var spawnmob_X = cmd[2]\n        }\n        if (cmd[3] == undefined) {\n            var spawnmob_Y = getPlayerY();\n        } else {\n            var spawnmob_Y = cmd[3]\n        }\n        if (cmd[4] == undefined) {\n            var spawnmob_Z = getPlayerZ();\n        } else {\n            var spawnmob_Z = cmd[4]\n        }\n        switch (cmd[1]) {\n            var spawnmob_succeed = 1;\n        case \"cow\":\n            {\n                spawnCow(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"chicken\":\n            {\n                spawnChicken(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"villager\":\n            {\n                spawnVillager(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"mushroomcow\":\n            {\n                spawnMushroomCow(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"zombie\":\n            {\n                spawnZombie(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"enderman\":\n            {\n                spawnEnderman(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"cavespider\":\n            {\n                spawnCaveSpider(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"creeper\":\n            {\n                spawnCreeper(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"silverfish\":\n            {\n                spawnSilverfish(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"squid\":\n            {\n                spawnSquid(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"skeleton\":\n            {\n                spawnSkeleton(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"wolf\":\n            {\n                spawnWolf(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"witch\":\n            {\n                spawnWitch(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"ozelot\":\n            {\n                spawnOzelot(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"pig\":\n            {\n                spawnPig(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"bat\":\n            {\n                spawnBat(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"pigzombie\":\n            {\n                spawnPigZombie(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"spider\":\n            {\n                spawnSpider(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"ghast\":\n            {\n                spawnGhast(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        case \"sheep\":\n            {\n                spawnSheep(spawnmob_X, spawnmob_Y, spawnmob_Z);\n                break;\n            }\n        default:\n            spawnmob_succeed = 0;\n            if spawnmob_succeed = 0 {\n                clientMessage(\"已成功生成\" + cmd[1])\n            } else {\n                Own_helpList(\"spawnmob\");\n            }\n        }\n    }\n}复制代码"
        },
        {
            "author": "我chao爱MC",
            "timestamp": 1466777100,
            "txt_content": "gooding300 发表于 2016-6-24 21:14\n先这样吧...建议lz多去写写java，虽然js很宽松也不是乱写的啊= =\n变量乱声明/类型混乱还只是习惯的问题，可 ...\n首先，非常感谢您可以看完俺的混乱代码()貌似复制过来就错办了\n但是:\n1，这个js导入后没有任何实际效果，所以我想问题应该不在于此\n2，关于记录坐标点，是包含在updatenewback函数中的，所以确实先记录坐标后传送了\n3，逻辑问题之前先定义为true，如果没有找到对应生物则为false，如果您的意思不同于我理解的话，欢迎指正！\n4，如果您有较好的pe调试工具，望百忙之中分享给我！谢谢！"
        },
        {
            "author": "gooding300",
            "timestamp": 1466779440,
            "txt_content": "我chao爱MC 发表于 2016-6-24 22:05\n首先，非常感谢您可以看完俺的混乱代码()貌似复制过来就错办了\n但是:\n1，这个js导入后没有任何实际效果， ...\n1.我不开发PE mod，也不会开发PE mod\n我只是完全以看普通js来找出语法错误，具体实现上还请参阅文档\n2.如果把Own_updateNewBack放到setPosition后面的话，记录的是传送后的坐标而不是原坐标\n所以我才提到前面\n3.对，原来您的逻辑是错的\n4.同 不开发PE mod"
        }
    ]
}