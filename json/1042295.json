{
    "title": "[娱乐]MCNature —— 控制你的游戏自然环境吧![1.8-1.12.X]",
    "author": "jiand_jun~~~",
    "replyCount": 38,
    "timestamp": 1589044980,
    "txt_content": " 本帖最后由 jiand_jun~~~ 于 2020-5-10 01:31 编辑 \nMCNature —— 一款轻量化的游戏自然管理插件\n\n\n\n\n\n\n\n前言:\n本插件目前正在中国版我的世界某服务器上稳定运行，长达1年半的时间，所以您可以放心使用啦!\n\n特色介绍：\n本插件允许您创建一个虚拟的游戏日期，如初始值为2000年01月01日，度过一个游戏日（20分钟）后，数据库将会被更新，日游戏期将变为2000年01月02日。插件设计了多个季节，其中，每个不同的月份都对应不同的季节名称，如2月为早春，3月为仲春、4月为晚春、5月为初夏、6月为仲夏...详情请看下面的配置文件选项。插件设计了自定义天气生成，各天气可根据不同月份而调整生成的概率与持续时间，高度自定义。插件支持PlaceholderAPI，您可以将游戏天气、游戏季节、游戏日期显示在您的计分板上！特殊的天气效果，如寒潮、旱灾、酸雨，其中寒潮与旱灾都会影响作物的生长（原理是直接设置当前世界的randomTickSpeed）。\n\n注意事项：\n本插件为了实现多个服务端同步数据，只支持MySQL存储，无法保存在Configuration Yaml文件中。如果您使用单个服务端，请将配置文件中的MainControlServer选项改为true；如果您使用多个服务端，则只需将其中一个服务端的MainControlServer选项改为true，其他都需要改为false。\n\n\n\n配置文件：###########################\n# MCNature Version: B0.0.1#\n###########################\n#是否开启调试模式\nDebug: false\n#提示消息的前缀\nMessagePrefix: ''\n#数据库设置\nDatabase:\n  MySQL:\n    Address: 127.0.0.1\n    Port: 3306\n    User: root\n    Password: root\n    Database: db\n    Addition: '&useUnicode=true&characterEncoding=UTF8&useSSL=false'\n#游戏日期设置\nDateSettings:\n  #是否为主控服务器，注意只能有一个主控服务器用于控制游戏时间！\nMainControlServer: true\n  #游戏初始时间，默认为2000年1月1日。实际游戏时间的计算方式为BaseGameTime + 游戏过去的日子 * 86400 * 1000\nBaseGameTime: 946656000000\n  #用于控制日期的世界，即日夜更替可改变日期的世界\nControlWorld: world\n#天气设置\nWeatherSetting:\n  #是否启用天气特殊效果\n#目前的特殊天气效果有：\n#寒潮冻伤：当玩家在露天环境下时，会受到伤害\n#旱灾烫伤：当玩家在露天环境下时，会受到伤害\n#酸雨：当玩家未穿着任何装备暴露在露天环境下时，会受到伤害，且装备耐久度会下降，金装备除外。\nEnableEffect: false\n#季节设置\nSeasonSetting:\n  #注意: SPRING_STAGE_1等内容不可以修改。\n#季节内部名\nSPRING_STAGE_1:\n    #季节别名\nName: '早春'\n    #每个季节的天气持续最短时间与最长时间，天气为秒。\nWeatherDuration:\n      MinTime: 60\n      MaxTime: 800\n    #可能会生成的天气，可用的天气类型有STORM（雨天） THUNDER（雷暴） SUNNY（晴天） COLD_WAVE（寒潮） DROUGHT（干旱）\n#后面表示的数字是生成的几率，计算公式为 数字/100，所有天气的几率数字总和不一定为100，但必须为整数。\nWeatherGenerate:\n      SUNNY: 50\n      STORM: 30\n  SPRING_STAGE_2:\n    Name: '仲春'\n    WeatherDuration:\n      MinTime: 60\n      MaxTime: 800\n    WeatherGenerate:\n      SUNNY: 60\n      STORM: 30\n      THUNDER: 10\n  SPRING_STAGE_3:\n    Name: '晚春'\n    WeatherDuration:\n      MinTime: 60\n      MaxTime: 800\n    WeatherGenerate:\n      SUNNY: 60\n      STORM: 40\n      THUNDER: 20\n  SUMMER_STAGE_1:\n    Name: '初夏'\n    WeatherDuration:\n      MinTime: 300\n      MaxTime: 2000\n    WeatherGenerate:\n      SUNNY: 70\n      STORM: 50\n      THUNDER: 30\n  SUMMER_STAGE_2:\n    Name: '仲夏'\n    WeatherDuration:\n      MinTime: 300\n      MaxTime: 2000\n    WeatherGenerate:\n      SUNNY: 70\n      STORM: 50\n      THUNDER: 50\n      DROUGHT: 5\n  SUMMER_STAGE_3:\n    Name: '晚夏'\n    WeatherDuration:\n      MinTime: 300\n      MaxTime: 2000\n    WeatherGenerate:\n      SUNNY: 70\n      STORM: 50\n      THUNDER: 50\n      DROUGHT: 5\n  AUTUMN_STAGE_1:\n    Name: '初秋'\n    WeatherDuration:\n      MinTime: 200\n      MaxTime: 650\n    WeatherGenerate:\n      SUNNY: 70\n      STORM: 30\n      THUNDER: 20\n  AUTUMN_STAGE_2:\n    Name: '金秋'\n    WeatherDuration:\n      MinTime: 200\n      MaxTime: 650\n    WeatherGenerate:\n      SUNNY: 70\n      STORM: 20\n      THUNDER: 10\n  AUTUMN_STAGE_3:\n    Name: '晚秋'\n    WeatherDuration:\n      MinTime: 200\n      MaxTime: 650\n    WeatherGenerate:\n      SUNNY: 70\n      STORM: 20\n  WINTER_STAGE_1:\n    Name: '初冬'\n    WeatherDuration:\n      MinTime: 600\n      MaxTime: 1500\n    WeatherGenerate:\n      SUNNY: 80\n      STORM: 20\n  WINTER_STAGE_2:\n    Name: '寒冬'\n    WeatherDuration:\n      MinTime: 600\n      MaxTime: 1500\n    WeatherGenerate:\n      SUNNY: 80\n      STORM: 10\n      COLD_WAVE: 30\n  WINTER_STAGE_3:\n    Name: '晚冬'\n    WeatherDuration:\n      MinTime: 600\n      MaxTime: 1500\n    WeatherGenerate:\n      SUNNY: 80\n      STORM: 5\n      COLD_WAVE: 20\n\n如何使用：\n插件本体放入 服务端目录/plugins 文件夹内重启您的服务器，等待服务端生成配置文件\n在配置文件内配置数据库或其他需求\n对应变量：%MCNature_getGameDate% —— 获取当前游戏日期%MCNature_getGameYear% —— 获取当前游戏年%MCNature_getGameMonth% —— 获取当前游戏月%MCNature_getGameDay% —— 获取当前游戏日\n%MCNature_getSeason% —— 获取季节名称%MCNature_getWeather% —— 获取天气名称\n开发者相关：<groupId>EarthSkyDev</groupId>\n<artifactId>MCNature</artifactId>\n<version>1.0-SNAPSHOT</version>\npublic class MCNatureAPI {\n\n    /**\n     * @return 返回游戏的季节\n*/\npublic static Season getGameSeason(){\n        int month=PluginMain.getInstance().getDateManager().getGameTimeMonth();\n        switch (month){\n            case 1:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"WINTER_STAGE_2\");\n            case 2:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"WINTER_STAGE_3\");\n            case 3:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"SPRING_STAGE_1\");\n            case 4:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"SPRING_STAGE_2\");\n            case 5:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"SPRING_STAGE_3\");\n            case 6:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"SUMMER_STAGE_1\");\n            case 7:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"SUMMER_STAGE_2\");\n            case 8:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"SUMMER_STAGE_3\");\n            case 9:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"AUTUMN_STAGE_1\");\n            case 10:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"AUTUMN_STAGE_2\");\n            case 11:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"AUTUMN_STAGE_3\");\n            case 12:\n                return PluginMain.getInstance().getSeasonManager().getSeasonByName(\"WINTER_STAGE_1\");\n            default:\n                return null;\n        }\n    }\n\n    /**\n     * @return 返回游戏现在的天气\n*/\npublic static Weather getGameWeatherNow(){\n        return PluginMain.getInstance().getWeatherManager().getWeatherNow();\n    }\n\n    /**\n     * @return 返回游戏时间\n*/\npublic static long getGameTime(){\n        return PluginMain.getInstance().getDateManager().getGameTime();\n    }\n\n    /**\n     * @return 返回游戏日期\n*/\npublic static String getGameDate(){\n        return PluginMain.getInstance().getDateManager().getGameDate();\n    }\n\n    /**\n     * @return 返回游戏年\n*/\npublic static int getGameYear(){\n        return PluginMain.getInstance().getDateManager().getGameTimeYear();\n    }\n\n    /**\n     * @return 返回游戏月\n*/\npublic static int getGameMonth(){\n        return PluginMain.getInstance().getDateManager().getGameTimeMonth();\n    }\n\n    /**\n     * @return 返回游戏日\n*/\npublic static int getGameDay(){\n        return PluginMain.getInstance().getDateManager().getGameTimeDay();\n    }\n\n    /**\n     *\n     * @param p 要获取数据的玩家\n* @return 返回玩家首次加入游戏的游戏时间\n*/\npublic static int getFirstJoinGameYear(Player p) {\n        return PluginMain.getInstance().getFirstJoinGameYear(p);\n    }\n\n    /**\n     *\n     * @param p 要获取数据的玩家\n* @return 返回玩家首次加入游戏的游戏时间\n*/\npublic static int getFirstJoinGameMonth(Player p) {\n        return PluginMain.getInstance().getFirstJoinGameMonth(p);\n    }\n    /**\n     *\n     * @param p 要获取数据的玩家\n* @return 返回玩家首次加入游戏的游戏时间\n*/\npublic static int getFirstJoinGameDay(Player p) {\n        return PluginMain.getInstance().getFirstJoinGameDay(p);\n    }\n\n}\n 下载地址：\n链接：https://pan.baidu.com/s/1l03c-_BUTtrYR37qPBoEOg  提取码：q3jm\n本插件所用所有代码均为原创,不存在借用/抄袭等行为\n\n\n",
    "replies": [
        {
            "author": "玄锐暮",
            "timestamp": 1589046480,
            "txt_content": "这么好玩又实用的插件没一个回复的吗？？？"
        },
        {
            "author": "深夜与鬼",
            "timestamp": 1589055960,
            "txt_content": "哇 好棒的原创插件..功能也很新颖.. 但是大佬能否加个折叠.. 不过还是支持原创插件 辛苦辛苦.."
        },
        {
            "author": "芝仕点心",
            "timestamp": 1589068620,
            "txt_content": "求助一下，这个插件支持Sponge（mod服务端）吗"
        },
        {
            "author": "minecraft小器",
            "timestamp": 1589070120,
            "txt_content": "挺好玩的，支持支持！"
        },
        {
            "author": "pocketit",
            "timestamp": 1589072700,
            "txt_content": "芝仕点心 发表于 2020-5-10 07:57\n求助一下，这个插件支持Sponge（mod服务端）吗\nsponge不支持"
        },
        {
            "author": "蓝之魂",
            "timestamp": 1589083620,
            "txt_content": "能否支持更高版本呢"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1589093220,
            "txt_content": "蓝之魂 发表于 2020-5-10 12:07\n能否支持更高版本呢\n理论上可以向上兼容，我测试的服务端是1.12.2的，你可以试试看"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1589094060,
            "txt_content": "深夜与鬼 发表于 2020-5-10 04:26\n哇 好棒的原创插件..功能也很新颖.. 但是大佬能否加个折叠.. 不过还是支持原创插件 辛苦辛苦.. ...\nemmm 说实话我不太熟悉dz论坛的编辑系统 哈哈哈"
        },
        {
            "author": "清茶旧友",
            "timestamp": 1589189100,
            "txt_content": "1.12.2 墨端核心 能用吗"
        },
        {
            "author": "15979399813",
            "timestamp": 1589195280,
            "txt_content": "如果不支持水龙头的1.15.2那可真是太可惜了"
        },
        {
            "author": "深拥v",
            "timestamp": 1589353680,
            "txt_content": "希望能够支持sqlite...毕竟没有太多重要的功能\n假如能够控制植物生长速度、饱食度消耗、药水效果就更好了"
        },
        {
            "author": "david890504",
            "timestamp": 1589354400,
            "txt_content": "資源占用如何呢"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1589545140,
            "txt_content": "david890504 发表于 2020-5-13 15:20\n資源占用如何呢\n实际上该插件几乎不占用资源，它更像是一个接口（对于其他插件开发者来说）。"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1589545200,
            "txt_content": "深拥v 发表于 2020-5-13 15:08\n希望能够支持sqlite...毕竟没有太多重要的功能\n假如能够控制植物生长速度、饱食度消耗、药水效果就更好了 ...\n好的，目前是实现了植物生长速度控制的，不过只是简单粗暴的控制randomTickSpeed，我会进一步优化算法的。\n\n至于支持sqlite的话，我也会考虑开发的，谢谢你的反馈。"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1589545260,
            "txt_content": "15979399813 发表于 2020-5-11 19:08\n如果不支持水龙头的1.15.2那可真是太可惜了\n你可以尝试一下能不能使用，因为我只在Paper 1.12.2服务端上测试过。"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1589545260,
            "txt_content": "残歌 发表于 2020-5-11 17:25\n1.12.2 墨端核心 能用吗\n理论上是可以的。"
        },
        {
            "author": "深拥v",
            "timestamp": 1589545440,
            "txt_content": "jiand_jun~~~ 发表于 2020-5-15 20:20\n好的，目前是实现了植物生长速度控制的，不过只是简单粗暴的控制randomTickSpeed，我会进一步优化算法的 ...\n加油！这类（季节/时令/天气）插件算是一个空缺，假如做好了相信会很受欢迎的"
        },
        {
            "author": "wuxiaodong123",
            "timestamp": 1589550540,
            "txt_content": "请问怎么关闭数据库的连接呢"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1589554320,
            "txt_content": "wuxiaodong123 发表于 2020-5-15 21:49\n请问怎么关闭数据库的连接呢\n本插件必须使用数据库以存储数据，因为该插件本来就是为多服务器同步而设计的。"
        },
        {
            "author": "3310201",
            "timestamp": 1589621580,
            "txt_content": "牛逼牛逼，我学习了这个东西如何使用，太棒了，比同类型插件强多了，我下载了\n就是不知道支不支持模组端"
        },
        {
            "author": "2530786735",
            "timestamp": 1589623140,
            "txt_content": "这个就有趣了，可以和其他模组整合成一个真实世界的生存"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1589631720,
            "txt_content": "金鈤称大将军 发表于 2020-5-16 17:33\n牛逼牛逼，我学习了这个东西如何使用，太棒了，比同类型插件强多了，我下载了\n就是不知道支不支持模组端 ...\n理论上是支持mod服务端的。"
        },
        {
            "author": "清茶旧友",
            "timestamp": 1589712120,
            "txt_content": "\n\n\n1.12.2 墨端最新核心  PAPI2.9.2版本  变量不行哎"
        },
        {
            "author": "w906413308",
            "timestamp": 1589713680,
            "txt_content": "感谢你的分享嗷"
        },
        {
            "author": "jrx233",
            "timestamp": 1589893440,
            "txt_content": "支持Mysql,挺不错的世界控制"
        },
        {
            "author": "antilby1337",
            "timestamp": 1589894700,
            "txt_content": "很有创意啊，可自定义程度很高"
        },
        {
            "author": "qaz197418i",
            "timestamp": 1591439220,
            "txt_content": "papi变量无法正常工作，希望修复一下"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1591444380,
            "txt_content": "qaz197418i 发表于 2020-6-6 18:27\npapi变量无法正常工作，希望修复一下\n麻烦给出错误报告以及服务端的版本、PlaceholderAPI版本。"
        },
        {
            "author": "qaz197418i",
            "timestamp": 1591444800,
            "txt_content": "jiand_jun~~~ 发表于 2020-6-6 19:53\n麻烦给出错误报告以及服务端的版本、PlaceholderAPI版本。\n服务端是paperspigot1.12.2，后台无报错，所有功能都正常，只是papi变量无法解析\nPlaceholderAPI是最新的2.10.6版本"
        },
        {
            "author": "hudie_",
            "timestamp": 1591505880,
            "txt_content": "h很好的插件 谢谢我就这么带走啊"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1591516080,
            "txt_content": "qaz197418i 发表于 2020-6-6 20:00\n服务端是paperspigot1.12.2，后台无报错，所有功能都正常，只是papi变量无法解析\nPlaceholderAPI是最新的 ...\n你输入一下/papi list 然后截图一下 看看有没有MCNature组件"
        },
        {
            "author": "zjlsjnxzj",
            "timestamp": 1591518000,
            "txt_content": "可以的这个插件！"
        },
        {
            "author": "3472320255",
            "timestamp": 1591518180,
            "txt_content": "终于有这种插件了，支持！"
        },
        {
            "author": "qaz197418i",
            "timestamp": 1591522140,
            "txt_content": " 本帖最后由 qaz197418i 于 2020-6-7 21:09 编辑 \njiand_jun~~~ 发表于 2020-6-7 15:48\n你输入一下/papi list 然后截图一下 看看有没有MCNature组件\n整错了，之前把插件删了，刚才装回去看一眼有没有组件，突然想起来我没配置数据库。配置数据库后有MCNature组件了，但是papi变量无法显示\n\n"
        },
        {
            "author": "二哈大魔王",
            "timestamp": 1597441260,
            "txt_content": "如果到了冬天会全地图下雪不 我好像没有看到这个选项.."
        },
        {
            "author": "渔夫先生",
            "timestamp": 1597493040,
            "txt_content": "感谢楼主的插件，对我帮助很大！"
        },
        {
            "author": "jiand_jun~~~",
            "timestamp": 1597770840,
            "txt_content": "二哈大魔王 发表于 2020-8-15 05:41\n如果到了冬天会全地图下雪不 我好像没有看到这个选项..\n目前未实现这个功能，但是我构思的实现方案可能比较占用性能。因为Minecraft中在下雨时，只有特定Biome(生物群系)会下雪，若要实现全图下雪，则需要改变玩家附近的Biome。"
        },
        {
            "author": ".L.I.N",
            "timestamp": 1597808040,
            "txt_content": "强，爱了爱了"
        }
    ]
}