{
    "title": "关于用Timings查看卡顿原因",
    "author": "苏筱羽",
    "replyCount": 7,
    "timestamp": 1468403520,
    "txt_content": "https://timings.spigotmc.org/?url=19258901\n此网址是本服统计的Timings\n卡顿情况是过几十秒或者几分钟卡顿一小会 聊天正常 其他游戏操作 输指令均无效\n在排除saveit保存存档造成的卡顿原因外\n从timings中还可以看出是什么造成了卡顿\n解决方式有什么？",
    "replies": [
        {
            "author": "SakuraKooi",
            "timestamp": 1468403520,
            "txt_content": "最主要的是EntityTick 占用了服务器65%\n请检查服务器是否有密集生物(比如效率很高的刷怪塔,例:末影螨塔,多联刷怪笼)等\n\n接着是玩家的网络数据处理\n\n其次是砍树插件的BlockPlaceEvent监听\n\n建议参考楼上的链接的第四节进行优化\n特别是与生物有关的设置\n能大幅减轻服务器负载\n在我的服务器上效果非常明显(tps由 12-6变为20-18)"
        },
        {
            "author": "liuyin125",
            "timestamp": 1468408680,
            "txt_content": "Minecraft服务器优化教程 —— 让多带50%的玩家不再是梦\nhttp://www.mcbbs.net/forum.php?mod=viewthread&tid=478126\n\n主要看看那两个调视距的"
        },
        {
            "author": "苏筱羽",
            "timestamp": 1468409100,
            "txt_content": "liuyin125 发表于 2016-7-13 19:18\nMinecraft服务器优化教程 —— 让多带50%的玩家不再是梦\nhttp://www.mcbbs.net/forum.php?mod=viewthread&t ...\n按这个调过了 区块加载是少了 卡顿没什么明显减少"
        },
        {
            "author": "SakuraKooi",
            "timestamp": 1468409460,
            "txt_content": "wujinze 发表于 2016-7-13 19:36\n最主要的是EntityTick 占用了服务器65%\n请检查服务器是否有密集生物(比如效率很高的刷怪塔,例:末影螨塔,多 ...\n其中\n* max-tick-time:  （仅较新的版本有该参数，如1.8.3+）是指每tick，实体和tile最多可以用的时间（单位是毫秒），要明白其含义首先要解释什么是TPS，TPS的意思是每秒有多少tick，最大值是20，也就是每秒tick20次，每次50毫秒。如果运算量过大导致每tick计算了超过了50毫秒，那么TPS就会下降，一旦TPS低于15就会产生明显的卡顿。在这参数中tile代表着熔炉、箱子、牌子、骷髅头等等所能占用的最大时间，entity是指的实体，例如动物、怪物、村民、展示框、掉落物、船、矿车等等。设置tile和entity的总和小于等于30则能明显降低tile和entity对TPS的影响，而服务器运算资源几乎一大半都是由这两者消耗的。设置tile为10，entity为20比较合适，如果实体非常多，还可以设置tile为6，entity为24。\n* entity-activation-range，这个参数是控制实体的活跃范围，例如monsters: 32意思是在玩家附近32格范围内的怪物才会活跃（被计算AI等），减少这个数值可以明显提升性能，但是设置得过小会使得游戏难度大幅降低。一般可以把monsters设置为24，animals设置为12，misc设置为2（misc主要是掉落物，设置2可以使得掉落物几乎不再卡服）。\n此段设置对你的服务器的优化效果应当很明显"
        },
        {
            "author": "苏筱羽",
            "timestamp": 1468410000,
            "txt_content": "wujinze 发表于 2016-7-13 19:36\n最主要的是EntityTick 占用了服务器65%\n请检查服务器是否有密集生物(比如效率很高的刷怪塔,例:末影螨塔,多 ...\n昨晚已经按第四节调过了 效果不是很明显"
        },
        {
            "author": "SakuraKooi",
            "timestamp": 1468410480,
            "txt_content": "苏筱羽 发表于 2016-7-13 19:40\n昨晚已经按第四节调过了 效果不是很明显\nmax-tick-time调过了么?"
        },
        {
            "author": "苏筱羽",
            "timestamp": 1468412100,
            "txt_content": "wujinze 发表于 2016-7-13 19:48\nmax-tick-time调过了么?\n调过了 刚刚把 max_tick-time 调的更小  神奇宝贝的精灵刷新率调更低 似乎有点效果"
        }
    ]
}