{
    "title": "[前置][全版本][Beta]MKConfig——高效管理配置文件可实现远程部署配置文件",
    "author": "1834792369",
    "replyCount": 8,
    "timestamp": 1585556280,
    "txt_content": " 本帖最后由 1834792369 于 2020-3-30 19:59 编辑 \n\n软件介绍\n基于Nacos实现的一个配置中心前置插件，可以用于配置文件信息 读/存 到多种数据库。Nacos默认内嵌了一个数据库，如果你需要使用外部数据库那么也非常简单！我会写在后面。\n\n\n\n\nNacos简介.png (30.92 KB, 下载次数: 0)\n\n下载附件\n\n图片截图自Nacos官方文档\n2020-3-30 17:04 上传\n\n\n\n\n\n版本支持\n我只测试了spigot-1.12.2服务端，如果你们愿意帮助我完成其他服务端的测试那我非常感谢了！\n\nNacos\n这是Alibaba开源的一个组件。\n官网https://nacos.io/zh-cn/\n控制台教程https://nacos.io/zh-cn/docs/console-guide.html\n下载https://github.com/alibaba/nacos/releases\n（可能需要科学↑网）\nNacos快速入门（文档里面更详细）\n下载https://github.com/alibaba/nacos/releases之后进入根目录下的bin目录启动startup.cmd，如果是想集群启动就不在这里阐述了。然后访问localhost:8848进入Nacos控制台，用户名和密码默认是nacos，修改/添加用户名和密码在user表和roles表。但是nacos的密码是通过BCrypt加密的。 先启动Nacos再开服，请别关闭Nacos进程，关闭就失去了配置中心服务将无法正常使用插件。\n\n控制台管理配置文件（图片版，文档里面更详细）\n\n图片截图自https://nacos.io/zh-cn/docs/console-guide.html\n\n\n\n\nNacos官方教程.png (240.24 KB, 下载次数: 0)\n\n下载附件\n\nNacos官方教程\n2020-3-30 17:20 上传\n\n\n\n\n\n\nMKConfig\nconfig.yml\n# 必填！Nacos部署的机器IP+端口\nserverAddr: localhost:8848\n# 用于隔离环境，类似沙箱吧 （不知道不会用千万不要写这项！！！写错了将无法使用插件）\n#namespace: 73919377-c26b-444e-9bd5-d941f2287070复制代码\n\n\n\n开发者\n依赖MKConfig\ndepend:\n  - MKConfig复制代码获取配置文件\n\n\n  @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        getLogger().info(MKConfig.mkConfigService.getConfig(args[0]));\n        return false;\n    }复制代码\n提交配置文件\n\n完全支持中文，DataId也是支持中文的 感谢阿里巴巴，注意命名规范，别重复\n@Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        MKConfig.mkConfigService.putConfig(\"插件名字_功能模块.yaml\",\"配置文件内容\");\n        return false;\n    }复制代码\n\n\nNacos配置外部数据库（文档里面也有）如果你不会请不要使用外部数据库，Nacos已经内嵌了一个数据库。\n进入Nacos根目录下的conf打开application.properties在最后面加上以下内容\nspring.datasource.platform=mysql\ndb.num=1\ndb.url.0=jdbc:mysql://localhost:3306/nacos_config?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true\ndb.user=root\ndb.password=123456复制代码db.url.0=jdbc:mysql://数据库IP:数据库端口/数据库名字?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true\nLinux也是一样的\n然后在Nacos根目录下的conf里面nacos-mysql.sql文件，丢进你的数据库跑起来就行了。\n\n\n\nMKConfig-1.0-Beta.jar\n\n",
    "replies": [
        {
            "author": "李子康26",
            "timestamp": 1585556760,
            "txt_content": "标题 远程部署配置文件基于Nacos 改成 基于Nacos远程部署配置文件好一些叭\n（话说回来我的贴子也没编辑完自动提交过 貌似是换行连续回车引起的"
        },
        {
            "author": "1834792369",
            "timestamp": 1585557240,
            "txt_content": "李子康26 发表于 2020-3-30 16:26\n标题 远程部署配置文件基于Nacos 改成 基于Nacos远程部署配置文件好一些叭\n（话说回来我的贴子也没编辑完自 ...\n好像是我摁了Ctrl+回车就提交了"
        },
        {
            "author": "nidb",
            "timestamp": 1585558560,
            "txt_content": "1834792369 发表于 2020-3-30 16:34\n好像是我摁了Ctrl+回车就提交了\n不晓得哦，discuz用不好w慢慢编辑叭，感谢搬运"
        },
        {
            "author": "1834792369",
            "timestamp": 1585558680,
            "txt_content": "nidb 发表于 2020-3-30 16:56\n不晓得哦，discuz用不好w慢慢编辑叭，感谢搬运\n不算搬运，是基于Nacos写的一个前置吧"
        },
        {
            "author": "nidb",
            "timestamp": 1585558920,
            "txt_content": "1834792369 发表于 2020-3-30 16:58\n不算搬运，是基于Nacos写的一个前置吧\n（原创啊，我眼瞎）那更要支持一下了！"
        },
        {
            "author": "a1147587486",
            "timestamp": 1585559700,
            "txt_content": "这插件牛逼ei"
        },
        {
            "author": "凉菀彡",
            "timestamp": 1586393040,
            "txt_content": "好插件!服务器可以用得上!"
        },
        {
            "author": "MCliuge",
            "timestamp": 1613492640,
            "txt_content": "z支持大佬"
        }
    ]
}