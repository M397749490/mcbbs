{
    "title": "1.14.4如何探测因为某一种效果死亡的玩家",
    "author": "smithsam",
    "replyCount": 6,
    "timestamp": 1595395740,
    "txt_content": "就是这里我已经创建了一个killcount 统计玩家击杀player 的计分板，但是对于效果死亡(凋零)的玩家肯定是不会加上去分数的。\n\n我自己之前是通过 不同玩家 给予 不同的tag 给中了效果的玩家，如果玩家死亡则add 1分；但是如果没有死亡还得想办法把给予了的tag给消除，过程感觉很麻烦，所以来问问大佬有没有其他什么办法。\n\n还有一种情况是，在原地召唤了一个盔甲架，对盔甲架一定范围内的玩家给予效果(凋零)，这样的情况下如果玩家死亡了，又怎么做到只给计分板killcount+1分，求大佬帮帮我~ \n",
    "replies": [
        {
            "author": "renyunzhong",
            "timestamp": 1595395740,
            "txt_content": "smithsam 发表于 2020-7-22 16:43\n最后那种情况，毕竟你在范围内会受到凋零效果的伤害，那么因为效果死亡也会在范围内死去。那么对于获得了 ...\n我试了一下，玩家死亡后依然可以被指令检测效果，即使立即重生也会被检测到一次\n所以就可以建个专门用于检测死亡的记分板\n/scoreboard objectives add death_detect deathCount复制代码\n然后循环连锁：\nexecute as @e[type=armor_stand,tag=\"施加凋零的盔甲架标签\"] at @s if data entity @p[scores={death_detect=1..}] ActiveEffects[{Id:20b}] run （你想要以盔甲架的身份和位置执行的指令）复制代码scoreboard players reset @a death_detect复制代码"
        },
        {
            "author": "renyunzhong",
            "timestamp": 1595406420,
            "txt_content": "我觉得可以用倒计时记分板+检测效果做到，就是说弄一个每tick减少所有实体1点的记分板，然后根据凋零效果等级设置倒计时时间，在下一次凋零伤害施加之前可以用倒计时记分板检测到。这样就可以检测发现在下一tick凋零伤害会致死，同时在下一tick玩家仍有凋零效果即可。还有一种简单方法，就是把被凋零的玩家全都加上tag，出了范围就把tag消除掉，只要带着tag死掉都算是被凋零弄死的就行"
        },
        {
            "author": "smithsam",
            "timestamp": 1595407380,
            "txt_content": " 本帖最后由 smithsam 于 2020-7-22 16:45 编辑 \nrenyunzhong 发表于 2020-7-22 16:27\n我觉得可以用倒计时记分板+检测效果做到，就是说弄一个每tick减少所有实体1点的记分板，然后根据凋零效果等 ...\n最后那种情况，毕竟你在范围内会受到凋零效果的伤害，那么因为效果死亡也会在范围内死去。那么对于在范围内给予tag 然后通过tag获得凋零伤害，然后探测其生命值是否为0来进行加分就会出现 bug，我这里是设置的当生命值为0时会删除当前玩家身上的所有tag。\n\n因为玩家死亡的瞬间如果不点击重生，系统会判定玩家实体依旧在那里，一直处于生命值为0的状况，就会一直加分，然后tag就是给予了又清除，给予了又清除这样一个死循环= ="
        },
        {
            "author": "smithsam",
            "timestamp": 1595408460,
            "txt_content": "renyunzhong 发表于 2020-7-22 16:49\n我试了一下，玩家死亡后依然可以被指令检测效果，即使立即重生也会被检测到一次\n所以就可以建个专门用于 ...\n哦~\n\n你这个的意思是不是相当于以盔甲架为探测中心，探测范围内中了凋零效果死亡的玩家，然后执行后续的指令~\n我没有往这个方向去想诶~ 一直都是以玩家来的= ="
        },
        {
            "author": "renyunzhong",
            "timestamp": 1595408820,
            "txt_content": "smithsam 发表于 2020-7-22 17:01\n哦~\n\n你这个的意思是不是相当于以盔甲架为探测中心，探测范围内中了凋零效果死亡的玩家，然后执行后续的 ...\n很多指令都是得以盔甲架之类的为中心执行，比如射线探测一类，execute学通很重要"
        },
        {
            "author": "smithsam",
            "timestamp": 1595411280,
            "txt_content": "renyunzhong 发表于 2020-7-22 17:07\n很多指令都是得以盔甲架之类的为中心执行，比如射线探测一类，execute学通很重要 ...\nexecute 我就那个store部分不是很懂，其他的都基本用熟了的"
        }
    ]
}