{
    "title": "MCmod制作 1.11(7.多形物品)",
    "author": "zkm00323",
    "replyCount": 1,
    "timestamp": 1484651280,
    "txt_content": " 本帖最后由 zkm00323 于 2017-1-18 22:51 编辑 \n\n其实多形物品说白了就是共用一个物品ID但是却用不同的贴图\n他们我物品属性都是一模一样的,最简单的例子我们看MC的染色体(误)\n\n\n\n\nfee.jpg (8.38 KB, 下载次数: 1)\n\n下载附件\n\n2017-1-17 17:01 上传\n\n\n\n\n\n\n\n\n\ndsfr.jpg (8.07 KB, 下载次数: 0)\n\n下载附件\n\n2017-1-17 16:47 上传\n\n\n\n\n\n\n\n\n\nxzxz.jpg (9.87 KB, 下载次数: 0)\n\n下载附件\n\n2017-1-17 17:01 上传\n\n\n\n\n\n\n\n墨囊,玫瑰红,骨粉,共用物品ID:351但后面还有尾数\n他的好处是同属物品供用一个id减少资源浪费\n并且有的情况下要判断这个类型的物品会比较方便\n方块也有多形方块,不过这个我们以后有用到再讲\n而一个物品最多造出16个多形物品,可少不可多//测试大于16个\n\n\n\n\n\n1.新建一个Item\n老方法我就不多说了\n\n\n\n\n\nasaq.jpg (14.97 KB, 下载次数: 0)\n\n下载附件\n\n2017-1-17 17:12 上传\n\n\n\n\n\n\n\n在里面输入\npublic class ItemIceicon extends Item{\n\n\n        public ItemIceicon(){\n                this.setUnlocalizedName(\"itemiceicon\");\n                this.setRegistryName(\"itemiceicon\");\n                setCreativeTab(CreativeTabs.MATERIALS);\n                this.setHasSubtypes(true);\n        }\n}\n\n\n\nthis.setHasSubtypes(true):设定有子类型\n\n之后我们就在ItemIceicon创建一个枚举类型\n        public static enum IceSkillTypes implements IStringSerializable {\n                ICEBULLETS(\"icebullets\",0),\n                ICEFOG(\"icefog\",1),\n                ICETHORNS(\"icethorns\",2),\n                ICEBLOCK(\"iceblock\",3),\n                BLIZZARD(\"blizzard\",4),\n                ;\n\n\n                private int ID;\n                private String name;\n                \n                private IceSkillTypes(String nameIn,int IDIn){\n                        ID = IDIn;\n                        name = nameIn;\n                }\n                public String getName() {\n                        return name;\n                }\n                \n                public int getID() {\n                        return ID;\n                }\n        }\n\n\n不太懂枚举的同学没关系,因为...我也不懂=w=\n\n反正我就把他当做方便储存读取同类型数据的方法\n这里我设置了5个数据,每个数据里都有这个数据的String name和int ID\n\n然后我们再在ItemIceicon里Override两个方法\n        @Override\n        public void getSubItems(Item itemIn, CreativeTabs tab, NonNullList<ItemStack> subItems) {\n                for(int i = 0;i < IceSkillTypes.values().length;i++){\n                        subItems.add(new ItemStack(itemIn,1,i));\n                }\n        }\n\n        @Override\n        public String getUnlocalizedName(ItemStack stack) {\n                return super.getUnlocalizedName(stack)+ \".\" + IceSkillTypes.values()[stack.getMetadata()].getName();\n        }\n\n\ngetSubItems他会执行5遍(IceSkillTypes.values().length会回传你的枚举里有多少笔资料)\n在你的这个Item下创建5个子类Item,并给予代号i\n\ngetUnlocalizedName则是在这些子物品询问他自己叫什么外部名的时候告诉他\n你叫\"item.itemiceicon.枚举资料里的name.name\"哦!\nstack.getMetadata()就是获取当前stack的Metadate就是物品子类ID,然后把这个数字丢到\nIceSkillTypes.values()[X].getName()里就可以知道对应ID的name参数了\n\n2.注册物品\n最后我们把物品给注册一下(到init.ModItems)\npublic class ModItems {\n        \n        public static ItemBloodsave itembloodsave = new ItemBloodsave();\n        public static ItemIceicon itemiceicon = new ItemIceicon();\n\n\n        public static void init(){\n                GameRegistry.register(itembloodsave);\n                GameRegistry.register(itemiceicon);\n        }\n        \n        public static void register(){\n                registerinit(itembloodsave);\n                for(int i = 0;i < ItemIceicon.IceSkillTypes.values().length; i++)\n                        registerinit(itemiceicon,i,ItemIceicon.IceSkillTypes.values().getName());\n        }\n\n        public static void registerinit(Item item){\n                ModelLoader.setCustomModelResourceLocation(item, 0, new ModelResourceLocation(item.getRegistryName() , \"inventory\"));\n        }\n        \n        public static void registerinit(Item item,int meta,String name){\n                ModelLoader.setCustomModelResourceLocation(item, meta, new ModelResourceLocation(item.getRegistryName()+\"_\"+ name , \"inventory\"));\n        }\n        \n}\n\n\n物品一样只注册1个\n但是物品渲染注册却注册了5个\n但注意我们写了一个 registerinit的多形方法\n增加了2个参数\n一般物品我们meta呢里只需要写0就好\n但是多形物品需要把每个子类物品都注册不同的models文件路径\n\n呢models则么写我就不多说了前面都写过呢么多遍了\n\n\n\n\ni8i.jpg (31.58 KB, 下载次数: 0)\n\n下载附件\n\n2017-1-17 17:57 上传\n\n\n\n\n\n\n\n贴图实在难画我只画了一个就花了半小时,这16x16的图面表现力要很强啊...(其实还好只是呢天我智商掉线了)\n\n\n\n\nicebullets.png (1.05 KB, 下载次数: 15)\n\n下载附件\n\n2017-1-18 22:49 上传\n\n\n\n\n\n\n\n\nicefog.png (1.03 KB, 下载次数: 8)\n\n下载附件\n\n2017-1-18 22:49 上传\n\n\n\n\n\n\n\n\nicethorns.png (1.02 KB, 下载次数: 9)\n\n下载附件\n\n2017-1-18 22:49 上传\n\n\n\n\n\n\n\n\niceblock.png (1.03 KB, 下载次数: 8)\n\n下载附件\n\n2017-1-18 22:49 上传\n\n\n\n\n\n\n\n\nblizzard.png (1.05 KB, 下载次数: 8)\n\n下载附件\n\n2017-1-18 22:49 上传\n\n\n\n\n\n\n好其实我一直在想要则么把多态物品融入一个目标性的制作\n你应该看出来了这些物品的贴图是技能\n没错我们就是要做技能,mc需要更加魔法!\n其实我也是边学边写教程,写到这里的时候\n我只记得以前研究过箭的实体是如何造成伤害以及弹道的计算\n不过有了这个基础自制法术应该也不会太难吧=w=\n\n下一章我们来学习成就系统\n\n源代码\n\n\n\nsrc_教程7.rar\n(16.24 KB, 下载次数: 25)\n\n\n\n2017-1-17 19:08 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "ζ白月初℡",
            "timestamp": 1577332620,
            "txt_content": "大佬，我这一下所有CreativeTab里都显示有这个多型物品怎么搞，还有生存模式物品栏的销毁物品那个图标也变成了添加的物品\n\n\n\n\n\n\nQQ图片20191226115534.png\n(135.3 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-12-26 11:56 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQQ图片20191226115525.png\n(180.63 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-12-26 11:56 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQQ图片20191226115545.png\n(165.93 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-12-26 11:56 上传\n\n\n\n\n\n\n\n\n注册\n\n\n\n\n\n\n\n"
        }
    ]
}