{
    "title": "[Bukkit/Spigot]超简洁的插件开发教程#3.监听器(Listener)",
    "author": "1252251361",
    "replyCount": 2,
    "timestamp": 1581090600,
    "txt_content": " 本帖最后由 1252251361 于 2020-2-8 00:15 编辑 \n\n咕咕咕了两天，继续教程。\n\n本教程比较简洁，没有其他教程那么详细，所以主要是实现方法。\n排版(比较好阅读)：https://www.lovelycatex.cn/cv146\n\n上一期介绍了Command的使用, 本期教程是Listener(监听器)的使用.\n本期内容将教你如何使用Listener来完成简单的监听.\n让我们开始吧~\n\n\n第一步、Listener\n回到项目, 新建一个类或包, 名字随意.\n别忘了给你的这个类 implements Listener.\n然后, 开始写 onJoin 和 onQuit 方法.(方法名字随便.)\n记得在每个方法前加上 @EventHandler.\n这是我的代码:\n（PS：onJoin和onQuit名字可以随便取）\n@EventHandler\n    public void onJoin(PlayerJoinEvent event) {\n        event.setJoinMessage(null);\n        Bukkit.broadcastMessage(\"* Welcome \"+event.getPlayer().getName()+\"!\");\n        event.getPlayer().sendMessage(\"你好, 这条信息只有你可见!\");\n    }\n    @EventHandler\n    public void onQuit(PlayerQuitEvent event) {\n        event.setQuitMessage(null);\n        Bukkit.broadcastMessage(\"* \"+event.getPlayer().getName()+\"离开了游戏\");\n    }复制代码\nevent.setJoinMessage(null); //这条代码将关闭游戏自带的加入提示\nBukkit.broadcastMessage(); //这将发送一条公共信息\nevent.getPlayer().sendMessage(); //给玩家发送信息(private)\n\n第二步、在主类注册这个监听器\n现在回到主类, 在 onEnable() 方法中写\ngetServer().getPluginManager().registerEvents(new PlayerEvent(), this);@Override\n    public void onEnable() {\n        getLogger().info(\"Activity\");\n        Bukkit.getPluginCommand(\"cmd\").setExecutor(new cmd());\n        getServer().getPluginManager().registerEvents(new PlayerListener(), this);\n    }复制代码现在你的监听器已经可以正常运行了!\n\n\n第三步、测试\n\n\n\n\n拓展：\n拓展内容请见原文https://www.lovelycatex.cn/cv146\n主要是天气改变、玩家经验变更、玩家等级变更、聊天这些监听事件的举例，需要可以去查看。\n\n\n\n",
    "replies": [
        {
            "author": "cc7w",
            "timestamp": 1581091920,
            "txt_content": "代码里混入了htnl字符"
        },
        {
            "author": "1252251361",
            "timestamp": 1581092100,
            "txt_content": "cc7w 发表于 2020-2-8 00:12\n代码里混入了htnl字符\n感谢提醒，已经改了，没注意到"
        }
    ]
}