{
    "title": "Paper/Spigot 1.14.4 端 一个人TPS很低但不占用CPU",
    "author": "Kujouamedaku",
    "replyCount": 14,
    "timestamp": 1582958160,
    "txt_content": "\n\n\n\n\nfile_1582951101000.jpg (309.72 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-29 12:38 上传\n\n\n\n\n\n可以看到服务器TPS很低，且服务器线程每隔一段时间提示OVERLOAD（超载）\n服务器配置是三核六线程处理器，母机是3.5Ghz的E5-2637v2，被分配了6G内存，用的是OpenJ9的JRE\nTIMINGS报告也是在提示超载，可是问题在于整台服务器都没跑满\n不是网络的问题，因为聊天框聊天很快，但是执行命令很慢\n我不知道这是不是PaperSpigot在1.14.4的性能设计缺陷\n如果是这样的话，是否退回到1.13.2会有所改善？\n如果可以有效解决不吃配置的问题，金粒就给他了\nhttps://www.spigotmc.org/go/timings?url=gohabopoho\n\n\n\n\nTIM截图20200229143342.png (42.4 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-29 14:35 上传\n\n\n\n\n\n\n\n\nTIM图片20200229123918.png (30.26 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-29 14:35 上传\n\n\n\n\n\n服务器的CPU表示不想动\n\n\n\n\n\nTIM截图20200229143411.png\n(82.91 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-2-29 14:35 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "Matrixchung",
            "timestamp": 1582958160,
            "txt_content": "Kujouamedaku 发表于 2020-3-1 12:04\n我爬了爬站内贴，终于找到什么问题了。土豆田的问题，一拆TPS马上上去\n嗯嗯，可以的话请加个最佳吧"
        },
        {
            "author": "Xiaoxinzhi",
            "timestamp": 1582958640,
            "txt_content": "paper1.14.4基本已经没什么问题了，用这个端吧https://papermc.io/ci/job/Paper- ... t/paperclip-243.jar\n换回HotSpot版本，虽然内存占用低，但是耗CPU"
        },
        {
            "author": "Kujouamedaku",
            "timestamp": 1582960260,
            "txt_content": "Xiaoxinzhi 发表于 2020-2-29 14:44\npaper1.14.4基本已经没什么问题了，用这个端吧https://papermc.io/ci/job/Paper-1.14/lastSuccessfulBuild/ ...\ndownloading vanilla jar 卡这里"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1582960800,
            "txt_content": "Kujouamedaku 发表于 2020-2-29 15:11\ndownloading vanilla jar 卡这里\n您好，先解决你的这个下载问题，他是连接mojang进行原版核心的下载。那么如果这个时候遇到问题，我推荐将下好的核心（paperclip.jar）用WinRAR打开，找到根目录下的patch.properties之后打开，复制\"sourceUrl\"后面的地址然后到本地自行下载，下载好之后改名mojang_1.14.4.jar，服务端根目录新建一个cache文件夹，把jar放进去即可。"
        },
        {
            "author": "Kujouamedaku",
            "timestamp": 1582961100,
            "txt_content": "Matrixchung 发表于 2020-2-29 15:20\n您好，先解决你的这个下载问题，他是连接mojang进行原版核心的下载。那么如果这个时候遇到问题，我推荐将 ...\n好的 谢谢"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1582961160,
            "txt_content": "然后你服务器的问题，首先是高版本的插件服请不要安装很多的优化插件，比如pTweaks或者LaggRemover，我们测试过性能都不是很好。目前推荐的只有React，可以搭配清实体掉落物插件和NoSpawnChunks。\n从图中可以看到你的Entity AI占用较多，这是1.14以上的负优化，给你推荐几个插件，搭配使用可能会有奇效（前提是先卸载任何不必要的优化插件）\n[优化] Villager Optimiser —— 优化1.14.2以上的村民寻路以减少卡顿 [1.14.2-1.15]\nhttps://www.mcbbs.net/thread-876653-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n[优化]EntityTrackerFixer —— 修复entityTick导致的卡顿[1.14.4-1.15]\nhttps://www.mcbbs.net/thread-910338-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n[优化]Simple Anti-Mob Lag —— 冻结生物以缓解卡服|已兼容至1.15[1.9-1.15]\nhttps://www.mcbbs.net/thread-874306-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n"
        },
        {
            "author": "dugulp",
            "timestamp": 1582962360,
            "txt_content": "建议你更换更好配置的服务器，我服现在使用阿里云高主频机器，虽然很贵，但是23人tps稳定18，版本1.15.2"
        },
        {
            "author": "Kujouamedaku",
            "timestamp": 1582962480,
            "txt_content": "Matrixchung 发表于 2020-2-29 15:26\n然后你服务器的问题，首先是高版本的插件服请不要安装很多的优化插件，比如pTweaks或者LaggRemover，我们测 ...\n谢谢，但是我想问一下，WindowServer的配置会不会影响CPU的占用，因为我原来租的是面板服，现在换了VPS反而性能更差，以前带**个人TPS都没掉出18，是不是参数配置优化的问题"
        },
        {
            "author": "Kujouamedaku",
            "timestamp": 1582962660,
            "txt_content": "Matrixchung 发表于 2020-2-29 15:26\n然后你服务器的问题，首先是高版本的插件服请不要安装很多的优化插件，比如pTweaks或者LaggRemover，我们测 ...\n现在这个服务器平常就没上到五十六十，性能吃不满"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1582963140,
            "txt_content": "Kujouamedaku 发表于 2020-2-29 15:48\n谢谢，但是我想问一下，WindowServer的配置会不会影响CPU的占用，因为我原来租的是面板服，现在换了VPS反 ...\n这个要看面板服的配置了，不过Linux的Docker环境和WinServer其实相差不大的，如果不是非常在意性能大可以按喜欢的来。主要是个人操作习惯顺手就可以。"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1582963200,
            "txt_content": "Kujouamedaku 发表于 2020-2-29 15:51\n现在这个服务器平常就没上到五十六十，性能吃不满\n不一定要吃满性能的= =\n需要从Timings报告来下手，目前就是你的Entitytick占用高，这是1.14+的通病"
        },
        {
            "author": "Kujouamedaku",
            "timestamp": 1582966260,
            "txt_content": "Matrixchung 发表于 2020-2-29 16:00\n不一定要吃满性能的= =\n需要从Timings报告来下手，目前就是你的Entitytick占用高，这是1.14+的通病\n ...\n我用了你推荐的插件，TPS还是很低迷，我研究了几天了，服务器后台一直报错overloaded"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1582966440,
            "txt_content": "Kujouamedaku 发表于 2020-2-29 16:51\n我用了你推荐的插件，TPS还是很低迷，我研究了几天了，服务器后台一直报错overloaded ...\n那可以从地图内的生物密集或者实体来入手。React这个插件非常推荐。"
        },
        {
            "author": "Kujouamedaku",
            "timestamp": 1583035440,
            "txt_content": "Matrixchung 发表于 2020-2-29 16:54\n那可以从地图内的生物密集或者实体来入手。React这个插件非常推荐。\n我爬了爬站内贴，终于找到什么问题了。土豆田的问题，一拆TPS马上上去"
        }
    ]
}