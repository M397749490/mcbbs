{
    "title": "请问谁有末影粒子（传送门粒子）的java代码",
    "author": "末影凋灵",
    "replyCount": 6,
    "timestamp": 1454647320,
    "txt_content": " 本帖最后由 末影凋灵 于 2016-2-5 12:45 编辑 \n\n    我用MCreator1.4.7做了一个生物mod，我想让它加上像末影人那样身体周围有末影粒子（传送门紫色粒子）飞过的效果，请问谁有末影粒子的代码？谢谢。\n我用Java Decompiler打开突变生物mod，找到突变末影人文件，搜索portal（因为突变末影人身旁好像就有传送门粒子），搜出以下代码片段：\npublic void func_70636_d()\n  {\n    super.func_70636_d();\n    double h = this.currentAttackID != 10 ? this.field_70131_O : this.field_70131_O + 1.0F;\n    double w = this.currentAttackID != 10 ? this.field_70130_N : this.field_70130_N * 1.5F;\n    boolean targetBlind = (func_70638_az() != null) && (func_70638_az().func_70660_b(Potion.field_76440_q) != null);\n    if (!targetBlind) {\n      for (int i = 0; i < 3; i++)\n      {\n        double x = this.field_70165_t + (this.field_70146_Z.nextDouble() - 0.5D) * w;\n        double y = this.field_70163_u + this.field_70146_Z.nextDouble() * h - 0.25D;\n        double z = this.field_70161_v + (this.field_70146_Z.nextDouble() - 0.5D) * w;\n        this.field_70170_p.func_72869_a(\"portal\", x, y, z, (this.field_70146_Z.nextDouble() - 0.5D) * 2.0D, -this.field_70146_Z.nextDouble(), (this.field_70146_Z.nextDouble() - 0.5D) * 2.0D);\n      }\n    }\n  }\n\n请问这代码是吗？该怎样用？有谁能告诉我一下，谢谢。\n还有，为什么MCreator1.4.7成功导出（出现绿字，没有闪退）的mod安装进forgeMC1.7.10中再打开游戏游戏直接闪退？谁能帮我解决一下，谢谢。",
    "replies": [
        {
            "author": "xiweihai",
            "timestamp": 1454665740,
            "txt_content": " 本帖最后由 xiweihai 于 2016-2-5 17:58 编辑 \n\n你看到的是混淆后的代码，不过对我来说也没关系，这段代码什么意思呢? this.field_70170_p.func_72869_a(xxx混淆前是怎样的呢？大概就是这样this.worldObj.spawnParticle(\"portal\", x, y, z, (this.field_70146_Z.nextDouble() - 0.5D) * 2.0D, -this.field_70146_Z.nextDouble(), (this.field_70146_Z.nextDouble() - 0.5D) * 2.0D);第一个参数是粒子类型，2到4个参数的粒子的坐标，最后三个参数很明显则是粒子xyz坐标的向量，在生物周围一定的距离（可能很小）随机取一个三维坐标，在该坐标生成一个粒子，并随机赋予“-1到1”之间的xyz向量，这决定了粒子的飞行方向和距离以及飞行速度"
        },
        {
            "author": "末影凋灵",
            "timestamp": 1454666400,
            "txt_content": " 本帖最后由 末影凋灵 于 2016-2-5 18:11 编辑 \nxiweihai 发表于 2016-2-5 17:49\n你看到的是混淆后的代码，不过对我来说也没关系，这段代码什么意思呢? this.field_70170_p.func_72869_a(xx ...\n谢谢。不过我还是有点晕，请说一下哪段代码对应第几个参数，谢谢该插到哪里呢？谢谢。\n我的代码：\nimport cpw.mods.fml.client.*;\nimport cpw.mods.fml.client.registry.*;\nimport cpw.mods.fml.common.*;\nimport cpw.mods.fml.common.asm.*;\nimport cpw.mods.fml.common.asm.transformers.*;\nimport cpw.mods.fml.common.discovery.*;\nimport cpw.mods.fml.common.discovery.asm.*;\nimport cpw.mods.fml.common.event.*;\nimport cpw.mods.fml.common.functions.*;\nimport cpw.mods.fml.common.network.*;\nimport cpw.mods.fml.common.registry.*;\nimport cpw.mods.fml.common.toposort.*;\nimport cpw.mods.fml.common.versioning.*;\nimport cpw.mods.fml.relauncher.*;\nimport cpw.mods.fml.server.*;\nimport net.minecraft.block.*;\nimport net.minecraft.block.material.*;\nimport net.minecraft.client.*;\nimport net.minecraft.client.audio.*;\nimport net.minecraft.client.entity.*;\nimport net.minecraft.client.gui.*;\nimport net.minecraft.client.gui.achievement.*;\nimport net.minecraft.client.gui.inventory.*;\nimport net.minecraft.client.model.*;\nimport net.minecraft.client.multiplayer.*;\nimport net.minecraft.client.particle.*;\nimport net.minecraft.client.renderer.*;\nimport net.minecraft.client.renderer.culling.*;\nimport net.minecraft.client.renderer.entity.*;\nimport net.minecraft.client.renderer.tileentity.*;\nimport net.minecraft.client.settings.*;\nimport net.minecraft.command.*;\nimport net.minecraft.crash.*;\nimport net.minecraft.creativetab.*;\nimport net.minecraft.dispenser.*;\nimport net.minecraft.enchantment.*;\nimport net.minecraft.entity.*;\nimport net.minecraft.entity.ai.*;\nimport net.minecraft.entity.boss.*;\nimport net.minecraft.entity.effect.*;\nimport net.minecraft.entity.item.*;\nimport net.minecraft.entity.monster.*;\nimport net.minecraft.entity.passive.*;\nimport net.minecraft.entity.player.*;\nimport net.minecraft.entity.projectile.*;\nimport net.minecraft.inventory.*;\nimport net.minecraft.item.*;\nimport net.minecraft.item.crafting.*;\nimport net.minecraft.nbt.*;\nimport net.minecraft.network.*;\nimport net.minecraft.network.rcon.*;\nimport net.minecraft.pathfinding.*;\nimport net.minecraft.potion.*;\nimport net.minecraft.profiler.*;\nimport net.minecraft.server.*;\nimport net.minecraft.server.dedicated.*;\nimport net.minecraft.server.gui.*;\nimport net.minecraft.server.integrated.*;\nimport net.minecraft.server.management.*;\nimport net.minecraft.src.*;\nimport net.minecraft.stats.*;\nimport net.minecraft.tileentity.*;\nimport net.minecraft.util.*;\nimport net.minecraft.village.*;\nimport net.minecraft.world.*;\nimport net.minecraft.world.biome.*;\nimport net.minecraft.world.chunk.*;\nimport net.minecraft.world.chunk.storage.*;\nimport net.minecraft.world.demo.*;\nimport net.minecraft.world.gen.*;\nimport net.minecraft.world.gen.feature.*;\nimport net.minecraft.world.gen.layer.*;\nimport net.minecraft.world.gen.structure.*;\nimport net.minecraft.world.storage.*;\nimport net.minecraftforge.classloading.*;\nimport net.minecraftforge.client.*;\nimport net.minecraftforge.client.event.*;\nimport net.minecraftforge.client.event.sound.*;\nimport net.minecraftforge.common.*;\nimport net.minecraftforge.event.*;\nimport net.minecraftforge.event.entity.*;\nimport net.minecraftforge.event.entity.item.*;\nimport net.minecraftforge.event.entity.living.*;\nimport net.minecraftforge.event.entity.minecart.*;\nimport net.minecraftforge.event.entity.player.*;\nimport net.minecraftforge.event.terraingen.*;\nimport net.minecraftforge.event.world.*;\nimport net.minecraftforge.oredict.*;\nimport net.minecraftforge.transformers.*;\nimport net.minecraft.init.*;\nimport java.util.Random;\n\n@SuppressWarnings(\"unchecked\")\npublic class mcreator_examplemob {\n\n        public static int mobid = 0;\n        public Object instance;\n\n    public void load(){}\n\n    public void generateNether(World world, Random random, int chunkX, int chunkZ){}\n        public void generateSurface(World world, Random random, int chunkX, int chunkZ){}\n        public int addFuel(ItemStack fuel){\n                return 0;\n        }\n        public void registerRenderers(){\n                RenderingRegistry.registerEntityRenderingHandler(mcreator_examplemob.Entityexamplemob.class, new RenderLiving(new mcreator_examplemob.Modelexamplemob(), 0){protected ResourceLocation getEntityTexture(Entity par1Entity){return new ResourceLocation(\"examplemob.png\");}\n\npublic void doRender(EntityLiving par1EntityLiving, double par2, double par4, double par6, float par8, float par9){\nsuper.doRender(par1EntityLiving, par2, par4, par6, par8, par9);\nBossStatus.setBossStatus((Entityexamplemob)par1EntityLiving, false);\n}\n\n});\n        }\n        public void serverLoad(FMLServerStartingEvent event){}\n        public void preInit(FMLPreInitializationEvent event){\n                int entityID = EntityRegistry.findGlobalUniqueEntityId();\n                mobid = entityID;\n                EntityRegistry.registerGlobalEntityID(mcreator_examplemob.Entityexamplemob.class, \"examplemob\", entityID);\n                EntityRegistry.registerModEntity(mcreator_examplemob.Entityexamplemob.class, \"examplemob\", entityID, instance, 64, 1, true);\n                EntityList.entityEggs.put(Integer.valueOf(entityID), new EntityList.EntityEggInfo(entityID, (102 << 16) + (102 << 8) + 102, (255 << 16) + (0 << 8) + 255));\n\n        \n        }\n\n    /*public Entity spawnEntity(int var1, World var2, double var3, double var5, double var7)\n    {\n        if(var1==mobid)\n                return new mcreator_examplemob.Entityexamplemob(var2);\n        else\n                return null;\n    }*/\n\n\n   public static class Entityexamplemob extends EntityMob implements IBossDisplayData\n        {\n                World world = null;\n            public Entityexamplemob(World var1)\n            {\n                super(var1);\n                world = var1;\n                experienceValue = 10000;\n                this.isImmuneToFire = true;\n                addRandomArmor();\n                \n            }\n\n            \n\nprotected void applyEntityAttributes(){\nsuper.applyEntityAttributes();\nthis.getEntityAttribute(SharedMonsterAttributes.movementSpeed).setBaseValue(0.75D);\nthis.getEntityAttribute(SharedMonsterAttributes.maxHealth).setBaseValue(500D);\nif(this.getEntityAttribute(SharedMonsterAttributes.attackDamage)!=null)this.getEntityAttribute(SharedMonsterAttributes.attackDamage).setBaseValue(10D);\n}\n\n\n            public boolean hasCustomNameTag(){\nreturn true;\n}\n\n\n            \nprotected void addRandomArmor(){\n\n}\n\nprotected void dropRareDrop(int par1){\nthis.dropItem(Items.golden_apple, 1);\nthis.dropItem(Items.ender_pearl, 1);\n}\n\n\n            public boolean isAIEnabled()\n                {\n                           return false;\n            }\n\n            /**\n             * Drop 0-2 items of this living's type\n             */\n            protected void dropFewItems(boolean var1, int var2)\n            {\n                this.entityDropItem(new ItemStack(Items.nether_star), 0.0F);\n            }\n\n            /**\n             * Returns the sound this mob makes while it's alive.\n             */\n            protected String getLivingSound()\n            {\n                return \"mob.wither.idle\";\n            }\n\n            /**\n             * Returns the sound this mob makes when it is hurt.\n             */\n            protected String getHurtSound()\n            {\n                return \"mob.wither.hurt\";\n            }\n\n            /**\n             * Returns the sound this mob makes on death.\n             */\n            protected String getDeathSound()\n            {\n                return \"\";\n            }\n\n            public void onStruckByLightning(EntityLightningBolt entityLightningBolt){\n                        int i = (int)this.posX;\n                        int j = (int)this.posY;\n                        int k = (int)this.posZ;\n                        \n                }\n\n                protected void fall(float l){\n                        int i = (int)this.posX;\n                        int j = (int)this.posY;\n                        int k = (int)this.posZ;\n                        super.fall(l);\n                        \n                }\n\n            public void onCriticalHit(Entity entity) {\n                        int i = (int)this.posX;\n                        int j = (int)this.posY;\n                        int k = (int)this.posZ;\n                        \n                }\n\n                public void onKillEntity(EntityLiving entityLiving){\n                        int i = (int)this.posX;\n                        int j = (int)this.posY;\n                        int k = (int)this.posZ;\n                        \n                }\n\n                public boolean interact(EntityPlayer entity){\n                        int i = (int)this.posX;\n                        int j = (int)this.posY;\n                        int k = (int)this.posZ;\n                        \n                        return true;\n                }\n\n                public String getEntityName(){\n                        return \"examplemob\";\n                }\n\n        }\n复制代码\n（后面就是生物模型代码了，挺长，我就不发了）"
        },
        {
            "author": "xiweihai",
            "timestamp": 1454669640,
            "txt_content": "末影凋灵 发表于 2016-2-5 18:00\n谢谢。不过我还是有点晕，请说一下哪段代码对应第几个参数，谢谢该插到哪里呢？谢谢。\n我的代码：\n你在你自定义实体里面的继承onupdate函数加上，或者注册一个实体更新监听事件写在里面，如果你只是会用那个MCreator的话当我没说"
        },
        {
            "author": "末影凋灵",
            "timestamp": 1454669760,
            "txt_content": " 本帖最后由 末影凋灵 于 2016-2-5 19:02 编辑 \nxiweihai 发表于 2016-2-5 18:54\n你在你自定义实体里面的继承onupdate函数加上，或者注册一个实体更新监听事件写在里面，如果你只是会用那 ...\n我其实并不太懂JAVA代码，要将这一大串代码直接粘贴进去还是光那一行？（总感觉上面有“Attack”的是有关突变末影人的攻击方式的，那个没必要）\npublic void func_70636_d()\n  {\n    super.func_70636_d();\n    double h = this.current<font color=\"#ff0000\">Attack</font>ID != 10 ? this.field_70131_O : this.field_70131_O + 1.0F;\n    double w = this.current<font color=\"#ff0000\">Attack</font>ID != 10 ? this.field_70130_N : this.field_70130_N * 1.5F;\n    boolean targetBlind = (func_70638_az() != null) && (func_70638_az().func_70660_b(Potion.field_76440_q) != null);\n    if (!targetBlind) {\n      for (int i = 0; i < 3; i++)\n      {\n        double x = this.field_70165_t + (this.field_70146_Z.nextDouble() - 0.5D) * w;\n        double y = this.field_70163_u + this.field_70146_Z.nextDouble() * h - 0.25D;\n        double z = this.field_70161_v + (this.field_70146_Z.nextDouble() - 0.5D) * w;\n        this.field_70170_p.func_72869_a(\"portal\", x, y, z, (this.field_70146_Z.nextDouble() - 0.5D) * 2.0D, -this.field_70146_Z.nextDouble(), (this.field_70146_Z.nextDouble() - 0.5D) * 2.0D);\n      }\n    }\n  }复制代码\n\n"
        },
        {
            "author": "xiweihai",
            "timestamp": 1454824020,
            "txt_content": "末影凋灵 发表于 2016-2-5 18:56\n我其实并不太懂JAVA代码，要将这一大串代码直接粘贴进去还是光那一行？（总感觉上面有“Attack”的是有关 ...\n醉了，播放粒子也是有条件的啊，你想某实体在被攻击是播放重写实体的被攻击函数或者监听攻击事件，想一直播放就重写update或者监听实体更新事件，如果你只是在入口函数加这么一句，然后就报错，当然你也可以获取当前玩家实体实现但是这有什么意义呢因为进去只播放了一次粒子效果就没了，如果你想好好的做mod，建议你系统的学下java，思维太局限了这不是复制粘贴到那的问题，上面我已经讲得很明白了"
        },
        {
            "author": "插件达人",
            "timestamp": 1466004540,
            "txt_content": "能指点一下我粒子播放吗  为什么我生成粒子 但是没看到粒子  player.worldObj.spawnParticle(\"portal\",player.posX, player.posY+2, player.posZ, \n                                                                (player.posX - 0.5D) * 2.0D, player.posY, (player.posZ - 0.5D) * 2.0D);  代码肯定是执行到了这里  望大佬回答"
        }
    ]
}