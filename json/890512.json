{
    "title": "Java加密问题",
    "author": "1921415038",
    "replyCount": 14,
    "timestamp": 1563877020,
    "txt_content": "各位大佬，我有一次反编译别人的Jar包，但是类里面是空的放插件里面还可以运行，明显是加密了，请问这个加密是什么原理？",
    "replies": [
        {
            "author": "3TUSK",
            "timestamp": 1563898140,
            "txt_content": "请定义“空的”。真的什么都没有？类的声明还是在的吧。就像这样：\npublic class A {\n}复制代码"
        },
        {
            "author": "沫苍",
            "timestamp": 1563930780,
            "txt_content": "u.s.knowledge 发表于 2019-7-24 00:09\n请定义“空的”。真的什么都没有？类的声明还是在的吧。就像这样：\n他的意思应该是反编译会出现//INTERNAL ERROR//\n导致无法反编译"
        },
        {
            "author": "1921415038",
            "timestamp": 1563932400,
            "txt_content": "u.s.knowledge 发表于 2019-7-24 00:09\n请定义“空的”。真的什么都没有？类的声明还是在的吧。就像这样：\n就像你这个"
        },
        {
            "author": "1921415038",
            "timestamp": 1563932820,
            "txt_content": "u.s.knowledge 发表于 2019-7-24 00:09\n请定义“空的”。真的什么都没有？类的声明还是在的吧。就像这样：\n字节码有字节，不是没有内容，还可以看到方法等字母，加载可以正常使用，反编译就和你这个一样。请问这是怎么弄得？"
        },
        {
            "author": "3TUSK",
            "timestamp": 1563933540,
            "txt_content": "1921415038 发表于 2019-7-24 09:47\n字节码有字节，不是没有内容，还可以看到方法等字母，加载可以正常使用，反编译就和你这个一样。请问这是 ...\n编译时没有包括调试信息（对应的源码行号等）。\n默认，在你编译某个程序到 JVM 字节码的时候，编译器是会顺手把行号这样的信息一并编译进去方便调试的。去掉这样的信息（也许）可以压缩编译产物的尺寸（但我怀疑能压缩多少——这点信息相比于实际的代码并不占多数）。\n\n还是不要继续往下说了吧，省得夜长梦多。"
        },
        {
            "author": "鸭蛋只吃黄",
            "timestamp": 1563949200,
            "txt_content": " 本帖最后由 凋灵兔子 于 2019-7-24 14:49 编辑 \n\n据传用 kotlin 写有一定的概率会自带这种效果. 这并不是加密, java 源码只能混淆, 不能加密. 你愿意的话可以用 javap 命令来看到它的字节码, 不满足的话还可以使用 hsdis 看到汇编代码(真的是汇编).\n\n一个简单的方法可以让你的 jar 不能反编译: 写一个内部类, 然后在内部类中随便写一些代码, 但是不要在任何地方调用这个内部类. 编译打包. 然后用压缩的方式打开 jar 包, 找到这个内部类的 class 文件, 用记事本打开, 这时你看到的都是乱码, 随便删一些东西. 然后保存回 jar 包. 这样 jar 本身存在错误, 但是 ClassLoader 本质上是懒加载的, 运行的时候由于这个内部类永远不会被加载, 所以运行不会出错. 但是反编译时却会因为逻辑错误导致反编译失败.\n\n别多想, 这种方法只能抖个机灵, 想用来隐藏后门是没用的.\n"
        },
        {
            "author": "3TUSK",
            "timestamp": 1563950040,
            "txt_content": "凋灵兔子 发表于 2019-7-24 14:20\n据传用 kotlin 写就会自带这种效果. 这并不是加密, java 源码只能混淆, 不能加密. 你愿意的话可以用 javap  ...\nKotlin 写没有这种效果，我写过一些 Kotlin 也把它们拖进反编译器看过（为了确定编译器对某些奇怪语法的处理方式），都是有行号的。"
        },
        {
            "author": "鸭蛋只吃黄",
            "timestamp": 1563951420,
            "txt_content": "u.s.knowledge 发表于 2019-7-24 14:34\nKotlin 写没有这种效果，我写过一些 Kotlin 也把它们拖进反编译器看过（为了确定编译器对某些奇怪语法的 ...\n另外 dalao, 我感觉 kt 在处理一些语法糖的时候编译器存在 bug, 所以当时就放弃了\n源码:\n\n\n编译后的代码:\n\n\n可以很明显的看到逻辑发生了改变...."
        },
        {
            "author": "3TUSK",
            "timestamp": 1563952140,
            "txt_content": "凋灵兔子 发表于 2019-7-24 14:57\n另外 dalao, 我感觉 kt 在处理一些语法糖的时候编译器存在 bug, 所以当时就放弃了\n源码:\n这确定不是反编译器自己的问题？麻烦上字节码。"
        },
        {
            "author": "鸭蛋只吃黄",
            "timestamp": 1563952500,
            "txt_content": " 本帖最后由 凋灵兔子 于 2019-7-24 15:17 编辑 \nu.s.knowledge 发表于 2019-7-24 15:09\n这确定不是反编译器自己的问题？麻烦上字节码。\n这是去年的代码了....只剩图了, 代码早就没了. 但是确定是编译器的问题, 因为在源代码中很明显整个方法都被锁住, 不存在并发问题. 但是我运行的时候总是出错, 而正是因为总是存在并发问题而我从源码又找不出问题来才反编译的. 如果是反编译出错, 那运行的时候应该是线程安全的.\n\n当时在多个 kotlin 讨论群中提问, 都没有得到回答, 在贴吧中:\nhttps://tieba.baidu.com/p/5982058104?red_tag=3363446138\n.......= =, 就这种水平还当吧主我真是\n"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1563974040,
            "txt_content": "请问使用什么反编译工具的？\n可能是使用了java8语法\n但是反编译工具不支持反编译java8的类"
        },
        {
            "author": "3TUSK",
            "timestamp": 1563983640,
            "txt_content": "凋灵兔子 发表于 2019-7-24 15:15\n这是去年的代码了....只剩图了, 代码早就没了. 但是确定是编译器的问题, 因为在源代码中很明显整个方法都 ...\n有点意思，测试中的特性有 bug？改天我自行编译一下试试"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1564021380,
            "txt_content": "阴阳师元素祭祀 发表于 2019-7-24 21:14\n请问使用什么反编译工具的？\n可能是使用了java8语法\n但是反编译工具不支持反编译java8的类 ...\n正解\njdgui反编译java8的语fa会这样子(迷一样的敏感词判定)"
        },
        {
            "author": "1921415038",
            "timestamp": 1564021740,
            "txt_content": "阴阳师元素祭祀 发表于 2019-7-24 21:14\n请问使用什么反编译工具的？\n可能是使用了java8语法\n但是反编译工具不支持反编译java8的类 ...\n大佬，关于混淆有什么好用的方法吗"
        }
    ]
}