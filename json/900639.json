{
    "title": "如何实现箱子交易",
    "author": "t1546542",
    "replyCount": 5,
    "timestamp": 1565506440,
    "txt_content": "版本：1.12.2\n玩家打开箱子后点击物品即可交易\n例如需要1000金币购买钻石\n点击一下箱子里的钻石自动扣掉1000金币并给予玩家钻石\n没有1000元则不给\n求大佬解答！！！\n\n",
    "replies": [
        {
            "author": "Chelover_C60",
            "timestamp": 1565506440,
            "txt_content": " 本帖最后由 CHElover_C60 于 2019-8-11 16:55 编辑 \n\n给商店里的东西加一些特殊的nbt（不过一般display就够用），然后配合stats+clear检测哪些玩家与商店进行了互动，并保存至计分板。然后选择这些玩家，给予物品，减去货币，即可。\n顺便问一下货币的形式是什么？计分板吗？此处我暂时视为计分板coin吧。\n\n建立计分板\nscoreboard objectives add buy_diamond dummy复制代码\n手动执行一次\nscoreboard players set @a buy_diamond 0复制代码\n循环执行以下命令\nexecute @a ~ ~ ~ stats entity @s set QueryResult @s buy_diamond\nexecute @a ~ ~ ~ clear @s diamond 0 1 {display:{Name:\"钻石（1000金币）\"}}\ngive @a[score_buy_diamond_min=1,score_coin_min=1000] diamond\nscoreboard players remove @a[score_buy_diamond_min=1,score_coin_min=1000] coin 1000\nscoreboard players remove @a[score_buy_diamond_min=1] buy_diamond 1\nblockdata ~ ~1 ~ {Items:[{Slot:13,id:\"minecraft:diamond\",Count:1,tag:{display:{Name:\"钻石（1000金币）\"}}}]}复制代码\n最后一个命令的坐标写商店的坐标。\n已知bug（是游戏bug不是命令bug，修不了）：左键后物品仍然会存在，无法正常清除。唯一的防止方法是按住shift键后再左键。"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1565507940,
            "txt_content": "你看这个FHC.... 又大又甜 (x\n\n请问从箱子交易的物品 只能从交易中获取么\n还是有办法从其他地方获取\n\n并且这个钻石必须是一直在那 并且nbt与lore与名字 不管是否有钱都一样么？"
        },
        {
            "author": "林琳",
            "timestamp": 1565508060,
            "txt_content": "可以使用箱子商店进行交易，https://www.mcbbs.net/forum.php? ... B62%5D%5Btype%5D%3D 这款插件，希望对你有帮助"
        },
        {
            "author": "Aikini",
            "timestamp": 1565542800,
            "txt_content": "[经济]LCGShop —— 另一款轻量级的箱子商店[1.7-1.13]\nhttps://www.mcbbs.net/thread-864268-1-1.html\n这种可以吗？"
        },
        {
            "author": "t1546542",
            "timestamp": 1565619180,
            "txt_content": " 本帖最后由 t1546542 于 2019-8-12 22:16 编辑 \nCHElover_C60 发表于 2019-8-11 14:54\n给商店里的东西加一些特殊的nbt（不过一般display就够用），然后配合stats+clear检测哪些玩家与商店进行了 ...\n我觉得可以用scoreboard的Inventory检测玩家物品栏的物品并加分\n然后检测金币并减分\n最后give和重置"
        }
    ]
}