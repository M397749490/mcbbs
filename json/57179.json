{
    "title": "Forge编程指南：农作物篇",
    "author": "DJXGAME",
    "replyCount": 12,
    "timestamp": 1349842500,
    "txt_content": " 本帖最后由 DJXGAME 于 2012-10-10 12:23 编辑 \n\nForge编程指南：农作物\n在本教程将为您讲述如何制作您自己的农作物。\n\npackage Tutorial.common;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.EnumToolMaterial;\nimport net.minecraft.src.Item;\nimport net.minecraft.src.ItemStack;\nimport net.minecraftforge.common.DungeonHooks;\nimport net.minecraftforge.common.EnumHelper;\nimport cpw.mods.fml.common.Mod;\nimport cpw.mods.fml.common.SidedProxy;\nimport cpw.mods.fml.common.Mod.Init;\nimport cpw.mods.fml.common.event.FMLInitializationEvent;\nimport cpw.mods.fml.common.network.NetworkMod;\nimport cpw.mods.fml.common.registry.GameRegistry;\nimport cpw.mods.fml.common.registry.LanguageRegistry;\n\n@Mod(modid = \"YourName_ModName\", name = \"ModName\", version = \"Version number\")\n@NetworkMod(clientSideRequired = true, serverSideRequired = false)\npublic class Tutorial \n{\n//blocks\npublic static Block oreblock;\n\npublic static int oreblockId = 230;\n\n//items\npublic static Item youritem;\npublic static Item yourfood;\npublic static Item yoursword;\npublic static Item yourpick;\npublic static Item yourshovel;\n\n//proxy\n@SidedProxy(clientSide = \"Tutorial.client.ClientProxyTutorial\", serverSide = \"Tutorial.common.CommonProxyTutorial\")\n    public static CommonProxyTutorial proxy;\n\n//enums\nstatic EnumToolMaterial yourtoolmaterial = EnumHelper.addToolMaterial(\"yourmaterial\", 2, 500, 7F, 2, 14);\n\n@Init\npublic void load(FMLInitializationEvent event)\n{\n//proxy\nproxy.registerRenderThings();\n\n//blocks\noreblock = new BlockOres(oreblockId, 0).setStepSound(Block.soundStoneFootstep).setHardness(3F).setResistance(1.0F).setBlockName(\"oreblock\");\n\n//metadata register\nItem.itemsList[oreblockId] = new ItemBlockOres(oreblockId-256, oreblock).setItemName(\"oreblock\");\n\n//block names\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.ore.name\", \"Your Ore\");\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.netherore.name\", \"Your Nether Ore\");\n\n//items\nyouritem = new ItemTutorial(550).setIconIndex(1).setItemName(\"youritem\");\nyourfood = new ItemTutorialFood(551, 8, true).setIconIndex(3).setItemName(\"yourfood\");\nyoursword = new ItemYourSword(552, yourtoolmaterial).setIconIndex(4).setItemName(\"yoursword\");\nyourpick = new ItemYourPick(553, yourtoolmaterial).setIconIndex(5).setItemName(\"yourpick\");\nyourshovel = new ItemYourShovel(554, yourtoolmaterial).setIconIndex(6).setItemName(\"yourshovel\");\n\n//item names\nLanguageRegistry.addName(youritem, \"Your Item\");\nLanguageRegistry.addName(yourfood, \"Your Food\");\nLanguageRegistry.addName(yoursword, \"Your Sword\");\nLanguageRegistry.addName(yourpick, \"Your Pickaxe\");\nLanguageRegistry.addName(yourshovel, \"Your Shovel\");\n\n//dungeon\nDungeonHooks.addDungeonLoot(new ItemStack(youritem), 10, 2, 5);\nDungeonHooks.setDungeonLootTries(50);\n\n//game registry\nGameRegistry.registerFuelHandler(new TutorialFuel());\nGameRegistry.registerWorldGenerator(new WorldgeneratorTutorial());\n\n//recipes\nGameRegistry.addRecipe(new ItemStack(yoursword), new Object[]\n{\n\"X\", \"X\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourpick), new Object[]\n{\n\"XXX\", \" Z \", \" Z \", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourshovel), new Object[]\n{\n\"X\", \"Z\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\n}\n}\n复制代码\n欲添加农作物您首先需要制作一个常规的方块，以下为其代码：\n\n\npublic static Block cropblock;\n\ncropblock = new BlockCropTutorial(231, 1).setStepSound(Block.soundGrassFootstep).setHardness(0.0F).setBlockName(\"cropblock\");\n\nGameRegistry.registerBlock(cropblock);\n\nLanguageRegistry.addName(cropblock, \"Custom Crop\");复制代码\n这段代码于其他方块的代码完全相同。其中所走过的声音被设置为草的声音，硬度等级被设置为0.0F，也就是说会被一击分解，此时代码应如下所示：\n\npackage Tutorial.common;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.EnumToolMaterial;\nimport net.minecraft.src.Item;\nimport net.minecraft.src.ItemStack;\nimport net.minecraftforge.common.DungeonHooks;\nimport net.minecraftforge.common.EnumHelper;\nimport cpw.mods.fml.common.Mod;\nimport cpw.mods.fml.common.SidedProxy;\nimport cpw.mods.fml.common.Mod.Init;\nimport cpw.mods.fml.common.event.FMLInitializationEvent;\nimport cpw.mods.fml.common.network.NetworkMod;\nimport cpw.mods.fml.common.registry.GameRegistry;\nimport cpw.mods.fml.common.registry.LanguageRegistry;\n\n@Mod(modid = \"YourName_ModName\", name = \"ModName\", version = \"Version number\")\n@NetworkMod(clientSideRequired = true, serverSideRequired = false)\npublic class Tutorial \n{\n//blocks\npublic static Block oreblock;\npublic static Block cropblock;\n\npublic static int oreblockId = 230;\n\n//items\npublic static Item youritem;\npublic static Item yourfood;\npublic static Item yoursword;\npublic static Item yourpick;\npublic static Item yourshovel;\n\n//proxy\n@SidedProxy(clientSide = \"Tutorial.client.ClientProxyTutorial\", serverSide = \"Tutorial.common.CommonProxyTutorial\")\n    public static CommonProxyTutorial proxy;\n\n//enums\nstatic EnumToolMaterial yourtoolmaterial = EnumHelper.addToolMaterial(\"yourmaterial\", 2, 500, 7F, 2, 14);\n\n@Init\npublic void load(FMLInitializationEvent event)\n{\n//proxy\nproxy.registerRenderThings();\n\n//blocks\noreblock = new BlockOres(oreblockId, 0).setStepSound(Block.soundStoneFootstep).setHardness(3F).setResistance(1.0F).setBlockName(\"oreblock\");\ncropblock = new BlockCropTutorial(231, 1).setStepSound(Block.soundGrassFootstep).setHardness(0.0F).setBlockName(\"cropblock\");\n\nGameRegistry.registerBlock(cropblock);\n\n//metadata register\nItem.itemsList[oreblockId] = new ItemBlockOres(oreblockId-256, oreblock).setItemName(\"oreblock\");\n\n//block names\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.ore.name\", \"Your Ore\");\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.netherore.name\", \"Your Nether Ore\");\nLanguageRegistry.addName(cropblock, \"Custom Crop\");\n\n//items\nyouritem = new ItemTutorial(550).setIconIndex(1).setItemName(\"youritem\");\nyourfood = new ItemTutorialFood(551, 8, true).setIconIndex(3).setItemName(\"yourfood\");\nyoursword = new ItemYourSword(552, yourtoolmaterial).setIconIndex(4).setItemName(\"yoursword\");\nyourpick = new ItemYourPick(553, yourtoolmaterial).setIconIndex(5).setItemName(\"yourpick\");\nyourshovel = new ItemYourShovel(554, yourtoolmaterial).setIconIndex(6).setItemName(\"yourshovel\");\n\n//item names\nLanguageRegistry.addName(youritem, \"Your Item\");\nLanguageRegistry.addName(yourfood, \"Your Food\");\nLanguageRegistry.addName(yoursword, \"Your Sword\");\nLanguageRegistry.addName(yourpick, \"Your Pickaxe\");\nLanguageRegistry.addName(yourshovel, \"Your Shovel\");\n\n//dungeon\nDungeonHooks.addDungeonLoot(new ItemStack(youritem), 10, 2, 5);\nDungeonHooks.setDungeonLootTries(50);\n\n//game registry\nGameRegistry.registerFuelHandler(new TutorialFuel());\nGameRegistry.registerWorldGenerator(new WorldgeneratorTutorial());\n\n//recipes\nGameRegistry.addRecipe(new ItemStack(yoursword), new Object[]\n{\n\"X\", \"X\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourpick), new Object[]\n{\n\"XXX\", \" Z \", \" Z \", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourshovel), new Object[]\n{\n\"X\", \"Z\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\n}\n}复制代码\n接下来为您讲解如何制作BlockCropTutorial文件。\n首先，将您的鼠标悬停至BlockCropTutorial时点击create 。\n此时代码如下：\n\npackage Tutorial.common;\n\npublic class BlockCropTutorial \n{\n\n}复制代码\n首先您需要使该文件自BlockFlower。此时会在BlockCropTutorial中出现语法错误，这是由于并没有为该方块添加method的缘故。你所需要添加的method如下所示。 \n\nprotected BlockCropTutorial(int par1, int par2)\n    {\n        super(par1, par2);\n        blockIndexInTexture = par2;\n        setTickRandomly(true);\n        float f = 0.5F;\n        setBlockBounds(0.5F - f, 0.0F, 0.5F - f, 0.5F + f, 0.25F, 0.5F + f);\n        this.setCreativeTab((CreativeTabs)null);\n        this.disableStats();\n        this.setRequiresSelfNotify();\n    }复制代码\n请确保名字与文件名完全相同。\nsuper(par1, par2) 在每一个方块中的作用都是相同的，都是赋予其所继承方块的ID以及材质。lockIndexInTexture = par2; 赋值材质变量（blockIndexIn Texture）\nsetTickRandomly(true) 赋值为真可以使农作物的生长时间更为随机。\n以下两行用于设置植物的碰撞区域。建议您进行反复的调整直至获得您所满意的最佳尺寸。\nthis.setCreativeTab((CreativeTabs)null); 设置该方块的标签不显示。由于只需要显示种子即可，稍后的教程中会详细进行。\nhis.disableStats()与 this.setRequiresSelfNotify()为植物所必须的函数，与元数据有关。\n\n需要另行添加一个如下的Method。\n\npublic void updateTick(World par1World, int par2, int par3, int par4, Random par5Random)\n    {\n        super.updateTick(par1World, par2, par3, par4, par5Random);\n\n        if (par1World.getBlockLightValue(par2, par3 + 1, par4) >= 9)\n        {\n            int i = par1World.getBlockMetadata(par2, par3, par4);\n\n            if (i < 2)\n            {\n                float f = getGrowthRate(par1World, par2, par3, par4);\n\n                if (par5Random.nextInt((int)(25F / f) + 1) == 0)\n                {\n                    i++;\n                    par1World.setBlockMetadataWithNotify(par2, par3, par4, i);\n                }\n            }\n        }\n    }\n复制代码\n此Method控制方块的生长，我们只关心其中的两部分。\n第一部分是 par1World.getBlockLightValue.这一method由于控制方块的光照等级。如果您希望您的庄稼只在有阳光的时候生长可以使用此Method。在本例中，庄稼只能在高于9的光照等级下生长。\n第二部分为 i < 2。这一部分用于控制农作物的生长过程。在此例中，会生成0、1、2这些元数据。如果您将2替换为3，则会生成元数据3。这些元数据存储了方块生长过程的信息。\n\n在您添加上述代码后，会在getGrowthRate中出现错误。当然修复错误的方法是添加如下method。 \n\n\nprivate float getGrowthRate(World par1World, int par2, int par3, int par4)\n    {\n        float f = 1.0F;\n        int i = par1World.getBlockId(par2, par3, par4 - 1);\n        int j = par1World.getBlockId(par2, par3, par4 + 1);\n        int k = par1World.getBlockId(par2 - 1, par3, par4);\n        int l = par1World.getBlockId(par2 + 1, par3, par4);\n        int i1 = par1World.getBlockId(par2 - 1, par3, par4 - 1);\n        int j1 = par1World.getBlockId(par2 + 1, par3, par4 - 1);\n        int k1 = par1World.getBlockId(par2 + 1, par3, par4 + 1);\n        int l1 = par1World.getBlockId(par2 - 1, par3, par4 + 1);\n        boolean flag = k == blockID || l == blockID;\n        boolean flag1 = i == blockID || j == blockID;\n        boolean flag2 = i1 == blockID || j1 == blockID || k1 == blockID || l1 == blockID;\n\n        for (int i2 = par2 - 1; i2 <= par2 + 1; i2++)\n        {\n            for (int j2 = par4 - 1; j2 <= par4 + 1; j2++)\n            {\n                int k2 = par1World.getBlockId(i2, par3 - 1, j2);\n                float f1 = 0.0F;\n\n                if (k2 == Block.grass.blockID)\n                {\n                    f1 = 1.0F;\n\n                    if (par1World.getBlockMetadata(i2, par3 - 1, j2) > 0)\n                    {\n                        f1 = 3F;\n                    }\n                }\n\n                if (i2 != par2 || j2 != par4)\n                {\n                    f1 /= 4F;\n                }\n\n                f += f1;\n            }\n        }\n\n        if (flag2 || flag && flag1)\n        {\n            f /= 2.0F;\n        }\n\n        return f;\n    }\n复制代码\n这一Method实现两种功能。第一项为控制其生长速度，第二项为确认农作物下方块为其所设置的方块。在本例中所设置方块为草。\n\n为了确保该方块只能在草上才能生长，可以添加如下method。\n\n\nprotected boolean canThisPlantGrowOnThisBlockID(int par1)\n    {\n        return par1 == Block.grass.blockID;\n    }\n复制代码\n如果您希望您的农作物可以在使用上生长，请将Block.grass替换为Block.stone。另外，请记得在getGrowthRate中也进行相应替换。\n\n\n接下来为您讲解如何渲染您的农作物以及修改其掉落物。\n\n首先需要添加如下method。\n\npublic String getTextureFile()\n    {\n            return \"/TutTextures.png\";\n    }复制代码\n如果您深谙方块制作之道的话，相信您对上述method不会陌生。\n\n\n接下来会可能会用到如下method。 \n\npublic int getRenderType()\n    {\n        return 6;\n    }复制代码\n该method用于确保该方块以庄稼的形式显示。\n\n为了确保该方块使用正确材质，您需要添加如下method。\n\npublic int getBlockTextureFromSideAndMetadata(int par1, int par2)\n    {\nswitch(par2)\n{\ncase 0:\nreturn 2;\ncase 1:\nreturn 3;\ncase 2:\nreturn 4;\ndefault:\nreturn 0;\n}\n    }\n\n复制代码\npar2 为方块的元数据。由于在上文中设置其生长过程为3部。0为开始状态、2为成熟状态。返回值为您像素图中对应的位置。\n\n\n在这里请确保代码返回值正确，这样才能是您的庄稼如您所愿生长。至于掉落物，需要添加如下method。\n\npublic int idDropped(int par1, Random par2Random, int par3)\n    {\n        if (par1 == 2)\n        {\n            return Tutorial.yourfood.shiftedIndex;\n        }\n        else\n        {\n            return 0;\n        }\n    }\n复制代码\npar1 为方块的元数据。在本例中需要判断农作是否生长成熟（ if (par1 == 2) ）而关于掉落物的设置，在之前的教程中已有所涉及故不再赘述。\n\n以下需要添加的两个Method较为重要。第一个method用于种子的掉落设定。 \n\npublic void dropBlockAsItemWithChance(World par1World, int par2, int par3, int par4, int par5, float par6, int par7)\n    {\n        super.dropBlockAsItemWithChance(par1World, par2, par3, par4, par5, par6, 0);\n\n        if (par1World.isRemote)\n        {\n            return;\n        }\n\n        int i = 3 + par7;\n\n        for (int j = 0; j < i; j++)\n        {\n            if (par1World.rand.nextInt(5) == 0)\n            {\n                float f = 0.7F;\n                float f1 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                float f2 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                float f3 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                EntityItem entityitem = new EntityItem(par1World, (float)par2 + f1, (float)par3 + f2, (float)par4 + f3, new ItemStack(Tutorial.cropseed));\n                entityitem.delayBeforeCanPickup = 10;\n                par1World.spawnEntityInWorld(entityitem);\n            }\n        }\n    }复制代码\n这一method用于设置该方块被破坏时的掉落物。\n\n上述代码中的绝大部分用于设置其掉落位置的随机性和掉落物品的几率。唯一重要的是以EntityItem开头的那句，句中包含诸多变量。最后一个变量为所掉落物品。在本例中被设置为在稍后章节中所讲述的种子。\n\n第二个较为重要的Method为在创造模式中通过在方块上按鼠标中键可以拾取该方块/物品。需要在之后的种子讲解中也添加此method。\n\npublic int idPicked(World par1World, int par2, int par3, int par4)\n    {\n        return Tutorial.cropseed.shiftedIndex;\n    }复制代码\n此时整个文件如下所示：\n\npackage Tutorial.common;\n\nimport java.util.Random;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.BlockFlower;\nimport net.minecraft.src.CreativeTabs;\nimport net.minecraft.src.EntityItem;\nimport net.minecraft.src.ItemStack;\nimport net.minecraft.src.World;\n\npublic class BlockCropTutorial extends BlockFlower\n{\nprotected BlockCropTutorial(int par1, int par2)\n    {\n        super(par1, par2);\n        blockIndexInTexture = par2;\n        setTickRandomly(true);\n        float f = 0.5F;\n        setBlockBounds(0.5F - f, 0.0F, 0.5F - f, 0.5F + f, 0.25F, 0.5F + f);\n        this.setCreativeTab((CreativeTabs)null);\n        this.disableStats();\n        this.setRequiresSelfNotify();\n    }\n\npublic String getTextureFile()\n    {\n            return \"/TutTextures.png\";\n    }\n\npublic int getRenderType()\n    {\n        return 6;\n    }\n\npublic int getBlockTextureFromSideAndMetadata(int par1, int par2)\n    {\nswitch(par2)\n{\ncase 0:\nreturn 2;\ncase 1:\nreturn 3;\ncase 2:\nreturn 4;\ndefault:\nreturn 0;\n}\n    }\n\npublic void dropBlockAsItemWithChance(World par1World, int par2, int par3, int par4, int par5, float par6, int par7)\n    {\n        super.dropBlockAsItemWithChance(par1World, par2, par3, par4, par5, par6, 0);\n\n        if (par1World.isRemote)\n        {\n            return;\n        }\n\n        int i = 3 + par7;\n\n        for (int j = 0; j < i; j++)\n        {\n            if (par1World.rand.nextInt(5) == 0)\n            {\n                float f = 0.7F;\n                float f1 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                float f2 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                float f3 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                EntityItem entityitem = new EntityItem(par1World, (float)par2 + f1, (float)par3 + f2, (float)par4 + f3, new ItemStack(Tutorial.cropseed));\n                entityitem.delayBeforeCanPickup = 10;\n                par1World.spawnEntityInWorld(entityitem);\n            }\n        }\n    }\n\n    public int idDropped(int par1, Random par2Random, int par3)\n    {\n        if (par1 == 2)\n        {\n            return Tutorial.yourfood.shiftedIndex;\n        }\n        else\n        {\n            return -1;\n        }\n    }\n    \n    public int quantityDropped(Random par1Random)\n    {\n        return 1;\n    }\n    \n    public int idPicked(World par1World, int par2, int par3, int par4)\n    {\n        return Tutorial.cropseed.shiftedIndex;\n    }\n\nprotected boolean canThisPlantGrowOnThisBlockID(int par1)\n    {\n        return par1 == Block.grass.blockID;\n    }\n\npublic void updateTick(World par1World, int par2, int par3, int par4, Random par5Random)\n    {\n        super.updateTick(par1World, par2, par3, par4, par5Random);\n\n        if (par1World.getBlockLightValue(par2, par3 + 1, par4) >= 9)\n        {\n            int i = par1World.getBlockMetadata(par2, par3, par4);\n\n            if (i < 2)\n            {\n                float f = getGrowthRate(par1World, par2, par3, par4);\n\n                if (par5Random.nextInt((int)(25F / f) + 1) == 0)\n                {\n                    i++;\n                    par1World.setBlockMetadataWithNotify(par2, par3, par4, i);\n                }\n            }\n        }\n    }\n\nprivate float getGrowthRate(World par1World, int par2, int par3, int par4)\n    {\n        float f = 1.0F;\n        int i = par1World.getBlockId(par2, par3, par4 - 1);\n        int j = par1World.getBlockId(par2, par3, par4 + 1);\n        int k = par1World.getBlockId(par2 - 1, par3, par4);\n        int l = par1World.getBlockId(par2 + 1, par3, par4);\n        int i1 = par1World.getBlockId(par2 - 1, par3, par4 - 1);\n        int j1 = par1World.getBlockId(par2 + 1, par3, par4 - 1);\n        int k1 = par1World.getBlockId(par2 + 1, par3, par4 + 1);\n        int l1 = par1World.getBlockId(par2 - 1, par3, par4 + 1);\n        boolean flag = k == blockID || l == blockID;\n        boolean flag1 = i == blockID || j == blockID;\n        boolean flag2 = i1 == blockID || j1 == blockID || k1 == blockID || l1 == blockID;\n\n        for (int i2 = par2 - 1; i2 <= par2 + 1; i2++)\n        {\n            for (int j2 = par4 - 1; j2 <= par4 + 1; j2++)\n            {\n                int k2 = par1World.getBlockId(i2, par3 - 1, j2);\n                float f1 = 0.0F;\n\n                if (k2 == Block.grass.blockID)\n                {\n                    f1 = 1.0F;\n\n                    if (par1World.getBlockMetadata(i2, par3 - 1, j2) > 0)\n                    {\n                        f1 = 3F;\n                    }\n                }\n\n                if (i2 != par2 || j2 != par4)\n                {\n                    f1 /= 4F;\n                }\n\n                f += f1;\n            }\n        }\n\n        if (flag2 || flag && flag1)\n        {\n            f /= 2.0F;\n        }\n\n        return f;\n    }\n}\n复制代码\n接下来会为您讲述如何创建种子文件。您需要在您的Mod中添加一个新的物品，代码如下说示：\n\npackage Tutorial.common;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.EnumToolMaterial;\nimport net.minecraft.src.Item;\nimport net.minecraft.src.ItemStack;\nimport net.minecraftforge.common.DungeonHooks;\nimport net.minecraftforge.common.EnumHelper;\nimport cpw.mods.fml.common.Mod;\nimport cpw.mods.fml.common.SidedProxy;\nimport cpw.mods.fml.common.Mod.Init;\nimport cpw.mods.fml.common.event.FMLInitializationEvent;\nimport cpw.mods.fml.common.network.NetworkMod;\nimport cpw.mods.fml.common.registry.GameRegistry;\nimport cpw.mods.fml.common.registry.LanguageRegistry;\n\n@Mod(modid = \"YourName_ModName\", name = \"ModName\", version = \"Version number\")\n@NetworkMod(clientSideRequired = true, serverSideRequired = false)\npublic class Tutorial \n{\n//blocks\npublic static Block oreblock;\npublic static Block cropblock;\n\npublic static int oreblockId = 230;\n\n//items\npublic static Item youritem;\npublic static Item yourfood;\npublic static Item yoursword;\npublic static Item yourpick;\npublic static Item yourshovel;\n\n//proxy\n@SidedProxy(clientSide = \"Tutorial.client.ClientProxyTutorial\", serverSide = \"Tutorial.common.CommonProxyTutorial\")\n    public static CommonProxyTutorial proxy;\n\n//enums\nstatic EnumToolMaterial yourtoolmaterial = EnumHelper.addToolMaterial(\"yourmaterial\", 2, 500, 7F, 2, 14);\n\n@Init\npublic void load(FMLInitializationEvent event)\n{\n//proxy\nproxy.registerRenderThings();\n\n//blocks\noreblock = new BlockOres(oreblockId, 0).setStepSound(Block.soundStoneFootstep).setHardness(3F).setResistance(1.0F).setBlockName(\"oreblock\");\ncropblock = new BlockCropTutorial(231, 1).setStepSound(Block.soundGrassFootstep).setHardness(0.0F).setBlockName(\"cropblock\");\n\nGameRegistry.registerBlock(cropblock);\n\n//metadata register\nItem.itemsList[oreblockId] = new ItemBlockOres(oreblockId-256, oreblock).setItemName(\"oreblock\");\n\n//block names\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.ore.name\", \"Your Ore\");\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.netherore.name\", \"Your Nether Ore\");\nLanguageRegistry.addName(cropblock, \"Custom Crop\");\n\n//items\nyouritem = new ItemTutorial(550).setIconIndex(1).setItemName(\"youritem\");\nyourfood = new ItemTutorialFood(551, 8, true).setIconIndex(3).setItemName(\"yourfood\");\nyoursword = new ItemYourSword(552, yourtoolmaterial).setIconIndex(4).setItemName(\"yoursword\");\nyourpick = new ItemYourPick(553, yourtoolmaterial).setIconIndex(5).setItemName(\"yourpick\");\nyourshovel = new ItemYourShovel(554, yourtoolmaterial).setIconIndex(6).setItemName(\"yourshovel\");\n\n//item names\nLanguageRegistry.addName(youritem, \"Your Item\");\nLanguageRegistry.addName(yourfood, \"Your Food\");\nLanguageRegistry.addName(yoursword, \"Your Sword\");\nLanguageRegistry.addName(yourpick, \"Your Pickaxe\");\nLanguageRegistry.addName(yourshovel, \"Your Shovel\");\n\n//dungeon\nDungeonHooks.addDungeonLoot(new ItemStack(youritem), 10, 2, 5);\nDungeonHooks.setDungeonLootTries(50);\n\n//game registry\nGameRegistry.registerFuelHandler(new TutorialFuel());\nGameRegistry.registerWorldGenerator(new WorldgeneratorTutorial());\n\n//recipes\nGameRegistry.addRecipe(new ItemStack(yoursword), new Object[]\n{\n\"X\", \"X\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourpick), new Object[]\n{\n\"XXX\", \" Z \", \" Z \", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourshovel), new Object[]\n{\n\"X\", \"Z\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\n}\n}复制代码\n在前文中已经展示了如何处理农作物方块。接下来需要为农作物的种子物品添加代码。所添加的代码如下所示：\n\n这段代码为作为种子所必备的代码。\n\n\npublic static Item cropseed;\ncropseed = new Itemcropseed(555, cropblock.blockID, Block.grass.blockID).setIconIndex(7).setItemName(\"flaxseed\");\nLanguageRegistry.addName(cropseed, \"Your Crop Seed\");复制代码\n如果您深谙物品制作之道，这段代码您将易如反掌。\n唯一的区别在于Itemcropseed之后的设置。第一个参数为ID，第二个参数为对应的庄稼ID，最后一个参数为所放置方块的ID。\n\n此时文件应如下所示。\n\npackage Tutorial.common;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.EnumToolMaterial;\nimport net.minecraft.src.Item;\nimport net.minecraft.src.ItemStack;\nimport net.minecraftforge.common.DungeonHooks;\nimport net.minecraftforge.common.EnumHelper;\nimport cpw.mods.fml.common.Mod;\nimport cpw.mods.fml.common.SidedProxy;\nimport cpw.mods.fml.common.Mod.Init;\nimport cpw.mods.fml.common.event.FMLInitializationEvent;\nimport cpw.mods.fml.common.network.NetworkMod;\nimport cpw.mods.fml.common.registry.GameRegistry;\nimport cpw.mods.fml.common.registry.LanguageRegistry;\n\n@Mod(modid = \"YourName_ModName\", name = \"ModName\", version = \"Version number\")\n@NetworkMod(clientSideRequired = true, serverSideRequired = false)\npublic class Tutorial \n{\n//blocks\npublic static Block oreblock;\npublic static Block cropblock;\n\npublic static int oreblockId = 230;\n\n//items\npublic static Item youritem;\npublic static Item yourfood;\npublic static Item yoursword;\npublic static Item yourpick;\npublic static Item yourshovel;\npublic static Item cropseed;\n\n//proxy\n@SidedProxy(clientSide = \"Tutorial.client.ClientProxyTutorial\", serverSide = \"Tutorial.common.CommonProxyTutorial\")\n    public static CommonProxyTutorial proxy;\n\n//enums\nstatic EnumToolMaterial yourtoolmaterial = EnumHelper.addToolMaterial(\"yourmaterial\", 2, 500, 7F, 2, 14);\n\n@Init\npublic void load(FMLInitializationEvent event)\n{\n//proxy\nproxy.registerRenderThings();\n\n//blocks\noreblock = new BlockOres(oreblockId, 0).setStepSound(Block.soundStoneFootstep).setHardness(3F).setResistance(1.0F).setBlockName(\"oreblock\");\ncropblock = new BlockCropTutorial(231, 1).setStepSound(Block.soundGrassFootstep).setHardness(0.0F).setBlockName(\"cropblock\");\n\nGameRegistry.registerBlock(cropblock);\n\n//metadata register\nItem.itemsList[oreblockId] = new ItemBlockOres(oreblockId-256, oreblock).setItemName(\"oreblock\");\n\n//block names\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.ore.name\", \"Your Ore\");\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.netherore.name\", \"Your Nether Ore\");\nLanguageRegistry.addName(cropblock, \"Custom Crop\");\n\n//items\nyouritem = new ItemTutorial(550).setIconIndex(1).setItemName(\"youritem\");\nyourfood = new ItemTutorialFood(551, 8, true).setIconIndex(3).setItemName(\"yourfood\");\nyoursword = new ItemYourSword(552, yourtoolmaterial).setIconIndex(4).setItemName(\"yoursword\");\nyourpick = new ItemYourPick(553, yourtoolmaterial).setIconIndex(5).setItemName(\"yourpick\");\nyourshovel = new ItemYourShovel(554, yourtoolmaterial).setIconIndex(6).setItemName(\"yourshovel\");\ncropseed = new Itemcropseed(555, cropblock.blockID, Block.grass.blockID).setIconIndex(7).setItemName(\"flaxseed\");\n\n//item names\nLanguageRegistry.addName(youritem, \"Your Item\");\nLanguageRegistry.addName(yourfood, \"Your Food\");\nLanguageRegistry.addName(yoursword, \"Your Sword\");\nLanguageRegistry.addName(yourpick, \"Your Pickaxe\");\nLanguageRegistry.addName(yourshovel, \"Your Shovel\");\nLanguageRegistry.addName(cropseed, \"Your Crop Seed\");\n\n//dungeon\nDungeonHooks.addDungeonLoot(new ItemStack(youritem), 10, 2, 5);\nDungeonHooks.setDungeonLootTries(50);\n\n//game registry\nGameRegistry.registerFuelHandler(new TutorialFuel());\nGameRegistry.registerWorldGenerator(new WorldgeneratorTutorial());\n\n//recipes\nGameRegistry.addRecipe(new ItemStack(yoursword), new Object[]\n{\n\"X\", \"X\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourpick), new Object[]\n{\n\"XXX\", \" Z \", \" Z \", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourshovel), new Object[]\n{\n\"X\", \"Z\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\n}\n}复制代码\n现在您需要创建 Itemcropseed文件。\n\n该文件需要包含如下。\n\npackage Tutorial.common;\n\nimport net.minecraft.src.CreativeTabs;\nimport net.minecraft.src.EntityPlayer;\nimport net.minecraft.src.Item;\nimport net.minecraft.src.ItemStack;\nimport net.minecraft.src.World;\n\npublic class Itemcropseed extends Item\n{\n    /**\n     * the type of block this seed turns into (wheat or pumpkin stems for instance)\n     */\n    private int blockType;\n\n    /** BlockID of the block the seeds can be planted on. */\n    private int soilBlockID;\n\n    public String getTextureFile()\n    {\n            return \"/TutTextures.png\";\n    }\n    \n    public Itemcropseed(int par1, int par2, int par3)\n    {\n        super(par1);\n        blockType = par2;\n        soilBlockID = par3;\n        this.setCreativeTab(CreativeTabs.tabMaterials);\n    }\n    \n    public boolean tryPlaceIntoWorld(ItemStack par1ItemStack, EntityPlayer par2EntityPlayer, World par3World, int par4, int par5, int par6, int par7, float par8, float par9, float par10)\n    {\n        if (par7 != 1)\n        {\n            return false;\n        }\n        else if (par2EntityPlayer.canPlayerEdit(par4, par5, par6) && par2EntityPlayer.canPlayerEdit(par4, par5 + 1, par6))\n        {\n            int var11 = par3World.getBlockId(par4, par5, par6);\n\n            if (var11 == this.soilBlockID && par3World.isAirBlock(par4, par5 + 1, par6))\n            {\n                par3World.setBlockWithNotify(par4, par5 + 1, par6, this.blockType);\n                --par1ItemStack.stackSize;\n                return true;\n            }\n            else\n            {\n                return false;\n            }\n        }\n        else\n        {\n            return false;\n        }\n    }\n}复制代码\n这段代码中的绝大部分都非常简单。\n\n在tryPlaceIntoWorld method中检查你所点击的是否是第三个参量以及该方块是否暴露在空气中。如果为真则放置第二个参量代表的方块。\n\n接下来为您讲述如何为您的农作物添加骨粉。这其中的一部分代码需要在您的方块文件中完成，另一部分则需要添加进Mod文件中国。以下是方块文件的内容。\n\n\npackage Tutorial.common;\n\nimport java.util.Random;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.BlockFlower;\nimport net.minecraft.src.CreativeTabs;\nimport net.minecraft.src.EntityItem;\nimport net.minecraft.src.ItemStack;\nimport net.minecraft.src.World;\n\npublic class BlockCropTutorial extends BlockFlower\n{\nprotected BlockCropTutorial(int par1, int par2)\n    {\n        super(par1, par2);\n        blockIndexInTexture = par2;\n        setTickRandomly(true);\n        float f = 0.5F;\n        setBlockBounds(0.5F - f, 0.0F, 0.5F - f, 0.5F + f, 0.25F, 0.5F + f);\n        this.setCreativeTab((CreativeTabs)null);\n        this.disableStats();\n        this.setRequiresSelfNotify();\n    }\n\npublic String getTextureFile()\n    {\n            return \"/TutTextures.png\";\n    }\n\npublic int getRenderType()\n    {\n        return 6;\n    }\n\npublic int getBlockTextureFromSideAndMetadata(int par1, int par2)\n    {\nswitch(par2)\n{\ncase 0:\nreturn 2;\ncase 1:\nreturn 3;\ncase 2:\nreturn 4;\ndefault:\nreturn 0;\n}\n    }\n\npublic void dropBlockAsItemWithChance(World par1World, int par2, int par3, int par4, int par5, float par6, int par7)\n    {\n        super.dropBlockAsItemWithChance(par1World, par2, par3, par4, par5, par6, 0);\n\n        if (par1World.isRemote)\n        {\n            return;\n        }\n\n        int i = 3 + par7;\n\n        for (int j = 0; j < i; j++)\n        {\n            if (par1World.rand.nextInt(5) == 0)\n            {\n                float f = 0.7F;\n                float f1 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                float f2 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                float f3 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                EntityItem entityitem = new EntityItem(par1World, (float)par2 + f1, (float)par3 + f2, (float)par4 + f3, new ItemStack(Tutorial.cropseed));\n                entityitem.delayBeforeCanPickup = 10;\n                par1World.spawnEntityInWorld(entityitem);\n            }\n        }\n    }\n\n    public int idDropped(int par1, Random par2Random, int par3)\n    {\n        if (par1 == 2)\n        {\n            return Tutorial.yourfood.shiftedIndex;\n        }\n        else\n        {\n            return -1;\n        }\n    }\n    \n    public int quantityDropped(Random par1Random)\n    {\n        return 1;\n    }\n    \n    public int idPicked(World par1World, int par2, int par3, int par4)\n    {\n        return Tutorial.cropseed.shiftedIndex;\n    }\n\nprotected boolean canThisPlantGrowOnThisBlockID(int par1)\n    {\n        return par1 == Block.grass.blockID;\n    }\n\npublic void updateTick(World par1World, int par2, int par3, int par4, Random par5Random)\n    {\n        super.updateTick(par1World, par2, par3, par4, par5Random);\n\n        if (par1World.getBlockLightValue(par2, par3 + 1, par4) >= 9)\n        {\n            int i = par1World.getBlockMetadata(par2, par3, par4);\n\n            if (i < 2)\n            {\n                float f = getGrowthRate(par1World, par2, par3, par4);\n\n                if (par5Random.nextInt((int)(25F / f) + 1) == 0)\n                {\n                    i++;\n                    par1World.setBlockMetadataWithNotify(par2, par3, par4, i);\n                }\n            }\n        }\n    }\n\nprivate float getGrowthRate(World par1World, int par2, int par3, int par4)\n    {\n        float f = 1.0F;\n        int i = par1World.getBlockId(par2, par3, par4 - 1);\n        int j = par1World.getBlockId(par2, par3, par4 + 1);\n        int k = par1World.getBlockId(par2 - 1, par3, par4);\n        int l = par1World.getBlockId(par2 + 1, par3, par4);\n        int i1 = par1World.getBlockId(par2 - 1, par3, par4 - 1);\n        int j1 = par1World.getBlockId(par2 + 1, par3, par4 - 1);\n        int k1 = par1World.getBlockId(par2 + 1, par3, par4 + 1);\n        int l1 = par1World.getBlockId(par2 - 1, par3, par4 + 1);\n        boolean flag = k == blockID || l == blockID;\n        boolean flag1 = i == blockID || j == blockID;\n        boolean flag2 = i1 == blockID || j1 == blockID || k1 == blockID || l1 == blockID;\n\n        for (int i2 = par2 - 1; i2 <= par2 + 1; i2++)\n        {\n            for (int j2 = par4 - 1; j2 <= par4 + 1; j2++)\n            {\n                int k2 = par1World.getBlockId(i2, par3 - 1, j2);\n                float f1 = 0.0F;\n\n                if (k2 == Block.grass.blockID)\n                {\n                    f1 = 1.0F;\n\n                    if (par1World.getBlockMetadata(i2, par3 - 1, j2) > 0)\n                    {\n                        f1 = 3F;\n                    }\n                }\n\n                if (i2 != par2 || j2 != par4)\n                {\n                    f1 /= 4F;\n                }\n\n                f += f1;\n            }\n        }\n\n        if (flag2 || flag && flag1)\n        {\n            f /= 2.0F;\n        }\n\n        return f;\n    }\n}\n复制代码\n以下是Mod文件。 \n\n\npackage Tutorial.common;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.EnumToolMaterial;\nimport net.minecraft.src.Item;\nimport net.minecraft.src.ItemStack;\nimport net.minecraftforge.common.DungeonHooks;\nimport net.minecraftforge.common.EnumHelper;\nimport cpw.mods.fml.common.Mod;\nimport cpw.mods.fml.common.SidedProxy;\nimport cpw.mods.fml.common.Mod.Init;\nimport cpw.mods.fml.common.event.FMLInitializationEvent;\nimport cpw.mods.fml.common.network.NetworkMod;\nimport cpw.mods.fml.common.registry.GameRegistry;\nimport cpw.mods.fml.common.registry.LanguageRegistry;\n\n@Mod(modid = \"YourName_ModName\", name = \"ModName\", version = \"Version number\")\n@NetworkMod(clientSideRequired = true, serverSideRequired = false)\npublic class Tutorial \n{\n//blocks\npublic static Block oreblock;\npublic static Block cropblock;\n\npublic static int oreblockId = 230;\n\n//items\npublic static Item youritem;\npublic static Item yourfood;\npublic static Item yoursword;\npublic static Item yourpick;\npublic static Item yourshovel;\npublic static Item cropseed;\n\n//proxy\n@SidedProxy(clientSide = \"Tutorial.client.ClientProxyTutorial\", serverSide = \"Tutorial.common.CommonProxyTutorial\")\n    public static CommonProxyTutorial proxy;\n\n//enums\nstatic EnumToolMaterial yourtoolmaterial = EnumHelper.addToolMaterial(\"yourmaterial\", 2, 500, 7F, 2, 14);\n\n@Init\npublic void load(FMLInitializationEvent event)\n{\n//proxy\nproxy.registerRenderThings();\n\n//blocks\noreblock = new BlockOres(oreblockId, 0).setStepSound(Block.soundStoneFootstep).setHardness(3F).setResistance(1.0F).setBlockName(\"oreblock\");\ncropblock = new BlockCropTutorial(231, 1).setStepSound(Block.soundGrassFootstep).setHardness(0.0F).setBlockName(\"cropblock\");\n\nGameRegistry.registerBlock(cropblock);\n\n//metadata register\nItem.itemsList[oreblockId] = new ItemBlockOres(oreblockId-256, oreblock).setItemName(\"oreblock\");\n\n//block names\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.ore.name\", \"Your Ore\");\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.netherore.name\", \"Your Nether Ore\");\nLanguageRegistry.addName(cropblock, \"Custom Crop\");\n\n//items\nyouritem = new ItemTutorial(550).setIconIndex(1).setItemName(\"youritem\");\nyourfood = new ItemTutorialFood(551, 8, true).setIconIndex(3).setItemName(\"yourfood\");\nyoursword = new ItemYourSword(552, yourtoolmaterial).setIconIndex(4).setItemName(\"yoursword\");\nyourpick = new ItemYourPick(553, yourtoolmaterial).setIconIndex(5).setItemName(\"yourpick\");\nyourshovel = new ItemYourShovel(554, yourtoolmaterial).setIconIndex(6).setItemName(\"yourshovel\");\ncropseed = new Itemcropseed(555, cropblock.blockID, Block.grass.blockID).setIconIndex(7).setItemName(\"flaxseed\");\n\n//item names\nLanguageRegistry.addName(youritem, \"Your Item\");\nLanguageRegistry.addName(yourfood, \"Your Food\");\nLanguageRegistry.addName(yoursword, \"Your Sword\");\nLanguageRegistry.addName(yourpick, \"Your Pickaxe\");\nLanguageRegistry.addName(yourshovel, \"Your Shovel\");\nLanguageRegistry.addName(cropseed, \"Your Crop Seed\");\n\n//dungeon\nDungeonHooks.addDungeonLoot(new ItemStack(youritem), 10, 2, 5);\nDungeonHooks.setDungeonLootTries(50);\n\n//game registry\nGameRegistry.registerFuelHandler(new TutorialFuel());\nGameRegistry.registerWorldGenerator(new WorldgeneratorTutorial());\n\n//recipes\nGameRegistry.addRecipe(new ItemStack(yoursword), new Object[]\n{\n\"X\", \"X\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourpick), new Object[]\n{\n\"XXX\", \" Z \", \" Z \", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourshovel), new Object[]\n{\n\"X\", \"Z\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\n}\n}\n复制代码\n请确保骨粉会改变农作物生长过程对应的元数据。以下是在block文件中所需的method。 \n\npublic void fertilize(World par1World, int par2, int par3, int par4)\n    {\n        par1World.setBlockMetadataWithNotify(par2, par3, par4, 2);\n    }复制代码\n其中2为本例中农作物的成熟状态。如果您的农作物的生长状态设置为5此处也应相应地做出修改。此时文件如下所示：\n\npackage Tutorial.common;\n\nimport java.util.Random;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.BlockFlower;\nimport net.minecraft.src.CreativeTabs;\nimport net.minecraft.src.EntityItem;\nimport net.minecraft.src.ItemStack;\nimport net.minecraft.src.World;\n\npublic class BlockCropTutorial extends BlockFlower\n{\nprotected BlockCropTutorial(int par1, int par2)\n    {\n        super(par1, par2);\n        blockIndexInTexture = par2;\n        setTickRandomly(true);\n        float f = 0.5F;\n        setBlockBounds(0.5F - f, 0.0F, 0.5F - f, 0.5F + f, 0.25F, 0.5F + f);\n        this.setCreativeTab((CreativeTabs)null);\n        this.disableStats();\n        this.setRequiresSelfNotify();\n    }\n\npublic String getTextureFile()\n    {\n            return \"/TutTextures.png\";\n    }\n\npublic int getRenderType()\n    {\n        return 6;\n    }\n\npublic int getBlockTextureFromSideAndMetadata(int par1, int par2)\n    {\nswitch(par2)\n{\ncase 0:\nreturn 2;\ncase 1:\nreturn 3;\ncase 2:\nreturn 4;\ndefault:\nreturn 0;\n}\n    }\n\npublic void dropBlockAsItemWithChance(World par1World, int par2, int par3, int par4, int par5, float par6, int par7)\n    {\n        super.dropBlockAsItemWithChance(par1World, par2, par3, par4, par5, par6, 0);\n\n        if (par1World.isRemote)\n        {\n            return;\n        }\n\n        int i = 3 + par7;\n\n        for (int j = 0; j < i; j++)\n        {\n            if (par1World.rand.nextInt(5) == 0)\n            {\n                float f = 0.7F;\n                float f1 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                float f2 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                float f3 = par1World.rand.nextFloat() * f + (1.0F - f) * 0.5F;\n                EntityItem entityitem = new EntityItem(par1World, (float)par2 + f1, (float)par3 + f2, (float)par4 + f3, new ItemStack(Tutorial.cropseed));\n                entityitem.delayBeforeCanPickup = 10;\n                par1World.spawnEntityInWorld(entityitem);\n            }\n        }\n    }\n\n    public int idDropped(int par1, Random par2Random, int par3)\n    {\n        if (par1 == 2)\n        {\n            return Tutorial.yourfood.shiftedIndex;\n        }\n        else\n        {\n            return -1;\n        }\n    }\n    \n    public int quantityDropped(Random par1Random)\n    {\n        return 1;\n    }\n    \n    public int idPicked(World par1World, int par2, int par3, int par4)\n    {\n        return Tutorial.cropseed.shiftedIndex;\n    }\n\nprotected boolean canThisPlantGrowOnThisBlockID(int par1)\n    {\n        return par1 == Block.grass.blockID;\n    }\n\npublic void fertilize(World par1World, int par2, int par3, int par4)\n    {\n        par1World.setBlockMetadataWithNotify(par2, par3, par4, 2);\n    }\n\npublic void updateTick(World par1World, int par2, int par3, int par4, Random par5Random)\n    {\n        super.updateTick(par1World, par2, par3, par4, par5Random);\n\n        if (par1World.getBlockLightValue(par2, par3 + 1, par4) >= 9)\n        {\n            int i = par1World.getBlockMetadata(par2, par3, par4);\n\n            if (i < 2)\n            {\n                float f = getGrowthRate(par1World, par2, par3, par4);\n\n                if (par5Random.nextInt((int)(25F / f) + 1) == 0)\n                {\n                    i++;\n                    par1World.setBlockMetadataWithNotify(par2, par3, par4, i);\n                }\n            }\n        }\n    }\n\nprivate float getGrowthRate(World par1World, int par2, int par3, int par4)\n    {\n        float f = 1.0F;\n        int i = par1World.getBlockId(par2, par3, par4 - 1);\n        int j = par1World.getBlockId(par2, par3, par4 + 1);\n        int k = par1World.getBlockId(par2 - 1, par3, par4);\n        int l = par1World.getBlockId(par2 + 1, par3, par4);\n        int i1 = par1World.getBlockId(par2 - 1, par3, par4 - 1);\n        int j1 = par1World.getBlockId(par2 + 1, par3, par4 - 1);\n        int k1 = par1World.getBlockId(par2 + 1, par3, par4 + 1);\n        int l1 = par1World.getBlockId(par2 - 1, par3, par4 + 1);\n        boolean flag = k == blockID || l == blockID;\n        boolean flag1 = i == blockID || j == blockID;\n        boolean flag2 = i1 == blockID || j1 == blockID || k1 == blockID || l1 == blockID;\n\n        for (int i2 = par2 - 1; i2 <= par2 + 1; i2++)\n        {\n            for (int j2 = par4 - 1; j2 <= par4 + 1; j2++)\n            {\n                int k2 = par1World.getBlockId(i2, par3 - 1, j2);\n                float f1 = 0.0F;\n\n                if (k2 == Block.grass.blockID)\n                {\n                    f1 = 1.0F;\n\n                    if (par1World.getBlockMetadata(i2, par3 - 1, j2) > 0)\n                    {\n                        f1 = 3F;\n                    }\n                }\n\n                if (i2 != par2 || j2 != par4)\n                {\n                    f1 /= 4F;\n                }\n\n                f += f1;\n            }\n        }\n\n        if (flag2 || flag && flag1)\n        {\n            f /= 2.0F;\n        }\n\n        return f;\n    }\n}复制代码\n现在您只需要确保当您在使用骨粉时会调用响应的method即可。请在mod文件中添加如下代码。\n\n\nMinecraftForge.EVENT_BUS.register(new TutorialEvent());复制代码\n\n上述代码中您只能修改TutorialEvent。此时文件如下所示。\n\npackage Tutorial.common;\n\nimport net.minecraft.src.Block;\nimport net.minecraft.src.EnumToolMaterial;\nimport net.minecraft.src.Item;\nimport net.minecraft.src.ItemStack;\nimport net.minecraftforge.common.DungeonHooks;\nimport net.minecraftforge.common.EnumHelper;\nimport net.minecraftforge.common.MinecraftForge;\nimport cpw.mods.fml.common.Mod;\nimport cpw.mods.fml.common.SidedProxy;\nimport cpw.mods.fml.common.Mod.Init;\nimport cpw.mods.fml.common.event.FMLInitializationEvent;\nimport cpw.mods.fml.common.network.NetworkMod;\nimport cpw.mods.fml.common.registry.GameRegistry;\nimport cpw.mods.fml.common.registry.LanguageRegistry;\n\n@Mod(modid = \"YourName_ModName\", name = \"ModName\", version = \"Version number\")\n@NetworkMod(clientSideRequired = true, serverSideRequired = false)\npublic class Tutorial \n{\n//blocks\npublic static Block oreblock;\npublic static Block cropblock;\n\npublic static int oreblockId = 230;\n\n//items\npublic static Item youritem;\npublic static Item yourfood;\npublic static Item yoursword;\npublic static Item yourpick;\npublic static Item yourshovel;\npublic static Item cropseed;\n\n//proxy\n@SidedProxy(clientSide = \"Tutorial.client.ClientProxyTutorial\", serverSide = \"Tutorial.common.CommonProxyTutorial\")\n    public static CommonProxyTutorial proxy;\n\n//enums\nstatic EnumToolMaterial yourtoolmaterial = EnumHelper.addToolMaterial(\"yourmaterial\", 2, 500, 7F, 2, 14);\n\n@Init\npublic void load(FMLInitializationEvent event)\n{\n//proxy\nproxy.registerRenderThings();\n\n//blocks\noreblock = new BlockOres(oreblockId, 0).setStepSound(Block.soundStoneFootstep).setHardness(3F).setResistance(1.0F).setBlockName(\"oreblock\");\ncropblock = new BlockCropTutorial(231, 1).setStepSound(Block.soundGrassFootstep).setHardness(0.0F).setBlockName(\"cropblock\");\n\nGameRegistry.registerBlock(cropblock);\n\n//metadata register\nItem.itemsList[oreblockId] = new ItemBlockOres(oreblockId-256, oreblock).setItemName(\"oreblock\");\n\n//block names\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.ore.name\", \"Your Ore\");\nLanguageRegistry.instance().addStringLocalization(\"tile.oreblock.netherore.name\", \"Your Nether Ore\");\nLanguageRegistry.addName(cropblock, \"Custom Crop\");\n\n//items\nyouritem = new ItemTutorial(550).setIconIndex(1).setItemName(\"youritem\");\nyourfood = new ItemTutorialFood(551, 8, true).setIconIndex(3).setItemName(\"yourfood\");\nyoursword = new ItemYourSword(552, yourtoolmaterial).setIconIndex(4).setItemName(\"yoursword\");\nyourpick = new ItemYourPick(553, yourtoolmaterial).setIconIndex(5).setItemName(\"yourpick\");\nyourshovel = new ItemYourShovel(554, yourtoolmaterial).setIconIndex(6).setItemName(\"yourshovel\");\ncropseed = new Itemcropseed(555, cropblock.blockID, Block.grass.blockID).setIconIndex(7).setItemName(\"flaxseed\");\n\n//item names\nLanguageRegistry.addName(youritem, \"Your Item\");\nLanguageRegistry.addName(yourfood, \"Your Food\");\nLanguageRegistry.addName(yoursword, \"Your Sword\");\nLanguageRegistry.addName(yourpick, \"Your Pickaxe\");\nLanguageRegistry.addName(yourshovel, \"Your Shovel\");\nLanguageRegistry.addName(cropseed, \"Your Crop Seed\");\n\nMinecraftForge.EVENT_BUS.register(new TutorialEvent());\n\n//dungeon\nDungeonHooks.addDungeonLoot(new ItemStack(youritem), 10, 2, 5);\nDungeonHooks.setDungeonLootTries(50);\n\n//game registry\nGameRegistry.registerFuelHandler(new TutorialFuel());\nGameRegistry.registerWorldGenerator(new WorldgeneratorTutorial());\n\n//recipes\nGameRegistry.addRecipe(new ItemStack(yoursword), new Object[]\n{\n\"X\", \"X\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourpick), new Object[]\n{\n\"XXX\", \" Z \", \" Z \", 'X', youritem, 'Z', Item.stick\n});\nGameRegistry.addRecipe(new ItemStack(yourshovel), new Object[]\n{\n\"X\", \"Z\", \"Z\", 'X', youritem, 'Z', Item.stick\n});\n}\n}复制代码\n其中TutorialEvent类应如下所示。 \n\npackage Tutorial.common;\n\nimport net.minecraftforge.event.ForgeSubscribe;\nimport net.minecraftforge.event.entity.player.BonemealEvent;\n\npublic class TutorialEvent \n{\n@ForgeSubscribe\n    public void bonemealUsed(BonemealEvent event)\n    {\nif(event.world.getBlockId(event.X, event.Y, event.Z)== Tutorial.cropblock.blockID)\n        {\n        ((BlockCropTutorial)Tutorial.cropblock).fertilize(event.world, event.X, event.Y, event.Z);\n        }\n    }\n}复制代码\n\n\n文章好长，排版好麻烦%>_<%，有错误的话请留言O(∩_∩)O~（注明大概位置哦，不然人家找起来很麻烦的……）\n需要转载的话请先留言，不要再直接偷走这篇帖子了……",
    "replies": [
        {
            "author": "hendyzone",
            "timestamp": 1349842800,
            "txt_content": "前排支持 这次的代码量略多{:10_518:}"
        },
        {
            "author": "evileyecc",
            "timestamp": 1349842920,
            "txt_content": "果断拿掉沙发。有没有关于怎么弄甘蔗那样的。。"
        },
        {
            "author": "DJXGAME",
            "timestamp": 1349842980,
            "txt_content": "hendyzone 发表于 2012-10-10 12:20 \n前排支持 这次的代码量略多\n上次那个有人反映略抽象，这次弄了一个代码比较多的，即使看不懂也可以直接复制代码慢慢修改O(∩_∩)O~"
        },
        {
            "author": "qy604121001",
            "timestamp": 1349843040,
            "txt_content": "不懂唉............."
        },
        {
            "author": "zzcat770",
            "timestamp": 1349843280,
            "txt_content": "来顶下翻译娘，收藏了，回去慢慢研究"
        },
        {
            "author": "skykun",
            "timestamp": 1349843880,
            "txt_content": "DJXGAME 发表于 2012-10-10 12:23 \n上次那个有人反映略抽象，这次弄了一个代码比较多的，即使看不懂也可以直接复制代码慢慢修改O(∩_∩)O~\n代码略多啊，比起像这样从头教授到尾不如直接按照以前的教程来"
        },
        {
            "author": "kirbykirby",
            "timestamp": 1349843940,
            "txt_content": "method是方法的意思{:10_535:}"
        },
        {
            "author": "冥王星人",
            "timestamp": 1349844540,
            "txt_content": "一头雾水的外星人灰过，，，，，，，，，，，"
        },
        {
            "author": "DJXGAME",
            "timestamp": 1349848980,
            "txt_content": "kirbykirby 发表于 2012-10-10 12:39 \nmethod是方法的意思\n怕不同的人理解不一样，所以专业术语就用英文了~"
        },
        {
            "author": "jianghr",
            "timestamp": 1349866200,
            "txt_content": "看这个应该是小麦和南瓜梗那种多阶段收获本体的作物代码形式。应该是从源代码变通来的。\n这样的话……感觉大致结构和小麦基本上是一样的…………\n小麦种植是我翻译的。看了这篇代码后基本上了解老外是怎么分析出生长率那样的图表。\n不过小麦生长还有几个特性：上方必须是空气（透明方块记不得行不行了，虽然是我翻的 = =）、土地是否湿润、不同种植排列方式影响生长速率等等神马的，应该不包括在上面这部分代码里面吧？"
        },
        {
            "author": "Hao",
            "timestamp": 1349867880,
            "txt_content": "字多眼花0 0.."
        },
        {
            "author": "鳄鱼软趴趴",
            "timestamp": 1349879220,
            "txt_content": "好多字啊! 太辛苦了~!"
        }
    ]
}