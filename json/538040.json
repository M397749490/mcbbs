{
    "title": "命令方块探测实体求助！",
    "author": "我chao爱MC",
    "replyCount": 8,
    "timestamp": 1451916180,
    "txt_content": "如何探测所有未落地的箭？",
    "replies": [
        {
            "author": "hqqaazz",
            "timestamp": 1451916180,
            "txt_content": "不用那么麻烦。\n/scoreboard objectives add arrow dummy复制代码\n首先设定一个计分板，然后以下三条指令都需要高频：\n/scoreboard players set @e[type=Arrow] arrow 1 {inGround:0b}复制代码/execute @e[type=Arrow,score_arrow_min=1] ~ ~ ~ /particle witchMagic ~ ~ ~ 0.1 0.2 0.1 0.5 5复制代码/scoreboard players set @e[type=Arrow] arrow 0 {inGround:1b}复制代码\n\n没有射到墙上还有特效的问题。"
        },
        {
            "author": "Deing",
            "timestamp": 1451917860,
            "txt_content": "testfor @e[type=Arrow] {inGround:0b}\n这个放到指令方块里接比较器即可"
        },
        {
            "author": "我chao爱MC",
            "timestamp": 1451918040,
            "txt_content": "Deing 发表于 2016-1-4 22:31\ntestfor @e[type=Arrow] {inGround:0b}\n这个放到指令方块里接比较器即可\n如果用execute呢？"
        },
        {
            "author": "Deing",
            "timestamp": 1451918220,
            "txt_content": "我chao爱MC 发表于 2016-1-4 22:34\n如果用execute呢？\n由于execute不能接数据值（就是{inGround:0b}这个），所以用execute不能探测落地的箭。必须用testfor。\n并且一般的探测用testfor和execute区别不是很大，实在想让某实体来探测的话可以用execute @p ~ ~ ~ testfor……"
        },
        {
            "author": "我chao爱MC",
            "timestamp": 1451922540,
            "txt_content": "Deing 发表于 2016-1-4 22:37\n由于execute不能接数据值（就是{inGround:0b}这个），所以用execute不能探测落地的箭。必须用testfor。\n ...\n我主要想在所有飞行的箭上生成粒子效果，怎么办？"
        },
        {
            "author": "Deing",
            "timestamp": 1451974920,
            "txt_content": "我chao爱MC 发表于 2016-1-4 23:49\n我主要想在所有飞行的箭上生成粒子效果，怎么办？\n你怎么不早说。。。\n那样就用execute @e[type=Arrow] ~ ~ ~ detect ~ ~-1 ~ air 0 particle ....\n这样可以探测箭的下方一格是否是空气，不是空气就肯定不在空中。\n虽然说这样一来，如果箭是射到了墙上，也会判定下方一格是空气，所以这时候你就需要再做几个高频指令，把detect后边改成 ~ ~ ~1 air 0这样的。这五个指令同时进行探测，然后都接比较器到一个5与门，只有它们都探测成功的时候，才执行execute @e[type=Arrow] ~ ~ ~ detect ~ ~-1 ~ air 0 particle ....给那个箭粒子效果。。。。。似乎说的有点乱，不造你懂了没有。总之如果你能确定箭不会射到墙上，就会方便很多\n还有如果你能确定箭要通过的区域也可以直接execute @e[x,y,z,r,type=Arrow] ....，但这样可能不够格精确"
        },
        {
            "author": "林扬骐",
            "timestamp": 1451995200,
            "txt_content": "好吧，我尽量给简单的方法\n其实6楼的是比较简单的方法了，讲的很详细，这里简化\nexecute @e[type=Arrow] ~ ~ ~ detect ~ ~-1 ~ air 0 /particle witchMagic ~ ~ ~ 0.1 0.2 0.1 0.5 5复制代码\n高频此指令\n这条指令就是让箭当下面方块是空气时就可以放粒子效果\n缺点就是当下面是别的透明方块就会失效\n\n更复杂的是运用计分板可以标记指定nbt实体\n1.8的方法差不多就是7楼的了\n1.9因为新来的tag，可以更简单\n[code]"
        },
        {
            "author": "林扬骐",
            "timestamp": 1451995740,
            "txt_content": "林扬骐 发表于 2016-1-5 20:00\n好吧，我尽量给简单的方法\n其实6楼的是比较简单的方法了，讲的很详细，这里简化\n不好意思居然不小心发了\n1.9版本的tag会更简单\n/scoreboard players tag <player> <add|remove|list> <tagName> [dataTag]\n\n于是乎可以这样的高频循环做到\n1.给所有在地上的箭加fly的tag标签（因为落到地上后一般不会再飞起，可以省掉去掉tag的部分）\n/scoreboard players tag @e[type=Arrow] add fly {inGround:1b}复制代码\n2./execute @e[type=Arrow,tag=!fly] ~ ~ ~ /particle witchMagic ~ ~ ~ 0.1 0.2 0.1 0.5 5复制代码\n两条即可"
        }
    ]
}