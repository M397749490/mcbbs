{
    "title": "服务器有时候全体掉线和卡顿，含timings",
    "author": "＜光速＞",
    "replyCount": 30,
    "timestamp": 1588570200,
    "txt_content": "cat端（不是多线程）\n优化插件有：SuperOptimization，LaggRemover-2.0.5，NeverLag\n专门优化过，就是有时候全体掉线\ntimings：www.spigotmc.org/go/timings?url=ujehukavat\n求大佬帮忙解决\n感谢！\nCPU是3970x，配置够用，网络没有波动\n求解决方法",
    "replies": [
        {
            "author": "＜光速＞",
            "timestamp": 1588570320,
            "txt_content": "bat是：\n@echo OFF\ntitle 服务器后台 \n\n\n::----设置开服使用内存\nSET Money=14000M\n\n::----设置开服核心名字\nSET Server=CatServer-264808e-async.jar\n\n::----设置开服优化参数，不懂请勿修改！！\nSET SetCanShu=-XX:+UseG1GC\n\n\ncls\ncolor a0\necho  - - - - - -   \necho  当前时间：%date% %tm1%点%TM2%分\n@Echo. -----------------------------------------------------------------\n@echo.                         Minecraft服务器                                                                   \n@echo.                     服务器即将开启,请等待  \n@echo.\n@echo.           注意:关闭服务器前请在后台输入Stop保存玩家数据\n@echo.                      否则可能会出现回档情况\n@echo.                \n@echo. -----------------------------------------------------------------\nchoice /t 2 /d y /n >nul\n:RESTART\ncls\ncolor 79\n@echo.   ┏------------------------------------┓\n@echo.   ┣ By：落幕世界 入戏QQ：1638777093 ┫\n@echo.   ┗------------------------------------┛\n@echo. \n@echo.- 预备开服前工作准备...\nchoice /t 2 /d y /n >nul\n@echo. \n@echo.- [ 设置开服内存：%Money% ]\nchoice /t 2 /d y /n >nul\n@echo. \n@echo.- [ 设置开服核心为：%Server% ]\nchoice /t 2 /d y /n >nul\n@echo. \n@echo.- [ 设置开服优化参数：%SetCanShu% ]\nchoice /t 2 /d y /n >nul\n@echo. \n@echo.- 预备开服工作完毕,准备启动服务器,开服过程请耐心等待...\n@echo.\n@echo. ---------------------------------------------------------------\n@echo.\ncolor 3f\nchoice /t 2 /d y /n >nul\n\n\"C:\\Program Files\\Java\\jre1.8.0_211\\bin\\java.exe\" -d64 -server -Xms128M -Xmx%Money% %SetCanShu% -jar %Server% nogui\n\ncolor 4f\n@echo. \n@echo. ----------------------------------------------------------\n@echo.╋ 服务器已经关闭,如需重启请按任意键，不需要请直接X掉本框 ╋\n@echo. ----------------------------------------------------------\n@echo. \n\n\ngoto restart"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588570800,
            "txt_content": "@结城希亚\n求大佬帮忙看看"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588570920,
            "txt_content": "＜光速＞ 发表于 2020-5-4 13:40\n@结城希亚\n求大佬帮忙看看\n提供一下掉线时候的log"
        },
        {
            "author": "八婆",
            "timestamp": 1588571040,
            "txt_content": "\"C:\\Program Files\\Java\\jre1.8.0_211\\bin\\java.exe\" -d64 -server -Xms128M -Xmx%Money% %SetCanShu% -jar %Server% nogui，你这内存给的太少了，人一多就会蹦"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588571220,
            "txt_content": "结城希亚 发表于 2020-5-4 13:42\n提供一下掉线时候的log\nhttps://c-t.work/s/1ec1ae17c34842\n提取码：upi43z"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588571280,
            "txt_content": "八婆 发表于 2020-5-4 13:44\n\"C:\\Program Files\\Java\\jre1.8.0_211\\bin\\java.exe\" -d64 -server -Xms128M -Xmx%Money% %SetCanShu% -jar ...\n分配了14g"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588571340,
            "txt_content": "尝试更新/退回pixelmonmod模组版本"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588571400,
            "txt_content": "结城希亚 发表于 2020-5-4 13:49\n尝试更新/退回pixelmonmod模组版本\n不应该是这个mod问题\n很多神奇宝贝都是用的 7.2.0\n他们都没全体掉线过"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588571460,
            "txt_content": "＜光速＞ 发表于 2020-5-4 13:50\n不应该是这个mod问题\n很多神奇宝贝都是用的 7.2.0\n他们都没全体掉线过\n主要是你报错刷屏了"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588571520,
            "txt_content": "结城希亚 发表于 2020-5-4 13:51\n主要是你报错刷屏了\n神奇宝贝这个mod刷的嘛\n为什么后台全体掉线后没显示报错呀"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588571580,
            "txt_content": "＜光速＞ 发表于 2020-5-4 13:52\n神奇宝贝这个mod刷的嘛\n为什么后台全体掉线后没显示报错呀[11:28:23] [Server thread/ERROR] [FML]: SimpleChannelHandlerWrapper exception\njava.lang.RuntimeException: PLAYER target expects a Player arg\n        at net.minecraftforge.fml.common.network.FMLOutboundHandler$OutboundTarget$4.validateArgs(FMLOutboundHandler.java:136) ~[FMLOutboundHandler$OutboundTarget$4.class:git-CatServerAsync-1.12.2-264808e]\n        at net.minecraftforge.fml.common.network.FMLOutboundHandler.write(FMLOutboundHandler.java:367) ~[FMLOutboundHandler.class:git-CatServerAsync-1.12.2-264808e]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:738) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:730) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:816) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:723) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.handler.codec.MessageToMessageEncoder.write(MessageToMessageEncoder.java:111) ~[MessageToMessageEncoder.class:?]\n        at io.netty.handler.codec.MessageToMessageCodec.write(MessageToMessageCodec.java:116) ~[MessageToMessageCodec.class:?]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:738) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:801) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:814) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:794) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:831) ~[AbstractChannelHandlerContext.class:?]\n        at io.netty.channel.DefaultChannelPipeline.writeAndFlush(DefaultChannelPipeline.java:1032) ~[DefaultChannelPipeline.class:?]\n        at io.netty.channel.AbstractChannel.writeAndFlush(AbstractChannel.java:296) ~[AbstractChannel.class:?]\n        at net.minecraftforge.fml.common.network.simpleimpl.SimpleNetworkWrapper.sendTo(SimpleNetworkWrapper.java:250) [SimpleNetworkWrapper.class:git-CatServerAsync-1.12.2-264808e]\n        at com.pixelmonmod.pixelmon.TickHandler.registerStarterList(TickHandler.java:183) [TickHandler.class:?]\n        at com.pixelmonmod.pixelmon.storage.ReforgedStorageManager.getParty(ReforgedStorageManager.java:88) [ReforgedStorageManager.class:?]\n        at com.pixelmonmod.pixelmon.api.storage.IStorageManager.getParty(IStorageManager.java:37) [IStorageManager.class:?]\n        at com.pixelmonmod.pixelmon.listener.PixelmonPlayerTracker.removePlayer(PixelmonPlayerTracker.java:98) [PixelmonPlayerTracker.class:?]\n        at com.pixelmonmod.pixelmon.listener.PixelmonPlayerTracker.onPlayerLogout(PixelmonPlayerTracker.java:76) [PixelmonPlayerTracker.class:?]\n        at net.minecraftforge.fml.common.eventhandler.ASMEventHandler_110_PixelmonPlayerTracker_onPlayerLogout_PlayerLoggedOutEvent.invoke(.dynamic) [?:git-CatServerAsync-1.12.2-264808e]\n        at net.minecraftforge.fml.common.eventhandler.ASMEventHandler.invoke(ASMEventHandler.java:90) [ASMEventHandler.class:git-CatServerAsync-1.12.2-264808e]\n        at net.minecraftforge.fml.common.eventhandler.EventBus.post(EventBus.java:190) [EventBus.class:git-CatServerAsync-1.12.2-264808e]\n        at net.minecraftforge.fml.common.FMLCommonHandler.firePlayerLoggedOut(FMLCommonHandler.java:583) [FMLCommonHandler.class:git-CatServerAsync-1.12.2-264808e]\n        at net.minecraft.server.management.PlayerList.playerLoggedOut(PlayerList.java:528) [pl.class:?]\n        at net.minecraft.network.NetHandlerPlayServer.func_147231_a(NetHandlerPlayServer.java:1297) [pa.class:?]\n        at net.minecraft.network.NetHandlerPlayServer.disconnect(NetHandlerPlayServer.java:387) [pa.class:?]\n        at net.minecraft.network.NetHandlerPlayServer.func_194028_b(NetHandlerPlayServer.java:357) [pa.class:?]\n        at net.minecraft.network.NetHandlerPlayServer.func_147354_a(NetHandlerPlayServer.java:1497) [pa.class:?]\n        at net.minecraft.network.play.client.CPacketChatMessage.func_148833_a(SourceFile:37) [la.class:?]\n        at net.minecraft.network.play.client.CPacketChatMessage.func_148833_a(SourceFile:9) [la.class:?]\n        at net.minecraft.network.PacketThreadUtil$1.run(SourceFile:13) [hv$1.class:?]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [?:1.8.0_211]\n        at java.util.concurrent.FutureTask.run(Unknown Source) [?:1.8.0_211]\n        at net.minecraft.util.Util.func_181617_a(Util.java:50) [h.class:?]\n        at net.minecraft.server.MinecraftServer.func_71190_q(MinecraftServer.java:846) [MinecraftServer.class:?]\n        at net.minecraft.server.dedicated.DedicatedServer.func_71190_q(DedicatedServer.java:473) [nz.class:?]\n        at net.minecraft.server.MinecraftServer.func_71217_p(MinecraftServer.java:783) [MinecraftServer.class:?]\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:637) [MinecraftServer.class:?]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_211]复制代码\n\n就这一段刷了几万"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588571700,
            "txt_content": "结城希亚 发表于 2020-5-4 13:53\n就这一段刷了几万\n\n好像是全体掉线后过了几秒才刷的"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588571820,
            "txt_content": "结城希亚 发表于 2020-5-4 13:53\n就这一段刷了几万\n要不要看一下timings"
        },
        {
            "author": "八婆",
            "timestamp": 1588572060,
            "txt_content": "抱歉没看仔细，你能发给我看看你们掉线时候tps是多少吗\n一般这情况是服务器TPS过低，然后未响应服务器卡顿掉线，严重就自动重启"
        },
        {
            "author": "八婆",
            "timestamp": 1588572120,
            "txt_content": "在卡顿即将掉线的时候上后台输入gc和tps，如果tps降到5或者更低可以试试用一些优化服务器的插件"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588572180,
            "txt_content": "八婆 发表于 2020-5-4 14:01\n抱歉没看仔细，你能发给我看看你们掉线时候tps是多少吗\n一般这情况是服务器TPS过低，然后未响应服务器卡顿 ...\n全体掉线前 19 全体掉线后 17 然后慢慢恢复到19"
        },
        {
            "author": "八婆",
            "timestamp": 1588572300,
            "txt_content": "看全体掉线时的tps，看你目前情况很大几率是tps问题。找一些优化插件试试"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588572300,
            "txt_content": "八婆 发表于 2020-5-4 14:05\n看全体掉线时的tps，看你目前情况很大几率是tps问题。找一些优化插件试试\n我写了啊 加了三个啊"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588572360,
            "txt_content": "八婆 发表于 2020-5-4 14:05\n看全体掉线时的tps，看你目前情况很大几率是tps问题。找一些优化插件试试\nSuperOptimization，LaggRemover-2.0.5，NeverLag"
        },
        {
            "author": "八婆",
            "timestamp": 1588572360,
            "txt_content": "＜光速＞ 发表于 2020-5-4 14:05\n我写了啊 加了三个啊\n发出你的优化插件看看"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588572420,
            "txt_content": "八婆 发表于 2020-5-4 14:06\n发出你的优化插件看看\nSuperOptimization，LaggRemover-2.0.5，NeverLag\n"
        },
        {
            "author": "八婆",
            "timestamp": 1588572540,
            "txt_content": "[优化]LagAssist-2.20.3，你试试这个"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588572600,
            "txt_content": "八婆 发表于 2020-5-4 14:09\n[优化]LagAssist-2.20.3，你试试这个\n插件地址是什么"
        },
        {
            "author": "八婆",
            "timestamp": 1588572660,
            "txt_content": "https://www.mcbbs.net/forum.php?mod=viewthread&tid=881861"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588572720,
            "txt_content": "八婆 发表于 2020-5-4 14:09\n[优化]LagAssist-2.20.3，你试试这个\n等等，这个插件不行，直接负优化了"
        },
        {
            "author": "八婆",
            "timestamp": 1588572780,
            "txt_content": "＜光速＞ 发表于 2020-5-4 14:12\n等等，这个插件不行，直接负优化了\n那我帮不到你啦，以前我和你情况差不多，装了这个每天稳定的很，人数直线上涨到60+"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588572780,
            "txt_content": "八婆 发表于 2020-5-4 14:13\n那我帮不到你啦，以前我和你情况差不多，装了这个每天稳定的很，人数直线上涨到60+ ...\n\n反正这个插件在1.12.2好像是负优化\n感觉不是很好"
        },
        {
            "author": "八婆",
            "timestamp": 1588572840,
            "txt_content": "＜光速＞ 发表于 2020-5-4 14:13\n反正这个插件在1.12.2好像是负优化\n感觉不是很好\n这么巧的是我版本也是1.12.2，这个用不用就看你自己了。或者看下有没有其他人帮你把"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1588573440,
            "txt_content": "求大佬帮忙"
        },
        {
            "author": "mcheheyixiao",
            "timestamp": 1588600080,
            "txt_content": "＜光速＞ 发表于 2020-5-4 13:32\nbat是：\n@echo OFF\ntitle 服务器后台 \n这和这个启动文件有什么关系。。"
        }
    ]
}