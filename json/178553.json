{
    "title": "[MC-17630]僵尸尝试寻路到一个不可到达的目标时导致卡服",
    "author": "Sonic1997",
    "replyCount": 14,
    "timestamp": 1380483540,
    "txt_content": " 本帖最后由 Sonic1997 于 2013-9-29 14:42 编辑 \n\n这个某种程度上也可以算是PC单人吧=-=\n只是因为我电脑太渣得用服务器帮忙处理这样我玩起来能流畅一点...\n\n\n最近一直留意这个BUG因为实在卡爆了...\n[MC-17630]Zombie pathfinding to unreachable targets causes server lag\n\n于是测试：\nTesting:\n\n服务器端：CraftBukkit Recommended Build (1.6.2-R1.0)\nServer with CraftBukkit Recommended Build (1.6.2-R1.0)\n\n \n现在是一个晚上，没有村民，也没有僵尸（使用Essentials禁止生成）TPS=20\nThis is a night with neither Villager nor Zombie(prevent the spawning with Essentials)\nTPS=20\n\n \n仍然是晚上，这里面有12个村民，没有僵尸。\nStill the same night. There are 12 Villagers but no Zombie\nTPS=20\n\n \n修改了Essentials的配置，允许僵尸的生成了。于是我生成了几只僵尸\nDisallowed prevent the spawning of Zombie. When I spawn some zombie,\nTPS=7.956！\n\n \n僵尸全灭，TPS很快恢复到了20了\nAll zombie was killed, TPS went back to 20\n\n \n从其他地方走过来的僵尸，被玻璃挡住了前往目标的去路，TPS开始下降\nSome zombie got here, the glass made them unable to reach the villagers, TPS went down again.\n\n \n僵尸被杀了，TPS再次恢复到正常水平\nI kill the zombies again, TPS back to normal.\n\n \n只有僵尸，没有村民\nZombie without Villagers\nTPS=20\n\n\n\ngreg065 added a comment - Last Friday 9:56 AM\nJust tried this in snapshot 13w39b\nSeems like it is fixed! \n\ngreg065 added a comment - Last Friday 9:56 AM\n试试快照13w39b\n看起来好像被修复了！\n\n于是去试验一下\nSo I tested it\n \n在原版，无法查看TPS，一张图片也很难解释到什么的了\nIn the original one, I cannot get the TPS info.\n但是通过封闭的循环红石电路可以感受到卡顿仍然存在，但是似乎不再像以前那样严重了\n\n想到一个办法来计算平均TPS了！\nI find out a way to calculate the avg. of the TPS!\n首先time set night，这样时间就会在13000刻了，到太阳出来时是24000刻（或者0刻）\nFirst i use \"time set night\", and the time will become 13000 ticks. It will be 24000 ticks(or 0) when the sun raise and start buring those zombies.\n那么24000-13000=11000\nso 24000 ticks - 13000 ticks = 11000 ticks\n然后记录从time set night开始计时，直到僵尸开始燃烧所用的时间\nI started counting the time as soon as i use time set night, and stop when the zombies start buring.\n结果用时14'49\"=889sec\nIt takes 889 seconds.\n11000ticks/889sec=12.3734tps!\n计算结果证明基本没有改善！\nAs the calculation, the problem was still existed\n（修复列表里也没有这个BUG修复的记录=-=\n\n（吐槽：我不喜欢13w38a以后的Minecraft我讨厌那些shader. .\n\n目前解决方案只有：删掉村民，删掉僵尸。而我选择了删掉僵尸...（喂\n网上也有一些解决方案例如将村民塞进地狱里面避免卡服之类的...\n但是根本解决不了问题\n\n或者有人有更好的方法. .?\n\n于是继续等待BUG修复好了=-=",
    "replies": [
        {
            "author": "熊孩子主义",
            "timestamp": 1380485100,
            "txt_content": "好可怕！完全看不懂TPS计算方法！"
        },
        {
            "author": "@@@....",
            "timestamp": 1380492300,
            "txt_content": "虽然不明白是什么，但是看起来貌似很牛B的样子"
        },
        {
            "author": "Sonic1997",
            "timestamp": 1380493440,
            "txt_content": "熊孩子主义 发表于 2013-9-29 12:05 \n好可怕！完全看不懂TPS计算方法！\nTPS就是一秒钟有多少tick而已.w."
        },
        {
            "author": "Terry39",
            "timestamp": 1380495960,
            "txt_content": "什么意思。。。。"
        },
        {
            "author": "Sonic1997",
            "timestamp": 1380497940,
            "txt_content": "Terry39 发表于 2013-9-29 15:06 \n什么意思。。。。\n1.6以后卡服的原因寻找而已了.w."
        },
        {
            "author": "Terry39",
            "timestamp": 1380498180,
            "txt_content": "Sonic1997 发表于 2013-9-30 07:39 \n1.6以后卡服的原因寻找而已了.w.\n哦。。。\n貌似僵尸寻路加强了"
        },
        {
            "author": "Sonic1997",
            "timestamp": 1380498300,
            "txt_content": "Terry39 发表于 2013-9-29 15:43 \n哦。。。\n貌似僵尸寻路加强了\n但是如果达不到目标似乎会不断重新寻路产生大量无意义的运算然后卡服.."
        },
        {
            "author": "寰宇",
            "timestamp": 1380498300,
            "txt_content": "我只看到了开头 即僵尸寻路到一个不可到达的目标 所以一看 原来是这样。。。。"
        },
        {
            "author": "Terry39",
            "timestamp": 1380498420,
            "txt_content": "Sonic1997 发表于 2013-9-30 07:45 \n但是如果达不到目标似乎会不断重新寻路产生大量无意义的运算然后卡服..\n也就是说要让僵尸停止运算？（误）"
        },
        {
            "author": "Sonic1997",
            "timestamp": 1380498420,
            "txt_content": "寰宇 发表于 2013-9-29 15:45 \n我只看到了开头 即僵尸寻路到一个不可到达的目标 所以一看 原来是这样。。。。\n最新帖子里的字数限制砍标题看得真准确.w."
        },
        {
            "author": "Sonic1997",
            "timestamp": 1380498540,
            "txt_content": "Terry39 发表于 2013-9-29 15:47 \n也就是说要让僵尸停止运算？（误）\n可以这么说.w.\n不过修BUG的工作自然交给mojang好了.w.（PIA"
        },
        {
            "author": "熊孩子主义",
            "timestamp": 1380507600,
            "txt_content": "Sonic1997 发表于 2013-9-29 16:24 \nTPS就是一秒钟有多少tick而已.w.\n我知道TPF但是看不懂计算方法......"
        },
        {
            "author": "熊孩子主义",
            "timestamp": 1380507660,
            "txt_content": "Sonic1997 发表于 2013-9-29 17:45 \n但是如果达不到目标似乎会不断重新寻路产生大量无意义的运算然后卡服..\n好高端，原来如此"
        },
        {
            "author": "Sonic1997",
            "timestamp": 1380511020,
            "txt_content": "熊孩子主义 发表于 2013-9-29 18:20 \n我知道TPF但是看不懂计算方法......\n从13000 ticks开始计时，到24000 ticks时停止，所以是24000 ticks - 13000 ticks = 11000ticks\n在11000ticks用了889秒，也就是11000 ticks per 889 Seconds(每11000 刻 有 889 秒)\n然后因为TPS是需要每秒作为单位，所以需要除以889得到结果\n11000 ticks per 889 Seconds\n------------------------------------------（我是分数线\n                 889 \n=12.3734 ticks per (1) Second\n=12.3734 tps\n\n\n大概就是这样了. ."
        }
    ]
}