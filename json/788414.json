{
    "title": "[编程|信息]GenuineTest —— 正版验证API[1.8.0-1.12.2]",
    "author": "GameCreator",
    "replyCount": 10,
    "timestamp": 1522000140,
    "txt_content": " 本帖最后由 GameCreator 于 2018-3-26 09:55 编辑 \n\nGenuineTest —— 正版验证API\n\n1. 功能：\n在盗版服检查一个玩家是否是一个正版玩家。\n\n2. 原理：\n向MojangAPI请求验证玩家是否是一个正版玩家。\n\n3. 版本支持：\n使用Spigot1.8.0编译，理论上支持全部服务器端版本，但是如果MojangAPI发生变化插件就会失效，如果真的API升级我会跟进的。\n\n4. 使用方式：\n验证方式共分为两种：有参和无参\n\n1）无参检查：\n无参检查是一种不靠谱的检查方式，只是检查Mojang的正版记录中是否有这么个人，并不在意玩家是不是这个账户的主人。\n    /**\n     * 无参检查一个用户是不是正版用户\n     * 这个方法只会检查mojang是否存在这个用户\n     *\n     * @param testCallBack 回调接口\n     * @param player 等待检查的玩家\n     */\n    public static void test(TestCallBack testCallBack, Player player)复制代码\n2）有参检查：\n有参检查会要求玩家输入邮箱和密码，当然我这个本身不会要求玩家输入，只要求调用者传参。这种方式比较靠谱。\n    /**\n     * 有参检查一个用户是不是正版用户\n     *\n     * @param testCallBack 回调接口\n     * @param player 等待检查的玩家\n     * @param playerName 这个玩家的邮箱\n     * @param password 这个玩家的密码\n     */\n    public static void test(TestCallBack testCallBack, Player player, String playerName, String password)复制代码\n3）回调接口：\n由于查询是多线程进行的，所以需要借助回调接口获取返回值，回调接口的具体使用方式你们自己反编译看去吧，我急着打求生之路没空细写。\n\n\n4）玩家登陆事件：\n在有一个玩家登陆时服务器会异步发出AsyncPlayerJoinEvent，这个事件会包含玩家对象本身以及他是否是一个正版玩家，这种检查方式是无参检查。\n\n5：配置文件：\n虽然说MojangAPI没被墙，但是为了防止以后被墙以及增加访问速度，我加入了代理的功能，具体可以看配置文件\n# 代理模式\nProxyMode:\n  enable: false # 是否开启\n  ip: 10.0.0.256 # 代理服务器IP以及端口\n  port: 65536\n  anon: # 代理服务器是否为匿名模式(就是说这个服务器是不是要账号密码才能用)\n    enable: false\n    user: user # 这里就是账号密码\n    password: pass复制代码\n代理最好还是使用付费的，免费的首先是速度慢，其次安全性也成问题。\n\n6：执行效率：\n效率完全依赖网速，这个卡了可不关我的事。\n\n7：下载地址：\n微云文件密码：123456\n\n\nBUG反馈以及建议回帖就好，另外，禁止转载\n",
    "replies": [
        {
            "author": "Allen-zhang",
            "timestamp": 1522000740,
            "txt_content": "没看懂具体有什么作用，具体是指进服后正版验证会有提示语这样的？还是说怎样的一个功能？没想明白能用在哪些方面"
        },
        {
            "author": "GameCreator",
            "timestamp": 1522001580,
            "txt_content": "Allen-zhang 发表于 2018-3-26 01:59\n没看懂具体有什么作用，具体是指进服后正版验证会有提示语这样的？还是说怎样的一个功能？没想明白能用在哪 ...\n你确定你有认真看帖？"
        },
        {
            "author": "余思思",
            "timestamp": 1522018380,
            "txt_content": "Allen-zhang 发表于 2018-3-26 01:59\n没看懂具体有什么作用，具体是指进服后正版验证会有提示语这样的？还是说怎样的一个功能？没想明白能用在哪 ...\n这只是一个供开发者使用的API，对普通服主没用。"
        },
        {
            "author": "丁帅淇",
            "timestamp": 1522030140,
            "txt_content": "可以加个正版验证的前缀称号什么的"
        },
        {
            "author": "GameCreator",
            "timestamp": 1522040280,
            "txt_content": "丁帅淇 发表于 2018-3-26 10:09\n可以加个正版验证的前缀称号什么的\n嗯嗯，这个我也考虑过，但是想了一下还是算了，因为轮子的任务就是好好滚，至于前缀称号这种上层功能，应该由专门的插件来完成。"
        },
        {
            "author": "18251968128",
            "timestamp": 1522867200,
            "txt_content": "找这个好久了，终于发现了-。-有这个就能判断玩家，给正版玩家加个称号了，哈哈。谢谢楼主，爱你么么哒"
        },
        {
            "author": "tangguo344",
            "timestamp": 1534039500,
            "txt_content": "微云好评"
        },
        {
            "author": "tangguo344",
            "timestamp": 1534040640,
            "txt_content": "不知道这段什么意思：然我这个本身不会要求玩家输入，只要求调用者传参"
        },
        {
            "author": "tangguo344",
            "timestamp": 1534043040,
            "txt_content": "挺有用的吧，可以给正版奖励什么的"
        },
        {
            "author": "1965404875",
            "timestamp": 1535607300,
            "txt_content": "我服内正版验证完之后称号没有生效是什么问题"
        }
    ]
}