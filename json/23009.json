{
    "title": "[Linux Ubuntu] Bukit 1.2.5 R1.0 一起來架設服務器",
    "author": "kafuse",
    "replyCount": 5,
    "timestamp": 1336626480,
    "txt_content": " 本帖最后由 kafuse 于 2012-5-10 13:08 编辑 \n\n工具及軟件:\nUbuntu 伺服器版本 11.10 (32bit) 光碟一片 免費@ http://www.ubuntu-tw.org/modules/tinyd0/\nPutty 遠端連線工具 免費@ http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html\n電腦一台\n\n\n###################################################################\n\n安裝 Ubuntu 11.10 (32bit)\n\n\n\n\n\n\n\n\n\n\n\n\n\n隨意改一個名字給主機 \"ubuntu\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n只勾openssh server, 其他暫時不理.\n\n\n\n\n\n\n安裝就咁完成, 服務器重新開機後就可以找個涼爽的地方封印好. (要給電源和網路喔)\n\n###########################################################################\n路由器設定\n\n進入路由器設定頁面, 尋找主機的內部IP\"192.168.1.188\", 將其綁定給ubuntu的MAC Address.\n\n\n將1至4個PORT全部指向主機 \"192.168.1.188\" 如有其他插件需要指定的PORT都必須要加入，否則無法運作。\n\n\n利用工具Putty連線至主機\"192.168.1.188\". port=\"22\"\n\n\n\n\n成功登入就會看到以上畫面.\n\n###########################################################################\n\n為主機的流動IP加設固定的免費域名：\n教學是使用dyndns的免費服務作暫時性的域名, 請先前往 http://dyn.com/dns/ 官方網址登記會員, 完成登入後在DynDNS Hosts新增一個HOST, 我用了\"icraft.homelinux.net\"\n\n安裝dyndns client在主機上：\n\n輸入sudo apt-get install ddclient复制代码\n\n系統會要求輸入root的密碼, 請將安裝時設定的root密碼輸入,\n\n\n選擇Y, 打\"y\"\n\n\n用enter選擇第一個 \"www.dyndns.com\"\n\n\n輸入你剛才在dyndns的免費服務登記的帳號及密碼\n\n\n\nFind public IP using checkip.dyndns.com? 選\"yes\"\n\n\n選\"From list\"\n\n用空白鍵選取 \"icraft.homelinux.net\" 再安enter\n\n這部份已經完成.\n\n###########################################################################\n為主機安裝Sun Java 6 JRE (32-bit)\n為主機加入　python properties\nsudo apt-get install python-software-properties复制代码sudo add-apt-repository ppa:ferramroberto/java复制代码更新安裝包及進行sun java6 jre的安裝\nsudo apt-get update\n\nsudo apt-get install sun-java6-jre\n\nsudo update-alternatives --config java //如果您先前沒安裝過java可以忽略這一步\n复制代码\n####################################################################\n接下來就是主程式 craftbukkit-1.2.5-R1.0  的下載..安裝..運行.. (主要內容來了)\n先返回主目錄:cd ~复制代码開設一個資料夾用來裝住伺服器程式bukkit, 在範例中我用的名稱如下:mkdir craftbukkit && cd craftbukkit复制代码然後下載 Craftbukkit-1.2.5-R1.0:wget http://dl.bukkit.org/downloads/craftbukkit/get/01026_1.2.5-R1.0/craftbukkit.jar复制代码用文字編輯器建立一個開機程序:nano craftbukkit.sh复制代码再COPY以下官方提供的SCRIPT用右制貼上去:cat > craftbukkit.sh << EOF\n#!/bin/sh\nBINDIR=$(dirname \"$(readlink -fn \"$0\")\")\ncd \"$BINDIR\"\njava -Xmx1024M -Xms1024M -jar craftbukkit.jar\nEOF\nchmod +x craftbukkit.sh复制代码然後儲存\"Ctrl+O\"及離開\"Ctrl+X\" **請留意這裡是設定運行bukkit時所提供的內存参數為1GB，如果您的服務器內存超過4GB而又需要使用超過4GB的內存運行Bukkit程式，那您需要選擇安裝64bit的Ubunt Server。\n\n現在將剛建立的craftbukkit.sh 權限設定為755chmod 755 craftbukkit.sh复制代码好了, 現在可以運行伺服器了. 用以下指令運行剛才建立的執行檔 craftbukkit.sh./craftbukkit.sh 复制代码PS: 如果你在不知道的目錄下要運行伺機器程式請用以下指令穩陣D,<username> 等於你的LINUX用戶名稱:~/home/<username>/craftbukkit/craftbukkit.sh复制代码\n\n\n\nOMG.. 整個服務器開啟後在沒人登入的狀態記憶體占用只有8百多MB 0_0\"\n\n\n伺服器開始運行了.\n\n***更新刪除了一此多餘的壞習慣指令.\n\n############################################################\n補充的教學\n\n以上教學是利用SSH作遠端全權操作伺服器，有些朋友PM我問如何開啟伺服器程式而又可以退出SSH的畫面，以下是補充的教學。\n\n#由於解決方法有多, 現只提供本人的解決方案如下\n\n1.安裝SCREEN\nsudo apt-get install screen复制代码 // 如果是debian的用家需要su root 直接運行 'apt-get install screen'\n\n2.利用SCREEN 以下指令開啟伺服器程式\nscreen -dmS mc <craftbukkit.sh path>复制代码 // mc 這個名字為運行主程式的畫面名字, 可隨意更改作記認.\n例子: screen -dmS mc /home/ggh/minecraft-hk/craftbukkit.sh\n\n最後你可能會問: 怎麼運行了程式沒反應?\n因為以上指令讓你在新的名為mc的screen執行程序.\n\n如何查看screen正在運行?\n利用以下指令查看正在運作的screen\nscreen -ls复制代码//查看screen\nscreen -r <screen#>复制代码//進入目標screen的畫面\n\n想了解更多screen 可以利用 screen --help\n\n*有了這樣的工具, 就算伺服器放在公司, 都可以方便地管理.\n\n",
    "replies": [
        {
            "author": "逢坂大河",
            "timestamp": 1336626960,
            "txt_content": "好复杂！osz"
        },
        {
            "author": "chingchiu169",
            "timestamp": 1336628820,
            "txt_content": "個人建議用最新12.04\n如果機器RAM大於4GB請用64BIT..\n之後安裝JAVA7,\n因JAVA7較JAVA6運行更順暢及RAM管理更好,\n加上MINECRAFT不斷吃RAM-0-''\n之前我用8GB RAM他也說不夠,\n我現在加到20GB RAM,連續開一個星期也沒問題,\n一星期重啟一次即可~\n建議寫一個SCRIPT FOR自動定時重啟."
        },
        {
            "author": "sjjklh",
            "timestamp": 1336629540,
            "txt_content": "赞Ubuntu"
        },
        {
            "author": "kafuse",
            "timestamp": 1336644240,
            "txt_content": " 本帖最后由 kafuse 于 2012-5-10 19:46 编辑 \nchingchiu169 发表于 2012-5-10 13:47 \n個人建議用最新12.04\n如果機器RAM大於4GB請用64BIT..\n之後安裝JAVA7,\n\n您好, 有關自動關閉及重新開啟BUKKIT服務, 我一直都在頭痛這個問題, 也有想過是否有重啟的需要性, 正好您有問到這一點, 就想請教一下.\n\n有關指定時間做某些備份或重啟服務我是利用指令crontab來設定固定排程的數據庫DUMP工作, 但是對著SHELL運行的程式觸手無策, 因為我不想將整台電腦重新啟動, 畢竟這個主機除了運作BUKKIT, 還有WEB的服務都在運作, 如果我只想在BUKKIT的這個運作中的程式執行SAVE-ALL及STOP掉, 然後再進行整個資料來拷貝, 再運行指定位置的SHELL程式, 請問有對策嗎?"
        },
        {
            "author": "shenid",
            "timestamp": 1336830660,
            "txt_content": "顶贴。教程不能沉。再穷不能穷教育啊。"
        }
    ]
}