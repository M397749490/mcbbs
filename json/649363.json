{
    "title": "关于HashMap的一个问题",
    "author": "1402367475",
    "replyCount": 4,
    "timestamp": 1479535380,
    "txt_content": " 本帖最后由 1402367475 于 2016-11-19 14:07 编辑 \n\n我现在再写一个许愿插件想抽奖插件一样的\n然后我现在想在插件中写一个幸运值的一个东西\n这个幸运值的意思就是当幸运值等于制定值是必定得什么\n在这上面我遇到了问题\nHashMap<String, Integer> lucky = new HashMap<String, Integer>(); \n                        playerxyz = 问题所在;\n                        lucky.put(getName(), playerxyz  * 10);\n                        sender.sendMessage(\"当前幸运值\" + lucky);复制代码\n我是这样想的用HashMap存储玩家使用了多少此抽奖的指令（/xy），每使用一次幸运值+10\n所以playerxyz * 10 就不难理解了 playerxyz是玩家共计使用了多少次命令然后*10 就相当于每次+10\n以上是我的思路但是我不知道应该怎么获取次数，希望大触指教或者给我一个新思路！",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1479576540,
            "txt_content": "HashMap<String,Integer> useAmount=new HashMap<>();\nInteger a=useAmount.get(sender.getName());\nint amount=a==null ? 0:a;\nuseAmount.put(sender.getName(),amount+1);\n都知道用hashmap了为什么不懂的再用一个呢...,上面这是储存\nlong a=useAmount.get(sender.getName());\nint playerxyz=a==null ? 0:a;"
        },
        {
            "author": "1402367475",
            "timestamp": 1479644520,
            "txt_content": "810587921 发表于 2016-11-20 01:29\nHashMap useAmount=new HashMap();\nInteger a=useAmount.get(sender.getName());\nint amount=a==null ? 0:a ...\n现在我是这样写的，但是每次if(getxyz == null) {getxyz = 0;} 太麻烦了，8阿哥有没什么好的建议\nif(args[0].equalsIgnoreCase(\"go\")) {\n                                if(!(sender instanceof Player)) {\n                                        sender.sendMessage(\"§c狗管理，控制台无法许愿啊\");\n                                }\n                                if(!(sender.isOp() || sender.hasPermission(\"wish.go\"))) {\n                                        sender.sendMessage(\"§c没有权限执行此命令，一边玩去啊\");\n                                        return true;\n                                }\n                                getxyz = lucky.get(sender.getName());\n                                if(getxyz == null) {\n                                        getxyz = 0;\n                                }\n                                addxyz = lucky.put(sender.getName(), (int) (getxyz + getConfig().getDouble(\"addxyz\")));\n                                xyz = lucky.get(sender.getName());\n                        }\n                        if(args[0].equalsIgnoreCase(\"xyz\")) {\n                                if(!(sender instanceof Player)) {\n                                        sender.sendMessage(\"§c狗管理，控制台怎么可能有幸运值啊\");\n                                }\n                                if(getxyz == null) {\n                                        addxyz = lucky.put(sender.getName(), 0);\n                                        xyz = lucky.get(sender.getName());\n                                }\n                                        sender.sendMessage(\"§e当前幸运值：§f \" + xyz );\n                                        return true;\n                                        }复制代码"
        },
        {
            "author": "a8105",
            "timestamp": 1479653940,
            "txt_content": "不会写个方法么.......\npublic int getLuck(String name)\n{\n    Integer a=lucky.get(name);\n    return a==null ? 0:a;\n}"
        },
        {
            "author": "言灵乀Poison",
            "timestamp": 1479999480,
            "txt_content": "1402367475 发表于 2016-11-20 20:22\n现在我是这样写的，但是每次if(getxyz == null) {getxyz = 0;} 太麻烦了，8阿哥有没什么好的建议\n ...\ngetOrDefault(name,0)即可\n如果这段代码每秒钟可能被调用几十次的话，可以考虑\nprivate static final Integer ZERO = 0;\ngetOrDefault(name,ZERO)"
        }
    ]
}