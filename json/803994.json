{
    "title": "[wiki]NT-RPG非官方wiki配置教程——完成度50%，将于8月1日完整发布",
    "author": "z97615669",
    "replyCount": 9,
    "timestamp": 1530985020,
    "txt_content": " 本帖最后由 z97615669 于 2018-7-8 01:37 编辑 \n\nNT-RPG - 海绵非官方RPG-wiki\n\n|||    [ First BB - 写在前面 ]\n其实目前官方没有完整的WIKI，鉴于海绵端的RPG稀缺，决定为大家搬运这款优秀[非主流]插件，顺便给自己挖个坑给大家写插件使用教程，永久更新。其实这款插件配置起来十分麻烦，不仅需要前置MOD，还需要JAVA环境来编译插件。又需要数据库的支持。不过也别尝试放弃这款插件，任何一个好的服务器都是需要好的插件来提供支持，也需要优秀的配置。那么，我们开始来看一下这款插件的使用教程。\n|||    [ Preparetion - 准备工作 ]\n1.前置文件\n安装前置MOD我有在服务端插件帖里面涉及过，所以点击我你可以查看本插件所需要的前置MOD。\n2.数据库的配置\n在第一次启动时，插件会在mods文件夹中生成database.properties文件。|（是围绕Hibernate，java框架构建的，用于将【对象】映射到相关的数据库。）\n\n您的所有数据库配置都在文件database.properties中。此文件位于config / nt-core文件夹中，并在第一个插件启动期间生成。\n该文件如下所示:(以#字符开头的每一行都是注释）\n（以下示例适用于postgresql）\n\n### Hibernate setup`\nhibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n###第一个设置是数据库将以什么形式进行储存。对于不同的数据库，你可以选择不同的形式来进行映射。\nhibernate.hbm2ddl.auto=create\nhibernate.show_sql=false\n\n### Hikari Connection pool setup\n#Hikari is a connection pool, the library comes with sponge\n#Do not change provider_class unless you know what are you doing.\nhibernate.connection.provider_class=com.zaxxer.hikari.hibernate.HikariConnectionProvider\nhibernate.hikari.minimumIdle=5\nhibernate.hikari.maximumPoolSize=10\nhibernate.hikari.idleTimeout=30000\n\n### PostgreSQL datasource *\n#This is a datasource class, each database vendor has its own\n#Do not forget to install jdbc driver(!) for your database\nhibernate.hikari.dataSourceClassName=org.postgresql.ds.PGSimpleDataSource\nhibernate.hikari.username=username\nhibernate.hikari.password=password\n\n### PGSimpleDataSource *(!!)\nhibernate.hikari.dataSource.serverName=localhost\nhibernate.hikari.dataSource.portNumber=5432\nhibernate.hikari.dataSource.databaseName=dbname\n如果您想使用自包含的数据库，请不要尝试使用litesql，而是使用H2代替\nmysql的数据库属性示例：\n### Hibernate setup\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\nhibernate.hbm2ddl.auto=create\nhibernate.show_sql=false\n\n### Hikari Connection pool setup\nhibernate.connection.provider_class=com.zaxxer.hikari.hibernate.HikariConnectionProvider\nhibernate.hikari.minimumIdle=3\nhibernate.hikari.maximumPoolSize=10\nhibernate.hikari.idleTimeout=30000\n\n### PostgreSQL datasource *\nhibernate.hikari.dataSourceClassName=com.mysql.jdbc.jdbc2.optional.MysqlDataSource\n\n### PGSimpleDataSource *\nhibernate.hikari.dataSource.url=jdbc:mysql://ip:port/database\nhibernate.hikari.dataSource.user=\nhibernate.hikari.dataSource.password=\nH2的数据库属性示例：\nhibernate.dialect=org.hibernate.dialect.H2Dialect\nhibernate.hbm2ddl.auto=update\nhibernate.show_sql=false\nhibernate.connection.provider_class=com.zaxxer.hikari.hibernate.HikariConnectionProvider\nhibernate.hikari.minimumIdle=5\nhibernate.hikari.maximumPoolSize=10\nhibernate.hikari.idleTimeout=30000\nhibernate.hikari.dataSourceClassName=org.h2.jdbcx.JdbcDataSource\nhibernate.hikari.username=sa\nhibernate.hikari.password= \nhibernate.hikari.dataSource.url=jdbc:h2:~/h2\n\n3.文件夹结构\nAddons - 用于附加内容的文件夹，例如第三方技能\nClasses - 定义类的文件夹\nRaces - 您定义种族的文件夹\nScripts - 放置JavaScript脚本文件的文件夹，在此文件夹中预先生成优先级脚本Main.js，不用删除它\nSkilltrees - 您定义技能树的文件夹\n\n|||    [ Skilltrees - 技能配置 ]\n\n关于【类】的解释：配置过程中我们会频繁得看到一个单词【class】，我们翻译为类，有过JAVA编译经验的童鞋应该会了解是什么意思，不过也有没有过JAVA编译经验的小老板，在这里我放一张图片用于解释下：\n\n\n\n\nQQ图片20180708010830.jpg (50.19 KB, 下载次数: 1)\n\n下载附件\n\n2018-7-8 01:13 上传\n\n\n\n\n\n好了，我们开始正文：\n该插件正在开发中，标有“*”的部分不会产生任何影响。所有类配置都位于类文件夹AClass.conf中：\n类[class]：\n注：请不要将class和race下的创建的名称重名。\nName: 测试1\nWildcart: true #玩家如果没有相应权限会不能进行选择\nChat: { #*\n  suffix: \"这是前缀\",\n  prefix: \"这是后缀\",\n}\nMaxLevel: 99\nExpFirstLevel: 150\nExpLastLevel: 7500\nExperienceSources: [PVP,PVE,LOGGING] # ± *\nBonusProperties: {\n    swords_damage_mult: 20\n} \nBonusPropertiesPerLevel: {}\nAllowedArmor: [] #*\nAllowedWeapons: {\n        DIAMOND_SWORD: 50\n}\nPermissions: [] # 选择这个类的玩家被给予的权限列表, 此权限并不是永久性的。\nSkillTree: \"test[测试]\"`\n关于技能树的配置：\nName: \"测试\"\nDescription: \"一个技能树的例子\"\nSkills: {\n        Heal: {\n                MinPlayerLevel: -1\n                MaxSkillLevel: 20\n                Conflicts: [] # 玩家不能具备的技能\n                SoftDepends: [] # 玩家最少拥有的一个技能\n                HardDepends: [] # 所有玩家都必须具备的技能\n                SkillSettings: {\n                                delay_levelbonus : -100.0\n                                 default-regen-mult : 1.0\n                           healed-amount : 1.0\n                            delay : 3500.0\n                           manacost : 0.0\n                            manacost_levelbonus : 20.0\n                        default-regen-mult_levelbonus : 0.2\n                        cooldown : 60000.0\n                        healed-amount_levelbonus : 1.0\n                        cooldown_levelbonus : -300.0\n                }\n        },\nSpeed: {\n        MinPlayerLevel: -1\n        MaxSkillLevel: 20\n        Conflicts: []\n        SoftDepends: []\n        HardDepends: [Heal]\n        SkillSettings: {\n                manacost : 0.0\n                manacost_levelbonus : -10.0\n                undefined_levelbonus : -70.0\n                cooldown : 8000.0\n                cooldown_levelbonus : -500.0\n        }\n    }\n}\n|||    [ Class&Race - 类和种族 ]\n必须使用唯一名称定义每个类和种族。从1.0.9版本开始，一个角色只能拥有一个类和一个种族，这可能会在下一个版本中发生变化，玩家可以选择很多类和一个种族。\n在一个角色中，玩家的角色有多个级别，等级总是等于初级等级。\n类在config/nt-rpg/classes文件夹中定义\n种族在config/nt-rpg/races文件夹中定义\n[groupid=1306]Bone Studio[/groupid]",
    "replies": [
        {
            "author": "米安博奥",
            "timestamp": 1531017600,
            "txt_content": "标题的字体太大了 让排版变形了但内容还行"
        },
        {
            "author": "z97615669",
            "timestamp": 1531030620,
            "txt_content": "BC酱_BcsC 发表于 2018-7-8 10:40\n标题的字体太大了 让排版变形了但内容还行\n好的，我调整小一下。\n实在不会排版……"
        },
        {
            "author": "@yao@jj",
            "timestamp": 1531379280,
            "txt_content": " 本帖最后由 @yao@jj 于 2018-7-12 15:11 编辑 \n\n楼主能贴一个成品样品的模板么，目前能够发挥作用的功能的模板。"
        },
        {
            "author": "z97615669",
            "timestamp": 1531674420,
            "txt_content": "@yao@jj 发表于 2018-7-12 15:08\n楼主能贴一个成品样品的模板么，目前能够发挥作用的功能的模板。\n好的，慢点我会配置下发布出来。"
        },
        {
            "author": "@yao@jj",
            "timestamp": 1531711080,
            "txt_content": " 本帖最后由 @yao@jj 于 2018-7-16 11:19 编辑 \n\n楼主知道怎么关闭debug log吗？还有每次重新登陆都得重选一次角色，这个能设置只选一次永久的角色吗"
        },
        {
            "author": "z97615669",
            "timestamp": 1531727160,
            "txt_content": "@yao@jj 发表于 2018-7-16 11:18\n楼主知道怎么关闭debug log吗？还有每次重新登陆都得重选一次角色，这个能设置只选一次永久的角色吗 ...\n不会出现你说的问题呀，我已经设置过了。配置文件在/config/Loot Slash Conquer.cfg里面\n你是不是改动什么了"
        },
        {
            "author": "m63485322",
            "timestamp": 1533342780,
            "txt_content": "为什么装了这个插件玩家不能破坏东西了"
        },
        {
            "author": "Heer_Kaisair",
            "timestamp": 1534583280,
            "txt_content": "所以class为什么不直接翻译成 职业"
        },
        {
            "author": "Xing_Chen1",
            "timestamp": 1545972420,
            "txt_content": " [nt-rpg]: Could not find inventory type baubles.api.cap.BaublesContainer defined in ItemGroups.conf. Is the mod loaded? Is the class name correct? If you are unsure restart plugin with debug mode ON and interact with desired inventory\n------\n\n服务端版本 spongevanilla-1.12.2-7.1.5-RC143\nNTCore-1.13-SNAPSHOT-6-shaded\nNT-RPG-1.0.12-RC-3\n\n---\n该改成什么 "
        }
    ]
}