{
    "title": "原版命令求助版本1.12.2",
    "author": "2870610692",
    "replyCount": 8,
    "timestamp": 1578158700,
    "txt_content": "实现清理玩家100米外的掉落物 （旁边有人时不会误清）\n玩家退出重新进入也清理身边掉落物 回城操作也清理\n就好像卸载区块前起来掉落物\n\n还有一个 实现运输矿车里东西没拿出来无法破坏运输矿车",
    "replies": [
        {
            "author": "Chelover_C60",
            "timestamp": 1578158700,
            "txt_content": "清理玩家100米外的掉落物\nexecute @a ~ ~ ~ scoreboard players tag @e[type=item,r=100] add keep\nkill @e[type=item,tag=!keep]\nscoreboard players tag @e[type=item] remove keep\n\n卸载区块前清理掉落物\n我感觉你是服务器，这么做的话可能会多多少少对性能有些影响，因为玩家消失后，就没有供参考的实体了，所以必须在玩家仍然在时循环summon+kill一个marker。\n另外我不太清楚玩家离开后多长时间区块会卸载，以及游戏处理命令、玩家操作、区块的顺序，因此这个问题可能无解\n\n运输矿车里东西没法拿出来也没法破坏\n修改其nbt为Invulnerable:1b可防止其被破坏\n没法拿出来做不到"
        },
        {
            "author": "2870610692",
            "timestamp": 1578158820,
            "txt_content": "就好像卸载区块前清理掉落物"
        },
        {
            "author": "xiang_xge",
            "timestamp": 1578185580,
            "txt_content": " 本帖最后由 xiang_xge 于 2020-1-5 10:02 编辑 \n\n/execute @a ~ ~ ~ kill @e[type=item,rm=100]  \n清理100格外的掉落物\n\n\n回城清理掉落物的话...如果是指令回城，直接在tp前加一个execute [目标选择器] ~ ~ ~ kill @e[type=item,r=16] 不就行了\n\n\n如果是插件回城...抱歉我不研究这个\n\n可以用/summon minecraft:chest_minecart ~ ~1 ~ {Invulnerable:1b}召唤无敌矿车，但是依然可以被创造模式玩家破坏\n\n"
        },
        {
            "author": "chyx",
            "timestamp": 1578188040,
            "txt_content": "确实可以把一些矿车设置为无敌。但是无敌也能被创造玩家破坏啊"
        },
        {
            "author": "565585",
            "timestamp": 1578189300,
            "txt_content": "一个插件可以实现，推荐laggremover"
        },
        {
            "author": "2870610692",
            "timestamp": 1578195060,
            "txt_content": "Chelove_C60 发表于 2020-1-5 01:25\n清理玩家100米外的掉落物\nexecute @a ~ ~ ~ scoreboard players tag @e[type=item,r=100] add keep\nkill @e ...\n你好再问一下 因为玩家消失后，就没有供参考的实体了，所以必须在玩家仍然在时循环summon+kill一个marker。 这个是什么意思\n 运输矿车那个不是不让拿出来        是运输矿车里面有东西的话运输矿车就无法破坏。没有则可以破坏"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1578195780,
            "txt_content": " 本帖最后由 Chelove_C60 于 2020-1-5 11:48 编辑 \n\n因为如果要在玩家身上执行命令，就必须要依靠execute寻找玩家。如果玩家下线了，那么execute找不到玩家，也就无法执行命令。所以唯一的方法就是在玩家身上生成一个marker，当玩家下线时，通过execute这个marker来执行命令。因为不清楚究竟有多少个玩家，因此直接tp可行性低，只能summon后在下一刻检测，然后kill并重新生成来让这个marker的位置与玩家保持同步。但是这样反而会消耗相对于不清除掉落物更多的性能，可能会事与愿违\n\n运输矿车的话，我刚刚想到一个办法（就是可能非常麻烦）。给每个有东西的运输矿车都加一个各不相同的标签，然后循环entitydata来修改矿车内物品来防止玩家拿出，同时给矿车内的每一个物品都加一个特定的标签（如 clear:1b）。然后循环clear玩家身上有clear:1b的物品。\n矿车内有东西就不能破坏，那给有东西的矿车加Invulnerable:1b标签，没东西的矿车不管它就行了\n\n忘了点回复了。。。\n"
        },
        {
            "author": "2870610692",
            "timestamp": 1578197160,
            "txt_content": "Chelove_C60 发表于 2020-1-5 11:43\n因为如果要在玩家身上执行命令，就必须要依靠execute寻找玩家。如果玩家下线了，那么execute找不到玩家，也 ...\nok 非常感谢"
        }
    ]
}