{
    "title": "如何让服务器不卡？？最大限制减少内存的使用",
    "author": "2448023855",
    "replyCount": 7,
    "timestamp": 1482664080,
    "txt_content": "求你们的回答~求\n只要是用心回答的30金ni\n因为不知道所以选的是插件应用不要介意",
    "replies": [
        {
            "author": "Joket_abc",
            "timestamp": 1482664500,
            "txt_content": "Minecraft服务器优化教程 —— 让多带50%的玩家不再是梦\nhttp://www.mcbbs.net/thread-478126-1-1.html\n\n里面已经写的非常详细了，"
        },
        {
            "author": "幻境雲達達",
            "timestamp": 1482665760,
            "txt_content": "http://www.mcbbs.net/forum.php?mod=viewthread&tid=649421\n\n你这样没目标的求优化插件是不明智的"
        },
        {
            "author": "2448023855",
            "timestamp": 1482666420,
            "txt_content": "小小马 发表于 2016-12-25 19:15\nMinecraft服务器优化教程 —— 让多带50%的玩家不再是梦\nhttp://www.mcbbs.net/thread-478126-1-1.html\n看不懂额"
        },
        {
            "author": "i麦块.",
            "timestamp": 1482725400,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "2448023855",
            "timestamp": 1482745740,
            "txt_content": "i麦块. 发表于 2016-12-26 12:10\n优化性能http://www.mcbbs.net/thread-415779-1-1.html\n求最佳qwq\n大哥。。这个插件虽然有很多特点还修复了一些bay但我的服有一些不适合我有清道夫?"
        },
        {
            "author": "spkillercn",
            "timestamp": 1482822000,
            "txt_content": "要真正的减少内存占用，必须知道占用内存的原因。\n无非以下几种：\n1. 地图区块\n2. 运动角色数量\n3. JAVA回收效率\n4. 需要较大资源的模组、插件的额外数据\n\n解决方案：\n第1点，设置服务器上的可见范围可解决，内存相当少时，可以将视野设置到6左右。\n第2点，运动角色包括动物、怪、各类NCP，以及玩家。除玩家外，占用的大多数是带宽，只需要做一定量的限制，比如主城是不需要动物的，那么就禁止掉，也禁止掉地皮密集区域修建巨大养鸡场，对于玩家，实际就是增加了第1点所指的视野，一个玩家一倍区块内存，仅重合部分共享，玩家位置越稀疏越不易共享到，这种情况，一般如果发现熊孩子跑地图是最严重的，占内存还占CPU、而且如果不是SSD硬盘还占很大的随机磁盘IO，那么需要禁止，有一个计算每天步行距离的插件，可以定期清理这等熊。\n第3点，java回收参数，将内存上限设置好，如果没有其他应用突发需求大内存，那么把 -Xms 和 -Xmn 也设置到合理的位置，-Xms 可以设置到-Xmx 最大值相同，避免偶尔收缩内存后又重新放大，减少CPU消耗和系统底层各种页内存的重新分配。另外有一组回收周期的参数，需要根据自己情况加上，但是如果不了解，就别加，复制来的参数，往往9成都起反作用，一定要自己设置，小游戏服和生存服是完全不同的设置方法，这里就不给确定参数了，自己去测试（ -XX:MaxGCPauseMillis=30到500  -XX:MaxGCPauseMillis=30到500），但是如果本身java对象分配就有那么多，加快旧对象释放的GC周期，也是消耗CPU的，这算是CPU很充足情况下的权宜之计了。\n第4点， 模组和插件，内存吃紧的话，就依照机器情况慎重添加了。"
        },
        {
            "author": "360g",
            "timestamp": 1483011600,
            "txt_content": "spkillercn 发表于 2016-12-27 15:00\n要真正的减少内存占用，必须知道占用内存的原因。\n无非以下几种：\n1. 地图区块\n第一点设置成四区块\n还有能在玩家客户端上缓存 \n安装 NeverLag"
        }
    ]
}