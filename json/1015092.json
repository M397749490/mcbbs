{
    "title": "【原版模组】【1.14-1.16】原版投票跳夜插件",
    "author": "916497256",
    "replyCount": 4,
    "timestamp": 1586587080,
    "txt_content": " 本帖最后由 916497256 于 2020-4-11 19:11 编辑 \n\n一人跳夜，这个功能相比各位老斯基应该都了解\n原因很简单，自己开了个快照服，但是有时候会有玩家在挂机，但是我们需要睡觉跳过夜晚。\n没有插件，只好自己写一个，正好最近有一个朋友带我入门了数据包。\n之后我就自学查命令，花费两天空余时间终于边学边写出来了。\n\n实际测试环境是20w13b，但是原版模组这东西，兼容性挺好的。\n用到了bossbar指令，留意到说是18w左右快照出的，没怎么注意，觉得应该是1.14版本的了，其他的指令应该1.13版本能够提供。\n如果这个版号有问题可以提示下。\n默认设置\n文件夹放入单人或服务器存档下的datapack里面，然后使用reload命令或重新打开游戏或启动服务器即可\n\n新人入站，莫得绿宝石，各位大大喜欢的话，希望给个人气\n\n！！！！注意！刚刚发现，sleeptimer在起床的11t时间还会继续增长而非归零，所以依旧会有重复提示，建议改成开始投票15t后提示\n！！！！例如把start.mcfunction的298这个数字改成285\n\n=================\nV1.0-V1.2是这天连续迭代的，直接发布下载链接：\n百度云盘V1.2：链接: https://pan.baidu.com/s/1Z5D6XIHivs2-D8dfI8sYjA 提取码: nb39\n\n\n\n\nVote_sleepV1.2修正.zip\n(5.52 KB, 下载次数: 87)\n\n\n\n2020-4-11 19:10 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\nVote_sleepV1.1.zip\n(5.47 KB, 下载次数: 0)\n\n\n\n2020-4-11 14:22 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\nVote_sleep(V1.0).zip\n(4.36 KB, 下载次数: 0)\n\n\n\n2020-4-11 14:22 上传\n点击文件名下载附件\n\n\n\n\n\n\n=================\n简单截图如下\n\n\n\n\nty1.png (338.56 KB, 下载次数: 4)\n\n下载附件\n\n2020-4-11 14:23 上传\n\n\n\n\n\n\n\n\n\nty2.png (53.7 KB, 下载次数: 5)\n\n下载附件\n\n2020-4-11 14:23 上传\n\n\n\n\n\n\n\n\n\nty3.png (31.45 KB, 下载次数: 6)\n\n下载附件\n\n2020-4-11 14:23 上传\n\n\n\n\n\n\n右边的计分板是调试用的，实际使用不会出现。\n上面的拒绝和接受都是可以点击的，自动使用trigger触发器。\n\n比较感谢朋友的一些指点，现在版本应该莫得继续优化了。\n基本规则是：\n有人睡觉时，15s投票倒计时开始，如果这次投票有20%以上的人拒绝，则停止睡觉。\n\n自定义方式是：\n命令文件都在vote_sleep/data/votesleep/functions/里面\nstart里面的300分别是延时执行success的判断，以及boss条的倒计时开始点。\nboss条的最大值设置我放在了build里面，自己修改含有bossbar和max那行后面的数字揪心。\nstart里面有个298是为了防止线程问题导致的重复提示。！！！！注意！刚刚发现，sleeptimer在起床的11t时间还会继续增长而非归零，所以依旧会有重复提示，建议改成开始投票15t后提示\n！！！！例如把start的298这个数字改成285\nbuild里面有几个参数的，单位千很明显，因为我是要将结果分成千分之一，所以其实 “计算值” 结果会在 0~ “千分值” 之间，\n然后 “通过线” 就是，当\"计算值\">=\"通过线\"时，无法跳过夜晚，需要重新发起投票，否则将跳过夜晚，也就是实现最小拒绝比例的控制。\n\n如果要关掉提示，把success_tips、failed_tips、message_vote文件删掉就行了，如果你嫌占聊天栏\n\n更新记录：\nV1.2\n移动一些非必要每tick运行的逻辑（因为不处于调试阶段了，可以移动减少命令次数，提高性能了）。\n\nV1.1\n添加了彩色字体提示，可以点击来执行接收和拒绝命令，但是提示可能在倒计时结束时再次重复出现。\n\nV1.0\n初步实现了跳夜的投票功能，但只有boss条的命令提示，尚未进行优化，每tick命令数较多\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "晴路卡",
            "timestamp": 1586606640,
            "txt_content": "sleeptimer在起床的11t时间还会继续增长而非归零，所以依旧会有重复提示，建议改成开始投票15t后提示\n为什么不使用minecraft.custom:minecraft.sleep_in_bed这条记分板准则来探测玩家睡觉呢"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1586610060,
            "txt_content": "晴路卡 发表于 2020-4-11 20:04\n为什么不使用minecraft.custom:minecraft.sleep_in_bed这条记分板准则来探测玩家睡觉呢 ...\n为什么不使用进度的 minecraft:slept_in_bed 呢？\n奖励那里可以直接填睡觉后要运行的函数（"
        },
        {
            "author": "916497256",
            "timestamp": 1586614140,
            "txt_content": "刚学，真的不知道这么多，我后面看下行不行。感谢大佬们的提示。"
        },
        {
            "author": "雪-ices",
            "timestamp": 1587204780,
            "txt_content": "膜拜大佬awa"
        }
    ]
}