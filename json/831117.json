{
    "title": "[WIKI][CY] BossShopPro - 配置-高级选项|Advanced Options",
    "author": "乔柚",
    "replyCount": 0,
    "timestamp": 1542831240,
    "txt_content": " 本帖最后由 longlongz 于 2018-11-23 07:06 编辑 \n\nBossShopProConfiguration - Advanced Options | 配置-高级选项字数统计: 2637字\n\n如何建立不同的行动？\n这很简单！你只用复制你的价格、奖励和介绍然后修改路径：\n添加点击类型到路径的最后\nExamples:\nReward(奖励) -> Reward_right(奖励_右键)\nMessage(消息) -> Message_middle(消息_中键)\n\n可用点击类型:\n-        Left(左键)\n-        Right(右键)\n-        Middle(中键)\n-        shift_left(下蹲_左键)\n-        shift_right(下蹲_右键)\n\n配置案例\n  Diamonds:\n    MenuItem:\n    - type:DIAMOND\n    - amount:5\n    - name:&95个钻石\n    - 'lore1:&e左键购买 &c%reward% - &e售价:&c%price%&e.'\n    - 'lore2:&e右键出售 &c%price_right% - 收购价:&c%reward_right%&e.'\n    RewardType: ITEM\n    Reward:\n    - - type:DIAMOND\n      - amount:5\n    PriceType: MONEY\n    Price: 5000\n    Message: '&e你购买了 %reward%! 所剩余额: &c%left%'\n    #####这里是右键内容#####\n    RewardType_right: MONEY\n    Reward_right: 2500\n    PriceType_right: ITEM\n    Price_right:\n    - - type:DIAMOND\n      - amount:5\n    Message_right: '&e你获得了 %price_right% 金钱!'\n    ExtraPermission: ''\n    InventoryLocation: 3复制代码这个例子中，玩家可以左键购买钻石或右键出售钻石。\n你可以使用占位符 %reward_<点击类型>% 和 %price_<点击类型>% 来显示该点击行动所获得的奖励或售价\n你可以为每个点击类型都能添加一个独立的使用权限，你可以使用\"ExtraPermission_<点击类型>\"来添加到你的商品上。例如“ExtraPermission_right: BossShop.itemshop.apple.rightclick”。\n其他可用的的选项\n下面的设置都是可以被添加到config.yml，任何商店和任何商品上的：\n-        \"HideItemsPlayersDoNotHavePermissionsFor: true/false\" – 如果玩家没有足够的权限则隐藏商品，可以被条件代替。\n-        \"AllowUnsafeEnchantments: true/false\" – 如果开启则玩家可以将任何的附魔奖励附魔到任何物品上。\n-        \"CanPlayersSellItemsWithGreaterEnchants: true/false\" – 如果开启则玩家可以出售比商品需求所拥有更好的附魔属性的物品。这可能对出售没用的附魔有帮助，但是同样也可能时物品贬值。\n-        \"CloseShopAfterPurchase: true/false\" – 如果开启则购买成功后菜单GUI会被关闭。\n这些设置会被继承：假如你在 config.yml设置\"CloseShopAfterPurchase: true\"，就会使所有的商品受到影响。但如果你设置将一个商店的 \"CloseShopAfterPurchase” 设置为false 则只会使商店内的所有商品被影响（其他商店的物品不会受到影响.）\n\n声音设置也可以被继承。你可以添加下方的特性到任何的商店或商品中来使他们的子商品能够使用母体的声音:\nSound:\n  Shopitem:\n    Click: 'UI_BUTTON_CLICK:1:1'\n    Purchase: 'ENTITY_PLAYER_LEVELUP:1:1.8'\n    NoPermission: 'ENTITY_BLAZE_DEATH:1:1'\n    NotEnoughMoney: 'ENTITY_SHULKER_HURT:1:0.8'复制代码下方的声音节点可以被添加到任何商店：\nSound:\n  Shop:\n    ChangePage: 'UI_BUTTON_CLICK:0.2:1'\n    ChangeShop: 'BLOCK_CHEST_OPEN:0.2:1'\n    Open: 'ENTITY_ELDER_GUARDIAN_CURSE:1:1.8'\n    Close: ''复制代码音效的格式为\"<声音名>:<音量>:<音高>\". 你可以将声音设置为''来关闭. 你可以在这里找到所有可用的音效 here.\n\n下方的选项设置可以被添加到任何商店（但不是商品）：\n-        InventoryRows: <行数> - 这个设置可以选择菜单的行数，6行为最大，1行为最小。\n\n玩家Input(输入)\n你可以强制所有玩家输入他们的文本信息或选择一个在线玩家。输入信息可以通过\"%input%\" 占位符来显示. 可用的应用方法:\n-        玩家菜单：选择一个玩家然后执行一个特定的动作，像踢出游戏/禁言/封禁等\n-        指令\"完善\": 当玩家点击特定的商品时，一个指令会通过玩家输入来执行\n-        允许玩家命名商品然后购买 (设置\"name:%input%\")\n-        还有更多的！\n这种方法基本上可以将所有东西都变得十分整洁：例如一个派系的GUI可以让玩家用来占领地盘或加强其他玩家（使用input来输入对象玩家的名称）。\n\n添加这一段信息就能强制玩家输入(input)一段信息:\n    ForceInput: PLAYER/TEXT\n    ForceInputMessage: 'any message'\n复制代码通过打开商店的指令输入input(输入) \n另外一种方法来让玩家输入input是为打开商店的指令添加一个额外的参数（只有没有空格的指令才被支持）。例如指令 \"/bs AdminCommands Herobrine\" 会使用input“Herobrine”来打开\"AdminCommands\"商店。\n\n在打开一个商店时，玩家可以手动的输入input，这样可以用来创建一个更加直观的系统：例如创建指令别名\"/admin\"会打开\"AdminCommands\"商店. 现在玩家可以输入\"/admin Herobrine\" 使用有效的input来打开商店.\n\n你可以添加这些到任何商品上，你可以这些到任何一个商品中，使用playerinput来确保玩家在行动被执行之前输入了新的input, 或强制玩家选择一个input然后提供一个所有物品都有相同input的商店.\n如果你允许玩家输入input一次然后给予使用商品的权利但不会强制重新提供新的input的话，你需要确保玩家已经输入了input。\n这里是一个只需要input被输入一次的案例:\n主菜单区域：\n  playercommandsmenu:\n    MenuItem:\n    - lore:&8Commands to manage other players.\n    - name:&e&lPlayer Commands\n    - type:paper\n#######\n    ForceInput: PLAYER\n    ForceInputMessage: '&8Enter the name of a player you want to select.'\n#######\n    RewardType: SHOP\n    Reward: playercommandssecret\n    PriceType: NOTHING\n    Message: ''\n    ExtraPermission: ''\n    InventoryLocation: 40复制代码\n玩家指令商店.\n#注: 玩家只能通过主菜单来进入商店，因为他们会被强制选择一个目标，才能来确保指令能够正常运行。\n#因为哪样不会给予玩家直接的权利来打开这个商店.\nShopName: PlayerCommandsSecret\nDisplayName: '&6&l%input% &0&l指令'\nshop:\n  reselecttarget:\n    MenuItem:\n    - name:&f&l选择一个玩家\n    - lore:&8点击选择其他玩家.\n    - amount:1\n    - type:SKULL_ITEM\n    - durability:3\n    RewardType: SHOP\n    ForceInput: PLAYER\n    ForceInputMessage: '&8输入玩家的名字来选择目标.'\n    Reward: PlayerCommandsSecret\n    PriceType: NOTHING\n    Message: ''\n    ExtraPermission: ''\n    InventoryLocation: 1\n  gamemode:\n    MenuItem:\n    - name:&f&l冒险模式\n    - lore:&8设置玩家 &l&6%input% &8的模式为冒险模式.\n    - amount:1\n    - type:TORCH\n    RewardType: PLAYERCOMMAND\n    Reward:\n    - 'gamemode 2 %input%'\n    PriceType: NOTHING\n    Message: ''\n    ExtraPermission: ''\n    InventoryLocation: 2\n  msgtest:\n    MenuItem:\n    - name:&f&l测试消息\n    - lore:&8给玩家 &l&6%input% &8发送一条测试消息.\n    - amount:1\n    - type:PAPER\n    RewardType: PLAYERCOMMAND\n    Reward:\n    - 'msg %input% 这只是一条测试'\n    PriceType: NOTHING\n    Message: ''\n    ExtraPermission: ''\n    InventoryLocation: 3\n  kick:\n    MenuItem:\n    - name:&f&l踢出游戏\n    - lore:&8将玩家 &l&6%input% &8踢出服务器.\n    - amount:1\n    - type:DIAMOND_SWORD\n    - itemflag:all\n    RewardType: PLAYERCOMMAND\n    Reward:\n    - 'kick %input%'\n    PriceType: NOTHING\n    Message: ''\n    ExtraPermission: ''\n    InventoryLocation: 4复制代码\n\n配置诀窍\n其实有很多可以使商店建立更容易的小窍门。比如你想出售物品的话，正常来讲你应该会创建一个物品作为奖励然后再创建一个物品作为商店图标，对吗？这里有一种简单的方式来避免两个物品重复：你可以使用占位符 '%rewarditem_<id>%' 和 '%priceitem_<id>%' 来使你的商店图标内容和奖励内容一致。\n例子1:\n  GodApple:\n    MenuItem:\n    - '%rewarditem_1%' ##重点，会显示和Reward里的物品一样的内容##\n    - 'lore:&c售价: %price%' ##在这后面还能添加额外的内容##\n    RewardType: ITEM\n    Reward:\n    - - type:GOLDEN_APPLE\n      - amount:1\n      - durability:1\n    PriceType: MONEY\n    Price: 10000\n    Message: '&e你购买了%itemname%! &e余额: &c%left%'\n    ExtraPermission: ''复制代码这个案例中商店物品(图标)会与获得的奖励的样子一样。这样GodApple(商品ID)就只用设置一次了。\n\n例子2:\n  bow_ranger:\n    MenuItem:\n    - '%rewarditem_2%'\n    - lore:&c价格 %price%.\n    RewardType: ITEM\n    Reward:\n    - - amount:16\n      - type:ARROW\n    - - name:&2&l射手之弓\n      - amount:1\n      - type:BOW\n      - enchantment:ARROW_DAMAGE#7\n      - enchantment:ARROW_KNOCKBACK#10\n    PriceType: EXP\n    Price: 30\n    Message: '&2你购买了一件新武器，花费 &c%price%&2.'\n    ExtraPermission: ''\n    InventoryLocation: 14复制代码这个案例中奖励是由一些弓箭和一把比较复杂的弓组成的。因为商品的样子不应搞长得像弓箭而是像弓，所以我们需要使用 '%rewarditem_2%' 作为占位符（因为弓在奖励列表中排名第二）\n\n如果你想要更多的骚操作，你可以使用附属插件 TrickyShops.\n\n一个物品中不同的RewardTypes(奖励类型)/PriceTypes价格类型\n可使用的类型：\n-        RewardType AND: 给玩家所有定义的奖励\n-        PriceType AND: 玩家需要支付所有定义的价格\n-        PriceType OR: 玩家需要选择其中一种支付方式\n使用例子:\n奖励类型AND (同时获得多样东西)\n  DifferentRewardTypesAND:\n    MenuItem:\n    - 'lore:&aReward: %reward% #&cPrice: %price%'\n    - name:&9Money, Items and Exp\n    - amount:1\n    - type:TNT\n    RewardType: AND\n    Reward:\n      RewardType1: ITEM\n      Reward1:\n      - - amount:7\n        - type:TNT\n      RewardType2: money\n      Reward2: 50\n      RewardType3: exp\n      Reward3: 20\n    PriceType: NOTHING\n    Message: '&eYou received %reward%.'\n    ExtraPermission: ''\n    InventoryLocation: 0复制代码价格类型AND (和: 需要同时支付多样价格类型的内容)\n  DifferentPriceTypesAND:\n    MenuItem:\n    - type:DIAMOND\n    - amount:5\n    - name:&95 Diamonds\n    - 'lore1:&eBuy %reward% for %price%.'\n    RewardType: ITEM\n    Reward:\n    - - type:DIAMOND\n      - amount:5\n    PriceType: AND\n    Price:\n      PriceType1: MONEY\n      Price1: 50.0\n      PriceType2: POINTS\n      Price2: 10\n    Message: '&eYou bought %reward%! Balances left: &c%left%'\n    InventoryLocation: 0复制代码价格类型 OR (或者: 只需要选择一个价格类型进行支付)\nCode (Text):\n  DifferentPriceTypesOR:\n    MenuItem:\n    - type:DIAMOND\n    - amount:5\n    - name:&95钻石\n    - 'lore1:&e购买 %reward%，售价 %price%.'\n    RewardType: ITEM\n    Reward:\n    - - type:DIAMOND\n      - amount:5\n    PriceType: OR\n    Price:\n      PriceType1: MONEY\n      Price1: 50.0\n      PriceType2: POINTS\n      Price2: 10\n    Message: '&e你购买了%reward%! 余额: &c%left%'\n    InventoryLocation: 0复制代码当然这些类型可以被叠加:\n-        PriceType: AND\n-        Price:\n-        PriceType1: ITEM\n-        Price1: diamond\n-        PriceType2: OR\n-        Price2:\n-        PriceType1: MONEY\n-        Price1: 1000\n-        PriceType2: POINTS\n-        Price2: 50\n所以在例子中现在玩家需要支付一个钻石和1000金币或50点数\n\n\n对RewardTypes过时的使用方法\n这虽然看上去很复杂，但是实际上可以使用 simulate 指令来实现:\n/shop simulate <玩家> <商店> <商店物品> - 模拟商店点击(可以一次性添加多个奖励类型)\n为了能够使用不同的RewardTypes, 你可以将RewardType设置为command（\"RewardType: command\" ）然后建立一系列的指令就能模拟使用多个奖励类型. 你可以使用存在的商品（如果适合你的需求）或者创建一个新的“隐形”商店（玩家没有权限访问的商店），然后建立新的商店物品使用PriceType: nothing然后使用任何你想要的的奖励类型。\n\n按“我”多年经验来讲，大部分的时候都是使用\"command\"作为奖励类型然后建立一列指令，像给予玩家物品，添加为玩家权限或通过其他插件来执行的指令 。\n\n\n\n[groupid=1597]Citrus Tree Studio[/groupid]\n",
    "replies": []
}