{
    "title": "Linux下npm出现权限问题",
    "author": "RarityEG",
    "replyCount": 4,
    "timestamp": 1597756800,
    "txt_content": "今欲在Ubuntu下使用npm构建启动器测试，但是npm install时却出现权限错误：\n\nnpm ERR! code EACCES\nnpm ERR! syscall rename\nnpm ERR! path /usr/local/lib/node_modules/.staging/npm-d8268123/node_modules/yargs-parser\nnpm ERR! dest /usr/local/lib/node_modules/.staging/yargs-parser-3d12b81a\nnpm ERR! errno -13\nnpm ERR! Error: EACCES: permission denied, rename '/usr/local/lib/node_modules/.staging/npm-d8268123/node_modules/yargs-parser' -> '/usr/local/lib/node_modules/.staging/yargs-parser-3d12b81a'\nnpm ERR!  { [Error: EACCES: permission denied, rename '/usr/local/lib/node_modules/.staging/npm-d8268123/node_modules/yargs-parser' -> '/usr/local/lib/node_modules/.staging/yargs-parser-3d12b81a']\nnpm ERR!   cause:\nnpm ERR!    { Error: EACCES: permission denied, rename '/usr/local/lib/node_modules/.staging/npm-d8268123/node_modules/yargs-parser' -> '/usr/local/lib/node_modules/.staging/yargs-parser-3d12b81a'\nnpm ERR!      errno: -13,\nnpm ERR!      code: 'EACCES',\nnpm ERR!      syscall: 'rename',\nnpm ERR!      path:\nnpm ERR!       '/usr/local/lib/node_modules/.staging/npm-d8268123/node_modules/yargs-parser',\nnpm ERR!      dest: '/usr/local/lib/node_modules/.staging/yargs-parser-3d12b81a' },\nnpm ERR!   stack:\nnpm ERR!    'Error: EACCES: permission denied, rename \\'/usr/local/lib/node_modules/.staging/npm-d8268123/node_modules/yargs-parser\\' -> \\'/usr/local/lib/node_modules/.staging/yargs-parser-3d12b81a\\'',\nnpm ERR!   errno: -13,\nnpm ERR!   code: 'EACCES',\nnpm ERR!   syscall: 'rename',\nnpm ERR!   path:\nnpm ERR!    '/usr/local/lib/node_modules/.staging/npm-d8268123/node_modules/yargs-parser',\nnpm ERR!   dest: '/usr/local/lib/node_modules/.staging/yargs-parser-3d12b81a',\nnpm ERR!   parent: 'nrm' }\nnpm ERR! \nnpm ERR! The operation was rejected by your operating system.\nnpm ERR! It is likely you do not have the permissions to access this file as the current user\nnpm ERR! \nnpm ERR! If you believe this might be a permissions issue, please double-check the\nnpm ERR! permissions of the file and its containing directories, or try running\nnpm ERR! the command again as root/Administrator.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2020-08-18T13_12_43_757Z-debug.log复制代码\n\n\n已经尝试过chmod，chown，sudo，chgrp，均无效。\n请问有精于Linux的同志指教一下吗？\n（我的Node是make install安装的）",
    "replies": [
        {
            "author": "洞穴夜莺",
            "timestamp": 1597760940,
            "txt_content": "npm不需要sudo\n你运行的命令是啥？"
        },
        {
            "author": "RarityEG",
            "timestamp": 1597761480,
            "txt_content": "洞穴夜莺 发表于 2020-8-18 22:29\nnpm不需要sudo\n你运行的命令是啥？\nnpm i -g nrm\n这个"
        },
        {
            "author": "夕兽",
            "timestamp": 1597796040,
            "txt_content": "尝试使用官方给出的解决方案https://docs.npmjs.com/resolving ... g-packages-globally\n\n\n或者尝试以下命令\nsudo chown -R $USER /usr/local\n复制代码其中的$USER是Linux中的环境变量，输出用户名。此命令需管理员执行\n\n祝楼主愉快~"
        },
        {
            "author": "RarityEG",
            "timestamp": 1597821720,
            "txt_content": "夕兽 发表于 2020-8-19 08:14\n尝试使用官方给出的解决方案https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing ...\n均尝试过，均无效\n（而且即使是就地安装也不行）"
        }
    ]
}