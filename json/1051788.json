{
    "title": "[全版本]原版指令反作弊（主要是飞行）",
    "author": "generaja",
    "replyCount": 16,
    "timestamp": 1590581700,
    "txt_content": " 本帖最后由 generaja 于 2020-5-27 22:53 编辑 \n\n网络上没有一套好用的反作弊飞行的指令教程，因此那就自己来呗~\n现研究成果：普遍的作弊手段都是更改OnGround玩家的nbt标签来实现大量作弊功能，或者以此为开头和结尾\n可应用为：NoFall, 水上行走，幽灵(暂时只研究了这些，因为我主要针对于高速飞行卡服)\n那么可能有人要问了，应用里没有防飞行啊？\n别急，先慢慢来看\n\n\n\n\n4VTYPA~_`ULVPDY5JJCPV{R.jpg (11.81 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-27 19:58 上传\n\n\n\n\n\n核心:OnGround→玩家nbt标签，可被命令方块检测划重点：当玩家在地面上时OnGround:1b          当玩家在空中时OnGround:0b\n命令主要成分：飞行计分板是flyonecm，就是自动记录玩家在空中移动距离的计分板scoreboard players set @a[score_飞行_min=200] 飞行 0 {OnGround:1b}\nscoreboard players set @a[score_飞行_min=200] 飞行 0 {ActiveEffects:[{Id:25b}]}\nkill @a[score_飞行_min=3000]\nscoreboard players set @a[score_飞行_min=3000] 飞行 0\n复制代码这个就是最最最简单的防飞行指令，但是这不是很有效，因为它只检测空中移动距离注意：大多数的外挂对此免疫命令改进：让它可以检测所(ying)有(gai)作弊飞行<font size=\"4\">scoreboard players tag @a[tag=!地面] add 地面 {OnGround:1b}\nscoreboard players tag @a[tag=地面] remove 地面 {OnGround:0b}\n/execute @a[tag=地面] ~ ~ ~ detect ~ ~-1 ~ air 0 execute @s ~ ~ ~ detect ~1 ~-1 ~1 air 0 execute @s ~ ~ ~ detect ~1 ~-1 ~-1 air 0 execute @s ~ ~ ~ detect ~-1 ~-1 ~-1 air 0 execute @s ~ ~ ~ detect ~-1 ~-1 ~1 air 0 execute @s ~ ~ ~ detect ~1 ~-1 ~ air 0 execute @s ~ ~ ~ detect ~ ~-1 ~1 air 0 execute @s ~ ~ ~ detect ~-1 ~-1 ~ air 0 execute @s ~ ~ ~ detect ~ ~-1 ~-1 air 0 kill @s\nscoreboard players set @a[score_飞行_min=200] 飞行 0 {OnGround:1b}\nscoreboard players set @a[score_飞行_min=200] 飞行 0 {ActiveEffects:[{Id:25b}]}\nkill @a[score_飞行_min=3000]\nscoreboard players set @a[score_飞行_min=3000] 飞行 0</font>复制代码\n凭什么要说检测所(ying)有(gai)作弊飞行呢\n\n\n\n\n80Z{7QC4%8X6S3IQ(H}]22F.gif (1.67 KB, 下载次数: 1)\n\n下载附件\n\n2020-5-27 20:08 上传\n\n\n\n\n\n     因为在研究的时候发现，开启nofall的作弊玩家在飞行时，OnGround标签会一直变化，所以服务器认为这个空中的玩家是在地面上，飞行的计分板就不会加分。\n\n      而如果不开nofall，玩家的作弊飞行可以飞，但是移动10格的距离飞行的加分就是几千，通过不断地测试：正常玩家从255高度疾跑跳落到4层，飞行的分数大致是2800。\n      新加的第三条指令就是检测拥有‘地面’tag的玩家的脚下是不是空气，是空气则kill\n      以2800的正常玩家分数为限制设置为3000的分数，大致实践为：作弊飞行玩家飞行20格左右就会kill，而普通玩家正常的跑跳造成的分数会被这条指令清零↓scoreboard players set @a[score_飞行_min=200] 飞行 0 {OnGround:1b}\n看到这里应该知道怎么对付水上行走等作弊了无非是把air换成water，正常玩家进入水里的OnGround是0b对于幽灵等，检测原理是如此，但我没有细致去考虑，我做这些主要是为了防止服务器被高速飞行炸服。\n\n\n欢迎各位指令大佬前来指正和帮忙研究理论上是全版本通用，我只在1.12测试过，1.12以上的版本的命令可能更简单些可惜我并不清楚\n\n\n\n后记:我是用WWE和水影作为作弊手段进行的检测，其他的作弊我不太清楚，但我觉得原理应当相同。玩家的nbt格式还有好多未被发现，网络上甚至wiki也没有对此的说明（要么我没看见）,希望以后能开发更多，这对于纯净服是一个大大的福音，不需要插件或者mod即可限制玩家的作弊。\n",
    "replies": [
        {
            "author": "BBS-xiaoyiMC",
            "timestamp": 1594702440,
            "txt_content": "666啊，刚刚就在找这个"
        },
        {
            "author": "kunkun520",
            "timestamp": 1596026400,
            "txt_content": "mcbbs有你更精彩！！！"
        },
        {
            "author": "隔壁老王在练腰A",
            "timestamp": 1596035700,
            "txt_content": "学习一下.   "
        },
        {
            "author": "lmess_him",
            "timestamp": 1596105480,
            "txt_content": "太专业了~~~~~~~~~~~~"
        },
        {
            "author": "diao_102",
            "timestamp": 1596128880,
            "txt_content": "这肯定可以针对一下私服的外挂，真的不错"
        },
        {
            "author": "a14477095460",
            "timestamp": 1596150480,
            "txt_content": "6666666"
        },
        {
            "author": "私‘’恋",
            "timestamp": 1596289140,
            "txt_content": "666啊，刚刚就在找这个"
        },
        {
            "author": "梦护",
            "timestamp": 1596342420,
            "txt_content": "漂亮，这样开房间再也不用担心会有人开挂了"
        },
        {
            "author": "纳尔么？",
            "timestamp": 1596513420,
            "txt_content": "反作弊的飞行感觉每个服务器都有，一直飞就出Flying出去"
        },
        {
            "author": "TorkenCommander",
            "timestamp": 1596749280,
            "txt_content": "主要是放命令方块放多了反而比\n反作弊的占用还要高,这就导致了\n装一个插件的性能比放命令系统组\n还要好,所以尽量压缩系统组\n1.13+的指令真不难,掌握好格式\n能做出来的系统比1.12-的还要强大"
        },
        {
            "author": "永爱不忘",
            "timestamp": 1597735320,
            "txt_content": "很实用   严厉惩戒作弊行为"
        },
        {
            "author": "3346673454",
            "timestamp": 1597802100,
            "txt_content": "谁能帮我整合一下实在看不懂\n"
        },
        {
            "author": "冯锦龙",
            "timestamp": 1597824060,
            "txt_content": "这个东西坐船移动会被踢，不知道什么情况"
        },
        {
            "author": "测姐",
            "timestamp": 1597826100,
            "txt_content": "黑不错，给新手用，非常实在"
        },
        {
            "author": "王利尧",
            "timestamp": 1597900080,
            "txt_content": "学到了，谢谢作者"
        },
        {
            "author": "不忘吃心",
            "timestamp": 1598078640,
            "txt_content": "干得好 严厉打击作弊\n"
        }
    ]
}