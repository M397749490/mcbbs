{
    "title": "[已解决]Bukkit插件Yaml编码问题",
    "author": "余子龙123",
    "replyCount": 2,
    "timestamp": 1560599100,
    "txt_content": " 本帖最后由 余子龙123 于 2019-6-16 12:21 编辑 \n\n请问Bukkit的YamlConfiguration读取和保存都是Unicode，怎么改为UTF-8呢？有没有大佬能帮忙重写一下，谢谢了",
    "replies": [
        {
            "author": "lgou2w",
            "timestamp": 1560616320,
            "txt_content": "使用 InputStreamReader 和 OutputStreamWriter 来读取和保存自定义编码文本。\n// 用 UTF-8 编码保存\nYamlConfiguration yaml = new YamlConfiguration();\nyaml.setString(\"test\", \"UTF-8编码例子\");\nString data = yaml.saveToString(); // 将 yaml 保存为字符串\nFileOutputStream fos = new FileOutputStream(new File(\"D:/test.yaml\")); // 输出文件流\nOutputStreamWriter writer = new OutputStreamWriter(fos, Charset.forName(\"UTF-8\")); // 用 UTF-8 编码包装输出流写\nwriter.write(data); // 写入数据\nwriter.flush(); // 提交缓冲区内容\nwriter.close(); // 关闭写流复制代码// 用 UTF-8 编码读取\nFileInputStream fis = new FileInputStream(new File(\"D:/test.yaml\")); // 输入文件流\nInputStreamReader reader = new InputStreamReader(fis, Charset.forName(\"UTF-8\")); // 用 UTF-8 编码包装输入流读\nYamlConfiguration yaml = YamlConfiguration.loadConfiguration(reader); // 从输入流读加载 Yaml 配置\nyaml.getString(\"test\"); // ->> UTF-8编码例子\nreader.close(); // 关闭读流\n复制代码\n流的这些 close 方法记得捕获 try catch 异常"
        },
        {
            "author": "余子龙123",
            "timestamp": 1560658620,
            "txt_content": "lgou2w 发表于 2019-6-16 00:32\n使用 InputStreamReader 和 OutputStreamWriter 来读取和保存自定义编码文本。\n多谢，解决了"
        }
    ]
}