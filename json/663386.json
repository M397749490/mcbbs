{
    "title": "Spigot插件开发教程-配置文件",
    "author": "彪悍的新手",
    "replyCount": 3,
    "timestamp": 1484574240,
    "txt_content": "\n3、配置文件\n万年大坑终于填了一点hhh\n参考教程：官方Wiki配置页面（推荐）\n上面举的例子是布尔型的\n\n1、创建配置文件\n\n\n\n\n\n1.png (22.33 KB, 下载次数: 4)\n\n下载附件\n\n2017-1-16 20:48 上传\n\n\n\n\n\n和创建plugin.yml一样的方法，只不过是\nconfig.yml复制代码\n里面就可以输入配置了，格式是：\n配置名: 参数复制代码\n例如：\nMessage: 1234567复制代码\n\n\n2、在插件中读入配置\n\n首先，在你的类文件下方加入\nFileConfiguration config = getConfig();复制代码\n然后就变成了这样（省略了不必要的部分）：\n\n…\npublic class BattntPluginMain extends JavaPlugin implements Listener {\n        \n        FileConfiguration config = getConfig();\n\n        …\n}复制代码\n比如你想让服务器开启的时候输出配置里Message的部分\n你就要再增加一个地方：\ngetLogger().info(config.getString(\"Message\"));复制代码\n这个你可以加在public void onEnable()（开始时的操作）里面，也就是\npublic void onEnable() {\n                getLogger().info(config.getString(\"Message\"));\n    }复制代码\n其中，config.getString(\"Message\")是代表读入配置的\n其他则是输出去的，这个config.getString(\"Message\")放在别的地方也可以的。\n这个getString就是读入string（字符串）\n可以为“123456”、“苟利国家生死以”等等\n还有getBoolean（读入布尔型[bool]，值为true或false）之类的。\n这个可以用在各种方面，例如if(config.getBoolean(\"gender\"))\n都知道if是如果的条件分支语句\n这时候如果配置里有gender这个配置，那么就看这个配置\n这个配置是布尔型，只有两种可能（True/False）\n而if的特点是如果后面表达式为true就执行，否则执行else（没有就跳过）\n所以这样就可以看那边的输入时true还是false了，可以做些奇怪的东西。\n\n\n3、用插件写出配置\n\n如果你用上面的语句，你会惊奇的发现这个插件并不会在插件文件夹生成配置文件\n虽然能够正常输出\n这是因为你还没有写出配置文件\n插件初始化要生成一个文件夹，里面有各种配置文件\n同样在public void onEnable()加入代码，使其变为这样：\n@Override\n    public void onEnable() {\n                config.addDefault(\"Message\", \"1234567\");\n            config.options().copyDefaults(true);\n            saveConfig();\n                \n                getLogger().info(config.getString(\"Message\"));\n    }复制代码\n这里的\nconfig.addDefault(\"Message\", \"1234567\");\nconfig.options().copyDefaults(true);\nsaveConfig();复制代码\n就是写出文件的代码了\nconfig.addDefault(\"Message\", \"1234567\");\n就是设置Message的默认值为1234567，当没有文件时就会写入这个默认值\n格式为config.addDefault(\"配置地址\", 内容);\n值得一提的是，这个配置地址并不是配置名，如果有配置文件这样写\ngender: \n    man: true\n    woman: false复制代码\n那么“man”这个内容的配置地址就为\ngender.man\n其他的代码就不用多做介绍了，都是有关写文件的内容。\n最后的代码就是（省去了前部分）：\n\npublic class BattntPluginMain extends JavaPlugin{\n        \n        FileConfiguration config = getConfig();\n        \n        @Override\n    public void onEnable() {\n                config.addDefault(\"Message\", \"1234567\");\n            config.options().copyDefaults(true);\n            saveConfig();\n                \n                getLogger().info(config.getString(\"Message\"));\n    }\n\n    @Override\n    public void onDisable() {\n            //关闭插件时自动发出\n    }\n}\n复制代码\n了\n这个代码的功能就是输出配置文件中“Message”项的值（后台），默认的“Message”为1234567。\n\n\n[groupid=1009]The Command's Power[/groupid]",
    "replies": [
        {
            "author": "我真的笑了",
            "timestamp": 1484648580,
            "txt_content": "喂，这么久了才填坑"
        },
        {
            "author": "彪悍的新手",
            "timestamp": 1484652060,
            "txt_content": "我真的笑了 发表于 2017-1-17 18:23\n喂，这么久了才填坑\n这几天月有点事"
        },
        {
            "author": "jrx233",
            "timestamp": 1582532700,
            "txt_content": "感谢楼主分享教程"
        }
    ]
}