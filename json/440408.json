{
    "title": "关于forge指令的权限问题",
    "author": "sahdsg",
    "replyCount": 3,
    "timestamp": 1430478960,
    "txt_content": " 本帖最后由 sahdsg 于 2015-5-1 19:17 编辑 \npublic class ChangepwCommand extends CommandBase {\n\n        public String getCommandName() {\n                return \"changepw\";\n        }\n\n        public String getCommandUsage(ICommandSender icommandsender) {\n                return \"/changepw <旧密码> - 清除密码\";\n        }\n        \n    @Override\n        public List getCommandAliases() {\n                return Arrays.asList(\"changepassword\",\"改密码\",\"gaimima\");\n        }\n        \n    \n        @Override\n        public void processCommand(ICommandSender icommandsender, String[] astring) {\n            \n                        \n                if (astring.length < 1) {\n                        icommandsender.sendChatToPlayer(ChatMessageComponent.createFromText(\"[ForgeAuth] 请输入: /changepw <旧密码>\"));\n                } else if(Auth.checkPass(icommandsender.getCommandSenderName(), Auth.hash(Auth.hash(astring[0])))) {\n                    File f = new File(Vars.userfolder, icommandsender.getCommandSenderName());\n                        if (f.exists()) {\n                                f.delete();\n                                icommandsender.sendChatToPlayer(ChatMessageComponent\n                                                .createFromText(\"密码已重置在下一次登录时修改\"));\n                        } \n                }else{\n                        icommandsender.sendChatToPlayer(ChatMessageComponent\n                                        .createFromText(\"§4密码错误\"));\n                }\n        }\n\n    @Override\n    public int getRequiredPermissionLevel()\n    {\n            return 0;\n    }\n    \n    @Override\n    public boolean canCommandSenderUseCommand(ICommandSender icommandsender)\n    {\n            return true;\n    }\n\n}复制代码\n\n是一个登录mod的功能\n让玩家在服务器里输入这个指令可以删除密码文件重新注册\n问题是使用的时候总是提醒没有权限给了\n再试op才能用（在mcp里的服务端上测试没这个问题，在cauldron上试就出这问题了\n\n请问有什么办法弄到让普通玩家也能用吗\n",
    "replies": [
        {
            "author": "陈海鑫123",
            "timestamp": 1430555160,
            "txt_content": "把mod下载地址给我，我看看什么样的"
        },
        {
            "author": "sahdsg",
            "timestamp": 1430556480,
            "txt_content": "陈海鑫123 发表于 2015-5-2 16:26\n把mod下载地址给我，我看看什么样的\n已经解决了\n这是自制mod\ncauldron加载mod的时候会把指令权限写出来"
        },
        {
            "author": "740501486",
            "timestamp": 1439535420,
            "txt_content": "都看不懂 只能百度翻译了  555  不过我很喜欢"
        }
    ]
}