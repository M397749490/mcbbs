{
    "title": "[1.15+] 传送到远处被 forceload 的区块时候发生下陷",
    "author": "tineseack_bk",
    "replyCount": 8,
    "timestamp": 1587558000,
    "txt_content": " 本帖最后由 tineseack_bk 于 2020-4-22 20:52 编辑 \n\n如题，操作过程如下：\n1. 将很远的（500+ 格）区块 A 加入 forceload 列表\n2. tp 到该区块\n\n结果：玩家下陷，比如传送至 y=5 会直接掉进虚空，看起来就像那地方的方块不存在一样……\n\n单人多人均存在此情况。无论是直接 tp 坐标还是 tp 该区块的某个实体均有发生。有的时候 execute 该区块一个实体 run tp 玩家 ^ ^ ^1 这种命令甚至导致玩家直接飞上天\n飞天那个说实话我怀疑是 /tp 本身的问题，比如我在 y=20 tp 到 y=25 它就会让我“往上走”然而不明原因使其并没有停止反而是让我继续往上，然而怎么想这都很扯淡\n\n求分析及解决方法\n",
    "replies": [
        {
            "author": "1041159637",
            "timestamp": 1587559260,
            "txt_content": "这个真的不是bug吗……\n正常没被forceload 的区块会不会出现你描述的情况？"
        },
        {
            "author": "tineseack_bk",
            "timestamp": 1587559800,
            "txt_content": " 本帖最后由 tineseack_bk 于 2020-4-22 20:54 编辑 \n1041159637 发表于 2020-4-22 20:41\n这个真的不是bug吗……\n正常没被forceload 的区块会不会出现你描述的情况？\n相应的我也测试过没有 forceload 的情况\n结果是我很准确的到达了我要的 y 轴点\n比如 tp x 5 z 我就确实到了 y=5 的地方即使那里是非空气\n你可以测试一下，我的版本是 1.15.2，还没有试过其他的版本"
        },
        {
            "author": "深拥v",
            "timestamp": 1587561300,
            "txt_content": "开飞行，飞起来再tp，应该不会掉\n感觉你forceload失败了，或者说不完全成功"
        },
        {
            "author": "tineseack_bk",
            "timestamp": 1587562320,
            "txt_content": " 本帖最后由 tineseack_bk 于 2020-4-22 21:57 编辑 \n深拥v 发表于 2020-4-22 21:15\n开飞行，飞起来再tp，应该不会掉\n感觉你forceload失败了，或者说不完全成功\n这是游戏地图没法这么干\n我试过给 levitation 没用的，还会导致飞上天\n如果是 “forceload” 失败又如何解释没有 forceload 反而正常呢\n\n\n"
        },
        {
            "author": "深拥v",
            "timestamp": 1587564060,
            "txt_content": "tineseack_bk 发表于 2020-4-22 21:32\n这是游戏地图没法这么干\n我试过给 levitation 没用的，还会导致飞上天\n如果是 “forceload” 失败又如何解 ...\n你现在的状态：\n玩家直接过去了然后下落\n区块紧跟着完全加载\n这时候玩家下落一定距离了\n无force：\n区块加载完了再把玩家丢过去\n======\n仅根据经验做出的设想"
        },
        {
            "author": "tineseack_bk",
            "timestamp": 1587571560,
            "txt_content": "InitAuther97 发表于 2020-4-22 23:43\nMC的设计很尿性，如果你仔细观察过一些现象，你会发现位移的计算客户端全权负责，服务器只管速度是不是过快 ...\n果然如此，和我一开始遇到这个问题时候的想法一样\n所以解决方法是给客户端一个适合的时间加载地形么\n这个时间应该是 ＞1tick 的吧，我还得做一个 timer 来保证该区块在客户端真的加载好了？"
        },
        {
            "author": "tineseack_bk",
            "timestamp": 1587616200,
            "txt_content": "InitAuther97 发表于 2020-4-23 09:03\n据我所知不好解决，还是给mj发个bugreport吧。\n我已经用旁观者解决\n旁观者模式下不会发生这种情况\n谢谢提供分析"
        },
        {
            "author": "深拥v",
            "timestamp": 1587616980,
            "txt_content": "tineseack_bk 发表于 2020-4-23 12:30\n我已经用旁观者解决\n旁观者模式下不会发生这种情况\n谢谢提供分析\n是的，旁观者不会自动下落hhh"
        }
    ]
}