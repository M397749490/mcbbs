{
    "title": "探测玩家使用地图加强版【原创】",
    "author": "Set_Sail",
    "replyCount": 7,
    "timestamp": 1434944580,
    "txt_content": " 本帖最后由 Set_Sail 于 2015-6-22 11:48 编辑 \n\n      大家好，我是新人扬帆，探测玩家使用地图贰逼已经发过了，连接，可是如果按照他的方法，就会出现以下的bug玩家背包中不能有地图，否则立即清除，并给予一颗钻石在多人游戏里，@p会导致偏差，也许你使用了地图，另一个人拿到了钻石\n所以我做的加强版已经修复了这些bug还是有bug，好吧下面进入教程：水沝渁淼渁沝水\n\n剧情：\n    Lz来到了他的秘密基地。\n\n他打开了箱子，发现里面有奇怪的五样东西，\n\n这五样东西都有自定义名字\n\nLz把第一个拿在手上右键了一下他的背包里突然多了一套铁套\n\n\nLz发疯了似的右键了一下钻石套，背包里又多了一套钻石装备。Lz马上看了第三个，升级，Lz果断地按了右键，等级瞬间升了一级，呵呵Lz高兴过度，第四个看都没看，就按了右键，…………然后，\n\n\n重生后Lz又来到了这里，他看了看第五个，作死，Lz本来是想扔掉他的，但是他无法阻止这强大的好奇心，右键，\n       尼玛我肿么掉虚空了！\n\n先来一幅全景图：\n\n\n细心（其实不需要细心）的坛友会发现这是由五个单位组成的\n我们来说其中一个（右下角）\n\n拉杆是开关（现在是开启状态）\n首先我们需要一个变量为dummy的记分版，就叫233吧\n/scoreboard objectives add 233 dummy复制代码然后我们逐步解说\n\n\n红色的命令方块是PM的超频，/summon FallingSand ~ ~0.5 ~ {Block:redstone_block}复制代码然后绿色的就是探测玩家手上有没有拿着有自定义名字的空地图，有就给出输出，指令testfor @a {SelectedItem:{id:\"minecraft:map\",tag:{ench:[],display:{Name:钻石套}}}}复制代码大家看见我这里写着钻石套，duang然，你们可以写其他的，那个ench:[]是为了给空地图一个附魔光环。紫色和蓝色的就是放置红石块和方块的指令，分别是/setblock X Y Z(铁块) redstone_block复制代码/setblock X Y Z(铁块) iron_block复制代码\n也就是玩家手上如果拿着指定的空地图，绿色的命令方块就会输出 激活紫色的命令方块在左边的铁块上替换成红石块（插在铁块上的红石火把不受影响），因为红石块本身是个充能方块，所以红石火把会熄灭，其实纳个红石块下面还有一个命令方块，还是在发张图吧\n\n就是黄色的那个，指令：/scoreboard players set @a 233 1 {SelectedItem:{id:\"minecraft:map\",tag:{ench:[],display:{Name:钻石套}}}}复制代码这条指令的意思就是把手上拿着自定义空地图的玩家的233设置为1\n\n如果没有玩家拿着空地图，绿色命令方块就没有输出，以致蓝色命令方块下面的红石火把重新亮起来激活蓝色命令方块，然后那个红石块就会变成铁块，插在上面的红石火把就会亮，激活橙色的命令方块，指令：/scoreboard players set @a[score_233=1,score_233_min=1] 233 0复制代码就是把233分数为一的玩家的分数设置为零\n然后到了另一边\n图：\n这里又是一个高频，不过没有那么快了，太快比较器（没亮的那个）似乎反应不过来\n高频连接的命令方块，指令：clear @a[score_233=1,score_233_min=1] filled_map复制代码就是清空233分数为1的玩家背包里的地图（不是空地图），比较器输出，连接的是需要执行的指令，这里的四个命令方块是give 233分数为1的玩家 钻石套，最后的是把233分数为一的玩家的分数设置为零。\n其他单位亦是如此，只是把某些改改就行了，举个栗子，你拿着作死，分数就变成3，拿着自杀，分数就变成4\n\nbug列表：\n有点延迟，手速快点分数就不会变，自然也不会执行指令\n有时右键一下什么事也没发生（地图没了，也没有执行指令）\n如果您是一个命令方块大神，我恳请您帮我改进一下这个机器。\n\n我看见伸手党脸上洋溢着灿烂的笑容：\n 金粒，金粒！ \n",
    "replies": [
        {
            "author": "lxq54sb123",
            "timestamp": 1434946680,
            "txt_content": "尼玛看不懂"
        },
        {
            "author": "末影的灵魂",
            "timestamp": 1434946680,
            "txt_content": "居然有剧情！让帖子更生动吗？"
        },
        {
            "author": "从前的我",
            "timestamp": 1434946800,
            "txt_content": "新手表示看不懂"
        },
        {
            "author": "Danger_S.M",
            "timestamp": 1434947520,
            "txt_content": "我是帖子第一个看懂的"
        },
        {
            "author": "pca006132",
            "timestamp": 1434967920,
            "txt_content": "小弟看了一遍，觉得能改进的地方有几个\n第一，楼主是用testfor之后接驳scoreboard players set的指令，然而我觉得没有必要用testfor,因为楼主也用了那个NBT在scoreboard players set那里，加入了testfor只会令整个系统变得更慢\n第二，楼主可能可以加入一个计分板，用以探测玩家有没有使用地图，那个判据是 stat.useItem.minecraft.map，当这个计分板的分数是1，而且233的分数是0才使用那个clear的指令，之后就把这个计分板的分数设置为0\n第三，我觉得楼主可以在clear那里限制一下那个数量，数量在正常情况下应该是1的\n第四，我觉得楼主可以整个系统用高频，因为经过我以上的修改之后，那些指令应该都不需要用到比较器这些延迟比较高的元件。而且，这个系统用高频可以减少bug（那个关于玩家手速的bug）。然而，用高频需要注意那个微观延迟\n\n现在的bug：\n不能避免误删别的地图的情况\n会比较卡（高频）\n用的计分板会比较多\n\n然而我并没有想到更好的方法\n唉，人老了就是这样，脑子不管用\n{:10_528:}"
        },
        {
            "author": "飞之卡比",
            "timestamp": 1434970140,
            "txt_content": "哪怕你没有设置回复可见，但是我也要回复，这作品真的很不错！"
        },
        {
            "author": "Set_Sail",
            "timestamp": 1435327920,
            "txt_content": "pca006132 发表于 2015-6-22 18:12\n小弟看了一遍，觉得能改进的地方有几个\n第一，楼主是用testfor之后接驳scoreboard players set的指令，然而 ...\n1.其实用和不用是差不多的，我是没看粗什么来2332.为什么我试了没用？\n3.似乎无法限定数量，clear指令是先损害值再数量，由于地图损害值随时在变，不打损害值就不能打数量诶哟好烦\n4.clear那里一定要用比较器，不然他会一直给。\n5.如4，还是不能全部用高频\n\n"
        }
    ]
}