{
    "title": "服务器tps 8 求拯救，科技空岛，有timings报告",
    "author": "jfyddb",
    "replyCount": 11,
    "timestamp": 1585740840,
    "txt_content": "https://timings.spigotmc.org/?url=uwigefalab\n\n\n\n\nQQ截图20200401193338.png (60.82 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-1 19:34 上传\n\n\n\n\n\n服务器配置\n\n\n\n\nQQ截图20200401193431.png (62.48 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-1 19:34 上传\n\n\n\n\n\n后台还有报错一直刷屏\n[19:33:56] [Server thread/ERROR]: Could not pass event EntityDamageByEntityEvent to GuoItemLoreCommand v2.1\norg.bukkit.event.EventException\n        at cc.uraniummc.eventexecutor.EventExecutorImp.execute(EventExecutorImp.java:25) ~[EventExecutorImp.class:1.7.10-R0.1-SNAPSHOT]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[RegisteredListener.class:1.7.10-R0.1-SNAPSHOT]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:508) [SimplePluginManager.class:1.7.10-R0.1-SNAPSHOT]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:493) [SimplePluginManager.class:1.7.10-R0.1-SNAPSHOT]\n        at org.bukkit.craftbukkit.v1_7_R4.event.CraftEventFactory.callEvent(CraftEventFactory.java:103) [CraftEventFactory.class:1.7.10-R0.1-SNAPSHOT]\n        at org.bukkit.craftbukkit.v1_7_R4.event.CraftEventFactory.callEntityDamageEvent(CraftEventFactory.java:598) [CraftEventFactory.class:1.7.10-R0.1-SNAPSHOT]\n        at org.bukkit.craftbukkit.v1_7_R4.event.CraftEventFactory.handleEntityDamageEvent(CraftEventFactory.java:466) [CraftEventFactory.class:1.7.10-R0.1-SNAPSHOT]\n        at org.bukkit.craftbukkit.v1_7_R4.event.CraftEventFactory.handleLivingEntityDamageEvent(CraftEventFactory.java:630) [CraftEventFactory.class:1.7.10-R0.1-SNAPSHOT]\n        at net.minecraft.entity.EntityLivingBase.damageEntity_CB(EntityLivingBase.java:1381) [sv.class:?]\n        at net.minecraft.entity.EntityLivingBase.func_70097_a(EntityLivingBase.java:891) [sv.class:?]\n        at net.minecraft.entity.monster.EntityMob.func_70097_a(EntityMob.java:71) [yg.class:?]\n        at com.rwtema.extrautils.block.BlockSpike.doPlayerLastHit(BlockSpike.java:351) [BlockSpike.class:?]\n        at com.rwtema.extrautils.block.BlockSpikeDiamond.func_149670_a(BlockSpikeDiamond.java:62) [BlockSpikeDiamond.class:?]\n        at net.minecraft.entity.Entity.func_145775_I(Entity.java:1068) [sa.class:?]\n        at net.minecraft.entity.Entity.func_70091_d(Entity.java:624) [sa.class:?]\n        at net.minecraft.entity.EntityLivingBase.func_70612_e(EntityLivingBase.java:1776) [sv.class:?]\n        at net.minecraft.entity.EntityLivingBase.func_70636_d(EntityLivingBase.java:2108) [sv.class:?]\n        at net.minecraft.entity.EntityLiving.func_70636_d(EntityLiving.java:388) [sw.class:?]\n        at net.minecraft.entity.monster.EntityMob.func_70636_d(EntityMob.java:36) [yg.class:?]\n        at net.minecraft.entity.monster.EntitySkeleton.func_70636_d(EntitySkeleton.java:172) [yl.class:?]\n        at net.minecraft.entity.EntityLivingBase.func_70071_h_(EntityLivingBase.java:1899) [sv.class:?]\n        at net.minecraft.entity.EntityLiving.func_70071_h_(EntityLiving.java:213) [sw.class:?]\n        at net.minecraft.entity.monster.EntityMob.func_70071_h_(EntityMob.java:41) [yg.class:?]\n        at net.minecraft.world.World.func_72866_a(World.java:2680) [ahb.class:?]\n        at net.minecraft.world.WorldServer.func_72866_a(WorldServer.java:811) [mt.class:?]\n        at net.minecraft.world.World.func_72870_g(World.java:2624) [ahb.class:?]\n        at net.minecraft.world.World.func_72939_s(World.java:2425) [ahb.class:?]\n        at net.minecraft.world.WorldServer.func_72939_s(WorldServer.java:636) [mt.class:?]\n        at net.minecraft.server.MinecraftServer.func_71190_q(MinecraftServer.java:951) [MinecraftServer.class:?]\n        at net.minecraft.server.dedicated.DedicatedServer.func_71190_q(DedicatedServer.java:461) [lt.class:?]\n        at net.minecraft.server.MinecraftServer.func_71217_p(MinecraftServer.java:806) [MinecraftServer.class:?]\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:665)\n\n",
    "replies": [
        {
            "author": "结城希亚",
            "timestamp": 1585740840,
            "txt_content": " 本帖最后由 结城希亚 于 2020-4-1 19:48 编辑 \n\n事件无法传达给插件，更新下插件看看行不行，不行的话用屏蔽报错插件屏蔽吧\n[综合|优化]Console Spam Fix —— 让控制台变得干净[1.7-1.15]\nhttps://www.mcbbs.net/thread-912870-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n\n\nConsoleSpamFix-1.8.2.jar\n(13.73 KB, 下载次数: 0)\n\n\n\n2020-4-1 19:43 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n20.70%          49.14%        202.29 s            24.57 ms         1.1               9.1k            tickTileEntity - TileCompressedTorcherino\n      15.79%         122.84%        154.35 s            61.42 ms         0.3               2.5k            tickTileEntity - TileDoubleCompressedTorcherino\n主要是机器导致的卡服，而罪魁祸首是加速火把（二重加速火把）配合机器简直把服务器卡到死\n建议让玩家少放点，或者禁用改为氪金物品（\n\n把服务端下spigot.yml文件里的max-tick-time数值改为5\n\n然后加上我这个插件，限制一下机器和加速火把就行了\n[管理]ChunkBlockLimit ——  可视化的区块限制插件[1.6-1.12]\nhttps://www.mcbbs.net/thread-984759-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n\n\n或者可以考虑提高下你机器CPU的主频，3GHz不是很够用，起码得4GHz\n这样对模组服的tps也有很大帮助"
        },
        {
            "author": "jfyddb",
            "timestamp": 1585741560,
            "txt_content": "结城希亚 发表于 2020-4-1 19:43\n事件无法传达给插件，更新下插件看看行不行，不行的话用屏蔽报错插件屏蔽吧\n[综合|优化]Console Spam Fix  ...\n谢谢大佬，再帮我看看timings呗"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1585741980,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-4-1 19:55 编辑 \n\n放心，服务器有的救\n难道你服务器内的加速火把是免费的吗?为什么还有富豪买得起压缩火把\n原因(2)\n1.Connection Handler事件(玩家做了的都算这个事件，没法优化)\n2.方块实体，压缩火把霸屏\n优化方案(5)\n1.在任务管理器中右键javaw.exe,转详细信息后右键javaw.exe将优先级改为实时,这可以增加cpu的占用率从而提升tps(但服务器重启后需要重新配置,建议配合计划任务)\n2.在bukkit.yml内设置max-tick-time\ntile: 15\n但是我建议，如果加速火把不是氪金而来的，直接ban掉或者没收，因为让加速火把消失是最好的解决办法\n3.安装模组方块限制插件，让加速火把一个区块最多用1个(?好像加速火把范围也接近1个区块了吧)\n4.在bukkit.yml中设置\nmonster-spawns: 3(如果设置过了就增加2)\n5.不如试试这个方案，可能是sponge专属，但建议你还是找一下吧服务器目录下的tileentities这个文件进去之后找到卡服的物品 默认是     \ntick-interval: 1\n改成5或者更高\n能有效的对症优化\n\n\n关于服务器报错，建议还是屏蔽吧\n[综合|优化]Console Spam Fix —— 让控制台变得干净[1.7-1.15]\nhttps://www.mcbbs.net/thread-912870-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n"
        },
        {
            "author": "jfyddb",
            "timestamp": 1585742340,
            "txt_content": "EmptyLava 发表于 2020-4-1 19:53\n放心，服务器有的救\n难道你服务器内的加速火把是免费的吗?为什么还有富豪买得起压缩火把\n原因(2)\n大佬\n服务器目录下的tileentities这个文件进去之后找到卡服的物品 默认是     \ntick-interval: 1\n改成5或者更高\n能有效的对症优化\n这个对加速火把也有优化效果吗，但是改了之后会有什么影响吗，比如加速效果变慢"
        },
        {
            "author": "结城希亚",
            "timestamp": 1585742460,
            "txt_content": "jfyddb 发表于 2020-4-1 19:59\n大佬\n服务器目录下的tileentities这个文件进去之后找到卡服的物品 默认是     \ntick-interval: 1\n会影响，而且影响非常大\n差不多原来速度的1/5吧"
        },
        {
            "author": "jfyddb",
            "timestamp": 1585742460,
            "txt_content": "结城希亚 发表于 2020-4-1 20:01\n会影响，而且影响非常大\n影响加速效果吗"
        },
        {
            "author": "jfyddb",
            "timestamp": 1585742580,
            "txt_content": "结城希亚 发表于 2020-4-1 20:01\n会影响，而且影响非常大\n差不多原来速度的1/5吧\n那也行呀，为了吸引人，新手礼包送了加速火把，用来装饰也不错"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1585742580,
            "txt_content": "jfyddb 发表于 2020-4-1 19:59\n大佬\n服务器目录下的tileentities这个文件进去之后找到卡服的物品 默认是     \ntick-interval: 1\n降低某个物品的工作频率\n\n某人在我timings分析帖下发的我至今还没测试过\n可能它只能在sponge上用\n\n至于会不会降低效率我不清楚(，所以我只是引用了一下\n有可能是几个tick之后更新一次机器，效率不变。也有可能是间隔变长，每次作用不变，效率降低"
        },
        {
            "author": "jfyddb",
            "timestamp": 1585742700,
            "txt_content": "EmptyLava 发表于 2020-4-1 20:03\n降低某个物品的工作频率\n\n某人在我timings分析帖下发的我至今还没测试过\n感谢大佬的回答，万分感谢，但是另外一个大佬比您先回答，我只好把最佳给另外一个大佬了，非常感谢您"
        },
        {
            "author": "jfyddb",
            "timestamp": 1585742880,
            "txt_content": "结城希亚 发表于 2020-4-1 19:43\n事件无法传达给插件，更新下插件看看行不行，不行的话用屏蔽报错插件屏蔽吧\n[综合|优化]Console Spam Fix  ...\n\n\n\n\nQQ截图20200401200710.png (83.54 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-1 20:07 上传\n\n\n\n\n最佳答案好像坏掉了，大佬我晚点给您最佳\n"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1585787700,
            "txt_content": "tiles太多了 外加你机器主频不太行 优化插件/mod也只能轻微台一些 要真想解决问题 花钱还是正道 推荐这个mod试试看https://www.mcmod.cn/class/1477.html"
        }
    ]
}