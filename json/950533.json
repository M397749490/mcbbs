{
    "title": "[教程][服务端]Geyser——一个架通基岩版和Java版的桥梁#Wiki翻译#完结",
    "author": "PQguanfang",
    "replyCount": 19,
    "timestamp": 1580641980,
    "txt_content": " 本帖最后由 PQguanfang 于 2020-2-29 09:52 编辑 \n\nGeyser Wiki （中文）\n\n\n除本人外，谢绝拿本贴地址作为你问我答版块的回答。\n\n多句嘴：官方Wiki模拟就情景是家用电脑使用Geyser开服，笔者将在文末添加在VPS/手机上使用Geyser的相关教程，还请多多注意。\n\n如果您觉得这篇教程不错，也欢迎您能够切换到电脑版对这篇教程进行评分，评分人气不会扣自己的哦。\n\n \nHome 主页 \n\nA bridge between Minecraft: Bedrock Edition and Minecraft: Java Edition.\n一个连接 我的世界:基岩版 和 我的世界:Java版 服务器的桥梁。\n\nCurrently supporting MC Bedrock v1.14.x and MC Java v1.15.2.\n当前支持 MC 基岩版 v.1.14.x 和 MC Java版 v.1.15.2。\n\nThe goal of Geyser is to bridge the Minecraft: Bedrock Edition and Minecraft: Java Edition by allowing Bedrock clients to join Java Edition servers. This project is still in development and not complete yet, so expect bugs.\nGeyser的目标是通过允许基岩版客户端加入Java版服务器来架通  我的世界:基岩版 和 我的世界:Java版。这项工程仍在开发并且没有完成，所以预期会存在BUG。\n\nWhat's Completed\n完成的内容 \n注意：此内容官方已作废，本人在此积极维护更新，仅供参考，因为官方更新速度较快。\n \nServer recognized in server list\n在服务器列表中，服务器会被识别出\nJoin detection from remote\n远程加入检测\nOnline mode/auth support\n在线模式/支持身份验证\nChat/command support\n支持聊天/指令\nScoreboard\n计分板\nInventory support\n支持背包\n   Inventory viewing\n   查看背包\n   NBT data\n   标签数据\n   Inventory movement (transactions)\n   背包移动（交易）（尚未完成）\nPlayer movement support\n支持玩家移动\nEntity support\n支持实体\nPlayer support\n支持玩家\nChunks\n区块\n   Block translation (may be missing mappings)\n   方块翻译（或许缺少一些映射）\n   Block updates\n   方块更新\n   Block entities\n   方块类实体\n  Extra data\n  额外数据\n  Biome colors\n  生物群系颜色（最新版开始测试）\nBlock break/place support\n支持方块破坏/放置\n\nSetup\n设置 \n \nGeyser is a standalone program, meaning you DO NOT install it as if it were a plugin. It simply works as a proxy, and needs its own directory/configuration files. Bedrock clients will join through Geyser and it will handle all the packet translations.\nGeyser是一个独立程序，这意味着你不要像一个插件一样安装它。它只是充当代理，并且需要自己的目录/配置文件。 基岩版客户端将通过Geyser加入，它将处理所有数据包转换。\n\nTehPiggeh does a great job of explaining how to set up Geyser, but if you prefer to read through it yourself, the installation instructions are right below.\nTehPiggeh在解释如何设置Geyser方面做得很好，但是，如果您想自己通读它，则安装说明在下面。\n笔者注：视频地址\nhttps://www.youtube.com/watch?v=OmLxwl7_UzQ\n\nInstalling\n安装 \n \nDownload a jar of Geyser from the build server.从构建服务器上下载Geyser的jar文件。\n笔者注：构建服务器地址\nhttps://ci.nukkitx.com/job/Geyser/job/master/\n\nCreate a new folder for Geyser, and drop the jar in there.\n为Geyser创建一个新的文件夹，然后将jar文件丢置在那里。\n\n笔者注：在下方有对bat文件内容做出教程。\nCreate a new bat or startup script, similar to ** you'd use for a Bukkit server, and take a look at this page for what to put into it.\n创建一个bat或者启动脚本，这与你使用一个Bukkit服务器很相似，然后查看这个页面来进一步了解你需要安装的内容。\n\nRun the startup script/bat, and all the necessary files for Geyser will be created.\n运行启动脚本/bat，所有的Geyser必需文件都将会创建。\n\n笔者注：若在这一步出现问题，可在下方查找答案，已对此做出教程。\nOpen up Minecraft: Bedrock Edition and in the Friends tab, Geyser should show up there. If it does not show up, just add your IPv4 as an external server.\n打开 我的世界:基岩版 ，然后打开 好友 选项卡，Geyser应该会在那里展示。如果那里没有展示，只需添加你的IPv4作为一个额外的服务器。（笔者注：这是直译，理解起来就是用户自己在服务器选项卡中新建一个IP为自家IPv4的服务器）\n\nFor more information, take a look at the Setting up the Config page, and the How Geyser Works page.\n需要更多信息，请查看设置配置页面，和Geyser是如何工作的页面。\n\nPlugins\n插件 \n\nPlease note, Geyser will NOT run any Bukkit, Spigot, BungeeCord or Nukkit plugins! Geyser has its own plugin API, and if you're interested in developing plugins, take a look at the Plugin API page.\n请注意，Geyser将不会运行任何Bukkit，Spigot，BungeeCord或者Nukkit插件！（你把PocketMine扔哪去了/滑稽）Geyser拥有它自己的插件API，并且如果你对开发Geyser插件感兴趣，请查看PluginAPI页面。\n\nGeyser Home页面改动 \n删除：Plugins 插件\n新增：\nHow Does it Work?\n它是如何工作的？\n\nGeyser works as a translator, translating both the incoming and outgoing packets to a format both the client and server can understand. With this being said, it emulates a Minecraft: Java Edition client, so the server actually thinks you're joining from Java Edition. Regardless of the server or what plugins it has installed, you can join it with Geyser (as long as the server supports the latest Minecraft version).\nGeyser像一个翻译官那样工作，将传入和传出的数据包翻译为客户端和服务端（服务器） 都能理解的格式。这样说来，它模拟了Minecraft:Java版本客户端，因此服务器实际上认为您是从Java版本加入的。无论是什么服务器以及它安装了什么插件，您都可以将其与Geyser连接（只要服务器支持最新的Minecraft版本，即1.15.2）。\n\nCommon Issues 常见错误 \n\nCommonly, people have issues with Geyser not showing up in their server list or run into similar issues. This page contains a few common issues people may encounter that you might have as well.\n通常地，用户在使用Geyser的时候会有一些异常。如在他们的服务器列表中没有展示他们的Geyser服务器，或者遇到其他类似的异常情况。这个页面将会带来部分常见的错误，这些错误你也可能会遇到。\n\n笔者注：这里是Geyser官方模拟用户在用家用电脑时情景，使用VPS小伙伴可以理解为你所开设的Geyser服务器在基岩版客户端的服务器列表中显示为离线状态。\n\nGeyser Not Showing Up in Server List\n使用Geyser开设的服务器没有在服务器列表中展示 \n\nThis is a very common occurence and is usually one of a few problems nearly every time.\n这是一种非常常见的现象，几乎每次都是少数的几个常见问题之一。\n\nA1:Loopback Restrictions Not Lifted\nA1:环回限制未解除\n\nThis only affects people trying to join Geyser from the same computer it's hosted on\n这只会影响那些试图从Geyser服务端所在的同一台计算机来加入Geyser所开设服务器的人\n即：A1情况只会在你加服和开服是在同一个设备上才会遇到。\n\nThis is an issue caused by Loopback restrictions not being lifted. By default, Microsoft Apps have this restriction on all their apps for local connections. You can lift it by typing the following in Windows PowerShell in administrator mode:\n这是由于没有取消环回限制而导致的问题。默认情况下，Microsoft应用程序对其用于本地连接的所有应用程序都有此限制。您可以在管理员模式下的Windows PowerShell中键入以下命令来提升它：（本句机翻） \n\nCheckNetIsolation LoopbackExempt -a -n=\"Microsoft.MinecraftUWP_8wekyb3d8bbwe\"\n\nGeyser Not Showing Up in Friends Tab\n使用Geyser所开设的服务器没有在朋友选项卡中展示 \n\nThis is also a common one, Geyser won't always show up in your friends tab and you will have to manually add it through the servers tab. Start off by just using localhost or 0.0.0.0 as the IP address. If that does not work, use your local IPv4 address.\n笔者注：这是模拟使用家用电脑开Geyser服时情况，使用VPS用户自行到服务器选项卡加服务器即可。\n这也是一个常见的问题，Geyser不会总是出现在你的朋友选项卡，你将不得不手动添加通过服务器选项卡。首先使用localhost或0.0.0.0作为IP地址。如果不起作用，请使用本地IPv4地址。\n\nSRV Records Not Properly Working\nSRV记录工作不正常 \n\nBedrock edition does not support SRV records, so this option won't work at all.\n基岩版不支持SRV记录，所以这个选项是不起作用的。\n\nUsing TCP in DNS Options Instead of UDP\n（笔者注：非常重要！！！很多PC服主不了解！！！）在DNS选项中使用TCP协议而不是UDP协议 \n\nBedrock uses UDP instead of TCP, so you will have to update your DNS accordingly if you are using TCP.\n基岩版服务器使用UDP协议而不是TCP协议，因此如果切换使用TCP协议，则必须相应地更新你的DNS。\n\nLogin Failed\n无法进入Geyser开设的服务器 \n\nServer is in Online Mode while Geyser is in Offline Mode\n服务器开启了正版验证，而你的Geyser服务器的配置文件中设置的是离线模式登入。\n\nIf you have your configuration set up like this, put simply, it won't work. If authentication for the Java server is set to online, it is expected Geyser is configured the same way. The server requires a valid Minecraft: Java Edition account, and if you aren't logging into one with Geyser, then you will be unable to join the server. If your configuration is set up properly and you're still getting this issue, it could be that your credentials are invalid.\n如果你这样设置你的配置文件，简单地说，它是行不通的。如果所连接Java服务器开启了正版验证，则Geyser的配置文件中也必须开启正版验证。因为该服务器需要一个有效的Minecraft:Java版本的正版帐户，如果您没有使用Geyser登录到该帐户，那么您将无法加入服务器。如果您的配置文件设置正确，并且您仍然遇到此问题，则可能是您的登陆无效（笔者注：如密码错误）。\n\nFloodgate Misconfiguration\nFloodgate的错误配置 \n\nSee this page for more information.\n查看这个页面来获取更多信息。\n \nCreating a Startup Script 创建一个启动脚本 \n\nIn order for this to work, you MUST have Java 8 installed!\n要使得Geyser能够正常工作，你的设备必须安装了Java8！\n\nOnce you have downloaded and placed Geyser into its own folder, you will need to create a startup script; similar to how you'd run a Bukkit server.\n一旦你已经安装并放置Geyser在它自己的文件夹中，你将需要创建一个启动脚本，这和你启动一个Bukkit服务器是类似的。\n\nWindows \n\nCreate a new text file, and call it run.bat. Open this with a text editor (preferably Notepad++), and insert the text below:\n创建一个新的文本文件，然后给它命名为run.bat。使用一个文本编辑器软件打开这个文件（最好是Notepad++） ，然后输入下述的文本：\n笔者注：你先命名为run.txt，用记事本打开，然后改名run.bat就可以了。\n\njava -Xms512M -jar Geyser.jar\n\nDouble-click the run.bat, and Geyser should start up. Geyser will generate all the needed files.\n双击run.bat文件，然后Geyser就会运作。Geyser将会生成所有它需要的文件。\n\nmacOS \n\nCreate a text file called run.command, and open it with a text editor such as TextEdit or TextMate. Type the text below into the run.command file:\n创建一个名为run.command的文本文件，然后使用一个像TextEdit或者TextMate的文本编辑器软件打开它。输入下述文本在run.command文件中。\n\n#!/bin/bash cd \"$( dirname \"$0\" )\" java -Xms512M -jar Geyser.jar\n\nOpen Terminal, and type in chmod a+x (Do NOT press return!), and drag your run.command file into the Terminal.\nPress return on your keyboard, and Geyser will start up. Geyser will generate all the needed files.\n打开Terminal，然后发送chmod a+x（不要按回车键） ，并将run.command文件拖到Terminal中。按键盘上的回车键，Geyser就会启动。Geyser将生成所有需要的文件。\n\nLinux \n\n笔者注：在放完Geyser本身的jar文件后，直接ssh连接，发送指令java -jar 文件名.jar即可启动。\n\nCreate a file called run.sh, and open it with a text editor. Type the text below into your run.sh file:\n创建一个名为run.sh的文件，并使用文本编辑器将其打开。在run.sh文件中输入以下文本：\n\n#!/bin/sh BINDIR=$(dirname \"$(readlink -fn \"$0\")\") cd \"$BINDIR\" java -jar Geyser.jar\n\nIn your default terminal application, make the file executable by running chmod +x ~(dir)/run.sh where dir is the name of the folder Geyser is in, or by changing the file permissions;\nOpen your default terminal application, and type chmod +x ~/(dir)/run.sh to run Geyser. Geyser will generate all the needed files.\n在默认的终端应用程序中，通过运行chmod+x~（dir）/run.sh（其中dir是Geyser所在文件夹的名称）或更改文件权限，使文件可执行；\n打开默认的终端应用程序，输入chmod+x~/（dir）/run.sh以运行间Geyser。Geyser将生成所有需要的文件。\n\nFloodgate \n\nFloodgate is a hybrid mode plugin which allows for Minecraft: Bedrock Accounts to join Minecraft: Java Edition servers without needing a Minecraft: Java Edition account. This is something you install in addition to Geyser. Unlike Geyser, Floodgate can only be installed as a plugin, and can only be utilized on servers that have it installed.\nFloodgate是一个允许我的世界:基岩版账户登陆我的世界:Java版服务器而不需要一个我的世界:Java版账户的一个集合化的插件。这是一个很像Geyser的东西。但是不同于Geyser，Floodgate只能被像一个插件那样安装，并且只能够专门地用于它所安装的服务器上。\n\nSetting Up\n设置 \n\nNOTE: Floodgate requires you use jars from this branch in order for it to work. These versions can also be installed as plugins on their own, but you must always have the Floodgate jar no matter what whether or not you have Geyser installed as a plugin.\n注意：Floodgate要求你使用从这个分支下载的jar文件来使得它能够工作。这些版本也可以像服务端插件那样被安装，但是无论你是否将Geyser作为插件那样安装，你都必须始终拥有Floodgate的jar文件。\n\nFloodgate currently only works on Bukkit and BungeeCord, and must manually be compiled here using Maven. Once compiled, drag the jar for your platform into the plugins folder of your server, and start it up. Upon startup, a file called public-key.pem will be generated. DO NOT DISTRIBUTE THIS KEY TO ANYBODY! This key is what allows for Bedrock accounts to bypass the Java Edition authentication, and if anyone gets ahold of this, they can wreak ** on your server.\nFloodgate现在只能在Bukkit和BungeeCord上工作，并且它们只能在这里被使用Maven来手动编译。一旦编译，将平台的jar文件放置在你的服务器的plugins文件夹，然后启动它。一旦启动，一个名为public-key.pem的文件将会被生成。千万不要将这个Key分享给其他人！这个Key允许基岩版帐户绕过Java版本的身份验证，如果有人知道它，他们可能会对你的服务器造成严重破坏。\n\nOnce you find your public-key.pem, copy it into the root directory of Geyser, or if you're using the plugin version of Geyser, into your Geyser folder found inside of your plugins folder (or for Sponge, config/geyser). Make sure you copy it and don't just drag it. Both Floodgate and Geyser need this file.\n找到public-key.pem后，将其复制到Geyser的根目录中，或者如果您使用的是Geyser的插件版本，则复制到plugins文件夹中的Geyser文件夹中（或者对于海绵端，config/Geyser）。一定要复制它，不要只是移动它。Floodgate和Geyser都需要这个文件。\n\nIn the Geyser config.yml, set auth-type to floodgate, and restart Geyser. Bedrock clients should now be able to join your Java Edition server without a Java Edition account :D.\n在Geyser的config.yml中，将auth-type设置为floodgate，然后重新启动Geyser。现在，基岩版客户端应该能够在没有Java版本帐户的情况下加入Java版服务器：D。\n\n笔者注：auth-type填写offline即可，这里可能是给一些需要正版验证服务器使用的。没亲自尝试过。\n\n配置文件config.yml （原创）\n\n# --------------------------------\n# Geyser 配置文件\n#\n# A bridge between Minecraft: Bedrock Edition and Minecraft: Java Edition.\n#\n# GitHub: https://github.com/GeyserMC/Geyser\n# Discord: https://discord.geysermc.org/\n# --------------------------------\n\nbedrock:\n  # 填写基岩版代理服所开启的IP，不建议修改\n  address: 0.0.0.0\n  # 填写基岩版代理服所开启的端口\n  port: 19132\n  # 填写基岩版代理服的Motd信息\n  motd1: \"GeyserMC\"\n  motd2: \"Another GeyserMC forced host.\"\nremote:\n  # 填写基岩版代理服所代理的Java版服务器的IP（不需要在本机，你就是填Hypixel的IP都没问题）\n  address: 127.0.0.1\n  # 填写基岩版代理服所代理的Java版服务器的端口\n  port: 25565\n\n  # 登录类型。可以设置为 offline, online, 或者 floodgate (请查阅\n https://github.com/GeyserMC/Geyser/wiki/Floodgate).\n  auth-type: online\n\n## 基岩版用户在登录这些被代理的Java版服务器时，会以他们的Xbox账户/手机版用户名作为Java版服务器的登录依据\n## 这允许自动配置/登录到远程Java服务器\n## 如果你有很大的勇气/愚笨，想把你的Mojang正版账户放置在\n## 一个config.yml中\n#userAuths:\n#  bluerkelp2: # 手机版/Xbox账户用户名\n#    email: not_really_my_email_address_mr_minecrafter53267@gmail.com # Mojang账户邮箱/密码\n#    password: \"this isn't really my password\"\n#\n#  herpderp40300499303040503030300500293858393589:\n#    email: herpderp@derpherp.com\n#    password: dooooo\n\n# 代理服的MOTD和玩家数量继承所代理的Java版服务器\nping-passthrough: false\n\n# 代理服最多玩家数量\nmax-players: 100\n\n# debug消息是否能够在控制台显示\ndebug-mode: false\n\n# 线程池大小\ngeneral-thread-pool: 32\n\n（以下不懂，别问我）\n# Allow third party capes to be visible. Currently allowing:\n# OptiFine capes, LabyMod capes, 5Zig capes and MinecraftCapes\nallow-third-party-capes: true\n\n# bStats is a stat tracker that is entirely anonymous and tracks only basic information\n# about Geyser, such as how many people are online, how many servers are using Geyser,\n# what OS is being used, etc. You can learn more about bStats here: https://bstats.org/.\n# https://bstats.org/plugin/server-implementation/GeyserMC\nmetrics:\n  # If metrics should be enabled\n  enabled: true\n  # UUID of server, don't change!\n  uuid: generateduuid\n\n手机版：\nhttps://github.com/fengberd/PocketServer",
    "replies": [
        {
            "author": "xmdhs",
            "timestamp": 1580644440,
            "txt_content": "看上去不错。。\n\n\n\n\nfile_1580644427000.jpg (229.59 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-2 19:53 上传\n\n\n\n\n\n\n就是移动有点困难。"
        },
        {
            "author": "happyvalley",
            "timestamp": 1580751960,
            "txt_content": "BUG挺多的 但是基本的交互没问题 大概可以拿来随时管理服务器了("
        },
        {
            "author": "恋",
            "timestamp": 1580815740,
            "txt_content": "它还是很不完善  基本上没有游戏体验 能进去已经很不错了 win10版进入游戏还行  \n问题有  一个是所有需要跳跃上去的方块 都会被弹回 不能自动跳跃 楼梯简直能把人卡死 然后就是破坏方块没有动画  还有就是某些区块整个区块透明不加载 必须重进游戏重新加载才行  \n安卓PE进游戏问题就有点大了 除了上述的问题外  看不见箱子  而且所有可以交互的东西都无法点 熔炉 火炉那些都不可以"
        },
        {
            "author": "PQguanfang",
            "timestamp": 1580816220,
            "txt_content": "恋 发表于 2020-2-4 19:29\n它还是很不完善  基本上没有游戏体验 能进去已经很不错了 win10版进入游戏还行  \n问题有  一个是所有需要跳 ...\n这个服务端就是一个翻译器而已，中间有一次转换过程。区块什么的因为服务器性能问题没加载出来非常正常。\n\n至于看不见箱子什么的，你是没看见官方的待办列表吗..."
        },
        {
            "author": "ljh221",
            "timestamp": 1580889300,
            "txt_content": "xmdhs 发表于 2020-2-2 19:54\n看上去不错。。\n居然支持Java正版??!!"
        },
        {
            "author": "sunjianyao",
            "timestamp": 1581073020,
            "txt_content": "用了之后，发现一个关键的问题，鼠标右键虚拟键模拟不了啊"
        },
        {
            "author": "我叫王小明",
            "timestamp": 1581308520,
            "txt_content": "支持mod吗"
        },
        {
            "author": "PQguanfang",
            "timestamp": 1581308700,
            "txt_content": "我叫王小明 发表于 2020-2-10 12:22\n支持mod吗\n您猜支不支持呢？"
        },
        {
            "author": "Audi_Torre",
            "timestamp": 1581510780,
            "txt_content": "这个舒服，看来这下躺在床上也能耍了"
        },
        {
            "author": "T.C.T_093",
            "timestamp": 1581556080,
            "txt_content": "顶，成功搭建了，很不错的东西"
        },
        {
            "author": "CivicXFB",
            "timestamp": 1582646640,
            "txt_content": "楼主你好，那geyser他的分支是如何处理的呢?还是要进行其他方法的安装？"
        },
        {
            "author": "TheStars666",
            "timestamp": 1582904280,
            "txt_content": "不知如何搭建，搭建好后pe进服务器是一片蓝色的天"
        },
        {
            "author": "devilk666",
            "timestamp": 1583281320,
            "txt_content": "看上去感到很不错，本希望用这个插件做一个java版和基岩版互通的服务器，现在应该不行了"
        },
        {
            "author": "冬天冬天W",
            "timestamp": 1583459100,
            "txt_content": "非常不错的一个代理工具等着一会给服务器装上试试"
        },
        {
            "author": "iamctz",
            "timestamp": 1585933800,
            "txt_content": "很好的工具，但是手机端上看不到箱子，也不能使用箱子和熔炉"
        },
        {
            "author": "神崎长闲",
            "timestamp": 1586052480,
            "txt_content": " 本帖最后由 神崎长闲 于 2020-4-6 10:36 编辑 \n我解决问题了（各种莫名其妙的问题），然后体验了一番Geyser：\n\n就目前来说手机版的用户体验依然很差，毕竟这项目才刚开始开发。\n\n如果手机版进服务器参观，还是没什么问题的。\n\n\n这个项目还是很有潜力的，如果原作者愿意认真开发，我觉得这项目会大火（毕竟基岩端加入java端的项目还是很有吸引力的）\n\n只希望那位原作者不要鸽了= =\n"
        },
        {
            "author": "fxy2016_dada",
            "timestamp": 1586588460,
            "txt_content": " 本帖最后由 fxy2016_dada 于 2020-4-11 15:02 编辑 \n\n我试了一下qwq\n已知问题：\n1.Java版服务器插件的GUI在基岩版打不开\n2.在Java版放置的箱子和床在基岩版全部变成透明方块\n3.基岩版看不到告示牌内容\n4.传送的时候基岩版玩家偶尔会被扔到天上然后摔死（不排除是我配置问题qwq）5.工作台打得开GUI无法使用\n6.创造模式下基岩版玩家背包为空\n7.基岩版玩家无法正常退出服务器，会留下假人，似乎只能在控制台kick掉\n服务器是paper核心1.14.4版本，使用ViaVersion使其支持1.15.2，用1.15.2 Java版进去没有上述问题qwq"
        },
        {
            "author": "12557584841",
            "timestamp": 1588949940,
            "txt_content": "你好，有人拿你的贴子来回复我的问答（ps：这个帖子我是自己找到的）\n问答地址：https://www.mcbbs.net/forum.php? ... =313281#pid18117369"
        },
        {
            "author": "错过也是错",
            "timestamp": 1589713920,
            "txt_content": "请问java1.14.4可以用吗？"
        }
    ]
}