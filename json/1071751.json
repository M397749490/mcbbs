{
    "title": "聊天栏信息彩色代码换行的延续",
    "author": "利姆露酱",
    "replyCount": 2,
    "timestamp": 1593788400,
    "txt_content": " 本帖最后由 利姆露酱 于 2020-7-4 22:29 编辑 \n\n正解\n\n直接使用彩色代码，然后TextComponent.fromLegacyText(你的信息)\n\n\n\n如题，彩色代码会在换行失效，如何处理能延续到下一行？\n\n\n\n\nimage.png (49.38 KB, 下载次数: 0)\n\n下载附件\n\n2020-7-3 22:59 上传\n\n\n\n\n\n但如bc的公告就不会换行失效，看了源代码实现也没搞懂。。\n有没有大神解析一下\n\n\n\n\nimage.png (45.49 KB, 下载次数: 0)\n\n下载附件\n\n2020-7-3 23:00 上传\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "天辉胡萝卜",
            "timestamp": 1593789540,
            "txt_content": " 本帖最后由 疾风暗影 于 2020-7-3 23:21 编辑 \n\n不要直接用ChatColor.xx+str的方式，那样会造成客户端换行时重置颜色，应构建自己的Component\n\n显性构建：\nTextComponent message = new TextComponent( \"tttttttttttttttttttttttttttttttttttttttttttttttttttttttt\" );\nmessage.setColor( net.md_5.bungee.api.ChatColor.RED );\nplayer.sendMessage(message);"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1593789660,
            "txt_content": "以及官方文档\nhttps://www.spigotmc.org/wiki/the-chat-component-api/#common-pitfalls\n\n里面也提到了此问题及解决方案\n\nUsing the old style color codes with components (i.e player.sendMessage does not work well and can cause client-side issues. "
        }
    ]
}