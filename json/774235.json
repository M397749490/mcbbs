{
    "title": "1.13数据包食用方法入门教程（过渡教程）",
    "author": "pineapple_",
    "replyCount": 22,
    "timestamp": 1515173400,
    "txt_content": " 本帖最后由 pineapple_ 于 2018-2-27 12:27 编辑 \n\n大家好我是pine_apple_，1.13的快照发了十多个了，大家应该知道它有很多与之前版本不同的新特性和bug，这些新特性，可以实现之前的一些实现起来很麻烦的东西，比如原版枪械（毫无征兆的广告），原版免穷举sethome等。\n\n所以很多命令玩家都想在1.13做点之前难以实现的东西玩玩，但是因为写出来的function要放在数据包里才能用，又没有找到一个较好的数据包的例子来拆解，最后放弃。\n\n其实去论坛里技巧版找个数据包就拆是个很好的办法了，但是可能有些玩家拆完之后还是满脸问号。[？？？？]\n\n所以我想了想还是写个过渡的教程，这个教程并不是面对高水平玩家的，只能算是一个帮玩家从1.12过渡到1.13的入门引言。\n\n能看懂这个贴的前提：\n1.知道命令是什么，不知道的话，去wiki转一圈https://minecraft-zh.gamepedia.com/%E5%91%BD%E4%BB%A4。\n2.function是什么，不知道的话，去我之前的水帖里把基本用法之前的内容看完http://www.mcbbs.net/thread-725039-1-1.html\n\n进入正题（就不分页了）\n\n目前对应版本：18w01a\n\n在1.12用过function的应该知道，function放在地图的data\\functinos下，但是在1.13中引入了数据包后，function已经不能放在之前的路径下了，想玩function，就必须得学会制作一个数据包。\n\n我们先来了解一下到底什么是数据包？\n\n中文wiki:数据包（data pack）系统为玩家进一步定制其Minecraft体验提供了一种新方式。数据包可用于覆盖或添加新的进度，函数，战利品表和结构，而不进行任何代码修改。https://minecraft-zh.gamepedia.com/%E6%95%B0%E6%8D%AE%E5%8C%85（现在的中文wiki都是过期的东西，慎重查看）\n\n可见数据包除了放function，还可以放advancement（进度），loottable（战利品表），structure（结构）等文件\n\n实际上可以放的文件有:\nadvancement（进度，也就是新版本的自定义成就）,\nloottable（战利品表，自定义生物掉落和箱子物品生成）,\nstructure（结构，使用结构方块保存生成的文件）,\nfunction（函数，实现0命令方块必备）,\nrecipe（自定义合成，但暂时不能制作带有nbt的合成），\ntag（标签，给一类方块物品或函数加上标签方便检测和使用）\n六种\n\n那么这些文件放进去有什么作用呢，类比资源包来说，资源包可以让你在游戏里加载那些编辑好的材质模型和音乐等内容，数据包可以在游戏里载入自定义的进度函数等，想要在地图内用到已经做好的某个作品，整个数据包直接丢进去就可以使用了，而不需要ooc什么的东西。\n\n然后再熟悉一下数据包的结构\n（数据包名字）\n        pack.mcmeta\n        data\n                （命名空间）\n                        advancements\n                                （进度名称）.json\n                        functions\n                                （函数名称）.mcfunction\n                        loot_tables\n                                （战利品表名称）.json\n                        structures\n                                （结构名称）.nbt\n                        recipes\n                                (配方名称).json\n                        tags\n                                blocks\n                                        (标签名称).json\n                                items\n                                        (标签名称).json\n                                function\n                                        (标签名称).json\n复制代码\n\n只看结构看不出来什么，我们来创建一个数据包练练手吧\n\n与资源包不同，数据包是只能放在某个地图中用而不是加到一个整个游戏内地图通用的文件夹，所以使用数据包之前，先要创建一个地图\n\n地图创建好后，打开.minecraft/saves/(世界名称)/datapacks\n\n然后新建文件夹，只能用小写字母,数字-和_命名，这就是数据包名字了\n\n然后打开该文件夹创建一个记事本，命名为pack.mcmeta\n\n注意拓展名为.mcmeta，你创建的应该是pack.mcmeta而不是pack.mcmeta.txt，一定要注意拓展名\n\n打开pack.mcmeta，最好用Notepad++打开，添加代码\n\n{\n   \"pack\": {\n      \"pack_format\": 3,\n      \"description\": \".\"\n   }\n}\n复制代码\n其中pack_format后的3可以为任意数字\ndescription后面的内容可以是任意文字，在游戏中将鼠标指针悬浮在数据包名上会显示这段文字\n\n保存并关闭pack.mcmeta，在该文件夹内再创建文件夹，命名为data\n打开data文件夹，在其中创建一个文件夹，只能用小写字母,数字-和_命名，这就是命名空间了\n\n[另外一提，如果这个命名空间被命名为minecraft，其中的内容和原版重名，一般会覆盖原版游戏中的内容，比如原版的进度，原版的合成之类的\n\n标签（tags）可以是在原基础上添加的，也可以是覆盖的，取决于标签名称.json内写的\"replace\"：true还是false，看不懂下面tags部分有解释]\n\n在其中根据你的需要创建advancements，functions，loot_tables，structures，recipes，tags文件夹\n\n比如你的数据包名是a，其中有一个命名空间是b，要写function，就创建functions文件夹，创建c.mcfunction\n\nc.mcfuntion内写say 1\n\n这样在游戏内想执行这个function的话，就可以用命令/function b:c\n\n数据包名就是区分不同数据包用的，所以执行function命令时并不会用到，因为/function的用法是/function 命名空间:函数名称 而不是/function 数据包名:函数名称\n\n一个数据包的data下当然也可以同时存在多个命名空间，命名空间下也可以有子文件夹，命名空间里有多个文件夹的话，和以前一样，具体参考上面那个function教程\n\n执行function b:c就会输出1，如果没有输出则尝试/reload一下，仍然不行则是命令写错了，function中的命令不允许任何一条出错，所以得打开log文件检查或者逐条检查\n\n看完上面的例子你应该就能掌握如何制作数据包了\n\n只举了function 的例子，还没讲全，下面讲\n\n关于  advancements，loot_tables，structures和一些function在1.12的且在1.13适用的基本用法\n\n站内的dalao们讲的要比我好多了，看一遍他们的帖子比在我我讲十遍要强多了\n\n所以直接引用帖子：\nhttp://www.mcbbs.net/thread-685310-1-1.html\nhttp://www.mcbbs.net/thread-619304-1-1.html\nhttp://www.mcbbs.net/thread-585095-1-1.html\nhttp://www.mcbbs.net/thread-691100-1-1.html\n\n两个比较新鲜的东西：recipes和tags，它们的教程在站内我也还没看见过\n\n简单说一下基础用法好了\n\ntags是给一类方块物品或function加上标签\n\n按照上面创建数据包的方法，创建一个tags\\blocks\\a.json\n\n打开添加代码\n\n{\n  \"replace\": false,\n  \"values\": [\n    \"minecraft:air\",\n    \"minecraft:stone\"\n    ]\n}复制代码\nreplace后面一般是false，如果是true的话会覆盖其他数据包内同名的标签，或者原版的同名标签\n检测#命名空间:a就是检测这一类方块\n\n比如/execute if block #命名空间:a ~ ~-1 ~ run say 1玩家执行的话脚下是石头或空气就say1\n\nitems就是检测物品栏里的一类物品\n\nfunctions就是你执行/function #命名空间:标签名称 就会执行其中包含的函数（如果函数存在的话），functions和items的格式和blocks相同，\n\n比如刚刚那个b:c的那个function就把上面的minecraft：air换掉就行了，多个函数用逗号隔开，items和blocks也一样\n\n有两个特殊的tag，minecraft:load和minecraft:tick\n\n被加了minecraft:load标签的函数，每次在玩家执行/reload或者第一次载入该数据包时会被执行，可以用于创建记分板或者改gamerule之类的初始化装置\n\n被加了minecraft:tick标签的函数，会被高频\n\n添加这两个标签的方法我不说应该也会了\n\ntick和load一定要放在minecraft命名空间下，而不能用自己的命名空间\n\n回到data文件夹，新建文件夹命名为minecraft，打开，新建文件夹命名为tags\n\n打开tags再新建文件夹functions\n\n打开functions新建记事本，命名为tick.json\n\n同样要注意拓展名是json\n\n用Nopead++打开，添加代码\n\n{\n  \"replace\": false,\n  \"values\": [\n    \"命名空间:函数名\"\n  ]\n}\n复制代码\n\n加load标签也同理\n\n\nrecipe这玩意最好是拆mc原版的jar来来研究，打开.minecraft\\versions\\版本号\\解压jar查看recipes\n这个如果有时间再看看值不值得开个新帖，写不动了……\n附上一个看了可能就懂了的帖子和英文wiki的recipe页面\nhttp://www.mcbbs.net/thread-772604-1-1.html\nhttps://minecraft.gamepedia.com/Recipe\n\n关于datapack命令，就是改变数据包的优先级也就是执行的顺序，禁用，启用数据包和显示数据包列表，其中这条命令的提示显示的数据包名，鼠标指针放上去会显示description后面的内容。description后面的内容可以是任意文字，在游戏中将鼠标指针悬浮在数据包名上会显示这段文字除了list，datapack的其他命令显示的数据包名也能显示那段文字，比如已启用[file/sss]，鼠标放上会显示。\n\n共写4小时（多数时间在发呆），想到哪写到哪，写的有点散，可能会再编辑加些新内容\n\n",
    "replies": [
        {
            "author": "sjx",
            "timestamp": 1515198900,
            "txt_content": " 本帖最后由 sjx 于 2018-1-6 08:40 编辑 \n\n补充：tick和load一定要放在minecraft命名空间下，而不能用自己的命名空间（觉得会有人出现这种错误）\n\n和bug\n就比如对于macOS玩家来说很重要的MC-121323"
        },
        {
            "author": "pineapple_",
            "timestamp": 1515213300,
            "txt_content": "sjx 发表于 2018-1-6 08:35\n补充：tick和load一定要放在minecraft命名空间下，而不能用自己的命名空间（觉得会有人出现这种错误）\n其实我说的minecraft:tick的意思就是命名空间是minecraft\n\n但是我发现还是得加上这一句，不然真的有人不会注意到\n\n感谢补充"
        },
        {
            "author": "BlackCB.",
            "timestamp": 1515217800,
            "txt_content": "pineapple_ 发表于 2018-1-6 12:35\n其实我说的minecraft:tick的意思就是命名空间是minecraft\n\n但是我发现还是得加上这一句，不然真的有人不 ...\n跟不上啦XD\n话说你的pineapple_打成了pine_apple_"
        },
        {
            "author": "pineapple_",
            "timestamp": 1515230280,
            "txt_content": "天狼星black 发表于 2018-1-6 13:50\n跟不上啦XD\n话说你的pineapple_打成了pine_apple_\n时间长了就好了，现在跟着是有点费劲\n\n\npine_apple_是我正版id\n所以用那个都行233"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1515232080,
            "txt_content": "看完了...没看懂..."
        },
        {
            "author": "pineapple_",
            "timestamp": 1515242460,
            "txt_content": "⊙v⊙ 发表于 2018-1-6 17:48\n看完了...没看懂...\n那可能是因为我写的太难理解了……\n懒癌上身，不想编辑"
        },
        {
            "author": "Hao_cen",
            "timestamp": 1515316320,
            "txt_content": "tags是给一类方块物品或function加上标签\n\n按照上面创建数据包的方法，创建一个tags\\blocks\\a.json\n\n打开添加代码\n\n{\n  \"replace\": false,\n  \"values\": [\n    \"minecraft:air\",\n讲 Tags 的地方是不是少了段代码？"
        },
        {
            "author": "pineapple_",
            "timestamp": 1515317040,
            "txt_content": "547932052 发表于 2018-1-7 17:12\n讲 Tags 的地方是不是少了段代码？\n是的，我今天编辑好几次都没编辑上去，不知道是什么bug\n\n具体格式看下面创建minecraft:tick步骤"
        },
        {
            "author": "Gtrog",
            "timestamp": 1515655980,
            "txt_content": "很棒的讲解，并不比dalao们差到哪里去，楼主拿出点自信嘛"
        },
        {
            "author": "风轻云",
            "timestamp": 1515675480,
            "txt_content": "3333333333333333333333"
        },
        {
            "author": "MC北辰",
            "timestamp": 1534777980,
            "txt_content": "大神教程，造福小白"
        },
        {
            "author": "2573776288",
            "timestamp": 1534820520,
            "txt_content": "wow有点厉害"
        },
        {
            "author": "xnqingshao",
            "timestamp": 1542653460,
            "txt_content": "学习下涨下知识·"
        },
        {
            "author": "chyx",
            "timestamp": 1542657480,
            "txt_content": "sjx 发表于 2018-1-6 08:35\n补充：tick和load一定要放在minecraft命名空间下，而不能用自己的命名空间（觉得会有人出现这种错误）\n\n\n\n这个是什么bug？对osx不了解"
        },
        {
            "author": "sjx",
            "timestamp": 1542721740,
            "txt_content": "chyx 发表于 2018-11-20 03:58\n这个是什么bug？对osx不了解\n是 macOS 10.13 公测版的 Bug（无法加载存档），然而现在 10.14 的正式版都已经发布了……"
        },
        {
            "author": "syyps",
            "timestamp": 1551882120,
            "txt_content": "大佬\n辛苦了\n函数我看这是挺头疼的\n（建议随时更新）"
        },
        {
            "author": "叫我喀秋莎",
            "timestamp": 1554629040,
            "txt_content": "但数据包中的structures始终处于没法用的状态，保存和加载都索引的是generated文件夹，根本无法指向数据包中的结构"
        },
        {
            "author": "DreamMoon",
            "timestamp": 1554705720,
            "txt_content": "围观围观学习学习。"
        },
        {
            "author": "Herobrine429",
            "timestamp": 1554725580,
            "txt_content": "非常棒的作品"
        },
        {
            "author": "MC阿昊",
            "timestamp": 1589628300,
            "txt_content": "dalao，是在data文件夹内创建什么文件夹鸭QAQ，有点没看懂"
        },
        {
            "author": "menglaidong",
            "timestamp": 1589634660,
            "txt_content": "长知识了"
        },
        {
            "author": "pineapple_",
            "timestamp": 1589948760,
            "txt_content": "MC阿昊 发表于 2020-5-16 19:25\ndalao，是在data文件夹内创建什么文件夹鸭QAQ，有点没看懂\n创建一个自定义名称的文件夹"
        }
    ]
}