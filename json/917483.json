{
    "title": "村庄大小的上限是多少",
    "author": "鸭蛋只吃黄",
    "replyCount": 0,
    "timestamp": 1570084740,
    "txt_content": " 本帖最后由 SkinBBS 于 2019-10-3 14:41 编辑 \n\n原本以为村庄的边长没有上限, 但是在看源码时发现了这样一个方法:\n   public void addStructureReferences(IWorld iWorld_1, Chunk chunk_1) {\n      int int_1 = true;\n      int int_2 = chunk_1.getPos().x;\n      int int_3 = chunk_1.getPos().z;\n      int int_4 = int_2 << 4;\n      int int_5 = int_3 << 4;\n\n      for(int int_6 = int_2 - 8; int_6 <= int_2 + 8; ++int_6) {\n         for(int int_7 = int_3 - 8; int_7 <= int_3 + 8; ++int_7) {\n            long long_1 = ChunkPos.toLong(int_6, int_7);\n            Iterator var12 = iWorld_1.getChunk(int_6, int_7).getStructureStarts().entrySet().iterator();\n\n            while(var12.hasNext()) {\n               Entry<String, StructureStart> map$Entry_1 = (Entry)var12.next();\n               StructureStart structureStart_1 = (StructureStart)map$Entry_1.getValue();\n               if (structureStart_1 != StructureStart.DEFAULT && structureStart_1.getBoundingBox().intersectsXZ(int_4, int_5, int_4 + 15, int_5 + 15)) {\n                  chunk_1.addStructureReference((String)map$Entry_1.getKey(), long_1);\n                  DebugRendererInfoManager.sendStructureStart(iWorld_1, structureStart_1);\n               }\n            }\n         }\n      }\n\n   }复制代码代码中非常明确的指出了寻找结构 References 的范围只有 8x2+1=17 区块, 也就是 272 方块边长, 超出这个范围即使存在村庄, 他们所在的区块也不会被识别为村庄的一部分, 不会被建造...但是我好像记得以前有 dalao 确实通过修改一些参数什么的弄出了边长 600 的超大村庄. 所以想请教一下熟悉游戏的道友, 村庄到底有没有面积上限?\n\n另外, 这个 272 面积的上限是否也意味着游戏内全部自然结构(包括下界要塞, 要塞, 废弃矿井)都不可能超过这个面积?\n",
    "replies": []
}