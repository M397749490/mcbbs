{
    "title": "关于粒子的生成",
    "author": "Absolutefield",
    "replyCount": 2,
    "timestamp": 1493621460,
    "txt_content": "我想在玩家身边生成一个粒子圆圈但我不知道要怎么去做\n这是现在的样子\n成功的样子是这样的\n\n\n这是我的代码\nimport org.bukkit.Bukkit;\nimport org.bukkit.Effect;\nimport org.bukkit.Location;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerMoveEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class Main extends JavaPlugin implements Listener {\n\npublic void onEnable(){\n    getServer().getPluginManager().registerEvents(this, this);\n    Bukkit.getConsoleSender().sendMessage(\"test\");\n}\n@EventHandler\npublic void onPlayerMove(PlayerMoveEvent event){\n    Player player = event.getPlayer();\n     double angle = 10;\n     double radius = 1.0D;\n     for (int i = 0; i < 360; i += angle){\n     double x = Math.cos(Math.toRadians(i)) * radius;\n      double z = Math.sin(Math.toRadians(i)) * radius;\n   \n     //Location playerLoc = player.getLocation();\n     //Location l = new Location(playerLoc.getWorld(), x + playerLoc.getX(), 1.0D, z + playerLoc.getZ());\n     //player.getWorld().playEffect(l, Effect.FLAME , 5);\n      Location playerloc = player.getLocation();\n      Location l = new Location(player.getWorld(), x+playerloc.getX(), 1.0D+playerloc.getY(), z+playerloc.getZ());\n     player.getWorld().playEffect(l,Effect.FLAME,1);\n    player.sendMessage(\"§fDetect that you are moving, giving effect\");\n     }\n}\n}\n/*public void createeffect(Player player){\n     double angle = 10;\n     double radius = 1.0D;\n     for (int i = 0; i < 360; i += angle){\n     double x = Math.cos(Math.toRadians(i)) * radius;\n      double z = Math.sin(Math.toRadians(i)) * radius;\n   \n     Location playerLoc = player.getLocation();\n     Location l = new Location(playerLoc.getWorld(), x + playerLoc.getX(), 1.0D, z + playerLoc.getZ());\n     player.getWorld().playEffect(l, Effect.FLAME , 5);\n     }\n}\n}\n*/复制代码\n求助\n\n",
    "replies": [
        {
            "author": "Ir.Nep",
            "timestamp": 1493639040,
            "txt_content": " 本帖最后由 qzz740827 于 2017-5-1 19:46 编辑 \n\n因为playEffect方法只让用户自定义了4种属性，其中没有包括Particle的Speed（粒子向量？大概这么叫吧）\n\n解决办法：\n1。艹nms包: PacketPlayOutWorldParticles。具体参数不清楚再来问\n2。用world的spigot()并调用其playEffect()进行传参。\n\n上面那张图是PVPIN上测试的，别问我为什么知道\nPVPIN用的方法是艹NMS并把Speed设定为0了"
        },
        {
            "author": "Absolutefield",
            "timestamp": 1493640000,
            "txt_content": "qzz740827 发表于 2017-5-1 19:44\n因为playEffect方法只让用户自定义了4种属性，其中没有包括Particle的Speed（粒子向量？大概这么叫吧）\n\n解 ...\n还真不是，那张图是我在spigot上的问答帖翻到的，也有人提问过这个问题，第二个方法我会尝试，但能说详细点吗？"
        }
    ]
}