{
    "title": "服务器优化求助",
    "author": "虚伪的悲催",
    "replyCount": 6,
    "timestamp": 1588173840,
    "txt_content": "怎么样优化服务器的**网络**\n不是TPS问题\n电信家庭网络下行70m/s左右\n上行14m/s左右\n(虽然我可以双线双拨叠加，但是我联通的上行[100kb/s左右]真的垃圾，送的)\n电信的人玩的当然不卡（20ping左右）\n但是联通移动的人玩的挺卡的（60~100ping左右感觉还是有点高）\n请给出合适的解决方案，成本越低越好\n（别跟我说租个服务器）",
    "replies": [
        {
            "author": "Salt_lovely",
            "timestamp": 1588173840,
            "txt_content": "网络延迟问题请用“钞能力”解决。\n\n降低网络负载的方法有，但是都只是聊胜于无\n\nserver.properties里面，设置一个包多大会进行压缩，会占用更多的CPU，而且只能微不足道地缓解带宽压力（设置为96以内只会平白增加CPU压力，最好不要太低）；降低视野距离可以减少玩家加载地图的时间\nnetwork-compression-threshold=256\nview-distance=6复制代码\n\nspigot.yml里面，调低实体可视距离可以降低带宽占用（稍微降低）\n    entity-tracking-range:#实体可视距离\n      players: 64 \n      animals: 32\n      monsters: 64\n      misc: 16\n      other: 32复制代码"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1588174560,
            "txt_content": "Salt_lovely 发表于 2020-4-29 23:24\n网络延迟问题请用“钞能力”解决。\n\n降低网络负载的方法有，但是都只是聊胜于无\n回答的很好~(一看就是dalao)\n虽然我有说成本越低越好但你一下子把成本省了"
        },
        {
            "author": "Salt_lovely",
            "timestamp": 1588174740,
            "txt_content": "虚伪的悲催 发表于 2020-4-29 23:36\n回答的很好~(一看就是dalao)\n虽然我有说成本越低越好但你一下子把成本省了 ...\n并没有省下太多成本，100KBps（1Mbps）网络是很吃紧的，我的方法只能轻微缓解带宽压力，不能保证你的玩家延迟马上可以降到50ms-80ms等级（除非你把视野距离调到4以下，但那时玩家游戏体验会极差）"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1588174860,
            "txt_content": "Salt_lovely 发表于 2020-4-29 23:39\n并没有省下太多成本，100KBps（1Mbps）网络是很吃紧的，我的方法只能轻微缓解带宽压力，不能保证你的玩家 ...\n我听说还有其他方法\n用BungeeCord做中转（不知道可不可信）"
        },
        {
            "author": "Salt_lovely",
            "timestamp": 1588175400,
            "txt_content": "虚伪的悲催 发表于 2020-4-29 23:41\n我听说还有其他方法\n用BungeeCord做中转（不知道可不可信）\n你想想：假设你的服务器和玩家之间的网络是一条马路，带宽就是马路宽度，发送的信息（一个一个包）就是驰骋其上的货车。\n\nS（服务器）->N（网络）->C（客户端，即玩家的电脑）\n\n既然现在交通拥堵了，你又没有钱拓宽马路，那么方法只有减少货车一条了——减少货物或者压缩货物。\n\nS（数据100）->N（负载80）->C\n\n设置一个中转站缓解压力？除非这个中转站设置在一个马路宽敞的地方——但是为什么不直接把服务器搬到中转站那里？\n\nS（数据100）->N（负载120）->中转站->N（负载120）->C \n（这种情况下把服务器设置到中转站岂不美哉）"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1588175460,
            "txt_content": "Salt_lovely 发表于 2020-4-29 23:50\n你想想：假设你的服务器和玩家之间的网络是一条马路，带宽就是马路宽度，发送的信息（一个一个 ...\n谢谢"
        }
    ]
}