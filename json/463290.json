{
    "title": "自定义NBT（附例子）",
    "author": "pca006132",
    "replyCount": 4,
    "timestamp": 1435995780,
    "txt_content": " 本帖最后由 pca006132 于 2016-1-10 15:43 编辑 \n\n这边也有人在研究这个自定义NBT的东西，帖子：http://tieba.baidu.com/p/3867857649，作者：12142e\n大家都知道，minecraft里有很多nbt，不过那些nbt都是mojang定义了的\n那么自定义NBT是否可行呢？\n其实是可以的，你在自定义的时候需要注意几点。\n首先，有没有相同名字的NBT存在，如果有，你这个NBT就不能使用（因为你赋值给他会赋值到majang设定的那个）\n第二，你需要给一个数据类型他，比如字串的话就要“”，byte（数值）的话就要b，之类，否则就不能探测到\n第三，只能给物品使用(tag:{})，不然的话会马上消失\n这个自定义NBT并不会消失，和普通的NBT类似\n\n可能有人说，自定义NBT并没有什么用，那么我现在便提供一个例子吧\n这个例子就是为剑提供一些属性，让拿着那把剑的玩家会有一些效果\n我这个例子的效果有4个，分别是攻击敌人时会回血、夜视、把附近的生物减速和令自己无敌（只会吸收虚空伤害）\n\n例子的OCS（一条命令） 1.8\n/summon FallingSand ~ ~1 ~ {Tile:152,Time:10,Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"fill ~ ~-19 ~1 ~ ~-1 ~1 redstone_block\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"setblock ~2 ~-12 ~6 redstone_block\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~3 ~-11 ~10 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a damageDealt 0\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a Effect 1 {SelectedItem:{tag:{LifeSteal:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"effect @a[score_Effect_min=1,score_Effect=1] minecraft:resistance 2 5 true\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a Effect 0\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~1 ~-10 ~10 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"effect @a[score_Effect_min=1,score_Effect=1,score_damageDealt_min=1] minecraft:instant_health 1 0 true \"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a Effect 0\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a Effect 1 {SelectedItem:{tag:{OP:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"effect @a[score_Effect_min=0,score_Effect=0] minecraft:night_vision 0 1 true\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~3 ~-9 ~9 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"effect @a[score_Effect_min=1,score_Effect=1] minecraft:night_vision 20 0 true\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a Effect 0\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a Effect 1 {SelectedItem:{tag:{Slow:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=6,score_Item=6,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=6,score_Item=6]\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~1 ~-8 ~9 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a Effect 1 {SelectedItem:{tag:{NightVision:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @a[score_Effect_min=1,score_Effect=1] ~ ~ ~ effect @e[r=10,type=!Player] minecraft:slowness 2 2 true\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @a Effect 0\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"entitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{LifeSteal:1b}}}\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~3 ~-7 ~8 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=6,score_Item=6,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 0 {Item:{id:\\\\\"minecraft:diamond_sword\\\\\",Count:1b,Damage:0s}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"entitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{OP:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 8 {Item:{id:\\\\\"minecraft:diamond_sword\\\\\",Count:1b,Damage:0s,tag:{OP:1b}}}\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~1 ~-6 ~8 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 8 {Item:{id:\\\\\"minecraft:diamond_sword\\\\\",Count:1b,Damage:0s,tag:{LifeSteal:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=5,score_Item=5,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=5,score_Item=5]\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=5,score_Item=5,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 0 {Item:{id:\\\\\"minecraft:diamond_sword\\\\\",Count:1b,Damage:0s}}\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~3 ~-5 ~7 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=3,score_Item=3,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=3,score_Item=3]\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=3,score_Item=3,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 0 {Item:{id:\\\\\"minecraft:diamond_sword\\\\\",Count:1b,Damage:0s}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"entitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{Slow:1b}}}\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~1 ~-4 ~7 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"entitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{NightVision:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 8 {Item:{id:\\\\\"minecraft:diamond_sword\\\\\",Count:1b,Damage:0s,tag:{NightVision:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=2,score_Item=2,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=2,score_Item=2]\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"execute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=2,score_Item=2,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~3 ~-3 ~6 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 8 {Item:{id:\\\\\"minecraft:diamond_sword\\\\\",Count:1b,Damage:0s,tag:{Slow:1b}}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 6 {Item:{id:\\\\\"minecraft:ghast_tear\\\\\",Count:1b}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 3 {Item:{id:\\\\\"minecraft:golden_carrot\\\\\",Count:1b}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"fill ~-1 ~3 ~ ~-1 ~ ~4 redstone_block 0\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"summon FallingSand ~1 ~-2 ~6 {id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 0 {Item:{id:\\\\\"minecraft:diamond_sword\\\\\",Count:1b,Damage:0s}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 5 {Item:{id:\\\\\"minecraft:golden_apple\\\\\",Damage:1s,Count:64b}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"scoreboard players set @e[type=Item] Item 2 {Item:{id:\\\\\"minecraft:ice\\\\\",Count:1b}}\"},Riding:{id:FallingSand,Tile:137,Time:10,TileEntityData:{Command:\"fill ~1 ~3 ~ ~1 ~ ~4 stone 0\"},Riding:{}}}}}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"fill ~1 ~-1 ~6 ~3 ~2 ~10 air 0\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"fill ~ ~ ~5 ~4 ~4 ~11 stained_glass 0\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"fill ~ ~ ~5 ~4 ~ ~11 quartz_block 0\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"/setblock ~2 ~3 ~4 wall_sign 1 replace {Text1:\"{text:\\\\\"关闭系统\\\\\",bold:False,italic:False,underlined:False,strikethrough:False,color:black,clickEvent:{action:run_command,value:\\\\\"fill ~2 ~-2 ~ ~-2 ~3 ~8 air\\\\\"}}\",Text2:\"{text:\\\\\"\\\\\",bold:False,italic:False,underlined:False,strikethrough:False,color:black,clickEvent:{action:run_command,value:\\\\\"fill ~2 ~-2 ~ ~-2 ~3 ~8 air\\\\\"}}\",Text3:\"{text:\\\\\"\\\\\",bold:False,italic:False,underlined:False,strikethrough:False,color:black,clickEvent:{action:run_command,value:\\\\\"fill ~2 ~-2 ~ ~-2 ~3 ~8 air\\\\\"}}\",Text4:\"{text:\\\\\"\\\\\",bold:False,italic:False,underlined:False,strikethrough:False,color:black,clickEvent:{action:run_command,value:\\\\\"fill ~2 ~-2 ~ ~-2 ~3 ~8 air\\\\\"}}\"}\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"scoreboard objectives add damageDealt stat.damageDealt\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"scoreboard objectives add Item dummy\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"scoreboard objectives add Effect dummy \"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"setblock ~ ~-1 ~1 redstone_block\"},Riding:{id:\"FallingSand\",Tile:137,Time:10,TileEntityData:{Command:\"fill ~ ~ ~ ~ ~23 ~1 air\"}}}}}}}}}}}}}}}}}}}}}}}复制代码\n\n\n使用方法：把以上命令放到一个命令方块里，然后用红石块激活\n先把一个钻石剑扔出来，如果你扔一个金萝卜给它，当你拿着那个剑的时候，你就会有夜视效果\n如果你扔一个幽灵之泪给他，当你拿着他打生物时，你就会会2.5格心\n如果你扔一个冰给他，当你拿着他的时候，附近的生物都会减速（减速是相当明显而且那个范围挺大的）\n如果你扔一组（64）附魔金苹果给他（贵的很），当你拿着他的时候你就会有满级的抗性（不会受到虚空以外的伤害）\n\n这些效果可以配合，比如你可以一把剑有几个效果\n但是这些效果的等级只有1级（因为我懒2333）\n\n原理：\n当你合成的时候，系统会为那把剑加入自定义的NBT\n当你拿着它的时候，系统会检测你拿着的物品有没有指定的NBT，有的话就执行某个命令\n\n计分板：scoreboard objectives add Effect dummy \n复制代码scoreboard objectives add Item dummy\n复制代码scoreboard objectives add damageDealt stat.damageDealt复制代码\n指令：\nscoreboard players set @e[type=Item] Item 2 {Item:{id:\"minecraft:ice\",Count:1b}}\nscoreboard players set @e[type=Item] Item 3 {Item:{id:\"minecraft:golden_carrot\",Count:1b}}\nscoreboard players set @e[type=Item] Item 5 {Item:{id:\"minecraft:golden_apple\",Damage:1s,Count:64b}}\nscoreboard players set @e[type=Item] Item 6 {Item:{id:\"minecraft:ghast_tear\",Count:1b}}\n\nscoreboard players set @e[type=Item] Item 0 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s}}\nscoreboard players set @e[type=Item] Item 8 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s,tag:{Slow:1b}}}\nexecute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=2,score_Item=2,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\nentitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{Slow:1b}}}\nexecute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=2,score_Item=2,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=2,score_Item=2]\n\nscoreboard players set @e[type=Item] Item 0 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s}}\nscoreboard players set @e[type=Item] Item 8 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s,tag:{NightVision:1b}}}\nexecute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=3,score_Item=3,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\nentitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{NightVision:1b}}}\nexecute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=3,score_Item=3,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=3,score_Item=3]\n\nscoreboard players set @e[type=Item] Item 0 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s}}\nscoreboard players set @e[type=Item] Item 8 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s,tag:{OP:1b}}}\nexecute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=5,score_Item=5,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\nentitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{OP:1b}}}\nexecute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=5,score_Item=5,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=5,score_Item=5]\n\nscoreboard players set @e[type=Item] Item 0 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s}}\nscoreboard players set @e[type=Item] Item 8 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s,tag:{LifeSteal:1b}}}\nexecute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=6,score_Item=6,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\nentitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{LifeSteal:1b}}}\nexecute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=6,score_Item=6,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=6,score_Item=6]\n\nscoreboard players set @a Effect 0\nscoreboard players set @a Effect 1 {SelectedItem:{tag:{Slow:1b}}}\nexecute @a[score_Effect_min=1,score_Effect=1] ~ ~ ~ effect @e[r=10,type=!Player] minecraft:slowness 2 2 true\n\n\nscoreboard players set @a Effect 0\nscoreboard players set @a Effect 1 {SelectedItem:{tag:{NightVision:1b}}}\neffect @a[score_Effect_min=1,score_Effect=1] minecraft:night_vision 20 0 true\neffect @a[score_Effect_min=0,score_Effect=0] minecraft:night_vision 0 1 true\n\nscoreboard players set @a Effect 0\nscoreboard players set @a Effect 1 {SelectedItem:{tag:{OP:1b}}}\neffect @a[score_Effect_min=1,score_Effect=1] minecraft:resistance 2 5 true\n\nscoreboard players set @a Effect 0\nscoreboard players set @a Effect 1 {SelectedItem:{tag:{LifeSteal:1b}}}\neffect @a[score_Effect_min=1,score_Effect=1,score_damageDealt_min=1] minecraft:instant_health 1 0 true \nscoreboard players set @a damageDealt 0复制代码\n详细解释：\nscoreboard players set @e[type=Item] Item 2 {Item:{id:\"minecraft:ice\",Count:1b}}\nscoreboard players set @e[type=Item] Item 3 {Item:{id:\"minecraft:golden_carrot\",Count:1b}}\nscoreboard players set @e[type=Item] Item 5 {Item:{id:\"minecraft:golden_apple\",Damage:1s,Count:64b}}\nscoreboard players set @e[type=Item] Item 6 {Item:{id:\"minecraft:ghast_tear\",Count:1b}}复制代码\n这四个命令就是为所有的材料加分（除了剑），分别是冰、金萝卜、64个金苹果、幽灵之泪\n以分辨材料\n\nscoreboard players set @e[type=Item] Item 0 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s}}\nscoreboard players set @e[type=Item] Item 8 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s,tag:{Slow:1b}}}\nexecute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=2,score_Item=2,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\nentitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{Slow:1b}}}\nexecute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=2,score_Item=2,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=2,score_Item=2]复制代码基本上所有合成都是类似的模式\n首先是把钻石剑的分数设定为0\n然后把有了Slow:1b这个自定义NBT的剑排除掉（把分数设定为8）\n然后让分数为0的物品检测1格内有没有分数为2的物品（冰），有的话就把钻石剑的分数设为20\n之后把分数为20的钻石剑加入Slow:1b的自定义NBT\n最后把那个材料给杀了（合成需要消耗那个材料）\n\nP.S.如果不把已经有自定义NBT的剑排除掉，那个物品也会合成，然而就是白白的消耗了一个材料，而出来的物品也是一样\n\n这个折叠的内容就是下方3个合成的解释（和上方这个的分别就是几个NBT和分数，所以可以不看）\n\nscoreboard players set @e[type=Item] Item 0 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s}}\nscoreboard players set @e[type=Item] Item 8 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s,tag:{NightVision:1b}}}\nexecute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=3,score_Item=3,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\nentitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{NightVision:1b}}}\nexecute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=3,score_Item=3,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=3,score_Item=3]复制代码首先是把钻石剑的分数设定为0\n然后把有了NightVision:1b这个自定义NBT的剑排除掉（把分数设定为8）\n然后让分数为0的物品检测1格内有没有分数为3的物品（金萝卜），有的话就把钻石剑的分数设为20\n之后把分数为20的钻石剑加入NightVision:1b的自定义NBT\n最后把那个材料给杀了（合成需要消耗那个材料）\n\nscoreboard players set @e[type=Item] Item 0 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s}}\nscoreboard players set @e[type=Item] Item 8 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s,tag:{OP:1b}}}\nexecute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=5,score_Item=5,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\nentitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{OP:1b}}}\nexecute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=5,score_Item=5,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=5,score_Item=5]复制代码首先是把钻石剑的分数设定为0\n然后把有了OP:1b这个自定义NBT的剑排除掉（把分数设定为8）\n然后让分数为0的物品检测1格内有没有分数为5的物品（64个附魔金苹果），有的话就把钻石剑的分数设为20\n之后把分数为20的钻石剑加入OP:1b的自定义NBT\n最后把那个材料给杀了（合成需要消耗那个材料）\n\nscoreboard players set @e[type=Item] Item 0 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s}}\nscoreboard players set @e[type=Item] Item 8 {Item:{id:\"minecraft:diamond_sword\",Count:1b,Damage:0s,tag:{LifeSteal:1b}}}\nexecute @e[score_Item_min=0,score_Item=0] ~ ~ ~ execute @e[score_Item_min=6,score_Item=6,r=0] ~ ~ ~ scoreboard players set @e[r=0,score_Item=0,score_Item_min=0] Item 20\nentitydata @e[score_Item_min=20,score_Item=20] {Item:{tag:{LifeSteal:1b}}}\nexecute @e[score_Item_min=20,score_Item=20] ~ ~ ~ execute @e[score_Item_min=6,score_Item=6,r=0] ~ ~ ~ kill @e[r=0,score_Item_min=6,score_Item=6]复制代码首先是把钻石剑的分数设定为0\n然后把有LifeSteal:1b这个自定义NBT的剑排除掉（把分数设定为8）\n然后让分数为0的物品检测1格内有没有分数为6的物品（幽灵之泪），有的话就把钻石剑的分数设为20\n之后把分数为20的钻石剑加入LifeSteal:1b的自定义NBT\n最后把那个材料给杀了（合成需要消耗那个材料）\n\n然后这个部分便是检测玩家拿着的东西的NBT并给予反应的指令\nscoreboard players set @a Effect 0\nscoreboard players set @a Effect 1 {SelectedItem:{tag:{Slow:1b}}}\nexecute @a[score_Effect_min=1,score_Effect=1] ~ ~ ~ effect @e[r=10,type=!Player] minecraft:slowness 2 2 true\n\nscoreboard players set @a Effect 0\nscoreboard players set @a Effect 1 {SelectedItem:{tag:{NightVision:1b}}}\neffect @a[score_Effect_min=1,score_Effect=1] minecraft:night_vision 20 0 true\neffect @a[score_Effect_min=0,score_Effect=0] minecraft:night_vision 0 1 true\n\nscoreboard players set @a Effect 0</div><div>scoreboard players set @a Effect 1 {SelectedItem:{tag:{OP:1b}}}\neffect @a[score_Effect_min=1,score_Effect=1] minecraft:resistance 2 5 true\n\nscoreboard players set @a Effect 0\nscoreboard players set @a Effect 1 {SelectedItem:{tag:{LifeSteal:1b}}}\neffect @a[score_Effect_min=1,score_Effect=1,score_damageDealt_min=1] minecraft:instant_health 1 0 true \nscoreboard players set @a damageDealt 0复制代码\n方法很简单，就是把每个玩家的Effect分数清0\n然后检测拿着的物品有没有这个NBT（{SelectedItem:{tag:{自定义的NBT}}}），有的话就把他的分数设置为1\n然后对分数为1的玩家做出某些命令\n比如有Slow:1b的玩家便是execute @a[score_Effect_min=1,score_Effect=1] ~ ~ ~ effect @e[r=10,type=!Player] minecraft:slowness 2 2 true\n用途便是把玩家10格范围内玩家以外的生物减速\n\n有LifeSteal的玩家在攻击了生物（damageDealt计分板的分数大于0就是攻击了生物）后就会给一个瞬间回复的效果\n\n\n其实这个不用自定义NBT也可以做到，然而工作量会变得更多（因为你需要穷举其组合，然后加到某个NBT里，比如物品的名字/物品的描述）\n用自定义NBT的话你就可以为每个属性加入一个NBT，然后逐个检测，这样便可以节省很多的运算\n\n\n\n\n\n[groupid=546]Command Block Logic[/groupid]",
    "replies": [
        {
            "author": ":spgbigfan:",
            "timestamp": 1436010060,
            "txt_content": "你这篇博客的注释太乱了。。。"
        },
        {
            "author": "chyx",
            "timestamp": 1436019840,
            "txt_content": "有那么多的已有tag 哪个都可以吗 （我记得保存没有的tag好像是1.8更新记录里看见过）"
        },
        {
            "author": "840196733mw",
            "timestamp": 1436665320,
            "txt_content": "自定义的nbt有什么要求吗，是不是什么都可以"
        },
        {
            "author": "捌柒",
            "timestamp": 1436674380,
            "txt_content": "黑科技万岁{:10_523:}"
        }
    ]
}