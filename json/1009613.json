{
    "title": "mysql问题，求助",
    "author": "Meteor___",
    "replyCount": 2,
    "timestamp": 1586177220,
    "txt_content": " 本帖最后由 1594425141 于 2020-4-6 21:01 编辑 \n\n已解决\nsql语句，表已经创建成功了。问题是出在ADD_MARRY里ADD_MARRY(\"INSERT INFO `Marry` (`boy`,`girl`,`time`,`box`,`points`) VALUES (?,?,?,?,?)\"),\n复制代码    CREATE_MARRY(\n            \"CREATE TABLE IF NOT EXISTS `Marry` (\" +\n                    \"`boy` VARCHAR(100),\" +\n                    \"`girl` VARCHAR(100),\" +\n                    \"`time` VARCHAR(100),\" +\n                    \"`box` VARCHAR(100),\" +\n                    \"`points` INT,\" +\n                    \"PRIMARY KEY (`boy`))\"\n    ),复制代码\n\n然后这是调用sql语句的方法\n\n[spoiler]\n    public void createMarry(String player,String player2,String time,String box,int points){    //创建婚姻信息\n        PreparedStatement ps;\n        if(this.plugin.gender.get(player).getGender().equalsIgnoreCase(\"BOY\")){\n            try {\n                ps = getMysql().prepareStatement(SQLcommand.ADD_MARRY.getCommand());\n                ps.setString(1,player);\n                ps.setString(2,player2);\n                ps.setString(3,time);\n                ps.setString(4,box);\n                ps.setInt(5,points);\n                run(ps);\n                checkMarry(this.plugin.gender.get(player));\n                checkMarry(this.plugin.gender.get(player2));\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }else{\n            try {\n                ps = getMysql().prepareStatement(SQLcommand.ADD_MARRY.getCommand());\n                ps.setString(1,player2);\n                ps.setString(2,player);\n                ps.setString(3,time);\n                ps.setString(4,box);\n                ps.setInt(5,points);\n                run(ps);\n                updata_Marry(player,player2,1);\n                checkMarry(this.plugin.gender.get(player));\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }复制代码\n\n这是报错里145行的内容,为了方便测试，随便填的string\n                this.plugin.mysql.createMarry(player1.getName(),player.getName(),\"nmsl1\",\"nmsl\",0);复制代码然后就是报错了\n[20:25:47 WARN]: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '`Marry` (`boy`,`girl`,`time`,`box`,`points`) VALUES ('meteor2','meteor','nmsl1',' at line 1\n[20:25:47 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[20:25:47 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[20:25:47 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[20:25:47 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[20:25:47 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[20:25:47 WARN]:        at com.mysql.jdbc.Util.getInstance(Util.java:408)\n[20:25:47 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:944)\n[20:25:47 WARN]:        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\n[20:25:47 WARN]:        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\n[20:25:47 WARN]:        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\n[20:25:47 WARN]:        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n[20:25:47 WARN]:        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2484)\n[20:25:47 WARN]:        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n[20:25:47 WARN]:        at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\n[20:25:47 WARN]:        at MySQL.MySQL.run(MySQL.java:66)\n[20:25:47 WARN]:        at MySQL.MySQL.createMarry(MySQL.java:166)\n[20:25:47 WARN]:        at commands.JieYuanCommand.onCommand(JieYuanCommand.java:145)\n[20:25:47 WARN]:        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:44)\n[20:25:47 WARN]:        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:141)\n[20:25:47 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchCommand(CraftServer.java:648)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.PlayerConnection.handleCommand(PlayerConnection.java:1397)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.PlayerConnection.a(PlayerConnection.java:1232)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.PacketPlayInChat.a(PacketPlayInChat.java:45)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.PacketPlayInChat.a(PacketPlayInChat.java:1)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.PlayerConnectionUtils$1.run(SourceFile:13)\n[20:25:47 WARN]:        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n[20:25:47 WARN]:        at java.util.concurrent.FutureTask.run(Unknown Source)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.SystemUtils.a(SourceFile:46)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:748)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:406)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:679)\n[20:25:47 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:577)\n[20:25:47 WARN]:        at java.lang.Thread.run(Unknown Source)复制代码\n[/spoiler]",
    "replies": [
        {
            "author": "ksqeib445",
            "timestamp": 1586177640,
            "txt_content": "Insert INTO 不是INFO"
        },
        {
            "author": "Meteor___",
            "timestamp": 1586177760,
            "txt_content": "shangenbo 发表于 2020-4-6 20:54\nInsert INTO 不是INFO\n十分感谢！"
        }
    ]
}