{
    "title": "JDBC做数据库连接，长时间会崩溃",
    "author": "a154477274",
    "replyCount": 8,
    "timestamp": 1587477060,
    "txt_content": "服务端是Spigot 1.12.2\n出现得问题是，某些调用了JDBC得插件，比如globalprefix，在长时间开启得情况下会提示\nFailed to validate connection com.mysql.cj.jdbc.ConnectionImpl\n刚开始启动得时候一点问题没有，等几个小时过后就会提示这个问题\n怀疑是JDBC得hakari连接池设置得maxlifetime过小得问题，但目前还没尝试直接反编译JDBC更改maxlifetime变量得大小，如果有大佬有遇到相关问题得，麻烦告知下，谢谢~！",
    "replies": [
        {
            "author": "starkiller2k",
            "timestamp": 1587477720,
            "txt_content": "定时查询表就好了 阻止他们超时"
        },
        {
            "author": "a154477274",
            "timestamp": 1587481380,
            "txt_content": "starkiller2k 发表于 2020-4-21 22:02\n定时查询表就好了 阻止他们超时\n具体怎么操作大佬？"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1587481500,
            "txt_content": "我记得是可以在连接到数据库的时候自己设置长时间无操作断开数据库的时间"
        },
        {
            "author": "starkiller2k",
            "timestamp": 1587481500,
            "txt_content": "创建一个线程 SLEEP 然后随便怎么瞎查询代码 让他定时查询 相当于发心跳包 就可以防止被关闭了"
        },
        {
            "author": "a154477274",
            "timestamp": 1587481860,
            "txt_content": "starkiller2k 发表于 2020-4-21 23:05\n创建一个线程 SLEEP 然后随便怎么瞎查询代码 让他定时查询 相当于发心跳包 就可以防止被关闭了 ...\n您是说再重新写个插件，简单调用下JDBC的api做些定时查询的事情？"
        },
        {
            "author": "starkiller2k",
            "timestamp": 1587482760,
            "txt_content": "重新写没用 要你原本的插件连接才行 他的超时时间是按连接算的"
        },
        {
            "author": "a154477274",
            "timestamp": 1587482880,
            "txt_content": "starkiller2k 发表于 2020-4-21 23:26\n重新写没用 要你原本的插件连接才行 他的超时时间是按连接算的\n这不是我做的插件。。除非反编译别人的插件。。"
        },
        {
            "author": "starkiller2k",
            "timestamp": 1587484740,
            "txt_content": "那就把超时时间改长一点要么想办法取得作者同意进行修改"
        }
    ]
}