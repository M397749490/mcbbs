{
    "title": "如何在其他事件里获取指令事件里的args[1](没有那么简单)",
    "author": "帅比小樊",
    "replyCount": 2,
    "timestamp": 1495956900,
    "txt_content": "如题，就像rpgitem那样的\n首先输入指令/rpgitem create 1\n这个1在onCommand里获取容易args[1]\n但是在别的事件里呢，如何？我是这样的\n        List<String> s =getConifg.getStringList(\"list\");\n                for (int i=0;i<=s.size();i++){\n          ItemBuilder item = new ItemBuilder(1); \n      item.setDisplay(getConifg.getString(s.get(i)+\".name\"));\n      item.addLore(getConifg.getStringList(s.get(i)+\".lore\"));\n              inv.setItem(getConifg.getInt(s.get(i)+\"wz\"), item);\n                }复制代码\nItemBuilder是一个使创建物品更便捷的一个插件\n这样，但是在游戏中使用就会报错\n报错是getConfig().getString(s.get(i)+\".name\");\n如果没有办法解决这个问题，那么dalao您有更好的办法，请提出，感激不尽!",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1496055960,
            "txt_content": " 本帖最后由 810587921 于 2017-5-29 19:08 编辑 \n\n玩家输入指令->触发事件->事件未被取消并且命令存在则调用onCommand方法\n那么就在触发事件的时候获取\n\npublic void onCommand(PlayerCommandPreprocessEvent e)\n{\n    String msg=e.getMessage().replaceAll(\"\\\\s+\",\" \");\n    String command=e.getMessage().contains(\" \") ? e.getMessage().split(\" \")[0]:e.getMessage();\n    String[] args=null;\n    if(e.getMessage().contains(\" \"))\n    {\n        String[] split=e.getMessage().split(\" \");\n        args=new String[split.length-1];\n        for(int x=0;x<args.length;x++)\n        {\n            args[x]=split[x+1];\n        }\n    }\n    else\n        args=new String[0];\n}复制代码\n\n这样就获得了onCommand一样的command和args,不过command是有/的,自己处理一下就行了\n"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1496056440,
            "txt_content": "用foreach吧"
        }
    ]
}