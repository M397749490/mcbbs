{
    "title": "关于判断玩家当前手上物品是否是空气",
    "author": "美年达呀",
    "replyCount": 7,
    "timestamp": 1594104420,
    "txt_content": "关于判断当前手上物品是否是空气我用的PlayerItemHeldEvent 事件\nif(e.getPlayer().getInventory.getItem(e.getNewSlot).getType() == null || e.getPlayer().getInventory.getItem(e.getNewSlot).getType() == Material.AIR{\n//代码块\n}\n\n在游戏测试，在手上没有物品情况下，没有任何响应。",
    "replies": [
        {
            "author": "天辉胡萝卜",
            "timestamp": 1594104720,
            "txt_content": "PlayerItemHeldEvent只在玩家切换手中物品的时候触发"
        },
        {
            "author": "美年达呀",
            "timestamp": 1594104840,
            "txt_content": "疾风暗影 发表于 2020-7-7 14:52\nPlayerItemHeldEvent只在玩家切换手中物品的时候触发\n那有其他更好的办法嘛，我只是想获取并且判断当前手上物品是否为空气"
        },
        {
            "author": "吕易天",
            "timestamp": 1594105200,
            "txt_content": "你应该判断getItem的返回是不是null而不是判断Type是不是null"
        },
        {
            "author": "吕易天",
            "timestamp": 1594105200,
            "txt_content": "877811433 发表于 2020-7-7 14:54\n那有其他更好的办法嘛，我只是想获取并且判断当前手上物品是否为空气\n用Bukkit.getScheduler().runTaskTimer"
        },
        {
            "author": "结城希亚",
            "timestamp": 1594105260,
            "txt_content": " 本帖最后由 结城希亚 于 2020-7-7 15:02 编辑 \n877811433 发表于 2020-7-7 14:54\n那有其他更好的办法嘛，我只是想获取并且判断当前手上物品是否为空气if(player.getInventory().getItemInMainHand()==null||player.getInventory().getItemInMainHand().getType() == Material.AIR) {\n        player.sendMessage(\"§c不能为空手\");\n         return true;\n}复制代码\n\n只是判断主手上物品是否为空气的话"
        },
        {
            "author": "吕易天",
            "timestamp": 1594105380,
            "txt_content": "877811433 发表于 2020-7-7 14:54\n那有其他更好的办法嘛，我只是想获取并且判断当前手上物品是否为空气\n你往插件主类加一个方法:\npublic static boolean isEmptyInHand(Player p)\n{\nOptional<ItemStack> is=Optional.ofNullable(p.getInventory().getItemInMainHand());\nif(!is.isPresent())\n  return true;\nreturn is.get().getType()==Material.AIR;\n}"
        },
        {
            "author": "美年达呀",
            "timestamp": 1594105800,
            "txt_content": "结城希亚 发表于 2020-7-7 15:01\n只是判断主手上物品是否为空气的话\n完美解决，谢谢"
        }
    ]
}