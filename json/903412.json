{
    "title": "服务端崩溃常见原因及部分解决办法",
    "author": "Ruinous",
    "replyCount": 5,
    "timestamp": 1565946180,
    "txt_content": " 本帖最后由 Ruinous 于 2019-8-16 18:58 编辑 \n\n\n\n服务端崩溃常见原因\n\n\n第一步：确认崩溃类型\n首先，一般来说，服务端崩溃无外乎是由几种原因引起的\n1.插件不兼容\n\n2.Mod不兼容\n\n3.插件和MOD交互的时候出错\n\n4.NBT标签/lore/书籍等游戏内物品出错导致\n\n5.服务端本身原因\n\n\n\n一般来说，我们需要先确认原因之后再进行排查，逐步确认是哪个部分出错，如果是常见的崩溃（指不是开服的时候崩溃，而是游戏玩着的时候出错），则会有出错的提示信息，一般还自带生成crash文件，里面附带着出错的原因和报告，我们可以通过这个报告来进行自己排查出错的地方和原因\n第二步：查看具体报错信息\n一般的crash报告分为几个部分，第一个部分就是下面的崩溃信息，提供了主要崩溃的原因\n\n\n\n\nimage.png (37.23 KB, 下载次数: 2)\n\n下载附件\n\n2019-8-16 15:49 上传\n\n\n\n\n这个属于Entity报错，指针为空，原因一般在第一行：at com.demoxin.minecraft.moreenchants.Item_Charm.HandleDrop(Item_Charm.java:131)在这个类的第131行出错了，可以尝试反编译插件去查看详细信息，一般这种属于实体出错的只要删除实体就可以了，包含生成实体功能的则要注意各个标签是否填写完整，否则生成的实体一旦有重要的信息为空则会报错第二个部分StackTrace，错误信息\n\n\n\n\nimage.png (28.52 KB, 下载次数: 6)\n\n下载附件\n\n2019-8-16 17:35 上传\n\n\n\n\n配合第一部分使用，详细的报错信息和出错位置以及类名和行数第三个部分 报错实体信息\n\n\n\n\nimage.png (45.76 KB, 下载次数: 62)\n\n下载附件\n\n2019-8-16 17:36 上传\n\n\n\n\n实体的详细信息，包括实体ID和实体的类型以及实体的地点，巨详细Entity Type:实体类型Entity ID:实体的IDEntity Name：实体的名称Entity's Exact location:实体的存在位置（真实位置）Entity's Block location:实体所处的方块位置（包含区块信息和区域信息）Entity's Momentum：实体的动量（Vector）一般用不到第四个部分 影响的世界信息\n\n\n\n\nimage.png (35.09 KB, 下载次数: 6)\n\n下载附件\n\n2019-8-16 17:38 上传\n\n\n\n\nLevel name:影响的世界名称All players:在该世界的全部玩家Chunk stats:区块加载信息Level seed:生成世界的种子Level generator:世界生成器genLevel spawn location:玩家出生地点Level time:世界进行的时间Level dimension：世界的维度Level storage version:世界储存中使用的版本Level weather:世界天气状况Level game mode：世界的游戏模式第五个部分 详细的JVM信息和插件信息\n\n\n\n\nimage.png (71.51 KB, 下载次数: 3)\n\n下载附件\n\n2019-8-16 17:46 上传\n\n\n\n\nPlugins:加载的插件Disabled Plugins: 未加载的插件Operating System:操作系统Java Version:Java版本Memory:内存占用信息JVM Flags:创建的JVM虚拟机的flagsFML：加载的mod信息Player Count:玩家数量Flags：标志（下边的这些都是标志信息）'U' = 卸载'L' = 加载'C' = 已经构建'H' = 预初始化'I' = 初始化'J' = 提交初始化信息'A' = 可用'D' = 不可用 'E' = 出错下方图片中红框就是mod的详细加载信息，从后往前是详细的加载情况注意：一个mod前边可能有很多个flags，请详细看比如：UCHIJ 代表该mod先进行了提交初始化的信息，又进行了初始化，然后将改mod预初始化并进行构建，但是因为之后发生的错误，导致了该mod的卸载（unload），AAAA为占位符，无实际用处\n\n\n\n\nimage.png (37.81 KB, 下载次数: 9)\n\n下载附件\n\n2019-8-16 17:54 上传\n\n\n\n\n\n通过看这个报错信息大致就可以知道是哪里出错了，可以快速定位崩溃原因\n第三步：解决报错信息\n首先根据包名来确定出错的是mod还是插件还是实体类型还是其他原因导致的报错\n1.1插件单纯报错：反编译查看插件源码，看过一遍之后你就大致明白了原因，解决方案根据插件不同一般也不同，如果你实在不知道怎么解决，可以直接删除特定插件来正常开服，实在不懂的可以发联机问答。\n1.2插件冲突报错：一般是EventHandler的优先级冲突，或者一个插件完全接管了一个事件，导致事件无法从该插件传至相同优先级的其他插件，进而导致报错，一般解决方法是删除一个插件就能解决...\n2.Mod报错：一般是mod物品/实体报错，或者是特定的mod事件报错，详细查看出错信息之后，一般删除指定实体或者物品即可解决，不过要是遇到了特定情况下的指定物品蹦服错误的话可以尝试使用Banitem插件来禁用指定mod物品，还有mod不能不同的版本混用，否则一样会导致报错\n3.插件和mod交互的时候出错：一般这种情况....只有两个选择，删除插件/MOD，或者你有能力可以改写mod/插件，让他们兼容...\n4.NBT标签/lore/书籍等游戏内物品出错：尝试删除指定实体,首先定位下出错的实体位置，然后使用软件NBT explorer进行修改，\n5.服务端本身出错：一般是插件/MOD和服务端不兼容导致的，可以尝试更换服务端来解决问题\n推荐的服务端：PaperClip,Spigot,Sponge,CatServer,Bukkit\n常见崩服原因信息汇总（长期更新）[spoiler]1.DirtBike mod和其他mod冲突\n\n\n\n\nimage.png (9.4 KB, 下载次数: 11)\n\n下载附件\n\n2019-8-16 18:57 上传\n\n\n\n\n[崩溃原因：该mod物品的ID已经被其他mod注册了，导致了服务器蹦服解决办法：删除改mod或者注册该ID物品的mod\n/spoiler]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "whl123",
            "timestamp": 1565947800,
            "txt_content": "感谢楼主发的帖子"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1565953740,
            "txt_content": "https://www.mcbbs.net/thread-860103-1-1.html\nhttps://www.mcbbs.net/thread-729487-1-1.html"
        },
        {
            "author": "Ruinous",
            "timestamp": 1565953800,
            "txt_content": "森林蝙蝠 发表于 2019-8-16 19:09\nhttps://www.mcbbs.net/thread-860103-1-1.html\nhttps://www.mcbbs.net/thread-729487-1-1.html\n行了，原来已经有人发过了，此贴GG"
        },
        {
            "author": "荡剑之句",
            "timestamp": 1584758400,
            "txt_content": "奥，知道了。"
        },
        {
            "author": "荡剑之句",
            "timestamp": 1584758460,
            "txt_content": "非常感谢楼主发的帖子。"
        }
    ]
}