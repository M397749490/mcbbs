{
    "title": "如何使用指令探测玩家看的方向？(1.8+)(详)",
    "author": "音乐家七月天",
    "replyCount": 11,
    "timestamp": 1437112500,
    "txt_content": "→_→两年来第一次悬赏，有点小基激动\n最近在用1.8做一个实践性的红石成分比较多的一个地图，刚开始做问题就来了(╯‵□′)╯︵┻━┻：\n如何使用指令探测玩家看的方向？我知道1.8+的F3里面有个Facing的几个变量，然而我并不知道怎么探测它(╯‵□′)╯说不定没有办法探测也有可能？我只会将其附加到tp（例：/tp @p X Y Z f1 f2 ），却不知道怎么探测它(╯‵□′)╯︵┻━┻\n最好用testfor之类的指令做到……Mod什么的滚粗。\n我想探测的是下面加粗的地方的值——\nFacing: east (Towards postive: X) (-81.5 / -55.6)\n而且我还有些要求（问题）：\n如何只探测后面或前面那一个量？用\"~\"还是换个变量名称吗？\n探测这个量是有范围的（例如10 ~ 20）还是说必须指向这个固定的点（例：必须指向10.5这个地方，多一点少一点都不行）(╯‵□′)╯︵┻━┻？当然我认为最好就有范围……\n好吧事实上我还有很多想问的，不过问了一大堆结果根本不能探测我岂不是糗了→_→……当然如果这个东西实在简单我就更糗了。\n所以最好说详细点，有的话请将探测这个Facing的全部方法和细节（需要注意的地方）都列一下ヽ(‘Д’)/我这500金粒可不是容易拿的。",
    "replies": [
        {
            "author": "爱心魔王FHC",
            "timestamp": 1437112560,
            "txt_content": "testfor @e[ry=,yrm=,rx=,rxm=]\ny是玩家朝上朝下看的朝向\nx是玩笑朝左朝右看的朝向\nm是最小，没有m是最大"
        },
        {
            "author": "langyo",
            "timestamp": 1437115500,
            "txt_content": "你给的金粒真多~\n既然你是诚心诚意地问了，那我就全心全意地回答给你~\n\n问题1:选择器如何使用检测玩家看的方向的选项\n我先给你讲下旋转角度吧，因为如果不这样你复制了指令你也看不懂，你自己也说了要的。\n每个实体都有这些个标签，是控制其头或者整个身体的旋转位置：\nRotation:[偏航,仰角]\n接下来就详细讲讲（资料从wiki看的，但是到我这里就变得更通俗易懂）\n\n偏航，是指你从天上看地下时（鸟瞰视角）实体围绕从地射到天上的一根柱子（柱子的坐标是实体所在的坐标的X值和Z值所指定的坐标指定的，也就是围绕Y轴的旋转）旋转的角度。它的范围是-180≤X＜180。比如正北是-180、正东是-90、正南是0，最后又转回北了，如果从天上往下看，这看起来呈顺时针旋转。\n\n仰角，是指你从天上仰着头看到地下时的角度，范围为-90到90。-90是头往天上到顶了，90是头往下到底了。如果你的朋友看着你将这些值从-90加到90，他会发现，嗯，你原来是从天仰望，然后慢慢低下了头，望着自己脚下的方块。\n\n再解释下你给的参数，Facing: east (Towards postive: X) (-81.5 / -55.6)\n其中的-81.5是偏航（水平旋转），-55.6是仰角（垂直旋转）\n\n然后，要探测生物正在看的方向，可以把选择器这样用：\n@?[...=...,...,rx=?,rxm=?,ry=?,rym=?]\n其中：\nrx是选择其垂直旋转值（仰角）小于等于这个值的生物\nrxm是选择其垂直旋转值大于等于这个值的生物\nry是选择其水平旋转值（偏航）小于等于这个值的生物\nrym是选择其水平旋转值大于等于这个值的生物\n如果你要固定的值而不是划定范围，那么rx与rxm一样或者ry与rym一样就OK。（为防止理解错误，在此解释下，rx，rxm，ry，rym可以同时存在）\n\n然后再说明下哪边是东哪边是北……这个实际上是我自愿加上回答的，因为我看你的地图需要确认一大堆的坐标和实体正在望的地方。\n\n实体的X值增加的方向是东，减少的方向是西；Z值增加的地方是南，减少的地方是北。（不科学……）\n\n问题2:用testfor检测的指令\n/testfor @p(或@a)[ry=-81.5,rym=-81.5,rx=-55.6,rxm=-55.6]\n\n问题3:如何只探测其中一个量，用~还是换个变量名称？\n只要把rx,rxm,ry,rym其中的一个或几个变量省略不写就OK\n根本不用~，根本不用换变量名，也不需要把里头不要的值给空在哪，就不写就行了，比如：\n@p[rx=1,ry=1]\n这是允许的。\n\n问题4:探测是否有范围\n有啊，第一个问题就详细解释了\n但是固定一个点也可以，第一个问题里也说了\n\n\n\n好了，给分吧。\n如果你自己还是有问题，加我好友私聊吧，不收你钱，只要你顶顶我的技术贴就ok了~"
        },
        {
            "author": "langyo",
            "timestamp": 1437115560,
            "txt_content": "= =………………我写了20分钟然后你1分钟就给他采纳了"
        },
        {
            "author": "langyo",
            "timestamp": 1437115800,
            "txt_content": "已哭死，20分钟写那么详细你在我写的前2分钟就采纳了他\n\n真想把我的回答收回来\n\n你连个回复都没有= =\n\n我在想着BBS有没有最佳答案切换的功能………………\n\n（没办法删帖太可悲了= =）"
        },
        {
            "author": "音乐家七月天",
            "timestamp": 1437126960,
            "txt_content": "langyo 发表于 2015-7-17 14:46\n= =………………我写了20分钟然后你1分钟就给他采纳了\n我在他回复之后等了超过17分钟见没人才采纳的……\n他的回答挺简练的，我都会应用到tp了这也详细得……\n我只是想将它在testfor里面应用的详细的说，说是仰角什么的事实上看一看都会QAQ\n摸摸不哭"
        },
        {
            "author": "音乐家七月天",
            "timestamp": 1437127200,
            "txt_content": "langyo 发表于 2015-7-17 14:50\n已哭死，20分钟写那么详细你在我写的前2分钟就采纳了他\n\n真想把我的回答收回来\n问答版的风气我也是知道的，我不是说谁第一回答就要采纳谁。\n但是劳资彻彻底底地等了17多分钟之后才采纳的(╯‵□′)╯︵┻━┻！"
        },
        {
            "author": "langyo",
            "timestamp": 1437134160,
            "txt_content": "音乐家七月天 发表于 2015-7-17 18:00\n问答版的风气我也是知道的，我不是说谁第一回答就要采纳谁。\n但是劳资彻彻底底地等了17多分钟之后才采纳 ...\n(╯‵□′)╯︵┻━┻\n这没办法，我回答的详细需要撰稿\n\n给点补偿好不(╯‵□′)╯︵┻━┻不然我的回答也收不回来"
        },
        {
            "author": "langyo",
            "timestamp": 1437134520,
            "txt_content": "音乐家七月天 发表于 2015-7-17 18:00\n问答版的风气我也是知道的，我不是说谁第一回答就要采纳谁。\n但是劳资彻彻底底地等了17多分钟之后才采纳 ...\n好吧\n\n(╯‵□′)╯︵┻━┻(╯‵□′)╯︵┻━┻(╯‵□′)╯︵┻━┻\n\n（诶不对啊我可以把我回答的内容整理起来做成攻略然后A.A………………立即先收藏此贴）"
        },
        {
            "author": "dpy0428",
            "timestamp": 1437138420,
            "txt_content": "FHC红石 发表于 2015-7-17 13:56\ntestfor @e[ry=,yrm=,rx=,rxm=]\ny是玩家朝上朝下看的朝向\nx是玩笑朝左朝右看的朝向\n@e真的可以吗"
        },
        {
            "author": "林扬骐",
            "timestamp": 1437715860,
            "txt_content": "langyo 发表于 2015-7-17 14:45\n你给的金粒真多~\n既然你是诚心诚意地问了，那我就全心全意地回答给你~\n是大发慈悲……\n\n既然你诚心诚意的发问了，那我就大发慈悲回答你\n\n你忘了吧，是不是想说这句突然忘了就混一个全心全意？\n"
        },
        {
            "author": "langyo",
            "timestamp": 1437727200,
            "txt_content": "林扬骐 发表于 2015-7-24 13:31\n是大发慈悲……\n\n既然你诚心诚意的发问了，那我就大发慈悲回答你\n1.这贴早就冷了≡￣﹏￣≡你还过来卖萌……\n2.因为我回答太详细所以≡￣﹏￣≡音乐家就先采纳FHC啦=。=不过他也给了补偿= =\n3.用大发慈悲是不是有些“不礼貌”啊（卖萌……）\n\n有啥问题私信聊好不别版聊会扣分的= ="
        }
    ]
}