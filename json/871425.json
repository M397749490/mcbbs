{
    "title": "[1.14.2]fireball相关问题",
    "author": "Y制杖杖",
    "replyCount": 2,
    "timestamp": 1559908800,
    "txt_content": "记得在之前的版本中，用如下指令召唤的火球是可以用手击飞的（印象中1.13都可以）\n/summon minecraft:fireball ~ ~ ~ {direction:[0.0,0.0,0.0]}\n然鹅1.14.2中尝试了一下，貌似不行\n\n后来我发现某些情况下火球可以击飞\n在保持Motion[0]和Motion[2]为0的前提下，我进行了多次试验\n发现当火球的Motion[1]较大时（粗略估算即数量级大于10^-3），火球可以被击飞\n而当火球的Motion[1]较小时（粗略估算即数量级小于10^-4），火球则不能被击飞\n而这个Motion[1]还会随着时间推移而变小，因此一个可以被击飞的火球在一定时间后就不能被击飞了\n\n这是为什么呢\n\n另外还想问一个问题就是Motion标签的实际意义到底是什么\nwiki上给出的解释是“记录当前实体dX、dY、dZ速度向量的3个TAG_Doubles，单位是米每秒”\n然而就玩家而言并不是这样的\n即使是静止状况下，玩家的Motion[1]也不是0\n并且在玩家自行移动的情况下，玩家的Motion[0]和Motion[2]也仍然是0，只有在水流等外力的作用下移动才会改变它们的值",
    "replies": [
        {
            "author": "Y制杖杖",
            "timestamp": 1559970300,
            "txt_content": "今天简单测试了下，发现创造模式飞行状态下的玩家Motion[1]为0。我觉得是不是Motion标签描述的其实是玩家的受力情况，之所以静止不动时motion[1]不为0，是因为受到重力，而玩家飞行时不受重力。"
        },
        {
            "author": "厨师海绵宝宝",
            "timestamp": 1560481980,
            "txt_content": " 本帖最后由 厨师海绵宝宝 于 2019-6-14 11:22 编辑 \n\n其实是这样的，tick开始的时候会计算实体的受力并累计到Motion，命令响应的时候就在这之后，然后在每一个tick结束时，实体的OnGround标签为1b时，不会把Motion[1]的值累计进y坐标，并且会清零Motion[1]；例外的是三种Arrow实体的OnGround一般都是0b（按F3B仔细观察可以发现它们基本都不会真正接触到方块）它们的额外字段InGround为1b时，不会把Motion内的三个值累计进三个坐标，但是也不会清零Motion，这样在它们扎着的那个方块变成空气时它们可以继续按照之前的方向运动。因为你获取数据的事件发生在加速度累加到速度，和速度累加到坐标之间，所以你能获得的都是这一刻开始的时候这个实体获得的速度（包括自发移动），而不一定能产生效果。至于玩家的自发移动那是交给别的机制判定的，所以你能获得的只是其他方块给予玩家的加速度在此刻产生的影响。\n1.14火球的机制我也没弄明白，试验中的反应像是在玩家击打时把Motion乘以玩家的眼睛坐标到火球坐标的向量的同向的单位向量，而在可以反弹火球的投掷物击中火球时把Motion修改为长度一定，方向与投掷物方向相同的向量。而且貌似现在火球的飞行中有一个微小的阻力，所以Motion为向量长度0或者小于这个微小阻力的火球无法被击打反弹，而且Motion的长度会慢慢减小\n"
        }
    ]
}