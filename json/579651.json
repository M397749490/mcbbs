{
    "title": "[图文]在树莓派下Minecraft服务器搭建教程",
    "author": "ajcxsu",
    "replyCount": 14,
    "timestamp": 1461934200,
    "txt_content": " 本帖最后由 ajcxsu 于 2019-7-17 22:01 编辑 \n\n树莓派环境下Minecraft完全开服教程\n新手向低功耗成本搭建Minecraft服务器的完全指南               \n·零、前言·\n     看到这篇教程的朋友也许会疑惑：树莓派上搭建Minecraft？什么鬼？（也可能有问树莓派是什么鬼的）     我来简单介绍一下这篇教程的目的：     可能很多人会有想开服的欲望，特别是想开24小时服，开个基友服/建筑服，当个腐竹的想法。     但是看着一大篇复杂而枯燥无味的开服教程，看着自己毫不熟悉的系统和模模糊糊的操作说明，看着自己可怜的配置，或者是家用电脑没法24小时开着的痛苦的玩家，估计有不少人会对“流畅的24小时服务器”这个目标望而却步，退而求其次，选择更简单，配置要求更低的直连或者就暂时开着服务端用来和基友联机。    而这篇教程，可能会给你提供一个新的低价，低耗电，低占地，低影响而较为流畅的开服选择。    实际上在树莓派上开Minecraft服务器的教程已经有过一篇了，但是那篇确实很技术向，以及年代久远，现在的配置有很大提升，操作方面也有所不同，于是就写了这篇教程，可能起到一个造福大众的作用吧。当然，对那些真大神来说，这篇可能有点火星了。不过，如果你是一个不想在技术方面耗什么脑子，并且在对电脑知识的了解还是有那么一点基础的情况下，你可以尝试这个方法。    那么，树莓派到底有什么好处呢？    ·低功耗，低成本，占用空间小    ·树莓派除了用来开MC服以外，还可以实现其它的不同功能，例如搭建博客、论坛，甚至作为机顶盒也都是可以的    ·所需要的配件少，维护方便    这篇教程具体讲述了什么呢？    ·使用树莓派来配置Minecraft服务器    ·在树莓派上MySQL的安装配置    ·树莓派上Minecraft服务器的配置心得    这篇教程适合新手吗？    ·图文完备+循序渐进+心得体会，保证靠谱=w=    按照这篇教程的做要注意些什么吗？    ·可能要花的时间和精力都比较多，如果你使用了这篇教程就一定要坚持下去！有什么不懂的也可以来问我的！我家也是用树莓派来开服的所以是一路人QWQ！    这篇教程只适用于树莓派吗？    ·你问了一个很关键的问题。那么当然这篇教程不只适用于树莓派——从系统的配置开始。树莓派的系统Raspbian是基于Debian系统开发的，你可以在自己的电脑上装上这个系统，并且以大抵相同的步骤来在自家电脑上搭建服务器。这样的话效果自然会比在树莓派上搭好得多。但是Debian系统跟Raspbian系统还是有差异的。如果真要做的话，我推荐你用虚拟机来试验一下_(:зゝ∠)_。理论上来说应该是不只适用于树莓派的_(:зゝ∠)_    用树莓派搭服务器，最大的风险是啥？啊哈哈那么问题来了，频繁的读入读取可能会搞坏SD卡，最坏情况是树莓派无法连接，持续死机，无限重启（本人是这样的，初步推测是SD卡被搞坏了，因为格式化以后硬件方面仍能正常运行），导致所有数据丢失。    以及搞坏树莓派应该也有未正常关机/突然断电的锅，各位学生党需要注意。    解决方案应该可以外挂一个硬盘（移动硬盘应该也行）。但对移动硬盘的权限配置有点麻烦就是了（我不知怎的一直改不了权限）。所以...风险还是挺大的_(:зゝ∠)_如果你本来就打算拿个树莓派入手你可以试试。            教程可能会有点长呢，不过没关系，可以慢慢看，从头开始嘛~    希望这个能对广大想要开服的玩家起到一点什么作用吧。如果有用的话给点回复就更好了~\n\n\n·零点九、使用这篇教程所要面临的风险与警告·\n\n    我们所需要说明的一点是，按照这篇教程所叙的开服，你将面临一些实实在在的风险。\n    树莓派的内存只有1G，因此而产生的跑图崩服现象不在少数，树莓派也承受不了强度较大的攻击。\n    而若服务器不合本人意愿，所面临的损失将可能达到300+RMB，因此学生党按照此教程开服请务必仔细考虑清楚后行事。\n    我们会在文末介绍一些挽回损失的方法，不过建议你在动手之前，先确认你的条件并仔细考虑清楚，我们只是提供一个可行的方案。如果服务器不合本人意愿，我们感到万分的抱歉。因此请务必三思而后行。\n    想要获得服务器的更好效果，我们还是推荐使用树莓派3。\n    若有人能帮我们测试一下服务器的效果的话我们将非常感谢。\n\n    最后，该教程年代久远，可能已经有部分过时，如果遇到对不上的部分请适时利用谷歌或百度等搜索引擎，或者酌情跳过一些可以省略的步骤。\n\n    简单来说，用此教程搭建的服务器可能达不到你心中的标准，所以用这篇教程前一定要考虑清楚。\n\n\n\n·一、这篇教程所适合的人·\n     想试着开服但望着复杂的开服教程与多变得情况望而却步的玩家。     准备开月付费服却因为高昂的费用和复杂与并非全自由的网页后台而正在考虑或者犹豫的玩家。     对服务器的性能没有太多要求的玩家。     玩服务器的人不多的小圈玩家。     想开校服/班级服的一群同班基友。     想开个人云服的玩家。     想用Worldedit等建筑插件的建筑党却没有足够经费/电脑渣的玩家。     无法将自家电脑24小时开着/电费问题的家用服务器腐竹。     想开7*24小型服务器的玩家。     跟我处于因为某书买了树莓派但觉得其并没有什么用处的玩家。本文将讲述一个在树莓派中编程的更好方法。     以及等等。     总而言之，需要满足下列几个基本条件：     ·进服的人不是很多     ·对性能（进服人数）没有太多要求的玩家     ·服务器玩家中没有熊     ·对插件丰富度没有过高要求的玩家     以及，我们要求玩家满足下列几个进阶条件：     ·懂那么一点电脑知识（要求真的不大）     ·不怕麻烦（也真的不是很麻烦）     ·自己不是熊（显而易见）     ·爱护服务器（基本要求）     ·玩家需要进过服务器，并且懂那么一点指令知识（/register /login /op /ban一类简单指令）     ·最好知道cmd是什么     ·最好准备好300-400RMB经费     ·以及等等\n    简单来说，如果你是一个想开24小时服的开服小白或是学生党，没有很多经费，没有很多电脑的积累知识，家里面积不怎么大，你可以尝试使用这篇教程。\n\n\n\n·二、服务器的效果简单预览·\n服务器后台效果：\n开建筑服的效果：    较好，一人在建筑服内持续使用小面积worldedit时tps无明显降低（19.96-20.0）    三人在建筑服内同时建筑，一人使用worldedit时仍保持流畅，无卡顿。    建议若有多人使用worldedit时使用异步处理we插件（AsyncWorldEdit：http://www.mcbbs.net/thread-500502-1-1.html）（现已有速度更快的FAWE，自行搜索，暂未测试）。    注意：如果你打算用它来制作地图，建议租服，不建议拿树莓派来做实验。做实验的话可以自己买了另外做。开生存服的效果：    跑图较速崩溃。因此拒熊。    若只是正常玩耍搭配较好优化与较高配置开生存服应该压力不大。因为玩生存服的时候崩溃过快体验不佳，所以没有太多测试内容。    纯净生存应无压力。    我觉得效果应该会挺不错的www。开插件服的效果：    没试过。\n    大概预览一下就行。服务器搭建完后的效果在文末，自行查看。\n\n\n\n·三、行动前所需要准备的一些东西·\n\n    在开始按这篇教程所述的行动之前，你需要做些什么准备呢？    大概，你和你的环境以及你所需要准备的东西如下：    一台能联网的正常电脑。（中途一部分也可以用手机来代替）    一台主流路由器（能用就行）。    一台树莓派（最好是树莓派3，树莓派是什么后面会提到）。    一根多余的网线。（注：尽量不要使用无线网开服）    一个多余的电源插口。    以及键盘鼠标。\n    如果你以前没买过树莓派（甚至没听说过），你可能还需要一张32GB的SD卡（就是手机常用的存储卡，容量最好大一点），以及一个读卡器，一个充电器加一个Micro USB数据线（就是手机常用的数据线，安卓的那种），如果担心被电或者是很烫什么的话你也可以买个外壳和散热片这些某宝上的店家应该都有配套餐的（甚至还有已经把SD卡录入了系统的），买的时候记得别漏了东西。\n    什么是树莓派呢？树莓派是一台非常小的——电脑，对的，只有信用卡大小。它的开发原意是为了用于学生编程学习用处，然而现在用于一些其它用途的七七八八的大神比比皆是。其系统基于Linux（一个操作系统，度娘自查），即Raspbian。Raspbian将会是我们在树莓派上使用的主要操作系统。如果你对树莓派感兴趣的话，可以自己去探索一下关于树莓派的其它用法。当然本篇教程不会特别花时间在树莓派的介绍上面，我们只会在文末介绍一下树莓派的其它用法。    因为是电脑，所以它可以作为服务器。这就是这篇教程的原理。    如果你已经准备好了，那就让我们开始吧。我们使用Raspberry Pi 3作为讲解硬件的对象，软件上使用Raspberry Pi 2。\n    Raspberry Pi 两代的配置和服务器展示放在了文末。当然现在已经有了更新的Raspberry Pi 4，如果预算充足请随意。\n\n\n·四、安装树莓派的操作系统Raspbian·\n\n    由此，我们正式开启了教程。    你所需要做的第一件事是：    1、给树莓派套上外壳    2、给树莓派贴上散热片（如下图，如果你买了散热片的话）\n\n    3、给树莓派连上网线    4、给树莓派接上电源（如图）\n\n    如果你的以上四步都成功了的话，树莓派的状态灯（红）应该会亮起，网线插口的状态灯应该会有响应。（如图）\n    嗯，很简单吧。    然后呢？这样有啥卵用？    然后就把电源线拔了吧= =，还得往SD卡里装系统呢。    我们先需要Raspbian（即我们要烧录的操作系统）的镜像文件，而这个我们需要从官网的Raspbian镜像的下载页面（https://www.raspberrypi.org/downloads/raspbian/）获得。\n     种子下载和直接从官网获取压缩文件。我们推荐使用前一种方式（如果你有某雷会员的话），其它状况就见仁见智了。而一般从官网获取镜像文件的速度相当慢，遇到这种状况也只能见仁见智了，因为网上是没有镜像文件下载的。我们推荐直接挂一个晚上试试效果，如果实在不行就两个晚上再不行三个晚上反正一个一个晚上试不怕它下不了。     我倒是下好了镜像文件碍于种种原因不敢上传。     下好了ZIP后记得解压，如果顺利的话你应该会得到这样一个文件：xxxx-xx-xx-raspbian-jessie.img，我们就是要这个.img后缀名的文件（就是镜像文件）。     与此同时，你可能还需要下面两个软件：     Win32 Disk Imager 以及 SDFormatter，下载自行度娘，很容易弄到的。某某站什么下载地址我们这就不贴了。     将SD卡插到读卡器，连上电脑的USB接口（什么是USB接口我们就不解释了），打开SDFormatter软件，应该会看到如图所示的界面。\n    Drive处选择你SD卡的盘符（什么是盘符就不解释了），选择选项设置，设置如下，后按OK：\n    回到原来界面，按动格式化（什么是格式化就不解释了），后等待一段时间（正常来说不会很长，很长的话就稍微等一下吧），出现如图所示界面，格式化成功：\n    接下来打开Win32 Disk Imager软件，界面如图所示：\n    选择蓝色文件夹“浏览”，选中刚刚下载好的.img文件，Device记得选你SD卡的盘符。确认无误后按动“Write”，开始刻录系统。\n\n    刻录完毕后出现如图所示窗口：\n\n    之后我们卸载SD卡，将刻录好的SD卡装入树莓派底部（注意背面朝上），并接上电源：    若看到树莓派状态灯闪动（绿），则安装成功。至此，Raspbian系统安装完成。\n\n\n\n\n·五、配置Raspbian系统·\n\n    本篇主要讲述装好了树莓派的系统之后该怎么做。\n     PS：篇末讲述了用手机配置的方法。以及这里所讲述的配置方法为无需外设却较为复杂的方法。如果你还有其它的显示器的话也可以将树莓派连到服务器来访问树莓派图形界面，那么前面的大部分内容可以跳过。\n     此时树莓派已经成功进入操作系统并已经通过网线连入路由器。通过路由器的管理界面可以获取树莓派的IP地址（方法自查，因为路由器品牌不同，一般访问\"192.168.0.1\"或\"192.168.1.1\"）（什么是IP地址？）。我获取的IP地址如图：\n     获取IP地址之后，我们还需要这样一个软件：PuTTY。我们需要用这样一个软件来通过SSH来访问树莓派的命令行。（SSH 为 Secure Shell 的缩写，由 IETF 的网络工作小组（Network Working Group）所制定；SSH 为建立在应用层和传输层基础上的安全协议——摘自百度百科）     在度娘上下载好putty后，我们打开是这样一个界面：\n     我们在IP地址处（IP address）填入树莓派的IP地址（我的是192.168.1.134），端口保持默认的22，连接类型（Connection type）选择SSH，接着按\"open\"启动连接。中间可能会出现警告提示，选择‘是’。\n     注意：你可能会在这一步出问题，出现\"Connectino failed\"之类的提示。这是因为在最近版本的raspbian系统中默认不启用SSH，因此需要写好SD卡后，在SD卡的根目录下新建一个名为\"ssh\"的空文件（不带引号，也没有文件扩展名）。     通过SSH连接树莓派可能会让我们输入一些东西（用户名和密码），我们需要这样子输入来登陆进我们的树莓派：login as:pi      //默认用户名为'pi'             ....password:raspberry      //默认密码为'raspberry'复制代码    如果输入后出现绿色输入行“pi[at]raspberrypi:~ $”，则表明登陆成功。（注：输入密码时不会显示字符，此为该类系统的一种保护机制）    登陆进树莓派后，我们肯定不希望一直面对这么一个黑洞洞的窗口。所以我们需要在树莓派上安装VNCserver来访问树莓派的图形界面。VNCserver就是一种类似远程访问的软件，需要在树莓派上下载服务端，还需要在电脑上下载客户端来访问服务端。    在界面中输入如下指令：sudo apt-get install tightvncserver      //安装vncserver（sudo表示该指令获有系统权限）复制代码    来下载vncserver的客户端。    中间会出现一大堆的提示如图，我们只需要输入：y  来确认即可。之后我们只需等待上一段时间待它自动下载完毕即可，当重新出现绿色输入行即代表下载完毕。\n\n    在树莓派上下载完vncserver后，我们还需要在本地上开启vncserver服务器才可访问树莓派。在界面中输入如下指令：\nvncserver :1       //在端口1以默认配置开启vncserver，端口可更改复制代码    它还会让你输入访问的密码。Password时输入一遍密码，Verify再输入一遍确认，它还会问你是否增加一个只读密码，输入：n 来取消。配置全过程应当如图：\n\n    至此，vncserver在树莓派上的配置完毕，我们可以在电脑上访问vncserver的图形界面了！\n    （注意：树莓派每次重启都必须要连接SSH输入一遍vncserver :1来开启vncserver服务器，不过按照理论来说只需用配置一次，第二次就不用配置密码了。至于自动启动vncserver的方法，自行度娘“树莓派 开机启动vncserver”╮(╯▽╰)╭）\n    我们还需下载VNCserver的访问端：VNC viewer。（注意：分32位和64位系统）（官网下载：http://www.realvnc.com/download/viewer/ ）\n    打开软件界面后看到的界面应当如图：\n\n    在VNC Server一栏处填入树莓派的IP地址，后面要跟上端口:1,我的应当是\"192.168.1.134:1\"。其它默认。之后选择Connect，输入Password为你在上面配置vncserver输入的密码，按OK。中间可能会出现警告窗口提示连接不安全，直接无视，统统按'OK'。之后我们就成功地进入了树莓派的图形界面！\n    进入图形界面之后一切就都好办了= =不急，反正至少不是一大堆烦人的代码了。\n    我们还需要对树莓派系统本身做一些设置。\n\n    打开左上角的Menu一栏，选择其中的Preferences一栏，再选择Raspberry Pi Configuration一栏，出现系统设置界面。\n\n    我们需要分别做以下操作：\n    1、扩容SD卡至原本大小，选择\"Expand Filesystem\"后等待直至成功。\n    2、更改登陆密码，选择\"Change Password\"，分别在两个输入框中输入两遍新密码。\n    3、更改菜单至\"Performance\",将\"Overclock\"（超频）和\"GPU Memory\"（显存分配）设置改为下图：\n\n         （\"Overclock\"为树莓派2配置，树莓派3暂时不支持超频。）\n    之后选择\"OK\"，系统会提示重启，选择\"OK\"来重启。之后我们就配置完了树莓派的系统。当然，我们还需要配置中文环境。（重启之后我们还需要连接一遍SSH来打开vncserver！使用指令\"vncserver :1\"！）\n    关闭系统设置窗口，选择最上面靠左工具栏的一个电脑图案的应用，名为Terminal，即树莓派的命令行。如果觉得字体有点小的话，选择界面上面\"Edit\"->\"Preferences\"，打开设置窗口后在刚开始的界面选择\"Terminal Font\"一栏，在\"Size\"处填上18（可以看情况更改），后按\"OK\"字体大小即更改完毕。\n    因为Raspbian并不自带中文字体，所以我们需要输入如下指令来安装中文字体：\nsudo apt-get install ttf-wqy-zenhei     //安装文泉驿的正黑体\nsudo apt-get install ibus ibus-pinyin      //安装ibus输入法引擎和ibus拼音输入法（如果没有输入拼音的需要可以省略）复制代码    会提示安装一系列文件，输入'y'来确认即可。\n    若安装了ibus，重启之后会在右上角看到'US'图标，右键，选择\"Preferences\"->顶栏\"Input Method\"->\"Add\"->\"Chinese\"->\"Pinyin\"，拼音输入法即添加成功。不过因为BUG的缘故，其拼音输入为双拼而且无法改正。本人暂时还没找到解决方法（我从来不在树莓派里用输入法的= =）。所以有需要的玩家可以在网上搜索相关的教程吧，这里不再多说了。\n    安装了中文字体之后，我们还需要将环境配置。再次打开左上角的Menu一栏，选择其中的Preferences一栏，再选择Raspberry Pi Configuration一栏，调出系统设置界面，选择\"Localisation\"一栏。然后我们可以看到如下图的界面：\n\n    接下来我们需要按照以下步骤来设置：\n    1、设置地区。选择\"Set Locale\"，按照如下图设置配置（第一栏的zh在最底下，翻的时候需要耐心=w=），按\"OK\"后等待一小会儿。\n\n    2、设置时区。选择\"Set Timezone\"，为了方便起见\"Area\"一栏直接设置\"Hongkong\"，按\"OK\"后等待一小会儿。\n    3、选择\"OK\"来退出设置，并选择\"Yes\"来重启。\n    重启之后，我们再一次进入vncserver会看见界面已经变成了中文。至此，Raspbian的配置全部完成！撒花~\n\n\n    接下来是在手机上配置树莓派的方法：\n\n\n    1、我们需要两个免费手机应用：\"Serverauditor\"、\"VNCviewer\"。\n    2、打开\"Serverauditor\",右上角选择\"New Host\"。\n    3、Alias一栏填入你想要的主机名（用于自己认），Username一栏填入\"pi\"，Hostname一栏填入IP，后面的端口22保持不变，Password一栏填入树莓派密码，之后选择save。在主界面选择主机，即可成功连接树莓派（无需再次输入密码）。\n\n\n\n\n\n    4、按照教程正常步骤，开启vncserver服务器后打开\"VNCviewer\"。按右上角\"+\"号。Address中填IP地址+端口，Name随便填一个自己认的名字。之后点击Connect，会提示你这是不安全的连接。把\"Warn me every time\"（每次都警告我）去掉，按Connect。接下来填密码，有需要的玩家可以将“Remember Password（记住密码）”一栏勾选。至此连接树莓派图形界面成功。熟悉操作后按照正常步骤即可。\n\n\n\n\n·六、在树莓派上运行Minecraft服务端·\n\n\n    至此，我们终于到了最终的重要一步——在树莓派上运行Minecraft服务端。\n    这里我们牵扯到一个使用客户端的问题。以这么渣的树莓派的配置，我们还是推荐使用PaperSpigot的稳定版本。当然，CB等其它版本服务端在此处也可以使用。这里我们使用PaperSpigot 1.8.8来示范说明。（PaperSpigot即Spigot的优化版）\n    我们需要获取PaperSpigot的服务端（关于PaperSpigot的说明与下载：http://www.mcbbs.net/thread-478783-1-1.html ），然后我们需要将服务端文件弄到树莓派里。这里有两个方法——一个是用U盘，树莓派自带USB接口；二是以sftp的方式连接树莓派（sftp即为ftp的加密增强版本，ftp是一种。由于ssh包含sftp，所以我们可以通过sftp来访问树莓派的文件系统）。\n    这里我们介绍后一种方法。\n    我们需要一个新的软件：FileZilla Cilent（手机上我们可以使用easy ftp）。在度娘上下载成功以后打开FileZilla Client界面应当如下：\n\n    我们在如图所示的地方中来填写相关信息。主机一栏填：sftp://<你的IP>（我的是sftp://192.168.1.134），用户名填'pi'，密码填树莓派的密码，端口留空，选择快速链接。中间可能会有警告，允许即可。\n\n\n\n    如果你的连接成功，那么你所看到的界面应当如上。\n    此时我们将准备好的服务端文件直接拖到中间四格右下格的文件栏中去，即将文件传输到树莓派中去。若提示传输完毕，你可以用vncserver来访问树莓派，点击右上栏的箱子图案来打开文件管理器，然后我们看到的界面应当如图所示。\n\n\n\n    是的，服务端已经成功地导入了！\n    如果服务端没有成功导入，请检查一下是否是因为更改了当前处于的文件目录。我们因为便利以及避免更多的麻烦直接将服务端放在/home/pi/处。\n    与此同时，我们还需要做一个类似windows中批处理的脚本文件（.sh脚本文件，即类似.bat后缀文件，只不过需要用指令执行）来运行服务端。我们打开右上栏的命令行，输入指令来新建一个名为\"runspigot.sh\"的文件：\nsudo nano runspigot.sh       //使用nano文件编辑器新建名为\"runspigot.sh\"的文件复制代码     nano编辑器是一种在命令行中使用的文件编辑器，基本可以理解为命令行里的记事本。\n     在nano编辑器内输如下内容：\n\nwhile true\ndo\nsudo java -Xms768M -Xmx1024M -jar /home/pi/<服务端文件名>.jar nogui    //内存设置推荐不再变更，可根据实际情况调整（\ndone复制代码\n\n     （注意，图上我是用树莓派3的设置，而我们更适合使用上面指令说明的文字。）\n     在windows上开过服的是不是有种奇怪的熟悉感？很正常~在此处我们使用了循环脚本，便于使用自动重启功能与崩溃自动重启功能（自带233）。至于退出的方式我们在后面会提及。当然，如果有一定知识基础，你也可以使用其它Linux开服教程的脚本。\n     确认脚本无误以后，我们使用Ctrl+O组合键再按回车来保存文件，再按Ctrl+X组合键来退出。之后，我们使用下面的指令来运行脚本：\n\nsh runspigot.sh   //在windows上相当于双击.bat批处理文件（就是\"运行服务器.bat\"之类的文件）复制代码     如果顺利的话，应当会看到服务端有所响应——我们还需要统一EULA协议才可以运行服务端。\n     嗯，看上去很正常，没啥不对啊。\n     特么的怎么退出啊？！循环的功效出来了吧233\n     很简单。使用Ctrl+C组合键强制退出即可。\n     所以很多想在命令行通过Ctrl+C用复制的小伙伴用了之后经常是一脸懵逼，但他们可能弄错了Ctrl+C在这种环境下命令行的用法╮(╯▽╰)╭。\n     如果你成功使用组合键退出了，那么界面应当与下面类似。\n\n\n\n     大概如此。至此我们成功地在树莓派上运行了Minecraft服务端！下次启动直接用sh指令来运行服务端就行咯！\n     当然，成功运行并不意味着稳定。我们还需要对服务端做最基础的准备与优化。当然，最难的部分我们已经搞定了！祝贺吧！\n\n\n\n·七、对Minecraft服务端的设置·\n\n\n    至此，我们开始最终的重要步骤——对Minecraft服务端进行最终的设置。\n    首先我们得同意EULA协议，使用下面的指令来通过nano文件编辑器来更改EULA.txt。\n\n\nsudo nano eula.txt复制代码    将\"eula=false\"改为\"eula=true\"，Ctrl+O保存，Ctrl+X退出。\n    此时我们需要将服务器再运行一遍。服务器完整运行后（因为配置的原因，等待生成地图可能需要一段时间。我在自家树莓派2上用了430多秒。树莓派3相对于树莓派2有显著性能提升，这也是我们推荐使用树莓派3的原因），使用stop指令使服务器完全停止，第二次重启时再使用Ctrl+C来强制退出循环。\n    再使用编辑器来更改server.properties文件（服务器的配置文件，无论是开什么服在正式运行服务器之前配置该文件是必须的步骤）。指令是什么就不用我多说了。\n    大概，按照惯例，我们还是改这么几项东西。\nallow-nether=true\nlevel-name=world         //地图文件名称\nenable-query=false\nallow-flight=false\nrcon.password=\nserver-port=25565         //服务器端口，25565为默认端口。\nquery.port=25565\nlevel-type=DEFAULT      //地图类型，Default为默认，FLAT为超平坦，LARGEBIOMES为巨型生物群系\nenable-rcon=false\nlevel-seed=        //地图种子\nserver-ip=       //地图ip，可留空\nmax-build-height=256\nspawn-npcs=true\nwhite-list=false\nspawn-animals=true\ntexture-pack=\nsnooper-enabled=false\nhardcore=false\nonline-mode=false           //是否开启正版验证（盗版服请改为false）\npvp=false\ndifficulty=1\ngamemode=0\nmax-players=20       //最大玩家数，推荐不改动\nrcon.port=25575\nspawn-monsters=true\ngenerate-structures=true\nview-distance=10\nmotd=A Minecraft Server复制代码    这里我们把一些必要的东西需要改了，其它的话基本不用动，看各自情况吧。（详细的设置教程：http://www.mcbbs.net/thread-5531-1-1.html ）\n    用快捷键保存+退出，我们还需要装几个必备的插件。\n    1、NoSpawnChunks，老牌优化插件。（1.5.2-1.7.2: http://www.mcbbs.net/thread-385911-1-1.html 1.8.x: http://www.mcbbs.net/thread-443407-1-1.html ）\n    2、ClearLag，扫地大妈。（1.4.7-1.8: http://www.mcbbs.net/thread-495491-1-1.html ）\n    我们所需要的基本优化插件大概就为这两个。\n    在将插件传输到树莓派前，我们还需要做一项工作。因为服务端生成的文件都默认为755权限（其它组用户无写入权限，就是说你用ftp连接树莓派的话无法向树莓派传输文件），因此我们需要用下面的指令来递归更改pi文件夹中所有文件/文件夹的权限为777。使用下面一条指令即可：\nsudo chmod -R 777 /home/pi复制代码    此时我们就有权限使用sftp来传输插件了。\n    之后我们再用FileZilla来传输插件，此时无需再次输入一遍信息来连接树莓派，只需要按下快速连接旁的下拉菜单，有历史记录，输入密码即可。\n    点进plugins文件夹，将两个文件拖入右下格中，即可传输完毕。\n\n    如果出现了传输失败的情况，并且上面信息如下图所示：\n\n    那么很可能是你的权限指令没有用好，或者是创建了新的755权限文件/文件夹（即使用系统权限创建的文件夹）。解决方法是再使用一遍上面的指令即可。\n    配置完毕后，我们返回图形界面，在命令行中再次使用sh指令来运行服务端。这次使用20多秒即可进入服务器（树莓派3为14~16秒），待得服务器提示done!后，我们打开Minecraft，多人模式，创建服务器，在服务器地址一栏填上树莓派的IP地址+端口（若是默认25565端口可不填）：\n\n    之后返回列表，连接服务器：\n\n    至此，最终一步完成，Minecraft+Raspberry Pi 环境下服务器搭建至此结束。\n\n\n·八、使用树莓派开服时的技巧、注意事项与其它补充·\n\n\n    服务器确实正常运行了，但是想要流畅与安全地使用可能还是得做一些其它的准备，于是本篇对在树莓派上开服的技巧做一些补充。\n\n    1、突然崩服所需要作的安全准备\n    最有效的方法是配备AutoSaveWorld插件（1.2.5-1.8.9: http://www.mcbbs.net/thread-122476-1-1.html ），它会隔一段时间自动保存你的世界并且配有自动崩溃重启的功能（虽说已经有循环脚本了），再也不用担心崩溃丢图了~与此同时，CraftNotify插件（崩溃自动发送邮件-全版本: http://www.mcbbs.net/thread-523223-1-1.html ）可能会为你提供一点帮助。\n\n    2、对服务器插件配置的方法\n    有两种方法，麻烦程度都差不多，只不过后一种方法支持中文输入而已，各位看情况选择吧。\n    （1）在系统里面直接用nano编辑器编辑。\n    这里我们用扫地大妈（ClearLag）的配置来做示范。\n    新开一个命令行，输入以下命令。\ncd plugins     //移动到plugins文件夹中\ndir        //查看当前目录的所有文件夹和文件（可省略）\ncd ClearLag       //移动到扫地大妈的插件文件夹中\nsudo nano config.yml     //使用编辑器编辑config.yml文件复制代码    在编辑器中编辑完了config.yml之后使用Ctrl+O来保存，Ctrl+X来退出，再使用下面指令来打开服务器：\ncd        //移动到pi文件夹中\nsh runspigot.sh       //执行sh脚本runspigot.sh复制代码    我们不推荐使用reload指令，不过你可以使用AutoSaveWorld的插件管理功能，这样子的话就没必要来关闭服务器后配置再开启服务器，会要方便一点。\n    注：使用AutoSaveWorld的插件管理卸载ProtectPlugin时可能有插件无响应现象。\n\n    （2）在电脑上通过sftp将配置文件下载后编辑\n    注意，在每次使用此方法之前，我们推荐使用一遍上方写出的权限更改指令，避免出现上传配置失败的情况。\n    打开FileZilla，连接树莓派，进入plugins/ClearLag文件夹。\n\n\n\n\n    右键config.yml，下载。注意，下载的是图示中左边一格的本地站点目录。并且在windows中编辑会出现编码不同的情况，我们推荐使用Notepad++来编辑。编辑完之后保存，删除树莓派上的config.yml，右击本地站点上的config.yml，上传。这种方法的好处是可以在windows上来输入中文配置config.yml。注意，我们使用的编码是UTF-8，其它编码上传到树莓派中会导致乱码。\n\n    3、退出循环时的时间把控\n    如果你想要关服，而服还没完全关闭，你就Ctrl+C，那你估计整个人都要不好了。所以退出循环时的时间把控很重要，大概在下一次\"Loading libraries....\"出现时使用组合键最好。一定要避免服还没关完就强制退出的情况。\n\n    4、 关于安全插件的一点建议\n    前面就说过，我们的服务器的建立基础在没有熊的条件上。所以对于一般根据此教程建出来的小服我们不需要那么多夸张的安全插件（例如:GreatFireWall），并且也没熊来专门炸你服。所以我们推荐装一些最低限度的安全插件即可（毕竟内存珍贵），当然我个人比较喜欢使用NeverLag（地址：http://www.mcbbs.net/thread-415779-1-2.html）。\n    对于登陆插件，简洁为上，不应使用功能过于强大的登陆插件（比如说用了网页后台，数据库什么的，即使是老牌插件Authme）。本人使用的是UltraAuth（1.8: http://www.mcbbs.net/thread-551870-1-1.html ），对于不支持的服务端版本可以选择其它功能简洁的登陆插件，或许会是一个好的选择。\n\n    5、关于优化的一点建议\n    个人亲身经历，对树莓派的优化应当适可而止。装一大堆优化插件的话可能不仅没有起到优化的效果，还拖慢了服务器的处理速度，占用了服务器的性能。优化应当充分利用现有的优化插件和功能，花心思来配置优化选项，这样一样能起到比较好的优化效果。当然，超平坦建筑服基本可以无视。如果硬要追求最高流畅度的话，按照这篇优化教程会是一个很好的选择（非广告）：http://www.mcbbs.net/thread-478126-1-1.html ，按照这篇教程配合PaperSpigot+NeverLag应该能取得较好的优化效果。\n\n    6、在树莓派上学习Minecraft编程的更好方法\n    其实大部分玩家心中应该有数了——借助RaspberryJuice插件（1.4.6-1.8.1: http://www.mcbbs.net/thread-506118-1-1.html ），在vnc上使用树莓派自带的IDLE，在电脑端上连接树莓派的服务器，能取得更好的编程时玩耍的效果~\n\n    7、对于服务器的装饰及建造\n    基本插件我们推荐ColorMOTD（1.7-1.9: http://www.mcbbs.net/thread-448326-1-1.html ）基本上有了这个能达到一个服务器逼格较高的状态。其它的话加些轻量级装饰插件尽量对服务器的内存和处理不要有影响。我倒是觉得一款oLL's Who Is Online（1.7.2-1.8: http://www.mcbbs.net/thread-550337-1-1.html ）挺有意思。\n\n    8、其它插件安装的一些建议\n    我们推荐——对服务器没有实际作用的，但又非轻量级插件的，就不用装了。对于服务器的插件数量当然是越少越稳定。即使是轻量级插件也不用一大堆一大堆的装，像服务器造好以后就不断在服务器插件版收集插件的腐竹树莓派是拒绝的。亲身经历，谨慎安装插件。\n\n    9、从外网连进树莓派\n    对此，只需要用映射就行，不过需要映射到树莓派的IP上，端口为25565。至于教程的话我就不多说了，因为论坛里已经有大量类似的教程，也有精品帖。至于我用的是花生棒，效果还挺不错的。那么关于这点在论坛里可以自行搜索，这里不再复述。\n\n    10、接下来你可能会遇到的问题\n    一是从外网连进内网的问题，需要映射，这点我们已经提过了。二是关于插件配置的一些问题，还有一些其它七七八八的问题（崩溃之类的）。如果你是一个开服小白的话，并且你还想开一个比较厉害的插件服或者是一类的服务器，还是推荐你去看看其它的教程。我们不会详细讲解下一步该怎么做，或者是放上相关内容的索引——因为这类帖子真的很多。\n\n    11、不要使用过高的Minecraft版本\n    经过一段时间的实践，用树莓派建的建筑服过量使用WE得到了很惨重的代价。我们建议，不要使用过高的版本（建议使用1.7及以下），不然的话树莓派很可能会因MC崩溃，然后陷入开启就崩溃的恶性循环当中。\n    并且根据实践经验，我们建议各位新地图制作团队不要使用树莓派来架设服务器，否则的话可能会对地图造成未知的破坏。\n    当然如果你和基友玩耍生成1.7也就差不多够了www\n\n    以及更多需要你在实践中注意的事情，欢迎各位补充。\n    最后需要注意，如果想要获得更好的效果，在硬件上请使用树莓派3。\n\n\n·九、成品服务器的部分内容展示与比较·\n\n\n     SunEditorStudio建筑服部分内容展示：（建筑师：xihe77 , ajcxsu , r.e.d）\n\n\n\n\n\n     树莓派3下服务器ProtectPlugin跑分测试：\n\n     树莓派2配置：\n处理器：博通BCM2836（CPU, GPU, DSP, SDRAM和一个USB端口）\n-CPU：900MHz的四核ARM Cortex A7（ARMv7架构）\n-GPU：博通VideoCore IV @ 250 MHz\n-OpenGL ES 2.0 (24 GFLOPS)\n-1080P 30 MPEG-2和VC-1解码器 (带授权证书)\n-1080p30的H.264 / MPEG - 4 AVC高调解码器和编码器\n内存：1GB（同GPU共享）\nUSB端口：4个\n视频输入：15针的MIPI摄像头接口（CSI）控制器\n视频输出：HDMI、通过3.5mm套件的复合视频（PAL和NTSC）\n音频输出： I?S\n音频输入：3.5mm耳机套件，通过HDMI和 I?S进行数字输入\n存储：MicroSD卡\n网络：10/100 Mbit/s Ethernet\n外设：17 GPIO加特殊功能，和HAT ID总线\n电源:800 mA (4.0 W)\n电源来源：通过MicroUSB或者GPIO头的5V电\n尺寸： 85.60 mm × 56.5 mm\n重量：45g    树莓派3配置：64-bit 1.2 GHz ARM Cortex A53 处理器内置 WIFI ，兼容 2.4GHz 802.11 b/g/n\n视频和 3D 性能进步明显支持蓝牙 4.1 规范\n4 个 USB 2.0 端口10/100 以太网HDMI 端口3.5mm 音频口和视频输出CSI 和 DSI 摄像机和显示连接器\nmicroSD 插槽以及 GPIO 插槽\n    相比之下，我们更推荐使用树莓派3，其可能更接近服务器理想状态。如果你经费充足当然可以两个都试一下。    当然如果你预算充足，可以换用内存更大，CPU更快的树莓派4。\n\n\n附录、树莓派上MySQL的安装与配置\n    本篇讲述了在树莓派上MySQL（一些特殊插件可能需要）的安装的全部过程_(:зゝ∠)_\n    可跳过本章\n\n1.在执行本章之前所需要做的小小准备\n    首先，执行本章之前请务必确认你已经完成了上面的全部步骤！本篇所讲述的内容全部建立在你已经完成了上面的搭建服务器的步骤以及对该系统环境下的命令行有一些了解的情况下进行的！所以如果你还没有完成上面的步骤，你就不要再往下看了看了也是白搭浪费时间~还没看完上面的还是先花心思来搭好服务器先吧_(:зゝ∠)_。\n    第二，本章所讲述的内容不仅仅只适用于树莓派，可以适用于大部分基于Linux的系统。\n    第三，本章所讲述的内容并非只用在一台树莓派上执行！我们推荐分别使用两台树莓派，一台用来安装MySQL（树莓派2可运行），一台用来运行MC服务器（推荐使用树莓派3）。当然这两台服务器必须在同一个局域网中并且都使用有线连接。\n    第四，数据库是什么？简单来说可以看做是储存信息的场所，相当于一个电子化仓库——用户可以对里面的信息采取操作。对此我们就不再解释更多了，我们主要说明如何来使用它，还想了解更多的话自行度娘:)。\n    第五，如果你决定使用同一台树莓派的话，在执行下面的步骤之前先关闭MC服务器。有必要的话可以备份一下有关文件。\n    第六，本章基本上用不上图形界面，所以你全程可以使用SSH来执行本章。\n    第七，我们使用网页管理MySQL:)会更为方便。\n    第八，有啥不懂的没关系，照着代码打就行了~\n    下面开始正题。\n\n2.安装MySQL\n    在安装MySQL之前，我们建议你使用下面的命令来对树莓派进行更新，否则安装时可能出现谜之错误。\n\nsudo apt-get update复制代码   需要等待一小会儿。如果网络渣的话可能半天弄得完。半天弄不完的话我就没啥办法了，人品问题。当然可以多试几次。\n    等待到重新可以输入指令时，即更新完毕。\n    用下面的指令来安装MySQL：\nsudo apt-get install mysql-server mysql-client复制代码   如下图，中间会弹出一些提示，它会让你设置MySQL的密码，并且会让你输两次，就两次输同样的密码就行了。\n\n    等待一段时间，让它安装完以后，我们就来看看MySQL是否正常运行。输入下面指令来进入MySQL：\nmysql -u root -p   //使用账号'root'登入MySQL复制代码   然后输入密码，回车，如下图，如果有欢迎消息，则MySQL安装成功。输入下面的指令来退出MySQL——我们可以用更方便的方式来配置MySQL。\n\n\\q复制代码   至此已经安装好了MySQL，我们还需要对它进行配置来解除只有本地能够访问的限制。\n    输入下面的指令来编辑配置文件/etc/mysql/my.cnf：\nsudo nano /etc/mysql/my.cnf复制代码   使用Ctrl+W组合键来打开搜索栏，输入'bind-address'来定位到对应的一行，在该行前加上'#'来将整行代码注释掉，Ctrl+O保存，Ctrl+X退出。Ctrl+W组合键是很有用的东西，我们之后还会经常用到，所以还请记住哟~\n\n\n\n3.安装Nginx\n    因为我们要通过网站来管理MySQL，所以下面的步骤讲述如何用网站来方便的管理MySQL~如果你熟悉MySQL的操作就可以到此为止了。\n    输入下面的指令来安装nginx——所需要的网站服务器，以及更改网站根目录权限，最后输入代码来启动nginx。就是说，我们要通过nginx来搭建一个网站的平台:)\nsudo apt-get install nginx\nsudo chmod -R 777 /var/www/html\nsudo /etc/init.d/nginx start   //注：每次重启时需重新运行该行代码，你可以选择把代码填进上文中的runspigot.sh脚本中，当然要填写在while前面复制代码   在浏览器中访问树莓派的IP地址来查看nginx是否正常运行（我的IP地址换成了建筑服_(:зゝ∠)_）。若结果如下图所示则安装成功~\n\n\n\n4.安装PHP5与配置Nginx\n    输入下面的代码来安装一系列文件：\nsudo apt-get install php5-cli php5-cgi php5-fpm php5-mcrypt php5-mysql php5-gd php-apc php5-common复制代码   等待安装完以后，我们需要配置Nginx来配合PHP5。使用下面的指令来打开配置文件：\nsudo nano /etc/nginx/sites-available/default复制代码   搜索到'index'，在下面一行填上'index.php'：\n\n    再往下翻找到如图代码：\n\n\n    将前面的部分注释删掉，注意不要漏掉大括号之前的'#'，如下图：\n\n\n    再往下翻一点，找到如下代码，将前面注释删去（下为修改后代码）：\n\n\n    确认无误后，保存+退出。使用下面代码来重启nginx：\nsudo /etc/init.d/nginx restart复制代码\n\n\n5.安装phpMyAdmin\n    我们将使用这个重头戏——phpMyAdmin来管理MySQL，有了它以后就可以通过网页后台很方便的使用MySQL，将树莓派与外网连通后甚至可以在外面用手机在网页上管理MySQL_(:зゝ∠)_\n    前往phpMyAdmin官网（https://www.phpmyadmin.net/）下载源文件（截止到写该教程前最新为4.6.2版本），如图所示：\n\n    下载后立即解压。使用FileZilla（上文提到的使用SFTP连接树莓派的软件）连上树莓派，进入/var/www/html，你可以直接在右上角的“远程站点”处输入地址。将解压后的文件夹拖入右下格，你可以把文件夹重命名成\"admins\"（或者其它你觉得好的名称）以方便访问。如果你失败了，可能是因为你忘记执行或输入错了上面的权限指令（chmod），可以返回再检查一下有何遗漏之处:)\n\n    使用下面的指令来配置phpMyAdmin：sudo chmod -R 755 /var/www/html/admins   //给予phpmyadmin目录755权限，否则无法正常运行\ncd /var/www/html/admins   //移动至phpmyadmin的根目录（注意，这里'admins'为改名后的文件夹）\nsudo cp config.sample.inc.php config.inc.php\nsudo nano config.inc.php复制代码    1、搜索'blowfish_secret'（注意，包括引号【'】），将等于号后面的两个单引号之间填上密语（自行设置）。    2、在文档的末尾处添下面的代码：$cfg['servers'][$i]['user'] = 'root';\n$cfg['servers'][$i]['password'] = '<密码>';\n//<密码>处换成安装MySQL时所设置的密码复制代码    3、保存，退出。    此时访问http://<IP>/admins时会看到如下的界面，上方语言可更改成简体中文，在用户名处填写'root'，密码处填写MySQL的密码。\n    按“执行”，顺利的话你会看到如下的界面，此时MySQL全部安装完毕！\n\n    （此时下面还有一个未激活全部功能，点击'查看原因'，再点击'create'即可）\n    此时，树莓派上的MySQL+phpmyadmin环境架设完毕，若要更加的深入可以去看看其他的教程~\n\n·十、后记·\n\n    综上所述，使用该教程的开服优点和缺点都较为明显：\n    1、成本小，获得长期24小时个人服务器\n    2、耗电少，基本上不会吃掉很多钱\n    3、占地面积小，字面意思\n    4、额外成本少，无需在专门配置树莓派的外设\n    -1、树莓派配置较低，易崩服\n    -2、对熊孩毫无抵抗之力\n    -3、配置复杂，刚开始还是英文环境\n    -4、带不动较多插件/mod    -5、崩服之后损失较难补偿\n    对此我的意见是——看个人的综合情况，下面的四个缺点在我们所述的情况下基本上影响不大，教程适合学生党用来做基友服。如果你的经费充足，并且有能力/精力来开更好的服务器，我们不推荐你使用这篇教程，当然，可以作为参考。    用树莓派开服开了半年，学习到了很多，也明白了很多，当然因为树莓派的配置，结局也不怎么地。    其实可以把树莓派当个模拟环境来实践开服，能学到不少东西=w=。    那么这篇教程也就完结了，希望能给大家提供一点帮助，有什么问题可以私信我哦~\n    本教程所借鉴的：    1、Linux下Nginx、MySQL、PHP5、phpMyAdmin安装与配置 http://www.pythoner.com/197.html    2、树莓派：2安装MySQL - Dn9x http://www.tuicool.com/articles/BzqUfi\n    3、（灵感来源）用树莓派搭建Minecraft服务器 http://shumeipai.nxez.com/2013/11/21/how-to-run-low-cost-minecraft-on-a-raspberry-pi-for-block-building-on-the-cheap.html?variant=zh-cn    4、Minecraft配置文件摘自人所皆知的置顶的服务器搭建教程（地址就不贴了）\n\nby SunEditorStudio  ajcxsu\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "360导航",
            "timestamp": 1468816140,
            "txt_content": "然后呢，为啥子没了"
        },
        {
            "author": "2424642152",
            "timestamp": 1468908600,
            "txt_content": "支持一下"
        },
        {
            "author": "sofa",
            "timestamp": 1473963720,
            "txt_content": "手持3b，弄成了个wifi小车\n装个服务端上就成移动服务器了耶233"
        },
        {
            "author": "68682",
            "timestamp": 1482552720,
            "txt_content": " 本帖最后由 68682 于 2016-12-24 12:38 编辑 \n360导航 发表于 2016-7-18 12:29\n然后呢，为啥子没了\n点目录再看"
        },
        {
            "author": "红人.Sx",
            "timestamp": 1490517720,
            "txt_content": "spigot.sh: 1:runspigot.sh: ture: not found \nlz这怎么办\n我们好像还没装java呢"
        },
        {
            "author": "红人.Sx",
            "timestamp": 1490517780,
            "txt_content": "红人.Sx 发表于 2017-3-26 16:42\nspigot.sh: 1:runspigot.sh: ture: not found \nlz这怎么办\n我们好像还没装java呢\n还有那个PaperSpigot能不能发我一份1.8.8的"
        },
        {
            "author": "360导航",
            "timestamp": 1493293800,
            "txt_content": "68682 发表于 2016-12-24 12:12\n**** 作者被禁止或删除 内容自动屏蔽 ****\n恩呢  ..........."
        },
        {
            "author": "称全",
            "timestamp": 1531507080,
            "txt_content": "感谢，就是我想知道树莓派对服务端的类型有要求吗"
        },
        {
            "author": "3305083699",
            "timestamp": 1537784040,
            "txt_content": "楼主赶紧出教程啊，后续呢，期待"
        },
        {
            "author": "1904688138",
            "timestamp": 1544270820,
            "txt_content": "大佬，解压出来的东西有4.9G，电脑装不下啊"
        },
        {
            "author": "1723624171",
            "timestamp": 1544608200,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "32651561",
            "timestamp": 1572779340,
            "txt_content": "支持支持"
        },
        {
            "author": "lpf1997",
            "timestamp": 1582350660,
            "txt_content": "楼主，为啥我修改eula失败呢？修改完，一运行.sh文件，修改好的ture就变回flass"
        },
        {
            "author": "舞月浅蓝",
            "timestamp": 1588990020,
            "txt_content": "树莓派4b真的香了"
        }
    ]
}