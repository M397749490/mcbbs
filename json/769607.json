{
    "title": "自定义主界面-CustomMainMenu--食用方法",
    "author": "酒石酸菌",
    "replyCount": 57,
    "timestamp": 1518183240,
    "txt_content": " 本帖最后由 酒石酸菌 于 2018-2-10 16:11 编辑 \n\n\nCustom Main Menu 简单介绍\n\n1.简介\nCustom Main Menu 是一个能够自定义主界面的模组，需要配合 Resource Loader 模组使用。采用json语法写的配置文件，可以热加载出自定义的样式。使用方式颇有点像CSS样表。许多著名的国外整合包无一例外都采用了这个模组。效果非常好，这里拿几个作者设计的样式给大家看看吧。（作者美工水平不咋行啊）\n\n\n\n\n\n\n\n\n2.文件结构\n配置文件为游戏主文件夹下 config\\CustomMainMenu\\mainmenu.json 文件； 所有的图片文件地址都在游戏主文件夹下 resources\\mainmenu 文件夹下。目前这货好像还不支持 UFT-8 编码，所以还是别用中文了吧【还看着干什么，快去github轰炸作者吧，这作者是我见过最偷懒的作者】。修改好了之后，在主界面按下 ctrl+r 键即可重载配置。配置文件结构一般如下{\n\"images\": {\n        \"图片一\": {\n        },\n        \"图片二\": {\n        }\n    },\n\n\"buttons\": {\n        \"按钮一\": {      \n        },\n        \"按钮二\": {      \n        }\n    },\n\n\"labels\": {\n        \"文本一\": {      \n        },\n        \"文本一\": {      \n        }\n    },\n\n\"other\":{\n        \"background\":{          \n        }\n    }\n}复制代码\n3.背景的添加背景分为动态背景和静态背景。    （1）静态背景：\n{\n\"other\":{\n        \"background\":{\n            \"image\":\"mainmenu:001.png\",\n            \"mode\":\"fill\"\n        }\n    }\n}复制代码\n如案例所示，背景属于\"other\"分区，有两个参数可选：image：【可选】标定着背景图片的地址，注意这个地址写法比较特殊。图片只支持png格式。\nmode：【可选】图片的填充模式，有fill, stretch, center, tile四个选项可选。\nfill：适应，保证图片长宽比前提下，尽可能铺满屏幕。会适当裁剪图片。stretch：拉伸，尽可能铺满屏幕，如果不合适会强制拉伸图片。center：居中，不改变图片大小和比例，依据屏幕大小裁剪图片。tile：平铺，重复图片铺满屏幕。\n\n（2）动态背景\n{\n\"other\":{\n    \"background\":{\n            \"image\" : \"\",\n            \"slideshow\":{\n                \"images\" : [\"mainmenu:001.png\",\"mainmenu:002.png\",\"mainmenu:003.png\"],\n                \"displayDuration\" : 100,\n                \"fadeDuration\" : 40\n            }\n        }\n    }\n}复制代码\nimage：此时为空，但是不可略去不写。slideshow：添加循环的图片背景。\nimages：添加循环的图片地址。displayDuration：图片停留时间，单位为tick。fadeDuration：转换图片时间，单位为tick。\n\n4. 文字的添加\n        网络加载文字：\n{\n\"labels\": {\n    \"changelog\":{\n          \"text\":\"web:http://pastebin.com/raw.php?i=MmSCr6zV\",\n          \"posX\" : 2,\n          \"posY\" : 0,\n          \"color\" : -1,\n          \"alignment\" : \"left_center\"\n        }\n    }\n}复制代码\n        硬编码文字加载【不支持中文哦，会乱码的】\n{\n\"labels\": {\n      \"mojang\": {\n          \"text\" : \"Copyright Mojang AB. Do not distribute!\",\n          \"posX\" : -197,\n          \"posY\" : -10,\n          \"color\" : -1,\n          \"alignment\" : \"bottom_right\"\n        }\n    }\n}复制代码\ntext：文字，可选网络加载文字，加载诸如更新日志一类的东西。文字中可以直接内镶Minecraft原版支持的颜色代码，还可以直接调用语言文件中的key加载文字。文字中还可以使用占位符太指代特定数据，占位符有如下几种：\n#mcversion#：MC的版本#fmlversion#：FML的版本#mcpversion#：MCP的版本#forgeversion#：Forge的版本#modsloaded#：mod加载数量#modsactive#：mod激活数量#time#：时间#username#：当前游戏ID#date#：当前日期（调取的系统时间）\nposX, posY：文字定位。如果不设定alignment参数，默认中心对齐。color：颜色代码，采用整型数表示的RGB码。alignment：对齐方式，有bottom_left, bottom_right, top_left, top_right, button, center, top_center, left_center, bottom_center, right_center。\n\n        除此之外还有几个属性可以选择添加：\nhoverColor：鼠标悬浮上去的颜色。hoverText：鼠标指针悬浮上去的文字。anchor：可以传入start，middle，end三个参数，分别对应左、中、右对齐。action：用户点击文字之后会发生的行为，和按钮添加部分的action用法一致，此处不再细说。fontSize：字体的大小。\n\n\n     推荐两个使用的颜色代码网站：\nColor Hex Color Codes：能够查询颜色的RGB码等诸多信息。Calculate RGB Int：可以将RGB码专为10进制。\n\n\n5.图片的添加\n    图片只能用png格式。\n{\n    \"images\":{\n        \"picture\":{\n            \"image\":\"mainmenu:001.png\",\n            \"posX\":-120,\n            \"posY\":-120,\n            \"width\":240,\n            \"height\":240,\n            \"alignment\":\"center\"\n        }\n    }\n}复制代码\nimage：图片地址。posX, posY：图片坐标，定位点为图片左上角。width, height：图片大小，过大的部分会直接裁减掉。alignment：对齐方式\n\n    除此之外还可以添加：\nhoverImage：鼠标指针悬浮上去的图片。slideshow：和之前讲过的slideshow用法一致，此处不再累述。\n\n    推荐一个好用的，制作minecraft样式文字图标的网站：textcraft。\n\n6.按钮的添加\n{\n\"buttons\":{\n        \"singleplayer\":{\n            \"text\":\"menu.singleplayer\",\n            \"texture\":\"mainmenu:shortbutton.png\",\n            \"posX\":-100,\n            \"posY\":-8,\n            \"width\":98,\n            \"height\":20,\n            \"imageWidth\":98,\n            \"imageHeight\":20,\n            \"alignment\":\"center\",\n            \"action\":{\n                \"type\":\"openGui\",\n                \"gui\":\"singleplayer\"\n            }\n        },\n        \"ftbForums\":{\n            \"text\":\"FTB Forums\",\n            \"texture\":\"mainmenu:shortbutton.png\",\n            \"posX\":2,\n            \"posY\":58,\n            \"width\":98,\n            \"height\":20,\n            \"imageWidth\":98,\n            \"imageHeight\":20,\n            \"alignment\":\"center\",\n            \"action\":{\n                \"type\":\"openLink\",\n                \"link\":\"https://forum.feed-the-beast.com/forum/\"\n            }\n        }\n    }\n}复制代码\ntext：按钮上的文字，可以直接调用lang文件中的key，或者是直接写上文字（不支持中文，会乱码）。texture：按钮背景图片。posX, posY：按钮图片坐标，定位点为图片左上角。width, height：按钮图片大小，过大的部分会直接裁减掉。alignment：对齐方式。\n\n\n    除此之外还可以添加这几个参数\nhoverText：鼠标悬浮时候显示的文字。normalTextColor：文字颜色。hoverTextColor：鼠标悬浮时候显示的文字颜色。textOffsetX， textOffsetY：按钮文字的对齐数值。tooltip：显示文本提示。\n\n    当然，还有我们最重要的action参数，action下必须要有type参数，可以传入openLink, openGui, quit, refresh, connectToServer, openFolder。\nopenLink：打开一个链接。\n\"action\":{\n      \"type\":\"openLink\",\n      \"link\":\"https://www.feed-the-beast.com\"\n}复制代码\nopenGui：打开特定的GUI\n\"action\":{\n        \"type\":\"openGui\",\n        \"gui\":\"languages\"\n}复制代码\ngui参数里可以传入的数据有（自己猜意思吧，懒得翻译了）\n  mods\n  singleplayer\n  singleplayer.createworld\n  multiplayer\n  options\n  languages\n  options.ressourcepacks\n  options.snooper\n  options.sounds\n  options.video\n  options.controls\n  options.multiplayer复制代码\nconnectToServer：连接的服务器，需要写入一个服务器ip。\n\"action\":{\n      \"type\":\"connectToServer\",\n      \"ip\":\"127.0.0.1\"\n}复制代码\nopenFolder：打开特定文件夹，需要注意的是默认的主目录是游戏主文件夹。\n\"action\":{\n      \"type\":\"openFolder\",\n      \"folderName\":\"config\"\n}复制代码\nquit和refresh参数，没有特定其他属性需要添加。\n",
    "replies": [
        {
            "author": "zjxx",
            "timestamp": 1518213360,
            "txt_content": "听说是支持ANSI编码？？\n\nhttp://www.mcbbs.net/thread-733677-1-1.html\n(猜猜那看到的）\n只不过怎么全是CMM的教程\n"
        },
        {
            "author": "酒石酸菌",
            "timestamp": 1518250320,
            "txt_content": " 本帖最后由 酒石酸菌 于 2018-2-10 16:15 编辑 \nzjxx 发表于 2018-2-10 05:56\n听说是支持ANSI编码？？\n\nhttp://www.mcbbs.net/thread-733677-1-1.html\n这是我去年夏天写的东西，前两天 4z 做了个 Markdown 转 BBCode 的工具，我就把它搬过来了。如果和别人有重复的，那我删掉吧 _(:з」∠)_\n至于编码问题，其实这个属于作者的疏忽。在没有特定限定编码的情况下，会优先使用系统编码，导致了在 Windows 下直接 UTF-8 编码会乱码，如果在 Unix 系统下 UTF-8 书写就不会乱码。\n"
        },
        {
            "author": "AmethystSEA",
            "timestamp": 1520951640,
            "txt_content": "感谢楼主的教程"
        },
        {
            "author": "MC_kemi",
            "timestamp": 1524069120,
            "txt_content": "大佬的教程还是那么详细，不过希望更新一下最新版的，还希望有空能出一些这类mod的教程，比如FTBLib、FTBUtilities这类的"
        },
        {
            "author": "lliiooll",
            "timestamp": 1525504920,
            "txt_content": "中文乱码只是需要转码，转为ANSI码就可以了"
        },
        {
            "author": "酒石酸菌",
            "timestamp": 1525506360,
            "txt_content": "lliiooll 发表于 2018-5-5 15:22\n中文乱码只是需要转码，转为ANSI码就可以了\n然后  Linux 用户和 MacOS 用户发出了 MMP 的声音"
        },
        {
            "author": "AmethystSEA",
            "timestamp": 1525512060,
            "txt_content": "gui背景可以支持高清图片吗，我放高像素的就显示到脚边了，挺难受的"
        },
        {
            "author": "酒石酸菌",
            "timestamp": 1525669020,
            "txt_content": "弦弓音 发表于 2018-5-5 17:21\ngui背景可以支持高清图片吗，我放高像素的就显示到脚边了，挺难受的\n可以啊，显示边角是你没有设定显示方式吧"
        },
        {
            "author": "AmethystSEA",
            "timestamp": 1525673220,
            "txt_content": "酒石酸菌 发表于 2018-5-7 12:57\n可以啊，显示边角是你没有设定显示方式吧\n怎么设置显示方式啊，按钮和标题我都需要设置高清的"
        },
        {
            "author": "酒石酸菌",
            "timestamp": 1525673640,
            "txt_content": "弦弓音 发表于 2018-5-7 14:07\n怎么设置显示方式啊，按钮和标题我都需要设置高清的\nfill：适应，保证图片长宽比前提下，尽可能铺满屏幕。会适当裁剪图片。\nstretch：拉伸，尽可能铺满屏幕，如果不合适会强制拉伸图片。\ncenter：居中，不改变图片大小和比例，依据屏幕大小裁剪图片。\ntile：平铺，重复图片铺满屏幕。"
        },
        {
            "author": "13050002",
            "timestamp": 1525676220,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "AmethystSEA",
            "timestamp": 1525701720,
            "txt_content": "\n这样也不可以啊。。。"
        },
        {
            "author": "AmethystSEA",
            "timestamp": 1525701960,
            "txt_content": "四个显示方式都尝试了，但就是在屏幕不同的位置显示边角"
        },
        {
            "author": "酒石酸菌",
            "timestamp": 1525704240,
            "txt_content": "弦弓音 发表于 2018-5-7 22:06\n四个显示方式都尝试了，但就是在屏幕不同的位置显示边角\nemmmm，那就不清楚了"
        },
        {
            "author": "AmethystSEA",
            "timestamp": 1525706700,
            "txt_content": " 本帖最后由 弦弓音 于 2018-5-7 23:57 编辑 \n\n我现在改成了点击空白区域进入游戏，那个\nhoverColor：鼠标指针悬浮上去的文字颜色\n请问要填什么，RGB码和&都没有用，就是鼠标悬浮于gui然后text变黄我想改成亮白"
        },
        {
            "author": "AmethystSEA",
            "timestamp": 1525712280,
            "txt_content": "没什么问题了，谢谢"
        },
        {
            "author": "酒石酸菌",
            "timestamp": 1525765440,
            "txt_content": "弦弓音 发表于 2018-5-7 23:25\n我现在改成了点击空白区域进入游戏，那个\nhoverColor：鼠标指针悬浮上去的文字颜色\n请问要填什么，RGB码和& ...\n十进制的RGB码"
        },
        {
            "author": "某狮",
            "timestamp": 1533197700,
            "txt_content": "谢谢楼主的细心教程！解决了我许多天的困惑"
        },
        {
            "author": "guting",
            "timestamp": 1533214500,
            "txt_content": "大佬的教程真详细"
        },
        {
            "author": "kuaile412",
            "timestamp": 1533726240,
            "txt_content": "大佬请问怎么让文字能够显示在线人数，还有调用语言文件中的key加载文字具体该怎么做呢？"
        },
        {
            "author": "w0998w",
            "timestamp": 1535462280,
            "txt_content": "kuaile412 发表于 2018-8-8 19:04\n大佬请问怎么让文字能够显示在线人数，还有调用语言文件中的key加载文字具体该怎么做呢？ ...\n我也是想问这个的"
        },
        {
            "author": "2631359987",
            "timestamp": 1547351460,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "GC_YKE",
            "timestamp": 1547822580,
            "txt_content": "其实CMM支持GBK编码的……不用UTF-8"
        },
        {
            "author": "酒石酸菌",
            "timestamp": 1547828580,
            "txt_content": " 本帖最后由 酒石酸菌 于 2019-1-19 00:26 编辑 \nGC_YKE 发表于 2019-1-18 22:43\n其实CMM支持GBK编码的……不用UTF-8\n是这样的，java 的 readStream 方法在默认情况是使用系统编码，这意味着在简体中文的 win 系统上使用的是 GB 编码，但是在 unix 系统，比如 MacOS 之类的上面则是 UTF-8 编码读取。\n\n所以这一块为了兼容各个操作系统，应当甚至必须强制限定 UTF-8 编码，但是很遗憾，作者很明显没有意识到这一点，因为欧美作者常用的英文字符大多限制于 ACSII 编码的那些字符，无论是他们用 win 系统（大多为 ISO8859-1 编码）还是 unix 系统（用 UTF-8 编码），在 ASCII 字符内都是互相兼容的，所以他们没有意识到这个问题。\n\n实际上无论是 Minecraft 官方还是 Forge 都无一例外对于所有文件读取限定了 utf-8 编码。\n\n综上所述，并非是 CMM 支持 GB 编码，而是作者犯错误未能支持所致。\n\n"
        },
        {
            "author": "heguo",
            "timestamp": 1548399660,
            "txt_content": "这个怎么改啊，就是客户端左下角的哪团字 \n\n\n\n\n\nGRWJRBN6`~806E[SCF[3HUC.png\n(4.3 KB, 下载次数: 4)\n\n\n\n\n下载附件\n\n\n2019-1-25 15:01 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "kemonohito",
            "timestamp": 1558011180,
            "txt_content": "推推推推推推推推推推推推推推推推推"
        },
        {
            "author": "花生小孩子",
            "timestamp": 1558613460,
            "txt_content": "楼主你好，请问能搬运你的教程在我的搬运此mod的贴子里吗？"
        },
        {
            "author": "酒石酸菌",
            "timestamp": 1559056440,
            "txt_content": "花生小孩子 发表于 2019-5-23 20:11\n楼主你好，请问能搬运你的教程在我的搬运此mod的贴子里吗？\n随便用，没有问题的"
        },
        {
            "author": "花生小孩子",
            "timestamp": 1559121420,
            "txt_content": "酒石酸菌 发表于 2019-5-28 23:14\n随便用，没有问题的\n好的谢谢"
        },
        {
            "author": "wangshg",
            "timestamp": 1561862820,
            "txt_content": "太棒了！正式需要的。"
        },
        {
            "author": "MR爱MC",
            "timestamp": 1562751120,
            "txt_content": "为什么我找不到存放图片的文件夹呢？？大佬求指点"
        },
        {
            "author": "MooNight_mi",
            "timestamp": 1563071220,
            "txt_content": "看到人家服务器里的自定义界面觉得特别的炫酷，奈何自己不会弄，但是有了这个教程，我觉得我也能做到!\n真是太感谢楼主了!!!"
        },
        {
            "author": "3255699296",
            "timestamp": 1569934920,
            "txt_content": "卧槽，大佬虽然写的很详细，但我没看懂加按钮的，我太难了"
        },
        {
            "author": "tlesa",
            "timestamp": 1570093740,
            "txt_content": "怎么转为ansi编码啊\nqwq....."
        },
        {
            "author": "Loginzz",
            "timestamp": 1577597220,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "sunjood",
            "timestamp": 1582256940,
            "txt_content": "支持一下！"
        },
        {
            "author": "啦啦啦1q2w3e",
            "timestamp": 1582301040,
            "txt_content": "好像和其他有 自带主界面的Mod 冲突"
        },
        {
            "author": "LPE",
            "timestamp": 1582714860,
            "txt_content": "求问这个能不能修改游戏菜单，就是那个ESC出来的菜单"
        },
        {
            "author": "这里小雨.",
            "timestamp": 1582964640,
            "txt_content": "那个textcraft是哪个国家的啊.加速器都不知道挂哪里"
        },
        {
            "author": "至尊毁灭神",
            "timestamp": 1584328020,
            "txt_content": "为什么我加了无法使用材质包"
        },
        {
            "author": "fangfufeng",
            "timestamp": 1587209820,
            "txt_content": "感谢楼主大大很有帮助"
        },
        {
            "author": "lyqhhh",
            "timestamp": 1588743600,
            "txt_content": "如何设置一个按钮的背景在鼠标移动过去后变成另一个"
        },
        {
            "author": "2231003533",
            "timestamp": 1591109160,
            "txt_content": "感谢楼主"
        },
        {
            "author": "xqx145236",
            "timestamp": 1591536420,
            "txt_content": "这个教程写的好，一些cmm详细地方都写到了"
        },
        {
            "author": "1005057343",
            "timestamp": 1594118520,
            "txt_content": "很详细，感谢分享"
        },
        {
            "author": "快乐happy",
            "timestamp": 1597310220,
            "txt_content": "这未必也太详细了吧"
        },
        {
            "author": "1119339953",
            "timestamp": 1597334400,
            "txt_content": "非常详细 非常感谢"
        },
        {
            "author": "假飘piao",
            "timestamp": 1597439460,
            "txt_content": "感谢分享感谢感谢"
        },
        {
            "author": "傲普斯顿",
            "timestamp": 1598094480,
            "txt_content": "大佬  为什么图片材质错误了呀  改哪种模式都不行   还对图片大小有要求？我这张是1.38M的"
        },
        {
            "author": "wznaw",
            "timestamp": 1598863920,
            "txt_content": "可以啊！"
        },
        {
            "author": "Gay_panda",
            "timestamp": 1599328260,
            "txt_content": "请问动态背景显示为黑紫方块可能是什么原因\n静态背景可以正常显示图片"
        },
        {
            "author": "HARRY_XXX",
            "timestamp": 1599629100,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "悠远天穹",
            "timestamp": 1600248780,
            "txt_content": "看不懂有谁跟我说说的"
        },
        {
            "author": "我想啸啊",
            "timestamp": 1601017980,
            "txt_content": "图片添加到哪个文件夹内。。安装之后直接成这样了 界面 \n\n\n\n\nQQ图片20200925144632.png (188.18 KB, 下载次数: 6)\n\n下载附件\n\n2020-9-25 15:13 上传\n\n\n\n\n"
        },
        {
            "author": "我想啸啊",
            "timestamp": 1601017980,
            "txt_content": "MR爱MC 发表于 2019-7-10 17:32\n为什么我找不到存放图片的文件夹呢？？大佬求指点\n同问！！"
        },
        {
            "author": "4641321",
            "timestamp": 1601980800,
            "txt_content": "为什么我换背景时无论试多少次都是这样\n\n\n\n\nimage.png (144.75 KB, 下载次数: 3)\n\n下载附件\n\n2020-10-6 18:40 上传\n\n\n\n\n\n\n\n\nimage.png (168.03 KB, 下载次数: 6)\n\n下载附件\n\n2020-10-6 18:40 上传\n\n\n\n\n\n"
        },
        {
            "author": "wunaimzy",
            "timestamp": 1607893200,
            "txt_content": "很详细 谢谢"
        }
    ]
}