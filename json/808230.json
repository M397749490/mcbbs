{
    "title": "[插件开发问题]为什么PlayerItemHeldEvent事件检测出的物品是切换前的？",
    "author": "Jonjs_Dada",
    "replyCount": 3,
    "timestamp": 1532314440,
    "txt_content": "为什么PlayerItemHeldEvent事件检测出的物品是切换前的？\n怎么禁止使用切换后的物品？",
    "replies": [
        {
            "author": "Gyzer",
            "timestamp": 1532323380,
            "txt_content": "public void onHelditem(PlayerItemHeldEvent e)\n{\nPlayer p=e.getPlayer();\n\n#获得切换后的位置\nint ni=e.getNewSlot();\n#获取该格子的物品\nItemStack i=p.getInventory().getItem(i);\n\n\n}"
        },
        {
            "author": "咸鱼气功王",
            "timestamp": 1532324580,
            "txt_content": "F键切换物品是 PlayerSwapHandItemsEvent 吧"
        },
        {
            "author": "zghh008",
            "timestamp": 1532342040,
            "txt_content": "因为他是实现了cancellable,何为cancellable？是运行事件取消的一个接口，按照规范，实现了此接口的事件是运行取消事件的，而例如PlayerItemHeldEvent事件，为了保持原来的状态，bukkitapi是在实际玩家切换之前call的这个事件，而如果被取消了，它就不会执行这次切换操作，而没有取消才继续进行。"
        }
    ]
}