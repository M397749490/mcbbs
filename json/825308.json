{
    "title": "Sponge神奇宝贝服务器 如何解决lag问题",
    "author": "dragon0126",
    "replyCount": 7,
    "timestamp": 1540295760,
    "txt_content": "我开了一个Sponge神奇宝贝服务器\n服务器人数40人 50人的时候就会跑出这个\nCan't keep up! Did the system time change, or is the server overloaded? Running 17865ms behind, skipping 357 tick(s)复制代码严重的化每10分钟大概会出现个5次\n\n\n这是我的timings    https://timings.aikar.co/?id=1e7 ... b46b6f0c619#timings\n\n\n服务器配备\nCPU: 2x Intel Xeon \nRAM: ECC RAM 32GB\n\n\nJAVA Flag : \n-Xmx30G -Xms25G -XX:+UseG1GC -XX:+UnlockExperimentalVMOptions -XX:MaxGCPauseMillis=100 -XX:+DisableExplicitGC -XX:TargetSurvivorRatio=90 -XX:G1MaxNewSizePercent=60 -XX:G1NewSizePercent=35 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=50 -XX:+AggressiveOpts -XX:+AlwaysPreTouch -jar复制代码这是我的sponge配置\n# 1.0\n# \n# # If you need help with the configuration or have any questions related to Sponge,\n# # join us at the IRC or drop by our forums and leave a post.\n# \n# # IRC: #sponge @ irc.esper.net ( https://webchat.esper.net/?channel=sponge )\n# # Forums: https://forums.spongepowered.org/\n# \n\nsponge {\n    # Stopgap measures for dealing with broken mods\n    broken-mods {\n        # A list of mod ids that have broken network handlers (they interact with the game from a Netty handler thread).\n        # All network handlers from a forcibly scheduled to run on the main thread.\n        # Note that this setting should be considered a last resort, and should only be used as a stopgap measure while waiting for a mod to properly fix the issue.\n        broken-network-handler-mods=null\n    }\n    bungeecord {\n        # If 'true', allows BungeeCord to forward IP address, UUID, and Game Profile to this server.\n        ip-forwarding=false\n    }\n    cause-tracker {\n        # If set to 'true', when a mod or plugin attempts to spawn an entity \n        # off the main server thread, Sponge will automatically \n        # capture said entity to spawn it properly on the main \n        # server thread. The catch to this is that some mods are \n        # not considering the consequences of spawning an entity \n        # off the server thread, and are unaware of potential race \n        # conditions they may cause. If this is set to false, \n        # Sponge will politely ignore the entity being spawned, \n        # and emit a warning about said spawn anyways.\n        capture-async-spawning-entities=true\n        # If 'true', more thorough debugging for PhaseStates \n        # such that a StackTrace is created every time a PhaseState \n        # switches, allowing for more fine grained troubleshooting \n        # in the cases of runaway phase states. Note that this is \n        # not extremely performant and may have some associated costs \n        # with generating the stack traces constantly.\n        generate-stacktrace-per-phase=false\n        # The maximum number of times to recursively process transactions in a single phase.\n        # Some mods may interact badly with Sponge's block capturing system, causing Sponge to\n        # end up capturing block transactions every time it tries to process an existing batch.\n        # Due to the recursive nature of the depth-first processing that Sponge uses to handle block transactions,\n        # this can result in a stack overflow, which causes us to lose all infomration about the original cause of the issue.\n        # To prevent a stack overflow, Sponge tracks the current processing depth, and aborts processing when it exceeds\n        # this threshold.\n        # The default value should almost always work properly -  it's unlikely you'll ever have to change it.\n        max-block-processing-depth=100\n        # If verbose is not enabled, this restricts the amount of \n        # runaway phase state printouts, usually happens on a server \n        # where a PhaseState is not completing. Although rare, it should \n        # never happen, but when it does, sometimes it can continuously print \n        # more and more. This attempts to placate that while a fix can be worked on \n        # to resolve the runaway. If verbose is enabled, they will always print.\n        maximum-printed-runaway-counts=3\n        # If 'true', the phase tracker will print out when there are too many phases \n        # being entered, usually considered as an issue of phase re-entrance and \n        # indicates an unexpected issue of tracking phases not to complete. \n        # If this is not reported yet, please report to Sponge. If it has been \n        # reported, you may disable this.\n        verbose=true\n        # If 'true', the phase tracker will dump extra information about the current phases \n        # when certain non-PhaseTracker related exceptions occur. This is usually not necessary, as the information \n        # in the exception itself can normally be used to determine the cause of the issue\n        verbose-errors=false\n    }\n    commands {\n        # Command aliases will resolve conflicts when multiple plugins request a specific command, \n        # Correct syntax is <unqualified command>=<plugin name> e.g. \"sethome=homeplugin\"\n        aliases {\n            help=command-utils\n            info=nucleus\n        }\n        # Patches the specified commands to respect the world of the sender instead of applying the \n        # changes on the all worlds.\n        multi-world-patches {\n            defaultgamemode=true\n            difficulty=true\n            gamerule=true\n            seed=true\n            setdefaultspawnpoint=true\n            time=true\n            toggledownfall=true\n            weather=true\n            worldborder=true\n        }\n    }\n    debug {\n        # Detect and prevent parts of PlayerChunkMap being called off the main thread.\n        # This may decrease sever preformance, so you should only enable it when debugging a specific issue.\n        concurrent-chunk-map-checks=false\n        # Detect and prevent certain attempts to use entities concurrently. \n        # WARNING: May drastically decrease server performance. Only set this to 'true' to debug a pre-existing issue.\n        concurrent-entity-checks=false\n        # Dump chunks in the event of a deadlock\n        dump-chunks-on-deadlock=false\n        # Dump the heap in the event of a deadlock\n        dump-heap-on-deadlock=false\n        # Dump the server thread on deadlock warning\n        dump-threads-on-warn=false\n        # If 'true', Java's thread contention monitoring for thread dumps is enabled.\n        thread-contention-monitoring=false\n    }\n    entity {\n        # Number of colliding entities in one spot before logging a warning. Set to 0 to disable\n        collision-warn-size=200\n        # Number of entities in one dimension before logging a warning. Set to 0 to disable\n        count-warn-size=0\n        # Number of ticks before a painting is respawned on clients when their art is changed\n        entity-painting-respawn-delay=2\n        # Number of ticks before the fake player entry of a human is removed from the tab list (range of 0 to 100 ticks).\n        human-player-list-remove-delay=10\n        # Controls the time in ticks for when an item despawns.\n        item-despawn-rate=1200\n        # The upper bounded range where living entities farther from a player will likely despawn\n        living-hard-despawn-range=64\n        # The amount of seconds before a living entity between the soft and hard despawn ranges from a player to be considered for despawning\n        living-soft-despawn-minimum-life=30\n        # The lower bounded range where living entities near a player may potentially despawn\n        living-soft-despawn-range=32\n        # Maximum size of an entity's bounding box before removing it. Set to 0 to disable\n        max-bounding-box-size=1000\n        # Square of the maximum speed of an entity before removing it. Set to 0 to disable\n        max-speed=100\n    }\n    entity-activation-range {\n        # If 'true', newly discovered entities will be added to this config with a default value.\n        auto-populate=false\n        # Default activation ranges used for all entities unless overridden.\n        defaults {\n            ambient=8\n            aquatic=8\n            creature=8\n            misc=8\n            monster=8\n        }\n        # Per-mod overrides. Refer to the minecraft default mod for example.\n        mods {\n            minecraft {\n                defaults {\n                    creature=8\n                    misc=8\n                    monster=8\n                }\n                # If 'false', entity activation rules for this mod will be ignored and always tick.\n                enabled=true\n                entities {\n                    \"armor_stand\"=8\n                    arrow=8\n                    blaze=8\n                    boat=8\n                    \"cave_spider\"=8\n                    \"chest_minecart\"=8\n                    chicken=8\n                    cow=8\n                    \"elder_guardian\"=8\n                    \"eye_of_ender_signal\"=8\n                    fishinghook=8\n                    \"hopper_minecart\"=8\n                    horse=8\n                    item=8\n                    \"item_frame\"=8\n                    llama=8\n                    minecart=8\n                    ocelot=8\n                    painting=8\n                    parrot=8\n                    pig=8\n                    \"polar_bear\"=8\n                    shulker=8\n                    silverfish=8\n                    snowman=8\n                    spider=8\n                    villager=8\n                    \"villager_golem\"=8\n                    witch=8\n                    wolf=8\n                    \"xp_orb\"=8\n                    \"zombie_villager\"=8\n                }\n            }\n            pixelmon {\n                defaults {\n                    creature=8\n                    misc=8\n                }\n                # If 'false', entity activation rules for this mod will be ignored and always tick.\n                enabled=true\n                entities {\n                    chattingnpc=8\n                    entitychairmount=8\n                    hook=8\n                    nursejoy=8\n                    pixelmon=10\n                    pixelmonpainting=8\n                    relearner=8\n                    shopkeeper=8\n                    statue=8\n                    trader=8\n                    trainer=8\n                    tutor=8\n                }\n            }\n        }\n    }\n    entity-collisions {\n        # If 'true', newly discovered entities/blocks will be added to this config with a default value.\n        auto-populate=false\n        # Default maximum collisions used for all entities/blocks unless overridden.\n        defaults {\n            blocks=8\n            entities=8\n        }\n        # Maximum amount of entities any given entity or block can collide with. This improves \n        # performance when there are more than 8 entities on top of each other such as a 1x1 \n        # spawn pen. Set to 0 to disable.\n        max-entities-within-aabb=8\n        # Per-mod overrides. Refer to the minecraft default mod for example.\n        mods {\n            botania {\n                blocks {}\n                # Default maximum collisions used for all entities/blocks unless overridden.\n                defaults {}\n                # If 'false', entity collision rules for this mod will be ignored.\n                enabled=true\n                entities {\n                    botaniacorporeaspark=-1\n                    botaniaspark=-1\n                }\n            }\n            minecraft {\n                blocks {\n                    \"detector_rail\"=1\n                    \"heavy_weighted_pressure_plate\"=150\n                    \"light_weighted_pressure_plate\"=15\n                    \"mob_spawner\"=-1\n                    \"stone_pressure_plate\"=1\n                    \"wooden_button\"=1\n                    \"wooden_pressure_plate\"=1\n                }\n                # Default maximum collisions used for all entities/blocks unless overridden.\n                defaults {}\n                # If 'false', entity collision rules for this mod will be ignored.\n                enabled=true\n                entities {\n                    thrownpotion=-1\n                }\n            }\n        }\n    }\n    exploits {\n        # Enables filtering invalid entities when a chunk is being saved\n        # such that the entity that does not \"belong\" in the saving\n        # chunk will not be saved, and forced an update to the world's\n        # tracked entity lists for chunks.\n        # See https://github.com/PaperMC/Paper/blob/fd1bd5223a461b6d98280bb8f2d67280a30dd24a/Spigot-Server-Patches/0311-Prevent-Saving-Bad-entities-to-chunks.patch\n        filter-invalid-entities-on-chunk-save=true\n        # Enables focing a chunk load when an entity position\n        # is set. Usually due to teleportation, vehicle movement\n        # etc. can a position lead an entity to no longer exist\n        # within it's currently marked and tracked chunk. This will\n        # enable that chunk for the position is loaded. Part of several\n        # exploits.See https://github.com/PaperMC/Paper/blob/fd1bd5223a461b6d98280bb8f2d67280a30dd24a/Spigot-Server-Patches/0335-Ensure-chunks-are-always-loaded-on-hard-position-set.patch \n        load-chunk-on-position-set=true\n        # Enables forcing chunks to save when an entity is added\n        # or removed from said chunk. This is a partial fix for\n        # some exploits using vehicles.See https://github.com/PaperMC/Paper/blob/fd1bd5223a461b6d98280bb8f2d67280a30dd24a/Spigot-Server-Patches/0306-Mark-chunk-dirty-anytime-entities-change-to-guarante.patch\n        mark-chunks-as-dirty-on-entity-list-modification=true\n        # Prevents an exploit in which the client sends a packet with the \n        # itemstack name exceeding the string limit.\n        prevent-creative-itemstack-name-exploit=true\n        # Enables forcing updates to the player's location on vehicle movement.\n        # This is partially required to update the server's understanding of\n        # where the player exists, and allows chunk loading issues to be avoided\n        # with laggy connections and/or hack clients.See https://github.com/PaperMC/Paper/blob/fd1bd5223a461b6d98280bb8f2d67280a30dd24a/Spigot-Server-Patches/0378-Sync-Player-Position-to-Vehicles.patch\n        sync-player-positions-for-vehicle-movement=true\n        # Enables forcing a chunk-tracking refresh on entity movement.\n        # This enables a guarantee that the entity is tracked in the \n        # proper chunk when moving.https://github.com/PaperMC/Paper/blob/fd1bd5223a461b6d98280bb8f2d67280a30dd24a/Spigot-Server-Patches/0315-Always-process-chunk-registration-after-moving.patch\n        update-tracked-chunk-on-entity-move=true\n    }\n    general {\n        # The directory for Sponge plugin configurations, relative to the  \n        # execution root or specified as an absolute path. \n        # Note that the default: \"${CANONICAL_GAME_DIR}/config\" \n        # is going to use the \"plugins\" directory in the root game directory. \n        # If you wish for plugin configs to reside within a child of the configuration \n        # directory, change the value to, for example, \"${CANONICAL_CONFIG_DIR}/sponge/plugins\". \n        # Note: It is not recommended to set this to \"${CANONICAL_CONFIG_DIR}/sponge\", as there is \n        # a possibility that plugin configurations can conflict the Sponge core configurations. \n        # \n        config-dir=\"${CANONICAL_GAME_DIR}/config\"\n        # Disable warning messages to server admins\n        disable-warnings=false\n        # If 'true', sleeping between chunk saves will be enabled, beware of memory issues.\n        file-io-thread-sleep=false\n        # Additional directory to search for plugins, relative to the \n        # execution root or specified as an absolute path. \n        # Note that the default: \"${CANONICAL_MODS_DIR}/plugins\" \n        # is going to search for a plugins folder in the mods directory. \n        # If you wish for the plugins folder to reside in the root game \n        # directory, change the value to \"${CANONICAL_GAME_DIR}/plugins\".\n        plugins-dir=\"${CANONICAL_MODS_DIR}/plugins\"\n    }\n    ip-sets {}\n    logging {\n        # Log when blocks are broken\n        block-break=false\n        # Log when blocks are modified\n        block-modify=false\n        # Log when blocks are placed\n        block-place=false\n        # Log when blocks are populated in a chunk\n        block-populate=false\n        # Log when blocks are placed by players and tracked\n        block-tracking=false\n        # Log when chunks are queued to be unloaded by the chunk garbage collector.\n        chunk-gc-queue-unload=false\n        # Log when chunks are loaded\n        chunk-load=false\n        # Log when chunks are unloaded\n        chunk-unload=false\n        # Whether to log entity collision/count checks\n        entity-collision-checks=false\n        # Log when living entities are destroyed\n        entity-death=false\n        # Log when living entities are despawned\n        entity-despawn=false\n        # Log when living entities are spawned\n        entity-spawn=false\n        # Whether to log entity removals due to speed\n        entity-speed-removal=false\n        # Log when server receives exploited packet with itemstack name exceeding string limit.\n        exploit-itemstack-name-overflow=false\n        # Log when player attempts to respawn invisible to surrounding players.\n        exploit-respawn-invisibility=false\n        # Log when server receives exploited packet to update a sign containing commands from player with no permission.\n        exploit-sign-command-updates=false\n        # Add stack traces to dev logging\n        log-stacktraces=false\n        # Log when a world auto-saves its chunk data. Note: This may be spammy depending on the auto-save-interval configured for world.\n        world-auto-save=false\n    }\n    metrics {\n        # Determines whether plugins that are newly added are allowed to perform\n        # data/metric collection by default. Plugins detected by Sponge will be added to the \"plugin-permissions\" section with this value.\n        # \n        # Set to true to enable metric gathering by default, false otherwise.\n        default-permission=false\n        # Provides (or revokes) permission for metric gathering on a per plugin basis.\n        # Entries should be in the format \"plugin-id=<true|false>\".\n        # \n        # Deleting an entry from this list will reset it to the default specified in\n        # \"default-permission\"\n        plugin-permissions {\n            agp=false\n            blockcommand=false\n            byte-items=false\n            carrotshop=false\n            chatshow=false\n            command-utils=false\n            commandblockingmanager=false\n            commanditems=false\n            customspec=false\n            customtexturespec=false\n            daycare=false\n            economylite=false\n            entity-particles=false\n            fastasyncworldedit=false\n            gogyms=false\n            griefprevention=false\n            gts=false\n            \"gwm_crates\"=false\n            \"gwm_library\"=false\n            haxpokebank=false\n            holograms=false\n            impactor=false\n            inspector=false\n            kt-skript=false\n            luckperms=false\n            mmcprefix=false\n            mmcrestrict=false\n            modbanner=false\n            multicurrency=false\n            nucleus=false\n            nucleus-gluon=false\n            pixelautomessages=false\n            pixelgenocide=false\n            pixelmoneconomybridge=false\n            pixelmoney=false\n            placeholderapi=false\n            pokebuffs=false\n            pokecatchlog=false\n            poketextures=false\n            safetrade=false\n            serverlistplus=false\n            signeditor=false\n            spark=false\n            statues=false\n            statusprotocol=false\n            sts=false\n            tabblocker=false\n            tabmanager=false\n            teslacore=false\n            teslacrate=false\n            teslalibs=false\n            virtualchest=false\n            virtualtool=false\n            wondertrade=false\n            worldedit=false\n            xppokedex=false\n            zpixelmonplaceholders=false\n        }\n    }\n    modules {\n        # Enables experimental fixes for broken mods\n        broken-mod=false\n        bungeecord=false\n        entity-activation-range=true\n        entity-collisions=true\n        # Controls whether any exploit patches are applied.\n        # If there are issues with any specific exploits, please\n        # test in the exploit category first, before disabling all\n        # exploits with this toggle.\n        exploits=true\n        # Allows configuring Vanilla movement and speed checks\n        movement-checks=false\n        optimizations=true\n        # Use real (wall) time instead of ticks as much as possible\n        realtime=true\n        # Controls block range and tick rate of tileentities. \n        # Use with caution as this can break intended functionality.\n        tileentity-activation=true\n        timings=true\n        tracking=true\n    }\n    movement-checks {\n        # Controls whether the 'player/entity moved wrongly!' check will be enforced\n        moved-wrongly=false\n        # Controls whether the 'player moved too quickly!' check will be enforced\n        player-moved-too-quickly=false\n        # Controls whether the 'vehicle of player moved too quickly!' check will be enforced\n        player-vehicle-moved-too-quickly=false\n    }\n    optimizations {\n        # Runs lighting updates asynchronously.\n        async-lighting {\n            # If 'true', lighting updates are run asynchronously.\n            enabled=true\n            # The amount of threads to dedicate for asynchronous lighting updates. (Default: 2)\n            num-threads=2\n        }\n        # Caches tameable entities owners to avoid constant lookups against data watchers. If mods \n        # cause issues, disable this.\n        cache-tameable-owners=true\n        # If 'true', block item drops are pre-processed to avoid \n        # having to spawn extra entities that will be merged post spawning. \n        # Usually, Sponge is smart enough to determine when to attempt an item pre-merge \n        # and when not to, however, in certain cases, some mods rely on items not being \n        # pre-merged and actually spawned, in which case, the items will flow right through \n        # without being merged.\n        drops-pre-merge=false\n        # If 'true', provides a fix for possible leaks through\n        # Minecraft's enchantment helper code that can leak\n        # entity and world references without much interaction\n        # Forge native (so when running SpongeForge implementation)\n        # has a similar patch, but Sponge's patch works a little harder\n        # at it, but Vanilla (SpongeVanilla implementation) does NOT\n        # have any of the patch, leading to the recommendation that this\n        # patch is enabled \"for sure\" when using SpongeVanilla implementation.\n        # See https://bugs.mojang.com/browse/MC-128547 for more information.\n        # \n        enchantment-helper-leak-fix=true\n        # If 'true', allows for Sponge to make better assumptinos on single threaded\n        # operations with relation to various checks for server threaded operations.\n        # This is default to true due to Sponge being able to precisely inject when\n        # the server thread is available. This should make an already fast operation\n        # much faster for better thread checks to ensure stability of sponge's systems.\n        faster-thread-checks=true\n        # If 'true', re-writes the incredibly inefficient Vanilla Map code.\n        # This yields enormous performance enhancements when using many maps, but has a tiny chance of breaking mods that invasively modify Vanilla.It is strongly reccomended to keep this on, unless explicitly advised otherwise by a Sponge developer\n        map-optimization=true\n        # If 'true', uses Panda4494's redstone implementation which improves performance. \n        # See https://bugs.mojang.com/browse/MC-11193 for more information. \n        # Note: This optimization has a few issues which are explained in the bug report.\n        panda-redstone=true\n        # Handles structures that are saved to disk. Certain structures can take up large amounts \n        # of disk space for very large maps and the data for these structures is only needed while the \n        # world around them is generating. Disabling saving of these structures can save disk space and \n        # time during saves if your world is already fully generated. \n        # Warning: disabling structure saving will break the vanilla locate command.\n        structure-saving {\n            # If 'true', newly discovered structures will be added to this config with a default value.\n            auto-populate=false\n            enabled=false\n            # Per-mod overrides. Refer to the minecraft default mod for example.\n            mods {\n                minecraft {\n                    # If 'false', this mod will never save its structures.\n                    enabled=true\n                    structures {\n                        mineshaft=false\n                    }\n                }\n            }\n        }\n    }\n    player-block-tracker {\n        # Block IDs that will be blacklisted for player block placement tracking.\n        block-blacklist=null\n        # If 'true', adds player tracking support for block positions. \n        # Note: This should only be disabled if you do not care who caused a block to change.\n        enabled=true\n    }\n    # Used to control spawn limits around players. \n    # Note: The radius uses the lower value of mob spawn range and server's view distance.\n    spawner {\n        # The number of ambients the spawner can potentially spawn around a player.\n        spawn-limit-ambient=15\n        # The number of animals the spawner can potentially spawn around a player.\n        spawn-limit-animal=15\n        # The number of aquatics the spawner can potentially spawn around a player.\n        spawn-limit-aquatic=5\n        # The number of monsters the spawner can potentially spawn around a player.\n        spawn-limit-monster=70\n        # The ambient spawning tick rate. Default: 400\n        tick-rate-ambient=400\n        # The animal spawning tick rate. Default: 400\n        tick-rate-animal=400\n        # The aquatic spawning tick rate. Default: 400\n        tick-rate-aquatic=400\n        # The monster spawning tick rate. Default: 1\n        tick-rate-monster=1\n    }\n    # Configuration options related to the Sql service, including connection aliases etc\n    sql {\n        # Aliases for SQL connections, in the format jdbc:protocol://[username[:password]@]host/database\n        aliases {}\n    }\n    # Blocks to blacklist for safe teleportation.\n    teleport-helper {\n        # If 'true', this blacklist will always be respected, otherwise, plugins can choose whether \n        # or not to respect it.\n        force-blacklist=false\n        # Block IDs that are listed here will not be selected by Sponge's safe teleport routine as \n        # a safe block for players to warp into. \n        # You should only list blocks here that are incorrectly selected, solid blocks that prevent \n        # movement are automatically excluded.\n        unsafe-body-block-ids=null\n        # Block IDs that are listed here will not be selected by Sponge's safe \n        # teleport routine as a safe floor block.\n        unsafe-floor-block-ids=null\n    }\n    tileentity-activation {\n        # If 'true', newly discovered tileentities will be added to this config with default settings.\n        auto-populate=true\n        # Default activation block range used for all tileentities unless overridden.\n        default-block-range=32\n        # Default tick rate used for all tileentities unless overridden.\n        default-tick-rate=1\n        # Per-mod overrides. Refer to the minecraft default mod for example.\n        mods {\n            ironchest {\n                block-range {\n                    \"ironchest.crystal\"=8\n                    \"ironchest.diamond\"=8\n                    \"ironchest.dirtchest9000\"=8\n                    \"ironchest.gold\"=8\n                    \"ironchest.iron\"=8\n                    \"ironchest.obsidian\"=8\n                    \"ironchest.silver\"=8\n                    \"ironshulkerbox.crystal\"=8\n                    \"ironshulkerbox.diamond\"=8\n                    \"ironshulkerbox.gold\"=8\n                    \"ironshulkerbox.iron\"=8\n                    \"ironshulkerbox.obsidian\"=8\n                }\n                # If 'false', tileentity activation rules for this mod will be ignored and always tick.\n                enabled=true\n                tick-rate {\n                    \"ironchest.crystal\"=1\n                    \"ironchest.diamond\"=1\n                    \"ironchest.dirtchest9000\"=1\n                    \"ironchest.gold\"=1\n                    \"ironchest.iron\"=1\n                    \"ironchest.obsidian\"=1\n                    \"ironchest.silver\"=1\n                    \"ironshulkerbox.crystal\"=1\n                    \"ironshulkerbox.diamond\"=1\n                    \"ironshulkerbox.gold\"=1\n                    \"ironshulkerbox.iron\"=1\n                    \"ironshulkerbox.obsidian\"=1\n                }\n            }\n            minecraft {\n                block-range {\n                    beacon=16\n                    \"brewing_stand\"=8\n                    chest=8\n                    \"daylight_detector\"=8\n                    \"enchanting_table\"=8\n                    \"end_gateway\"=8\n                    \"ender_chest\"=8\n                    furnace=8\n                    hopper=8\n                    \"mob_spawner\"=8\n                    piston=8\n                    \"shulker_box\"=8\n                    skull=8\n                }\n                # If 'false', tileentity activation rules for this mod will be ignored and always tick.\n                enabled=true\n                tick-rate {\n                    beacon=1\n                    \"brewing_stand\"=1\n                    chest=1\n                    \"daylight_detector\"=1\n                    \"enchanting_table\"=1\n                    \"end_gateway\"=1\n                    \"ender_chest\"=1\n                    furnace=1\n                    hopper=1\n                    \"mob_spawner\"=1\n                    piston=1\n                    \"shulker_box\"=1\n                    skull=1\n                }\n            }\n            morefurnaces {\n                block-range {\n                    \"cubex2 diamond furnace\"=20\n                    \"cubex2 gold furnace\"=20\n                    \"cubex2 iron furnace\"=20\n                    \"cubex2 netherrack furnace\"=20\n                    \"cubex2 obsidian furnace\"=20\n                }\n                # If 'false', tileentity activation rules for this mod will be ignored and always tick.\n                enabled=true\n                tick-rate {\n                    \"cubex2 diamond furnace\"=1\n                    \"cubex2 gold furnace\"=1\n                    \"cubex2 iron furnace\"=1\n                    \"cubex2 netherrack furnace\"=1\n                    \"cubex2 obsidian furnace\"=1\n                }\n            }\n            pixelmon {\n                block-range {\n                    \"pixelmon:bell\"=8\n                    \"pixelmon:berry_tree\"=8\n                    \"pixelmon:cloning_machine\"=8\n                    \"pixelmon:evolution_rock\"=8\n                    \"pixelmon:fossil_cleaner\"=8\n                    \"pixelmon:fossil_machine\"=8\n                    \"pixelmon:gracidea\"=8\n                    \"pixelmon:healer\"=8\n                    \"pixelmon:mechanical_anvil\"=8\n                    \"pixelmon:pixelmon_spawner\"=8\n                    \"pixelmon:plate_holder\"=8\n                    \"pixelmon:ranch_block\"=8\n                    \"pixelmon:timespace_shrine\"=8\n                    \"pixelmon:trade_machine\"=8\n                }\n                # If 'false', tileentity activation rules for this mod will be ignored and always tick.\n                enabled=true\n                tick-rate {\n                    \"pixelmon:bell\"=1\n                    \"pixelmon:berry_tree\"=1\n                    \"pixelmon:cloning_machine\"=1\n                    \"pixelmon:evolution_rock\"=1\n                    \"pixelmon:fossil_cleaner\"=1\n                    \"pixelmon:fossil_machine\"=1\n                    \"pixelmon:gracidea\"=1\n                    \"pixelmon:healer\"=1\n                    \"pixelmon:mechanical_anvil\"=1\n                    \"pixelmon:pixelmon_spawner\"=1\n                    \"pixelmon:plate_holder\"=1\n                    \"pixelmon:ranch_block\"=1\n                    \"pixelmon:timespace_shrine\"=1\n                    \"pixelmon:trade_machine\"=1\n                }\n            }\n            sereneseasons {\n                block-range {\n                    \"season_sensor\"=8\n                }\n                # If 'false', tileentity activation rules for this mod will be ignored and always tick.\n                enabled=true\n                tick-rate {\n                    \"season_sensor\"=1\n                }\n            }\n        }\n    }\n    timings {\n        enabled=true\n        hidden-config-entries=[\n            \"sponge.sql\"\n        ]\n        history-interval=2000\n        history-length=18000\n        server-name-privacy=false\n        verbose=true\n    }\n    world {\n        # The auto-save tick interval used when saving global player data. (Default: 900) \n        # Note: 20 ticks is equivalent to 1 second. Set to 0 to disable.\n        auto-player-save-interval=900\n        # The auto-save tick interval used to save all loaded chunks in a world. \n        # Set to 0 to disable. (Default: 900) \n        # Note: 20 ticks is equivalent to 1 second.\n        auto-save-interval=900\n        # The number of newly loaded chunks before triggering a forced cleanup. \n        # Note: When triggered, the loaded chunk threshold will reset and start incrementing. \n        # Disabled by default.\n        chunk-gc-load-threshold=3000\n        # The tick interval used to cleanup all inactive chunks that have leaked in a world. \n        # Set to 0 to disable which restores vanilla handling. (Default: 600)\n        chunk-gc-tick-interval=900\n        # The number of seconds to delay a chunk unload once marked inactive. (Default: 15) \n        # Note: This gets reset if the chunk becomes active again.\n        chunk-unload-delay=100\n        # If 'true', any request for a chunk not currently loaded will be denied (exceptions apply \n        # for things like world gen and player movement). \n        # Warning: As this is an experimental setting for performance gain, if you encounter any issues \n        # then we recommend disabling it.\n        deny-chunk-requests=false\n        # Lava behaves like vanilla water when source block is removed\n        flowing-lava-decay=false\n        # The amount of GameProfile requests to make against Mojang's session server. (Default: 1) \n        # Note: Mojang accepts a maximum of 600 requests every 10 minutes from a single IP address. \n        # If you are running multiple servers behind the same IP, it is recommended to raise the 'gameprofile-task-interval' setting  \n        # in order to compensate for the amount requests being sent. \n        # Finally, if set to 0 or less, the default batch size will be used. \n        # For more information visit http://wiki.vg/Mojang_API\n        gameprofile-lookup-batch-size=1\n        # The interval, in seconds, used by the GameProfileQueryTask to process queued GameProfile requests. (Default: 4) \n        # Note: This setting should be raised if you experience the following error: \n        # \"The client has sent too many requests within a certain amount of time\". \n        # Finally, if set to 0 or less, the default interval will be used.\n        gameprofile-lookup-task-interval=4\n        # If 'true', this world will generate its spawn the moment its loaded.\n        generate-spawn-on-load=false\n        # Vanilla water source behavior - is infinite\n        infinite-water-source=false\n        # The list of uuid's that should never perform a lookup against Mojang's session server. \n        # Note: If you are using SpongeForge, make sure to enter any mod fake player's UUID to this list.\n        invalid-lookup-uuids=[\n            \"00000000-0000-0000-0000-000000000000\",\n            \"0d0c4ca0-4ff1-11e4-916c-0800200c9a66\",\n            \"41c82c87-7afb-4024-ba57-13d2c99cae77\"\n        ]\n        # The defined merge radius for Item entities such that when two items are \n        # within the defined radius of each other, they will attempt to merge. Usually, \n        # the default radius is set to 0.5 in Vanilla, however, for performance reasons \n        # 2.5 is generally acceptable. \n        # Note: Increasing the radius higher will likely cause performance degradation \n        # with larger amount of items as they attempt to merge and search nearby \n        # areas for more items. Setting to a negative value is not supported!\n        item-merge-radius=2.5\n        # If 'true', this worlds spawn will remain loaded with no players.\n        keep-spawn-loaded=true\n        # If 'true', natural leaf decay is allowed.\n        leaf-decay=true\n        # If 'true', this world will load on startup.\n        load-on-startup=true\n        # The maximum number of queued unloaded chunks that will be unloaded in a single tick. \n        # Note: With the chunk gc enabled, this setting only applies to the ticks \n        # where the gc runs (controlled by 'chunk-gc-tick-interval') \n        # Note: If the maximum unloads is too low, too many chunks may remain \n        # loaded on the world and increases the chance for a drop in tps. (Default: 100)\n        max-chunk-unloads-per-tick=100\n        # Specifies the radius (in chunks) of where creatures will spawn. \n        # This value is capped to the current view distance setting in server.properties\n        mob-spawn-range=4\n        # A list of all detected portal agents used in this world. \n        # In order to override, change the target world name to any other valid world. \n        # Note: If world is not found, it will fallback to default.\n        portal-agents {\n            \"minecraft:default_the_end\"=DIM1\n            \"minecraft:default_the_nether\"=DIM-1\n        }\n        # If 'true', this world will allow PVP combat.\n        pvp-enabled=true\n        # Override world distance per world/dimension \n        # The value must be greater than or equal to 3 and less than or equal to 32 \n        # The server-wide view distance will be used when the value is -1.\n        view-distance=-1\n        # If 'true', natural formation of ice and snow in supported biomes will be allowed.\n        weather-ice-and-snow=true\n        # If 'true', thunderstorms will be initiated in supported biomes.\n        weather-thunder=true\n        # If 'true', this world will be registered.\n        world-enabled=true\n    }\n}\n复制代码我已经询问过很多人,始终无法解决,希望有高手能指点\n",
    "replies": [
        {
            "author": "冻土",
            "timestamp": 1540295760,
            "txt_content": "dragon0126 发表于 2018-10-25 22:31\n我改用别的服务器了, 虽然没有那么频繁, TPS却降低了, 我找了几个玩家来帮我测试, 这是我的timings : http ...\n感觉是跑图卡顿的可能性大一些，不妨试试这个：\nhttp://www.mcbbs.net/thread-725682-1-1.html\n用这个插件设定边界，并预加载边界内的地图，可以有效减少跑图卡顿。记得要安装projectcore作为前置"
        },
        {
            "author": "冻土",
            "timestamp": 1540307160,
            "txt_content": "我以前也遇到了这个问题，这个问题似乎真的是无解的，因为即使sponge端有一定的多线程优化，还是无法充分利用整个服务器的性能\n因为服务端会有一个主线程负责实体、红石、方块等重要事件的计算，而从安全的角度考虑，难以对此进行多核优化，甚至有可能优化之后还不如单线程。因此sponge端对单核性能的要求仍然是非常非常高的。\n我遇到这个问题的时候提高了服务器的配置，对服务端文件作出了一定的优化，再有就是更新forge和sponge内核的版本，都有了一定的效果。\n不过跑图仍然是一个非常卡的行为，我现在还在寻找解决的手段。\n另外，比较好奇楼主的CPU具体型号是什么？"
        },
        {
            "author": "dragon0126",
            "timestamp": 1540307580,
            "txt_content": " 本帖最后由 dragon0126 于 2018-10-23 23:14 编辑 \n\n服务商只有公布规格没提供型号给我 ,规格是2x Intel Xeon 型号我就不知道了"
        },
        {
            "author": "冻土",
            "timestamp": 1540309020,
            "txt_content": "dragon0126 发表于 2018-10-23 23:13\n服务商只有公布规格没提供型号给我 ,规格是2x Intel Xeon 型号我就不知道了\n服务商只提供了2x Intel xeon这点信息， 应该并不是什么好机器。我看了看timings报告，里面有一行“cpu:24”，那就是说这是24个线程，也就是十二个核心。再考虑到是两颗CPU，而且服务商并不希望你知道具体型号，那很可能就是x5600系列CPU，或者是E5-2620/E5-2620V2。\nx5600系列CPU已经是接近十年前的产品，性能已经非常落后，尤其是Minecraft服务端最需要的单线程性能严重不足。拿这种处理器来开服，肯定是无法承载太多玩家的。如果再有玩家跑图，会导致卡顿更加严重。E5V1和V2的单核性能也是比较低下的，虽然会比x5600稍高一点，但是本身主频也低，无济于事。这种服务器哪怕核再多内存再大，也是diao用没有的\n这种情况，有可能是被无良服务商坑了，因为这种服务器是相当廉价的，而性能也是和价格一样低……\n因为我没了解过神奇宝贝服务器，所以也没法从服务端配置文件的角度提多少建议了。\n换服务商是个可行的方案，但是价格也是个问题。我自己做过很多测试，同样的服务端在老机器上和在新机器上的表现大不相同，CPU占用率甚至可能相差几倍之多。这方面我也没彻底研究明白，就不说太多了，怕误导别人。\n另外提醒一下，自己回复自己的帖子会有手动置顶的嫌疑，被举报的话可能会被禁言的。"
        },
        {
            "author": "dragon0126",
            "timestamp": 1540477860,
            "txt_content": "冻土 发表于 2018-10-23 23:37\n服务商只提供了2x Intel xeon这点信息， 应该并不是什么好机器。我看了看timings报告，里面有一行“cpu:2 ...\n我改用别的服务器了, 虽然没有那么频繁, TPS却降低了, 我找了几个玩家来帮我测试, 这是我的timings : https://timings.aikar.co/?id=f49a4db4884d4ad0932bf33e5e5cbd8e\n\n服务器规格: CPU: Intel Xeon CPU E3-1245 v5 3.50GHz\nRAM: 30GB\n系统: windows server 2016\n\nsponge 配置跟 Java Flag 都不变\n"
        },
        {
            "author": "situfangjian",
            "timestamp": 1540608300,
            "txt_content": "区块加载延迟，无解"
        },
        {
            "author": "azbh111",
            "timestamp": 1540630560,
            "txt_content": "dragon0126 发表于 2018-10-25 22:31\n我改用别的服务器了, 虽然没有那么频繁, TPS却降低了, 我找了几个玩家来帮我测试, 这是我的timings : http ...\n醒醒吧\n我开bukkit的，去spone后硬生生被卡**ukkit了\n个人认为并不是sponge卡\n就算是原版，跑跑图也掉tps"
        }
    ]
}