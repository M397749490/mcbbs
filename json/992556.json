{
    "title": "1.15.2服务器TPS问题",
    "author": "neverlag",
    "replyCount": 12,
    "timestamp": 1584769980,
    "txt_content": "附上timing的网址：https://timings.aikar.co/?id=c5614685f01f40839fcadc31256a5fe1\n\n服务器配置是腾讯云的4核16G，5M带宽，不知道为什么20几个人，tps就经常掉到14-13左右，但是方块破坏和放置没有感到卡顿，只有跑图的时候发现区块加载慢了\n\n现在用的是paper的服务端，bukkit，spigot还有paper的yml文件都看教程调过一些参数，但好像TPS还是不理想\n\n\n",
    "replies": [
        {
            "author": "EmptyLava",
            "timestamp": 1584769980,
            "txt_content": "ch627050832 发表于 2020-3-21 15:08\n感谢这么认真帮我看啊！\n1-4点我基本都已经设置过一次了，鸡和村民是玩家问题，每次限制实体数量就会被抱 ...\nlinux就算了，第五条不适用\n可以用用站内的villager optimiser插件优化村民智商\nentity activation和 entity tracking内的animals可以多降一些\n\n你还可以在bukkit.yml中设置entity为20或更低，这样如果实体计算不完就直接跳过，能提升很多tps"
        },
        {
            "author": "xmdhs",
            "timestamp": 1584770220,
            "txt_content": "安装这个试试 https://www.mcbbs.net/thread-918981-1-1.html\n\n实体数量也太多了吧"
        },
        {
            "author": "neverlag",
            "timestamp": 1584770460,
            "txt_content": "xmdhs 发表于 2020-3-21 13:57\n安装这个试试 https://www.mcbbs.net/thread-918981-1-1.html\n\n实体数量也太多了吧\n之前安装这个，发现这个插件里面的刷鱼塔检测有问题，红石检测也有问题，我就删了换clearlag了"
        },
        {
            "author": "1284641389",
            "timestamp": 1584771780,
            "txt_content": "实体数量是一个问题,1.15的实体优化稀烂\n可以尝试安装:\nhttps://www.mcbbs.net/thread-910338-1-1.html\nhttps://www.mcbbs.net/thread-874306-1-1.html"
        },
        {
            "author": "1311380526",
            "timestamp": 1584772260,
            "txt_content": "纯净服能降低TPS的只有漏斗还有跑图"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1584772380,
            "txt_content": "原因(2)\n1.实体(60%),主要是鸡和村民\n2.区块(30%)\n优化方案(6)\n1.在server.properties中设置view-distance为4-5\n2.在spigot.yml中设置\nentity-tracking-range\nanimals: 24(可继续降低)\nmonsters: 24\n3.在spigot.yml中设置\nentity-activation-range(如果刷怪塔失效请恢复此项)\nanimals: 20\nmonsters: 24\n4.在bukkit.yml中设置\nmonster-spawns: 3(如果设置过了就增加2)\n5.在任务管理器中右键javaw.exe,转详细信息后右键javaw.exe将优先级改为实时,这可以增加cpu的占用率从而提升tps(但服务器重启后需要重新配置,建议配合计划任务)\n6.bukkit.yml中设置chunk-gc:300\n\n其他方案:可以考虑换linux系统"
        },
        {
            "author": "neverlag",
            "timestamp": 1584774480,
            "txt_content": "EmptyLava 发表于 2020-3-21 14:33\n原因(2)\n1.实体(60%),主要是鸡和村民\n2.区块(30%)\n感谢这么认真帮我看啊！\n1-4点我基本都已经设置过一次了，鸡和村民是玩家问题，每次限制实体数量就会被抱怨刷怪塔效率低等等\n5和6点的话，其实已经是Linux系统了，但我不是很会用，请问linux系统里面也能用到你说的javaw.exe吗？\nCPU我看一直是占用30-40之间的，还需要继续提高占用率吗"
        },
        {
            "author": "neverlag",
            "timestamp": 1584774540,
            "txt_content": "1284641389 发表于 2020-3-21 14:23\n实体数量是一个问题,1.15的实体优化稀烂\n可以尝试安装:\nhttps://www.mcbbs.net/thread-910338-1-1.html\n感谢感谢，其实这两个插件已经装了....\n但tps还是如此"
        },
        {
            "author": "neverlag",
            "timestamp": 1584775860,
            "txt_content": "EmptyLava 发表于 2020-3-21 15:26\nlinux就算了，第五条不适用\n可以用用站内的villager optimiser插件优化村民智商\nentity activation和 ent ...\n好的，我都先改了试试，等重启生效了再看看有无改善"
        },
        {
            "author": "510876378",
            "timestamp": 1584776100,
            "txt_content": "ch627050832 发表于 2020-3-21 15:31\n好的，我都先改了试试，等重启生效了再看看有无改善\n楼主你是不是1046买的腾讯云的4H16G 我也是买的这个 开的1.14.X 遇到了同样的问题23333"
        },
        {
            "author": "neverlag",
            "timestamp": 1584776220,
            "txt_content": "510876378 发表于 2020-3-21 15:35\n楼主你是不是1046买的腾讯云的4H16G 我也是买的这个 开的1.14.X 遇到了同样的问题23333 ...\n对的我也是买的那个，但看帖子都说1.14优化不如1.15啊。你要是刚开服要不要试试改成1.15版本的，或者1.12的"
        },
        {
            "author": "510876378",
            "timestamp": 1584777000,
            "txt_content": "ch627050832 发表于 2020-3-21 15:37\n对的我也是买的那个，但看帖子都说1.14优化不如1.15啊。你要是刚开服要不要试试改成1.15版本的，或者1.12 ...\n开服开了一周了 我这边已经不好改了 毕竟1.13-1.14版本升级优化还是挺大的"
        }
    ]
}