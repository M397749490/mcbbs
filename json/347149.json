{
    "title": "[New API]ServerLog,服务器日志!",
    "author": "18wyj2",
    "replyCount": 22,
    "timestamp": 1412257500,
    "txt_content": "我想大家都记得ljy大神的KillBearBoys\n可是ljy大神并没有将它更新1.4\n于是我就写了这个插件......\n我叫它ServerLog\n\n指令:\n/co 或者/serverlog 开启查询模式\n\n用法:\n查询方块部分:\n和KillBearBoys相同\n在查询模式状态下破坏或放置方块获取日志\n\n还有一个查询玩家部分:\n在查询模式状态下点击玩家\n获取玩家信息\n获取的信息包括:\n玩家名称\n玩家血量\n玩家游戏模式\n玩家最近一次使用的命令\n\n注意:\n这个插件可能会占许多内存\n请及时删除日志\n\n\n特别感谢:\n\n@mc77 帮我测试插件\n \n\n\n最后，希望大家喜欢，如果有什么Bug，请反馈给我\n\n\n",
    "replies": [
        {
            "author": "cdreamy",
            "timestamp": 1412257680,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "18wyj2",
            "timestamp": 1412257860,
            "txt_content": "cdreamy 发表于 2014-10-2 21:48\nServer.log本来就有的啊\n查询插件....OP方便查熊。。你没看懂我的意思吗。。"
        },
        {
            "author": "cdreamy",
            "timestamp": 1412257860,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "哥是牛哥！",
            "timestamp": 1412257920,
            "txt_content": "两位大湿好厉害。。。。Σ( ° △ °|||)︴"
        },
        {
            "author": "哥是牛哥！",
            "timestamp": 1412257980,
            "txt_content": "较真的水深火热。。。O__O\"…"
        },
        {
            "author": "18wyj2",
            "timestamp": 1412257980,
            "txt_content": "cdreamy 发表于 2014-10-2 21:51\nLOGALL插件足够了\nLOGALL是什么...没找到..\n反正我没找到1.4的查询插件\n所以我写了它"
        },
        {
            "author": "18wyj2",
            "timestamp": 1412258100,
            "txt_content": "哥是牛哥！ 发表于 2014-10-2 21:52\n两位大湿好厉害。。。。Σ( ° △ °|||)︴\n本帖终于有第三个人了"
        },
        {
            "author": "哥是牛哥！",
            "timestamp": 1412258220,
            "txt_content": "18wyj2 发表于 2014-10-2 21:55\n本帖终于有第三个人了\nΣ( ° △ °|||)︴。。。。O__O\"…。。"
        },
        {
            "author": "hsk001ufo",
            "timestamp": 1412344620,
            "txt_content": "cdreamy 发表于 2014-10-2 21:51\nLOGALL插件足够了\n这里是PE板块"
        },
        {
            "author": "cdreamy",
            "timestamp": 1412344800,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "kevin2000",
            "timestamp": 1419642240,
            "txt_content": " 本帖最后由 kevin2000 于 2014-12-27 09:05 编辑 \n\n希望删除点击玩家获得信息那部分或者修改一下\n严重导致崩服bug一天崩了10几次-----------------------------------------\nPocketMine-MP Crash Dump Fri Dec 26 23:48:10 UTC 2014\n\nError: Call to undefined method pocketmine\\entity\\PrimedTNT::getName()\nFile: /home/minecraft/multicraft/servers/server448/plugins/[查熊]ServerLog_v2.2.0.phar/src/ServerLog/ServerLog\nLine: 118\nType: E_ERROR\n\nTHIS CRASH WAS CAUSED BY A PLUGIN\nBAD PLUGIN: ServerLog v2.2.0\n\nCode:\n[109]            $player = $event->getPlayer();\n[110]                    $name = $player->getDisplayName();\n[111]                  $commandInfo = $event->getMessage();\n[112]                 $this->log->set($name, $commandInfo);\n[113]                     $this->log->save();\n[114]                    }\n[115]         public function onEntityDamageByEntity(EntityDamageByEntityEvent $event){\n[116]                  $entity = $event->getEntity();\n[117]                   $player = $event->getDamager();\n[118]                  if($this->mode[$player->getName()] == true){\n[119]                  $log = $this->log->get($entity->getName());\n[120]           $player->sendMessage('玩家:'.$entity->getName());\n[121]           $player->sendMessage('血量:'.$entity->getHealth().'/'.$entity->getMaxHealth());\n[122]                   $player->sendMessage('游戏模式:'.$entity->getgamemode());\n[123]                   $player->sendMessage('近期使用过的命令:'.$log);\n[124]                   //被攻击玩家各项资料\n[125]                    $event->setCancelled();\n[126]                    //最后别忘了SetCancelled\n[127]         }else{\n[128]                 }\n\nBacktrace:\n\nPocketMine-MP version: Alpha_1.4dev #855 [Protocol 20; API 1.8.0]\nGit commit: 0000000000000000000000000000000000000000\nuname -a: Linux s3.minegame.cc 3.13.0-38-generic #65~precise1-Ubuntu SMP Thu Oct 9 19:24:01 UTC 2014 x86_64\nPHP Version: 5.6.3\nZend version: 2.6.0\nOS : Linux, linux\n\nLoaded plugins:\nServerMail 0.0.1 by tschrock (tschrock123@gmail.com) for API(s) 1.0.0\nTimerBan 2.0 by onebone for API(s) 1.2.0, 1.2.1\nEconomyJob 2.0.0汉化by风歌青天 by onebone for API(s) 1.0.0, 1.1.0, 1.2.0, 1.2.1, 1.3.0, 1.3.1, 1.4.0, 1.4.1\nSimpleHelp 1.0.0 by 18wyj2 for API(s) 1.0.0\nDevTools 1.8.0 by PocketMine Team, shoghicp for API(s) 1.0.0\nALLSurvival 1.2.1 by PMPCT-Zzm for API(s) 1.0.0\nEconomyAPI 2.0.1汉化by风歌青天 by onebone for API(s) 1.0.0, 1.1.0, 1.2.0, 1.2.1, 1.3.0, 1.3.1, 1.4.0, 1.4.1\nWorldBorder 1.0.0 by Topic for API(s) 1.0.0\nSignCommand Build_1 by 18WYJ2 for API(s) 1.0.0\nVoteReward 2.1 by LDX for API(s) 1.0.0, 1.1.0, 1.2.0, 1.3.0\nTouchHome 2 by LDX for API(s) 1.1.0\nEconomyAirport 2.0.0汉化by风歌青天 by onebone for API(s) 1.2.0, 1.2.1, 1.3.0, 1.3.1, 1.4.0, 1.4.1\nQuitandJoinmsg 1.0.0 by  for API(s) 1.0.0\nGeoLocation 3.0.2 by DarkN3ss & boybook & zzm客窜 for API(s) 1.1.0\nBroadcaster 1.01 by EvolSoft for API(s) 1.2.0\nKeepInventory 1.1.0 by boybook for API(s) 1.0.0\nSimpleVIP Build_1 by 18wyj2 for API(s) 1.0.0\nxPermissions 1.3.1 by 64FF00 for API(s) 1.2.0\nTimeCommander 2 by LDX for API(s) 1.0.0, 1.1.0, 1.2.0, 1.3.0, 1.4.0\nessentialsTP 1.0.9 by  for API(s) 1.0.0\nPeacefulSpawn 2.4 by LDX for API(s) 1.3.1, 1.4.0\nSimpleBanItem 1.1.0 by 18wyj2 for API(s) 1.0.0\nPocketGuard 2.1 by MinecrafterJPN for API(s) 1.6.0\nEconomyLand 2.0.1汉化by风歌青天 by onebone for API(s) 1.0.0, 1.1.0, 1.2.0, 1.2.1, 1.3.0, 1.3.1, 1.4.0, 1.4.1\nServerLog 2.2.0 by 18wyj2 for API(s) 1.0.0\nEconomyShop 2.0.0汉化by风歌青天 by onebone for API(s) 1.3.0, 1.3.1, 1.4.0, 1.4.1\nSimpleAuth 1.6.0 by PocketMine Team, shoghicp for API(s) 1.8.0\niControlU 1.3 by Falkirks for API(s) 1.6.0\nEconomySell 2.0.1汉化by风歌青天 by onebone for API(s) 1.3.0, 1.3.1, 1.4.0, 1.4.1\n\n"
        },
        {
            "author": "wujipohh",
            "timestamp": 1420020420,
            "txt_content": "18wyj2 发表于 2014-10-2 21:51\n查询插件....OP方便查熊。。你没看懂我的意思吗。。\n我来告诉你BUG的\n我的pm用了以后已经崩溃\n错误报告：Warning! This crash was caused by the ServerLog plugin. Please contact the original plugin author."
        },
        {
            "author": "13865526510",
            "timestamp": 1421144220,
            "txt_content": "能不能新做一套pe1.4汉化经济插件，大神"
        },
        {
            "author": "739590379",
            "timestamp": 1422470160,
            "txt_content": "顶一个。。。。。。。。。。。。。"
        },
        {
            "author": "uuuu1",
            "timestamp": 1423388160,
            "txt_content": "我只能说，bug严重，后台刷姨妈红\n$this->mode[$player->getName()]有这个的地方，pm都会报错\n报错内容，不规范。。\nlz你需要更新了"
        },
        {
            "author": "3160311361",
            "timestamp": 1425572700,
            "txt_content": "链接链接。。。。。。。。。。。。"
        },
        {
            "author": "Damnation丶",
            "timestamp": 1425575220,
            "txt_content": "我的表示用不了，一用就说报错，压根没法用…"
        },
        {
            "author": "qq505916481",
            "timestamp": 1425887880,
            "txt_content": "lz块更新啊啊啊啊啊啊啊啊啊"
        },
        {
            "author": "xdf",
            "timestamp": 1426163100,
            "txt_content": "后台刷屏报错：\n20:24:54 [CRITICAL] Could not pass event pocketmine\\event\\entity\\EntityDamageEvent to ServerLog v2.2.0: Argument 1 passed to ServerLog\\ServerLog::onEntityDamageByEntity() must be an instance of pocketmine\\event\\entity\\EntityDamageByEntityEvent, instance of pocketmine\\event\\entity\\EntityDamageEvent given, called in phar:///root/pm/PocketMine-MP.phar/src/pocketmine/plugin/MethodEventExecutor.php on line 36 and defined on ServerLog\\ServerLog\n20:24:54 [NOTICE] InvalidArgumentException: \"Argument 1 passed to ServerLog\\ServerLog::onEntityDamageByEntity() must be an instance of pocketmine\\event\\entity\\EntityDamageByEntityEvent, instance of pocketmine\\event\\entity\\EntityDamageEvent given, called in phar:///root/pm/PocketMine-MP.phar/src/pocketmine/plugin/MethodEventExecutor.php on line 36 and defined\" (E_RECOVERABLE_ERROR) in \"/ServerLog_v2.2.0.phar/src/ServerLog/ServerLog\" at line 115"
        },
        {
            "author": "jerrystickmin",
            "timestamp": 1430404320,
            "txt_content": "后台显示一大堆文字，大概是01.05 06:22:20 [Server] NOTICE InvalidArgumentException: \"Argument 1 passed to ServerLog\\ServerLog::onEntityDamageByEntity() must be an instance of pocketmine\\event\\entity\\EntityDamageByEntityEvent, instance of pocketmine\\event\\entity\\EntityDamageEvent given, called in phar:///jar/Minecraft PE 0.10.X.phar/src/pocketmine/plugin/MethodEventExecutor.php on line 36 and defined\" (E_RECOVERABLE_ERROR) in \"/ServerLog_v2.2.0.phar/src/ServerLog/ServerLog\" at line 115 01.05 06:22:20 [Server] CRITICAL Could not pass event pocketmine\\event\\entity\\EntityDamageEvent to ServerLog v2.2.0: Argument"
        },
        {
            "author": "jerrystickmin",
            "timestamp": 1430405160,
            "txt_content": "另外，只能查出最近一次方块变动记录，希望能够查出多次记录。至少也要1到5次吧。"
        },
        {
            "author": "524452319",
            "timestamp": 1436794500,
            "txt_content": "不懂。。。如果是已经被撸掉的怎么办"
        }
    ]
}