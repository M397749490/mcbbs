{
    "title": "[sponge][maven]插件开发教程(慢更)-1-基础知识，环境搭建与开发资源",
    "author": "tiannian",
    "replyCount": 4,
    "timestamp": 1455629340,
    "txt_content": "首先声明：此教程的更新绝对不会很快。鄙人也不是资深的sponge插件开发者，有任何错误，敬请大牛们指正！！\n重要声明：这里是sponge插件的开发教程，不是java语言的教程，我假设所有的读者已经有了java的语言基础不会再更多的赘述关于语言的部分，语言不懂得同学们请自己去补习。\n再次声明：开发环境其实可以改变的，但是因为个人习惯问题，我更多的是喜欢使用maven和eclipse，假如有人喜欢用gradle，idea之类的工具也可以。此文章所使用的spongeAPI版本为3.0。\n第一章：基础知识，环境搭建与开发资源\n（一）基础知识\n sponge是一款比较新的minecraft服务器。不同于原版服务器与bukkit服务器，它不仅仅是一个服务端，同时也是一套完整的生态系统。它存在两种实现，分别是SpongeForge以及SpongeVanilla。针对SpongeForge，它作为官方服务器mod的形式存在，其自身也是一个mod，它可以同时加载forge的mod与是Sponge的插件；而SpongeVanilla则是一个类似于Bukkit的独立客户端，仅支持Sponge插件。它拥有一套完整的，开放的SpongeAPI标准，这一套标准类似于bukkit以及其衍生版本所使用的BukkitAPI。我们开发Sponge插件就是基于SpongeAPI标准进行的开发。换句话来说，SpongeForge和SpongeVanilla，便是SpongeAPI的两个不同的官方实现。SpongeAPI屏蔽了SpongeForge和SpongeVanilla的差异，使我们开发的插件可以同时被两种实现加载运行。\nSpongeAPI就相当于是一个标准的\"协议\"，我们开发插件就必须基于这样的协议去开发。\n（二）环境搭建\n首先，我们需要创建一个eclipse项目来开始我们的开发，这里我们使用maven管理我们的项目，具体的eclipse和maven配置就不在这里赘述了，大家可以自己去百度一下，网上非常多的教程。\n选择File->New->Others。\n\n\n\n\n创建工程.png (56.94 KB, 下载次数: 15)\n\n下载附件\n\n2016-2-16 21:26 上传\n\n\n\n\n\n在窗口中选择Maven下面的Maven Project。\n\n\n\n\nmaven.png (27.66 KB, 下载次数: 16)\n\n下载附件\n\n2016-2-16 21:26 上传\n\n\n\n\n\n点击Next后将\"Create a simple project(skip archetype selection)\"选中，来创建一个简单的Maven项目。\n\n\n\n\n空项目.png (25.56 KB, 下载次数: 16)\n\n下载附件\n\n2016-2-16 21:26 上传\n\n\n\n\n\n之后设置我们的插件信息，其中前三项是必须的，GroupID填写你在Maven的GroupID，一般是填写自己的域名的逆置，当然你没有自己的域名但是有自己的github账号的话可以这样写github.io的逆置：\"io.github.yourname\"；ArtifactId一般填写插件的英文名称，比如我在这里写了Test，表示是一个测试插件；Version填写的是你的版本号。\n所有信息填写完成后，点击Finish创建创建这样的一个项目。\n\n\n\n\n项目信息.png (31.42 KB, 下载次数: 16)\n\n下载附件\n\n2016-2-16 21:26 上传\n\n\n\n\n\n创建之后的项目就像这个样子：\n\n\n\n\n项目树.png (7.34 KB, 下载次数: 15)\n\n下载附件\n\n2016-2-16 21:26 上传\n\n\n\n\n\n\"src/main/java\"当中是所有我们的java程序代码\n\"src/main/resources\"当中是我们的非程序代码，比如样例配置文件，语言文件等等\n\"src/test/*\"这两个里面可以用来写一些测试用例\n\"JRE System Library\"里面存放的是我们所有在标准java运行环境下可以使用的所有的外部jar文件，往往是由用户自己使用的java运行环境决定的，但是这里是java的标准，大部分的用户的java环境都是相同的。\n\"src\"中存储的就是你所有的源代码，但是我们不要在这里操作文件，而要在上面的\"src/*\"四个路径下进行操作。\ntarget文件夹，这里面存放的就是你编译完成的插件。\n最后一个pom.xml是Maven的配置文件。\n接下来我们双击打开pom.xml文件，在这里配置我们需要引用的jar包，最主要就是SpongeAPI的jar包：\n\n\n\n\npom.png (41.79 KB, 下载次数: 15)\n\n下载附件\n\n2016-2-16 21:26 上传\n\n\n\n\n\n点击工作区最下边的pom.xml然后将这样一段内容复制进</project>标签前面：\n\n\n\n<repositories>\n    <repository>\n        <id>sponge-maven-repo</id>\n        <name>Sponge maven repo</name>\n        <url>http://repo.spongepowered.org/maven</url>\n        <releases>\n            <enabled>true</enabled>\n        </releases>\n        <snapshots>\n            <enabled>true</enabled>\n        </snapshots>\n    </repository>\n</repositories>\n\n<dependencies>\n    <dependency>\n        <groupId>org.spongepowered</groupId>\n        <artifactId>spongeapi</artifactId>\n        <version>3.0.0</version>\n        <scope>provided</scope>\n    </dependency>\n</dependencies>复制代码\n复制完成的代码如下：\n\n\n\n\npom1.png (36.92 KB, 下载次数: 15)\n\n下载附件\n\n2016-2-16 21:27 上传\n\n\n\n\n\n保存此文件后，等待Maven从远端获取资源，最后这个项目会变成这个样子：\n\n\n\n\nupdate后.png (34.83 KB, 下载次数: 16)\n\n下载附件\n\n2016-2-16 21:26 上传\n\n\n\n\n\n这样一个插件的工程就创建完毕了。\n（三）开发资源\nSpongeAPI是一个规范的开发标准，在Sponge的项目中，包含了一个叫做SpongeDocs的项目专门对Sponge服务器的使用，开发，贡献代码等等提供帮助，作出规范。\n我们可以通过访问https://docs.spongepowered.org/zh-CN/index.html，这里提供的是中文版，当然由于中文还没有完全被翻译，所以我们看到的有很多的内容都是英文的，假如有人同学觉得自己英语水平过硬的可以去帮助官方进行翻译。\n由于SpongeAPI是一个jar包，所以根据java官方的标准我们可以通过从java源代码重抽出的javadoc看到所有java类的介绍，使用方法等等，所以在这里把Sponge的javadoc提供给大家：https://jd.spongepowered.org/3.0.0/\n\n\n预告：\n下一章我们将会告诉大家如何去创建一个主类，编译运行。并且如何让一个插件运行起来。\n\n\n版权声明：\n（我并没有想好试用什么样的协议去发布这个，而且这一章也没有什么内容。就先这样放着吧）\n\n",
    "replies": [
        {
            "author": "shiyan14712",
            "timestamp": 1455765660,
            "txt_content": "虽然用sponge的人较少，但是相信楼主的这贴在未来会有大用处的，好顶赞！"
        },
        {
            "author": "tiannian",
            "timestamp": 1455793680,
            "txt_content": "shiyan14712 发表于 2016-2-18 11:21\n虽然用sponge的人较少，但是相信楼主的这贴在未来会有大用处的，好顶赞！\n多谢多谢，个人确实觉得SpongeAPI设计的比BukkitAPI用起来更顺手些，引入了很多java编程的新特点跟风格，而且比较起来它的官方文档更完善些。"
        },
        {
            "author": "un桜ing",
            "timestamp": 1456820820,
            "txt_content": "支持LZ！Sponge真的挺好！虽然自己不会开发但是希望有人能开发出更多的插件ww"
        },
        {
            "author": "tiannian",
            "timestamp": 1456888020,
            "txt_content": "bun桜ing 发表于 2016-3-1 16:27\n支持LZ！Sponge真的挺好！虽然自己不会开发但是希望有人能开发出更多的插件ww ...\n学呗。。java不是很难学的"
        }
    ]
}