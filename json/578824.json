{
    "title": "关于服务器使用多核心的问题",
    "author": "cixuefeimang",
    "replyCount": 13,
    "timestamp": 1461605220,
    "txt_content": "前段时间看到个帖子说mc的服务端默认只使用单核心，这个是真的吗？如果是真的，那么怎么设置服务端可以使用多核心来处理。以分摊内存压力。\n另外，多mod服要怎么优化才能带更多的人。已经按照论坛内http://www.mcbbs.net/thread-478126-1-1.html这个帖子优化过了。也装了neverlag插件和clearlag插件。mod数量服务端是14个。玩家在50人左右的时候tps还是会下降，要怎么优化才能带更多的人。\n放出目前mods列表，方便大神参考：工业2实验版，ae2，热力膨胀，食物工艺，高级水力，高级太阳能，重力胸甲，武器等级系统，武器箱，热力膨胀及附属，职业等级。\n插件列表：easykits，传送门，多世界，地皮，领地，全息文字，lwc，colormotd，we，authme，ess一套，ptweeks，banitem，chestcommands，epicguild，quickshop，greaterfirewall，自动公告，neverlag\n\n服务器配置：16G内存，16核心cpu（可能是公用，不确定）\n送上所有金粒",
    "replies": [
        {
            "author": "cixuefeimang",
            "timestamp": 1461605400,
            "txt_content": "插楼再顺带问个问题，http://www.mcbbs.net/thread-518140-1-8.html这个插件和neverlag相比哪个好用"
        },
        {
            "author": "MuaMua",
            "timestamp": 1461642960,
            "txt_content": "内容庞大....我选我会的回答吧\n\n除了群组服，还木有听说个开服可以同时用两个及以上核心的，这样bat或sh文件该怎么写...- jar ......jar ....jiar\n\nNeverlag和Clearlag都有扫地功能，这务必是会冲突的，要优化首先应该减少插件之间的冲突以及MOD直接的冲突。\n\n个人理解冲突发生在，两个插件功能相似监听事件一样，执行肯定造成CPU浪费。\n\n服务器世界较多 Neverlag+nospawnchunk \n\n服务器世界较少 Neverlag+pTweakS\n\n优化：细节活，每一个配置文件都需要自己按自己服的情况细心配置、\n\n        性能如果比作一条马路，服务器是车。默认设置就是指路宽10米，而车只宽3米。7米的宽度浪费了、\n        优化，让路宽4米、~~23333不知道这个比喻恰不恰当....\n\n个人使用后感觉.......Neverlag好。"
        },
        {
            "author": "cixuefeimang",
            "timestamp": 1461643860,
            "txt_content": "MuaMua 发表于 2016-4-26 11:56\n内容庞大....我选我会的回答吧\n\n除了群组服，还木有听说个开服可以同时用两个及以上核心的，这样bat或sh文 ...\n我说的核心不是mc文件核心，而是cpu核心。多核cpu只用了其中单核，不是很浪费吗\nneverlag的扫地功能会造成顺卡，我关闭了neverlag的扫地功能，用clearlag的扫地功能，不知道其他方面这两个会不会有冲突。\n另外，通过timings分析报告来看，这两个插件占用的资源可以忽略，反而authme插件占用了很多的资源。\n世界不多，就多了一个地皮和资源，"
        },
        {
            "author": "MuaMua",
            "timestamp": 1461643920,
            "txt_content": "cixuefeimang 发表于 2016-4-26 12:11\n我说的核心不是mc文件核心，而是cpu核心。多核cpu只用了其中单核，不是很浪费吗\nneverlag的扫地功能会造 ...\nCPU核心问题鄙人不懂...静候大触吧"
        },
        {
            "author": "cixuefeimang",
            "timestamp": 1461644040,
            "txt_content": "MuaMua 发表于 2016-4-26 12:12\nCPU核心问题鄙人不懂...静候大触吧\ntimings分析报告里面我这边authme插件的pct tick 达到了188%\n这个问题知道要怎么解决吗"
        },
        {
            "author": "MuaMua",
            "timestamp": 1461644580,
            "txt_content": "16内存，服务器应该是上200人了吧....这样登录插件比较忙，个人表示理解。\n\n或者去 config.yml 里修改一下设置，或者改用mysql数据库，大数据量了。"
        },
        {
            "author": "凯文丶",
            "timestamp": 1461645000,
            "txt_content": "首先，cpu分开服带的u，如x5650带群组很完美、i7 4790k带mod很完美，接着，再看带宽，带宽也是带人的基本，最后才看内存的"
        },
        {
            "author": "Jecvay",
            "timestamp": 1461651480,
            "txt_content": "一个服务器用一个cpu核心, 没法用多核.\n可以设置java的gc使用多核, 但是没啥大用.\n\n因此mod服务器一定要追求高主频"
        },
        {
            "author": "cixuefeimang",
            "timestamp": 1461651780,
            "txt_content": "MuaMua 发表于 2016-4-26 12:23\n16内存，服务器应该是上200人了吧....这样登录插件比较忙，个人表示理解。\n\n或者去 config.yml 里修改一下 ...\n如果我现在改用mysql数据库的话会不会出现数据出错呢。也就是之前的玩家会不会产生需要重新注册的问题。\n\n其他登录插件有没有这方面的优化"
        },
        {
            "author": "cixuefeimang",
            "timestamp": 1461652140,
            "txt_content": "凯文丶 发表于 2016-4-26 12:30\n首先，cpu分开服带的u，如x5650带群组很完美、i7 4790k带mod很完美，接着，再看带宽，带宽也是带人的基本， ...\n我现在用的是L5520的U\n带宽倒是没什么问题"
        },
        {
            "author": "cixuefeimang",
            "timestamp": 1461652320,
            "txt_content": "Jecvay 发表于 2016-4-26 14:18\n一个服务器用一个cpu核心, 没法用多核.\n可以设置java的gc使用多核, 但是没啥大用.\n你所说的java的gc使用多核是怎么设置的"
        },
        {
            "author": "MuaMua",
            "timestamp": 1461652320,
            "txt_content": "cixuefeimang 发表于 2016-4-26 14:23\n如果我现在改用mysql数据库的话会不会出现数据出错呢。也就是之前的玩家会不会产生需要重新注册的问题。\n ...\n大服用数据库处理数据增加处理速度，这是必需的\nauthme插件有一个指令 \n    authme.admin.converter:\n        description: Administrator command to convert old or other data to AuthMe data.\n顺带翻译：通过这个指令可以把旧数据转化。\n但是！亲测无法将authme.db文件转化至数据库\n请使用如下的教程。舍不得孩子套不着狼，要优化，迈开步子不要怕扯到蛋！_(:зゝ∠)_\nhttp://www.mcbbs.net/thread-466398-1-1.html"
        },
        {
            "author": "patqian",
            "timestamp": 1461662700,
            "txt_content": "我只知道 linux 系统下，JAVA可以多线程处理数据"
        }
    ]
}