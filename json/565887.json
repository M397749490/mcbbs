{
    "title": "【几何】在MC中造曲线",
    "author": "林扬骐",
    "replyCount": 13,
    "timestamp": 1457704020,
    "txt_content": " 本帖最后由 林扬骐 于 2016-8-15 23:03 编辑 \n现在有更快的方法了，会快不少，我也会在之后某些时间更新我自己这个帖子里的算法\nhttp://www.mcbbs.net/forum.php?m ... 620979&pid=10778373\n\n\n\n首先感谢TCP的@雷鸣·翾鹗 ，从他那里看见了两张图片（听他说是百科上找的），才让我终于明白曲线的算法\n附上原理：\n\n\n\n\nf6b27ffff9ef42a.gif (29.14 KB, 下载次数: 15)\n\n下载附件\n\n2016-6-24 20:32 上传\n\n\n\n\n\n\n\n\n42a2e5dc2becbc65.gif (78.28 KB, 下载次数: 11)\n\n下载附件\n\n2016-6-24 20:32 上传\n\n\n\n\n\n两张图片上来，曲线原理瞬间就懂了（至少我是这样），关键就在于数据的运算，并且还要在MC里实现\n（前方高能，数学渣勿看）\n把图看懂&运算数据\n注：现在换了说法，应该更易懂了\n我把整个移动的过程分为50次（可以更多），设当前为第n次运动\n从P0开始，运动到 往后面数第2个定点（P2）的动点，我定为动点p0(2)\n某两点的相对坐标我用“—>”箭头连接来表示（如P1在(1,1,1)，P2在(2,3,1)，P1—>P2就是(~1,~2,~0)）\nP0—>P1我简化为a，P1—>P2我简化为b，以此类推\n两点定直线\n如何理解一条直线也同样可以分成50个部分，动点p0(1)就在(n/50)a的位置，动点p0(1)最终会画出一条直线\n运算过程\np0(1)占a的n/50\n\n\nP1—>p0(1)\n(n/50)a\n三点定一次曲线\n如何理解\n如第一个动图，动点p0(1)与动点p1(1)会再形成一条直线，p0(2)就会在此直线上运动\n运算过程\nP0—>p0(1)\n=(n/50)a\nP1—>p1(1)\n=(n/50)b\nP0—>p1(1)\n=P1—>P2—>p1(1)\n=a+(n/50)b\np0(1)—>p1(1)\n=(P0—>p1(1))-(P0—>p0(1))\n=[a+(n/50)b]-(n/50)a\n=a+(n/50)(-a+b)\np0(1)—>p0(2)\n=(n/50)(p0(1)—>p1(1))\n=(n/50)[a+(n/50)(-a+b)]\n=(n/50)a+(n/50)[sup]2[/sup](-a+b)\nP0—>p0(2)\n=P0—>p0(1)—>p0(2)\n=(n/50)(2a)+(n/50)[sup]2[/sup](-a+b)\nP1—>p0(2)\n(n/50)(2a)+(n/50)[sup]2[/sup](-a+b)\n\n\n多点定曲线\n如何理解\n如第二个动图，会有不少的动点动线，实际上你可以把“四点定二次曲线”看做两个“三点定一次曲线”所形成的动点连接，再次形成动线，上面再找动点\n运算过程\n这里得讲一个“万用公式”了\nP0—>p0(x)\n=(n/50)[P0—>p1(x)-P0—>p0(x-1)]+P0—>p0(x-1)\n两动点到P1的距离相减，就可以得到这两动点的相对坐标，此相对坐标再乘(n/50)便可又出现一个动点\n，然后又算此动点到P0的相对坐标……\n自己理解就好了{:10_522:}\nP1—>p0(x)\n(n/50)[P0—>p1(x)-P0—>p0(x-1)]+P0—>p0(x-1)\n其中“四点定二次曲线”为\nP0—>p0(3)\n=(n/50)(3a)+(n/50)[sup]2[/sup](-3a+3b)+(n/50)[sup]3[/sup](a-2b+c)\n\n关于数据的运算，这里有一个简单的表格，利用函数关系算各个需要的值（输入P1,P2等坐标的值便可以算出一些东西），希望可以帮到各位\n\n\n\n简单的曲线运算表格.rar\n(7.6 KB, 下载次数: 37)\n\n\n\n2016-3-11 20:09 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n在MC中实现（手动版）\n{:10_492:}好的，大家应该都知道有计分板这个东西，它可以进行各种比较简单的运算，算平方什么的也是“杠杠的”\n然而计分板那些超复杂的东西我们都交给自动版（然而现在——2016年3月11日——还没有出来），手动版我们有手动版的优势（我会尽量少用计分板）\n上面已经讲过，一次斜线的P0—>p0(2)位置的运算是：\n(n/50)(2a)+(n/50)[sup]2[/sup](-a+b)\n当然，在这里就需要变一下：\nn(2a)/50+n[sup]2[/sup](-a+b)/2500\n所以我们现在需要算的是a/25与(-a+b)/2500\n至于n与n[sup]2[/sup]，我们只需要用execute便可，当然也需要计分板定次数\n示范程序：(其中：a=~7,~6,~-10；b=~3,~-5,~7)\n\n首先创建一个计分板，我命名为jihe_shiyan\n/scoreboard objectives add jihe_shiyan dummy 几何——实验复制代码然后是程序，我从左往右讲解（注意开启程序的顺序是：1.激活脉冲命令方块；2.开启紫色高频命令方块的auto自激活）：\n重置：\n第一个（脉冲型）：用于重置huihe分数(50分)\n/scoreboard players set huihe jihe_shiyan 50复制代码生成：\n第二个（高频）：在指定位置生成药水云\nsummon AreaEffectCloud 627 4 565 {CustomName:\"a\",CustomNameVisible:1,Duration:2100000000}复制代码\n次数判定：\n第三个（连锁）：减去huihe的一分\n/scoreboard players remove huihe jihe_shiyan 1复制代码\n第四个（连锁）：检查huihe的分数\n/scoreboard players test huihe jihe_shiyan -100000 0复制代码\n第五个（条件连锁）：（若上一个成功）关闭高频的auto\n/blockdata ~ ~ ~-3 {auto:0}复制代码\n位移：\n这里就到了最关键的部分了，运算出来的数据现在就要用上了\n第六个（连锁）：让所有“b”药水云都把“a”药水云tp个(a/25)（以此做到n的效果）\n原本格式是这样：\n/execute @e[name=b] ~ ~ ~ tp @e[name=a] (a/25)复制代码我的就是：\n/execute @e[name=b] ~ ~ ~ tp @e[name=a] ~0.28 ~0.24 ~-0.4复制代码\n第七个（连锁）：让所有“b”都让所有的“b”把“a”tp个((-a+b)/2500)（n[sup]2[/sup]就是这样做到的）\n原本的格式：\n/execute @e[name=b] ~ ~ ~ /execute @e[name=b] ~ ~ ~ tp @e[name=a] ((-a+b)/2500)复制代码我的就是：\n/execute @e[name=b] ~ ~ ~ /execute @e[name=b] ~ ~ ~ tp @e[name=a] ~-0.0016 ~-0.0044 ~0.0068复制代码别看数字虽小，与n[sup]2[/sup]相乘后的积也是不小的\na变b：\n基本就是把这个生成出来的“a”变成“b”，所以才做到了“n”的变量效果\n第八个（连锁）：把“a”更名为“b”/entitydata @e[name=a] {CustomName:\"b\"}复制代码（用这种方法的缺点就是非常慢，大家要有耐心……我中途还常常卡出去。另外会发现名字没动，多重进几遍就会好了，曲线还是挺标准）\n（很可惜，最后的效果图我发现坏掉了，只留下二次斜线的效果）\n<br><br><br><br>\n二次斜线的方法大家可以举一反三：\n\n公式是下面这个，自己研究去吧\nP0—>p0(3)=(n/50)(3a)+(n/50)[sup]2[/sup](-3a+3b)+(n/50)[sup]3[/sup](a-2b+c)\n\n{:10_494:}当然最大的坑始终是它很慢，我等了几分钟才出一条曲线，我决定在自动版中解决这一问题\n\n好的就是这样，希望大家喜欢这个方法，当然更好是能提出一些意见或建议，谢谢\n\n\n\n[groupid=1009]The Command's Power[/groupid]",
    "replies": [
        {
            "author": "840196733mw",
            "timestamp": 1457771040,
            "txt_content": "噗 数学老师死的早 完全看不懂 \n\n我们玩的是同一个命令方块吗？"
        },
        {
            "author": "langyo",
            "timestamp": 1457780520,
            "txt_content": "建议你在写微分方程的同时，也想想简单的反比例函数图像与二次函数图像（抛物线）怎么画；\n\n然后写上去。\n\n（这个学期都每个月上线一次，因为小中考复习，我抽不开来时间）"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1457783760,
            "txt_content": "我家看不了这个图床……所以，根本不懂你在说什么……\n继续做作业去"
        },
        {
            "author": "Deing",
            "timestamp": 1458046680,
            "txt_content": "我发现画曲线和画斜线你都用的是tp盔甲架的方法，其实也可以考虑用fireball的direction和power。我正在研究这个，打算几天内发个帖子。以及我发现了一种可能成为画曲线（斜线）的最优方法，正在研究中，，，（感觉这个方法不看源码的话很难完全搞懂，然而我不会看源码。。总之过几天发帖你就知道了）"
        },
        {
            "author": "langyo",
            "timestamp": 1466313300,
            "txt_content": "试着把精度再提高下\n\n另外，你这用到的是映射图像……我确定这是微积分，但是不知道这是积分还是微分（没认真看高等数学233333）……\n\n提高精度的方法在于把T的周期值变得尽量小，但又因为循环次数增加导致运算量大，造成卡顿\n\n所以，关于精度究竟该有多少，这个还是希望你再斟酌下"
        },
        {
            "author": "1758220990",
            "timestamp": 1466319600,
            "txt_content": "天哪学霸的世界我真的不懂"
        },
        {
            "author": "小柚子大大",
            "timestamp": 1466327040,
            "txt_content": "图挂了。。。没有图有一些都看不懂"
        },
        {
            "author": "24k史蒂夫",
            "timestamp": 1486744440,
            "txt_content": "···你们在说啥啊··完全看不懂···看起来很高端"
        },
        {
            "author": "s13898771173",
            "timestamp": 1486785720,
            "txt_content": "dalao我竟然看不懂"
        },
        {
            "author": "Smokey_Days",
            "timestamp": 1499688120,
            "txt_content": "...建议改一下签名\n事实上，创世神中的//generate指令，不仅可以制造曲线，还可以制造曲面、抛物面、弹道面、双曲面...\n只要有解析式的都可以弄出来\n\n你这边已经涉及到一定程度的微积分了，大佬"
        },
        {
            "author": "风扇滑翔翼",
            "timestamp": 1499693280,
            "txt_content": "计算机是用像素显示的 所以理论上不存在曲线 反过来眼睛也是 所以在广义上没有人看过曲线"
        },
        {
            "author": "1091588561",
            "timestamp": 1499817900,
            "txt_content": "呃呃呃，太高深了"
        },
        {
            "author": "南歌_未央_",
            "timestamp": 1499960160,
            "txt_content": "好深奥，看不懂"
        }
    ]
}