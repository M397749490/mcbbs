{
    "title": "[[/]]Minecraft插件百科 —— WorldGuard 帮助文档全翻译",
    "author": "cc7w",
    "replyCount": 8,
    "timestamp": 1471846500,
    "txt_content": " 本帖最后由 1345979462 于 2016-8-31 18:29 编辑 \n\nWorldGuard 帮助文档\n\n-=-=-=翻译进度=-=-=-\n完工\n-=-=-=原文地址=-=-=-\n-=-=-=译文地址=-=-=-\n\n\n\n\n\n[groupid=1151]Minecraft插件百科[/groupid]",
    "replies": [
        {
            "author": "cc7w",
            "timestamp": 1471846620,
            "txt_content": " 本帖最后由 1345979462 于 2016-8-27 14:33 编辑 \n高级话题事件的记录\n漏斗式事件\nBukkit 在发生事件的时候通知插件，有许多所谓的事件，如\n\n\nBucket fill\nBucket empty\nRight click of an entity by a player\nPlacement of a block by a player\nDigging of a block by a player\nChange of a block by an entity\nPiston push\nPush retract\n\n\n但这些可以在MC中归于三类\n\n\nItems\nBlocks\nEntities\n\n\n你可以关于这些做一些事\n\n\nPlace them\nBreak them\nInteract with them\nDamage them\n\n\n为了简化事件，WG提供了以下方式\n\n\nBucket fill → Interact with a block, Interact with an item\nBucket empty → Interact with a block, Interact with an item\nRight click of an entity by a player → Interact with an entity\nPlacement of a block by a player → Interact with a block\nDigging of a block by a player → Interact with a block\nChange of a block by an entity → Interact with a block\nPiston push → Interact with a block\nPush retract → Interact with a block\n\n\nWG的部分，如区域保护，需要“interact with a block,” “interact with an entity,” 等 ，然后会检测方块 实体被触发。\n\n\n检测触发\n计算一些东西的另一方面是可以用简介的东西来完成这个复杂的事件。\n\n\n例如，如果一个玩家对另一个玩家射箭，直接的触发器 -- 箭 -- 不是真正的触发器，玩家才是。\n\n\n另一个例子是放置砂砾，它会掉落：最后掉在地上是因为(1)掉落实体，因为(2)砂砾方块被触发，(3)被玩家放置。\n\n\n记住它是玩家导致的，其他例子可能是方块或实体。\n\n\n但是，不可能总是检测正确。WG有时必须追踪事件链。\n\n\n显示内部事件\n这里只有一些有用的内部事件来检测。把它们放到服务器记录是可能的，允许你：\n\n\n找出某些活动的黑名单\n\n\n查看WG是否在操控活动\n\n\n加入WG贡献组来查看它支持的内部事件\n\n\n要使用这个模式，在命令行加入参数 -Dworldguard.debug.listener=true \n\n\n提示：\n这个特性最好在一个私人服务器上使用，不要在大型服务器使用，会刷屏。\n\n\n可以在BAT文件启用\n\n\n原来你的BAT是这样的\n\n\n[/size]\n[size=4]@ECHO OFF[/size]\n[size=4]SET BINDIR=%~dp0[/size]\n[size=4]CD /D \"%BINDIR%\"[/size]\n[size=4]\"%ProgramFiles(x86)%\\Java\\jre7\\bin\\java.exe\" -Xincgc -Xmx1G -jar craftbukkit.jar[/size]\n[size=4]PAUSE[/size]\n[size=4]You’d add -Dworldguard.debug.listener=true like so:[/size]\n[size=4]复制代码\n改为这样\n[/size]\n[size=4]@ECHO OFF[/size]\n[size=4]SET BINDIR=%~dp0[/size]\n[size=4]CD /D \"%BINDIR%\"[/size]\n[size=4]\"%ProgramFiles(x86)%\\Java\\jre7\\bin\\java.exe\" -Dworldguard.debug.listener=true -Xincgc -Xmx1G -jar craftbukkit.jar[/size]\n[size=4]PAUSE[/size]\n[size=4]复制代码\n放在-jar之前的任意位置，在java.exe之后。\n\n\n解释输出\n让我们看看在区域上方放一个砂砾，你可以看到在控制台中:\n[/size]\n[size=4]* USE   GRAVEL         [Player{sk89q}] @world :BlockPlaceEvent[/size]\n[size=4]* PLACE GRAVEL @0,99,0 [Player{sk89q}] :BlockPlaceEvent[/size]\n[size=4]* SPAWN FALLING_BLOCK  [Block{0,99,0}] @-0,99,0 :EntityChangeBlockEvent[/size]\n[size=4]* PLACE GRAVEL @       [Block{0,99,0} | FallingSand] :EntityChangeBlockEvent [CANCELLED][/size]\n[size=4]* SPAWN DROPPED_ITEM   [Block{0,99,0} | FallingSand] @-0,0,0 :EntityChangeBlockEvent[/size]\n[size=4]复制代码\n\n\n输出已经缩短并且有格式化\n\n\n每行的语法是这样的\n\n\nACTION TYPE/LOCATION [CAUSES] @LOOCATION :BUKKIT-EVENT [CANCELLED?]\n\n\n''取消的事件被锁定？''\n讲解实例\n首先，当砂砾被放置，会[/size]\n[size=4]* USE   GRAVEL         [Player{sk89q}] @world :BlockPlaceEvent复制代码\n这是玩家放置，然后是真正的放置触发\n[/size]\n[size=4]* PLACE GRAVEL @0,99,0 [Player{sk89q}] :BlockPlaceEvent复制代码\n因为砂砾被放在空气中，会掉落成实体——\n* SPAWN FALLING_BLOCK  [Block{0,99,0}] @-0,99,0 :EntityChangeBlockEvent复制代码\n当砂砾落地时会尝试生成一个新的砂砾方块并移除实体——\n* PLACE GRAVEL @       [Block{0,99,0} | FallingSand] :EntityChangeBlockEvent [CANCELLED]复制代码\n因为掉落进了一保护区域，会生成一个掉落物——\n* SPAWN DROPPED_ITEM   [Block{0,99,0} | FallingSand] @-0,0,0 :EntityChangeBlockEvent复制代码\n--全过程\n\n\n箱子保护\n\nWG提供了一个基础的自带的箱子保护功能，只需使用特殊的格式。我们不建议新手使用这个部分因为它不是WG一个活跃的部分。此外，WG有特殊的方式使得没法用漏斗从箱子偷东西。 \n\n\n如果你对于这个箱子保护感兴趣的话，我们推荐你使用第三方插件，如 Lockette 和 LWC.\n起步\n箱子保护必须先在配置中启用。当它被禁用时，箱子保护不会激活，但可以使用牌子锁[这个也可以在配置内禁用]\n\n\n只要箱子下放一个牌子，就会保护，这个牌子：\n\n\n必须是个标示牌\n必须在箱子下面 (双层箱子需要最少在一个下面)\n在第一行写下[Lock]\n第二行有玩家的名字\n可以在下面2行写下其他玩家的名字\n在第二行写下别人的名字是不允许的\n\n\n注意\nWG中的箱子保护不支持UUID\n警告\n因为1.8的改变，把其他版本的箱子锁升级到1.8会破坏所有牌子。[其实是会破坏带有 [ ] 的牌子] \n\n普通问题\n常规\n\n\n为什么一个命令都不工作？\n\n如果没有命令工作，可能是WG启动失败了。\n\n\n请注意你的服务端是Bukkit或[其他兼容插件的服务器]，在后台或游戏里使用/version来查看版本。\n\n\n确保你安装了WE。\n\n\n确保如果你下载的是zip文件，你已经解压。\n\n\n确保你使用的是对应Minecraft版本的WG。\n\n\n如果这些不能帮助你，你需要查看你的启动日志。\n\n\n你可以打开latest.log来查看日志。\n\n\n如果你还是不能发现问题，在获取帮助页面的汇报BUG链接中反馈。\n\nWG多大了？\nWG是2010.11被sk89q写出的，当时是个MOD，之后便有了插件的版本。\n\n谁在发展WG\nWG被许多人发展，WG的很多代码都是贡献代码，贡献者列表可以在Github找寻。\n\n不能破坏\n为什么玩家不能破坏方块？\n\n\n全新的WG中的许多特性都是未启用的，所以这基本不可能是WG引起。\n\n\n一个简单去找寻原因的方法是查看在你破坏方块时收到的信息。WG一般使用暗红和深红的颜色，和这样的消息“Hey! Sorry, but you can’t _____ here.”如果你没有收到信息，那就不是WG的锅。\n\n\n如果不是一安装WG就这样的话，确保出生点保护没有启用。出生点保护会保护世界出生点以内的区域，若要取消，把 spawn-protection 改为0 [server.properties]。\n\n\n同样确保你没有使用冒险模式。更新你的Bukkit/Spigot/Cauldron的版本。\n\n\n如果这些步骤不行的话，WG中有一个简单的指令可以探测是什么插件阻止了这个事件的发生。使用 “testbreak” 和 “testplace” 来查看。\n\n\n如果是WG造成的话:\n\n\n使用区域魔杖来查看是否有区域保护了方块，如果有一些的话，可能你不知道，查看下一个问题。\n\n\n检查是否启用了建筑权限，检查配置文件是否禁止了这个事件。\n\n\n如果你不能解决问题，查看获取帮助页。\n\n\n如果指令列出了另一个插件：\n\n\n查看你是否关于那个插件要给予另外的权限。\n\n\n如果什么都没有列出，查看上方的出生点保护设置，然后去获取帮助页。\n\n在设置了区域之后，为什么都不能建筑？\n使用区域魔杖，然后右键一个方块，去查看所有区域。使用/rg info来查看每个区域的信息。\n\n\n确保合适所有区域的成员。\n\n\n确保建筑权限没有禁止。\n\n\n这里只有全局区域吗？\n确保全局设置没有被禁用；确保M全局区域的穿过没有设置为禁用；确保全局区域没有成员和主人。\n建筑没有锁定\n为什么保护没有工作？但玩家没有收到消息？\n你是OP，有完全权限，但玩家没有\n\n\n你把一个区域的建筑和穿过权限设置成了allow\n\n\n你把其他的一些权限设置成了allow\n\n\n物品可能来自于MOD或第三方插件[见保护什么\n\n\nWG并不会保护你特别说明的一些东西。这不是简单的方块破坏或放置的情况。请确保你在使用最新版本的WG，如果还是有BUG，做BUG反馈。\n\n\n这是你Bukkit, Spigot, 或 Cauldron 版本中的BUG\n\n\n如果你还不能解决问题，查看问题解决页面\n\n为什么建筑控制不工作？玩家收到信息\n如果WG锁定了一个事件，对于第三方插件来说也是可以解除锁定的，但是WG也发送了你不能XX的消息。\n\n\n你可以使用testbreak和testplace指令来查看，如果在列表中发现ALLOW，就是那个插件造成的。\n\n\n另一个原因是版本错误。如果还不能解决问题，查看问题帮助。\n\n区域保护\n为什么活塞不工作？\n你可能把权限设置成deny了。查看 常见情节 节\n\n关于区域保护我怎么XXXX\n查看 常见情节 节\n\n链接\n\n主页地址\n\nBukkitDev下载地址\n\n\n旧版WIKI[自备梯子]\n\n\n\n获取帮助\n如果你有一个问题的话\n在论坛询问\n加入IRC\n在Twitter上联系sk89q\n\n\n如果你要汇报BUG的话\n在这里汇报\n\n译者注：全部都要翻墙\n\n开源地址\n\n你可以在Github找到资源代码。\nWG是开源的，但贡献者必须遵守GNU Lesser General Public License v3。\n\n\n\n\n\n\n"
        },
        {
            "author": "cc7w",
            "timestamp": 1471847040,
            "txt_content": " 本帖最后由 1345979462 于 2016-8-31 13:32 编辑 \n配置\n\n总介绍\n\nWG是对服务器管理员，地图制作者，生存服务器等提供许多功能的一个插件。\n·在你创造区域后，只会允许有权限的玩家和一些插件去改变区域。\n·你可以在你的区域里设置一些标记，如(取消 凋零伤害 掉落伤害 等)\n·同时在特殊的世界的区域中你也可以改变一些标记，如(饱食度回复 生命值回复 PVP的开关 TNT 怪物伤害)\n·黑名单包括了玩家不能使用的物品和方块\n·可以记录服务器的统计和信息 (/wg report -p)\n·可以管理服务器的CPU(/wg profile -p)\n·增加例如停止所有火焰传播的指令 “STOP ALL FIRE SPREAD” .\n·可以与其他的Bukkit插件进行交♂易\n·保护与防止许多事件 (树长大 TNT爆炸 药水机器 等)\n·某些触发事件也可以修改 (门 拉杆 等)\n·开源，是Minecraft的最老的插件之一(比Bukkit还老)\n·启用你想要的特性！默认所有都是关闭的。你可以先安装WG，然后再配置它。\n\n\n配置\n\n许多WG的特性都与配置相关(如药水，水中呼吸等模式)。每个配置选项都在这页列出了。在你第一次运行WG的时候，主配置在plugins/WorldGuard/config.yml\n\n每个世界都有特殊的配置文件worlds/world/config.ymlworlds/world_nether/config.ymlworlds/mining_world/config.yml\n\n如果你打开了每个世界的配置文件，他们会是空的，如果你想要配置的话，你需要从主配置复制\n\n示例:如何自定义世界配置\n在主世界配置中，你可能把 block-creeper-block-damage 设置为true\nmobs:\n    block-creeper-explosions: false\n    block-creeper-block-damage: true\n    block-wither-explosions: false\n但你想在地狱世界把其设置为false\n打开worlds/world_nether/config.yml\n然后添加文本\nmobs:\n    block-creeper-block-damage: false\n这一行会覆盖继承的true，表现为false\n设置这些是作为参考的顺序，并不是真正的顺序，你要现在config.yml找到它们 安装\n\nWG可以从[[http://dev.bukkit.org/bukkit-plugins/worldguard BukkitDev]]下载。\n如果你下载下来的文件是 .zip的话，解压它，你会找到一个WorldGurad.jar。否则，你会直接下载下来一个.jar文件\n在你的服务器根目录下，如果没有plugins文件夹，创建之。\n把jar文件放入plugins中\n开启你的服务器，检查服务器日志，如果有错误，检查帮助页面。\n\n命令\n\n\n\n\n权限\n\nworldguard.build.block.place.<material>\nworldguard.build.block.remove.<material>\nworldguard.build.block.interact.<material>\nworldguard.build.entity.place.<type>\nworldguard.build.entity.remove.<type>\nworldguard.build.entity.interact.<type>\nworldguard.build.entity.damage.<type>\nworldguard.build.item.use.<material>\n黑名单\n\n黑名单可以禁止玩家做一些事，这是一些情况：\n禁止玩家挖金矿\n当找到钻石时通知所有管理员\n当放置附魔台时告诉玩家一些事\n这是一个示例配置：\n\n# Deny lava buckets\n[lavabucket]\nignore-groups=admins,mods\non-use=deny,tell\nmessage=Sorry, you can't use lava buckets!\n# Deny some ore\n[goldore,ironore]\nignore-groups=admins\non-break=deny,tell,notify\n# No TNT!\n[tnt]\nignore-groups=admins\non-place=deny,notify,kick\n复制代码\n每个世界都会有配置文件worlds/world/blacklist.txtworlds/world_nether/blacklist.txtworlds/mining_world/blacklist.txt\n这是格式\n\n[a list of items/blocks to match]\nevent to watch=what to do\nevent to watch=what to do\nevent to watch=what to do\noption=value\n复制代码\n#是注释行\n可以使用ID和名字：\n[wood,brick,glass]\n可以增加数据值：\n[wood:0]\n多个数据值用；隔开\nMultiple data values can be matched by separating each one with a semicolon (;):\n[wood:0;2;3]\n也可以用范围:\n[wood:2-3]\n可以用大于等于 小于等于\n[wood:>=2,<=3]\n你也可以这样：\n[wood:0;>=2,grass:1-2]\n事件\n\non-break        \non-destroy-with        \non-place        \non-use        \non-interact        \non-drop        \non-acquire        \non-dispense        \n复制代码\n行动\n\ndeny        \nallow        \nnotify        \nlog        \ntell        \nkick        \nban        \n复制代码\n选项\n\nignore-groups        \nignore-perms        \ncomment        \nmessage        \n复制代码\n示例\n\n[lavabucket,waterbucket,bucket]\non-use=deny,tell\n[tnt]\nignore-groups=admins\non-place=deny,notify,kick\n[obsidian]\nignore-groups=admins,obsidian\non-place=deny,tell\non-break=deny,tell\n复制代码\n记录的参数： Console   File   Database\nCONSOLE: 控制台\nFILE 文件 \n%Y the year (YYYY)\n%m the month (MM)\n%d the day (DD)\n%W the week of the year (00-52)\n%H 24-hour time (HH)\n%h 12-hour time (HH)\n%i the minute (mm)\n%s the second (ss)\n%u the user’s name\n%% translates to a single percent sign “%”\n可用变量\n数据库\n示例\n\nCREATE TABLE IF NOT EXISTS `blacklist_events` (\n `id` int(11) NOT NULL AUTO_INCREMENT,\n `world` varchar(10) NOT NULL,\n `event` varchar(25) NOT NULL,\n `player` varchar(16) NOT NULL,\n `x` int(11) NOT NULL,\n `y` int(11) NOT NULL,\n `z` int(11) NOT NULL,\n `item` int(11) NOT NULL,\n `time` int(11) NOT NULL,\n `comment` varchar(255) DEFAULT NULL,\n PRIMARY KEY (`id`)\n);\n复制代码\n\n\n\n\n\n\n"
        },
        {
            "author": "cc7w",
            "timestamp": 1471847100,
            "txt_content": " 本帖最后由 1345979462 于 2016-8-31 18:37 编辑 \n区域\n快速开始\n选择区域\n要创建一个区域，你要告诉WG你的区域范围。WE用于选范围。\n区域可以是以下形状：\n立方体\n多边形\n不支持圆！\n基础指令\n创建区域\n使用这个指令创建区域 /region define:\n/region define town\n/rg和/region是相同的\n/rg define town\n新的区域默认为禁止玩家破坏方块，为使玩家可以建筑，为区域增加主人和成员，你可以为每个成员增加单独的权限。\n所有玩家都可以成为主人或成员，下面是指令：\n\n/rg addmember town Notch sk89q g:builders\n/rg addowner town sk89q\n/rg removemember town g:builders\n/rg removeowner town sk89q\n复制代码\n更多请去区域命令页。\n你在创建区域的同时也可以很简单的去增加成员：\n/rg define town Notch sk89q g:builders\n区域会自动保存，不需要保存指令。\n示例：创建一个只有builders可以建筑的区域spawn\n选择spawn的范围\n创建一个叫做spawn的区域：\n/rg define spawn\n增加建筑团队为成员：\n/rg addmember spawn g:builders\n提示：区域会在一定间隔后自动保存，如果你想强制保存，使用/rg save\n你可以这样删除区域：\n/rg remove town\n列出区域消息\n/rg info town\n列出所有区域\n/rg list\n这样重新选择区域\n/rg redefine town\n更多请看区域命令\n区域的配置\n区域的重叠\n区域可以互相重叠。\n如果重叠的话，玩家必须拥有这些重叠区域的所有建筑权限才能在重叠区域建筑。\n如果你想要一个区域覆盖另一个，使用继承。\n如果你想要一个区域可以建筑，使用build权限。\n如果区域不支持保护这个区域，使用 passthrough 权限。\n示例：创建一个重叠于spawn的免费挖矿区域\n选择出区域范围\n创建区域：\n/rg define mine\n允许破坏：\n/rg flag mine build allow\n权限：\n每个区域都有他们的权限，如PVP可以用pvp权限。\n/rg flag town pvp deny\n阅读区域权限来获取更多信息。\n示例：做一个不能破坏方块[建筑者可以] 允许PVP的区域\n选择区域范围\n创建区域\n/rg define arena\n允许PVP\n/rg flag arena pvp allow\n因为建筑师们不是区域的一员，所以他们不能建筑，甚至当他们是区域成员时也不行。\n但你创建区域的原因是使用PVP权限，所以你可以使用 权限来允许。\n/rg flag arena passthrough allow\n常见情节\n见常见情节页。\n区域魔杖\n区域魔杖列出当前位置的所有区域。它是一个MC物品，右键来检测。\n默认的，这个物品是皮革，但可以在配置中更改。\n要使用这个魔杖，需要  worldguard.region.wand  权限\n区域标志\n\n优先级与继承\n在快速开始中提到，区域可以覆盖。如果要在覆盖的区域内建筑，需要有所有区域的权限。\n但有了优先级不同。\n优先级\n每个区域默认的优先级是0，但它可以更改，大的数字意味着高的优先级。-2147483648 到 2147483647 都可以作为优先级的数字，但你也可以使用 -2, 10, 15,  100.\n覆盖的区域中考虑优先级最高的那一个。\n在区域中，使用优先级最高的那一个的权限。\n使用优先级最高的标志。\n这样改变优先级：\n/rg setpriority example 5\n示例：创建一个pub区域，使pub组可以建筑。spawn中builders组已经可以建筑。\n选择区域\n创建区域：\n/rg define pub\n设置优先级：\n/rg setpriority pub 10\n在PVP区域中创建一个治疗区域。\n选择区域\n创建区域\n/rg define heal\n禁止PVP\n/rg flag heal pvp deny\n优先级\n/rg setpriority heal 10\n继承\n在上面说过，创建pub区域你是否想让pub组和builder组都可以建筑？\n你可以把builder组加到成员里，但你也可以使用继承。\n子区域继承父区域的成员、主人，没有设置的权限\n这是为了方便：\n大区域中的小区域\n创建一个模板\n每个区域至多有一个父区域。\n使用这个指令：\n/rg setparent:\n/rg setparent 子区域 父区域\n移除父区域：\n/rg setparent 子区域\nWG会自动检测继承。\n例子：创建一个mall\n/rg setparent plot1 mall\n/rg setparent plot2 mall\n/rg addowner mall g:mall_owners\n/rg addowner plot1 sk89q\n区域模板\n之前提到，因为继承，所以父区域可以作为子区域的模板。\n但你可能想要模板不是真正的区域，你不想保护这个区域，做到这个的方法之一是全局区域，使用-g来创建：\n/rg define -g plot_template\n例子：\n/rg define -g plot_template\n/rg setparent plot1 plot_template\n/rg setparent plot2 plot_template\n/rg setparent plot_template mall\n/rg flag mall chest-access allow\n/rg flag plot_template chest-access deny\n高优先级的父区域会覆盖子区域。\n区域组和覆盖区域\n你可能知道，标志可以只对于一些特殊的组有用。\n/rg flag mall pvp -g nonmembers deny\n当只有一个区域的时候，知道谁是成员谁是主人很清楚。但在覆盖区域中不这样：玩家只是其中一个区域的成员呢？\n答案是否定的，玩家必须在标志设置的区域为成员。例如，让我们想象有两个组——\nSpawn, 标志 pvp -g nonmembers deny ，没有成员\nMarket, 成员 “sk89q”\nsk89q不能PVP因为他不是spawn的一员。\n当子区域继承父区域，成员和标志以及主人都会被继承，对于这个是不通用的。\n例子：\nMarket, 标志 pvp -g nonmembers deny 无成员\nShop1, 成员 “sk89q,” 继承Market\nsk89q是成员吗？是，所以 sk89q 可以PVP\n先前提到，父区域的优先级不能比子区域高，否则会覆盖子区域。\n全局区域\n全局区域是一个特殊的区域：\n包括整个世界\n有最低的优先级\n有一些特殊功能\n每个世界都有它的全局区域。但是除了你尝试配置它，全局区域不会创建。\n例如，这样会自动创建全局区域。\n/rg flag __global__ pvp deny\n把全局区域当做一个一直在那儿的区域，在全局区域中的标志在该世界的区域中工作。\n但，像普通区域一样，passthrough 区域标志必须设置为allow。把 passthrough 设置为 allow 会让区域成为一个没有保护的区域，所以只要没有区域防止破坏，玩家就可以建筑。\n如果你把passthrough标志设置成了deny，会让区域像一个真正的区域一样，玩家必须是主人或成员才能建筑。因为全局区域包括整个世界，所以默认会禁止破坏。 \n因为全局区域的极低优先级，其他区域会直接覆盖全局区域的标志。\n注意\npassthrough标志与移动无关，它是建筑权限的缩写。\n例子：没有区域的地方无法建筑\n/rg flag __global__ passthrough deny\n增加主人和成员会把passthrough打开。\n建筑标志\n建筑标志不能设置成allow，原因是会自动让区域的建筑标志都不工作。把标志设置为deny使它像其他区域一样，但也意味着不能破坏和放置方块。因为全局区域包含整个世界，所以整个世界都不能建筑。 \n警告：\n不建议设置全局区域的build标志。如果你想保护世界，使用 passthrough 标志。如果你设置了全局区域的build标志，其他区域不会覆盖这个标志。\n所以，如果你把全局区域的build设置为了deny，无论他们是区域的主人或成员，都不能建筑了。\n默认覆盖\nWE的标志有一些不同。如 exp-drop 标志如果没有区域设置的话，甚至是成员和主人都不能掉落经验。\n如果你想要用把它设置为deny的方式覆盖 exp-drops 标志，使它可以运行，在全局区域上就不会工作。\n如你尝试使用 /rg flag __global__ exp-drop -g nonmembers deny但这不会工作。当你指定不是成员时，会指定不是全局区域的成员。所以，如果你制作一个地皮区域，经验不会生成，因为地皮区域的成员不是全局区域的成员。\n记住，即使全局区域的优先级是最低的，但区域不会继承，标志不会传播。\n这样的话，推荐你创建一个模板区域。见优先级与继承。\n区域认领\nWG中可以使用区域认领系统。它像 /rg define 一样，但玩家必须有特殊的权限。\n这里同时也需要WE来选择区域，所以你需要 worldedit.selection 权限。\n玩家可以这样认领选中的区域：\n/rg claim region_name\n当玩家输入指令后，会自动变成区域主人。这需要worldguard.region.claim权限。\n规则：\n最大的区域数量: 除非有 worldguard.region.unlimited 权限，玩家的区域数不能超过这个数量。\n最大区域提及: 除非有 worldguard.region.unlimited 权限，不然体积不能超过配置。\n预防覆盖：区域不能使用同名。\n预防重叠：区域不能重叠于其他区域。\n只能重叠自己的区域： 如果regions.claim-only-inside-existing-regions启用,只能重叠于自己的区域。 \n这时不支持多边形区域。\n你也可以给予玩家其他指令的权限。\n存储\n区域数据可以这样存储：\nYAML 不需要数据库 简单的更改，简单备份，快速读取\nMYSQL 使用数据库 保存只更改一部分\n注意：其他数据库，如PostgreSQL, SQL Server, SQLite不支持\n切换存储：默认是YAML\n在配置中 regions.sql.use 可以切换为MYSQL 这会禁用 YAML. 如果你切换至 MySQL, 数据表会自动生成, 当然要为 SQL 用户提供相应权限\n警告\n强烈建议在你更换数据库之前做备份。\n如果你只是简单的切换数据库，你之前所有数据都会丢失。你可以使用你哥简单的指令来切换，你在切换之前和之后都可以使用。 \nTo migrate data, use: /rg migratedb 之前 之后,如要把YAML换成MYSQL 使用\n/rg migratedb yaml mysql\n请确保目标数据库是空的。\n在你更改的时候不要忘记备份。\nYAML\n在region.yml中，每个世界下都有。 可以使用/rg load来读取。\n这是个示例：\n\nregions:\n    test:\n        min: {x: 1730.0, y: 0.0, z: -169.0}\n        max: {x: 1742.0, y: 255.0, z: -158.0}\n        members:\n            players: [bobby]\n            unique-ids: [0ea8eca3-dbf6-47cc-9d1a-c64551ca975c]\n        flags: {use: allow, greeting: Welcome!, pvp: allow, pvp-group: MEMBERS}\n        owners:\n            groups: [admins]\n        type: cuboid\n        priority: 4\n    __global__:\n        members: {}\n        flags: {}\n        owners: {}\n        type: global\n        priority: 0\n复制代码\nUUID经常使用\nMySQL\n只有一个服务器可以使用MYSQL\n前缀可以更改\n如果有错误发生会回档\n默认WG只会记录更改\n这个是讲解\n\nTable        Purpose\nregion        Region data, with shape, priority, and parent information.\nregion_cuboid        Data for cuboid regions, with bounds.\nregion_poly2d        Data for polygonal regions, with minimumum and maximum Y values.\nregion_poly2d_point        Individual rows for points of polygonal regions.\nregion_flag        Per-region flag data.\nregion_players        List of players on regions.\nregion_groups        List of groups on regions.\nworld        Normalizes worlds into a world ID.\nuser        Normalizes users into a user ID.\ngroup        Normalizes groups into a group ID.\nEach user row will either have a UUID or name set.\n复制代码\n不推荐在运行的服务器上修改MYSQL。经常会导致出错。\n保护什么 \n保护是综合性的：\n可以保护方块的破坏和放置，物品栏的打开，外部TNT的爆炸，外部重力方块的掉落，外部植物的生长，牌子的切换，作物的踩踏，画和展示框，红石触发机关，动物，喷溅药水和弹射物。\n其实，WG也支持一些MOD物品的保护。\n水和岩浆的流动在配置中默认禁止，可以打开。\n如果你找到了破坏的方式，请汇报BUG。\n例外\n一些标志会自动为不是成员的人关闭\n如物品掉落和物品拾取。\n经验值也不允许掉落。\n这些可以通过区域标志来移除。\n但是漏斗不行。漏斗会自动吸取区域下部箱子的物品，所以不要把区域箱子放在下部。这不能被更改。\n其实例外可以对每个区域都增加，也可以用触发白名单在全局区域开启。\n例子：在保护的区域中允许任何人使用红石机关：\n/rg flag __global__ use allow\n例子：在spawn区域为所有不是成员的玩家锁定物品丢弃和拾取：\n/rg flag spawn item-pickup -g nonmembers deny\n/rg flag spawn item-drop -g nonmembers deny\n例子：为所有地皮的不是成员的玩家锁定经验掉落\n/rg flag mall_parent exp-drops -g nonmembers deny\n这是错的 /rg flag __global__ exp-drops -g nonmembers deny\n这因为区域没有继承全局区域。\n方块和实体\n一个WG保护区域的重要特性是控制方块和实体，玩家可以成为一个区域的成员，但WG把方块和实体也这样看待，它们也可以成员区域的成员之一。\n但是方块和实体不能像玩家一样通过命令加入区域。一个外部的活塞的方块不能进入区域，这就是原因。这是因为那个方块像non-member组，同样的，一些东西也不能改变方块。在区域中的活塞可以推动方块的原因是它像区域的一个成员。\nWG同时也尝试检测事件真正的触发器。如一个砂砾在一个被保护区域上空被放置，它会调入被保护区域。WG认为最后生成的方块是由于掉落的砂砾，掉落的砂砾是由于高出的方块砂砾，因为它在区域外，不是区域内的“成员”，所以就会被保护。\n当build标志在区域中设置为了deny没有人可以建筑，活塞也不会工作，因为人们不可以建筑，活塞像成员一般，也不会工作。 \n其他MOD和插件的支持：\n一些MOD增加了新的游戏物品，如方块，道具，实体，MOD们需要API。\n通常的，BUkkit插件一般会遵循保护插件，但事实不总是这样。有些MOD的支持几乎少的可怜，这些MOD不会遵循其他MOD和插件的保护。\n最优保护\n要注意的东西\n可以改变其他方块和实体的方块和实体\n发射弹射物的东西\nWG可以在更多方块和实体上去保护。保护会预防左键右键方块和实体。这通常是足够的，因为这是与大多数方块和实体进行交互的唯一方法。\n但WG不能保护在客户端上打开GUI的方块和实体，因为他们发送和接收的东西与WG无关。\n其实，WG本身有的行动也不能控制，如一些自定义方块和实体。因为MC本身的一些方块也会影响世界，如活塞，但Bukkit组或你正在使用的服务端的维护者注意到这改变了世界，所以WG可以保护它们。\n但是MOD的方块和实体不同，所以WG有时不能保护这些。\n一些MOD会为了某些效果而虚拟一个玩家。这些玩家的名字基本上都是以MOD名来命名。但是这个消息除了对于识别是哪个MOD造成的，也可以使WG来预防一些行为。\n要让MOD在保护的区域中发挥作用，虚拟玩家有特殊权限，这个配置可以在fake-player-build-override修改，这样就不会预防MOD在保护区域中工作了。\n弹射物[和一些魔法MOD中的弹射物效果]是作者目前主要关注的问题。这是因为MOD不会提示插件弹射物的发射。\nWG有一个工作区 emit-block-use-at-feet 设置，这个设置可以允许你设置一些物品类型，这会假装改变玩家的脚底下的方块。这会防止玩家烧掉他们自己的物品，但玩家不能在区域中使用物品，但在保护区域外，这不会工作\n解决方案\n如果出问题的是一个Bukkit插件，联系它的作者以增加对于保护插件的支持。这也可以通过使用WG API来解决。\n如果出问题的是一个MOD，那你只能联系发布者以获得支持。\n修复选择的区域可以：\n如果你确信的话，你可以忽略。\n你也可以禁用出问题的物品。\n常见情节\n如何启用红石开关？\n/rg flag REGION_NAME use allow\n/rg flag __global__ use allow\n如何让玩家骑马和矿车？\n/rg flag REGION_NAME ride allow\n/rg flag __global__ ride allow\n如何预防在野外建筑？\n/rg flag __global__ passthrough deny\n怎么让不是成员的玩家不能出去？\n/rg addmember example_region sk89q\n/rg flag example_region exit -g nonmembers deny\n如何让不是成员的玩家只能从一边出去？\n设置两个区域\n一个与上面相同\n一个在区域的一侧，覆盖掉标志。exit=allow.\n如何不保护所有附魔台？\n在配置中的 interaction-whitelist 设置，加入 enchantment table. 使用Material来获取正确的名字。\n怎么允许挖但不会破坏方块？\n把 block-break 标志设置为allow:\n* /rg flag mining_area block-break allow\n怎么只能破坏一些方块？\n对不起，现在不支持。\n地皮设置\n怎么设置地皮？\n你首先要阅读优先级和继承，然后根据例子来创建，\n/rg define mall\n/rg define shop_template -g\n/rg define shop1\n/rg define shop2\n/rg define shop3\n/rg setparent shop_template mall\n/rg setparent shop1 shop_template\n/rg setparent shop2 shop_template\n/rg setparent shop3 shop_template\n/rg flag mall use deny\n/rg flag shop_template use allow\n问题\n为什么活塞不工作？\n你设置建筑权限了吗？\n/rg flag __global__ build\n如果你想保护野外，使用这个\n/rg flag __global__ passthrough deny\n不支持用活塞把一个区域中的方块推到另一个区域中。\n为什么其他MOD的一些物品被禁用了？\n参阅保护什么页面\n\n\nWG API\n开发者\n\n译者毕竟不是开发者，所以翻译见谅\n\nWG API在5.X和6.X版本就有了，推荐6.X\n\nmaven存储库:  http://maven.sk89q.com/repo/\n\n人工制品:  com.sk89q:worldguard:VERSION VERSION即为版本\n\n下面是作者给的一些示例\n\n<repositories>\n    <repository>\n        <id>sk89q-repo</id>\n        <url>http://maven.sk89q.com/repo/</url>\n    </repository>\n</repositories>\n\n<dependencies>\n    <dependency>\n        <groupId>com.sk89q</groupId>\n        <artifactId>worldguard</artifactId>\n        <version>VERSION</version>\n    </dependency>\n</dependencies>\n\n\nrepositories {\n    mavenCentral()\n    maven { url \"http://maven.sk89q.com/repo/\" }\n}\n\ndependencies {\n    compile 'com.sk89q:worldguard:VERSION'\n}\n复制代码\n\n\n配置plugin.yml\n\nname: My Plugin\nversion: 1.0\ndescription: This is my plugin!\ndepend: [WorldGuard]\n复制代码\n\n\n\nimport com.sk89q.worldguard.bukkit.WorldGuardPlugin;\nimport org.bukkit.plugin.Plugin;\n\nprivate WorldGuardPlugin getWorldGuard() {\n    Plugin plugin = getServer().getPluginManager().getPlugin(\"WorldGuard\");\n\n    // WorldGuard may not be loaded\n    if (plugin == null || !(plugin instanceof WorldGuardPlugin)) {\n        return null; // Maybe you want throw an exception instead\n    }\n\n    return (WorldGuardPlugin) plugin;\n}\n\n\nimport com.sk89q.worldguard.bukkit.WGBukkit;\n\nWorldGuardPlugin plugin = WGBukkit.getPlugin();\n\n\nclass MyPlugin {\n    public void onEnable() {\n        ProtectedCuboidRegion region = new ProtectedCuboidRegion(...);\n    }\n}\n\nclass RegionHolder {\n    private final ProtectedCuboidRegion region;\n\n    public MyPlugin() {\n        region = new ProtectedCuboidRegion(...);\n    }\n}\n\nclass MyPlugin {\n    public void onEnable() {\n        try {\n            new RegionHolder();\n        } catch (NoClassDefFoundException e) {\n            // Do something here\n        }\n    }\n}\n\nclass MyPlugin {\n    public void onEnable() {\n        try {\n            boolean result = SomeClass.staticMethod();\n        } catch (NoClassDefFoundException e) {\n            // Do something here\n        }\n    }\n}\n\n复制代码\n译者是个翻译官，开发什么的就免了。\n有问题还是去问作者吧 这个我是没法解答了。\n\n\n建筑检查\n\n\nboolean canBuild(Player player, Location loc);\nboolean canBuild(Player player, Block block);\n\ngetWorldGuardPlugin().canBuild(player, block.getRelative(0, -1, 0));\n复制代码\n\n\n区域构建\n管理者\n\n\nRegionContainer container = getWorldGuard().getRegionContainer();\nRegionManager regions = container.get(world);\nProtectedRegion region = regions.getRegion(\"spawn\");\n\nRegionContainer container = getWorldGuard().getRegionContainer();\nRegionManager regions = container.get(world);\nif (regions != null) {\n    return regions.getRegion(\"spawn\");\n} else {\n    // The world has no region support or region data failed to load\n}\n\nRegionContainer container = getWorldGuard().getRegionContainer();\nRegionManager regions = container.get(world);\nregions.addRegion(region);\n\nregions.removeRegion(\"mall\", RemovalStrategy.UNSET_PARENT_IN_CHILDREN);\n\nsave()\nsaveChanges()\n\nload()\n复制代码\n\n\n区域\n\n\nProtectedRegion class\n子class\nProtectedCuboidRegion\nProtectedPolygonalRegion\nGlobalProtectedRegion\n\nregion.setPriority(100);\n\nmall.setParent(null); // No parent\nplot.setParent(mall);\n\nif (region instanceof ProtectedPolygonalRegion) {\n    ProtectedPolygonalRegion polygon = (ProtectedPolygonalRegion) region;\n    List<BlockVector2D> points = polygon.getPoints();\n}\n\nDefaultDomain members = region.getMembers();\nmembers.addPlayer(\"sk89q\");\nmembers.addPlayer(UUID.fromString(\"0ea8eca3-dbf6-47cc-9d1a-c64551ca975c\"));\nmembers.addGroup(\"admins\");\n\n// Google's Guava library provides useful concurrency classes.\n// The following executor would be re-used in your plugin.\nListeningExecutorService executor =\n        MoreExecutors.listeningDecorator(Executors.newCachedThreadPool());\n\nString[] input = new String[] { \"sk89q\", \"g:admins\" };\nProfileService profiles = getWorldGuard().getProfileService();\nDomainInputResolver resolver = new DomainInputResolver(profiles, input);\nresolver.setLocatorPolicy(UserLocatorPolicy.UUID_AND_NAME);\nListenableFuture<DefaultDomain> future = executor.submit(resolver);\n\n// Add a callback using Guava\nFutures.addCallback(future, new FutureCallback<DefaultDomain>() {\n    @Override\n    public void onSuccess(DefaultDomain result) {\n        region.getOwners().addAll(result);\n    }\n\n    @Override\n    public void onFailure(Throwable throwable) {\n        // Do something about the error\n    }\n});\n\nDefaultFlag.BUILD\nDefaultFlag.PVP\nDefaultFlag.LEAF_DECAY\nDefaultFlag.LIGHTNING\n\nString message = region.getFlag(DefaultFlag.GREET_MESSAGE);\nplayer.sendMessage(message);\n\nregion.setFlag(DefaultFlag.GREET_MESSAGE, \"Hi there!\");\n\nRegionGroupFlag flag = DefaultFlag.PVP.getRegionGroupFlag();\n\nregion.setFlag(DefaultFlag.USE, StateFlag.State.ALLOW);\nregion.setFlag(DefaultFlag.USE.getRegionGroupFlag(), RegionGroup.MEMBERS);\n\nBlockVector min = new BlockVector(-10, 5, -4);\nBlockVector max = new BlockVector(5, -8, 10);\nProtectedRegion region = new ProtectedCuboidRegion(\"spawn\", min, max);\n\nList<BlockVector2D> points = Lists.newArrayList(); // Call from Guava\npoints.add(new BlockVector2D(3, 4, 5));\npoints.add(new BlockVector2D(0, 0, 0));\npoints.add(new BlockVector2D(19, 3, 4));\nint minY = 0;\nint maxY = 54;\nProtectedRegion region = new ProtectedPolygonalRegion(\"spawn\", points, minY, maxY);\n\nProtectedRegion region = new GlobalProtectedRegion(\"template\");\n\nregion.contains(new Vector(20, 0, 30));\n\nList<ProtectedRegion> candidates = Lists.newArrayList();\ncandidates.add(mall);\ncandidates.add(hospital);\n\nList<ProtectedRegion> overlapping = spawn.getIntersectingRegions(candidates);\n\nisDirty()\n复制代码\n\n\n空间查询\n\n\nApplicableRegionSet\n\nRegionQuery query = container.createQuery();\nApplicableRegionSet set = query.getApplicableRegions(location);\n\nLocation loc = new Location(world, 10, 64, 100);\nRegionContainer container = getWorldGuard().getRegionContainer();\nRegionQuery query = container.createQuery();\nApplicableRegionSet set = query.getApplicableRegions(loc);\n\nVector position = new Vector(20, 10, 4);\nApplicableRegionSet set = regions.getApplicableRegions(position);\n\nLocation loc = new Location(world, 10, 64, 100);\nRegionContainer container = getWorldGuard().getRegionContainer();\nRegionManager regions = container.get(loc.getWorld());\n// Check to make sure that \"regions\" is not null\nApplicableRegionSet set = regions.getApplicableRegions(BukkitUtil.toVector(loc));\n\nVector min = new Vector(0, 0, 0);\nVector max = new Vector(10, 10, 10);\nProtectedRegion test = new ProtectedCuboidRegion(\"dummy\", min, max);\nApplicableRegionSet set = regions.getApplicableRegions(test);\n\nList<ProtectedRegion> regions = Lists.newArrayList();\nregions.add(spawn);\nregions.add(mall);\nregions.add(pub);\n\nApplicableRegionSet set = new RegionResultSet(regions, null); // No global region\n\nfor (ProtectedRegion region : set) {\n    // Do something with each region\n}\n\nList<ProtectedRegion> region = Lists.newArrayList(set);\n\n复制代码\n\n\n计算权限\n\n\nqueryAllValues(RegionAssociable, Flag)\n\nLocalPlayer localPlayer = getWorldGuard().wrapPlayer(player)\nCollection<String> greetings = set.queryAllValues(localPlayer, DefaultFlag.GREET_MESSAGE);\n\nLocalPlayer localPlayer = getWorldGuard().wrapPlayer(player)\nString greeting = set.queryValue(localPlayer, DefaultFlag.GREET_MESSAGE);\n\nLocalPlayer localPlayer = getWorldGuard().wrapPlayer(player)\nif (!set.testState(localPlayer, DefaultFlag.BUILD)) {\n    event.setCancelled(true);\n}\n\nif (!set.testState(null, DefaultFlag.CREEPER_EXPLOSION)) {\n    event.setCancelled(true);\n}\n\nLocalPlayer localPlayer = getWorldGuard().wrapPlayer(player)\nLocation loc = new Location(world, 10, 64, 100);\nRegionContainer container = getWorldGuard().getRegionContainer();\nRegionQuery query = container.createQuery();\n\n// No need to bother:\n// ApplicableRegionSet set = query.getApplicableRegions(loc);\n\n// Just directly test the flag\nquery.testState(loc, localPlayer, DefaultFlag.BUILD);\n\ntestState(..., DefaultFlag.BUILD, your flags)\n\nList<ProtectedRegion> regions = Arrays.asList(spawnRegion, buildersClub);\nbuilderPlayer.getAssociation(regions) == Association.OWNER;\n\nSet deepInside    = newHashSet(spawn, mall);\nSet inside        = newHashSet(spawn);\nSet outside       = newHashSet(); // Empty set\n\n// outside -> inside = BLOCKED\nnew RegionOverlapAssociation(outside).getAssociation(inside) == NON_MEMBER\n\n// inside -> inside = ALLOWED\nnew RegionOverlapAssociation(inside).getAssociation(inside) == MEMBER\n\n// inside -> deepInside = ALLOWED\nnew RegionOverlapAssociation(inside).getAssociation(deepInside) == MEMBER\n\n// inside -> outside = ALLOWED\nnew RegionOverlapAssociation(inside).getAssociation(outside) == MEMBER\n\nprivate RegionAssociable createRegionAssociable(Object cause) {\n    if (cause instanceof Player) {\n        return getWorldGuard().wrapPlayer((Player) cause);\n    } else if (cause instanceof Entity) {\n        RegionQuery query = getWorldGuard().getRegionContainer().createQuery();\n        return new DelayedRegionOverlapAssociation(query, ((Entity) cause).getLocation());\n    } else if (cause instanceof Block) {\n        RegionQuery query = getWorldGuard().getRegionContainer().createQuery();\n        return new DelayedRegionOverlapAssociation(query, ((Block) cause).getLocation());\n    } else {\n        return Associables.constant(Association.NON_MEMBER);\n    }\n}\n\n@EventHandler\npublic void onPlayerBucketFill(PlayerBucketFillEvent event) {\n    Player player = event.getPlayer();\n    RegionAssociable associable = createRegionAssociable(getWorldGuard().wrapPlayer(player));\n\n    if (!set.testState(associable, /* flags here */)) {\n        event.setCancelled(true);\n    }\n}\n复制代码\n\n\n保护查询\n\nLocalPlayer localPlayer = getWorldGuard().wrapPlayer(player)\nLocation loc = new Location(world, 10, 64, 100);\nRegionContainer container = getWorldGuard().getRegionContainer();\nRegionQuery query = container.createQuery();\n\nif (!query.testState(loc, localPlayer, DefaultFlag.BUILD)) {\n    // Can't build\n}\n\n\n区域事件\nDisallowedPVPEvent\n禁止PVP\n\n从水桶服的一些物体\n\ngetWorldGuard().wrapPlayer(player);\n\nBukkitUtil.toVector(location);\n\n\n"
        },
        {
            "author": "米安博奥",
            "timestamp": 1471847400,
            "txt_content": "原文地址载入好慢，是我网络问题吗"
        },
        {
            "author": "Greensky",
            "timestamp": 1471920300,
            "txt_content": " 本帖最后由 henry5041 于 2016-8-23 13:37 编辑 \n\n辛苦了，不过建议未完成的内容先打草稿，完成大部分后再发出来"
        },
        {
            "author": "酷车手BB弹",
            "timestamp": 1472953320,
            "txt_content": "原文地址挂了"
        },
        {
            "author": "丶MOAN",
            "timestamp": 1486765260,
            "txt_content": "酷车手BB弹 发表于 2016-9-4 09:42\n**** 作者被禁止或删除 内容自动屏蔽 ****\n\n我想使一个区域对特定权限组开放拆除权限\nwhat should i do?"
        },
        {
            "author": "xiaohuandada",
            "timestamp": 1588953900,
            "txt_content": "感谢分享！！！"
        }
    ]
}