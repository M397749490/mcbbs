{
    "title": "【原创】计分板复合准则运用—食物效水效果/中级红石教程.02",
    "author": "陈皮_no橘皮",
    "replyCount": 9,
    "timestamp": 1587808320,
    "txt_content": " 本帖最后由 陈皮_no橘皮 于 2020-4-25 20:23 编辑 \n注：本帖适合于有命令基础的人（即了解大部分命令的用处，小部分命令可以较为熟练的进行运用）即使完全不会命令的萌新仍然可以理解，但仍不推荐进行学习，本贴是实战+教程两用贴，您可以根据实际情况来进行阅读，命令构思均为原创，如有雷同，纯属巧合，命令或许不是最简，尽请谅解，最后感谢您的观看\n\n计分板复合准则的实际运用——\n食物效果（注：此方法存在bug,以曲奇为例即吃完普通曲奇后数据加1再切换到设定好的曲奇仍然可以获得药效，且必须手持两个设定好的曲奇才会有效果）\nby:chen_skin\n\n\n\n课前准备：我们需要一个命令方块\n/give @a minecraft:command_block复制代码\n首先我们创建一个计分板/scoreboard objectives add 【计分板名字】 minecraft.used:minecraft.cookie复制代码tip：计分板名称可任意，这里命名为effect_cookie\n\n\n\n\n2020-04-25_02.12.24.png (236.02 KB, 下载次数: 3)\n\n下载附件\n\n2020-4-25 17:03 上传\n\n\n\n\n\n注释：minecraft.used:minecraft.cookie即为当玩家使用曲奇时增加1\n什么是计分板的复合准则？\n\n\n记分项由名称（name）、显示名称（display name）、准则（criteria）以及每位玩家（及实体UUID）所对应的整数数据组成。\n而准则有普通准则和复合准则两类，普通准则请前往 这里\n以下摘自wiki（biligame wiki镜像网站）\n[1]有些准则使用了统计和成就系统来组成复合准则。[2]不同于上面的简单准则，复合准则有多个部分，使用点号来分隔(.)。例如 “stat.entityKilledBy.Zombie”是一种复合准则，当玩家被僵尸杀死的时候才会增加。??[仅Java版][3]下面是已知的复合准则：??[仅Java版]准则本名描述可否编辑[url=]折叠[/url]次级准则数量minecraft.custom:minecraft.\n统计 Base criterion for all those related to a player's statistics. Player scores increment automatically for a player when they perform the action relavent to the sub-criterion.基于玩家的统计来计数，接受的次级准则有：animals_bred、aviate_one_cm、boat_one_cm、clean_armor、clean_banner、climb_one_cm、crouch_one_cm、damage_dealt、damage_taken、deaths、drop、eat_slice_cake、enchant_item、fall_one_cm、fill_cauldron、fish_caught、fly_one_cm、horse_one_cm、inspect_dispenser、inspect_dropper、inspect_hopper、interact_with_beacon、interact_with_brewingstand、interact_with_crafting_table、interact_with_furnace、jump、leave_game、minecraft_one_cm、mob_kills、open_chest、open_enderchest、open_shulker_box、pig_one_cm、play_notebook、play_one_minute、play_record、player_kills、pot_flower、sleep_in_bed、sneak_time、sprint_one_cm、swim_one_cm、talked_to_villager、time_since_death、time_since_rest、traded_with_villager、trigger_trapped_chest、tune_noteblock、use_cauldron、walk_on_water_one_cm、walk_one_cm、walk_under_water_one_cm。 Note that \"damage_dealt\" does not track damage caused by player projectiles. [4]是69minecraft.crafted:minecraft.\n合成 次级准则是合成物品或方块的ID名（例如“minecraft.crafted:minecraft.stone”，注意需要加命名空间minecraft.）。只有可合成或可熔炼的方块和物品名才会被接受。这个数据会在被合成物品移出熔炉、工作台或者物品栏中的合成区域时增加。增加的值有合成或熔炼的物品数量决定接受的ID名 [显示]是263（398）[注 1]minecraft.used:minecraft.\n使用物品 次级准则是方块或物品的ID名（如“minecraft.used:minecraft.stone”）。大部分方块和物品都被接受，除了某些不存在物品形式的方块。接受的ID名 [显示]物品的使用次数会随着玩家使用的方块或物品的次数增加而增加。“使用”在下列情况被定义为：锹、镐、斧、打火石、剪刀、锄、弓或剑会消耗它们的耐久度。即使没有损耗，使用次数也会增加，例如当它们用于破坏一个火把。每右击钓鱼竿或萝卜钓竿一次，它们的使用次数就会增加，即使它们没有损耗。当盔甲有损耗时，使用次数不会增加。放下一个方块。画、刷怪蛋、任何一种矿车、物品展示框、船、末影之眼、末影珍珠、鸡蛋、雪球、弓、任何一种可投掷的 药水、附魔之瓶、或钓鱼竿生成一个实体。有两种使用方法的染料之一被正确地使用了。包括可可豆在丛林木头上放置可可果或骨粉被使用于催长植物，例如农作物或草。这个数值在给羊染色时并不增长。牛奶、药水或任何食物以及除蛋糕之外可放置的。由空地图、桶、熔岩桶、水桶、牛奶、书与笔或药水制出新的物品。这个数值当由碗制作出蘑菇煲或一个桶制出牛奶时并不增长。将一份音乐唱片放入唱片机。每个唱片有一个不同的记分板数值。\n然而，这些数值，不会在物品用于生物上时，不管是命名、驯服、喂养、繁殖、上鞍、套绳、薅毛、挤奶，或是通过哞菇取得蘑菇煲；或直接穿上盔甲；或皮革盔甲经由炼药锅染色；以及所有以上提到的方式下增长。创造模式**有357种物品，不必使用命令获得且包括有相近ID却又有不同数据值的方块，可以使用这项统计，而还有195种无法使用。是318（636）[注 1]minecraft.broken:minecraft.\n用坏物品次级准则是有耐久度的物品ID名（比如“minecraft.broken:minecraft.bow”)。接受的ID名 [显示]当耐久度耗尽时数值增加。耐久度在物品损耗耐久的条件满足时耗尽，且耐久为0时的第一次使用后耐久度变为负数。是52（100）[注 1]minecraft.mined:minecraft.\n挖掘次级准则为方块的ID名（比如“minecraft.mined:minecraft.stone”）。大多数方块都可接受，不可开采的或技术性方块除外。接受的ID名 [显示]玩家挖掘方块时数值增加。“挖掘”定义为玩家能使方块掉落物品的破坏方式，除非方块不会掉落，比如玻璃，或是会创造出另外一个方块，比如 冰。创造模式下该数值不会增加，且游戏规则doTileDrops为false时也会计数。是195（270）[注 1]minecraft.killed:minecraft.\n杀死实体次级准则为实体的名字。是43minecraft.picked_up:minecraft.\n捡起次级准则是方块或物品ID名（比如“minecraft.picked_up:minecraft.stone”）。当玩家捡起掉落的物品时增加。是392minecraft.dropped:minecraft.\n掉落次级准则是方块或物品ID名（比如“minecraft.dropped:minecraft.stone”）。当玩家掉落物品时增加。是392minecraft.killed_by:minecraft.\n被实体杀死次级准则为实体的名字。任何实体的名字都是有效的。在玩家被特定的实体杀死时增加。需要注意的是，如果使用了被动型生物，数值永远不会增加，因为它们无法伤害玩家。是43teamkill\n团队击杀数次级准则是队伍的颜色。合法的颜色名为：black、dark_blue、dark_green、dark_aqua、dark_red、dark_purple、gold、gray、dark_gray、blue、green、aqua、red、light_purple、yellow和white。在玩家杀死特定颜色的队伍成员时增加。是16killedByTeam\n团队被击杀数 次级准则是队伍的颜色。合法的颜色名为：black、dark_blue、dark_green、dark_aqua、dark_red、dark_purple、gold、gray、dark_gray、blue、green、aqua、red、light_purple、yellow和white。在玩家被特定颜色的队伍成员杀死时增加。是16↑ 跳转至：1.0 1.1 1.2 1.3 在版本14w06a之前，stat.craftItem、stat.useItem、stat.breakItem和stat.mineBlock只接受数字ID而不接受ID名。ID名的增加代表复合准则会是之前的两倍数量，然何事实上数字ID的准则和ID名的准则在数量和本质上是相同的。由于数字ID的移除，这里只显示了ID名。\n\n\n\n\n当你输入此指令后并吃下曲奇，你刚才创建的计分板加1。\n可以通过/scoreboard objectives setdisplay sidebar【计分板名字】显示在右侧\nscoreboard players add @a 【计分板名字】1复制代码(以上内容已讲解，请前往此贴这里，将不继续详解）\n\n\n\n\n\n2020-04-24_19.10.32.png (198.16 KB, 下载次数: 3)\n\n下载附件\n\n2020-4-25 16:54 上传\n\n\n\n\n\neffect give @a[scores={effect_cookie=1..}] minecraft:fire_resistance 30 0 true复制代码\n\n\n\n\n2020-04-24_19.10.36.png (221.3 KB, 下载次数: 2)\n\n下载附件\n\n2020-4-25 16:59 上传\n\n\n\n\n\nscoreboard players set @a[scores={effect_cookie=1..}] effect_cookie 0复制代码\n即为当所有玩家的名为effect_cookie的计分板为1时给予玩家30秒5级隐藏粒子效果的防火，之后我们在将所有人的计分板重置为0\n\n\n测试：\n\n\n\n\nfile_1587805424000.jpg (65.05 KB, 下载次数: 3)\n\n下载附件\n\n2020-4-25 17:04 上传\n\n\n\n\n\n\n\n\n2020-04-25_15.09.54.png (264.27 KB, 下载次数: 3)\n\n下载附件\n\n2020-4-25 17:05 上传\n\n\n\n\n\n但是，这里就有问题了，即吃下任何曲奇都会获得此效果，那么怎么样让他吃下特定的曲奇才有效果？这里就要用到我们的tag标签了\n\n\n\n\n2020-04-25_15.15.50.png (261.56 KB, 下载次数: 4)\n\n下载附件\n\n2020-4-25 17:08 上传\n\n\n\n\n\n这时我们就有了带有tag的曲奇（tag的名称可随意）\n/give @p minecraft:slime_ball{display:{Name:\"[{\"text\":\"<span style=\"background-color: cyan;\">物品名称</span>\",\"color\":\"dark_red\",\"bold\":true,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false}]\"},Tags:[\"<span style=\"background-color: cyan;\">tag名称</span>\"],Enchantments:[{}]} 1<font color=\"#ffffff\"> <span style=\"background-color: red;\">部分内容自行修改</span></font>复制代码光改物品肯定不够，我们还要让命令方块检测到包含tag后再有效果，否则只是普通的曲奇\n那么就要用到excute指令了\nexecute if entity @a[nbt={SelectedItem:{tag:{Tags:[\"effect_cookie\"]}}}] run <font color=\"#ff0000\">一条命令（如果你想还可以套娃，再来个excute指令）</font>复制代码\n\n\n\n\n\n2020-04-25_15.17.20.png (278.5 KB, 下载次数: 5)\n\n下载附件\n\n2020-4-25 17:12 上传\n\n\n\n\n\n\n最终测试：\n\n\n\n\nRec 0053[00_00_00--00_00_20].gif (320.13 KB, 下载次数: 2)\n\n下载附件\n\n2020-4-25 17:47 上传\n\n\n\n\n\n\n然后我又创建了个神奇的玩意\n\n\n\n\n2020-04-25_07.40.37.png (239.66 KB, 下载次数: 3)\n\n下载附件\n\n2020-4-25 17:40 上传\n\n\n\n\n\n接下来的不写了直接发我爆肝出来的图（请勿转载）\n\n\n\n\n\n2020-04-25_15.51.01.png (223.81 KB, 下载次数: 4)\n\n下载附件\n\n2020-4-25 17:42 上传\n\n\n\n\n\n成果展示链接：链接：https://share.weiyun.com/5QFJo6m\n\n密码 密码rdhpvx\n\n",
    "replies": [
        {
            "author": "陈皮_no橘皮",
            "timestamp": 1587808440,
            "txt_content": " 本帖最后由 陈皮_no橘皮 于 2020-4-25 17:56 编辑 \n\n注：此方法存在bug,\n以曲奇为例即吃完普通曲奇后数据加1再切换到设定好的曲奇仍然可以获得药效，且必须手持两个设定好的曲奇才会有效果\n原标题：【原创】计分板复合准则的综合运用—进食食物获取效水效果/中级红石教程.02（因名称太长被打回）\n"
        },
        {
            "author": "血麟",
            "timestamp": 1587811620,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "Ruainbow_",
            "timestamp": 1588016340,
            "txt_content": "1.你的版本在1.13+，这种效果完全可以用进度解决。\n2.都1.16了不会还有人把命令算入红石技术吧，不会吧不会吧\n3.自定义物品推荐使用id自定义标签来标记。\n4.都1.16了还搁这整红石比较器呢，这玩意儿不是1.9就被淘汰了吗= =+虽然数据包使用中不是绝对优于命令方块，但是不但使用命令方块，还在命令方块组，特别是需要超频的命令方块组中使用红石...我无语了。"
        },
        {
            "author": "陈皮_no橘皮",
            "timestamp": 1588079640,
            "txt_content": "Ruainbow_ 发表于 2020-4-28 03:39\n1.你的版本在1.13+，这种效果完全可以用进度解决。\n2.都1.16了不会还有人把命令算入红石技术吧，不会吧不会 ...\n1.首先我给你纠错并不是进度而是统计，但我是真没想可以使用这个，我深感抱歉造成了bug\n2.并没有算在红石技术啊，我点错了投稿分区吗？如果有请告知，将立刻修改之前的帖子并没有放到红石技术里\n3.感谢你的建议我命令小白可能有问题请见谅，重置版我可能将会之后发出\n4.诚然红石比较器可能并不太适合，但红石比较器在命令方块的应用中并没有淘汰，尤其是减法模式\n具体如果你有简化意见我请求你发出以供我学习，感谢"
        },
        {
            "author": "lun_yi~",
            "timestamp": 1588087380,
            "txt_content": "命令的bug 其实是基础的小技巧不知道，。。 bbs里有数据包入门教程啊，属于物品设计。 特定物品有Tags。循环函数（指令） 第一条检测到既有特定tag（第4条给持有特定物品玩家加上的tag）又满足 吃物品记分版为1 的玩家触发效果 第2条重置记分版 第三条 移除个玩家的特定tag 第4条给持有特定物品的玩家加上特定tag。原理大概是循环函数每t执行一次 而食用物品记分版加1的这一t上一t一定持有物品的，所以如果是特定物品这一t第一条就能执行，反之不能  要是我会发帖就好了，，，"
        },
        {
            "author": "lun_yi~",
            "timestamp": 1588087440,
            "txt_content": "372369534 发表于 2020-4-28 23:23\n命令的bug 其实是基础的小技巧不知道，。。 bbs里有数据包入门教程啊，属于物品设计。 特定物品有Tags。循 ...\n没标序号有点乱  个字删掉"
        },
        {
            "author": "VCS-Official",
            "timestamp": 1588123500,
            "txt_content": "陈皮_no橘皮 发表于 2020-4-28 21:14\n1.首先我给你纠错并不是进度而是统计，但我是真没想可以使用这个，我深感抱歉造成了bug\n2.并没有算在红石 ...\n1.进度是进度，advancement，统计是统计，stats。\n2.标题有红石教程字样，可能是我理解错了，抱歉。\n3.期待你的重置\n4.在命令系统特别是多人使用的系统中，红石尤其红石比较器是最大的不稳定性因素之一。主要原因是延迟和复位的原因，以及同时只能处理一个输入。实际操作中有很多可以替代红石的更优选择。\n————————————————\n关于优化：\n所谓食物效果只需要应用进度即可。\n使用minecraft:consume_item触发器，检测玩家食用了指定的带有指定NBT的物品；\nreward中使用函数，在函数中写上需要执行的命令（如effect、spreadplayers、tp等等，或是更复杂的组合）即可。\n————————————————\n在1.12+的版本中，推荐使用函数、进度等数据文件制作所需的功能\n也就是1.13+中搬仟到数据包中的这些文件类型。"
        },
        {
            "author": "陈皮_no橘皮",
            "timestamp": 1588161000,
            "txt_content": "标题: jiaoxhwng 本帖最后由 陈皮_no橘皮 于 2020-4-29 19:57 编辑 \nVCS-Official 发表于 2020-4-29 09:25\n1.进度是进度，advancement，统计是统计，stats。\n2.标题有红石教程字样，可能是我理解错了，抱歉。\n3.期 ...\n1.我之前一直把advancement和stats混为一谈，一直认为是一样的.....感谢您的提醒\n2.红石教程字样我尝试看能换掉不\n3.这里有个问题想要询问：如何在一个重复的命令组中当检测到一个条件后发生一条命令但只执行一次，如果是setblock就算了\n————————————————\nwiki上写的这东西是什么（或如何使用）？可以给一个教程链接吗？(wiki教程过于专业）或者是如果我要使用Crafting去创建数据包的自定义物品怎么做\nminecraft:consume_item\n玩家损耗了物品时触发。可用条件：\n\n conditions：\n item：被损耗的物品。\n物品共通标签 [隐藏]\n count：物品数量。\n count：\n max：最大值。\n min：最小值。\n durability：物品的耐久度。\n durability：\n max：最大值。\n min：最小值。\n enchantments：魔咒列表。\n：\n enchantment：一个魔咒ID。\n levels：魔咒等级。\n levels：\n max：最大值。\n min：最小值。\n stored_enchantments：附魔书中储存的魔咒的列表。\n：\n enchantment：一个魔咒ID。\n levels：魔咒等级。\n levels：\n max：最大值。\n min：最小值。\n item：一个物品ID。\n nbt：一个NBT字符串。\n potion：一个酿造药水的ID。\n tag：一个物品数据包标签。\n一个例子 [隐藏]\n\n{\n  \"criteria\": {\n    \"example\": {\n      \"trigger\": \"minecraft:consume_item\",\n      \"conditions\": {\n        \"item\": {\n          \"item\": \"minecraft:golden_apple\",\n          \"data\": 1,\n          \"nbt\": \"{display:{Name:\\\"\\\\\\\"Example\\\\\\\"\\\"}}\"\n        }\n      }\n    }\n  }\n}\n————————————————\n也就是1.13+中搬仟到数据包中的这些文件类型。\n这里是搬迁吧？\n"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1588263840,
            "txt_content": " 本帖最后由 (=°ω°)丿 于 2020-5-1 00:30 编辑 \n陈皮_no橘皮 发表于 2020-4-29 19:50\n1.我之前一直把advancement和stats混为一谈，一直认为是一样的.....感谢您的提醒\n2.红石教程字样我尝试看 ...\n[1.13-1.15] Generators for Minecraft —— 数据包 JSON 文件生成器！\nhttps://www.mcbbs.net/thread-897487-1-1.html\n\n食用 {foo:1b} 的面包后即可获得该进度，奖励是执行函数 foo:example，别忘了在函数里添加移除该进度的命令以便于重复使用。{\n  \"rewards\": {\n    \"function\": \"foo:example\"\n  },\n  \"criteria\": {\n    \"bread\": {\n      \"trigger\": \"minecraft:consume_item\",\n      \"conditions\": {\n        \"item\": {\n          \"item\": \"minecraft:bread\",\n          \"nbt\": \"{foo:1b}\"\n        }\n      }\n    }\n  }\n}复制代码"
        }
    ]
}