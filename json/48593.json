{
    "title": "已放出存档，手把手教你在1.3中建造投币识别机器",
    "author": "weixingl888",
    "replyCount": 16,
    "timestamp": 1346233500,
    "txt_content": " 本帖最后由 weixingl888 于 2012-8-29 18:43 编辑 \n\n存档在这里：\nhttp://pan.baidu.com/share/link?shareid=7709&uk=3204872590\n说明下，存档中有两种设备，一种是利用活塞的，一种是本教程做的利用RS锁存器的，大家喜欢哪个可以慢慢研究。\n\n我用黄金、钻石、青金石方块标记出了装置的输入输出接口。\n黄金下面的红石线是输出，会在投入物品正确的时候输出一个长度在1s左右的信号。\n钻石下面是投入物品用的水流。\n青金石下面的红石线是状态输出，会在投入物品后，未完成识别之前输出1，待命状态输出0。\n\n如果想调整装置识别的物品类型，把那个发射器里放满你需要识别的物品就可以。\n\n==========================下面是教程==========================\n昨天在MCBBS一直传不好图，就一直没发，现在补上。(卤蛋说用图床，可是图很多诶！)\n\n其实这贴只是在\nhttp://www.mcbbs.net/forum.php?mod=viewthread&tid=47615\n的基础上解答很多人提出的一个问题：\n\n这个只能识别不对的物品丫，完全跟我需要的反着啊！\n\n对于这个问题，我首先要回复的是：\n浑淡！你学红石是为啥啊？！装B么？为毛不会自己稍微动一动脑子呢？！很容易就能想出解决方案的啊！！\n不过既然这么多人问了，我也不好地图炮攻击，就再发一个帖子解答你们的这个问题吧。\n\n-------------------------------------------------------\n如果想自己思考的，不要继续看了，我不希望大家受到我思路的限制\n-------------------------------------------------------\n\n\n\n\n2012-08-28_17.59.24.jpg (22.76 KB, 下载次数: 30)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n先说下思路：当物品通过1号踏板的时候，记录一下，一段时间(自己定义)之后，如果物品一直没有通过2号踏板，就是识别成功，如果物品通过了2号踏板，就是识别失败。\n\n\n哦对了，为了方便回收物品和复位，我们把2号踏板改造一下，见下图：\n\n\n\n\n2012-08-28_18.00.35.png (226.77 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n\n恩，下面就请出记录通过1号踏板状态的主人公----RS锁存器\n在这里我为了方便整合到电路中，我采用了这种设计方案：\n\n\n\n\n2012-08-28_18.01.05.png (185.78 KB, 下载次数: 28)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n首先讲解下，RS锁存器有两个输入端，就是你图上看到的红石线，任何一个输入端被激活之后，另一个都会熄灭，然后保持住这个状态，见下图：\n\n\n\n\n\n2012-08-28_18.01.24.png (186.86 KB, 下载次数: 24)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n\n\n\n\n2012-08-28_18.01.34.png (185.95 KB, 下载次数: 35)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n好了，现在我们就把RS锁存器整合到我们的电路中吧(为了压缩体积，我稍微改造了下，相信大家能看懂)！\n\n\n\n\n2012-08-28_18.02.45.png (208.13 KB, 下载次数: 28)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n\n然后把1号踏板和RS锁存器的上端连起来，这样一旦1号踏板被激活，都会使RS锁存器的上端保持激活。\n\n\n\n\n2012-08-28_18.03.00.png (227.11 KB, 下载次数: 27)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n\n然后把2号踏板和RS锁存器的下端连起来，这样2号踏板被激活之后，物品鉴定失败，就会把RS锁存器重置到图中的状态，我们就知道物品识别失败了(刚才LZ忘记把1号踏板和发射器连起来了)。\n\n\n\n\n2012-08-28_18.03.13.png (220.98 KB, 下载次数: 27)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n\n然后引出RS锁存器的识别状态输出：\n\n\n\n\n2012-08-28_18.03.44.png (180.37 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:29 上传\n\n\n\n\n\n\n这次我们还是识别红石：\n\n\n\n\n2012-08-28_18.04.24.png (111.62 KB, 下载次数: 28)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n投入红石\n\n\n\n\n2012-08-28_18.04.35.png (201.5 KB, 下载次数: 31)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n\n可以看到，最终RS的输出端是激活状态(因为2号踏板没被激活)：\n\n\n\n\n2012-08-28_18.04.54.png (186.71 KB, 下载次数: 29)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n相信看到这里，已经很多人都知道该怎么继续了，不过我还是继续造完吧。\n\n下面我们扔一个错误物品试试：\n\n可以看到首先1号踏板被激活了，RS锁存器的输出端同样被激活，发射器射出了红石。\n\n\n\n\n2012-08-28_18.08.38.png (237.67 KB, 下载次数: 29)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n然后很快物品碰到了2号踏板，于是RS锁存器被复位，输出端熄灭，说明识别失败。\n\n\n\n\n2012-08-28_18.08.39.png (238.67 KB, 下载次数: 24)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n恩，工作很正常，正如我们预料的。\n不过有个问题，既然错误物品也会激活一次输出端，那我要是做个商店的话，岂不是即使即使物品错误还是会激活发射器？\n\n恩，于是我们加入了第二个系统：延时状态判断。\n思路是当1号踏板被激活后，延迟一段时间之后再读取RS锁存器的值，这样就可以绕过错误物品激活1号踏板造成的误判了。\n\n下面加入延时部分：\n\n\n\n\n2012-08-28_18.09.33.png (213.46 KB, 下载次数: 31)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n\n\n\n2012-08-28_18.10.03.png (195.07 KB, 下载次数: 21)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n这几个中继器的延迟设定就是用来绕过误判的延迟了。\n\n\n\n\n2012-08-28_18.10.43.png (204.7 KB, 下载次数: 30)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\nRS的输出端可以拆掉了，我们将用新的输出。\n\n\n\n\n2012-08-28_18.36.19.png (216.13 KB, 下载次数: 27)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n这里我们用了9个中继器，是考虑到有些时候可以比较卡，需要把延时调长一些，用9个的话相信什么情况都可以适用了(LZ比较喜欢图中的延迟设定)。\n\n然后我们加入读取输出的部分：\n这里采用了一个非门，因为RS的输出，就是上面那个红石火把的反值。至于为什么采用中继器，你们自己用红石线试试就知道了。\n\n\n\n\n2012-08-28_18.37.05.png (222.47 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n然后这里就是我们的新输出端了，可以拆掉之前那个了。\n\n接着我们把延时系统的输出与读取RS输出的部分连起来，这样就可以做到只有延时系统的信号传递到这里时，读取RS输出的部分才可以读出RS锁存器的值(看不懂的可以问)。\n\n\n\n\n2012-08-28_18.40.06.png (223.58 KB, 下载次数: 25)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n接着我们就扔进去一个红石看看效果吧：\n可以看到延时系统的信号传递到了读取RS输出的部分，此时电路输出为1(左边)。\n\n\n\n\n2012-08-28_18.41.04.png (223.15 KB, 下载次数: 33)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\nRS的状态不变，但是延时系统的信号传递完成，可以看到电路输出为0(因为读取输出的部分没有收到延时系统的信号，关掉了)。\n\n\n\n\n2012-08-28_18.41.16.png (221.14 KB, 下载次数: 31)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n正符合我们的预期！\n\n下面这张图就是错误物品的情况了：\n可以看到，此时延时系统的信号并未到达，2号踏板已经被激活了，RS状态被复位。\n\n\n\n\n2012-08-28_18.41.42.png (230.4 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n所以这样我们就可以实现物品是否正确的判断了。\n\n有些人可能会接着问：如果我想加入工作状态指示灯功能怎么办？\n我再次解答你的疑问！\n\n下面这张图中，我指着的这条红石线，就是状态指示了，当物品碰到1号踏板时，说明装置已经开始工作，此时这条红石线应该为1，当物品碰到2号踏板，或是延时系统信号到达，都说明工作结束，此时这条红石为0。\n\n\n\n\n2012-08-28_18.42.49.png (230.95 KB, 下载次数: 27)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n细心的人就会发现，不对！如果物品正确的话，这条线会一直为1，但是装置已经停止工作了！\n没错，所以接下来我要加入的，就是自动复位功能了，这样即使物品是正确的，我们也会在系统输出1之后将整个系统复位到初始状态。\n具体方法如下图：\n这样当输出1之后，RS锁存器会自我复位。\n\n\n\n\n2012-08-28_18.43.19.png (202.01 KB, 下载次数: 24)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n接下来我们就投入一个物品试试吧！(左下角可以看出，LZ一直在服务器里制作，所以大家不用担心这套系统能否在服务器正常工作)\n此时物品碰到了1号踏板，RS锁存器记录\"正在工作\"状态(上面的红石线亮了)。\n\n\n\n\n2012-08-28_18.44.07.png (233.54 KB, 下载次数: 27)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n延时系统脉冲到达(其实已经过了，我截图晚了一点点)，系统输出为1(左侧)\n\n\n\n\n2012-08-28_18.44.10.png (233.99 KB, 下载次数: 31)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n输出同时自我复位，RS锁存器记录\"待命状态\"(上面的红石线熄灭了)。\n\n\n\n\n2012-08-28_18.44.26.png (229.19 KB, 下载次数: 28)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n这样，指示工作状态部分也完成了。\n\n然后，就是最后的部分了，加入回收物品功能，方法如下：\n把粘性活塞放置在这个位置(为了压缩空间，所以我采用推冰块来使物品掉落，而不是拉)\n\n\n\n\n2012-08-28_18.45.59.png (178.3 KB, 下载次数: 23)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n然后把延迟系统输出连上，这样整个系统输出的同时，活塞就会清掉物品。\n\n\n\n\n2012-08-28_18.46.11.png (198.01 KB, 下载次数: 30)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n然后把2号踏板连上活塞(其实这里不连也无所谓)。\n\n\n\n\n2012-08-28_18.46.39.png (223.11 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n然后我们来看一下效果，已经扔进了一个红石，此时延时系统还没输出。\n\n\n\n\n2012-08-28_18.46.55.png (226.09 KB, 下载次数: 33)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n输出的同时，活塞推出，红石掉落到下面。\n\n\n\n\n2012-08-28_18.46.56.png (227.51 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n下面这张图是延时系统还没输出，物品激活2号踏板时的情形。\n\n\n\n\n2012-08-28_18.48.34.png (237.8 KB, 下载次数: 25)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n好了，一切都完成了，我们来搭建一个真实的投币口看看效果吧！\n\n这个活塞会和工作指示部分相连，一旦开始工作，就会封住投币口。(大家也可以采用红石灯指示工作状态，不封闭投币口)\n\n\n\n\n2012-08-28_18.52.16.png (194.06 KB, 下载次数: 24)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n然后和工作指示部分连上。\n\n\n\n\n2012-08-28_18.52.45.png (222.1 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n然后把发射器和最终输出连起来，这样投币正确就会吐出东西。(有人乱入)\n\n\n\n\n2012-08-28_18.53.23.png (224.74 KB, 下载次数: 28)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n放上钻石\n\n\n\n\n2012-08-28_18.53.30.png (77.65 KB, 下载次数: 36)\n\n下载附件\n\n2012-8-29 17:30 上传\n\n\n\n\n\n\n\n\n投入一个红石试试。\n\n\n\n\n2012-08-28_18.57.29.png (91.53 KB, 下载次数: 25)\n\n下载附件\n\n2012-8-29 17:31 上传\n\n\n\n\n\n\n可以看到，投币口封闭了，表示正在工作。\n\n\n\n\n2012-08-28_18.57.33.png (72.87 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:31 上传\n\n\n\n\n\n\n投币正确，发射器吐出钻石！\n\n\n\n\n2012-08-28_19.00.38.png (201.71 KB, 下载次数: 26)\n\n下载附件\n\n2012-8-29 17:31 上传\n\n\n\n\n\n工作很正常！\n\n下面这张图是我之前没有采用RS锁存器，用活塞造的另一个版本，看起来似乎复杂了一些。\n\n\n\n\n2012-08-28_19.02.49.png (206.31 KB, 下载次数: 30)\n\n下载附件\n\n2012-8-29 17:31 上传\n\n\n\n\n\n\n两个版本对比。\n\n\n\n\n2012-08-28_19.03.30.png (214.42 KB, 下载次数: 25)\n\n下载附件\n\n2012-8-29 17:31 上传\n\n\n\n\n\n\n乱入的人：\n\n\n\n\n2012-08-28_19.03.41.png (217.28 KB, 下载次数: 25)\n\n下载附件\n\n2012-8-29 17:31 上传\n\n\n\n\n\n\n稍后放出存档。\nPS：直接传论坛之后图好小啊！\n\n",
    "replies": [
        {
            "author": "多演穿帮",
            "timestamp": 1346233560,
            "txt_content": "跟我做的一样，那些一直提问都是照搬党。"
        },
        {
            "author": "qaz13727245717",
            "timestamp": 1346233680,
            "txt_content": "不错啊，长见识了"
        },
        {
            "author": "sjjklh",
            "timestamp": 1346236140,
            "txt_content": "那些不想思考的……"
        },
        {
            "author": "yeyaowei",
            "timestamp": 1346240760,
            "txt_content": "我在贴吧看到了。作者也是你..."
        },
        {
            "author": "enbensonson",
            "timestamp": 1346241300,
            "txt_content": "本人智商不夠,木看懂"
        },
        {
            "author": "819tierqusi",
            "timestamp": 1346246940,
            "txt_content": "不在原帖发？"
        },
        {
            "author": "weixingl888",
            "timestamp": 1346247180,
            "txt_content": "819tierqusi 发表于 2012-8-29 21:29 \n不在原帖发？\n因为这个帖子和那个帖子性质不一样，那个是普及技巧，这个就是详细的造法。\n\n\n\n其实是为了骗分我会乱说？"
        },
        {
            "author": "819tierqusi",
            "timestamp": 1346247300,
            "txt_content": "weixingl888 发表于 2012-8-29 21:33 \n因为这个帖子和那个帖子性质不一样，那个是普及技巧，这个就是详细的造法。\n…………不要让版主看到这个楼"
        },
        {
            "author": "jameshua",
            "timestamp": 1346250120,
            "txt_content": "表示我做的比这个简单多了。给你的鼓励一下吧－－"
        },
        {
            "author": "KbArK",
            "timestamp": 1346671620,
            "txt_content": "还不错哦LZ"
        },
        {
            "author": "forfai",
            "timestamp": 1346911260,
            "txt_content": "好强大啊"
        },
        {
            "author": "h296863785",
            "timestamp": 1349320440,
            "txt_content": "很大的启发啊，还有楼主你是山东的吧，被我发现了，哈哈"
        },
        {
            "author": "weixingl888",
            "timestamp": 1349478060,
            "txt_content": "h296863785 发表于 2012-10-4 11:14 \n很大的启发啊，还有楼主你是山东的吧，被我发现了，哈哈\n???????你怎么知道的？"
        },
        {
            "author": "h296863785",
            "timestamp": 1349500500,
            "txt_content": "weixingl888 发表于 2012-10-6 07:01 \n???????你怎么知道的？\n你截图的时候有人来了，显示的地点是：shandong china"
        },
        {
            "author": "weixingl888",
            "timestamp": 1349974800,
            "txt_content": "h296863785 发表于 2012-10-6 13:15 \n你截图的时候有人来了，显示的地点是：shandong china\n那也是来的那个人是山东的啊。。。也不是我啊。。。。"
        },
        {
            "author": "h296863785",
            "timestamp": 1350015780,
            "txt_content": "weixingl888 发表于 2012-10-12 01:00 \n那也是来的那个人是山东的啊。。。也不是我啊。。。。\n哈哈，那就是误打误撞了........"
        }
    ]
}