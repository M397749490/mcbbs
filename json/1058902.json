{
    "title": "自己写的插件的plugin.yml发生了报错，求助",
    "author": "aa0307bb",
    "replyCount": 15,
    "timestamp": 1591634220,
    "txt_content": "报错信息：\n[00:27:21 ERROR]: Could not load 'plugins\\[练习2]MCPluginExp2.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:164) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:133) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.craftbukkit.v1_10_R1.CraftServer.loadPlugins(CraftServer.java:297) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at net.minecraft.server.v1_10_R1.DedicatedServer.init(DedicatedServer.java:202) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.run(MinecraftServer.java:539) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_211]\nCaused by: org.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInputException: Input length = 1\n        at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:200) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.yaml.snakeyaml.reader.StreamReader.<init>(StreamReader.java:60) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.yaml.snakeyaml.Yaml.load(Yaml.java:381) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.PluginDescriptionFile.<init>(PluginDescriptionFile.java:232) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:159) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        ... 5 more\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\n        at java.nio.charset.CoderResult.throwException(Unknown Source) ~[?:1.8.0_211]\n        at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_211]\n        at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_211]\n        at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_211]\n        at org.yaml.snakeyaml.reader.UnicodeReader.read(UnicodeReader.java:123) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at java.io.Reader.read(Unknown Source) ~[?:1.8.0_211]\n        at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:184) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.yaml.snakeyaml.reader.StreamReader.<init>(StreamReader.java:60) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.yaml.snakeyaml.Yaml.load(Yaml.java:381) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.PluginDescriptionFile.<init>(PluginDescriptionFile.java:232) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:159) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        ... 5 more\n                \n\n\n\n出现错误的plugin.yml的内容：（commands一删掉就正常了，可以锁定是commands部分出问题）\n\n\n\nname: Project2\nmain: com.bc.exp2.Project2\nversion: 2.0\nauthor: bc\ncommands:\n        demo:\n                description: \"测试指令\"\n                usage: /demo\n                aliases: [d,de]\n\n\n\n服务器版本：spigot 1.10 v1.2\n\n\n\n已安装插件：\nProtocolLib\n\nGroupManagerX-2.2-SNAPSHOT\n\nEssentialsX-2.0.1\n\n",
    "replies": [
        {
            "author": "小林最牛",
            "timestamp": 1591676280,
            "txt_content": "commands前面要加@\n就是这样\n@commands\n然后注意空格"
        },
        {
            "author": "结城希亚",
            "timestamp": 1591677060,
            "txt_content": "commands:\n  demo:\n    description: \"测试指令\"\n    usage: /demo\n    aliases: [d,de]\n复制代码\n你空格空的太多了"
        },
        {
            "author": "aa0307bb",
            "timestamp": 1591684200,
            "txt_content": "结城希亚 发表于 2020-6-9 12:31\n你空格空的太多了\n正确的空格应该是怎样的"
        },
        {
            "author": "小佬虎",
            "timestamp": 1591684200,
            "txt_content": "yml是每一级别，或者说每一层附属关系的楼，需要空两格。按照你这边截图的问题可能是空格多了。退格再尝试下"
        },
        {
            "author": "aa0307bb",
            "timestamp": 1591684740,
            "txt_content": "@小佬虎 @结城希亚 @小林最牛 \n退了空格、加不加“@”都是报错\n\nname: Project2\nmain: com.bc.exp2.Project2\nversion: 2.0\nauthor: bc\ncommands:\n  demo:\n    description: \"测试指令\"\n    usage: /demo\n    aliases: [d,de]\n\n报错信息：\n[14:38:31 ERROR]: Could not load 'plugins\\[练习2]MCPluginExp2.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:164) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:133) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.craftbukkit.v1_10_R1.CraftServer.loadPlugins(CraftServer.java:297) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at net.minecraft.server.v1_10_R1.DedicatedServer.init(DedicatedServer.java:202) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.run(MinecraftServer.java:539) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_211]\nCaused by: org.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInputException: Input length = 1\n        at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:200) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.yaml.snakeyaml.reader.StreamReader.<init>(StreamReader.java:60) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.yaml.snakeyaml.Yaml.load(Yaml.java:381) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.PluginDescriptionFile.<init>(PluginDescriptionFile.java:232) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:159) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        ... 5 more\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\n        at java.nio.charset.CoderResult.throwException(Unknown Source) ~[?:1.8.0_211]\n        at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_211]\n        at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_211]\n        at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_211]\n        at org.yaml.snakeyaml.reader.UnicodeReader.read(UnicodeReader.java:123) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at java.io.Reader.read(Unknown Source) ~[?:1.8.0_211]\n        at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:184) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.yaml.snakeyaml.reader.StreamReader.<init>(StreamReader.java:60) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.yaml.snakeyaml.Yaml.load(Yaml.java:381) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.PluginDescriptionFile.<init>(PluginDescriptionFile.java:232) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:159) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        ... 5 more"
        },
        {
            "author": "结城希亚",
            "timestamp": 1591688700,
            "txt_content": "aa0307bb 发表于 2020-6-9 14:30\n正确的空格应该是怎样的\n我已经打给你了，直接覆盖过去"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1591689240,
            "txt_content": " 本帖最后由 阴阳师元素祭祀 于 2020-6-9 15:59 编辑 \ndescription: \"测试指令\"复制代码\n这个中文改成英文试试?\n另外文件编码是什么？\n换一格编码试试？\n\n至少我没听说yml必须是2空格 我用我的yaml库（sponge带的 ha ha ha hha ha ha ha) 加载4缩进没问题"
        },
        {
            "author": "结城希亚",
            "timestamp": 1591689960,
            "txt_content": " 本帖最后由 结城希亚 于 2020-6-9 16:09 编辑 \n阴阳师元素祭祀 发表于 2020-6-9 15:54\n这个中文改成英文试试?\n另外文件编码是什么？\n换一格编码试试？老样子打开plugin.yml 后，在最下面进行编辑。[]为两个空格\n任何一点错水桶都不读。\n\ncommands:\n[]主命令名: (如msg,ban,kick,gamemode等 不带斜杠)\n[][]description: 描述\n[][]usage: 用法\n[][]permission: 需要的权限 (需要在下面权限部分注册，当然在命令执行器中手动判断也可以)\n[][]permission-message: 无权提示\n#权限部分：\npermissions:\n[]权限名:\n[][]default: (op/true)  \n#default是默认谁有，true为所有人，op为默认只有OP有。\n最后我们就得到了如下的plugin.yml：https://www.mcbbs.net/thread-440044-1-1.html\n当初说是得空两格\n我一直也都是空两格的，不过我刚刚测试过改多几格也没问题\n看来这就属于规范了\n\n\n\n\nname: SuperLottery\nmain: com.tany.superlottery.Main\nversion: 1.0.0\ndepend: [ProtocolLib] \nauthor: tany\nsoftdepend: [Vault]\ncommands:\n  superlottery:\n    usage: /superlottery\n    aliases: [sl]\npermissions: \n  sl.gui: \n    default: true\n  sl.rule:\n    default: true\n  sl.draw:\n    default: true复制代码正常我都是这样写的\nyml全改为UTF-8编码（当初我执意中文经常plugin.yml报错）\n\n然后我全用英文了，反正用不上"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1591690500,
            "txt_content": " 本帖最后由 阴阳师元素祭祀 于 2020-6-9 16:18 编辑 \n结城希亚 发表于 2020-6-9 16:06\nhttps://www.mcbbs.net/thread-440044-1-1.html\n当初说是得空两格\n我一直也都是空两格的，不过我刚刚测试 ...\n我认为code自带折叠 所以我就不折叠了 跑\n\n规范应该要看yml格式规范莉\n不过就加载成功来说 只要缩进数量一致  问题应该不大\n但是我几乎不写yml 反正我觉得4格缩进是个人喜好也行\n\n不过这个报错\nCaused by: org.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInputException: Input length = 1\n应该是编码问题\n坑了好多新人莉\n\n如果是格式问题\n比如\nname: Project2\nmain: com.bc.exp2.Project2\nversion: 2.0\nauthor: bc\ncommands:\n        demo:\n                description: \"测试指令\"\n                usage: /demo\n               aliases: [d,de]\n复制代码\n可能报错应该是\nException in thread \"main\" java.io.IOException: while parsing a block mapping\n in 'reader', line 6, column 9:\n            demo:\n            ^\nexpected <block end>, but found BlockMappingStart\n in 'reader', line 9, column 16:\n                   aliases: [d,de]\n                   ^\n\n        at ninja.leaping.configurate.loader.AbstractConfigurationLoader.load(AbstractConfigurationLoader.java:145)\n        at ninja.leaping.configurate.loader.ConfigurationLoader.load(ConfigurationLoader.java:58)\n        at com.github.euonmyoji.testjava.Main.main(Main.java:51)\nCaused by: while parsing a block mapping\n in 'reader', line 6, column 9:\n            demo:\n            ^\nexpected <block end>, but found BlockMappingStart\n in 'reader', line 9, column 16:\n                   aliases: [d,de]\n                   ^复制代码\n\n求 报错的高亮是哪套语言的高亮"
        },
        {
            "author": "aa0307bb",
            "timestamp": 1591695960,
            "txt_content": "@结城希亚 \n@阴阳师元素祭祀 \n\n论坛的复制代码功能会丢失换行 换了浏览器也不行 是我机子的问题吗\n\n为什么插件区的回复要审核呀orz\n我有一次回复不见了orz\n\n——————正文——————\n\n我试了两次：\n第一次，把编码改成UTF-8，plugin.yml变成这样（没动）\nname: Project2\nmain: com.bc.exp2.Project2\nversion: 2.0\nauthor: bc\ncommands:\n  demo:\n    description: \"测试指令\"\n    usage: /demo\n    aliases: [d,de]\n\n第二次直接无脑覆盖了@结城希亚 答案的commands部分，编码也是UTF-8，变成\nname: Project2\nmain: com.bc.exp2.Project2\nversion: 2.0\nauthor: bc\ncommands:\n  superlottery:\n    usage: /superlottery\n    aliases: [sl]\npermissions: \n  sl.gui: \n    default: true\n  sl.rule:\n    default: true\n  sl.draw:\n    default: true\n\n第一第二次的报错信息都变成了：\n[17:30:49 ERROR]: Could not load 'plugins\\[练习2]MCPluginExp2.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: Cannot find main class `com.tany.superlottery.Main'\n        at org.bukkit.plugin.java.PluginClassLoader.<init>(PluginClassLoader.java:66) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:131) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:329) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:251) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.craftbukkit.v1_10_R1.CraftServer.loadPlugins(CraftServer.java:297) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at net.minecraft.server.v1_10_R1.DedicatedServer.init(DedicatedServer.java:202) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.run(MinecraftServer.java:539) [spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_211]\nCaused by: java.lang.ClassNotFoundException: com.tany.superlottery.Main\n        at java.net.URLClassLoader.findClass(Unknown Source) ~[?:1.8.0_211]\n        at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:101) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:86) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_211]\n        at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_211]\n        at java.lang.Class.forName0(Native Method) ~[?:1.8.0_211]\n        at java.lang.Class.forName(Unknown Source) ~[?:1.8.0_211]\n        at org.bukkit.plugin.java.PluginClassLoader.<init>(PluginClassLoader.java:64) ~[spigot-1.10.jar:git-Spigot-6016ac7-7964365]\n        ... 7 more\n\n顺便再问一下，那个“... 7 more”有没有办法把它展开的"
        },
        {
            "author": "aa0307bb",
            "timestamp": 1591696020,
            "txt_content": "结城希亚 发表于 2020-6-9 15:45\n我已经打给你了，直接覆盖过去\n你有发什么文件给我吗，我这里什么也没收到0.0"
        },
        {
            "author": "aa0307bb",
            "timestamp": 1591696200,
            "txt_content": " 本帖最后由 aa0307bb 于 2020-6-9 19:28 编辑 \n\n（重复发帖了，麻烦管理员删一下）"
        },
        {
            "author": "结城希亚",
            "timestamp": 1591698840,
            "txt_content": "aa0307bb 发表于 2020-6-9 17:47\n你有发什么文件给我吗，我这里什么也没收到0.0\n尝试去掉plugin.yml里的中文"
        },
        {
            "author": "aa0307bb",
            "timestamp": 1591701120,
            "txt_content": " 本帖最后由 aa0307bb 于 2020-6-9 19:15 编辑 \n结城希亚 发表于 2020-6-9 18:34\n尝试去掉plugin.yml里的中文\n 回帖审了半天没反应 写在这了：paste.ubuntu.com/p/hstxmjYFyV/ 没事了，刚发这个贴就过了"
        },
        {
            "author": "结城希亚",
            "timestamp": 1591701360,
            "txt_content": "aa0307bb 发表于 2020-6-9 19:12\n 回帖审了半天没反应 写在这了：paste.ubuntu.com/p/hstxmjYFyV/ 没事了，刚发这个贴就过了\n ...name: Project2\nmain: com.bc.exp2.Project2\nversion: 1.0.0\nauthor: bc\ncommands:\n  demo:\n    usage: /demo\n    aliases: [d]复制代码\n试试这个\n\n\n你第二次\nCannot find main class `com.tany.superlottery.Main'复制代码\n\n明明main写的是我的路径，不是你的路径（而且最好路径不要加数字）"
        }
    ]
}