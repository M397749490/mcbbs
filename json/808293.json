{
    "title": "[插件开发]如何判断一个玩家被某人杀死（被攻击的玩家和攻击玩家都要知道）",
    "author": "Jonjs_Dada",
    "replyCount": 10,
    "timestamp": 1532327640,
    "txt_content": "如何判断一个玩家被某人杀死（被攻击的玩家和攻击玩家都要知道）",
    "replies": [
        {
            "author": "星",
            "timestamp": 1532329200,
            "txt_content": "需要使用这个事件:\nEntityDamageByEntityEvent\n然后判断玩家的血量减去event.getDamage()是不是小于等于0的\n是的话玩家就等于死亡 event.getDamager()是杀人者 你需要判断event.getDamager()是否是玩家\n被杀的玩家event.getEntity()"
        },
        {
            "author": "Jonjs_Dada",
            "timestamp": 1532329680,
            "txt_content": "小星啊啊啊 发表于 2018-7-23 15:00\n需要使用这个事件:\nEntityDamageByEntityEvent\n然后判断玩家的血量减去event.getDamage()是不是小于等于0的 ...\n谢谢了，我一直以为getDamage取的是伤害值"
        },
        {
            "author": "a8105",
            "timestamp": 1532349180,
            "txt_content": "2L的方法在一些插件的干扰下可能会导致玩家没死而插件判断死亡\n正确的方法是使用PlayerDeathEvent并配合Entity的getLastDamageCause()方法:\ngetLastDamageCause()返回了实体最后被攻击的事件\nPlayerDeathEvent e\nPlayer player=e.getEntity();\nif(player.getLastDamageCause()!=null && player.getLastDamageCause() instanceof EntityDamageByEntityEvent)\n{\n    EntityDamageByEntityEvent event=(EntityDamageByEntityEvent)player.getLastDamageCause();\n    Entity damager=event.getDamager();\n}"
        },
        {
            "author": "syax1018",
            "timestamp": 1532365980,
            "txt_content": "6666666666666666666666666666666666666666"
        },
        {
            "author": "蜘蛛丿恋夏",
            "timestamp": 1533296340,
            "txt_content": "可以的，表示看都看不懂（一脸懵~~~）"
        },
        {
            "author": "我是小晓",
            "timestamp": 1533357360,
            "txt_content": "额看一下其他插件应该可以看出来吧  毕竟做插件的都是英语好的"
        },
        {
            "author": "Jonjs_Dada",
            "timestamp": 1533361740,
            "txt_content": "我是小晓 发表于 2018-8-4 12:36\n额看一下其他插件应该可以看出来吧  毕竟做插件的都是英语好的\n复杂至极2333"
        },
        {
            "author": "皓月联机",
            "timestamp": 1533362280,
            "txt_content": "做插件很复杂的  特别是一个人制作 做完还要测试bug  或者跟其他插件冲突"
        },
        {
            "author": "Jonjs_Dada",
            "timestamp": 1533362640,
            "txt_content": "皓月联机 发表于 2018-8-4 13:58\n做插件很复杂的  特别是一个人制作 做完还要测试bug  或者跟其他插件冲突\n所以你这个文不对题唉"
        },
        {
            "author": "皓月联机",
            "timestamp": 1533369900,
            "txt_content": "两个号都是我的   我习惯性顺着小号回答了 ..........."
        }
    ]
}