{
    "title": "[编程|娱乐]FarGem —— 全自定义宝石镶嵌框架[1.8-1.16]",
    "author": "Bryan33",
    "replyCount": 43,
    "timestamp": 1525575660,
    "txt_content": " 本帖最后由 Bryan33 于 2020-2-12 14:27 编辑 \n\n[编程|娱乐]FarGem —— 全自定义宝石镶嵌框架[1.9-1.12.2]\n#0 写在前面\n    Fa♂Gem,本身只提供一个由js写成的范例宝石,其余宝石需要用户自行编写.对脚本或者java\n无法编写的服主可以选择下载文末的宝石补充包.\n\n\n    插件功能: \n        1. 提供一套宝石框架    \n        2. 从宝石的镶嵌到宝石的卸除都由框架实现 用户只需要编写宝石的实现(java下还需要注册宝石)\n            a) 宝石卸除分移除和卸下 区别在于是否保留宝石\n            b) 同一个装备上无法重复安装同一种宝石\n            c) 宝石等级支持自定义            d) 每个宝石独立的配置文件\n        3. 提供配置用于修改宝石在物品上的分割样式并且针对每个宝石提供独立的配置区域\n        4. 支持由Nashron引擎支持的JavaScript脚本来定义宝石\n\n\n#1 插件命令\n    /FarGem或/fg \n        give [玩家名] [宝石名] (等级) >> 给予玩家一个宝石或卸除器 需要op权限\n           其中填写 remover 或 uninstaller 用于移除或卸下宝石\n        all >> 给予自身全部等级的全部宝石(用于查看服务器里的宝石种类) 需要op权限\n        reload >> 重载全部的宝石配置 需要op权限  \n        craft >> 打开宝石合成界面 不需要任何权限\n\n\n#2 插件配置\n    Gems[文件夹]: \n                储存了所有宝石的配置文件\n    Scripts[文件夹]:\n                用于存放宝石的脚本文件 稍后会提到脚本的编写\n    config.yml:\n                负责设定默认的宝石样式以及镶嵌到装备后的分隔线样式\n    craft.yml:\n                负责设置宝石合成的相关细节\n    Identifiers.yml:\n                记录宝石ID(请勿修改)\n    log.log:\n                记录give命令的操作历史\n\n使用图片:\n\n\n\n\nRLOEP_]9GDHG_566Q@33XQM.png (7.26 KB, 下载次数: 0)\n\n下载附件\n\n2018-5-6 11:00 上传\n\n\n\n\n\n\n\n\nM]ML1CLN(Z1DRBY[3B_M.png (26.69 KB, 下载次数: 3)\n\n下载附件\n\n2018-5-6 11:00 上传\n\n\n\n\n\n\n\n\nQS7~$NP_`K4J6ZI42XYC5I2.png (3.83 KB, 下载次数: 1)\n\n下载附件\n\n2018-5-6 11:00 上传\n\n\n\n\n\n\n\n\n\n\n\n]7Y%5MC2A76A2F]M6~WR6.png (23.12 KB, 下载次数: 2)\n\n下载附件\n\n2018-5-6 11:01 上传\n\n\n\n\n\n\n\n#3 下载地址:\n\n插件本体2.0: \n\n\n\nFarGem.jar\n(113.15 KB, 下载次数: 200)\n\n\n\n2020-2-12 14:24 上传\n点击文件名下载附件\n2.0\n\n\n\n\n\n插件前置(maven) 或 插件前置(github) \n\n\n\n插件本体 1.6      请务必更新前置\n\n前置开源地址\n本体开源地址\n\n\n\n\n\n#4 脚本编写\n\n范例脚本\n\n\n脚本使用js 采用Nashorn引擎 与之相关的教程参见此处\n\n脚本中必须有的函数: 函数名 返回值 作用 备注 isEnable boolean(true/false) 设置该脚本是否启用  getListener Br.API.Scripts.ScriptListener[] 返回需要注册的监听器\n监听器实现后面后提到 返回类型为数组\n建议使用Java.\nto([args],\"Br.API.Scripts.ScriptListener[]\") getGem Br.FarGem.Gem返回脚本所描述的宝石对象 (可通过额外实现Br.FarGem.GemDisplay来自定义显示)\n\n监听器实现:\n监听器源码\n必须要实现的函数如下\n 函数名 返回值 作用 备注 onEvent(evt) 无 当事件发生时调用该函数 传入的参数为事件对象 getEventName 字符串 返回事件名 必须是完整包名+类名可选的函数 函数名 返回值 作用 备注 getPriority org.bukkit.event.EventPriority  设定事件的优先级  ignoreCancelled boolean(true/false) 是否无视事件取消 范例: \n\nvar ScriptListener = Java.extend(Java.type('Br.API.Scripts.ScriptListener'));//继承ScriptListener\nvar Listener = new ScriptListener(){//匿名内部类实现ScriptListener并构造对象\n    onEvent: function (evt) {//重写onEvent函数\n        if (evt.getDamager().getType() !== EntityType.PLAYER) {\n            return;\n        }\n        var p = evt.getDamager();\n        var is = p.getItemInHand();\n        var lv = AttackGem.getEquipLevel(is);\n        if (lv > 0) {\n            evt.setDamage(evt.getDamage() + AttackConfig.getValue(lv));\n        }\n    },\n    getEventName: function () {//重写getEventName函数\n        return 'org.bukkit.event.entity.EntityDamageByEntityEvent';//返回EntityDamageByEntityEvent事件名\n    }\n};复制代码\n宝石实现:宝石抽象源码\n 函数名 返回值 作用 备注 getDisplayLore(lv) 字符串 返回宝石安装之后显示在Lore上的内容 传入的参数为宝石等级 getConfigs Br.FarGem.Gem.Config[] 返回宝石配置(不需要的话请返回空数组) 返回的为数组 canInstall(is) boolean(true/false) 返回这个物品是否是能安装本宝石 传入的参数为ItemStack\n附: 如何使宝石使用不同材质甚至不同等级材质不同: link\n\n\n\n\n脚本补充包食用方式:\n 右键地址选择连接另存为   并将下载到的文件放入./plugins/FarGem/Scripts/文件夹中\n注意 所有脚本必须以UTF-8的编码写入\n\n\n追加脚本:\n#1 闪现宝石: 地址\n#2 火焰宝石: 地址\n\n\n更新记录2018/6/26 1.6: 修正安装宝石与卸除宝石中shift物品会产生无法取回物品的BUG\n      修正宝石名错误的问题\n2018/6/1  1.5.0: 更新了UI镶嵌模式 可以在配置中重新调回旧模式\n2018/5/12 1.4.2: 修复了在1.8 版本下提示错误的问题\n\n\n\n本插件所用所有代码均为原创,不存在借用/抄袭等行为前置所用代码部分来自其他开源或闭源(已授权)作品\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "神奈川归尘",
            "timestamp": 1525576020,
            "txt_content": "又一款强大的宝石插件 支持dalao"
        },
        {
            "author": "海贼王#",
            "timestamp": 1525576800,
            "txt_content": "又一款RPG服用的插件，支持原创"
        },
        {
            "author": "835937766",
            "timestamp": 1525577880,
            "txt_content": "看到宝石我就进来了，火钳刘明。"
        },
        {
            "author": "g519403080",
            "timestamp": 1525617180,
            "txt_content": "nanfeng前来资瓷！不错的插件"
        },
        {
            "author": "a1546757274",
            "timestamp": 1525965300,
            "txt_content": "1.8一直提示副手有东西什么鬼"
        },
        {
            "author": "艾力",
            "timestamp": 1526022900,
            "txt_content": "a1546757274 发表于 2018-5-10 23:15\n1.8一直提示副手有东西什么鬼\n这是1.9-1.12.2的版本"
        },
        {
            "author": "Bryan33",
            "timestamp": 1526034180,
            "txt_content": "a1546757274 发表于 2018-5-10 23:15\n1.8一直提示副手有东西什么鬼\n1.8啊\n我待会去改改代码兼容一下"
        },
        {
            "author": "2el",
            "timestamp": 1526046180,
            "txt_content": "还有没有别的种类的宝石呢！期待"
        },
        {
            "author": "a1546757274",
            "timestamp": 1526047500,
            "txt_content": "a390807154 发表于 2018-5-11 18:23\n1.8啊\n我待会去改改代码兼容一下\n好的okokok"
        },
        {
            "author": "a1546757274",
            "timestamp": 1526135160,
            "txt_content": "a1546757274 发表于 2018-5-11 22:05\n好的okokok\n兼容1.8了把"
        },
        {
            "author": "chenmoand",
            "timestamp": 1527766800,
            "txt_content": "能不能挂到rpgitem上?"
        },
        {
            "author": "chenmoand",
            "timestamp": 1527841080,
            "txt_content": " 本帖最后由 chenmoand 于 2018-6-1 16:24 编辑 \n\n我说一下BUG\n加入右击宝石后不小心右击到别的不应该上，，，，就会吞宝石........而且闪现宝石那个js那个不能玩,\n Could not pass event PlayerInteractEvent to FarGem v1.4.2\njava.lang.ArrayIndexOutOfBoundsException: -1\n        at Br.FarGem.Data.lambda$LoadGemData$0(Data.java:95) ~[?:?]\n        at Br.FarGem.Gem$Config.getValue(Gem.java:382) ~[?:?]\n        at jdk.nashorn.internal.scripts.Script$Recompilation$78$2308A$\\^eval\\_.onEvent(<eval>:93) ~[?:?]\n        at Br.API.Scripts.ScriptListener$$NashornJavaAdapter.onEvent(Unknown Source) ~[?:?]\n        at Br.API.Scripts.ScriptListener.castEvent(ScriptListener.java:27) ~[?:?]\n        at Br.API.Scripts.ScriptListener$$NashornJavaAdapter.castEvent(Unknown Source) ~[?:?]\n        at Br.API.Scripts.ScriptListenerManager.lambda$RegisterListener$0(ScriptListenerManager.java:24) ~[?:?]\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:78) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:515) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:500) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.craftbukkit.v1_12_R1.event.CraftEventFactory.callPlayerInteractEvent(CraftEventFactory.java:236) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerInteractManager.a(PlayerInteractManager.java:460) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerConnection.a(PlayerConnection.java:993) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PacketPlayInUseItem.a(PacketPlayInUseItem.java:37) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PacketPlayInUseItem.a(PacketPlayInUseItem.java:5) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerConnectionUtils.lambda$ensureMainThread$0(PlayerConnectionUtils.java:14) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_161]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\n        at net.minecraft.server.v1_12_R1.SystemUtils.a(SourceFile:46) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:843) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:426) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:767) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:665) [chenmo.jar:git-TacoSpigot-\"8014601d\"]"
        },
        {
            "author": "Bryan33",
            "timestamp": 1527853800,
            "txt_content": "chenmoand 发表于 2018-6-1 16:18\n我说一下BUG\n加入右击宝石后不小心右击到别的不应该上，，，，就会吞宝石........而且闪现宝石那个js那个不 ...\n稍后发布新版本\n新版本开始采用UI安装宝石\n前置也需要更新"
        },
        {
            "author": "chenmoand",
            "timestamp": 1527916320,
            "txt_content": "a390807154 发表于 2018-6-1 19:50\n稍后发布新版本\n新版本开始采用UI安装宝石\n前置也需要更新[13:10:00 INFO]: chenmo issued server command: /fg\n[13:10:00 ERROR]: null\norg.bukkit.command.CommandException: Cannot execute command 'fg' in plugin FarGem v1.5.0 - plugin is disabled.\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:36) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:151) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchCommand(CraftServer.java:677) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerConnection.handleCommand(PlayerConnection.java:1474) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerConnection.a(PlayerConnection.java:1279) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PacketPlayInChat.a(PacketPlayInChat.java:45) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PacketPlayInChat.a(PacketPlayInChat.java:5) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerConnectionUtils.lambda$ensureMainThread$0(PlayerConnectionUtils.java:14) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_161]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\n        at net.minecraft.server.v1_12_R1.SystemUtils.a(SourceFile:46) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:843) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:426) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:767) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:665) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\n复制代码\n完全不能用了"
        },
        {
            "author": "chenmoand",
            "timestamp": 1527916320,
            "txt_content": "a390807154 发表于 2018-6-1 19:50\n稍后发布新版本\n新版本开始采用UI安装宝石\n前置也需要更新\n我全换了一遍"
        },
        {
            "author": "chenmoand",
            "timestamp": 1527916500,
            "txt_content": "a390807154 发表于 2018-6-1 19:50\n稍后发布新版本\n新版本开始采用UI安装宝石\n前置也需要更新\n我用TS端和PS端都试了 都不能用"
        },
        {
            "author": "Bryan33",
            "timestamp": 1527917040,
            "txt_content": "chenmoand 发表于 2018-6-2 13:12\n完全不能用了\n能否提供一下完整log"
        },
        {
            "author": "chenmoand",
            "timestamp": 1527917640,
            "txt_content": "a390807154 发表于 2018-6-2 13:24\n能否提供一下完整log\n好的这是从开服到输入FG的log[url=]latest.txt[/url]\n\n\n\n\n\n\n\nlatest.txt\n\n\n2018-6-2 13:34 上传\n点击文件名下载附件\n\n\n\n\n42.38 KB, 下载次数: 3\n\n\n\n\n"
        },
        {
            "author": "Bryan33",
            "timestamp": 1527982860,
            "txt_content": "chenmoand 发表于 2018-6-2 13:34\n好的这是从开服到输入FG的loglatest.txt\n下载一下新版试一下"
        },
        {
            "author": "chenmoand",
            "timestamp": 1528004220,
            "txt_content": "a390807154 发表于 2018-6-3 07:41\n下载一下新版试一下[13:25:32] [Server thread/ERROR]: Error occurred while enabling FarGem v1.5.0 (Is it up to date?)\njava.lang.NoClassDefFoundError: Br/API/ItemBuilder\n        at Br.FarGem.Craft.CreateUI(Craft.java:89) ~[?:?]\n        at Br.FarGem.Craft.init(Craft.java:78) ~[?:?]\n        at Br.FarGem.Main.onEnable(Main.java:44) ~[?:?]\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:316) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:405) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:387) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:336) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.t(MinecraftServer.java:442) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.l(MinecraftServer.java:403) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.a(MinecraftServer.java:341) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:292) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:616) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\nCaused by: java.lang.ClassNotFoundException: Br.API.ItemBuilder\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[?:1.8.0_161]\n        at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:156) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_161]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_161]\n        ... 14 more复制代码\n上面报错...\n[Server thread/WARN]: Unexpected exception while parsing console command \"fg\"\norg.bukkit.command.CommandException: Cannot execute command 'fg' in plugin FarGem v1.5.0 - plugin is disabled.\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:36) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:151) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchCommand(CraftServer.java:677) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchServerCommand(CraftServer.java:640) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.aP(DedicatedServer.java:464) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:427) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:767) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:665) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]复制代码\n后台输入fg后\n[Server thread/INFO]: chenmo issued server command: /fg\n[13:29:34] [Server thread/ERROR]: null\norg.bukkit.command.CommandException: Cannot execute command 'fg' in plugin FarGem v1.5.0 - plugin is disabled.\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:36) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:151) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchCommand(CraftServer.java:677) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerConnection.handleCommand(PlayerConnection.java:1474) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerConnection.a(PlayerConnection.java:1279) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PacketPlayInChat.a(PacketPlayInChat.java:45) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PacketPlayInChat.a(PacketPlayInChat.java:5) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.PlayerConnectionUtils.lambda$ensureMainThread$0(PlayerConnectionUtils.java:14) ~[chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_161]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\n        at net.minecraft.server.v1_12_R1.SystemUtils.a(SourceFile:46) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:843) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:426) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:767) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:665) [chenmo.jar:git-TacoSpigot-\"8014601d\"]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]复制代码\n然后我又在游戏输入FG后"
        },
        {
            "author": "Bryan33",
            "timestamp": 1528006860,
            "txt_content": " 本帖最后由 a390807154 于 2018-6-3 14:23 编辑 \nchenmoand 发表于 2018-6-3 13:37\n上面报错...\n\n后台输入fg后\n我在1.12.2的spigot测试没有问题\nBrAPI的类初始化失败 能否检查一下是不是其他的东西通过反射干扰了类的初始化\n请先更新一下BrAPI以及尝试一下更新Java版本\n如果实在不行 去插件配置里 把镶嵌方式从GUI改回原来的模式"
        },
        {
            "author": "白衣飘飘",
            "timestamp": 1533820740,
            "txt_content": "满心欢喜的冲着自定义进来，然后一脸懵逼的看着讲java，我放弃，等我学会了java再来擒下这个"
        },
        {
            "author": "星耀幻影",
            "timestamp": 1536484020,
            "txt_content": "标题是1.8-1.12，版本里咋就是1.9-1.12了"
        },
        {
            "author": "Ray_Hughes",
            "timestamp": 1536663120,
            "txt_content": "能不能允许宝石为多种材质呢?\n以及设置多种形式的分割线qvq"
        },
        {
            "author": "Bryan33",
            "timestamp": 1536676740,
            "txt_content": " 本帖最后由 a390807154 于 2018-9-11 22:52 编辑 \nbliblibli23333 发表于 2018-9-11 18:52\n能不能允许宝石为多种材质呢?\n以及设置多种形式的分割线qvq\n可以的 提供的范例脚本里已经有这个代码了 https://github.com/BryanSer/FarGem/blob/master/src/example.js\nJava.extend(Gem, OptionalGemDisplay);中的OptionalGemDisplay\n有提供一些默认函数 只需要覆盖他们就行了  (其他显示的修改也可以覆盖这个接口里的其他方法)\njs类的方法具体写法是\nvar Material = Java.type('org.bukkit.Material');//范例代码中已定义该变量\ngetType: function(lv){\n    return Material.EMERALD;//这个就是绿宝石了\n    //如果要返回指定ID的物品就是 return Material.getMaterial(388);\n}复制代码\n注:\n变量定义需要提前\ngetType: 这个函数需要在宝石定义代码里\n\n如: (说明的函数已经注释出来的 请翻到中间)\n/* global Java */\n\nvar Enable = false;\n\nvar Gem = Java.type('Br.FarGem.Gem');\nvar GemDisplay = Java.type('Br.FarGem.GemDisplay');\nvar Config = Java.type('Br.FarGem.Gem.Config');\nvar Material = Java.type('org.bukkit.Material');//此处已定义 请勿重复定义变量\nvar Player = Java.type('org.bukkit.entity.Player');\nvar EntityType = Java.type('org.bukkit.entity.EntityType');\n\nvar ScriptListener = Java.extend(Java.type('Br.API.Scripts.ScriptListener'));\nvar AttackGemType = Java.extend(Gem, GemDisplay);\n\nvar DisplayLoreConfig = new Config(\"DisplayLore\", function (lv) {\n    return \"§c\" + lv + \"级 攻击宝石  攻击力+\" + lv * 3;\n}, true);\nvar GemLoreConfig = new Config(\"GemLoreConfig\", function (lv) {\n    var list = new java.util.ArrayList();\n    list.add(\"§c攻击宝石  等级- \" + lv);\n    list.add(\"§b增加攻击力- \" + lv * 3);\n    list.add(\"§6仅能安装到剑或斧头上\");\n    list.add(\"§a右键宝石开始安装\");\n    return list;\n}, true);\nvar AttackConfig = new Config(\"Attack\", function (lv) {\n    return lv * 3;\n}, true);\n\nvar AttackGem = new AttackGemType('AttackGem', \"§c攻击宝石\", 10){\n    getDisplayLore: function (lv) {\n        return DisplayLoreConfig.getValue(lv);\n    },\n    getConfigs: function () {\n        return Java.to([DisplayLoreConfig, GemLoreConfig, AttackConfig], \"Br.FarGem.Gem.Config[]\");\n    },\n    canInstall: function (is) {\n        var s = is.getType().toString();\n        return s.contains(\"_AXE\") || s.contains(\"_SWORD\");\n    },\n////////////////////////////////////////////////////////////////////////////////////////////////////\n    getType: function (lv) {//改变材质函数\n        return Material.EMERALD;//← 这个是绿宝石\n        //如果要按ID返回材质的话 请用return Material.getMaterial(388);\n    },\n///////////////////////////////////////////////////////////////////////////////////////////////////\n    getDurability: function (lv) {\n        return 0;\n    },\n    getDisplayName: function (lv) {\n        return \"§c\" + lv + \"级 攻击宝石\";\n    },\n    getLore: function (lv) {\n        return GemLoreConfig.getValue(lv);\n    },\n};\nvar Listener = new ScriptListener(){\n    onEvent: function (evt) {\n        if (evt.getDamager().getType() !== EntityType.PLAYER) {\n            return;\n        }\n        var p = evt.getDamager();\n        var is = p.getItemInHand();\n        var lv = AttackGem.getEquipLevel(is);\n        if (lv > 0) {\n            evt.setDamage(evt.getDamage() + AttackConfig.getValue(lv));\n        }\n    },\n    getEventName: function () {\n        return 'org.bukkit.event.entity.EntityDamageByEntityEvent';\n    }\n};\nfunction getGem() {\n    return AttackGem;\n}\n\n\nfunction getListener() {\n    return Java.to([Listener], \"Br.API.Scripts.ScriptListener[]\");\n}\n\nfunction isEnable(){\n    return Enable;\n}复制代码\n其他问题欢迎加QQ 390807154"
        },
        {
            "author": "Ray_Hughes",
            "timestamp": 1536759300,
            "txt_content": "写了个解析 希望可以帮助到你们\n\nhttps://gitee.com/Ray_Hughes/cod ... etag=s_pctim_aiomsg\n\n把我的一个宝石拆开给大家看qvq\n感谢作者的辅导!"
        },
        {
            "author": "Ghoststome",
            "timestamp": 1536765600,
            "txt_content": "支持大佬创新更多插件"
        },
        {
            "author": "886688",
            "timestamp": 1555222980,
            "txt_content": "为什么只能镶嵌一颗......"
        },
        {
            "author": "1094640301",
            "timestamp": 1565149620,
            "txt_content": "楼主该插件可以设置打孔才可以镶嵌吗？"
        },
        {
            "author": "Bryan33",
            "timestamp": 1565160780,
            "txt_content": "1094640301 发表于 2019-8-7 11:47\n楼主该插件可以设置打孔才可以镶嵌吗？\n可以的 你可以看看插件的源码\n在Br.FarGem.Tools类里有一个MaxInstallFuncion\n通过修改这个lambda可以实现你要的效果"
        },
        {
            "author": "小虞姬",
            "timestamp": 1579739280,
            "txt_content": "求更新下载链接"
        },
        {
            "author": "48846328",
            "timestamp": 1579740180,
            "txt_content": "不错不错~收藏一手~留着开服用~"
        },
        {
            "author": "苏雅格",
            "timestamp": 1579744380,
            "txt_content": "rpg服必备，收下了"
        },
        {
            "author": "andy900907",
            "timestamp": 1581931260,
            "txt_content": "666666666666666666"
        },
        {
            "author": "暗灭123",
            "timestamp": 1581937560,
            "txt_content": "前个帖子里的宝石好像都没法用，乱码了"
        },
        {
            "author": "深拥v",
            "timestamp": 1590161820,
            "txt_content": "假如出更多种类的属性就好了，慢慢来吧"
        },
        {
            "author": "Ghost丶cl",
            "timestamp": 1591184220,
            "txt_content": "大佬，宝石补充包的地址挂了........."
        },
        {
            "author": "wangdejion",
            "timestamp": 1591187520,
            "txt_content": "可以很棒的宝石插件"
        },
        {
            "author": "尘丨埃",
            "timestamp": 1593691440,
            "txt_content": " 本帖最后由 尘丨埃 于 2020-7-2 20:09 编辑 \n\n为什么我死活找不到gems文件夹\n"
        },
        {
            "author": "eternal-",
            "timestamp": 1593694680,
            "txt_content": "用6666666666666666666666666666666666666"
        },
        {
            "author": "shenyi113",
            "timestamp": 1608170580,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "shenyi113",
            "timestamp": 1608174420,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "枫叶落荒",
            "timestamp": 1612500000,
            "txt_content": "很好用的一款宝石插件"
        }
    ]
}