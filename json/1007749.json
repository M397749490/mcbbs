{
    "title": "[管理]BadWordKiller——基于DFA算法的全智能敏感词过滤系统[全版本]",
    "author": "inuyasha01",
    "replyCount": 40,
    "timestamp": 1586019660,
    "txt_content": " 本帖最后由 inuyasha01 于 2020-4-30 01:56 编辑 \n\n\n\n前几天在写弹幕系统（没错就是下一个坑）的时候想起了一个致命问题\n对那就是玩家公屏发敏感词要怎么过滤？？？\n查了查mcbbs和百度，国内貌似只转载过一个 BungeeCord跨服端 的敏感词过滤插件但由于自己并未涉及BC的领域于是就着手开发了一个属于 Bukkit/Spigot 全版本的高可用/高拓展性的过滤器算法原理很简单，运用的最基本的敏感词过滤规则\n那就是 -有穷自动机 (Deterministic Finite Automaton) 算法\n更新：（关于重名）也是后来检索BadWordKiller发现在Nukkit核心有作者写过，但和本BadWordKiller不是一个插件功能和实现原理也不同，在此声明下\n有穷自动机 (Deterministic Finite Automaton) - DFA 算法\n以简要为主，就直接说用它到底好在哪里：它几乎可以让你在 0.1s 内匹配超过 上万个敏感词\n\n\n\n\n20200422150559.png (153.02 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-22 15:06 上传\n\n\n\n\n算法发明自: Warren McCulloch & Walter Pitts (1943)\"A Logical Calculus of the Ideas Immanent in Nervous Activity\". Bulletin of Mathematical Biophysics. 5 (4): 115–133. doi: 10.1007/BF02478259. PMID 2185863.\n代码实现案例引用自:  chenming (2014), 李晓晖 (2016)https://www.cnblogs.com/naaoveGIS/p/5960352.htmlhttps://blog.csdn.net/chenssy/article/details/26961957\n这里引用三个文章的算法实现介绍有研究兴趣的小伙伴也可以从如下内容中学习更多关于计算概论的知识引用自：https://www.cnblogs.com/naaoveGIS/p/5960352.htmlhttps://blog.csdn.net/chenssy/article/details/26961957[attach]1538719[/attach]Deterministic_finite_automaton [Wiki]\n\nBadWordKiller (BWK) 功能\n\n\n\n\n20200422150908.png (13.86 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-22 15:10 上传\n\n\n\n\n\n\n\n\n\n20200422150956.png (11.79 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-22 15:10 上传\n\n\n\n\n※建议搭配 yuanlu大佬写的 信息熵反刷屏，与BWK双重算法 智能防护※https://www.mcbbs.net/thread-903631-1-1.html\n v1.0.0BadWordKiller 1.0.0 默认包含了 2500+ 种中英文敏感词汇（DFA建树后约为 610 个最小匹配节点）其中包括了你所有可能想象的过滤类别（限制了zz相关，sq相关，广告营销，民生不良词汇等）并且可在config实现手动添加 / 删除 你想过滤的新词\n v1.1.0 - 1.1.5  [记得更新config文件]\n※① 可自定义掩码※输入案例：【FXXK!!! FXXX!】输出值1：【我爱你呀!!! 我爱你呀!】输出值2：【我饿了!!! 我饿了!】\n※② 可跨越任意 符号，数字及大小写 - 强行识别敏感词※【2┡┮┭3^测 ！@#！@￥试%!#→↓◆★★←〓¤^#%字 --$!%!@12--符h┣┟Aha┮$^】可识别出：【“测试字符haha”】\n※③ 弥补了DFA算法的局限性 - 增加 单字符匹配 功能※输入案例：【橄！】输出值：【我爱你呀！】\n※杜绝了 中文中间夹杂英文 的干扰※    输入案例：\"^#!3^测 2┡┮┭lo◆★★←ve〓¤试%!@^\"\n    可识别出 1： \"测试\"   -->  输入算法 排查中文\n    可识别出 2： \"测love试\" -->  输入算法 排查中英混淆、单英文\n※其他更新※加密了字符库优化了整体匹配逻辑增加了对中性词是否可能为敏感词的判断逻辑增添了近两年内的祖安词汇监测功能删除了一些不至于限制的敏感词\nv1.2.0\n※管上了 /tell 指令※不多说了，就是香\n※可以 在线管控config 中的内容※/bwk mask <word> - 替换掩码/bwk add ban <word> - 添加限制词/bwk add unban <word> - 添加忽略词/bwk remove ban <word> - 删除限制词/bwk remove unban <word> - 删除忽略词\n※添加了 debug功能※输入/bwk debug 即可在线测试语句和词库输入 cancel 退出debug\n\n\n\n\n20200423195912.png (213.57 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-23 19:59 上传\n\n\n\n\n\n※ 完善了 bwk 的  tab补全指令功能 ※\n\n\n\n\nE`XO5GF{I{@L0_7E~ICKN]K.png (96.44 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-23 19:22 上传\n\n\n\n\n\n※其他更新※ 修复了底层匹配逻辑，最大程度运用词库再次优化了词库\n\n(感谢 星空 帮助测试和bug反馈)\n使用方法\n方法1： 将jar文件放入plugins文件夹，启动服务器方法2： 将jar文件放入plugins文件夹，使用yum实现热加载\n\n配置文件\n# 监测到敏感词后删除消息还是替换成符号？[默认替换]replace: true\n# 若开启替换，则把敏感词替换为如下掩码mask: '爱你'\n# 你可自定义新的敏感词列表add:  - '阿伟死了'\n# 你也可从默认的列表中删除你不需要的敏感词remove:  - 'fxxx'\n# Messages 消息# 若在上面开启了replace功能而非直接删除消息，那么下方的拒绝消息将不会提示给玩家Msg_Reject: \"&b[BWK]&c莫生气！莫生气！有什么事都好解决的，不要发晦气的话哦\"Msg_Reload: \"&b[BWK]&a配置文件已重载\"Msg_NoPerm: \"&b[BWK]&c执行失败，尚未找到相关权限\"\n\n下载与开源\n下载地址https://github.com/i493052739/BadWordKiller/releases\n由于算法代码本身也是开源所以源码在这里，欢迎一起学习https://github.com/i493052739/BadWordKiller\n\n兼容性与可拓展性\n\n理论支持  bukkit/spigot/CatServer/Mohist 全版本服务端paper(感谢SmallKK123测试，此版本尚未支持)对于 CraftBukkit/Sponge/Nukkit ，这里也列出了BWK的可拓展性:\n由于可实现的DFA算法，使得 仅仅对接服务端内核的基础API 就可以实现对敏感词过滤的应用\n如果您想转载/移植此插件，可直接从Github来Fork，当然，fork前也可直接私信我的git期待与您的共同创作\n\n该插件为 开源、免费 插件转载请注明作者，并且禁止私人转卖行为\n本插件所用所有代码均为原创,不存在借用/抄袭等行为",
    "replies": [
        {
            "author": "love12138",
            "timestamp": 1586052300,
            "txt_content": "支持原创作品...太强大了"
        },
        {
            "author": "偿我悲欢",
            "timestamp": 1586068920,
            "txt_content": "所以文中提到的 包含2439个敏感词 是涉及中文的吗？还是说是英文的？"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1586091900,
            "txt_content": "偿我悲欢 发表于 2020-4-5 14:42\n所以文中提到的 包含2439个敏感词 是涉及中文的吗？还是说是英文的？\n中英文，限制了必要的zz相关，sq相关，广告营销，民生不良词汇等\n\n\n\n我去原贴补个说明  原本想加个违禁网页限制，太多了  总共要上万，很多用不上的"
        },
        {
            "author": "偿我悲欢",
            "timestamp": 1586139660,
            "txt_content": "inuyasha01 发表于 2020-4-5 21:05\n中英文，限制了必要的zz相关，sq相关，广告营销，民生不良词汇等\n那不错 因为很多类似的屏蔽插件 都是国外出的 然后带的屏蔽库 也都是英文的。。如果有中文屏蔽库的话 那还是可以尝试使用的 毕竟自己去填写屏蔽词 还是一件很烦的事情"
        },
        {
            "author": "SmallKK123",
            "timestamp": 1586393220,
            "txt_content": "paper1.12.2好像报错呢，能在帖子里加一下功能说明吗，至今未明白这个插件是屏蔽弹幕里的敏感词还是屏蔽聊天敏感词"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1586455200,
            "txt_content": "SmallKK123 发表于 2020-4-9 08:47\npaper1.12.2好像报错呢，能在帖子里加一下功能说明吗，至今未明白这个插件是屏蔽弹幕里的敏感词还是屏蔽聊 ...\n这个插件是单独管理聊天的，弹幕系统里自带了弹幕的敏感词管理"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1587537300,
            "txt_content": "已更新，更新请记得重置config，增加了两项内容"
        },
        {
            "author": "suyuhan0504",
            "timestamp": 1587693540,
            "txt_content": " 本帖最后由 suyuhan0504 于 2020-4-24 10:00 编辑 \n\npaper1.15.2-165报错,无法加载插件,具体报错如下Could not load 'plugins\\[反脏话]BadWordKiller-1.2.0.jar' in folder 'plugins' org.bukkit.plugin.InvalidPluginException: Unsupported API version 1.12         at org.bukkit.craftbukkit.v1_15_R1.util.CraftMagicNumbers.checkSupported(CraftMagicNumbers.java:270) ~[patched_1.15.2.jar:git-Paper-165]         at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:130) ~[patched_1.15.2.jar:git-Paper-165]         at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:397) ~[patched_1.15.2.jar:git-Paper-165]         at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:305) ~[patched_1.15.2.jar:git-Paper-165]         at org.bukkit.craftbukkit.v1_15_R1.CraftServer.loadPlugins(CraftServer.java:358) ~[patched_1.15.2.jar:git-Paper-165]         at net.minecraft.server.v1_15_R1.DedicatedServer.init(DedicatedServer.java:234) ~[patched_1.15.2.jar:git-Paper-165]         at net.minecraft.server.v1_15_R1.MinecraftServer.run(MinecraftServer.java:885) ~[patched_1.15.2.jar:git-Paper-165]         at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212] [09:56:32] [Server thread/WARN]: Initializing Legacy Material Support. Unless you have legacy plugins and/or data this is a bug!\n"
        },
        {
            "author": "FUNNYSKRAHH",
            "timestamp": 1587839820,
            "txt_content": "熊太强了！！！"
        },
        {
            "author": "hank9999",
            "timestamp": 1588153560,
            "txt_content": "您好plugin.yml写死了api-version\n其他游戏版本用不了;w;"
        },
        {
            "author": "Mixne",
            "timestamp": 1588154160,
            "txt_content": "支持原创，感谢分享"
        },
        {
            "author": "wolf3516",
            "timestamp": 1588158480,
            "txt_content": "内啥，这个东西可以分清草和操吗(毕竟前者现在大家都在当日语说)"
        },
        {
            "author": "liukai3185",
            "timestamp": 1588159020,
            "txt_content": "谢谢分享 支持一下！！"
        },
        {
            "author": "wolf3516",
            "timestamp": 1588161000,
            "txt_content": "提个建议:加个拼音检举功能"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1588163520,
            "txt_content": "wolf3516 发表于 2020-4-29 19:08\n内啥，这个东西可以分清草和操吗(毕竟前者现在大家都在当日语说)\n可以  默认没限制草，其他关键字来说，你也可以添加或删除，都行"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1588163580,
            "txt_content": "hank9999 发表于 2020-4-29 17:46\n您好plugin.yml写死了api-version\n其他游戏版本用不了;w;\n感谢告知！我下个版本一起弄好发"
        },
        {
            "author": "wolf3516",
            "timestamp": 1588163880,
            "txt_content": "inuyasha01 发表于 2020-4-29 20:32\n可以  默认没限制草，其他关键字来说，你也可以添加或删除，都行\n好的谢谢dalao，还有NMxx这个骂人的词不管缩写还是全写都没有屏蔽，建议最好下个版本集成。对了有做拼音识别的打算吗？"
        },
        {
            "author": "lmy5005",
            "timestamp": 1588173660,
            "txt_content": "这个也太厉害了！"
        },
        {
            "author": "爱笑的节操",
            "timestamp": 1588189620,
            "txt_content": "非常不错的插件,支持"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1588445580,
            "txt_content": "wolf3516 发表于 2020-4-29 19:50\n提个建议:加个拼音检举功能\n感谢意见，原本库里自带了拼音和中拼混淆，也可以config自己添加\n\n倒是全文拼音拆解的话我这边考虑下怎么实现好，后几个版本尽量尝试下"
        },
        {
            "author": "david890504",
            "timestamp": 1588456380,
            "txt_content": "這麼牛批的嗎"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1588579020,
            "txt_content": "我要了！"
        },
        {
            "author": "HelloMCS",
            "timestamp": 1588698480,
            "txt_content": "插件在paper1.13.2服务端报错，信息如下：[01:05:50 ERROR]: Could not load 'plugins\\BadWordKiller-1.2.0.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: Unsupported API version 1.12\n        at org.bukkit.craftbukkit.v1_13_R2.util.CraftMagicNumbers.checkSupported(CraftMagicNumbers.java:226) ~[paper_1.13.2.jar:git-Paper-655]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:130) ~[paper_1.13.2.jar:git-Paper-655]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:334) ~[paper_1.13.2.jar:git-Paper-655]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:255) ~[paper_1.13.2.jar:git-Paper-655]\n        at org.bukkit.craftbukkit.v1_13_R2.CraftServer.loadPlugins(CraftServer.java:331) ~[paper_1.13.2.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.DedicatedServer.init(DedicatedServer.java:235) ~[paper_1.13.2.jar:git-Paper-655]\n        at net.minecraft.server.v1_13_R2.MinecraftServer.run(MinecraftServer.java:787) ~[paper_1.13.2.jar:git-Paper-655]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]复制代码\n"
        },
        {
            "author": "爱你入骨",
            "timestamp": 1588761360,
            "txt_content": "从此拒绝口吐芬芳"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1588993380,
            "txt_content": "啥时候支持paper鸭"
        },
        {
            "author": "爱你入骨",
            "timestamp": 1589044800,
            "txt_content": "支持原创作品...太强大了"
        },
        {
            "author": "玄锐暮",
            "timestamp": 1589045700,
            "txt_content": "哈哈这插件太棒了。不怕花式问候家人了"
        },
        {
            "author": "BXBMBFS",
            "timestamp": 1596118020,
            "txt_content": "支持1.16.1么大佬"
        },
        {
            "author": "CopperStar",
            "timestamp": 1596262920,
            "txt_content": "啊这，spigot 1.15.2报错\n[14:10:20 ERROR]: Could not load 'plugins\\BadWordKiller-1.2.0.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidPluginException: Unsupported API version 1.12\n        at org.bukkit.craftbukkit.v1_15_R1.util.CraftMagicNumbers.checkSupported(CraftMagicNumbers.java:270) ~[spigot-1.15.2.jar:git-Spigot-a99063f-be6aaf0]\n        at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:131) ~[spigot-1.15.2.jar:git-Spigot-a99063f-be6aaf0]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:394) ~[spigot-1.15.2.jar:git-Spigot-a99063f-be6aaf0]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:301) [spigot-1.15.2.jar:git-Spigot-a99063f-be6aaf0]\n        at org.bukkit.craftbukkit.v1_15_R1.CraftServer.loadPlugins(CraftServer.java:353) [spigot-1.15.2.jar:git-Spigot-a99063f-be6aaf0]\n        at net.minecraft.server.v1_15_R1.DedicatedServer.init(DedicatedServer.java:210) [spigot-1.15.2.jar:git-Spigot-a99063f-be6aaf0]\n        at net.minecraft.server.v1_15_R1.MinecraftServer.run(MinecraftServer.java:784) [spigot-1.15.2.jar:git-Spigot-a99063f-be6aaf0]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_251]"
        },
        {
            "author": "鹿中之麋",
            "timestamp": 1596265140,
            "txt_content": "太tm的牛逼了，谢谢楼主分享"
        },
        {
            "author": "FireworkPolymer",
            "timestamp": 1596291180,
            "txt_content": " 本帖最后由 FireworkDLC 于 2020-8-1 22:18 编辑 \n\n建议管管/m&/msg指令还有，虽然/tell会被屏蔽，但是会发第二次，第二次并没有屏蔽\n例如：我-/tell player 脏话\n对方显示的是 [xxx→你 *]\n                    [xxx→你 脏话]"
        },
        {
            "author": "OOTW_Z",
            "timestamp": 1596291660,
            "txt_content": "感觉好高端"
        },
        {
            "author": "鹿中之麋",
            "timestamp": 1596459480,
            "txt_content": " 本帖最后由 鹿中之麋 于 2020-8-3 22:23 编辑 \n\n还是有人采用拼写骂人"
        },
        {
            "author": "qq2744826325",
            "timestamp": 1596701460,
            "txt_content": "额。。错误怎么办？"
        },
        {
            "author": "windproton",
            "timestamp": 1598098020,
            "txt_content": "新版本似乎还是没有兼容paper啊"
        },
        {
            "author": "windproton",
            "timestamp": 1603866480,
            "txt_content": "paper1.15.2无法载入插件。\n重启后插件未载入，没有出现BadWordKiller的文件夹\n使用yum载入提示不是一个有效的插件"
        },
        {
            "author": "NAOProject",
            "timestamp": 1603866540,
            "txt_content": "\n谢谢分享 支持一下！！"
        },
        {
            "author": "三妖精SAY",
            "timestamp": 1603870140,
            "txt_content": "感谢楼主，很棒的插件"
        },
        {
            "author": "mine丶young",
            "timestamp": 1609662060,
            "txt_content": "啥时候可以支持1.16"
        },
        {
            "author": "2669848589",
            "timestamp": 1610027400,
            "txt_content": "很不错的的插件"
        }
    ]
}