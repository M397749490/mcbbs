{
    "title": "怎么在插件中动态加载jar包，比如spring框架的jar包",
    "author": "lonelymc",
    "replyCount": 13,
    "timestamp": 1597559520,
    "txt_content": "怎么在插件中动态加载jar包，比如spring框架的jar包",
    "replies": [
        {
            "author": "天辉胡萝卜",
            "timestamp": 1597560180,
            "txt_content": "只是单纯依赖的话还是建议考虑用maven-shade-plugin，直接把库打包到最终的jar里面"
        },
        {
            "author": "William_Shi",
            "timestamp": 1597574340,
            "txt_content": "首先确定这个包是不是Spigot、Paper的完整核心已经自带的\n比如gson等是BuildTools自动打包到服务端核心里的，无需再重复打包\n当然我指的是一个完整的核心jar，可以随便找一个开服核心看\n\n如果是Spigot无的，可以采用\nmaven shade\ngradle shadow jar"
        },
        {
            "author": "lonelymc",
            "timestamp": 1597575480,
            "txt_content": "疾风暗影 发表于 2020-8-16 14:43\n只是单纯依赖的话还是建议考虑用maven-shade-plugin，直接把库打包到最终的jar里面 ...\n我试了一下，把ClassPathXmlApplicationContext(\"配置文件路径\")放在了JavaPlugin的onLoad方法里初始化，\n但是：\n[org.springframework.context.support.FileSystemXmlApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [wetcland.cn.tst] for bean with name 'tst' defined in file [D:\\LonelyLeaveTan\\Minecraft server core\\Paperspigot-1.16.1\\src\\config.xml]; nested exception is java.lang.ClassNotFoundException: wetcland.cn.tst\n[18:52:37 ERROR]: [org.bukkit.craftbukkit.v1_16_R1.CraftServer] Cannot find class [wetcland.cn.tst] for bean with name 'tst' defined in file [D:\\LonelyLeaveTan\\Minecraft server core\\Paperspigot-1.16.1\\src\\config.xml]; nested exception is java.lang.ClassNotFoundException: wetcland.cn.tst initializing TCSP v1 (Is it up to date?)"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1597601520,
            "txt_content": "lonelymc 发表于 2020-8-16 18:58\n我试了一下，把ClassPathXmlApplicationContext(\"配置文件路径\")放在了JavaPlugin的onLoad方法里初始化， ...\n参考该篇\nhttps://www.spigotmc.org/threads ... o-find-file.419294/\n\n1.15之后的临时解决方案"
        },
        {
            "author": "lonelymc",
            "timestamp": 1597704240,
            "txt_content": "疾风暗影 发表于 2020-8-17 02:12\n参考该篇\nhttps://www.spigotmc.org/threads/when-class-implements-listener-spring-tried-to-find-file ...\nBukkit包里面的 FireWorkEffact和FireWorkEffact.Builder两个类构建烟花效果，但是构建完咋在世界放出来。。。，我在World里面没找到相关的生成方法，只有一个简单的spawnEntity(Location, EntityType)可以生成最简单的烟花"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1597704660,
            "txt_content": "lonelymc 发表于 2020-8-18 06:44\nBukkit包里面的 FireWorkEffact和FireWorkEffact.Builder两个类构建烟花效果，但是构建完咋在世界放出来 ...Firework fw = (Firework) world.spawnEntity(loc, EntityType.FIREWORK);\nFireworkMeta fwm = fw.getFireworkMeta();复制代码\n\n\n剩下的自己看文档"
        },
        {
            "author": "lonelymc",
            "timestamp": 1597712100,
            "txt_content": "疾风暗影 发表于 2020-8-18 06:51\n剩下的自己看文档\nemmm，我还是太菜了。。。，剩下的步骤是再把FireWork设置回去再spawnEntity一次吗？"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1597712160,
            "txt_content": "lonelymc 发表于 2020-8-18 08:55\nemmm，我还是太菜了。。。，剩下的步骤是再把FireWork设置回去再spawnEntity一次吗？ ...\nspawnEntity返回的是entity\n后面步骤是直接对entity做修饰\n\n请阅读文档"
        },
        {
            "author": "lonelymc",
            "timestamp": 1597749780,
            "txt_content": "疾风暗影 发表于 2020-8-18 08:56\nspawnEntity返回的是entity\n后面步骤是直接对entity做修饰\n我做到了，我以前一直以为spawnEntity()生成完后后面再增加的属性无效。。。，感谢大佬"
        },
        {
            "author": "lonelymc",
            "timestamp": 1597876020,
            "txt_content": "疾风暗影 发表于 2020-8-18 08:56\nspawnEntity返回的是entity\n后面步骤是直接对entity做修饰\n\n\n大佬再次打扰一下，我想自定义一个物品，这个物品有自己的贴图，翻了一遍文档发现没有这样的api，咋整呢"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1597876200,
            "txt_content": "lonelymc 发表于 2020-8-20 06:27\n大佬再次打扰一下，我想自定义一个物品，这个物品有自己的贴图，翻了一遍文档发现没有这样的api，咋整呢 ...\n请开新帖"
        },
        {
            "author": "lonelymc",
            "timestamp": 1597876260,
            "txt_content": "疾风暗影 发表于 2020-8-20 06:30\n请开新帖\n，大佬这么早"
        },
        {
            "author": "长生道长",
            "timestamp": 1597958880,
            "txt_content": "动态加载外部jar包，可以考虑使用 URLClassLoader技术，可以加载指定位置jar包调用其中方法使用，使用方法在CSDN论坛有人发布过教程"
        }
    ]
}