{
    "title": "如何获得鼠标指着的目标",
    "author": "2609848420",
    "replyCount": 4,
    "timestamp": 1538387100,
    "txt_content": "我所说的鼠标指着并不一定指在正常范围内 大约是10格左右\n所以不能用常规的方法 或者说获取方块也可以 也就是攻击不到的范围\n但是鼠标指着的实体",
    "replies": [
        {
            "author": "Ir.Nep",
            "timestamp": 1538400540,
            "txt_content": "public Entity getCursorTarget(Player p, double range){\n                Block block;\n                Entity target;\n                Iterator<Entity> entities;\n            Location loc = p.getEyeLocation();\n            Vector vec = loc.getDirection().multiply(0.15);\n            while((range-=0.1)>0 && ((block = loc.getWorld().getBlockAt(loc)).isLiquid() || block.isEmpty())){\n                    entities = loc.getWorld().getNearbyEntities(loc.add(vec), 0.001, 0.001, 0.001).iterator();\n                while(entities.hasNext()){\n                        if((target = entities.next()) != p){\n                                return target;\n                        }\n                }\n            }\n            return null;\n        }复制代码"
        },
        {
            "author": "2609848420",
            "timestamp": 1538454540,
            "txt_content": "qzz740827 发表于 2018-10-1 21:29\n谢谢大佬 range变量是什么"
        },
        {
            "author": "东药君",
            "timestamp": 1538638440,
            "txt_content": "qzz740827 发表于 2018-10-1 21:29\n我想问一下\n怎么获取玩家鼠标对着的方块\n不包括水、草、空气之类的非实体方块.."
        },
        {
            "author": "Ir.Nep",
            "timestamp": 1538817300,
            "txt_content": "东药君 发表于 2018-10-4 15:34\n我想问一下\n怎么获取玩家鼠标对着的方块\n不包括水、草、空气之类的非实体方块.. ...\n\n\n调用玩家的getTargetBlock方法即可\n第一个参数填 包含你要过滤的方块材质的Set\n第二个参数填 最远选中距离(玩家默认能选到的距离应该是4.5)"
        }
    ]
}