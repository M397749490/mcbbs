{
    "title": "nbt属性设置问题",
    "author": "白羊羊",
    "replyCount": 16,
    "timestamp": 1507200420,
    "txt_content": " 本帖最后由 mimimis 于 2017-10-6 19:46 编辑 \n\n\n\n\n\n\n我设置好了一套防具的nbt属性\n但是穿的时候发现，一个防具的加的属性会替换掉上一个防具加的属性\n比如说帽子的盔甲值为4\n衣服的盔甲值为5\n穿上帽子后玩家的护甲值变为4\n再穿上衣服玩家的盔甲值不是9，而只有衣服本身的5了\n\n是不是UUID相同导致的\n\n",
    "replies": [
        {
            "author": "Smokey_Days",
            "timestamp": 1507201680,
            "txt_content": " 本帖最后由 Smokey_Days 于 2017-10-5 19:33 编辑 \n\n首先，物品似乎没有uuid\n猜测你将其设置为【变为4盔甲值】而非【加4盔甲值】（只是猜测）\n\n信息不足\n\n进行下诉实验排除错因:调换安放顺序，查看结果\n调换头盔和胸甲的盔甲值，安放顺序不变，查看结果\n\n\n同时给出nbt标签描述原文\n\n\n"
        },
        {
            "author": "mcpanglei",
            "timestamp": 1507202340,
            "txt_content": "是不是累死附魔的属性取最大的，比如你帽子是保护五，裤子是保护四，全身不可能是保护9一样，只取最大值"
        },
        {
            "author": "白羊羊",
            "timestamp": 1507202940,
            "txt_content": " 本帖最后由 mimimis 于 2017-10-5 19:30 编辑 \nSmokey_Days 发表于 2017-10-5 19:08\n倘若颠倒先后顺序会发生什么？我想确认一下否是取较大的还是取后放的\n颠倒顺序之后就是帽子的值啊，4\n\n意思是，后一个防具会抵消前一个防具的所有属性，而不是在前一个防具的基础上增加"
        },
        {
            "author": "白羊羊",
            "timestamp": 1507204680,
            "txt_content": "Smokey_Days 发表于 2017-10-5 19:08\n首先，物品似乎没有uuid\n猜测你将其设置为【变为4盔甲值】而非【加4盔甲值】（只是猜测）\n我也觉得应该是UUID的问题，因为一个值不可能被替换吧，要替换也只能是重名了"
        },
        {
            "author": "幽曙光",
            "timestamp": 1507207380,
            "txt_content": "谢谢哈哈哈哈"
        },
        {
            "author": "chyx",
            "timestamp": 1507262880,
            "txt_content": "Smokey_Days 发表于 2017-10-5 19:08\n首先，物品似乎没有uuid\n猜测你将其设置为【变为4盔甲值】而非【加4盔甲值】（只是猜测）\n有uuid的\n而且目测就是这个问题"
        },
        {
            "author": "langyo_v3",
            "timestamp": 1507268280,
            "txt_content": "先穿上帽子时盔甲值先写入一次UUID，这个UUID指向的帽子盔甲值为4\n再穿上衣服时盔甲值的UUID，由于两边UUID一致，在计算盔甲值时寻找装备就只能找到一个装备的，目测是以最后一个同UUID的物品为准，也就是衣服，盔甲值为5\n仅仅个人猜测，还请轻拍\n\nPS.卧槽原来物品也有UUID啊**！？如果真是这样的话，那理论上每个物品其实都是唯一的喽？……"
        },
        {
            "author": "白羊羊",
            "timestamp": 1507268340,
            "txt_content": "langyo_v3 发表于 2017-10-6 13:38\n先穿上帽子时盔甲值先写入一次UUID，这个UUID指向的帽子盔甲值为4\n再穿上衣服时盔甲值的UUID，由于两边UUID ...\n已经解决了，就是UUID导致的"
        },
        {
            "author": "JIE_Pass",
            "timestamp": 1507282260,
            "txt_content": "2121221222222222222222222"
        },
        {
            "author": "pca006132",
            "timestamp": 1507282740,
            "txt_content": "物品那是 AttributeModifier的UUID吧...\n不懂你们那些API，估计你们应该是用的AttributeModifier吧？（直接改Base的话...那我也不清楚）\n\nhttps://minecraft.gamepedia.com/Attribute"
        },
        {
            "author": "白羊羊",
            "timestamp": 1507284420,
            "txt_content": "pca006132 发表于 2017-10-6 17:39\n物品那是 AttributeModifier的UUID吧...\n不懂你们那些API，估计你们应该是用的AttributeModifier吧？（直接 ...\n最终解决方法（我用的是HashMap）\nrandomUUID()方法生成随机UUID，然后get数字(Long)就行了\n一开始没注意，还要强转一个int类型，所以说，最后就搞成这种了：\n\n        map.put(\"UUIDLeast\", (int)UUID.randomUUID().getLeastSignificantBits());\n        map.put(\"UUIDMost\", (int)UUID.randomUUID().getMostSignificantBits());"
        },
        {
            "author": "pca006132",
            "timestamp": 1507286820,
            "txt_content": "mimimis 发表于 2017-10-6 18:07\n最终解决方法（我用的是HashMap）\nrandomUUID()方法生成随机UUID，然后get数字(Long)就行了\n一开始没注意 ...\n哇等等，UUIDLeast Most不都是Long么，转int干啥？\n你这到底是啥的NBT..."
        },
        {
            "author": "白羊羊",
            "timestamp": 1507287900,
            "txt_content": "pca006132 发表于 2017-10-6 18:47\n哇等等，UUIDLeast Most不都是Long么，转int干啥？\n你这到底是啥的NBT...\n我也不知道为什么，Long直接无效了，只能用int"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1507606800,
            "txt_content": "我记得不是这么表现的啊？\n我之前实验中当盔甲修改某个属性时会导致其它默认的属性不工作，必须手动添加属性，（当然都需要唯一的UUID）\n比如说\nAttributeModifiers:[{Operation:0,Amount:1,AttributeName:\"generic.armor\",UUIDLeast:4,UUIDMost:1,Name:\"Ar\",Slot:\"head\"},{Operation:0,Amount:0.2,AttributeName:\"generic.knockbackResistance\",UUIDLeast:3,UUIDMost:1,Name:\"KR\",Slot:\"head\"}]复制代码\n这里的armor去掉就会导致0护甲。\n\n当然也可能我们说的都不是一回事（也许你一开始压根没加UUID？）"
        },
        {
            "author": "白羊羊",
            "timestamp": 1507609740,
            "txt_content": "ruhuasiyu 发表于 2017-10-10 11:40\n我记得不是这么表现的啊？\n我之前实验中当盔甲修改某个属性时会导致其它默认的属性不工作，必须手动添加属 ...\nuuid相同导致的，即使是一个范围"
        },
        {
            "author": "Smokey_Days",
            "timestamp": 1508074080,
            "txt_content": "langyo_v3 发表于 2017-10-6 13:38\n先穿上帽子时盔甲值先写入一次UUID，这个UUID指向的帽子盔甲值为4\n再穿上衣服时盔甲值的UUID，由于两边UUID ...\n物品没有，属性有"
        }
    ]
}