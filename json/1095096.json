{
    "title": "[已解决]1710HUD渲染问题求助",
    "author": "和煦樱",
    "replyCount": 2,
    "timestamp": 1596683040,
    "txt_content": " 本帖最后由 和煦樱 于 2020-8-6 21:12 编辑 \n\n正常情况下:\n\n快捷栏里有 1数量 的物品时:\n\n\n这个渲染问题我的代码要怎么改才好...求解 没学过GL11 抱歉..\npublic class Playerhud {\n        \n        public static class GUIRenderEventClass extends GuiScreen {\n                \n                Minecraft Mc = Minecraft.getMinecraft();\n                private ResourceLocation Hud = new ResourceLocation(\"textures/MainHud.png\");\n                \n                @SubscribeEvent\n                public void playerHealth(RenderGameOverlayEvent.Pre event) {\n                        int width = (event.resolution.getScaledWidth()-227)/2;\n                        int height = event.resolution.getScaledHeight();\n                        if(event.resolution.getScaledWidth()%2 != 0) {\n                                width = width-1;\n                        }\n                        Mc.renderEngine.bindTexture(Hud);\n                        Mc.ingameGUI.drawTexturedModalRect(width-1, height-40, 0, 0, 227, 40);\n                        float HealthPer = Mc.thePlayer.getHealth()/Mc.thePlayer.getMaxHealth();\n                        if(Mc.thePlayer.getActivePotionEffect(Potion.wither) == null) {\n                                if(Mc.thePlayer.getActivePotionEffect(Potion.poison) == null) {\n                                        Mc.ingameGUI.drawTexturedModalRect(width+23, height-37, 15, 40, (int)Math.ceil(182*(HealthPer)), 8);\n                                } else {\n                                        Mc.ingameGUI.drawTexturedModalRect(width+23, height-37, 15, 48, (int)Math.ceil(182*(HealthPer)), 8);\n                                }\n                        } else {\n                                Mc.ingameGUI.drawTexturedModalRect(width+23, height-37, 15, 56, (int)Math.ceil(182*(HealthPer)), 8);\n                        }\n                        Mc.ingameGUI.drawTexturedModalRect(width+15, height-(22-20+(int)Math.ceil(20*Mc.thePlayer.experience)), 0, 40, 5, (int)Math.ceil(20*Mc.thePlayer.experience));\n                        if(Mc.thePlayer.getActivePotionEffect(Potion.hunger) == null) {\n                                Mc.ingameGUI.drawTexturedModalRect(width+208, height-2-Mc.thePlayer.getFoodStats().getFoodLevel(), 5, 40, 5, Mc.thePlayer.getFoodStats().getFoodLevel());\n                        } else {\n                                Mc.ingameGUI.drawTexturedModalRect(width+208, height-2-Mc.thePlayer.getFoodStats().getFoodLevel(), 10, 40, 5, Mc.thePlayer.getFoodStats().getFoodLevel());\n                        }\n                        if(event.type == ElementType.HEALTH) {\n                                event.setCanceled(true);\n                        }\n                        if(event.type == ElementType.ARMOR) {\n                                event.setCanceled(true);\n                        }\n                        if(event.type == ElementType.EXPERIENCE) {\n                                event.setCanceled(true);\n                        }\n                        if(event.type == ElementType.FOOD) {\n                                event.setCanceled(true);\n                        }\n                }\n                \n        }\n        \n        public void load() {\n                MinecraftForge.EVENT_BUS.register(new GUIRenderEventClass());\n        }\n        public void preInit(FMLPreInitializationEvent event) {}\n        public void registerRenderers() {}\n        \n}复制代码\n帮改这段代码 +Q 894351533 报酬你开\n",
    "replies": [
        {
            "author": "粘兽",
            "timestamp": 1596717660,
            "txt_content": "if (e.getType().equals(RenderGameOverlayEvent.ElementType.ALL)) {\n    GlStateManager.pushMatrix();\n    GlStateManager.enableAlpha();\n    GlStateManager.enableBlend();\n    // todo\n    GlStateManager.popMatrix();\n}复制代码"
        },
        {
            "author": "和煦樱",
            "timestamp": 1596719520,
            "txt_content": "粘兽 发表于 2020-8-6 20:41\n1710没有GlStateManager.. 给灰灰打钱了 sry.."
        }
    ]
}