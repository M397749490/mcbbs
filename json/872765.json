{
    "title": "[技术向]利用备份存档回档部分建筑/补偿玩家物品/回档错误区块教程",
    "author": "skyliye",
    "replyCount": 18,
    "timestamp": 1560349680,
    "txt_content": " 本帖最后由 skyliye 于 2019-6-12 23:44 编辑 \n\n 利用备份存档回档部分建筑/补偿玩家物品/回档错误区块教程\n 一、前言此篇教程根据我的实际开服经验得出，现分享给需要这类教程的服主。\n经我测试此教程适用于1.7.10~1.12.2的模组服以及插件服，暂不支持官服/forge官服。（其他版本应该也是支持的，需要服主自行测试）\n许多腐竹会在开服过程中遇到区块错误，重要的建筑物被熊，玩家箱子内的物品卡没等问题，而需要对服务器进行回档，或是删除某个区块。\n我们应该知道，现在Minecraft的存档是由level.dat（存储物品ID，地图种子等数据）,playerdata（玩家背包，位置信息等），以及region下的若干个r.x.x.mca所组成，而地图区块数据存储于这些mca中，每个mca文件由连续的32*32个区块组成，直接删除或替换这些mca文件极有可能会对其他的玩家造成损失，地皮世界更是如此。\n此教程手把手教各位服主利用备份的存档以及多世界插件还有创世神完成部分建筑的回档以及玩家物品的补偿。此过程甚至不需要重启服务器，更不会影响到其他玩家的游玩。 二、准备插件/mod上的准备：\nMultiverseCore多世界插件（必装）：http://www.mcbbs.net/thread-666177-1-1.html\nEasybackup定时备份插件（可选，纯净/模组服推荐）：http://www.mcbbs.net/thread-674614-1-1.html\nFTBU实用工具（可选，用于模组服存档备份）：http://www.mcbbs.net/thread-782478-1-1.html\n区块坐标计算器：https://pan.baidu.com/s/1B3F7HElaFXoDRcyx8rh7lQ  提取码：2cw8\nNBT Explorer（用于删除卡服/崩服区块）：http://www.mcbbs.net/thread-306895-1-1.html 三、计算出你要回档的坐标所在区块首先询问玩家出问题的区块所在的坐标，如果是区块错误造成的崩服则需要在错误报告中找到。\nLocation: World: (189,77,-736), Chunk: (at 13,4,0 in 11,-46; contains blocks 176,0,-736 to 191,255,-721), Region: (0,-2; contains chunks 0,-64 to 31,-33, blocks 0,0,-1024 to 511,255,-513)\n这是一段崩服报告中的错误区块信息，我们得出出问题的坐标是189,77,-736\n在区块坐标计算器中按照说明输入坐标即可得出坐标所在区块。\n 四、操作方法首先，使用multiverse的命令建立一个新的超平坦世界。这里我建立了一个名为recovery的世界\n\n然后打开服务端目录下的world\\recovery\\region文件夹，将备份存档内的r.*.*.mca放进去替换原来的\n如果提示文件被占用的话，使用/mv unload 卸载recovery世界，再替换区块，之后使用/mv load 加载recovery世界\n/mv tp recovery传送到备份存档所在世界\n\n使用/tppos x y z来到我们要回档/补偿玩家物品的位置。\n这时候，我们可以使用创世神的相关指令复制粘贴建筑物，或是将玩家箱子等容器内的物品转移走。\n\n区块回档方法：\n首先由于这个区块已经损坏了，因此我们到达这个区块时必然会造成崩服。这里还是需要先关闭服务器，然后打开问题区块所在的mca，使用NBTExplorer删除错误区块。\n找到错误区块所在mca，然后使用NBTExplorer打开。\n\n找到错误区块，使用DeleteTag也就是那个红叉删除掉，之后选择file、save保存区块文件。\n然后开启服务端。此时传送到原来的区块可以看到玩家的建筑物缺失了一大块。接下来tp到备份的存档世界，利用创世神的//chunk命令选定要替换的区块，然后//copy，//paste复制粘贴区块即可。如果粘贴的位置偏了可以适当调整。\ntips：现在大部分客户端自带了NEI，使用F9即可看到区块的分界线。\n实在拿不准的话可以将建筑/区块粘贴在高空中，然后一点点放到合适的位置。 五、作者的话本教程仅在MCBBS上发布，作者归skyliye所有。\n未经同意严禁转载到其他网站。[groupid=1306]Bone Studio[/groupid]",
    "replies": [
        {
            "author": "a1294790523",
            "timestamp": 1560351120,
            "txt_content": "然而最稳妥的方法是使用worldedit进行编辑233\n建议补一补"
        },
        {
            "author": "skyliye",
            "timestamp": 1560351300,
            "txt_content": " 本帖最后由 skyliye 于 2019-6-12 22:56 编辑 \na1294790523 发表于 2019-6-12 22:52\n然而最稳妥的方法是使用worldedit进行编辑233\n建议补一补\nworldedit，不太适合新手用，操作起来比教程上要复杂许多的，而且也需要关服操作\n改天出个worldedit教程加到这个教程里吧~\n"
        },
        {
            "author": "xmdhs",
            "timestamp": 1560351660,
            "txt_content": "有一些内容略微粗了点。\n使用NBTExplorer删除错误区块\n新人应该不知道怎么操作吧。"
        },
        {
            "author": "帕帕武",
            "timestamp": 1560417240,
            "txt_content": "没看懂后面一截要删除错误区块又复制错误区块"
        },
        {
            "author": "skyliye",
            "timestamp": 1560417360,
            "txt_content": "g530775 发表于 2019-6-13 17:14\n没看懂后面一截要删除错误区块又复制错误区块\n是删掉错误区块  从备份存档复制过来还没出错的区块"
        },
        {
            "author": "帕帕武",
            "timestamp": 1560417540,
            "txt_content": "skyliye 发表于 2019-6-13 17:16\n是删掉错误区块  从备份存档复制过来还没出错的区块\n了解，话说config中修改forge的话和这个对比哪个好"
        },
        {
            "author": "skyliye",
            "timestamp": 1560418020,
            "txt_content": "g530775 发表于 2019-6-13 17:19\n了解，话说config中修改forge的话和这个对比哪个好\n修改forge设置是降低错误发生的概率，我这个帖子是提供补救办法，你说呢"
        },
        {
            "author": "a2519271633",
            "timestamp": 1561162980,
            "txt_content": "......................................"
        },
        {
            "author": "索隆嘎嘎嘎",
            "timestamp": 1561762440,
            "txt_content": "感谢分享"
        },
        {
            "author": "gwfblank1",
            "timestamp": 1562074440,
            "txt_content": "1.像一些mod物品机器 都可以搬走吗 \n2.箱子里的东西 只能慢慢自己搬走？"
        },
        {
            "author": "skyliye",
            "timestamp": 1562077140,
            "txt_content": "gwfblank1 发表于 2019-7-2 21:34\n1.像一些mod物品机器 都可以搬走吗 \n2.箱子里的东西 只能慢慢自己搬走？\nmod里的物品都能转移走，所有容器内的物品得手动转移，当然最好善用mod里的工具，还有搬箱插件搬箱mod，方便一些，还有R键整理等等"
        },
        {
            "author": "萌·神",
            "timestamp": 1562327580,
            "txt_content": "lz辛苦了！！"
        },
        {
            "author": "Desolation",
            "timestamp": 1563541560,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "请问了去",
            "timestamp": 1565495880,
            "txt_content": "最简单的就是把地图放到客户端之后修改最后再放到服务器"
        },
        {
            "author": "晓夜Port",
            "timestamp": 1565516880,
            "txt_content": "想要你的字体材质包，能发一下吗"
        },
        {
            "author": "qiuhh",
            "timestamp": 1578589980,
            "txt_content": "woc，原来多世界还有这个用处，学到了学到了"
        },
        {
            "author": "无墨wu_mo",
            "timestamp": 1586939700,
            "txt_content": "skyliye 发表于 2019-6-13 17:16\n是删掉错误区块  从备份存档复制过来还没出错的区块\n那原本的东西会没吗？"
        },
        {
            "author": "AWTZA",
            "timestamp": 1598917560,
            "txt_content": "新人没有权限查看easybackup"
        }
    ]
}