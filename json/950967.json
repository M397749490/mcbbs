{
    "title": "求大佬修一下npc脚本",
    "author": "小强恢恢",
    "replyCount": 1,
    "timestamp": 1580711520,
    "txt_content": "求大佬帮忙修复一下这个脚本，我朋友写的，但是他也看不懂报错了，版本是1.12\n\n//变身技能\nfunction damaged(event) {\n    var health = event.npc.health;\n    //这里是判断npc的生命值，我这里写的是如果生命值小于一半的时候触发\n    if (health < event.npc.getMaxHealth() * 0.5) {\n        event.npc.tempdata.put(\"nbt\", true);\n        //这里写变身后的提示语\n        event.source.message(\"[提示]你激怒我了!!!\");\n        //这里写变身后的最大生命值\n        event.npc.setMaxHealth(500);\n        event.npc.health = event.npc.getMaxHealth();\n        //这里写变身后的攻击伤害\n        event.npc.setStrength?(10);\n        //这里写变身后的体积\n        event.npc.setSize(8);\n    }\n}\n\nfunction targetLost(event) {\n    if (event.npc.tempdata.has(\"nbt\")) {\n        //丢失目标后设置的生命,攻击,体积，依次往下\n        event.npc.setMaxHealth(200);\n        event.npc.setStrength?(20);\n        event.npc.setSize(5);\n    }\n}\n\nfunction died(event) {\n    //死亡后设置的生命,攻击,体积，依次往下\n    event.npc.setMaxHealth(200);\n    event.npc.setStrength?(20);\n    event.npc.setSize(5);\n}",
    "replies": [
        {
            "author": "粘兽",
            "timestamp": 1581161820,
            "txt_content": "我寻思你这朋友是从哪里抄来的代码吧\n里面的方法全是1710的旧方法\n\n//变身技能\nfunction damaged(event) {\n    var health = event.npc.health;\n    //这里是判断npc的生命值，我这里写的是如果生命值小于一半的时候触发\n    if (health < event.npc.getMaxHealth() * 0.5) {\n        event.npc.tempdata.put(\"nbt\", true);\n        //这里写变身后的提示语\n        event.source.message(\"[提示]你激怒我了!!!\");\n        //这里写变身后的最大生命值\n        event.npc.setMaxHealth(500);\n        event.npc.health = event.npc.getMaxHealth();\n        //这里写变身后的攻击伤害\n        event.npc.stats.melee.setStrength(10);\n        //这里写变身后的体积\n        event.npc.display.setSize(8);\n    }\n}\n\nfunction targetLost(event) {\n    if (event.npc.tempdata.has(\"nbt\")) {\n        //丢失目标后设置的生命,攻击,体积，依次往下\n        event.npc.setMaxHealth(200);\n        event.npc.stats.melee.setStrength(20);\n        event.npc.display.setSize(5);\n    }\n}\n\nfunction died(event) {\n    //死亡后设置的生命,攻击,体积，依次往下\n    event.npc.setMaxHealth(200);\n    event.npc.stats.melee.setStrength(20);\n    event.npc.display.setSize(5);\n}复制代码\n\n"
        }
    ]
}