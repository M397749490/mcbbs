{
    "title": "【TCP|skeleton小白】【1.9】用tellraw指令玩转别踩白块！",
    "author": "skeleton小白",
    "replyCount": 6,
    "timestamp": 1455348420,
    "txt_content": " 本帖最后由 乙烯_中国 于 2016-2-13 19:25 编辑 \n\n先放视频：\nhttp://v.youku.com/v_show/id_XMTQ3MDIwMTIyOA==.html\n\n别问我为毛视频中间还黑了两次  万恶的优酷\n\n\n再放图：\n\n\n\n最后放存档下载地址（16w04a）：http://pan.baidu.com/s/1bowU0On\n\n使用方法：\n先输入\n/scoreboard players set @a totallines <总行数>复制代码置总行数，且行数最少为4，然后按下按钮，就可以开始玩了\n\n\n\n以下是命令讲解：\n\n\n\n首先从gamerule说起：\n/gamerule commandBlockOutput false复制代码老规矩，使命令方块不输出。\n\n/gamerule sendCommandFeedback false复制代码由于要用到点击事件，为了不再聊天栏里输出，也要使用这个指令。\n\n计分板列表：\n\n\n一共10个计分板，类型均为dummy，下面会逐个讲到。\n\n初始化部分：\n按按钮后依次执行下列指令\n/tellraw @a {\"text\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"}复制代码首先是清屏不解释\n\n/scoreboard players operation @a line1 = @r[type=ArmorStand,score_random_min=1] random复制代码随机玩家的line1的分数。\n这里要讲到那个随机器：\n\n（只有聪明人才能看出这是4个盔甲架）\n四个盔甲架的random分数分别为1,2,3,4。\n\n然后依然是上面的那个指令，只不过将line1改为line2，line3，line4，分别随机玩家4行的分数。\nline1到line4四个计分板分别记录四行中黑块的位置。\n\n/execute @a[score_line1_min=1,score_line1=1] ~ ~ ~ tellraw @a {\"text\":\"          \",\"extra\":[{\"text\":\"#\",\"color\":\"black\"},{\"text\":\"###\",\"color\":\"white\"}]}复制代码探测到line1分数为1的玩家后输出 ####\n同理，如果line1分数为2则输出 ####\nline1到line3都是这样\n\n但line4的指令略有不同：\n/execute @a[score_line4_min=1,score_line4=1] ~ ~ ~ tellraw @a {\"text\":\"          \",\"extra\":[{\"text\":\"#\",\"color\":\"black\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/scoreboard players set @a click 1\"}},{\"text\":\"###\",\"color\":\"white\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/scoreboard players set @a lost 1\"}}]}复制代码探测到line4分数为1后输出一黑三白，但4个井号都带有点击事件，点黑的就将玩家的click计分板设为1，点白的就将玩家的lost计分板设为1。\n同理，line4分数为2输出一白一黑二白，点黑的就将玩家的click计分板设为1，点白的就将玩家的lost计分板设为1。\n\n\n最后一个指令：\n/scoreboard players set @a lines 4复制代码将玩家的lines分数设为4（因为已经输出了4行）\n\n点击处理部分：\n该部分是点击对了（也就是点了黑块）之后利用瞬时计分板click执行的部分\n首先要注意的是，红石块后的repeat命令方块是needs redstone的，所以它旁边放了个红石块，也是为了方便与胜利探测部分切换\n利用repeat和chain高频执行下面的指令：\n/execute @a[score_click_min=1] ~ ~ ~ scoreboard players operation @a line4 = @a line3复制代码将玩家line4的分数赋值为line3的分数，同理，把line3的分数给line2，把line2的分数给line1，也就是将4行向下移动。\n/execute @a[score_click_min=1] ~ ~ ~ scoreboard players operation @a line1 = @r[type=ArmorStand,score_random_min=1] random复制代码随机玩家的line1分数，也就是随机新出现的一行的分数。\n/execute @a[score_click_min=1] ~ ~ ~ scoreboard players operation @a test = @a totallines复制代码将玩家的test分数赋值为totallines的分数\n/execute @a[score_click_min=1] ~ ~ ~ scoreboard players operation @a test -= @a lines复制代码用玩家的test分数减去玩家的lines分数\n这两个指令执行后，test分数就是还没有输出的行数\n/execute @a[score_click_min=1,score_test=0] ~ ~ ~ scoreboard players set @a line1 0复制代码如果test分数小于等于0（也就是所有行都输出了）那么就将玩家的line1分数设为0，也就不会输出这一行了。\n/execute @a[score_click_min=1] ~ ~ ~ scoreboard players add @a lines 1复制代码将玩家的lines分数加1\n/execute @a[score_click_min=1] ~ ~ ~ tellraw @a {\"text\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"}复制代码清屏，准备下一次输出。\n/execute @a[score_click_min=1,score_line1_min=1,score_line1=1] ~ ~ ~ tellraw @a {\"text\":\"          \",\"extra\":[{\"text\":\"#\",\"color\":\"black\"},{\"text\":\"###\",\"color\":\"white\"}]}复制代码如果line1分数为1则输出一黑三白，这里的16条指令与初始化部分的输出指令相同，只不过多了execute，功能同样是输出四行。\n/execute @a[score_click_min=1,score_test_min=-2,score_test=-2] ~ ~ ~ clone 77 48 314 77 48 314 77 49 314 replace move复制代码如果test分数为-2，也就是只剩下最后一行了，那么就将图中repeat命令方块旁的红石块向上移一格，也就是不执行点击处理部分，而开始重复执行上面的胜利探测部分。\n/scoreboard players set @a[score_click_min=1] click 0复制代码瞬时计分版click分数清零。\n\n胜利探测部分：\n该部分在只剩最后一行时开始执行\n注意该部分所有的chain都是conditional的，只有在repeat命令方块执行成功之后依次执行。\n/testfor @a[score_click_min=1]复制代码这是repeat命令方块中的命令，探测click分数为1的玩家\n接下来都是chain中的命令\n/title @a title {\"text\":\"You Win!\",\"color\":\"green\"}复制代码执行标题You Win！\n/clone 77 49 314 77 49 314 77 48 314 replace move复制代码将那个移动上来的红石块复位。\n/scoreboard players set @a[score_click_min=1] click 0复制代码瞬时计分版click清零。\n/tellraw @a {\"text\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"}复制代码清屏不解释。\n\n\n失败探测部分：\n该部分是在点到白块（也就是lost计分板为1）时执行的，同样所有的chain均为conditional型\nrepeat命令方块：\n/testfor @a[score_lost_min=1]复制代码这个repeat命令方块是always active型的\n接下来的chain：\n/tellraw @a {\"text\":\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"}复制代码清屏不解释。\n/title @a title {\"text\":\"You Lost!\",\"color\":\"red\"}复制代码执行标题You Lost！\n/execute @a ~ ~ ~ detect 77 49 314 redstone_block 0 clone 77 49 314 77 49 314 77 48 314 replace move复制代码如果此时红石块未复位（也就是玩家手残在最后一行点错），那么就将红石块复位。\n/scoreboard players set @a lost 0复制代码瞬时计分版lost清零。\n\n\n\n\n\n[groupid=1009]The Command's Power[/groupid]",
    "replies": [
        {
            "author": "ESCesc",
            "timestamp": 1455348900,
            "txt_content": "楼主好创意，就是白块太小了。。。"
        },
        {
            "author": "林扬骐",
            "timestamp": 1455354360,
            "txt_content": "其实可以不用这么多计分板来着{:10_493:}"
        },
        {
            "author": "CL_coin",
            "timestamp": 1455760440,
            "txt_content": "创意可以，可以再优化一下系统"
        },
        {
            "author": "可爱的云宝",
            "timestamp": 1470562200,
            "txt_content": "你需要优化下系统"
        },
        {
            "author": "_shuaibi_dada",
            "timestamp": 1471249260,
            "txt_content": "这很吊啊，最爱玩别踩白块了。"
        },
        {
            "author": "MODlover",
            "timestamp": 1471826820,
            "txt_content": "开始游戏建议用trigger计分板"
        }
    ]
}