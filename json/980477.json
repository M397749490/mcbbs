{
    "title": "MinecraftServerHostGuide 排版测试",
    "author": "梦",
    "replyCount": 0,
    "timestamp": 1583710980,
    "txt_content": " 本帖最后由 梦 于 2020-3-9 09:00 编辑 \n\n\n简介\n\n欢迎来到《我的世界服务器搭建指南》（MinecraftServerHostGuide）。\n\n本教程面向第一次搭建我的世界Java版服务器的小白服主。\n\n学习完本教程后，你将会掌握基础的我的世界服务器搭建技能。\n\n由于论坛格式限制，无法完美展示效果，我们十分建议您前往 Gitbook 阅读：国内   国外\n\n鸣谢\n\n在本教程编写的过程中得到了一些有关人士的帮助，在此对他们表示最诚挚的感谢！\n\n以下为鸣谢名单（排名不分先后）：\n\nID介绍银狼给予一定建议LocusAzzurro给予一定建议贺兰星辰给予一定建议XJue_DaDa授权参考翻译\n编写委员会\n\n由衷地感谢本教程编委会各位成员在本教程编写过程中所作出的贡献！\n\n以下为本教程编写委员会成员名单（排名依照其参与贡献的章节顺序排列）：\n\nID介绍梦彗業主要编写者Drenal主要编写者冰冷主要编写者asougi85主要编写者MIdCoard主要编写者弱鸡绿毛怪参与编写tdiant参与编写蛋黄酱参与编写Hmm1313133参与编写andylizi审阅zzzz审阅酷车手BB弹审阅叁只小羽审阅叁只仓鼠审阅耗子审阅星空审阅c7w审阅Smokey_Days审阅几何主要编写者火雨参与编写Auange_M夜幕参与编写筒子审阅\n\n\n\n准备工作\n\n搭建我的世界服务器是一项非常复杂的过程，在正式开始搭建我的世界服务器之前，我们需要做一些准备工作。\n\n自身条件\n\n掌握一定程度的汉语，这对阅读本教程极为重要。拥有较强的理解能力，这对阅读本教程极为重要。拥有较强的独立思考能力，这对阅读本教程极为重要。学习什么是搜索引擎，掌握搜索引擎的使用方法。学习什么是提问的智慧。\n\n外部条件\n\n一台能够访问互联网的计算机。SpigotMC 账号，利于查阅一手资料、购买正版付费插件和获取外网社区帮助。MCBBS我的世界中文论坛 账号，利于查阅经本地化后的资料和获取中文社区帮助。一台Windows系统的VPS服务器。\n\n如何购买一台合适的服务器\n\n本教程建议通过可信度较高的第三方交易平台（如淘宝）搜索购买我的世界VPS服务器。\n\n如何选择服务器配置\n\n搭建我的世界服务器对VPS服务器的CPU性能、内存大小、硬盘速度和网络质量均有较高的要求。\n\n在这里，我们仅对搭建我的世界服务器需要着重关注的硬件参数作讲解，以下内容中的结论均以此为预设情景。\n\nCPU\n\nCPU（Central Processing Unit），即中央处理器，是一台计算机的核心部件。\n选择的 CPU 质量的高低对服务器的性能有着至关重要的影响。\n\n一般的，我们对 CPU 性能的概括有着这样一个简单结论： CPU 单核性能 = IPC * 频率\n\n什么是 IPC ？\n\nIPC（Instruction Per Clock），指 CPU 每一时钟周期内所执行指令的多少。\nIPC 代表了一代处理器架构的设计性能，一旦该处理器架构设计完成之后，IPC 值就不会再改变了。\n\n什么是 频率 ？\n\nCPU 的时钟频率，简单说是CPU运算时的工作的频率（1 秒内发生的同步脉冲数）的简称，单位是Hz。\n简单的讲，IPC 是 CPU 在每一时钟周期内能够运算的量的大小；频率是 CPU 工作时 1 秒内的时钟周期数。\n\n让我们举个例子：Intel Xeon X5690 与 Intel Core i9-9900k 同样工作于 3.6Ghz 的频率时，很显然地，Intel Core i9-9900k 的运算效果更好。\n\n因此我们可以发现：在这里，IPC 值的高低起到了决定性的作用，而频率似乎不再高于一切。\n\n所以，当选择服务器的 CPU 时不应该单单执着于高频率。\n\n什么是 核心 ？\n\n在这里，CPU 核心一般指线程。\n\n线程（Thread）是操作系统能够进行运算调度的最小单位。它被包含在进程之中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并行执行不同的任务。\n由于主流的我的世界服务端仅能利用单个线程工作，或对多线程利用的效果不够理想， 所以单个核心的频率在一定程度上决定了我的世界服务器的最大负载量。\n\n我们可以简单的将线程理解为流水线，你的VPS服务器有多少核心（线程）就有多少条流水线。一些软件可以同时在多条流水线同时运行，每条流水线只进行总体的一部分运算，对单条流水线的压力较小。而我的世界服务端仅能在一条流水线上运行，即使你有再多的流水线，其他的流水线也只能干看着唯一一条工作的流水线无能为力。所以单条流水线性能高低便决定了我的世界服务端的性能。\n\n一般的，当你搭建是纯净的、不含模组的服务器时，对单核性能的要求较低；当你搭建是含模组的服务器时，对单核性能的要求较高。\n\n同时，无论纯净与模组服务器，单个核心的负载能力都是有限的，如果你的玩家人数较多，我们建议你采用跨服的方式，让玩家分别进入多个子服务端，这样可以令多个线程同时工作，以实现负载均衡。\n\n内存\n\n内存（Memory）是计算机中重要的部件之一，它是外存储器与CPU进行沟通的桥梁。\n在这里，我们需要关注服务器所采用的内存的三个参数。\n\n规格\n\n常见的 DDR4 即代表了目前内存的第4代规格。\n\n一般的，内存规格代数越大，性能越好。\n\n频率\n\n内存主频和CPU主频一样，用来表示内存的速度，它代表着该内存所能达到的最高工作频率。内存主频是以MHz为单位来计量的。\n常见的 2400 Mhz 即是 DDR4 规格下的一种标准内存频率。\n\n一般的，同等内存规格代数情况下，内存频率越高，性能越好。\n\n容量\n\n内存容量是内存条的关键性参数。内存的容量一般都是2的整次方倍，比如64MB、128MB、256MB等。\n一般的，内存容量越大越能同时运行更多的程序、越有利于系统的运行。\n\n硬盘\n\n硬盘是计算机的外存储设备。\n一般的，我们使用 IOPS 作为衡量硬盘性能的量测方式。\n\n通常来讲，固态硬盘的 IOPS 比机械硬盘更高，但同容量下，固态硬盘的价格更贵。\n\n在我的世界当中，地图包含了大量的以4KB为规格存储的数据，对于这种数据，固态硬盘的读写速度可以达到机械硬盘的百倍以上。所以我们推荐尽可能选择 IOPS 高的固态硬盘来搭建我的世界服务器。\n\n网络\n\n众所周知，我国有三大基础电信业务运营商：中国电信、中国移动和中国联通。 但实际生活中，存在的宽带运营商不止三家。每家运营商所经营的宽带线路质量有所不同。\n\n一般情况下，我们认为我国有四大网络线路：电信、联通、移动和教育网。\n\n通常情况下，只有Google、Amazon和阿里云等大型企业提供的公有云产品所采用的线路质量较高。\n\n对于搭建我的世界服务器来讲，只需接入三线（电信、联通和移动）即可满足绝大部分的需求。\n\n但同时接入三条网络线路即意味着需要同时向三家务运营商购买其运营的网络线路。\n\n一般的，在同等质量、速率的情况下，接入的线路条数越多，价格越高。\n\nBGP\n\nBGP 即边界网关协议，是运行于 TCP 上的一种自治系统的路由协议。\n当我们同时接入三条运营商的网络线路时，我们会分别得到三家务运营商的网络地址。当购买了一个运营商宽带的玩家访问了另一个运营商的网络地址时，则需要通过该玩家的运营商出口到另一个运营商的网络拓扑当中，这个过程会增加网络延迟。例如，电信宽带的玩家通过联通的IP地址进入服务器，延迟就比通过电信的IP地址进入服务器要高。\n\n因此，我们可以简单地将 BGP 理解为可以融合三家运营商线路的技术，购买了不同运营商宽带的玩家只需要通过同一个网络地址访问服务器，都可以获得最低的网络延迟。\n\n一般的，在同等质量、速率的情况下，使用 BGP 技术的网络价格比不使用的更高。\n\n连接到服务器远程桌面\n\n在这里，我们假设你已经购买到了一台 Windows 系统的 VPS 服务器。\n\n你将会从服务器提供商处获得一份大致相同的服务器连接信息，例如：\n\nExampleCloud Ex云计算  后台信息  \n套餐：Ex 开通日期：1970.01.01\n========================\n【远程桌面连接地址】\nBGP多线：ex.example.com:61389\n=========================\n【系统信息】\n系统：WindowsServer 2012R2\n用户名：Administrator\n密码：Example!.\n为了保障您后台的数据安全，减少被别有用心之人利用的可能性，我们建议您更高更高强度的系统密码，以免造成不必要的损失。\n=========================\n【游戏连接地址】\nBGP多线：ex.example.com:端口\n开放端口：61390-61398 九个端口内外对应\n=========================\n请牢记您的VPS的编号：EX-01\n若遇到无法解决的问题或是技术服务的话\n请提供VPS编号，这样我们方便识别您的VPS信息\n========================\n感谢您选择我们，您的支持使我们继续发展下去的动力复制代码\nWindows 系统\n\n在键盘上找到 “Windows 键“ ，同时按下 “Windows 键” + “R 键”。\n\n会弹出 “运行” 界面，在输入框中输入半角英文字符 “mstsc” ，即可弹出 “远程桌面连接”  界面。\n\n在 “远程桌面连接” 界面当中的 “计算机：”后的输入框中输入刚刚得到的服务器连接信息中的 “远程桌面连接地址”。 点击连接，根据提示输入入刚刚得到的服务器连接信息中的 “用户名” 和 “密码” ，即可连接到服务器远程桌面。\n\nMacOS 系统\n\n在 Mac 应用商店安装 Microsoft Remote Desktop 8。\n\n根据软件指引，连接服务器远程桌面。\n\n注意：若按照上述顺序操作过程中，出现任何错误，请利用自身条件中第4条的能力排查错误原因，排除错误。 若仍然无法排除错误，请向你的服务器提供商求助。\n\n安装运行环境\n\n我们假设你已按照之前部分的说明成功进入了服务器远程桌面，那么你会看到一张熟悉的 Windows 系统桌面。\n\n\n\n这时，我们需要在服务器上安装以下软件：\n\nJava SE Development Kit 8\n\nNotepad++\n\nBandiZip 或 7Zip 任选其一\n\nChrome 或 FireFox 任选其一\n\n注意：若安装上述软件出现问题，请查阅该软件的帮助文档，或通过该软件官方求助渠道取得帮助。\n\n注意：如需将自己电脑上的东西上传到服务器上，只需要先连接上远程桌面，再在自己电脑上复制你需要的文件，最后在服务器上右键粘贴即可！\n\n完成\n\n此时，你便已经完成了搭建我的世界服务器所必要的全部准备。\n\n\n第一节 第一次的开服\n\n1.选择一个合适的服务端核心\n\n目前的服务端核心大概有这样几种：\n\n核心名称描述指路官方服务端无法添加插件，安装forge后可以添加modhttps://www.minecraft.net/Bukkit/CraftBukkit似乎是笔者印象中最为原始的插件服务端，并不支持添加MOD，但可以添加Bukkit插件https://www.getbukkit.org/SpigotSpigot对Bukkit进行了优化，不支持添加mod，但支持添加Bukkit插件https://hub.spigotmc.org/jenkins/job/BuildTools/PaperPaper对Spigot进行了优化，不支持添加mod，但支持添加Bukkit插件https://papermc.io/MCPC+/Cauldron可以安装Mod及Bukkit插件，但性能令人捉鸡。最大支持版本1.7.10https://sourceforge.net/projects/cauldron-unofficial/files/old_releases/version_1/KCauldron可以安装Mod及Bukkit插件，但最大支持版本仅到1.7.10https://sourceforge.net/projects/kcauldron/ThermosKC的优化版本，最大支持版本1.7.10https://cyberdynecc.github.io/Thermos/installUraniumKC的优化版本，最大支持版本1.7.10https://www.uraniummc.cc/Catserver国人开发的1.12.2Mod+Bukkit插件服务端https://www.mcbbs.net/thread-840599-1-1.htmlSponge拥有自己的插件体系，在1.8及以上版本能做到Mod与Sponge插件的共同使用https://www.spongepowered.org/Vanilla支持Sponge插件但不支持Mod的轻型核心https://www.spongepowered.org/Glowstone一个完全开源的服务端，支持Bukkit插件。版本为1.12.2，中文介绍 https://www.mcbbs.net/thread-926208-1-1.htmlhttps://www.glowstone.net/\n2.添加启动脚本并运行\n\n这里我们选用 Paper 1.12.2 进行演示。下载地址：https://papermc.io/\n\n 首先在我们的服务器上新建一个文件夹，建议纯英文路径。\n\n 将下载好的paper.jar扔进去。\n\n\n\n 在文件夹内创建一个 start.bat，使用 记事本 或 Notepad++ 打开。\n\n 输入最基本的启动脚本参数：\n\n@ECHO OFF\njava -Xmx1G -Xms1G -jar paper.jar\npause复制代码\n保存并运行。\n\n\n\n找到文件夹中的 eula.txt 文件，将其中的 eula=false 改为 eula=true ;\n\n重新启动 start.bat ;\n 我们发现服务器现在已经可以成功启动了。\n\n\n\n在终端窗口中输入 stop 停止运行。\n 在根目录中找到server.properties文件。\n\n 我们可以根据情况修改几个重要内容。\n\n\n\n3.对服务器进行一些配置\n\n在高级安全 Windows 防火墙开放刚刚在server.properties中填写的端口（也可以选择直接关闭高级安全 Windows 防火墙，但有安全隐患，不推荐。）\n\n打开服务器管理器。\n\n\n找到工具->高级安全 Windows 防火墙->入站规则。\n\n新建规则，选择端口。\n\n下一步。\n\n\nTCP，特定本地端口，输入你想要开放的端口。\n\n下一步。\n\n允许连接。\n\n\n下一步怼到底。\n至此，您应该能通过您服务器的 「IP地址:端口」 来连接您的服务器了。\n\nP.S. 如果您使用的一些大型企业的公有云服务商（如阿里云）要求通过服务商自己的管理系统开放端口，那么仅仅是在入站规则中添加是不够的，这时您需要了解一下您服务商的具体情况。\n4.一些建议\n\n您当然可以选择通过他人整理好的整合包进行开服，但是笔者并不建议这种做法。因为自己从头到尾整合的服务端才是自己最了解的服务端，在自己整合的过程中看着自己的 pulgins 和 mods 文件夹慢慢丰富起来，配置文件中的每一条配置自己都无比熟悉，没有什么比这感觉更好了（我自己是这样想的）。\n\n\n第二节 服务端的结构\n\n前言\n\n根据上节的内容，您应该已经可以成功启动您的服务器了。本节内容将继续带您简单了解服务端的结构。由于 Sponge 服务端不太适合新手使用，故不做介绍，如有需要请自行查看官方教程（含中文）。\n\n服务端结构概览\n\n以下是两种基于 Bukkit 核心的服务端。\n\n我们先来简单看一眼 Paper 的文件夹结构：\n\nPaper\n├─cache //缓存文件夹\n├─logs //存放服务端日志的文件夹\n├─plugins //存放插件的文件夹\n│  └─bStats //一些插件生成的文件夹，一般情况下存放着插件的配置文件\n├─world //世界文件夹\n│  ├─data //世界数据文件夹\n│  │  ├─advancements\n│  │  └─functions\n│  ├─playerdata //存放了玩家数据\n│  └─region\n├─world_nether //地狱世界文件夹\n│  ├─data\n│  │  └─functions\n│  ├─DIM-1\n│  │  └─region\n│  └─playerdata\n└─world_the_end //末地世界文件夹\n    ├─data\n    │  └─functions\n    ├─DIM1\n    │  └─region\n    └─playerdata复制代码\n以及 Catserver 的文件夹结构：\n\nCatserver\n├─config //模组的一些设置\n├─libraries //一些支持库\n├─logs //存放服务端日志的文件夹\n├─mods //存放模组的文件夹\n├─plugins //存放插件的文件夹\n│  └─bStats //存放插件配置的一些文件夹\n└─world //世界文件夹\n    ├─data //世界数据文件夹\n    │  ├─advancements\n    │  └─functions\n    ├─DIM-1 //世界里的世界#滑稽\n    │  ├─data\n    │  │  └─functions\n    │  ├─playerdata\n    │  └─region\n    ├─DIM1\n    │  ├─data\n    │  │  └─functions\n    │  ├─playerdata\n    │  └─region\n    ├─playerdata //玩家数据文件夹\n    └─region复制代码\n根目录下的一些文件\n\nbanned-ips.json\n\n存放了被 ban IP 玩家的 UUID 及游戏名称等相关信息。\n\nbanned-players.json\n\n存放了被 ban ID 玩家的 UUID 及游戏名称等相关信息。\n\nbukkit.yml\n\n由 Bukkit 派生得到的服务端都有的文件。保存着 Bukkit 所提供的最基本的设置选项。\n\ncommands.yml\n\n它提供了一种快速而简单的方法来强制服务器使用Mojang提供的命令（而不是Bukkit中内置的命令）而不产生冲突。\n\neula.txt\n\n在首次开服的时候，我们需要同意 EULA 协议。\n\nhelp.yml\n\n一些插件的帮助信息会出现在这里面，一般不需要进行什么修改。\n\nops.json\n\nop们的游戏昵称 UUID 等信息会在这里出现。\n\npaper.jar\n\n这个叫什么名字无所谓，重要的是他的本质工作就是安安稳稳地当一个服务端核心。\n\npaper.yml\n\n这是 Paper 才有的配置文件，您一般不会在 Bukkit 或 Spigot 中看到它。\n\npermissions.yml\n\n是默认的权限定义YAML文件，在启动时自动生成。它的主要功能是将权限节点组合到一个文件中，以便权限插件（以及使用权限的插件）可以在整个系统中使用它。\n\nserver.properties\n\n服务端的一些基本设置就在里面，如设置端口，设置游戏难度，设置游戏模式（生存、创造等）等。\n\nspigot.yml\n\n这是 Spigot 才有的配置文件，您一般不会在 Bukkit 中看到它。因为 Paper 是由 Spigot 派生而来的服务端，所以在 Paper 的服务端中，它也会出现。\n\nusercache.json\n\n储存着用户部分信息的缓存文件。\n\nversion_history\n\n一些 Minecraft 和服务端核心的版本信息。\n\nwhitelist.json\n\n白名单列表。（如果您在server.properties中开启了白名单，您就可以在该文件中添加和管理谁被允许或不被允许进入服务器。）\n\n至此，大部分的以 Bukkit 为基础的服务器核心服务端的结构已经大致呈现在您眼前。\n\n\n第三节 什么是插件？\n\n插件（Plugin）是遵循 Bukkit 或 Sponge 接口规范编写的 Java 程序。\n插件只能运行在支持 BukkitAPI 或SpongeAPI 的服务端下，一般无法独立运行。因为插件需要调用的服务端的函数和数据。\n\n但也有例外，例如 MyPet 插件单独打开后是可视化宠物编辑器。\n\n插件可以拓展服务端的功能，增强游戏性，给玩家更好的游戏体验。\n\n选取优秀插件，形成完美配合，可以让服务器在众多对手中脱颖而出。\n\n插件类型\n\n插件没有原理上的隔阂，只有功能上的区别，可以根据用途大致分为以下几种类型：\n\n类型描述样例管理提高服务器的可管理性和管理效率SkyPerms、LuckPerms安全维护服务器稳定，阻绝外挂等非法行为NoCheatPlus聊天提供多样化的聊天功能PrefixManager开发作为开发库帮助其他开发者编写插件Vault、ProtocolLib经济通过货币、市场机制，促进物品流通，玩家交流Vault、iEconomy创世1提供更高效的地图修改与维护功能WorldEdit创世2修改世界生成机制，创造不同于原版的世界PlotSquard修复修复服务端或者其他插件的一些特性Bugchestfix娱乐让玩家从插件中发现趣味Fart、Bed War综合拥有不同层面多样化功能的插件Essential信息可以收集服务器信息、帮助服主或玩家更好地获取信息的插件CoreProtect机制增加游戏机制，改善玩家体验，改善游戏耐玩性Citizens网页增加网页端内容WebBanRPG给Minecarft添加角色扮演类游戏要素DungeonsXL、MyHero传送加入多样化的传送功能RandomTeleport其他无法用以上要素概括的其他类型插件Trash\n插件的安装与卸载\n\n安装插件前，请先确定您的服务端版本。一些服务端支持Bukkit插件，而另一些支持Sponge插件。关于服务端和支持插件的对应关系，我们已经在第一单元第一节进行过详细介绍。 在下载插件前，请留意插件所适用的服务器版本，以免安装不兼容的插件，引起报错。\n\nBukkit插件\n\n安装\n\n我们已经在第一单元第二节了解到，Bukkit插件安装在位于根目录的 plugins 文件夹中。① 插件的后缀名为 .jar，如果后缀正确，请直接将插件放到 plugins 目录里，然后启动游戏。  ② 如遇到后缀不正确的插件，请先确认是否为压缩文件，然后用压缩软件将其解压到 plugins 文件夹里面。运行服务器\n\n卸载\n\n保存地图后，关闭服务器将 plugins 文件夹内的插件删除如果想连同插件数据一起删除，请删除 /plugins/插件名 文件夹。\n\n配置文件\n\nBukkit插件的配置文件被保存在 /plugins/插件名 文件夹中。  \n\nSponge插件\n\n安装\n\n默认情况下，Sponge插件安装在位于根目录的 mods 文件夹中。但Sponge提供了其他更多的可选插件位置，详情可以阅读Sponge官方中文文档请直接将插件放到 mods 目录里，然后启动游戏。运行服务器\n\n卸载\n\n关闭服务器将 mods 文件夹内的插件删除\n\n配置文件\n\n默认情况下，Sponge插件的配置文件被保存在根目录的 config 文件夹中，但实际情况有时并非如此。必要时请查阅对应插件的文档来获得帮助。\n\n配置文件的编辑\n\n配置文件没有固定的文件名，但是Bukkit插件配置文件一般为YAML格式的文本文档，后缀名为 .yml 。Sponge插件配置文件一般为HOCON或YAML格式的文本文档，后缀名为.conf\n配置文件需要用准备工作中已经安装好的NotePad++进行修改，以免出现各种问题。\n关于如何编辑YAML文件，我们将在第二单元第二节进行更细致的讲解。\n关于如何编辑HOCON文件，请查阅Sponge官方中文文档中的Hocon简介。\n\n\n第四节 什么是模组？\n\n模组（Mod）是遵循 Forge、Fabric 或 LiteLoader 接口规范编写的java程序。\n模组可以为您的服务器添加物品、方块、生物等新内容，改变原版 Minecraft 的游戏机制，也可以改善画面，优化性能。海量的模组资源极大地增加了 Minecraft 的生命力。  \n\n在服务器中安装模组可以提高服务器的可玩性，但模组本身会降低服务器性能，占用内存，请服主权衡利弊。\n\n模组类型\n\n模组可以大致分为以下几种性质，一个模组往往会同时拥有多种性质。\n\n性质描述样例创世增加新的生态环境，生物，矿石，方块，建筑乃至新世界星系科技增加近现代科技元素，如锅炉机器、交通、能源、农学、基因学等工业2魔法增加玄学游戏元素神秘时代4仓储增加新的储存容器，提高物品储存能力储存抽屉工匠增加新的工具、盔甲、武器更多武器美食增加食材与菜谱丰收工艺红石改良红石电路，增加电路元件红石力量2前置作为其他模组的前置库，简化模组开发难度ValkyrieLibRPG增加角色扮演或冒险类游戏元素暮色森林信息增加玩家可以获取的信息，例如查询合成表，小地图，血条等Hwyla改良它的目的就是提供更人性化的游戏体验！例如增加美观的家具和装饰物，死亡不掉落，信息获取，屏蔽弹窗，诸如此类都可以纳入其中家具优化优化内存和帧数FoamFix\n模组的安装与卸载\n\n本小节着重讲述 Forge 模组。关于 Fabric 与 LiteLoaer 模组的安装请查阅其他资料。\n\n在阅读这一小节前，请仔细阅读第一单元第一节中有关服务器核心的内容，检查您的服务器是否支持 Mod 。\n\n接着，请在MCBBS寻找模组时，特别关注简介部分的<u>与多人游戏兼容性</u>一项。\n\n一般来说， SSP 模组不需要在服务端安装，而 SSP/SMP 模组需要在服务端和客户端一起安装。    \n\n最后，请留意模组所适用的 Minecraft 版本号，以免安装不兼容的模组。\n\n安装\n\n我们已经在第一单元第二节了解到，模组安装在位于根目录的 mods 文件夹中。确认模组的后缀名为 .jar，然后直接将模组放到 mods 文件夹中运行服务器\n\n卸载\n\n卸载会导致服务器中该模组所有的物品、方块、生物全部消失，请谨慎处理。\n\n确保数据已经保存完毕的情况下，关闭服务器将 mods 文件夹内的模组删除启动服务器服务器会输出一串错误，随后停顿。这时请输入 /fml confirm (请注意必须连斜杠/一起输入)服务器正常运行\n\n\n\n第五节 什么是世界？\n\n服务端的世界文件都存储在了根目录的对应文件夹下。\n\nMinecraft 原版目前有三个世界，分别是主世界world，地狱DIM-1，末地DIM1。这些世界的文件对应的保存在了服务端根目录的world、world_nether与world_the_end文件夹中。\n每个世界的方块都按照X和Z每16*16为一个单位，被分成了一个一个的区块。服务器的世界是按照区块为单位储存并读取使用的。\n\n在这里以主世界为例，说明世界是怎样保存的。 打开服务端根目录的world文件夹：\n\nadvancements文件夹: 储存着玩家的成就数据，每个玩家对应一个文件，老版本中文件名是玩家名，新版本按照UUID储存。playerdata文件夹: 储存着玩家的数据信息，例如血量、经验值等数据。poi文件夹: 存储世界内与村民有关的数据。（1.14+）region文件夹: 储存区块信息。stats文件夹: 储存玩家在此世界游玩时的统计信息。level.dat文件: 储存该世界的全局的主干信息。data文件夹: 其中的villages.dat文件储存的是村民的数据信息, idcounts.dat和map_<XXX>.dat储存的是玩家合成的地图有关的数据.\n\n其他世界的文件夹大同小异。\n\n如何使用多世界插件\n\n在这里我们以常见的 Multiverse-Core 插件为例：\n\n指令\n\n这里简单的列举几个常见指令：\n\n命令说明/mv list列出服务器内所有的世界/mv reload重新加载配置文件/mv info [世界名] [页码]列出这个世界的所有信息/mv create [世界名] [环境类型]创建世界/mv clone [复制出的世界名] [被复制的世界名]克隆一个世界/mv import [世界名] [环境类型]导入一个世界/mv unload [世界名]卸载某一世界 */mv load [世界名]加载某一世界 */mv remove [世界名]移除某一世界 */mv delete [世界名]彻底删除某一世界/mv regen [世界名]重新生成某一世界(清空并重新生成)/mv setspawn设置出生点/mv tp [玩家名] [世界名]将该玩家传送至某一世界/mv who [世界名]查看某一世界都有哪些玩家\n注: 卸载指的是不删除该世界的数据文件，仅仅把该世界从内存上移除。\n注2: 如果加载的是服务器原来没有的世界，加载某一世界前需要导入该世界（import）。\n注3: 移除指的是世界的数据文件保留，但是在多世界插件的配置信息中将会删除该世界。被移除的世界必须通过导入才能重新被服务器加载。\n\n配置\n\n关于如何编辑这类.yml格式的配置文件，我们将在第二单元第二节进行更细致的讲解。 \n\nconfig.yml MultiverseCore 插件全局配置\n\nmultiverse-configuration:\n        ==: com.onarandombox.MultiverseCore.MultiverseCoreConfiguration\n        enforceaccess: true\n        # 显示聊天世界前缀\n        prefixchat: true\n        # 设置聊天世界前缀 %world%代表世界名, %chat%代表玩家聊天内容\n        prefixchatformat: '[%world%]%chat%'\n        # 是否开启异步聊天(不建议修改)\n        useasyncchat: true\n        teleportintercept: true\n        # 是否锁定出生世界\n        firstspawnoverride: true\n        displaypermerrors: true\n        globaldebug: 0\n        silentstart: true\n        # 消息冷却时间\n        messagecooldown: 5000\n        # 这！个！不！要！改！\n        version: 2.6\n        # 默认的玩家出生世界\n        firstspawnworld: world\n        # 玩家传送的冷却时间（毫秒）\n        teleportcooldown: 1000\n        defaultportalsearch: false\n        portalsearchradius: 128复制代码\nworlds.yml 单一世界配置 \n\n    world:\n        ==: MVWorld\n        hidden: false\n        # 该世界的前缀\n        alias: ''\n        # 前缀的颜色 (可以设置的值: AQUA, BLACK, BLUE, DARKAQUA, DARKBLUE, DARKGRAY, DARKGREEN,DARKPURPLE, DARKRED, GOLD, GRAY, GREEN, LIGHTPURPLE, RED, YELLOW, WHITE)\n        color: WHITE\n        # 样式 (可以设置的值: NORMAL 正常, BOLD 加粗, STRIKETHROUGH 删除线, UNDERLINE 下划线 , ITALIC 斜体)\n        style: NORMAL\n        # 是否允许PVP\n        pvp: false\n        scale: 1.0\n        # 在该世界死亡后指定复活世界(会复活在这个世界的出生点, 留空代表在本世界出生点复活)\n        respawnWorld: ''\n        # 是否允许天气变化\n        allowWeather: true\n        # 地图难度 (可以设置的值: PEACEFUL 和平, EASY 简单, NORMAL 中等, HARD 难)\n        difficulty: PEACEFUL\n        spawning:\n            ==: MVSpawnSettings\n        animals:\n            ==: MVSpawnSubSettings\n            # 是否允许生成动物\n            spawn: true\n            # 生成动物的速率\n            spawnrate: -1\n            exceptions: []\n            #以下同理, 是设置怪物\n        monsters:\n            ==: MVSpawnSubSettings\n            spawn: true\n            spawnrate: -1\n            exceptions: []\n        entryfee:\n            ==: MVEntryFee\n            # 进入该世界需要支付的金额\n            amount: 0.0\n            # 货币种类(就是物品ID, -1代表从经济插件扣钱)\n            currency: -1\n        hunger: true\n        autoHeal: true\n        adjustSpawn: true\n        portalForm: ALL\n        # 玩家默认游戏模式\n        gameMode: SURVIVAL\n        keepSpawnInMemory: false\n        spawnLocation:\n            ==: MVSpawnLocation\n            x: -221.0\n            y: 63.0\n            z: 219.0\n            yaw: 0.0\n        autoLoad: true\n        bedRespawn: false\n        worldBlacklist: []\n        # 世界类型(可以设置的值: NETHER, END, NORMAL)\n        environment: NORMAL\n        # 种子\n        seed: '4337274906620320171'\n        generator: 'null'\n        playerLimit: -1\n        # 是否默认允许飞行\n        allowFlight: false复制代码\n权限\n\n这里简单的列举几个 Multiverse-Core 插件常见的权限：\n\n权限解释multiverse.help输入/mv获得帮助信息multiverse.access.name玩家进入世界multiverse.exempt.name玩家免费进入世界mv.bypass.gamemode.name玩家的游戏模式不改变地进入世界multiverse.teleport.self.name玩家传送自己到另一个世界multiverse.teleport.other.name玩家带着其他玩家一起传送到另一个世界multiverse.core.create玩家创建世界multiverse.core.import玩家导入世界multiverse.core.modify玩家修改世界multiverse.core.modify.add玩家使用修改世界中添加功能multiverse.core.modify.clear玩家使用修改世界中清除功能multiverse.core.modify.modify玩家使用修改世界中修改功能multiverse.core.modify.remove玩家使用修改世界中删除功能multiverse.core.modify.set玩家使用修改世界中设置功能multiverse.core.reload重新加载配置文件指令multiverse.core.delete删除世界multiverse.core.unload卸载世界\n导入地图\n\n先把地图文件夹放在服务器的根目录下，在后台输入  \n\n/mv import [地图名(跟文件夹名相同)] normal复制代码\n地图即导入完毕. OP可以输入指令进入该世界:  \n\n/mv tp [地图名]复制代码\n\n什么是日志？\n\n服务器日志（server log）是一个或多个由服务器自动创建和维护的日志文件，其中包含其所执行活动的列表。\n服务器日志的典型例子是网页服务器的日志，其中包含页面请求的历史记录。W3C维护有一个网页服务器日志文件的标准格式——通用日志格式，但亦有其他专有格式存在。近年来的日志文件通常将内容附加到文件的结尾。添加的信息有关请求，包括客户端IP地址、请求日期/时间、请求的网页、HTTP代码、提供的字节数、用户代理、引用地址等。这些数据可能写入在一个文件中，也可能分隔成不同的日志，如访问日志、错误日志、引荐者日志等。但是，服务器日志通常不会收集特定用户的信息。\n———中文Wiki百科  志，記誌也。\n———《说文解字》  \n日志，相当于服务器的日记，事无巨细地写下服务器的一切信息，并按照等级予以分类。\n\n查看日志的方法\n\n开服后，后台输出的全部信息，就是这一次开服的日志。你可以用滚轮上下翻阅。时间太久的日志，在后台可能无法全部显示。这时请打开服务器下的logs文件夹，就可以看到以时间命名的 gz压缩文件 。用压缩软件解压对应时间的压缩文件即可进行阅读。\n\n注意：服务器最新的日志被记录在logs/latest.log文件中，还没有被压缩。\n\n日志的组成部分\n\n两种不同形式的日志\n\n第一种，最左侧为日志输出时间，斜杠左侧是输出该日志的线程，一般为服务器主线程，即 Server thread，右侧为该日志的级别，最右侧为日志具体内容。\n当某条日志不是由主线程输出的时候，服务器很有可能出现了一些问题，请仔    细阅读这些日志。\n\n[16:36:38] [Server thread/INFO]: Starting Minecraft server on localhost:25565\n[16:36:38] [Server thread/INFO]: Using default channel type\n[16:36:40] [Server thread/ERROR]: Could not load 'plugins\\VIP_1.0.0.jar' in folder 'plugins'复制代码\n第二种，最左侧为时间，右侧为该日志的级别，分级如上，最右侧为日志具体内容。\n\n[17:36:48 INFO]: Starting Minecraft server on localhost:25565\n[17:36:48 ERROR]: Error occurred while enabling Citizens v2.0.16-SNAPSHOT (build 1267) (Is it up to date?)复制代码\n输出时间\n\n日志发出时的系统时间\n\n日志级别\n\n服务器的日志级别\n\n级别程度具体内容INFO一般信息聊天内容/玩家状态/玩家指令/插件信息/……WARN警告信息对于一些潜在的风险进行警告，有可能发展为报错ERROR报错信息服务器出现错误后输出的信息\n线程\n\n正常情况下，日志信息都由服务器主线程输出。当其他线程输出信息的时候，一般有以下两种情况。\n\n部分插件利用多线程优化自身，例如一些插件把更新模块放到独立的线程中。主线程卡顿时间过长，检测线程关闭服务器并保存地图和玩家信息。\n\n具体内容\n\n一般信息 ( INFO )\n聊天信息 : 包括普通聊天，/say , /me 以及私聊内容玩家状态 : 玩家出入游戏、死亡以及其他状态的变化玩家指令 : 玩家输入的每一个指令都会被记录插件信息 : 许多插件都会在后台输出有一定意义的信息服务器信息 : 初始化服务端、读取配置、载入世界、启用插件等操作\n\n警告信息 ( WARN )\n\n插件版本有不兼容风险、配置文件或数据出现问题，暂时可控，可能发展为报错，例如:\n\n[16:11:01] [Server thread/WARN]: [QuickShop] +=========================================\n[16:11:01] [Server thread/WARN]: [QuickShop] | 警告: 启动虚拟物品失败 使用原版悬浮物品...\n[16:11:01] [Server thread/WARN]: [QuickShop] +=========================================复制代码\n报错信息 ( ERROR )\n\n报错是服务器运行中所遇到的异常情况，它可以来源于服务端本身，也可以来自插件和模组等组件。\n\n这些情况有可能破坏服务器的正常运行，导致玩家体验恶化，信息损坏，甚至服务器崩溃。\n\n关于这类信息的解决方案，我们将在第二单元第六节进行更细致的讲解。\n\n\n第一节 认识启动脚本\n\n  Minecraft开服离不开启动脚本（不建议使用开服器）(作者使用jdk1.8.0_171 x64测试)\n\nbash\n@ECHO OFF\njava -Xmx1G -Xms1G -jar paper.jar\npause复制代码\n这就是我们在第一章第一节所使用的启动脚本，我们会以这个为基础进行修改与优化。本部分着重讲解JVM优化\n\n启动参数分为3类：\n\n标准参数（-）：所有的JVM实现都必须实现这些参数的功能，而且向后兼容；非标准参数（-X）：默认jvm实现这些参数的功能，但是并不保证所有jvm实现都满足，且不保证向后兼容；非Stable参数（-XX）：此类参数各个jvm实现会有所不同，将来可能会随时取消，需要慎重使用；\n\n例：上面的\"-jar\"就属于标准参数\n\n1. 标准参数\n\n参数说明-jar执行jar文件-client设置jvm使用client模式，特点是启动速度比较快，但运行时性能和内存管理效率不高-server设置jvm使用server模式，特点是启动速度比较慢，但运行时性能和内存管理效率高，适用于生产环境。在64位的jdk环境下将默认启用该模式\n如果想了解更多的参数可以去翻阅官方文档：官方文档\n\n2. 内存设置\n\n参数说明-Xmx[size]设置最大内存大小，默认为物理内存的1/4或者1G，需大于2M，可以指定单位k(K),m(M),g(G) 下同-Xms[size]设置初始化内存大小，默认为物理内存的1/64，需大于1M\n这样我们的启动参数就变成了(请根据自己的实际情况进行修改)\n\n@ECHO OFF\njava -server -Xmx8g -Xms4g -jar spigot-1.8.8-R0.1-SNAPSHOT-latest.jar\npause复制代码\n如果开的是Mod服（Bukkit+Forge 或 Sponge）建议将-Xms与-Xmx的大小设置相同\n\n3.行为参数\n\n参数说明-XX:+AggressiveOpts加快编译-XX:-DisableExplicitGC禁止调用System.gc()，但jvm的gc仍然有效-XX:+UseFastAccessorMethods原始类型的快速优化\n<span id=\"jump\"></span>\n\n配置好的脚本\n\n注意：-Xmx8g -Xms8g 等请自行根据实际服务器配置进行设置\n\n不要忘记改最后的“核心名.jar”！ 不要忘记改最后的“核心名.jar”！ 不要忘记改最后的“核心名.jar”！\n\n最后我们的启动参数就变成了这样：\n\n\n纯净服推荐脚本\n\n@ECHO OFF\njava -server -Xmx8g -Xms4g -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -XX:-DisableExplicitGC -jar 核心名.jar\npause复制代码\n根据我这个配置算出的CMSInitiatingOccupancyFraction值应小于或等于77所以这里我直接设置了70，大部分服务器可以直接设置70不需要改\n\nMOD服建议使用下面的脚本，将-Xms与-Xmx的大小设置相同\n\n@ECHO OFF\njava -server -Xmx8g -Xms8g -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -XX:-DisableExplicitGC -jar 核心名.jar\npause复制代码\n如果你的jdk版本较高java 8+建议使用以下脚本\n\n@ECHO OFF\njava -server -Xms8g -Xmx8g -XX:+UseG1GC -XX:MaxGCPauseMillis=400 -XX:G1ReservePercent=15 -XX:ParallelGCThreads=4 -XX:ConcGCThreads=1 -XX:InitiatingHeapOccupancyPercent=40 -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -jar 核心名.jar\npause复制代码\n如何让你的服务器stop之后自动开服呢？\n\n只需要在脚本中在 java -server …… 的上一行加一个 :开头的标签例如:start在java后加cls清屏（可加可不加） 最后goto 刚才设置的标签例如\n\n最后脚本如下\n\n@ECHO OFF\n:start\njava -server -Xmx8g -Xms4g -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -jar 核心名.jar\ncls\ngoto start\npause复制代码\n本文部分内容引用自：https://www.oracle.com/technetwork/java/hotspotfaq-138619.html\n\n\n第二节 认识YAML语法\n\n本节部分内容引用自 tdiant 编写的 BukkitDevelopmentNote 。\n在配置文件中，服主可以设置插件/模组的功能。\n同时，插件/模组的开发者有时也会把数据存储在配置文件中。\n\n本文以 Essentials 插件举例。\n\n我如何找到配置文件？\n\n通常，配置文件与插件生成在一起（部分小型插件没有配置文件）你可以在/plugins/插件名/中找到它们。  譬如 Essentials 的配置文件就在/plugins/Essentials/中。\n\n什么是配置文件？\n\n一些简单的插件不带有配置文件。当插件加载失败时（如版本不对），也不会生成配置文件。\n\n譬如你打开文件夹/plugins/Essentials/后，看到了一堆文件。\n\n这些文件中，只有结尾是.yml的文件，才是我们讨论的配置文件。\n\n其他的不是由.yml结尾的文件，因插件而异，那些文件就不在今天讨论范围内了，如有需要请查阅插件官方文档。  \n\n我该如何打开 .yml 这样的配置文件?\n\n我们在开始前所做的准备工作中，安装了 Notepad++ 软件。\n\n现在让我们右键.yml文件，单击\"Edit with Notepad++\"，就可以开始修改配置文件了！\n\n对于配置文件来说，语法是很重要的，否则一定会导致插件报错。\n\n语法一: 注释\n\n譬如你打开 Essentials 后，开篇就有一堆注释：\n\n# 文本大部分引自 XXXXXX XX\"  \n# 文本前带有\"#\"的都是阐释说明的内容,不会对格式产生影响.\"  \n# 如果你想要在该文件内添加非单字节内容,请保存为UTF-8格式,而不是ANSI,否则可能出现乱码  \n# 如果加载插件时出现了问题(例如:ERROR:null),请注意:  \n#   - 没有tab这样的间隔:YAML文件仅支持普通的空格  \n#   - 正确的\"缩书写\"(译注:不懂的去百度一下Indent):YAML文件的层次结构完全依赖于首行缩排.  \n#   - 如果文中需要使用单引号 ' , 请同时使用两个单引号, 例如：''  \n#   - 带有符号的文本被用单引号或双引号隔绝开来.  \n#   - 如果一个冒号后面有文本,则冒号与文本间必须有一个空格.  \n#   - 有些设置只能设置\"true\"或\"false\"  \n#   - 你保存该文本为UTF-8格式,而不是其他default,ANSI等格式.\"  复制代码\n这些以 \"#\" 开头的就是注释了，注释是给插件用户看的，让用户获得更好的插件体验，但并非所有插件作者都会在配置文件中写注释。\n\n如果你觉得注释碍眼可以把注释删了，不会对插件功能造成影响。\n\n同时你也可以自己写注释，但注释不推荐与配置文件内容同行，如:\n\nheal-cooldown: 60 #我是与配置节点同行的注释复制代码\n语法二：节点\n\n你可以在配置文件中看到譬如:\n\nABCABC: XXXXXXX  复制代码\n注意：这里的冒号是 英 文 半 角 状 态 下的冒号，是 : 而不是：，仔细看看区别，极其容易忽略。\n\n注意：这里的冒号后面有一个空格，极其容易忽略。\n\n其中ABCABC称为节点名，读作\"节点ABCABC\"\n而XXXXXXX就是节点下的内容了  \n\n内容的语法\n\n你可以填以下内容：\n\n汉字\n\n譬如:  \n\nwelcome: \"欢迎来到服务器\"  复制代码\n注意：汉字要用 英 文 半 角 状 态 下的引号扩起来，是 \" 而不是 “，极其容易忽略。\n\n数字\n\n譬如：\n\nplayer-health: 20  复制代码\n注意：当此处只能填数字时，你填了非数字内容，插件就会报错，譬如：\n\n此处 player-health 的意思是玩家的血量，插件作者本意让你填写一个数字，你却：\n\nplayer-health: 玩家血量  复制代码\n此时如果插件作者没有做防护措施，插件就会崩溃报错。\n\n\"true\"或 \"false\"\n\n\"true\"代表开启，\"false\"代表关闭，譬如:  \n\n# 如果你想用其他的插件来设置玩家名字,将其改为\"false\"\nchange-displayname: true  复制代码\n这里只能填写true或false，若填写了其他的内容，而插件作者未做防护措施，插件就会崩溃报错。\n\n列\n\n譬如:\n\n# 这些命令是当开启了/socialspy命令时可以看到的玩家私聊     \n# 你可以添加一些来自其他插件的命令    \n# 或者移除一些你不想看到的私聊命令    \nsocialspy-commands:  \n  - msg      \n  - w    \n  - r  \n  - mail  \n  - m  \n  - t  \n  - whisper  \n  - emsg  \n  - tell  \n  - er  \n  - reply  \n  - ereply  \n  - email  \n  - action  \n  - describe  \n  - eme  \n  - eaction  \n  - edescribe  \n  - etell    \n  - ewhisper  \n  - pm    复制代码\n这样以'-'引起的一些字符，可以写很多行  \n\n注意: '-' 前面 有 两 个 空 格，  '-' 后面 有 一 个 空  格。\n\n再一个节点\n\n禁止套娃\n譬如：\n\n# /kit快速工具命令,注意:所有物品后面必须写明数量!  \n# 所有的kit物品最好容易获得, 在/costs中价格较低,权限要求较低.  \n# 格式: - 物品ID[:数据值/耐久] 数量 [附魔:附魔等级]..[itemmeta:value]...  \n# 查看更多信息,请访问 http://wiki.ess3.net/wiki/Item_Meta  \n# 延迟时间(delay)以秒为单位.  \n# 查看更多信息,请访问 http://wiki.ess3.net/wiki/Kits  \nkits:  \n  tools:  \n    delay: 10  \n    items:  \n      - 272 1  \n      - 273 1  \n      - 274 1  \n      - 275 1  复制代码\n可见，在节点kits下，又写了一个tools节点，而tools节点下，又有一个delay与items节点\n\n我们称它们为：子节点tools、子节点delay、子节点items\n\n其中delay节点是只能写 数字，items节点是只能写 列，而且这个列在这个特定的插件里是有特定的格式要求的。\n\n注意：每个子节点前面都要有两 个 空 格。  \n\n那问题就来了，为什么items前面没有两个空格呢？  \n\n这是因为delay与items都是tools的子节点，如果:\n\nkits:\n  tools:\n    delay: 10\n      items:\n        - 272 1\n        - 273 1\n        - 274 1\n        - 275 1复制代码\n这样子的意思就是tools是kits的子节点，delay是tools的子节点，items是delay的子节点，与原意完全不相符。\n\n注意：以上几个语法只是插件配置文件中普遍存在的，而不同的插件对配置文件的要求也是不同的，但是大体都可以分为以上几点。  \n\n注意：一定要按照插件原作者的要求写配置文件！  \n\n最后，改完配置文件别忘了点击左上角的保存按钮，再在服务器中重载配置文件！  \n\n乱码\n\n指的是由于文本编辑器打开配置文件时，使用了不相应字符集而造成部分或所有字符无法被阅读的一系列字符。\n在 NotePad++ 界面上方的\"编码\"处，点击转为 ANSI 或 UTF-8无BOM 编码，然后再保存。\n\n一般情况下，Windows 系统的编码为ANSI，而Linux系统为UTF-8无BOM，如果无法确定，不妨两个都试一下。\n\n注意：1.9+的服务端统一使用UTF-8无BOM编码！\n\n\n第三节 什么是权限？\n\n权限的基本概念\n\n在这之前我们需要了解几个概念\n\n权限 - 在CraftBukkit服务端中，给予用户，可使玩家获得做某一动作的允许。\n\n节点 - 权限的单元，一个节点就是一条权限，可以使用权限系统插件给予各个用户，例如essentials.tp就是一条权限节点。\n\n父节点 - 权限节点构成的前半部分，一般是插件名称，例如essentials.god权限节点的essentials。\n\n注册的权限/附属的命令 - 使用摘要权限(通配符*)时能获得的所有附属的权限。\n\n继承 - Group Manager中，继承就是子用户组可以使用从父用户组继承的各种属性。\n\n保护插件（AntiGrief） - 用于禁止爆炸，某些方块的建筑和破坏的插件，例如EssentialsProtect。\n\n映射 - 世界镜像中，一个世界使用另一个世界的配置文件，称为映射那一个世界。\n\n映射到 - 世界镜像中，一个世界映射到另一个世界表示那个世界使用这个世界的配置。\n\n父世界 - 被映射的世界。\n\n子世界 - 映射其它世界的世界。\n\n手动 - 指直接使用文本编辑软件修改配置YAML文件，而不是在游戏中或控制台使用命令。\n权限就是可以让服主和管理组能有效地管理用户的权限，能够准确地控制一个玩家能干什么、不能干什么，权限的配置并不是很困难\n\n我的世界服务器 Bukkit 系主要的权限插件有几个：\n\nPermissionsEXPowerfulPermsbPermissionsGroupManagerXzPermissionsLuckPerms\n\n服务器基本的权限主要分为以下几种,并且以下的几种权限组使用了组继承，从最上方的新人(Newbie)用户组开始，一直到最下方的服主(Owner)\n\n组名说明Newbie(新人)Newbie用户组包括最基础的权限节点，应该给予所有新加入玩家在注册时保证安全的权限Player(玩家)Player用户组包括了所有玩家可以使用的权限。一般包含经济、基础传送，和其他的基础指令Moderator(协管员)接下来的两个用户组可以基于你的喜好合并或更深入地分开。典型地，最低级的协管员等级拥有踢出玩家、监禁玩家的权限，高级的协管员可以获得封禁玩家IP地址、隐身、生成创造模式物品的允许。Admin(管理员) / Owner(服主)服主用户组一般允许使用所有权限/命令，且通常是唯一一个拥有控制插件、规定用户组、关闭/重启服务器命令的用户组。\n当然你也可以自定义一个例如VIP的权限组，拥有比普通用户更多的权限。\n\n玩家的权限：\n\n\n\n更多详细建议查阅 Minecraft 插件百科\n\n\n第三节 数据库的使用\n\n作者环境：\n\nAuthMe配置MySQL\n\nWindows10 1809 64-bit\n\nMinecraft服务器核心：spigot-1.8.8-R0.1-SNAPSHOT-latest\n\n服务器插件：AuthMe-5.4.0\nMySQL安装\n\nWindows Server 2019 数据中心版 64位简体中文\n\n什么是数据库\n\n数据库是“按照数据结构来组织、存储和管理数据的仓库”。是一个长期存储在计算机内的、有组织 的、有共享的、统一管理的数据集合。\n\n数据库是以一定方式储存在一起、能与多个用户共享、具有尽可能小的冗余度、与应用程序彼此独立的数据集合，可视为电子化的文件柜——存储电子文件的处所，用户可以对文件中的数据进行新增、查询、更新、删除等操作。\n用字面意思解释就是存放数据的库。\n\n数据库的两种分类\n\n早期比较流行的数据库模型有三种，分别为层次式数据库、网络式数据库和关系型数据库。而在当今的互联网中，最常用的数据库模型主要是两种，即关系型数据库和非关系型数据库。\n\n关系型数据库\n\n关系型数据库最典型的数据结构是表，由二维表及其之间的联系所组成的一个数据组织\n\n优点：\n\n易于维护：都是使用表结构，格式一致；使用方便：SQL语言通用，可用于复杂查询；复杂操作：支持SQL，可用于一个表以及多个表之间非常复杂的查询。\n\n缺点：\n\n固定的表结构，灵活度稍欠高并发读写需求，传统关系型数据库来说，硬盘I/O是一个很大的瓶颈\n\n非关系型数据库\n\n非关系型数据库严格上不是一种数据库，应该是一种数据结构化存储方法的集合，可以是文档或者键值对等。\n\n优点：\n\n格式灵活：存储数据的格式可以是key,value形式、文档形式、图片形式等等，文档形式、图片形式等等，使用灵活，应用场景广泛，而关系型数据库则只支持基础类型速度快：nosql可以使用硬盘或内存作为载体，而关系型数据库只能使用硬盘高扩展性\n\n缺点：\n\n不提供sql支持，学习和使用成本较高；无事务处理；数据结构相对复杂，复杂查询方面稍欠。\n\n非关系型数据库的分类和比较：\n\n文档型key-value型列式数据库图形数据库\n\n这里我做了一张数据库分类的图\n\n\n\nAuthMe配置MySQL\n\n需要先运行一次服务器让AuthMe生成默认的配置文件，如果出现下面这样的字样说明AuthMe成功的加载了\n\n\n\n在这之前请确认您的MySQL服务器是否开启，使用MySQL工具能否访问\n\n1.使用MySQL客户端工具，或者直接使用MySQL控制台新建一个数据库(由于Minecraft的MySQL数据库基本是本地使用，所以无需建多个MySQL用户，这里我直接使用root用户来建库)\n\n2.选择一款MySQL客户端工具，这里推荐两款PhpMyAdmin(需要有web环境)、Navicat Premium(Mysql) \n\n因为看本教程的大部分都是萌新，所以我这里使用最简单的Navicat Premium(Mysql)\n\n官方下载地址:\n\nhttps://www.navicat.com.cn/download/navicat-premium\n3.打开Navicat Premium(Mysql)点击连接-MySQL，填入自己的服务器信息\n\n   \n\n   连接名自己可以随便填写，如果是使用其他服务器上的MySQL需要使你现在客户端IP拥有你数据库用户的访问权限，如果不会请看下面安装过程。如果是本地的MySQL服务器可以直接使用localhost或者127.0.0.1，默认端口3306\n\n   \n\n4.当你添加完连接后，双击左侧你的连接名就会连接你的MySQL数据库，就会列出现在连接的用户中拥有的数据库（我这里之前建过一些数据库）\n\n   \n\n5.右键你的连接名 - 新建数据库 - 随便输入一个数据库名\n\n   \n\n   在这里字符集推荐使用utf8mb4,排列顺序使用utf8mb4_unicode_ci\n\n   \n\n   点击确定之后我们就能在左侧看到我们新建立的数据库了\n\n   \n\n6.修改Minecraft服务器AuthMe插件配置文件“plugins/AuthMe/config.yml”文件\n\n   我们只用得到配置文件的前21行\n\n    DataSource:\n    # 你想使用哪种数据库来储存\n    # 数据库类型: SQLITE MYSQL\n    backend: 'SQLITE'\n    # 是否启用数据库缓存系统，在BungeeCord群服中或者使用网站集成时应禁用。\n    caching: true\n    # 数据库地址\n    mySQLHost: '127.0.0.1'\n    # 数据库端口\n    mySQLPort: '3306'\n    # 是否使用SSL连接数据库\n    mySQLUseSSL: true\n    # 数据库用户名\n    mySQLUsername: 'authme'\n    # 数据库密码\n    mySQLPassword: '12345'\n    # 数据库名\n    mySQLDatabase: 'authme'\n    # 数据表名\n    mySQLTablename: 'authme'复制代码\n首先我们需要把backend的值改为MYSQL使用MySQL作为存储数据库如果你想开一个群服或者和你的网站或者论坛对接数据请将caching改为false，如果没有以上两种需求可以不做调整将mySQLHost修改为你MySQL数据库的地址，如果在本地搭建的不需要做调整将mySQLPort设置为你MySQL的数据库端口，MySQL默认端口3306mySQLUseSSL建议使用true值，不做调整mySQLUsername修改为你刚才创建数据库的那个用户名，我这里是\"root\"mySQLPassword数据库密码，不做解释mySQLDatabase修改为刚才你创建的数据库名，根据我上面图片的设置，这里我应该设置成\"minecraft_server_1\"，这里仅做为示例，请各位根据实际情况自行修改mySQLTablename存放数据的表名，可自定义修改，也可不做修改\n\n示例：\n\n# 你想使用哪种数据库来储存\n# 数据库类型: SQLITE MYSQL\nbackend: 'MYSQL'\n# 是否启用数据库缓存系统，在BungeeCord群服中或者使用网站集成时应禁用。\ncaching: true\n# 数据库地址\nmySQLHost: '127.0.0.1'\n# 数据库端口\nmySQLPort: '3306'\n# 是否使用SSL连接数据库\nmySQLUseSSL: true\n# 数据库用户名\nmySQLUsername: 'root'\n# 数据库密码\nmySQLPassword: '123456'\n# 数据库名\nmySQLDatabase: 'minecraft_server_1'\n# 数据表名\nmySQLTablename: 'authme'复制代码\n\n7.启动Minecraft服务器，AuthMe将自动根据设置自动创建数据表\n\n   出现以下字样就说明AuthMe成功使用MySQL作为数据库了\n\n   \n\n   这时使用客户端工具就能看到AuthMe创建的数据表了\n\n   \n\n至此，AuthMe使用MySQL作为数据库的配置就到此结束了\n\nMySQL的安装\n\n写在前面\n\n安装版可以直接无脑Next，这里就不讲了，下面是讲解免安装版的安装方法\n\n免安装版第一次配置好，一个文件夹放到哪个服务器或者电脑上都能直接用\n\n当你成功配置一次免安装版后会发现免安装版配置如此简单\n\n后面的MongoDB的安装也是重点讲解免安装版的使用\n\nMySQL5.7的安装与配置\n\n下载\n\nMySQL5.7官方下载地址：\n\nhttps://downloads.mysql.com/archives/community/\nProduct Version    选择5.7.28Operating System   选择Microsoft WindowsOS Version         选择Windows (x86, 64-bit)点击ZIP Archive后的Download进行下载\n\n温馨提示：如果使用浏览器下载可以使用IDM等下载工具，如果速度还是非常慢请使用VPN\n\n\n\n华为云开源镜像站下载地址：\n\nhttps://mirrors.huaweicloud.com/mysql/Downloads/MySQL-5.7/mysql-5.7.28-winx64.zip\n腾讯云开源镜像站下载地址：\n\nhttps://mirrors.cloud.tencent.com/mysql/downloads/MySQL-5.7/mysql-5.7.28-winx64.zip\nMySQL5.7安装\n\n将下载好的mysql-5.7.28-winx64.zip解压放在合适的位置（我这里放在了\"C:\\mysql\\5.7.28\"）\n\n 配置环境变量\n\n\n\"此电脑\"右键 - \"属性\" - \"高级系统设置\" - \"环境变量\"\n\n  在下部的\"系统变量\"中找到Path选中，点击编辑\n\n  点击新增将MySQL根目录下的bin目录的位置复制进去（我这里是\"C:\\mysql\\5.7.28\\bin\"）\n\n  \n\n  如果点击编辑后是下图这种窗口，请添加;bin目录(需要在前面加一个\";\"，例：;C:\\mysql\\5.7.28\\bin)\n\n  \n在MySQL根目录新建my.ini文件，内容如下，注意要修改自己的文件地址\n\n [mysqld]\n # 服务器端口，默认3306\n port = 3306\n # MySQL根目录(注意这里的都是`/`而不是`\\`或者使用`\\\\`如果填错会刷错误)\n basedir=C:/mysql/5.7.28\n # 数据存储位置\n datadir=C:/mysql/5.7.28/data \n # 最大连接数\n max_connections=200\n # 服务器默认字符集，无需修改\n character-set-server=utf8\n # 创建新表时将使用的默认存储引擎\n default-storage-engine=INNODB\n # SQL模式，无需修改\n sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\n [mysql]\n default-character-set=utf8复制代码\n使用管理员权限打开DOS窗口(cmd)，也可以使用Powershell，但都需要以管理员权限运行\n\n\n输入mysqld --initialize-insecure，会自动生成一个无密码的root用户（可能有人要问了，为什么没密码，不要慌，下面会设置）MySQL会自动在你设置的数据库存储位置生成文件夹及数据\n\n 如果出现下面这种错误不要慌\n\n \n\n 下载并安装Visual C ++ Redistributable Package 2013,官方下载地址： https://www.microsoft.com/zh-CN/download/details.aspx?id=40784  根据自己的系统版本下载对应版本的软件再输入mysqld --install然后再输入net start mysql,启动mysql服务；对应的关闭命令为net stop mysql\n\n 出现启动成功的字样就说明已经安装成功了，也意味着你马上就要成功了！\n\n \n启动成功后输入 mysqladmin -u root password 新密码 来修改密码\n\n 我这里使用了\"123456\"的弱密码，请各位不要效仿\n\n 输入mysql -uroot -p登录root用户，测试你是否成功修改密码，执行该命令后会提示你Enter password输入密码，就可以输入你的新密码登录MySQL了\n\n 出现下面字符就说明登录成功了\n\n \n\nMySQL5.7的卸载\n\n使用管理员权限打开DOS窗口(cmd)，也可以使用Powershell输入net stop mysql停止MySQL的运行输入mysqld -remove或者sc delete mysql删除MySQL的服务器\n\n\n\n如果卸载后你又想安装上怎么办\n\n使用管理员权限打开DOS窗口(cmd)，也可以使用Powershell再输入mysqld --install安装成功即可net start mysql启动服务\n\n所以开头我说免安装版以后会非常的方便，只需带着你以前的MySQL文件夹，转到目录中的bin文件夹下执行mysqld --install就能使用，但是前提需要此电脑上已安装Visual C ++ Redistributable Package 2013\n\n\n\nMySQL5.7安装时常见错误总结及解决方法\n\n问题一 ：由于找不到MSVCR120.dll,无法继续执行代码.重新安装程序可能会解决此问题。\n\n\n\n原因：缺少运行库\n\n解决方法：上文已经写出了解决此问题的方法，下载并安装Visual C ++ Redistributable Package 2013,官方下载地址： https://www.microsoft.com/zh-CN/download/details.aspx?id=40784根据自己的系统版本下载对应版本的软件\n\n问题二：mysqld: Can't create directory 'D:\\mysql\\5.7.28\\bin\\data' (Errcode: 2 - No such file or directory)\n\n原因：my.ini文件中的basedir（设置mysql的安装目录）、datadir（设置mysql数据库的数据的存放目录）与MySQL解压后的路径不一致  \n\n解决方法：调整basedir为MySQL的根目录，设置有效的datadir位置\n\n问题三：设置密码时可能出现错误：ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)\n\n解决方法：\n\n打开my.ini，在[mysqld]下添加一行skip-grant-tables来跳过密码验证\n\n 注意添加位置\n\n 重启MySQL\n\n\n以管理员身份打开DOS窗口(cmd)或者PowerShell输入依次输入net stop mysql和net start mysql\n\n\n输入mysql -uroot -p按回车，如果提示输入密码，直接回车即可\n\n 输入use mysql;切换到名为mysql的数据库下,注意进入MySQL后每个命令后面要加上分号\";\"输入update mysql.user set authentication_string=password('新密码') where user='root';修改密码，请自行将新密码替换为您想设置的root用户密码输入 flush privileges;刷新保存exit;或quit;退出mysql\n\n\n\n删除my.ini中刚刚添加的skip-grant-tables并保存重复步骤2，重启mysql之后就可以使用新密码登录root用户了\n\n问题四：我服务器上MySQL已经成功安装并运行了，我在自己电脑上为什么连接不了MySQL数据库\n\n当然我这里不建议外网可以访问root用户\n\n原因1：首先你的服务器需要开放你设置的MySQL数据库端口\n\n原因2：root用户未开放远程访问权限\n\n解决方法：\n\n打开DOS窗口(cmd)或者PowerShell输入mysql -uroot -p按回车，输入密码，回车输入use mysql;切换到名为mysql的数据库下输入grant all privileges on *.* to 'root'@'%' identified by 'root用户的密码' with grant option; 注意替换命令中的root用户的密码为你真实的root密码输入 flush privileges;刷新保存exit;或quit;退出mysql\n\n注意红圈地方是root用户的密码，请根据自身实际情况修改\n\n\n\n之后你就有权限访问你服务器里的数据库了\n\nMySQL8.0的安装与配置\n\n<span id=\"download8\" />\n\n下载\n\nMySQL8.0官方下载地址：\n\nhttps://dev.mysql.com/downloads/mysql/\nSelect Operating System   选择Microsoft Windows点击Windows (x86, 64-bit), ZIP Archive后的Download\n\n温馨提示：如果使用浏览器下载可以使用IDM等下载工具，如果速度还是非常慢请使用VPN\n\n\n\n华为云开源镜像站下载地址：\n\nhttps://mirrors.huaweicloud.com/mysql/Downloads/MySQL-8.0/mysql-8.0.19-winx64.zip\n腾讯云开源镜像站下载地址：\n\nhttps://mirrors.cloud.tencent.com/mysql/downloads/MySQL-8.0/mysql-8.0.19-winx64.zip\nMySQL8.0的安装\n\nMysql8.0的免安装版的配置前2步与5.7的配置方法相同所以在这里就不详细写了，直接从创建my.ini配置文件开始\n\n在MySQL根目录新建my.ini文件，内容如下，注意要修改自己的文件地址\n\n 注意：在MySQL 8.0中，默认的身份验证插件已从mysql_native_password更改为 caching_sha2_password，并且'root'@'localhost'默认使用caching_sha2_password。\n\n[mysqld]\n     # 服务器端口，默认3306\n     port=3306\n     # MySQL根目录(注意这里的都是`/`而不是`\\`或者使用`\\\\`如果填错会刷错误)\n     basedir=C:/mysql/5.7.28\n     # 数据存储位置\n     datadir=E:\\\\software\\\\mysql\\\\mysql-8.0.11-winx64\\\\Data\n     # 允许最大连接数\n     max_connections=200\n     # 允许连接失败的次数\n     max_connect_errors=10\n     # 服务器默认字符集，无需修改\n     character-set-server=utf8\n     # 创建新表时将使用的默认存储引擎\n     default-storage-engine=INNODB\n     # 默认使用“mysql_native_password”插件认证\n     default_authentication_plugin=mysql_native_password\n [mysql]\n     # 设置mysql客户端默认字符集\n     default-character-set=utf8\n [client]\n     # 设置mysql客户端连接服务端时默认使用的端口\n     port=3306\n     default-character-set=utf8复制代码\n使用管理员权限打开DOS窗口(cmd)，也可以使用Powershell，但都需要以管理员权限运行\n\n\n输入mysqld --initialize --console初始化数据库，执行完后MySQL会生成一个随机的初始root密码\n\n类似这样的一个信息（图中红圈圈的就是初始的随机密码）：qGdy+.pl<7uj这个是我的随机密码，每个人的初始密码都不同（不含首位空格）在没有更改密码前，需要记住这个密码，后续登录需要用到。\n\n\n\n如果你忘记了初始密码或者手贱直接关掉了，请删掉你在my.ini中datadir（数据存储位置）选项的目录重头进行步骤4！\n\n参考：https://dev.mysql.com/doc/refman/8.0/zh-CN/data-directory-initialization.html\n\n如果出现类似下面这些错误不要慌\n\n\n\n\n\n下载并安装Visual C ++ Redistributable Package 2015,官方下载地址： https://www.microsoft.com/zh-CN/download/details.aspx?id=48145\n\n根据自己的系统版本下载对应版本的软件并安装即可\n\n\n再输入mysqld --install安装MySQL服务然后再输入net start mysql,启动mysql服务；对应的关闭命令为net stop mysql\n\n\n\nMySQL8.0修改密码\n\n打开一个DOS窗口(cmd)或者PowerShell输入mysql -u root -p，回车后会提示你输入密码，密码就是上面初始化生成的，如果你忘记了初始密码或者手贱直接关掉了，请删掉你在my.ini中datadir（数据存储位置）选项的目录重头进行步骤4！\n\n 之后输入ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '新密码';注意修改你的新密码要用单引号括起来输入 flush privileges;刷新保存exit;或quit;退出mysql\n\n注意图中红圈地方为新密码，请自行修改\n\n\n\n至此密码就修改完成了\n\n\nMySQL8.0修改root用户远程访问权限\n\n注意8.0的开放方式与5.7的命令不同\n\n如果你想在你自己电脑上连接你服务器上的MySQL数据库可能会无法连接\n\n当然我这里不建议外网可以访问root用户\n\n原因1：首先你的服务器需要开放你设置的MySQL数据库端口\n\n原因2：root用户未开放远程访问权限\n\n解决方法：\n\n打开DOS窗口(cmd)或者PowerShell输入mysql -uroot -p按回车，输入密码，回车输入use mysql;切换到名为mysql的数据库下输入update user set host = \"%\" where user = \"root\";输入 flush privileges;刷新权限exit;或quit;退出mysql\n\n\n\n之后你就有权限访问你服务器里的数据库了\n\n\nMySQL8.0连接访问问题\n\n远程访问数据库的可视化工具比较多如：Navicat、SQLyog、MySQL workbench 等，我这里使用 Navicat\n\n输入MySQL服务器地址、用户名和密码，报2059错误，这是因为 MySql8.0 版本 和 5.x 的加密规则不一样，而现在仍有少部分可视化工具仍然只支持旧的加密方式，可能有插件连接时也会报2059的错误\n\n我们在安装的时候，如果你使用了我上方贴出的my.ini作为模板修改就应该不会出现此问题，但也不排除仍有极少部分用户仍然无法连接，所以我们下方给出解决方法\n\n这里我们可以直接修改加密规则\n\n打开DOS窗口(cmd)或者PowerShell输入mysql -uroot -p按回车，输入密码，回车输入use mysql;切换到名为mysql的数据库下输入ALTER USER 'root'@'localhost' IDENTIFIED BY '你当前的root用户密码' PASSWORD EXPIRE NEVER;输入ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '输入新的root用户密码';当然也可以选择直接输入你原来的密码输入 flush privileges;刷新权限exit;或quit;退出mysql\n\n\n\n第四节 什么是报错？\n\n报错是服务器运行中所遇到的异常情况，它可以来源于服务端本身，也可以来自插件和模组等组件，可能是你的锅也可能是开发者的锅，这两种情况下面会分别考虑。\n\n插件报错往往导致该插件和它的附属插件无法正常运行，部分情况下，玩家的信息会流失，玩家也可能通过这些错误来破坏游戏平衡,极少部分情况下，服务器会崩溃。模组报错是更为致命的，大多数情况下会让服务器直接崩溃，这可能会导致玩家数据和地图数据流失损坏。(某位不知名OP也深受其害...  可幸的是一些模组的报错出现在服务器启动完成之前，不会留下隐患。\n\n很多服主在面对不影响正常体验的报错时采取放任的态度，大部分时候确实相安无事，但解决错误应该作为最优先的策略\n\n当服务器运行出错的时候，会在后台打印出如下类似的ERROR信息。它的标志是信息前显眼的 ERROR。\n\n这段报错来自装错版本的Citizens插件\n\n[17:36:48 ERROR]: [Citizens] Missing preferred location bundle.\n[17:36:48 ERROR]: Error occurred while enabling Citizens v2.0.16-SNAPSHOT (build 1267) (Is it up to date?)复制代码\n这段报错来自残忍怪物模组\n\n[Server thread/ERROR]: Problem editing navigator: java.lang.NoSuchFieldException: navigator复制代码\n这是Protocol插件的版本警告。WARN级别的警告信息有时候也需要服主留意。\n\n[14:11:28] [Server thread/WARN]: [ProtocolLib]\nVersion (MC: 1.12.2) has not yet been tested! Proceed with caution.复制代码\n 大多数情况下,ERROR 级别的报错比 WARN 更严重。但是留 心 WARN 警告的好习惯可以让我们注意到潜在的问题。\n\n Error日志会报告服务器运行过程中的异常情况，这些情况有可能破坏服务器的正常运行，导致玩家体验恶化，信息损坏，甚至服务器崩溃。\n\n\n如何自己解决报错？\n\n很多时候，一些常见的报错可以用常识、经验以及一定的英语能力(或借助翻译软件)来解决。\n\n一. 找出问题关键信息\n\n报错会产生海量的信息，然而绝大多数内容都无关紧要，去伪存真才能对症下药。这里再次用上文的 Cizitens 的版本报错为例，但会给出完整版,感兴趣的服主可以借此研究报错的结构，但这并不是必须的。\n\n[17:36:48 ERROR]: [Citizens] Missing preferred location bundle.\n[17:36:48 ERROR]: Error occurred while enabling Citizens v2.0.16-SNAPSHOT (build 1267) (Is it up to date?)\njava.lang.NoClassDefFoundError: org/bukkit/craftbukkit/v1_8_R3/CraftServer\n    at net.citizensnpcs.util.Util.getMinecraftRevision(Util.java:78) ~[?:?]\n    at net.citizensnpcs.Citizens.onEnable(Citizens.java:262) ~[?:?]\n    at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264) ~[spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:337) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:402) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:374) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:323) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.craftbukkit.v1_12_R1.CraftServer.reload(CraftServer.java:745) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.Bukkit.reload(Bukkit.java:525) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:25) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:141) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchCommand(CraftServer.java:641) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchServerCommand(CraftServer.java:627) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at net.minecraft.server.v1_12_R1.DedicatedServer.aP(DedicatedServer.java:444) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:407) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:679) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:577) [spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at java.lang.Thread.run(Unknown Source) [?:1.8.0_231]Caused by: java.lang.ClassNotFoundException: org.bukkit.craftbukkit.v1_8_R3.CraftServer\n    at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:91) ~[spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:86) ~[spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_231]\n    at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_231]\n    ... 18 more复制代码\n我们可以看到报错的最后出现了一系列由at引导的语句。他们的作用是定位出错的代码位置。   当 at 语句结束，下面仍然有其他的 Error 报错时，说明出现了两个以上个不同的报错，请以最后一个 at 为分界线，把他们作为两个独立的报错分析，以此类推  \n\nat 的位置越靠后，他们和报错的关系就越疏远。所以我们需要设定一个分界线语句，删去分界线后的 at，以此简化信息。(请保留分界线所在的语句)  \n\n可以作为分界线的语句\n\n① 以at java./sun./org.apache.等开头的语句，他们是 java 语言的内部包\n② 以at org.bukkit.craftbukkit或 at net.minecraft.server 开头的语句，他们是服务器的内部包  \n\n通过以上的教程自己动手后，我们可以得到如下简化后的报错  \n\n[17:36:48 ERROR]: [Citizens] Missing preferred location bundle.\n[17:36:48 ERROR]: Error occurred while enabling Citizens v2.0.16-SNAPSHOT (build 1267) (Is it up to date?)\njava.lang.NoClassDefFoundError: org/bukkit/craftbukkit/v1_8_R3/CraftServer\n    at net.citizensnpcs.util.Util.getMinecraftRevision(Util.java:78) ~[?:?]\n    at net.citizensnpcs.Citizens.onEnable(Citizens.java:262) ~[?:?]\n    at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264) ~[spigot-1.12.1.jar:git-Spigot-edd0396-2a927e8]复制代码\n这样的报错就可以用来分析了。请注意，以上使用插件报错作为样例，对于模组报错理论上有效，但可能会有形式上的变化。  \n\n美丽小贴士：精简报错的目的是方便自己分析，如果相信自己的水平，就不需要进行这个过程。   \n\n\n二. 问题来自哪个插件/模组？\n\n对于  \n\n[17:36:48 ERROR]: Error occurred while enabling Citizens复制代码\n这样的报错，我们可以很轻松地看出问题发生在Citizens插件上。  \n\n而对于\n\n[13:39:13] [Server thread/ERROR]: Could not pass event EntityTeleportEvent to PlotSquared复制代码\nCould not pass event <Event名称> to <插件名称>也是一种常见的报错形式。\n在这种报错中，我们也可以定位到具体的插件。这里的Event名称可以保存下来，我们会在下面内容中谈到。   \n\n以下内容同时适用于插件和模组：\n\n并非所有报错都有这样详细的形式。这时候,我们需要取出最上方的at语句，我们再次请出样例Citizens插件：\n\nat net.citizensnpcs.util.Util.getMinecraftRevision(Util.java:78)~[?~?]复制代码\n这段报错对于寻找问题插件/模组，也是一目了然的。毕竟文本里已经出现了插件/模组名  \n\n如果这样的分析依然无法得知具体插件,建议将这个问题发送到mcbbs问答板块解决。  \n\n到了这个地步，服主仍然希望自己找到报错的插件/模组。我们就只好取出at后面的一小段内容，如net.citizensnpcs.util,将他改为net/ciizensnpcs/util,然后用压缩软件打开每个插件/模组（插件/模组的本质是压缩文件），寻找对应的文件夹。如果能寻找到对应的文件夹或文件，就说明问题出现在这个插件/模组里。  \n\n服主也可以通过安装某些服务器管理插件来帮助寻找，但是这里不作安利。\n\n\n三. 分析问题的方法\n\n1.插件提示法\n\n一些插件会在报错信息中给出具体的提示,可以借助英语知识及翻译软件帮助以求解决。\n例如：\n\n[14:48:03 ERROR]: [PlaceholderAPI] GameTime is currently using a deprecated method to hook into PlaceholderAPI. \nPlaceholders for that plugin no longer work. Please consult [a, asougi85] and urge them to update it ASAP.复制代码\n翻译： GameTime 插件正使用一种过时的方法与PAPI联动，现在该功能已经无法使用，请联系作者。\n一目了然，看来这位不知名开发者有必要进行版本升级了。\n\n2.Expcetion/Error法\n\n在大多数报错中，我们都可以看到在 at 之前看到这样的语句  \n\n[17:36:48 ERROR]: Error occurred while enabling Citizens v2.0.16-SNAPSHOT (build 1267) (Is it up to date?)\njava.lang.NoClassDefFoundError: org/bukkit/craftbukkit/v1_8_R3/CraftServer/...\n\n\n[14:48:02 ERROR]: Error occurred while enabling Multiverse-Core v2.5-b641 (Is it up to date?)\njava.lang.NoSuchMethodError: org/bukkit/configuration/file/...\n\n[15:24:04 ERROR]: Error occurred while enabling GGC v1.0.0 (Is it up to date?)\njava.lang.NullPointerException: null复制代码\n而这些语句中的NoClassDefFoundError,NoSuchMethodError,NullPointerException,事实上揭示了这个报错的本质。我们可以根据这些错误，采取不同的解决方法。\n\n插件类\n\nNoClassDefFoundException / ClassNotFoundException / NoSuchMethodError / NoSuchFieldError\n原因： 内容缺失\n解决方法： 尝试更换插件版本,一般这个错误都是误用高版本或者低版本插件导致的,也可能因为该插件不兼容你所用的服务端，例如一些调用NMS的插件会对模组服务端不兼容。也有可能来自开发者的疏忽。  UnknownhostException / 以Http开头的Exception\n原因: 往往是插件连不上自己的更新服务器导致的。对于不想升级插件，服务器行为正常的服主没有太大影响\n解决方法: 如果对于这个报错感到厌烦，您可以考虑使用这个插件进行屏蔽NullPointerException\n原因: 十分广泛，一般无法由服主自己解决。可能来自于开发者的疏忽。\n解决方法: 如果报错插件运行正常，您可以考虑使用这个插件对报错进行屏蔽，如果运行出错，你可以参考下文，向开发者汇报这个问题!  \n\n警告：如果点击箱子面板/箱子类插件时出现这个报错，就算没有明显问题，也要谨慎屏蔽！这有可能导致玩家刷取物品！！！\n\n其他 Error/Exception  部分问题可以通过提供的报错信息得以解决，例如:\n\nIllegalStateException: Cannot make FireworkEffect without any color复制代码\n这个方法和插件提示法异曲同工，不另行描述。  \n\n模组类\n\n安装了客户端模组\n\n[17:51:11] [main/WARN]: Error loading class:net/minecraft/client/Minecraft复制代码\n任何和client有关的报错都有可能来自这个原因  \n\n重复安装了模组\n\nDuplicateModsFoundException复制代码\n如果出现这种报错\n\nNullPointerException: Ticking block entity复制代码\n请打开服务端 config 文件夹的 forge.cfg ,并将其中B:removeErroringEntities和B:removeErroringTileEntities两项改为true\n\n如果以上方法无法让您解决问题，请向开发者汇报或在问答板块求助这个问题!不要拘束，这是双赢的。  \n\n\n四.如何合理地提问和汇报错误？\n\n在汇报或提问的过程中，请详细地描述报错情景，提供服务端类型和版本号，提供插件和模组列表，并提供没有精简过的完整报错，甚至报错的一部分上下文（日志文件），或者完整的崩溃日志，大部分问题都可以得到解决。\n\n附：扩展阅读\n\n[教程] 自己动手排查报错，海螺螺著。\n\n怎么看崩溃报告和Timings？，森林蝙蝠著。\n\n\n第六节 配置文件优化\n\n本文翻译自服务器优化指南，有删改。参考：https://www.mcbbs.net/thread-774469-1-1.html\n\n简介\n\nSpigot 和 Paper 提供的配置文件经过合理的设置可大大提高服务器运行的性能。本指南将引导您在不影响游戏性的情况下充分利用服务器设置上的一些建议的数值。\n\n更新说明\n\n支持到最新的 1.14.4 和 1.15.2最后更新时间: 2019年12月13日更新日志\n\n优化方案\n\n地图的预生成\n\n地图的预生成对于减少卡顿是至关重要的。在您着手修改您服务器配置文件之前我们最好先关注一下这个问题。\n\n1.找到插件的 WorldBorder 。\n\n2.设定合理的边界范围。\n\n3.在服务端中输入指令： /wb fill 。\n\n4.坐等加载完成。根据地图的大小，您可能要等好几个小时。如果可以的话，您最好在您激活地图之前执行这个操作，否则可能会导致卡顿或延迟。\n\n5.这样玩家在你设定边界内的区域玩耍就不会因为加载区块而卡顿了。\nBukkit.yml\n\nspawn-limits\n\n默认值：monsters: 70, animals: 10, water-animals: 15, ambient: 15\n\n推荐值：monsters: 50, animals: 8, water-animals: 3, ambient: 1\n\n性能影响程度：中等\n\n注释: 设置怪物和动物的时候要谨慎，如果太低的话可能会影响玩家的游戏体验，下方的设置将会减少对游戏体验的影响。\n\n注意 #1: Ambient=蝙蝠, 没有任何作用。\n\n注意 #2: 如果服务器少于15人应该跳过此项目的设置甚至增加这些数值。chunk-gc.period-in-ticks\n\n默认值：600\n\n推荐值：400\n\n性能影响程度：中等\n\n注释：这样可以更快地卸载闲置的区块，这意味着您服务器的TPS消耗将会减少。\nticks-per.monster-spawns\n\n默认值：1\n\n推荐值：4\n\n性能影响程度：中等\n\n注释：这项设置决定了服务器尝试生成怪物的频率（以 tick 为单位），稍微增加生成时间并不应该影响生成率。\n\n注意： 空岛服务器常因为找不到产怪区域而造成延迟。\nautosave\n\n默认值：6000（通常地）\n\n推荐值：6000\n\n性能影响程度：N/A\n\n注释：这使得Bukkit可以节省世界资源，并且可以运行多长时间（以 tick 为单位）。默认应该是6000，但我们最好确认一下它没有被禁用（值为一个正数）。\n\n注意 #1： 如果您在Multicraft的高级设置菜单中使用自动保存或者使用插件进行保存，请立即停止这种效率非常低的行为，它们只是在执行 /save all 。\n\n注意 #2：如果您保存的时候延迟达到了一个峰值，那么我们推荐您使用 Paper 核心的无延迟保存。\nSpigot.yml\n\nsave-user-cache-on-stop-only\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：中等\n\n注释：开启后将会在服务器关闭后储存新玩家缓存数据，关闭后将会持续保存新玩家缓存数据。\n\n注意： 类似于生存服的服务器中将会更加安全，如果你的服务器每天进行备份，应该没问题。\nmax-tick-time\n\n默认值：tile: 50, entity: 50\n\n推荐值：tile: 1000, entity: 1000\n\n性能影响程度：N/A\n\n注释： 在服务器跳到下一个任务之前，实体操作会消耗计算的时间（以毫秒为单位）。这样设置可以禁用这个不稳定的特性，虽然设置较低可以优化服务器性能，但它也会导致一些不值得处理的错误。\n\n注意： 如果您想知道更多关于为什么您应该禁用这个，请阅读 这里 。 请记住，这是一个熟练的开发人员的个人意见，而不是 Spigot 或是我自己（指本优化指南的作者）。\nmob-spawn-range\n\n默认值：8\n\n推荐值：6\n\n性能影响程度：N/A\n\n注释：这里会设定玩家周围的最大刷怪距离（以区块为单位）。我们在 bukkit.yml  中限制了怪物的数量之后，这会将玩家周围的怪物凝聚起来，使其看起来的刷怪机制像是正常的。如果您在 bukkit.yml 文件中降低了刷怪限制，只能降低这个值。\n\n注意： 虽然此处数值较低会降低黑暗处的刷怪率，但应该并不明显。\n\n警告：如果您的视距小于等于6，就请设置一个比该值低1的生成范围。例如视距为5的话，则可将 mob-spawn-range 设置为4。\nentity-activation-range\n\n默认值：animals: 32, monsters: 32, raiders: 48, misc: 16\n\n推荐值：animals: 16, monsters: 24, raiders: 48, misc: 8\n\n性能影响程度：中等\n\n注释：这个设置将会影响到实体的激活范围，因为这些范围以外的实体经常不会被激活。请记住，较低的设置可能会出现“懒惰”的怪物。注意：misc  包括掉到地面上的悬浮物和经验球；设置为 2 是比较安全的，设置为 1 可能会出现一些问题。\ntick-inactive-villagers\n\n默认值：true\n\n推荐值：false\n\n性能影响程度：中等\n\n注释：启用此选项可防止服务器在激活范围外激活村民。在1.14+中村民要做的事情很多很占资源。\n\n注意：原版行为将激活所有在已加载区块中的村民。\nmerge-radius\n\n默认值：item: 2.5, exp: 3.0\n\n推荐值：item: 4.0, exp: 6.0\n\n性能影响程度：中等\n\n注释：将地面物品合并起来可以大大的减少对CPU的消耗。设置更高将意味着更多的物品成堆显示，甚至可以让你不必使用像 clearlag 这样的插件。\n\n注意: 合并物品可能会导致物品偶尔消失，极端情况下可能会迫使物品穿过墙或者岩浆合并。\nnerf-spawner-mobs\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：中等\n\n注释：启用后，从刷怪笼里出来的怪物将不会进行游泳、跳跃、攻击、移动等操作，虽然在RPG服务器中影响可能较大，但它也会显著地提高性能，怪物合并插件会是一个很好的解决方案。\n\n注意：Paper 增加了一个选项，可以将没有激活的从刷怪笼里出现的怪物让其不间断的跳跃/游泳（参考:  spawner-nerfed-mobs-should-jump ）,这样可以在不影响服务器性能的情况下让你的农场运作。\nitem-despawn-rate\n\n默认值：6000（5分钟）\n\n推荐值：更少？\n\n性能影响程度：看情况\n\n注释：设置地面实体被删除的时间（以毫秒为单位）。虽然可以显著的降低对性能的影响，但是在例如生存的服务器中对游戏的影响度也是蛮高的，请自行斟酌。\n\n注意：请参阅 Paper 的 alt-item-despawn-rate 这样您就可以在不清楚贵重物品（如钻石）的情况下除掉垃圾物品（如圆石）了。\narrow-despawn-rate\n\n默认值：1200\n\n推荐值：\n\n性能影响程度：较小\n\n注释：设置箭头射出后的消失时间（以毫秒为单位），虽然有些服务器有足够的理由让箭存在更长时间，但是大多数服务器会修改此项，从而减少CPU。\n\n注意：Paper 中有设置项可以减少箭头消失的时间。如果您使用 Paper 的 despawn 设置，请将 arrow-despawn-rate 保留为接近默认值。\n注：在作者更新的内容里，在旧版内曾出现的 view-distance 移动到了 Server.properties 板块中。\n\nPaper.yml\n\n注意：Paper 具有异步区块加载/保存功能，如果您有区块或世界保存方面的延迟，或许您应该考虑使用 Paper。警告: Paper  是一个非官方的服务端核心，而且在Spigot论坛是不被支持的，虽然被认为不如 Spigot 稳定，但是它却提供了大量的优化性能的选项。如果你遇到 Paper 相关的问题，应该在 Paper 的问题追踪器上报告，而不是在 Spigot 论坛。\n\nmax-auto-save-chunks-per-tick\n\n默认值：24\n\n推荐值：6\n\n性能影响程度：严重\n\n注释：这将会减慢进行世界保存时增加的区块的保存速度。对于1.13+的服务器来说，这一点非常重要，因为区块的保存效率非常的低。\n\n注意：请确保您的保存过程可以在您自动保存的间隔之间进行并完成。该项如果设置得过低有可能会导致区块没有被成功保存。如果您有40个玩家在线，那么您应该试着将该项设置为8以确保服务器的安全运行。\noptimize-explosions\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：较小\n\n注释：在每次爆炸后立即清除已经死亡的或无意义的实体。Paper 有一套非常高效的算法让爆炸对游戏性不产生影响。\nmob-spawner-tick-rate\n\n默认值：1\n\n推荐值：2\n\n性能影响程度：较小\n\n注释：该项用于设置刷怪蛋每次被使用的延迟（以 tick 为单位），延迟加倍不会影响生成率。在 TPS 较低时，刷怪蛋使用间隔会变大。\ndisable-chest-cat-detection\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：较小\n\n注释：默认情况下，当打开箱子的时候会扫描豹猫，虽然这消除了Minecraft的游戏机制，但是这样毫无意义功能的存在并不重要。\ncontainer-update-tick-rate\n\n默认值：1\n\n推荐值：3\n\n性能影响程度：较小\n\n注释：此设置会更改打开容器时，容器内容的刷新频率，2-3对服务器没有影响，而且会省下一些CPU资源，请设置在5以下避免库存故障。\nmax-entity-collisions （存在于某些版本的 Spigot.yml 中）\n\n默认值：8\n\n推荐值：2\n\n性能影响程度：中等\n\n注释：拥挤的实体（研磨机、农场等）在这个过程中碰撞更少，消耗更少的TPS。\ngrass-spread-tick-rate\n\n默认值：1\n\n推荐值：4\n\n性能影响程度：中等\n\n注释：这个选项关系到草方块的扩散，对CPU会有一点的优化。\n\n注意：空岛服务器应该把这里设置为1。\ndespawn-ranges\n\n默认值：soft: 32, hard: 128\n\n推荐值：soft: 28, hard: 96\n\n性能影响程度：较小\n\n注释：使用较低的数值，可以更快的清除无用的怪物，并允许在玩家流量多的区域产生更多的怪物。\n\n注意 #1：这可能会使怪物神秘地消失。\n\n注意 #2：\n\nsoft=定期移除的怪物与玩家的距离。\n\nHard=立即移除怪物的距离。\nhopper.disable-move-event\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：严重\n\n注释：漏斗机制优化，会防止 container 中的每一个槽都调用 InventoryMoveItemEvent ，这将大大地降低漏斗带来的延迟。\n\n警告: 作者认为这并不稳定\nnon-player-arrow-despawn-rate\n\n默认值：-1（使用 Spigot.yml 的 arrow-despawn-rate）\n\n推荐值：60（3秒）\n\n性能影响程度：较小\n\n注释：与 Spigot.yml 的 arrow-despawn-rate 基本相同。\ncreative-arrow-despawn-rate\n\n默认值：-1（ Spigot 的  arrow-despawn-rate ）\n\n推荐值：60（3秒）\n\n性能影响程度：较小\n\n注释：同 non-player-arrow-despawn-rate ，但针对的是玩家的 无限弓。\nprevent-moving-into-unloaded-chunks\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：中等\n\n注释：防止玩家进入一个未加载的区块（由于延迟），这会导致更多的延迟。设置为 true 将把它们扔回一个安全的位置。\n\n如果你没有预生成你的世界，此设置至关重要。\nuse-faster-eigencraft-redstone\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：严重\n\n注释：此设置在不破坏常规设备的情况下，将冗余的红石更新减少95%。经验测试显示，加速高达10倍！\n\n注意：如果使用插件来更改红石算法，请考虑使用此选项替换它们，因为插件可能会破坏红石行为。\narmor-stands-tick\n\n默认值：true\n\n推荐值：false\n\n性能影响程度：较小\n\n注释：一些物品会与世界进行交互，被放置下来时通常被视为实体。设置后被放置的盔甲架不会被水推动。\n\n注意：Paper 已经对服务端进行了足够的优化，这无需再进行调整，您只要尽情享受游戏就好。\nper-player-mob-spawns\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：较小\n\n注释：该项替代了 Bukkit 的随机算法，实现了单独玩家周围的生成生物行为。可以防止大型农场等行为影响服务器生成生物的生成率。\n\n如果您降低了 Bukkit 的生成限制并且发现生物生成的有点少，那就要考虑根据需要尽可能寻找性能与游戏体验之间的平衡。\nalt-item-despawn-rate\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：中等\n\n注释：让某些物品移除得比 Spigot 的 item-despawn-rate 中设置的物品更快（或更慢），这样可以避免将资源专用于处理大量垃圾。\n\n一个在15秒内拆除 cobblestone 和 netherrack 的例子：   enabled: true\n   items:\n     COBBLESTONE: 300\n     NETHERRACK: 300复制代码\n注意：当您向其中添加内容时，请注意该物品是否存在。\n\nanti-xray.enabled\n\n默认值：false\n\n推荐值：true\n\n性能影响程度：N/A\n\n注释：虽然这个设置会消耗您很多的CPU，但是这将会是最有效的反矿追系统，您不会找到更有效更干净的反矿追系统，更好的是，您不需要插件！\n\n注意: Spigot 核心和老版本 Paper 应该考虑关闭此项使用插件。\n注：在作者更新的内容里，译者并未发现在旧版内曾出现的 fire-physics-event-for-redstone。\n\nServer.properties\n\nview-distance\n\n默认值：10\n\n推荐值：4-8\n\n性能影响程度：严重\n\n注释：这是所有文件中影响性能最大的选项，但是对于游戏的影响也很大，这限制了玩家的区块渲染距离，大多数服务器应该设置为5-6，但是一些低规格，玩家数量多的玩家应该设置为4-5.\n\n注意：如果您现在设置的视距低于7，请您最好参阅 Spigot.yml 中的 mob-spawn-range 。\nnetwork-compression-threshold\n\n默认值：256\n\n推荐值：独立服：512，BungeeCord：-1（我们将在下一节讲到关于  BungeeCord 的内容）\n\n性能影响程度：较小\n\n注释：此选项在服务器尝试压缩数据包之前限制其大小。将其设置得更高可以节省一些资源，但会牺牲带宽，将其设置为-1将禁用它。\n\n注意：如果您的服务器在一个拥有代理网络的主机上或者在同一个数据中心上（<2 ms ping），禁用它是十分有益的。\n优化插件\n\n在性能方面，插件应该是最靠后的选择。我们应不惜一切代价避免 anti-lag 和 mob stacker 插件。较好的解决办法是利用可以直接优化 tasks 的插件或者在不影响游戏性的情况下限制资源占用。1.14+ 的解决方案：\n\nPillager Lag（免费）\n\nVillager Lag（免费）\n\nEntity Lag（免费）（只推荐用于减少实体的延迟卡顿情况）\n关于农场等刷怪场所：\n\nMob Manager（付费）\n\nFarm Limiter（付费）\n延迟类型\n\nTPS 服务器流畅度\n\nTPS全称为 Ticks Per Second ，是影响服务器流畅度的主要因素，不会因为玩家的地理位置而影响。Minecraft服务器运算基于每秒20个 tick ，这就是一个完美的服务器的TPS为20.0的原因，每个 tick 服务器都会计算一些东西，TPS低于20的服务器表明服务器无法跟上一定的任务，那么只能保证重要任务的的进行，被迫跳过一些任务，这个跳过任务的过程就被称为  服务器延迟滞后，如果服务器延迟平均在19.95-20之间，那么你不用担心服务器延迟问题。\n\n20.0 = 完美无瑕 - 漂亮。\n\n19.95-19.99 = 很棒 - 不明显的TPS损失。 大多数服务器的TPS都维持在这个范围内。\n\n18.5-19.94 = 一般 - 也许是一些轻微的问题，但没有任何游戏影响。\n\n16.0-18.4 = 差 - 需要认真修复。\n\n<16.0 = 这游戏没法玩了（恼）。\nPing 网络连接延迟\n\nPing 反映了属于在服务器与客户机之间数据传输所需时间（以毫秒为单位）。客户机与服务器主机地理位置越远，传输所需时间越长。宽带问题也可能影响 ping 速度，但这并不常见，这也会导致客户机与服务器的连接速度过慢。\n\n1-60 =太棒了！\n\n51-120 = 好 - 可能在PvP中略有劣势。\n\n121-180 = 差 - 与块/玩家/实体交互时经常滞后。\n\n180+ = 糟糕 - 你还网上冲浪啊？\nFPS 客户端流畅度\n\n不要把 TPS 和 FPS 搞混，FPS 反映了客户端处理画面等情况，FPS 100% 指客户端，与服务器没有任何关系！服务器可以做的就是削减服务器的功能来提高FPS，这样渣机就可以跟上，即使是这样也不会产生太大影响，推荐一个名为 Optifine 的流行免费MOD。Optifine 的MCBBS搬运地址: http://www.mcbbs.net/thread-606019-1-1.html\n\n60+ = 完美 - 超过60 FPS的任何东西对于MineCraft而言都是过度的。 考虑将FPS限制在100以下，以避免对您的机器造成不必要的压力。\n\n40-59 = 好 - 偶尔渲染故障。\n\n21-39 = 差 - 应该进行处理。\n\n11-20 = 烂 - 放过你的电脑吧，它比你年龄还大了！\n\n1-10 = 恼 - 好好学习，天天向上！\n第七节 什么是跨服？\n\n跨服同时也是搭建我的世界服务器中的一项复杂的一门技术，在搭建多个服务器时，要做一些研究以及了解的工作。\n\n自我思考\n\n我是不是需要跨服？我的服务器是否有那么多的玩家在游玩？我的服务器是不是性能多余，核心老是满不起来？想不想把服务器做大，游戏内容多样话，同时玩家在游玩的时候体验的非常舒适？\n\n如果是的请继续往下\n\n了解\n\n跨服大致就是“分布式部署“我的世界的服务端从而提高服务器硬件的利用率的一种技术手段。\n\n也就是代理服务器，他的作用就是代理玩家进入到服务器内部的一个个子服务端，作为内网与外网之间的桥梁。\n\n从前到后、从后到前、跨服版本数量繁多\n\nBungeeCord、Velocity、Lilypad、WaterFall、HexaCord、Travertine、Minecraft-Proxy\n\n本次采用的是 BungeeCord\n\n首先构思一下服务器的框架以及配置文件\n\n学习 配置文件（Config.yml）详细介绍\n\nserver_connect_timeout: 5000 \n#服务器无响应，多少毫秒后BungeeCord会关闭这个连接\nremote_ping_cache: -1 \n#远程Ping缓存\nforge_support: false \n#ForgeMOD支持，如果有MOD服务器，请打开这个选项\nplayer_limit: -1 \n#玩家限制，它将限制整个服务器的玩家人数，-1为不限\npermissions: \n# BungeeCord服务器权限组 也就是指令权限\n  default: \n  - bungeecord.command.server \n  #服务器\n  - bungeecord.command.list \n  #显示在线玩家\n  admin: \n  - bungeecord.command.alert \n  #全服公告\n  - bungeecord.command.end \n  #关闭BungeeCord\n  - bungeecord.command.ip \n  #IP\n  - bungeecord.command.reload \n  #BungeeCord重载插件权限\ntimeout: 30000 \n#当玩家在BungeeCord中无响应多长时间，BungeeCord才会将他踢出去，\nlog_commands: false \n#记录命令\nnetwork_compression_threshold: 256 \n#这个参数只有1.8的服务端才有，含义是网络封包压缩的阀值。当封包长度高于这个值时，封包会被压缩。(适当调整可提高性能)\nonline_mode: true \n#正版验证，如果是盗版服请关闭\ndisabled_commands: \n#服务器禁止的指令\n- disabledcommandhere\nservers: \n#子服务器列表\n  lobby: \n  #服务器名称\n    motd: '&1Just another BungeeCord - Forced Host' \n    #服务器MOTD 支持颜色字符\n    address: localhost:25565 \n    #服务器的内网ip地址以及端口\n    restricted: false \nlisteners: \n- query_port: 25577 \n#UDP查询端口\n  motd: '&1Another Bungee server' \n  #客户端列表看到的服务器介绍\n  tab_list: GLOBAL_PING \n  query_enabled: false \n  #是否开启UDP监听查询\n  proxy_protocol: false \n  #代理协议\n  forced_hosts: \n  #可以用域名绑定通过域名直接进入指定服务器\n    pvp.md-5.net: pvp\n  ping_passthrough: false \n  #是否穿透BungeeCord直接获取后端服务器ping信息，如motd等。\n  priorities: \n  #优先服务器列表，就是登录服务器或者大厅服务器\n  - lobby\n  bind_local_address: true \n  #是否把BungeeCord端和你服务器通讯的IP地址设置为BungeeCord端监听的地址\n  host: 0.0.0.0:25577 \n  #BungeeCord的IP地址，访问它就能进入BC服务器进入其他服务器。\n  max_players: 1 \n  #服务器显示的最大人数 不是真实人数\n  tab_size: 60 \n  #按Tab键的时候，显示的玩家列表总容量。60的时候是三列，80的时候是四列\n  force_default_server: false \n  #强制跳转到默认服务器\nip_forward: false \n#是否启用真实IP与UUID转发功能\nremote_ping_timeout: 5000 \n#远端服务器无响应，多少毫秒后BungeeCord会关闭这个连接\nprevent_proxy_connections: false \n#防止远端使用代理登入\ngroups: \n#玩家组权限\n  md_5:\n  - admin\nconnection_throttle: 4000 \n#连接间隔，当玩家退出后多就能加入\nstats: b2bd44d7-c14e-4a4c-8s67-e5ecdf22d160 \n#机器码，请不要修改，服务端会自己生成的\nlog_pings: true \n# 记录ping值复制代码\nBungeeCord 搭建\n\n我们假设以三个服为准：登入服、生存服和创造服。\n\n玩家可以通过指令、菜单和传送门到达各子服务端，同步玩家的背包以及状态、聊天以及公告。\n\n\n\n在 BungeeCord目录下 config.yml 配置 servers:和host:\n\nhost: 0.0.0.0:61390\n#定义为 0.0.0.0 指接受任意地址连接\n#端口需要设置为服务商提供的对外开放的端口，独立IP则自选。\nservers:\n  服务器名称(可以中文最好英文):\n    motd: '子端标语（可以保留不变）'\n    address: 子端地址:子端端口\n    restricted: false复制代码\n如下：\n\nserver:\n  登入服:\n    motd: '&1Just another BungeeCord - Forced Host'\n    address: localhost:21000\n    restricted: false\n  生存服:\n    motd: '&1Just another BungeeCord - Forced Host'\n    address: localhost:22000\n    restricted: false\n  创造服:\n    motd: '&1Just another BungeeCord - Forced Host'\n    address: localhost:23000\n    restricted: false复制代码\n服务器目录框架\n\n\n\n对应的修改每一个子服务端的server.properties\n\n登入服\nserver-ip=127.0.0.1\nserver-port=21000\n\n生存服\nserver-ip=127.0.0.1\nserver-port=22000\n\n创造服\nserver-ip=127.0.0.1\nserver-port=23000复制代码\n注意：设置server-ip=127.0.0.1 可以防止玩家不经过登陆服直接访问到子服务端，务必设置到内网地址！\n\n注意：子服端口server-port= 不需要设置为服务商提供的对外开放的端口！\n\n如果使用 Spigot 类型的端，一般目录下会有一个spigot.yml文件，在其中需要将bungeecord项修改为true来支持跨服的协议：\n\nbungeecord: true复制代码\n如果使用 Paper 服务端，一般目录下会有一个paper.yml文件，若你搭建的是非正版服务器，则需要将其中的bungee-online-mode项修改为false：\n\nbungee-online-mode: false复制代码\n安全起见，建议将 BungeeCord 的config.yml中的groups项进行如下修改：\n\ngroups: {}复制代码\n如此一来，我们便成功地搭建了一个有三个子端的Bungee群组服务器。\n\n\n\n在后期也可以安装BungeeCord安装相关的插件来加强Bungee的功能。\n\n\n第七节 系统运行维护\n\n我们都知道，与普通家用电脑不同的是，服务器是一台24小时不关机的电脑。正因如此，我们就不能把使用家用电脑的习惯带到使用服务器上去。\n\n杀毒软件\n\n一般情况下，服务器只会运行一项业务，例如搭建我的世界服务器时，不推荐再搭建其他游戏。\n\n这是因为，每种程序对服务器的配置和环境要求是不同的。我们购买到的VPS服务器虽然可以搭建其他游戏，但是服务商不会在硬件上对其他游戏进行优化，服务商的售后也无法提供其他游戏的支持。 \n\n所以，在服务器上切勿安装非搭建我的世界服务器必要的软件，尤其不能安装360安全卫士和腾讯电脑管家之类的家用电脑常见的安全软件。这类安全软件会更改系统设置，可能会影响到我的世界服务器的运行，甚至有可能使服务器无法连接网络。\n\n我们也同样不建议安装杀毒软件的所谓服务器版或安全狗等服务器防黑安全软件，通常情况下，这类软件无法提供实质性的防御效果，反而可能会影响我的世界服务器的正常运行，同时也可能使服务器无法连接网络。\n\n运行环境\n\n搭建我的世界服务器需要的一些环境（如Java），可能会在第一次安装过后有所更新，但我们并不建议你时常对这些环境进行更新，尽管环境的开发团队会尽可能对新版本进行兼容性测试，但我们谁也无法保证新版本不存在任何兼容性问题。\n\n如果你的服务器没有出现任何问题，就请不要再做任何操作，那样只会是画蛇添足！\n\n内存维护\n\n在系统和我的世界服务器的运行中，会不间断产生一些内存数据垃圾，这些数据垃圾无法被软件回收。长此以往，VPS服务器的内存将会充斥这些垃圾，而系统和我的世界服务器将无法正常运行。尽管这个过程可能会持续很长时间，但仍然是个不容小觑的问题，我们建议你在我的世界服务器没有玩家时，对VPS服务器进行重启，以此彻底清理内存垃圾，释放内存空间，保障系统和我的世界服务器的正常运行。\n\n业务安全\n\n在运营我的世界服务器时，可能存在不怀好意者恶意利用程序漏洞非法获取管理员（OP）权限的情况。\n\n在面对此类危害较大的恶意行为时，我们可以登录服务器远程桌面，通过我的世界服务器控制台封禁恶意利用者的账号和IP地址，并在第一时间安装相关修复和管理员权限管理插件，通过多种途径断绝利用恶意漏洞的可能。\n\n系统安全\n\n数据无价，系统安全是重中之重。一般情况下，除阿里云等大型企业公有云外，我们购买的用于搭建我的世界服务器的VPS服务器，它的默认系统密码是固定的（如Example!.），你得到的服务器系统密码与他人的服务器系统密码是同一个。\n\n同时，大多数我的世界服务器提供商为VPS服务器对外开放的端口是有规律的。因此，不法者便可以通过这种规律，从一台VPS服务器的后台信息推断出其他VPS服务器的后台信息，如果你没有修改默认的系统密码，那么不法者便可以直接进入你的VPS服务器后台，获取到完全控制权限，你的数据便落入他人手中。\n\n所以，在拿到VPS服务器后台信息时，第一时间修改系统密码！\n\n如果你发现使用远程桌面时，出现被强行踢出的情况，请首先确认是否将远程桌面密码分发给过第三人。在确认为恶意入侵时，应当第一时间联系服务器提供商，通过虚拟化平台关闭你的服务器并在路由中关闭对外的映射，随后开启服务器并利用内网登录修改密码以保证安全。\n\n注：部分服务器提供商因自身网络拓扑原因，存在内网入侵的可能，发现恶意入侵请务必联系服务器提供商求助！\n\nDDoS\n\n在互联网中对一台服务器发起攻击的方式多种多样，DDoS 就是极为常见的一种。DDoS 原理是向目标服务器发送大量无意义数据包以消耗目标服务器的资源。\n\n在运营我的世界服务器的过程中，很有可能会遇到 DDoS 攻击，当发现服务器被 DDoS 攻击时，请第一时间向服务器提供商反映。\n\n必要时，我们可以报警求助。对于恶意的网络攻击，我国有明确的法律规定：\n\n《中华人民共和国网络安全法》\n\n第二十七条\n任何个人和组织不得从事非法侵入他人网络、干扰他人网络正常功能、窃取网络数据等危害网络安全的活动；不得提供专门用于从事侵入网络、干扰网络正常功能及防护措施、窃取网络数据等危害网络安全活动的程序、工具；明知他人从事危害网络安全的活动的，不得为其提供技术支持、广告推广、支付结算等帮助。\n\n第六十三条\n违反本法第二十七条规定，从事危害网络安全的活动，或者提供专门用于从事危害网络安全活动的程序、工具，或者为他人从事危害网络安全的活动提供技术支持、广告推广、支付结算等帮助，尚不构成犯罪的，由公安机关没收违法所得，处五日以下拘留，可以并处五万元以上五十万元以下罚款；情节较重的，处五日以上十五日以下拘留，可以并处十万元以上一百万元以下罚款。《中华人民共和国刑法》\n\n第二百八十五条 非法侵入计算机信息系统罪\n违反国家规定，侵入国家事务、国防建设、尖端科学技术领域的计算机信息系统的，处三年以下有期徒刑或者拘役。 违反国家规定，侵入前款规定以外的计算机信息系统或者采用其他技术手段，获取该计算机信息系统中存储、处理或者传输的数据，或者对该计算机信息系统实施非法控制，情节严重的，处三年以下有期徒刑或者拘役，并处或者单处罚金；情节特别严重的，处三年以上七年以下有期徒刑，并处罚金。 提供专门用于侵入、非法控制计算机信息系统的程序、工具，或者明知他人实施侵入、非法控制计算机信息系统的违法犯罪行为而为其提供程序、工具，情节严重的，依照前款的规定处罚。 单位犯前三款罪的，对单位判处罚金，并对其直接负责的主管人员和其他直接责任人员，依照各该款的规定处罚。\n\n第二百八十六条 破坏计算机信息系统罪\n违反国家规定，对计算机信息系统功能进行删除、修改、增加、干扰，造成计算机信息系统不能正常运行，后果严重的，处五年以下有期徒刑或者拘役；后果特别严重的，处五年以上有期徒刑。 违反国家规定，对计算机信息系统中存储、处理或者传输的数据和应用程序进行删除、修改、增加的操作，后果严重的，依照前款的规定处罚。 故意制作、传播计算机病毒等破坏性程序，影响计算机系统正常运行，后果严重的，依照第一款的规定处罚。 单位犯前三款罪的，对单位判处罚金，并对其直接负责的主管人员和其他直接责任人员，依照第一款的规定处罚。\n我们在遭受不法侵害时，应当运用法律维护自己的合法权益。\n\n\n第一节 Redis 的安装与配置\n\n简介\n\nRedis（全称：Remote Dictionary Server 远程字典服务）是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。\n\nRedis 是完全开源免费的，遵守BSD协议，是一个高性能的 key-value 数据库。Redis 与其他 key-value 缓存产品有以下三个特点：Redis支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。Redis不仅仅支持简单的 key-value 类型的数据，同时还提供list，set，zset，hash等数据结构的存储。Redis支持数据的备份，即 master-slave 模式的数据备份。优势性能极高 – Redis能读的速度是110000次/s,写的速度是81000次/s 。丰富的数据类型 – Redis支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。Redis的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。单个操作是原子性的。多个操作也支持事务，即原子性，通过MULTI和EXEC指令包起来。丰富的特性 – Redis还支持 publish/subscribe, 通知, key 过期等等特性。\n\n下载\n\nWindow 系统\n\n下载地址：https://github.com/MSOpenTech/redis/releases\n\nLinux 系统\n\n下载地址：https://redis.io/download\n\n注：Redis官方并无Windows支持，目前Redis主版本已到5.X，而Windows下的最高版本仍为3.2.100。\n\nMsi安装模式\n\n若想采用此模式则应在上方下载地址中选择下载Redis-x64-3.2.100.msi\n\n通过此模式安装我们可以对Redis进行简易的安装配置首先双击打开Redis-x64-3.2.100.msi，等待文件读取完成即可点击NEXT按钮点击NEXT按钮后需要同意软件使用协议，选中I accept the terms in the Licenes Agreement复选框即可再次点击NEXT按钮选择软件的安装目录，如不了解此选项的具体含义请直接点击NEXT按钮进入下一步设置Redis服务的运行端口，默认为6379，如不了解此选项的具体含义请直接点击NEXT按钮进入下一步设置Redis服务的运行内存限制，建议为服务器总内存的5%-10%，如不了解此选项的具体含义请直接点击NEXT按钮进入下一步在这一步直接点击Install按钮即可进入Redis的安装过程等待进度条完成后点击Finish按钮即可完成安装，此时Redis的系统服务也已自动启动，现在只需要在相关的插件配置文件中配置好Redis的链接信息即可使用，请注意，在您未更改Redis默认配置的情况下，Redis的默认链接信息为：\nHost:127.0.0.1\nPort:6379\nPass:默认为空\n\n解压可用模式\n\n若想采用此模式则应在上方下载地址中选择下载Redis-x64-3.2.100.zip\n\n首先我们将下载的zip压缩文件解压至任意文件夹,进入文件夹双击redis-server.exe文件启动Redis服务端\n注：该模式下默认配置为：\nHost:127.0.0.1\nPort:6379\nPass:默认为空\n\nRedis配置\n\n一般来说Redis中我们经常用到的配置项有以下几项：\n\nport:6379指定访问redis服务端的端口。bind:127.0.0.1指定redis绑定的主机地址。timeout:指定客户端连接redis服务器时，当闲置的时间为多少（如300）时，关闭连接。loglevel:指定redis数据库的日志级别，常用的日志级别有debug、verbose、notice、warning，不进行修改的情况下默认的是notice。save:指定redis数据库多长时间内（s）有多少次（c）更新操作时就把缓存中的数据同步到本地库，比如：save 600 2，指的是10分钟内有2次更新操作，就同步到本地库。dir:指定redis本地数据文件存放的目录。requirepass:指定redis的访问密码。\n注：如果您无法理解上面每一项的含义，那么请勿修改配置文件\n\nRedisBungee插件配置\n\n这里仅展示Redis相关部分：\n\n#Redis服务器IP，默认为127.0.0.1\nredis-server: 127.0.0.1\n#Redis端口，默认为6379\nredis-port: 6379\n#Redis密码,默认为空\n#如果你的Redis密码为 纯数字 请删除 \"\"\nredis-password: \"\"\n#Redis服务器最大连接数.\n#默认值为 8. 请不要改变这个值,除非你有大量插件或玩家.\nmax-redis-connections: 8复制代码\n插件详细配置请前往MCBBS查看RedisBungee的介绍。\n\n\n第二节 MongoDB 的安装与配置\n\n作者环境： Windows10 1809\n\n建议使用免安装版\n\n免安装版\n\n先到官网：https://www.mongodb.com/download-center/community  或者可以直接点这个链接下载：https://fastdl.mongodb.org/win32/mongodb-win32-x86_64-2012plus-4.2.3.zip在有条件的情况下最好将MongoDB放在除系统分区外的其他分区 在这里我放在了“D:\\MongoDB\\4.2” 创建\"/data\" 和 \"/log\" 两个文件夹（\"/data\"文件夹下，用于存放数据库数据；\"/log\"文件夹下，用于存放日志）\n\n\n在data文件夹下创建\"/db\"空文件夹\n\n![](./images/mongodb/10.png)\n\n2. 在log文件夹下创建\"mongo.log\"空文件\n\n\n![](./images/mongodb/11.png)复制代码\ndata和log两个文件夹的位置可以随意，不必须放在MongoDB程序的目录下，后面将在配置文件内设置，我这里就为了方便就放在一起了\n\n配置系统环境变量path（可选） 我的电脑->属性->高级系统设置->环境变量->系统变量->选择“Path”->编辑->在后面添加MongoDB的bin目录例如“;D:\\MongoDB\\4.2\\bin”(注意：新版本的Windows 10 不需要加;)不明白请跳过步骤4   在MongoDB安装路径下创建配置文件“mongo.config” 安装路径例：D:\\MongoDB\\4.2 为“mongo.config”添加内容 下面的dbpath和logpath请根据自己的实际情况填写\n\n#数据库文件的存放位置\ndbpath=D:\\MongoDB\\4.2\\data\\db\n#日志文件存放的路径\nlogpath=D:\\MongoDB\\4.2\\log\\mongo.log\n# 设置绑定ip\nbind_ip = 127.0.0.1\n# 设置端口\nport = 27017\n# 是否以安全认证方式运行，默认是不认证的非安全方式\nauth = true复制代码\n请以管理员身份运行cmd或者PowerShell 注意：如果跳过了步骤4，请使用cd命令转跳到MongoDB的bin目录下 （例：cd D:\\MongoDB\\4.2\\bin 如果不在D:\\磁盘符下还需输入D:转跳到D分区下）如果设置了步骤4可跳过 之后复制以下指令\n\nmongod --config \"D:\\MongoDB\\4.2\\mongo.config\" --serviceName \"MongoDB\" --serviceDisplayName \"MongoDB\" --install复制代码\n请将D:\\MongoDB\\4.2\\mongo.config换成你mongo.config的位置  当你看到类似下图的信息是说明MongoDB就安装成功了  到这里不要急着关cmd同样需要有管理权限的cmd 输入下面指令来运行MongoDB\n\nnet start MongoDB复制代码\n 看到“已经启动成功”就说明MongoDB已经正常启动了\n\n如果你还不放心你可以打开浏览器输入127.0.0.1:27017这里的端口就是你上面设置的  看到这个页面你的MongoDB就成功运行了，可以使用客户端操作MongoDB了\n\n\nMsi安装包安装\n\n与免安装版相同到官网下载安装包：https://www.mongodb.com/download-center/community\n\n连网站都懒得打开的童鞋们呢可以直接点击链接下载：https://fastdl.mongodb.org/win32/mongodb-win32-x86_64-2012plus-4.2.3-signed.msi\n\n下完应该是这么个图标的东西 \n\n双击运行“Next”到第二个界面\n\n\n\n如果你想自定义安装软件或者MongoDB的安装目录请选择Custom如果不想调直接选择Complete（这里我建议调整MongoDB的安装目录到\"D:\\MongoDB\\4.2\"）\n\n\n\n调整数据库数据存储位置和Log存储位置\n\n\n\n这里我分别放在了\"D:\\MongoDB\\4.2\\data\"和“D:\\MongoDB\\4.2\\log”(强烈建议修改默认位置，这个都懒得调不建议用数据库了)\n\n这个界面会让你选择是否安装一个叫\"Compass\"的东西 Compass是4.x之后的一个新功能，就是GUI功能（可视化工具） 这里不建议勾选（没必要、加长安装时间、占空间） Next之后，MongoDB就开始安装了，等待安装成功即可 \n\n\nmongo.config详解\n\n# 数据库文件位置\ndbpath=/var/lib/mongodb\n\n#日志文件的路径\nlogpath=/var/log/mongodb/mongodb.log\n\n# 是否追加方式写入日志，默认True\nlogappend=true\n\n# 设置绑定ip\nbind_ip = 127.0.0.1\n# 设置端口\nport = 27017\n\n# 是否以守护进程方式运行，默认false\nfork = true\n\n# 启用日志文件，默认启用\njournal=true\n\n# 启用定期记录CPU利用率和 I/O 等待,默认false\n#cpu = true\n\n# 是否以安全认证方式运行，默认是不认证的非安全方式\n#noauth = true\n#auth = true\n\n# 详细记录输出，默认false\n#verbose = true\n\n#用于开发驱动程序时验证客户端请求\n#objcheck = true\n\n# # 启用数据库配额管理,默认false\n#quota = true\n\n# 设置oplog日志记录等级，默认0\n#   0=off (default)\n#   1=W\n#   2=R\n#   3=both\n#   7=W+some reads\n#oplog = 0\n\n# 是否打开动态调试项，默认false\n#nocursors = true\n\n# 忽略查询提示，默认false\n#nohints = true\n\n# 禁用http界面，默认为localhost：28017\n#nohttpinterface = true\n\n# 关闭服务器端脚本，这将极大的限制功能，默认false\n#noscripting = true\n\n# 关闭扫描表，任何查询将会是扫描失败\n#notablescan = true\n\n# 关闭数据文件预分配\n#noprealloc = true\n\n# 为新数据库指定.ns文件的大小，单位:MB\n# nssize = <size>\n\n# 用于Mongo监控服务器的Accout token。\n#mms-token = <token>\n\n# Mongo监控服务器的服务器名称。\n#mms-name = <server-name>\n\n# Mongo监控服务器的Ping间隔时间，即心跳\n#mms-interval = <seconds>\n\n# Replication Options\n\n# 设置主从复制参数\n#slave = true # 设置从节点\n#source = master.example.com # 指定从节点的主节点\n# Slave only: 指定要复制的单个数据库\n#only = master.example.com\n# or\n#master = true # 设置主节点\n#source = slave.example.com \n\n# 设置副本集的名字，所有的实例指定相同的名字属于一个副本集\nreplSet = name\n\n#pairwith = <server:port>\n\n# 仲裁服务器地址\n#arbiter = <server:port>\n\n# 默认为false，用于从实例设置。是否自动重新同步\n#autoresync = true\n\n# 指定的复制操作日志（OPLOG）的最大大小\n#oplogSize = <MB>\n\n# 限制复制操作的内存使用\n#opIdMem = <bytes>\n\n# 设置ssl认证\n# Enable SSL on normal ports\n#sslOnNormalPorts = true\n\n# SSL Key file and password\n#sslPEMKeyFile = /etc/ssl/mongodb.pem\n#sslPEMKeyPassword = pass复制代码\n\n第三节 认识资源包\n\n资源包结构\n\n以 1.11.2 版本为例。首先创建一个文件夹。打开 1.11.2.jar 核心文件，我们可以看到名为 assets 的文件夹。把 assets 复制到我们新建的文件夹里，assets 内包含了大部分可修改的游戏贴图，但并不完全。下面来介绍一下材质包的文件目录。\n\n\\材质包\n    pack.png\n    \\assets\n        \\minecraft\n            \\blockstates\n            \\models\n            \\textures\n                \\blocks            方块材质    \n                \\entity            实体材质\n                \\environment            日月、雨雪材质\n                \\gui            用户界面材质\n                \\items            物品材质\n                \\map            地图界面材质\n                \\models            盔甲材质\n                \\painting        画材质\n                \\particle        粒子材质\n                \\......\n            \\......\n    pack.mcmeta复制代码\nassets/minecraft 目录下的文件都包含了原版游戏的大部分内容，例如 blockstates和 models 和模型有关，text 和游戏的文本有关。而游戏的贴图文件都存在 textures 文件夹中。\n\n但同时我们发现，材质包目录下除了 assets 文 件夹，还有 pack.png 和 pack.mcmeta。pack.png 是材质包的图标。重点是 pack.mcmeta ，这个文件在游戏 jar 文件内找不到，你可以新建一个 txt 文档，将 新建文本文档.txt 改成 pack.mcmeta，再用可以处理文本文件的应用打开。这个文件内的基本内容是这样的。\n\n{\n  \"pack\": {\n    \"pack_format\": 4,\n    \"description\": \"123456ABC\"\n  }\n}\npack_format 后的数值代表这个资源包适用的版本。1.8.9及以前版本填1，1.9至1.10.2填2，1.11至1.12.2填3，1.13至1.14.4填4，1.15及以后填5。\n\ndescription 后的引号内是资源包的介绍，介绍会在选择资源包时出现在资源包名称的下方。\n\n如何修改原版音效\n\n难点：1. 找到原版的音频文件    2. 根据 indexes 下各版本的 json 文件所写的内容修改资源包的音频文件\n\n游戏能读取 .ogg 格式的音频，如果你做好了一个音效，但它是 mp3 或其它格式，你可以用格式工厂转码。\n\n我们打开某个版本的jar文件，我们并不能找到任何音频文件。音频文件储存在游戏根目录 .minecraft\\assets\\object\\下的各个文件夹里，但是 object 下的文件夹没有按一定的规律命名，且这里面保存的不仅仅有音频文件，许多游戏项目文件也包含其中。以1.12版本为例，我们想要找到打开箱子音效的音频文件，我们应该在游戏根目录 .minecraft\\assets\\indexes 下找到对应的版本的 json。打开1.12.json，利用查找箱子的英文名 chest 或者其它方法，我们可以查找到以下部分\n\n\"minecraft/sounds/block/chest/close.ogg\": {\"hash\": \"a7d0d6f761c9a647cc0273bc016f2772b85f6d88\", \"size\": 7590}, \n\"minecraft/sounds/block/chest/close2.ogg\": {\"hash\": \"eaa2cfc2ca71f219930cc496d5316853364d3623\", \"size\": 7896},\n\"minecraft/sounds/block/chest/close3.ogg\": {\"hash\": \"fda6f8d1f1daabad0fd78903cd3c4b366f77a8e5\", \"size\": 7116}, \n\"minecraft/sounds/block/chest/open.ogg\": {\"hash\": \"f993dbcc8cdde669020b9f988f091d997006ce8b\", \"size\": 8916},复制代码\n最下面，我们可以看到 chest/open.ogg 字样。这时我们复制hash后面引号内的内容，也就是f99....8b，再进入到 assets/object 里查找，我们就可以找到这样的文件\n\n\n\n这个文件没有后缀名。当我们加上 .ogg 后缀名后播放，我们就可以听到箱子打开的音效。\n\n\n下面是一个利用资源包修改原版音效的实例。以1.12版本为例，我们现在已经有一个名为 1.ogg 的音频文件，打开后可以听到“叮咚”的声音，我们想用这个替换原版拾取经验球的声音。\n\n回到 assets/indexes 文件夹里，打开 1.12.json，查找orb（经验球）（举一反三，如果你想修改僵尸的音效可以查找zombie），可以看到这一行\n\n\"minecraft/sounds/random/orb.ogg\": {\"hash\": \"e9833a1512b57bcf88ac4fdcc8df4e5a7e9d701d\", \"size\": 7139},复制代码\n可以看到，如果想修改拾取经验球的音效，我们应该在我们材质包的 assets/minecraft 目录下，新建一个 sounds 文件夹，再在 sounds下新建一个 random 文件夹。把我们已准备好的 1.ogg 文件名改成 orb.ogg ，并复制到 random 里。\n\n如何修改Mod的材质\n\n相信这部分对许多Mod服的服主有帮助。\n\n我们有时可以看到一些材质包，使用之后可以使 Mod 里的贴图变动。这里我们可以找个支持 Mod 材质的材质包研究一下，这里我找到了 Dandelion。\n\n\n\n可以看到，像这种支持 Mod 的材质，assets 下的文件夹不仅仅只有 minecraft，还有像 appliedenergistics2（应用能源2），botania（植物魔法）等文件夹。对此，我们可以把 minecraft 也理解为一个 mod，而 assets 文件夹下就包含了所有 Mod 的材质贴图等，并且各个文件夹都代表了一个 Mod。\n\n打个比方，如果我们想修改IC2（工业2）的部分材质，我会下载一个ic2模组，打开 jar 文件\n\n\n\n再把jar文件内，assets 下的ic2文件夹整个复制到自己材质包的 assets 下，ic2的材质贴图都在 textures 下，所以 assets/ic2 下只需留一个 textures 就行了，其余删去。\n\n材质的打包\n\n材质基本都需要打包才可在互联网间互相传播分发。这作为一个点，并不是说这个很难，因为这很容易出错。\n\n打包材质为 zip 压缩包文件，我们应该选 中assets 文件夹、pack.png 和 pack.mcmeta 后右键添加至压缩包，而非在上一级将材质的一个文件夹打包。\n\n\n\n贴图处理\n\n默认材质像素是 16x16，当然也有 32x32 64x64 128x128 256x256 512x512以 及更高像素的材质，高清像素需使用第三方 Mods 才可运行，最为常见的高清材质补丁为 Optifine HD。\n\n材质是如何做出来的\n\n材质的制作并非是一件容易的事情，首先材质包中众多材质对工作量也是一项挑战，需要你有足够多的耐心才能够完成，并有相关领域的研究，比如色彩，阴影，材质的衔接等。建议在原材质包的基础上替换更换自己制作的材质，以达到材质文件名的一致。\n\n制作材质有很多种软件可以使用，最为大众所熟知的是 Photoshop，当然 paint.net 也很好用。但切记别用 Windows 的画图软件，它无法处理带透明度的图像。\n\n\n\n推荐教程：https://www.mcbbs.net/thread-544987-1-1.html\n\nMinecraft Wiki：https://wiki.biligame.com/mc/%E8%B5%84%E6%BA%90%E5%8C%85\n\n\n第四节 什么是皮肤？\n\n皮肤，具体指的是游戏中玩家或生物所显示的材质。\n\n既然皮肤是一种材质，则需要在材质文件中加载\n\n我们在认识资源包已经学习过，皮肤文件的大致位置为\\.minecraft\\versions\\相应版本名称\\assets\\minecraft\\textures\\entity, 在该目录下我们找到一个steve.png文件：\n\n\n\n同理我们可以获得一个alex.png皮肤文件（1.8以后版本）, 两者都是 Minecraft 游戏中的默认玩家皮肤。\n\n一.皮肤格式\n\n皮肤文件均为.png格式。仔细观察两个皮肤，从直观上看两者有较为明显的大小区别\n\n\n\n\n\n简单来说就是男性皮肤和女性皮肤的区别，可以看到相比男性皮肤，女性皮肤的手臂大小为3x4x8，同时手臂偏下。\n\n由于1.8版本皮肤和之前版本有差异，并且还多了一个女性皮肤，所以在替换的时候要格外注意，否则进入游戏后皮肤会出错。\n\n1.8版本以后的皮肤为64x64大小（即双层皮肤） 1.8版本之前的皮肤为64x32大小（即单层皮肤） 可以右键皮肤文件-属性-详细信息 查看\n\n二.如何修改皮肤\n\n1.单人世界\n\n如果你只是玩单机游戏，用你所要使用的皮肤文件把\\.minecraft\\versions\\相应版本名称\\assets\\minecraft\\textures\\entity中的steve.png替换即可 （如果默认皮肤是 Alex，相应替换即可）\n\n原理就是单机游戏中只会加载一个玩家实体的材质，如果你在多人游戏中使用，则所有为默认皮肤的实体玩家都会加载为你的皮肤（仅你自己可见）\n\n2.多人游戏\n\n服务器可以借助一些插件或者皮肤站实现替换皮肤功能，插件和网站很多，这里就不一一举例了。\n\n3.正版用户\n\n进入官网 -> 选择 Profile-select a file 选择一个皮肤 -> upload 即可\n\n三.如何绘制皮肤\n\n打开皮肤文件，发现这是皮肤每个部分的展开图。由此我们就可以修改每个像素来绘制一个全新的皮肤\n\n1.使用Photoshop\n\n\n\n如图，用软件打开皮肤文件，就可以绘制皮肤了\n\n2.MCSkin3D\n\n\n\n推荐使用这款软件，相对ps来说更加方便\n\n还有其他的软件和方法，在这里就不一一举例了\n\n画皮肤也绝非是一件简单事，工作量可能比一个材质包小，但是难度却不亚于画材质包。比如色彩，阴影，各部分的衔接等都是非常重要的\n\n推荐教程：https://www.mcbbs.net/thread-538676-1-1.html\n\n\n第五节 什么是3D建模？\n\n3D建模是MC在1.8及以后版本基本完善的一个功能, 能够让玩家任意更改游戏内方块, 物品的模型, 和更改游戏对应方块物品的指向模型, 更强大的, 还可以更改模型中某个部分的渲染属性。\n\n\n\n对于服主来说，更改模型不仅可以显示自己服务器的逼格，体现服务器的特色，还可以实现某些特定功能，尤其是对RPG服务器的服主。制作许多诸如法杖，宝剑；亦或盘子，各种机器。增添服务器的色彩，优化玩家对服务器的第一印象。\n\nMC目前只能修改物品和方块的模型，并不能修改实体，或穿在身上的盔甲的模型。\n\n如何制作模型\n\n制作模型的手段有很多，可以硬着头皮写 json 代码。但很显然，用软件制作会简单很多。这里推荐两个软件：Cubik Studio 和 Blockbench。前者是非常专业的制作软件，且需要购买；后者是简洁，轻量，适合新手但功能绝对够用的免费软件。Cubik Studio就像Photoshop，而Blockbench就像paint.net，制作模型就如处理图片，两者完全够用，但太多的功能可能会让人一时眼花缭乱，所以我推荐使用Blockbench。\n\n?    推荐教程：\n\n?            Cubik Studio：https://www.mcbbs.net/thread-687670-1-1.html\n\n?            Blockbench：https://www.mcbbs.net/thread-833634-1-1.html\n\n下面来详细介绍一下如何利用Blockbench制作一个模型\n\n?    难以理解且易错的点： 1. 如何导入贴图        2. 如何将制作的模型应用到游戏内\n\n软件的操作方法这里就不再赘述了，因为软件的操作并不是真正的难点。Blockbench易上手，自己摸索一下可能就懂了，实在不懂还可以看教程。\n\n实例：制作一个蜡烛模型，替换MC原有的火把的模型\n\n这是我想象中的样子：\n\n\n\n现在我已经做好了模型的大致样子，和一张贴图，贴图的保存位置在桌面\n\n\n\n下面我要导入这个贴图，那么问题来了，这个贴图是应该就放在桌面呢，还是应该移到资源包的目录 模型资源包/assets/minecraft/textures/block 下？注意，用Blockbench制作的模型文件是json文件，json文件并不会保存图像信息，所以贴图应该移至/textures下，最好是textures/block下。\n\n如果导入非资源包目录下的文件，游戏在加载时会找不到这些文件，从而出现错误。对此Blockbench也有提示。\n\n\n\n现在我们成功地导入了candle.png\n\n\n\n通过拖动赋予材质，和右上角的调整UV，我们的模型有了颜色。\n\n\n\n将这个模型保存为torch.json。随后，打开游戏目录下的.minecraft/version/对应版本/对应版本.jar。我这里用的是1.13.2版本，所以我打开的是1.13.2.jar。\n\n\n\n在1.13.2.jar/assets/minecraft/blockstates内找到torch.json。把这个文件复制到模型资源包/assets/minecraft/blockstates下，也就是我们自己资源包的blockstates下。打开torch.json，我们可以看到。\n\n{\n    \"variants\": {\n        \"\": { \"model\": \"block/torch\" }\n    }\n}\nvariants可以理解为形式。我们可以看到，torch这个方块的模型（model），指向了block/torch。block/torch省略了很多东西，完整的形式是 资源包/assets/minecraft/model/block/torch.json。\n\n上面说得也许太复杂了。这些代码有什么意义，这里我形象地给大家讲一下游戏程序，blockstate（方块状态），model之间的关系。\n\nMinecraft.exe：Blockstate，听好了，我现在要读取火把的模型，\n\nBlockstate：我找找，我这里的torch.json告诉火把的模型在models/block/torch.json\n\nMinecraft.exe：彳亍\n也就是说，游戏要读取火把的模型，它会最先找blockstates里的torch.json。这是早已写在游戏程序里的，无法改变。换句话说就是，要读取火把的模型，你不能让游戏去读取blockstates里的oak_log.json（橡木原木），而是torch.json。随后，游戏会根据blockstates/torch.json写的东西，进一步去读取/models下的模型文件。比如说，我们想让仙人掌的模型变成漏斗的模型，如最上面的那张图片所示，我就会把blockstates/cactus.json里指向block/cactus的一行改成block/hopper，让游戏读取hopper.json而非cactus.json。（cactus 仙人掌、hopper 漏斗）\n\n\n\n回过头来，再看blockstates/torch.json里的代码 {    \"variants\": {  \"\": { \"model\": \"block/torch\" }   } }。可见火把的模型指向的是models/block/torch.json，所以我们把做好的蜡烛模型复制到此。\n\n\n\n我们成功了！\n\n\n第一节  Java 编程基础\n\n出于对教学质量和学习效率的考量，我们决定不直接提供 Java 编程基础的教学，取而代之的是我们推荐的高质量教材：\n\n纸质书籍\n\n《Java 核心技术》 上下共两卷。\n\nJava 领域最有影响力和价值的著作之一，由拥有20多年教学与研究经验的资深Java技术专家撰写(获Jolt大奖)，\n与《Java编程思想》齐名，10余年全球畅销不衰，广受好评。\n\n第10版根据Java SE 8全面更新，同时修正了第9版中的不足，\n系统全面讲解了Java语言的核 心概念、语法、重要特性和开发方法，包含大量案例，实践性强。\n\n—— 豆瓣读书\n电子教程\n\nOracle 官方教程\n\n易百教程 菜鸟教程 W3CSchool 教程\n\nGoogle Java 编程风格指南\n\nAPI 文档\n\n官方英文文档\n\n开源中国中文文档 （JDK7u4）\n\n关于\n\n本节内容转自耗子编写的《我的世界开发者中文指南》，有删改。\n\n\n第二节 Bukkit插件开发\n\n出于对教学质量和学习效率的考量，我们决定不直接提供 Bukkit 插件开发的教学，取而代之的是我们推荐的高质量教材：\n\n官方教程\n\n新版本（现Spigot）\n\n旧版本（原Bukkit）\n\nSpigot 官方论坛插件开发讨论版块\n\n国内优秀教程\n\ntdiant 编写的 BukkitDevelopmentNote\n\n如何自定义你的实体\n\nItemMeta 使用教程\n\nForge 与 Bukkit / Sponge 之间的通信\n\nProtocolLib 教程\n\nAPI 文档\n\n官方英文文档\n\n中文文档\n\n关于\n\n本节内容转自耗子编写的《我的世界开发者中文指南》，有删改。\n\n\n第三节 Sponge 插件开发\n\n出于对教学质量和学习效率的考量，我们决定不直接提供 Sponge 插件开发的教学，取而代之的是我们推荐的高质量教材：\n\nSponge 官方教程（含中文）\n\nSponge 官方 API 文档\n\nSponge 官方论坛 和 网站\n\n关于\n\n本节内容转自耗子编写的《我的世界开发者中文指南》，有删改。\n\n\n第四节 Forge 模组开发\n\n出于对教学质量和学习效率的考量，我们决定不直接提供 Bukkit 插件开发的教学，取而代之的是我们推荐的高质量教材：\n\n国内优秀教程\n\n[1.8.9] zzzz 模组开发教程\n\n[1.12.2] 先驱者 Forge模组开发指南\n\n[1.3.2-1.14.4] 原版 / FML CoreMod 开发教程 （ Github Gitbook Gitee ）\n\n[1.11.2] ChinaCraft2代码详解——大型模组开发笔记 （Github）\n\n[1.8.9-1.7.2] 风之工坊（当风过时的博客）\n\nzzzz 的博客\n\n浅析1.13世界生成\n\n雪崩式的灾难：严重滞后的世界生成\n\nMinecraft 模组开发知乎专栏\n\n国外优秀教程\n\n[1.13.2-1.12.2] Suppergerrie2 模组开发教程\n\n[1.12-1.9.4] McJty 模组开发教程\n\n如何用 Kotlin 开发模组\n\nMinecraft 官方论坛模组开发讨论版块\n\nForge 官方论坛模组开发讨论版块\n\nForge 官方论坛模组开发教程版块\n\nAPI 文档\n\nForge 官方中文文档\n\nForge 官方英文文档\n\n关于\n\n本节内容转自耗子编写的《我的世界开发者中文指南》，有删改。\n",
    "replies": []
}