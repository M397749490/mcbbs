{
    "title": "玩家进服秒掉线",
    "author": "索菲缇娅",
    "replyCount": 11,
    "timestamp": 1586044140,
    "txt_content": " 本帖最后由 乐之叶 于 2020-4-12 10:25 编辑 \n\n已解决，答案：https://www.mcbbs.net/thread-1015851-1-1.html\n我发布的服务端和客户端，在以前没有发生过问题的情况下突然出现玩家进服秒退的问题（新的存档，且其他用户也反映这个现象）\n且并不存在网络问题，服务端没有报错\n\n服务端：Mohist\n进服后的服务端日志\n\n\n\n\n\nimage.png (294.74 KB, 下载次数: 1)\n\n下载附件\n\n2020-4-5 07:58 上传\n\n\n\n\n\n\n\n\nimage.png (151.17 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-5 07:58 上传\n\n\n\n\n\n[07:47:15 INFO]: UUID of player test is 530fa97a-357f-3c19-94d3-0c5c65c18fe8\n[07:47:15 INFO]: 客户端尝试加载以下模组加入服务器: 123\n[07:47:15 INFO]: Forge Mod Loader 已成功加载 [anothercommonbugfix] 模组CLIENT\n[07:47:15 INFO]: CLIENT\n[07:47:17 INFO]: [Server thread] Server side modded connection established\n[07:47:17 ERROR]: Data not found for test\n[07:47:17 INFO]: Sending custom spell data to test\n[07:47:18 ERROR]: Exception caught during firing event net.minecraftforge.fml.common.gameevent.PlayerEvent$PlayerLoggedInEvent@7fbe59d8:\n com.google.gson.JsonSyntaxException: com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $\n        at com.google.gson.internal.Streams.parse(Streams.java:60) ~[Streams.class:?]\n        at com.google.gson.internal.bind.TreeTypeAdapter.read(TreeTypeAdapter.java:65) ~[TreeTypeAdapter.class:?]\n        at net.minecraft.util.JsonUtils.func_188173_a(SourceFile:492) ~[rc.class:?]\n        at net.minecraft.util.JsonUtils.func_188176_a(SourceFile:517) ~[rc.class:?]\n        at net.minecraft.util.text.ITextComponent$Serializer.func_150699_a(ITextComponent.java:271) ~[hh$a.class:?]\n        at com.inventorypets.events.LoginEventHandler.onPlayerLogin(LoginEventHandler.java:33) ~[LoginEventHandler.class:?]\n        at net.minecraftforge.fml.common.eventhandler.ASMEventHandler_767_LoginEventHandler_onPlayerLogin_PlayerLoggedInEvent.invoke(.dynamic) ~[?:?]\n        at net.minecraftforge.fml.common.eventhandler.ASMEventHandler.invoke(ASMEventHandler.java:90) ~[ASMEventHandler.class:15f48e8]\n        at net.minecraftforge.fml.common.eventhandler.EventBus.post(EventBus.java:189) [EventBus.class:15f48e8]\n        at net.minecraftforge.fml.common.FMLCommonHandler.firePlayerLoggedIn(FMLCommonHandler.java:570) [FMLCommonHandler.class:15f48e8]\n        at net.minecraft.server.management.PlayerList.initializeConnectionToPlayer(PlayerList.java:293) [pl.class:?]\n        at net.minecraftforge.fml.common.network.handshake.NetworkDispatcher.completeServerSideConnection(NetworkDispatcher.java:255) [NetworkDispatcher.class:15f48e8]\n        at net.minecraftforge.fml.common.network.handshake.NetworkDispatcher.access$100(NetworkDispatcher.java:72) [NetworkDispatcher.class:15f48e8]\n        at net.minecraftforge.fml.common.network.handshake.NetworkDispatcher$1.func_73660_a(NetworkDispatcher.java:205) [NetworkDispatcher$1.class:15f48e8]\n        at net.minecraft.network.NetworkManager.func_74428_b(NetworkManager.java:296) [gw.class:?]\n        at net.minecraft.network.NetworkSystem.func_151269_c(NetworkSystem.java:195) [oz.class:?]\n        at net.minecraft.server.MinecraftServer.func_71190_q(MinecraftServer.java:930) [MinecraftServer.class:?]\n        at net.minecraft.server.dedicated.DedicatedServer.func_71190_q(DedicatedServer.java:468) [nz.class:?]\n        at net.minecraft.server.MinecraftServer.func_71217_p(MinecraftServer.java:778) [MinecraftServer.class:?]\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:621) [MinecraftServer.class:?]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\nCaused by: com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $\n        at com.google.gson.stream.JsonReader.syntaxError(JsonReader.java:1559) ~[JsonReader.class:?]\n        at com.google.gson.stream.JsonReader.checkLenient(JsonReader.java:1401) ~[JsonReader.class:?]\n        at com.google.gson.stream.JsonReader.doPeek(JsonReader.java:593) ~[JsonReader.class:?]\n        at com.google.gson.stream.JsonReader.peek(JsonReader.java:425) ~[JsonReader.class:?]\n        at com.google.gson.internal.Streams.parse(Streams.java:46) ~[Streams.class:?]\n        ... 20 more\n[07:47:18 ERROR]: Index: 21 Listeners:\n[07:47:18 ERROR]: 0: NORMAL\n[07:47:18 ERROR]: 1: ASM: forge playerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 2: ASM: class mod.krevik.EventSubscriber handlePlayerJoiningGame(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 3: ASM: class com.github.tartaricacid.touhoulittlemaid.event.PlayerEnterServer onPlayerEnterServer(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 4: ASM: class com.teamcqr.chocolatequestrepoured.util.handlers.EventsHandler onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 5: ASM: class com.teamcqr.chocolatequestrepoured.capability.armor.CapabilitySpecialArmorHandler onPlayerLoggedInEvent(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 6: ASM: class com.teamcqr.chocolatequestrepoured.objects.items.ItemDungeonPlacer$EventHandler onPlayerLoggedInEvent(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 7: ASM: class twilightforest.TFEventListener playerLogsIn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 8: ASM: class me.paulf.wings.server.flight.Flights onPlayerLoggedIn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 9: ASM: INSTANCE onPlayerJoin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 10: ASM: vazkii.quark.tweaks.feature.AutomaticRecipeUnlock@296d29f9 onPlayerLoggedIn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 11: ASM: vazkii.quark.management.gamerule.DropoffGamerule@43e6f372 login(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 12: ASM: com.zeitheron.hammercore.internal.variables.VarEvents@2debf97c playerJoin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 13: ASM: com.zeitheron.hammercore.HammerCore@666666 playerConnected(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 14: ASM: class vazkii.patchouli.common.handler.AdvancementSyncHandler onLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 15: ASM: toughasnails.handler.ExtendedStatHandler@a3a31fb onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 16: ASM: toughasnails.config.SyncedConfigHandler@73f91f5f onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 17: ASM: com.mrcrayfish.furniture.handler.SyncEvent@764c875 onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 18: ASM: doggytalents.handler.PlayerConnection@5e04b1f6 playerLoggedIn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 19: ASM: tschipp.carryon.common.event.ItemEvents@a9faae6 onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 20: ASM: com.animania.common.events.LoginEventHandler@3564fc6f onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 21: ASM: com.inventorypets.events.LoginEventHandler@3e0e42bc onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 22: ASM: ivorius.reccomplex.events.handlers.RCForgeEventHandler@5769f033 onPlayerJoin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 23: ASM: com.lothrazar.cyclicmagic.playerupgrade.EventExtendedInventory@49eadec9 playerLoggedInEvent(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 24: ASM: com.lothrazar.cyclicmagic.event.EventKeyInput@5dcae160 onWitchKingReturn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 25: ASM: com.lothrazar.cyclicmagic.event.EventPlayerData@388f81b0 onSpawn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 26: ASM: class aroma1997.backup.mc.EventListener login(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 27: ASM: com.mrcrayfish.furniture.handler.PlayerEvents@6c4b21a4 onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 28: ASM: journeymap.server.events.ForgeEvents@5e8f50e4 onPlayerLoggedInEvent(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 29: ASM: net.infstudio.goki.common.handlers.CommonHandler@51284cb2 playerLoggedIn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 30: ASM: squeek.applecore.network.SyncHandler@308f87e2 onPlayerLoggedIn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 31: ASM: squeek.spiceoflife.foodtracker.FoodTracker@3cfd792d onPlayerLogin(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 32: ASM: treechopper.common.handler.EventHandler@7dda3a82 OnServerConnect(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 33: ASM: squeek.appleskin.network.SyncHandler@43c6eb42 onPlayerLoggedIn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 ERROR]: 34: ASM: com.elytradev.davincisvessels.common.handler.ConnectionHandler@72047a77 onPlayerLoggedIn(Lnet/minecraftforge/fml/common/gameevent/PlayerEvent$PlayerLoggedInEvent;)V\n[07:47:18 WARN]: Failed to handle packet for /127.0.0.1:2498\n com.google.gson.JsonSyntaxException: com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $\n        at com.google.gson.internal.Streams.parse(Streams.java:60) ~[Streams.class:?]\n        at com.google.gson.internal.bind.TreeTypeAdapter.read(TreeTypeAdapter.java:65) ~[TreeTypeAdapter.class:?]\n        at net.minecraft.util.JsonUtils.func_188173_a(SourceFile:492) ~[rc.class:?]\n        at net.minecraft.util.JsonUtils.func_188176_a(SourceFile:517) ~[rc.class:?]\n        at net.minecraft.util.text.ITextComponent$Serializer.func_150699_a(ITextComponent.java:271) ~[hh$a.class:?]\n        at com.inventorypets.events.LoginEventHandler.onPlayerLogin(LoginEventHandler.java:33) ~[LoginEventHandler.class:?]\n        at net.minecraftforge.fml.common.eventhandler.ASMEventHandler_767_LoginEventHandler_onPlayerLogin_PlayerLoggedInEvent.invoke(.dynamic) ~[?:?]\n        at net.minecraftforge.fml.common.eventhandler.ASMEventHandler.invoke(ASMEventHandler.java:90) ~[ASMEventHandler.class:15f48e8]\n        at net.minecraftforge.fml.common.eventhandler.EventBus.post(EventBus.java:189) ~[EventBus.class:15f48e8]\n        at net.minecraftforge.fml.common.FMLCommonHandler.firePlayerLoggedIn(FMLCommonHandler.java:570) ~[FMLCommonHandler.class:15f48e8]\n        at net.minecraft.server.management.PlayerList.initializeConnectionToPlayer(PlayerList.java:293) ~[pl.class:?]\n        at net.minecraftforge.fml.common.network.handshake.NetworkDispatcher.completeServerSideConnection(NetworkDispatcher.java:255) ~[NetworkDispatcher.class:15f48e8]\n        at net.minecraftforge.fml.common.network.handshake.NetworkDispatcher.access$100(NetworkDispatcher.java:72) ~[NetworkDispatcher.class:15f48e8]\n        at net.minecraftforge.fml.common.network.handshake.NetworkDispatcher$1.func_73660_a(NetworkDispatcher.java:205) ~[NetworkDispatcher$1.class:15f48e8]\n        at net.minecraft.network.NetworkManager.func_74428_b(NetworkManager.java:296) ~[gw.class:?]\n        at net.minecraft.network.NetworkSystem.func_151269_c(NetworkSystem.java:195) [oz.class:?]\n        at net.minecraft.server.MinecraftServer.func_71190_q(MinecraftServer.java:930) [MinecraftServer.class:?]\n        at net.minecraft.server.dedicated.DedicatedServer.func_71190_q(DedicatedServer.java:468) [nz.class:?]\n        at net.minecraft.server.MinecraftServer.func_71217_p(MinecraftServer.java:778) [MinecraftServer.class:?]\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:621) [MinecraftServer.class:?]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\nCaused by: com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $\n        at com.google.gson.stream.JsonReader.syntaxError(JsonReader.java:1559) ~[JsonReader.class:?]\n        at com.google.gson.stream.JsonReader.checkLenient(JsonReader.java:1401) ~[JsonReader.class:?]\n        at com.google.gson.stream.JsonReader.doPeek(JsonReader.java:593) ~[JsonReader.class:?]\n        at com.google.gson.stream.JsonReader.peek(JsonReader.java:425) ~[JsonReader.class:?]\n        at com.google.gson.internal.Streams.parse(Streams.java:46) ~[Streams.class:?]\n        ... 20 more\n[07:47:18 INFO]: 创建空的配置:E:\\Minecraft\\AyersLand\\AyersLand.old\\AyersLandServerPack - Preview 3\\plugins\\Essentials\\userdata\\530fa97a-357f-3c19-94d3-0c5c65c18fe8.yml\n[07:47:18 INFO]: test has completed the challenge [首次安装]\n[07:47:18 INFO]: test lost connection: Internal server error\n[07:47:18 INFO]: test left the game\n\n\n\n服务端mod\n\n\n\n\nimage.png (162.36 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-5 07:50 上传\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "我素破晓",
            "timestamp": 1586044260,
            "txt_content": "Internal server error\n老问题了，我至今未找到为什么会这样\n我觉得多半MOD有冲突\n单人能进去吗？"
        },
        {
            "author": "索菲缇娅",
            "timestamp": 1586044260,
            "txt_content": "我素破晓 发表于 2020-4-5 07:51\nInternal server error\n老问题了，我至今未找到为什么会这样\n我觉得多半MOD有冲突\n单机没有问题"
        },
        {
            "author": "我素破晓",
            "timestamp": 1586044320,
            "txt_content": "乐之叶 发表于 2020-4-5 07:51\n单机没有问题\n有试过更换服务器核心吗，我给你推荐个网站\nMCMirror"
        },
        {
            "author": "索菲缇娅",
            "timestamp": 1586044380,
            "txt_content": "我素破晓 发表于 2020-4-5 07:52\n有试过更换服务器核心吗，我给你推荐个网站\nMCMirror\n服务端mod都是按Mohist配的\n其他端会有兼容性问题等"
        },
        {
            "author": "我素破晓",
            "timestamp": 1586044500,
            "txt_content": "乐之叶 发表于 2020-4-5 07:53\n服务端mod都是按Mohist配的\n其他端会有兼容性问题等\n那我不是很清楚了，但不过你真的可以试试CatServer\n兼容性很高的\nForge版本也很高"
        },
        {
            "author": "炫宙菌",
            "timestamp": 1586055180,
            "txt_content": "打开paper.yml找到并修改  bungee-online-mode: false"
        },
        {
            "author": "索菲缇娅",
            "timestamp": 1586055540,
            "txt_content": "炫宙菌 发表于 2020-4-5 10:53\n打开paper.yml找到并修改  bungee-online-mode: false\n感谢回答\n但是，并没有起作用.."
        },
        {
            "author": "吃土的紫轩",
            "timestamp": 1586066040,
            "txt_content": "尝试更换Catserver稳定版试试"
        },
        {
            "author": "索菲缇娅",
            "timestamp": 1586066100,
            "txt_content": "吃土的紫轩 发表于 2020-4-5 13:54\n尝试更换Catserver稳定版试试\n建议你先看看上面的回复"
        },
        {
            "author": "梦落老司机",
            "timestamp": 1586098380,
            "txt_content": "mod不兼容缺少前置\n建议从这个上面入手\nconfig可以都删除然后重新开服一下试试看\n记得备份"
        },
        {
            "author": "索菲缇娅",
            "timestamp": 1586098380,
            "txt_content": "梦落老司机 发表于 2020-4-5 22:53\nmod不兼容缺少前置\n建议从这个上面入手\nconfig可以都删除然后重新开服一下试试看\n抓到一只不好好看帖子的"
        }
    ]
}