{
    "title": "服务器TPS突然变低",
    "author": "Becod_",
    "replyCount": 8,
    "timestamp": 1585739220,
    "txt_content": "RT\n服务端核心：PaperSpigot-1.15.2-140\n起因：手误删掉一个插件（插件名不记得了）后tps由最初的稳定20降到18-19，开服时甚至跌到个位数\n插件列表：\nTimings：https://timings.aikar.co/?id=af32613f2d2940a9b57a793235ee87e5\n大致原因是生物AI消耗资源过多\n但是不需要跟我提杀掉部分生物，杀掉了很多乐趣就没有了",
    "replies": [
        {
            "author": "EmptyLava",
            "timestamp": 1585739220,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-4-1 19:16 编辑 \n\n没看timings前:绝对不杀\n看了timings:有点麻烦\n原因(1)\n1.清一色的实体占用，刷铁机太多了\n优化方案\n1.在任务管理器中右键javaw.exe,转详细信息后右键javaw.exe将优先级改为实时,这可以增加cpu的占用率从而提升tps(但服务器重启后需要重新配置,建议配合计划任务)\n2.在spigot.yml中设置\nentity-tracking-range(实体这么多为什么还开这么高数值呢)\nanimals: 15\n3.在spigot.yml中设置\nentity-activation-range\nanimals: 15\nmonsters: 24\n4.在bukkit.yml中设置\nanimal-spawns: 1200\n5.安装villager optimiser插件[优化] Villager Optimiser —— 优化1.14.2以上的村民寻路以减少卡顿 [1.14.2-1.15]\nhttps://www.mcbbs.net/thread-876653-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n现在看timings越来越细致了\n\n\n\n"
        },
        {
            "author": "592764254",
            "timestamp": 1585739400,
            "txt_content": "使用us堆叠生物或者用neverlag这一类插件定时清理生物"
        },
        {
            "author": "Becod_",
            "timestamp": 1585739520,
            "txt_content": "592764254 发表于 2020-4-1 19:10\n使用us堆叠生物或者用neverlag这一类插件定时清理生物\n请看完帖子再回答\n不需要进行生物的清理\nus堆叠以及neverlag版本不支持"
        },
        {
            "author": "结城希亚",
            "timestamp": 1585739520,
            "txt_content": "铁傀儡占用挺高\n让玩家少弄点吧，或者选择冻结掉\n[优化]Simple Anti-Mob Lag —— 冻结生物以缓解卡服|已兼容至1.15[1.9-1.15]\nhttps://www.mcbbs.net/thread-874306-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n\n而且你tps挺健康啊，有18"
        },
        {
            "author": "Becod_",
            "timestamp": 1585739700,
            "txt_content": "结城希亚 发表于 2020-4-1 19:12\n铁傀儡占用挺高\n让玩家少弄点吧，或者选择冻结掉\n[优化]Simple Anti-Mob Lag —— 冻结生物以缓解卡服|已兼 ...\n服务器长期只有我一人，主楼忘了说了\n铁傀儡习惯整一堆，不用自己杀怪\nSAML插件已经有了主要是即使19的tps我也觉得有些卡顿"
        },
        {
            "author": "结城希亚",
            "timestamp": 1585739760,
            "txt_content": " 本帖最后由 结城希亚 于 2020-4-1 19:18 编辑 \nBecod_ 发表于 2020-4-1 19:15\n服务器长期只有我一人，主楼忘了说了\n铁傀儡习惯整一堆，不用自己杀怪\nSAML插件已经有了主要是即使19的tps ...\n还卡？在spigot.yml里找max-tick-time:\n把下面的entity和tile数值改为3000\n\n而且村民也有点卡服（还有乌龟）\n[优化] Villager Optimiser —— 优化1.14.2以上的村民寻路以减少卡顿 [1.14.2-1.15]\nhttps://www.mcbbs.net/thread-876653-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1585739940,
            "txt_content": "Becod_ 发表于 2020-4-1 19:15\n服务器长期只有我一人，主楼忘了说了\n铁傀儡习惯整一堆，不用自己杀怪\nSAML插件已经有了主要是即使19的tps ...\n19tps都卡吗\nmax tick time两个数值50应该够了吧...\n看一下是不是网络问题呢\n另外把这两个数值修改到200"
        },
        {
            "author": "蟹蒙老鸽",
            "timestamp": 1585740300,
            "txt_content": "你可能把优化类插件给删除了,重新找一个生物限制或者生物堆叠的插件吧"
        }
    ]
}