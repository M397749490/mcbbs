{
    "title": "疯狂抽奖-CrazyCrates插件报错",
    "author": "WhiteXFox",
    "replyCount": 7,
    "timestamp": 1595851860,
    "txt_content": " 本帖最后由 WhiteXFox 于 2020-7-27 22:27 编辑 \n\n[20:08:05 错误] null\norg.bukkit.command.CommandException: Unhandled exception executing command 'ccrate' in plugin CrazyCrates v1.10-RELEASE] \nat org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[PluginCommand.class:2b0299e] \nat org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:141) ~[SimpleCommandMap.class:2b0299e] \nat org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchCommand(CraftServer.java:740) ~[CraftServer.class:2b0299e] \nat net.minecraft.network.NetHandlerPlayServer.func_147361_d(NetHandlerPlayServer.java:1586) [pa.class:?] \nat net.minecraft.network.NetHandlerPlayServer.func_147354_a(NetHandlerPlayServer.java:1414) [pa.class:?] \nat net.minecraft.network.play.client.CPacketChatMessage.func_148833_a(CPacketChatMessage.java:45) [la.class:?] \nat net.minecraft.network.play.client.CPacketChatMessage.func_148833_a(CPacketChatMessage.java:9) [la.class:?] \nat net.minecraft.network.PacketThreadUtil$1.run(SourceFile:13) [hv$1.class:?] \nat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [?:1.8.0_261] \nat java.util.concurrent.FutureTask.run(Unknown Source) [?:1.8.0_261] \nat net.minecraft.util.Util.func_181617_a(SourceFile:46) [h.class:?] \nat net.minecraft.server.MinecraftServer.func_71190_q(MinecraftServer.java:844) [MinecraftServer.class:?] \nat net.minecraft.server.dedicated.DedicatedServer.func_71190_q(DedicatedServer.java:464) [nz.class:?] \nat net.minecraft.server.MinecraftServer.func_71217_p(MinecraftServer.java:778) [MinecraftServer.class:?] \nat net.minecraft.server.MinecraftServer.run(MinecraftServer.java:621) [MinecraftServer.class:?] \nat java.lang.Thread.run(Unknown Source) [?:1.8.0_261] \nCaused by: java.lang.ArrayIndexOutOfBoundsException: -1] \nat java.util.Arrays$ArrayList.set(Unknown Source) ~[?:1.8.0_261] \nat net.minecraft.util.NonNullList.set(SourceFile:51) ~[fi.class:?] \nat org.bukkit.craftbukkit.v1_12_R1.inventory.CraftInventoryCustom$MinecraftInventory.func_70299_a(CraftInventoryCustom.java:126) ~[CraftInventoryCustom$MinecraftInventory.class:2b0299e] \nat org.bukkit.craftbukkit.v1_12_R1.inventory.CraftInventory.setItem(CraftInventory.java:102) ~[CraftInventory.class:2b0299e] \nat me.badbones69.crazycrates.controllers.GUIMenu.openGUI(GUIMenu.java:105) ~[%5B1.8.X-1.15.X%5D-疯狂抽奖-CrazyCrates.v1.10.jar:?] \nat me.badbones69.crazycrates.commands.CCCommand.onCommand(CCCommand.java:48) ~[%5B1.8.X-1.15.X%5D-疯狂抽奖-CrazyCrates.v1.10.jar:?] \nat org.bukkit.command.PluginCommand.execute(PluginCommand.java:43) ~[PluginCommand.class:2b0299e] \n... 15 more] \n\n重载插件的时候都是正常的\n但是输入指令/ccrate就出现\n\n\n\n\n2`WJXI7C0@$SJO2YU4ZIR)8.png (3.56 KB, 下载次数: 0)\n\n下载附件\n\n2020-7-27 20:11 上传\n\n\n\n\n\n控制台报错在上面\n\n用编辑器生成的内容替换了/plugins/CrazyCrates/Crates/Basic.yml\n这个路径的内容\n里面的内容如下\n#编辑器作者:QQ1428175072Crate:\n  #抽奖模式，不同模式不同效果 (CSGO跑马灯/QuadCrate平台/QuickCrate快速箱子/Roulette乱码/CrateOnTheGo/FireCracker/Wonder混元归一/Wheel**/War九选一/Cosmic几率等级(cosmic抽奖，与其它几种抽奖设置不同)).\n  # CSGO抽奖类型指的就是跑马灯类型的抽奖，每次抽出1个奖品\n  CrateType: Wheel\n  #抽奖箱的名字\n  CrateName: '绿色魔纹宝箱'\n  #当玩家第一次进服，他能获得几个开这个箱子的钥匙（某些特殊服可能会用到此功能）\n  StartingKeys: 0\n  #这种抽奖是在GUI菜单进行的吗 (如果抽奖模式是 QuickCrate/CrateOnTheGo/FireCracker 那么抽奖将失效，因为它们不能在GUI菜单里进行)\n  InGUI: true\n  #这个抽奖在菜单中的哪一个位置？\n  Slot: \n  #启用/禁止开启抽奖箱全服公告\n  OpeningBroadCast: true\n  BroadCast: '%Prefix%&6&l%Player% &7打开了一个 &2&l绿色魔纹宝箱&7.'\n  Item: '54'\n  Name: '&2绿色魔纹宝箱'\n  Lore: \n    - '&a绿色魔纹宝箱'\n    - '&e%Player%点我打开'\n    - '&e您目前剩余%Keys%个钥匙'\n  # 打开此抽奖箱的 真实 物品钥匙的属性，管理员使用/ccrate admin可以获得钥匙\n  PhysicalKey:\n    Name: '&a&l绿色魔纹宝箱钥匙'\n    Lore:\n      - '&a可用此钥匙开启绿色魔纹宝箱'\n    Item: '351'\n    #钥匙是否附魔\n    Glowing: true\n  Prizes: #奖品设置\n    1:\n      #奖品的名字\n      DisplayName: \"\\u6d4b\\u8bd5\\u0031\"\n      #奖品的种类\n      DisplayItem: '1'\n      #预览奖品的数量(不是实际赢得的数量)\n      DisplayAmount: 1\n      Lore: #物品的lore\n#商品lore头\n        - '&a这只是个测试lore'\n#商品lore尾\n      #抽奖的总几率，总几率是100% \n      MaxRange: 100\n      #抽到此物品的几率，几率是40/100\n      Chance: 90\n      #赢得此奖品，是否出现烟花效果\n      Firework: true\n      #此物品是否附魔\n      Glowing: false\n      Commands:\n#指令头\n        - 'give %Player% 1'\n#指令尾\n      Messages:\n        - '&a&l恭喜获得石头*1'\n#三选一:2\n#商品结尾\n\n\n\n\n也只更改了这个内容\n问题已解决...\n刚刚自检了一下 才发现是Slot: 没有填写...\n\n",
    "replies": [
        {
            "author": "远远饿了",
            "timestamp": 1595852100,
            "txt_content": "你是用plugman或者yum重载的么\n直接重启服务器再看看"
        },
        {
            "author": "WhiteXFox",
            "timestamp": 1595852520,
            "txt_content": "远远不吃瓜了 发表于 2020-7-27 20:15\n你是用plugman或者yum重载的么\n直接重启服务器再看看\n插件自带的reload\n另外我已经重启了一次 还是这样"
        },
        {
            "author": "远远饿了",
            "timestamp": 1595852640,
            "txt_content": "WhiteXFox 发表于 2020-7-27 20:22\n插件自带的reload\n另外我已经重启了一次 还是这样\n好像是哪个配置文件的问题\n等一下专业的罢"
        },
        {
            "author": "WhiteXFox",
            "timestamp": 1595852760,
            "txt_content": "远远不吃瓜了 发表于 2020-7-27 20:24\n好像是哪个配置文件的问题\n等一下专业的罢\n我用ccrates的编辑器修改了里面的文件\n/plugins/CrazyCrates/Crates/Basic.yml复制代码\n这个是路径"
        },
        {
            "author": "乔木啊",
            "timestamp": 1595854980,
            "txt_content": "转码为服务端适合编码"
        },
        {
            "author": "放飞白天",
            "timestamp": 1595856660,
            "txt_content": "你服务器版本是1.12.2以下的吗，如果不是请把物品ID改为英文ID"
        },
        {
            "author": "炫宙菌",
            "timestamp": 1595859240,
            "txt_content": "一般这种问题\n1.YAML语法错误 少一个冒号就会出现\n2.插件缺少前置或者版本不适用\n3.使用外部插件重载此插件或/restart指令导致"
        }
    ]
}