{
    "title": "[安全][上古之石]ImpossibleBreak —— 反起床战争隔空偷床外挂[全版本]",
    "author": "筒子",
    "replyCount": 23,
    "timestamp": 1495807800,
    "txt_content": " 本帖最后由 1582952890 于 2017-9-16 13:32 编辑 \n\n[ 反起床战争隔空偷床外挂 ]-ImpossibleBreak-\n作者：andylizi\n插件介绍：\n   一句话，防止玩家使用外挂进行隔空偷床，插件已在百人小游戏服务器测试过几个月，没有接到过任何误报反馈，应该是很安全的\n\n安装方法：\n   丢到服务端里面运行即可，注意服务器必须要使用java8或者以上\n展示图片：\n\n\n（烟雾是调试时使用的，用来标明密封检查遍历到了哪些方块）\n配置文件：\n checkImpossibleBreak: \n    checkTypes:   # 方块被破坏时，检查哪些类型。默认只有床。支持数字id，不支持副id\n        - BED_BLOCK\n    \n    # 判定床是否处于封闭空间检测时的最大范围, 强烈建议不了解用途的情况下不要修改\n    maxDistance: 9\n   # 搜索的最大深度(方块数), 强烈建议不了解用途的情况下不要修改\n    searchDepth: 16\ncheckBreakSpeed:\n    # 是否检查拆床的速度过快的情况\n    enable: true\n    # 如果同一个玩家拆除两个床方块之间的时间间隔小于此值（毫秒）, 就判定为作弊\n    maxBreakSpeed: 200\nmessages:\n    broadcast:\n        # 检测到隔空拆床外挂时，全服广播信息，支持彩色，%s 替换玩家名字\n        impossibleBreak: \"&7玩家 %s &7因使用隔空拆床作弊被踢出游戏\"\n        # 检测到拆床速度过快时的广播信息，同上\n        fastBreak: \"&7玩家 %s &7因使用自动拆床被踢出游戏\"\n    kick:\n        # 踢出信息同上。\n        impossibleBreak: \"&c检测到隔空拆床作弊\"\n        fastBreak: \"&c检测到自动拆床作弊\" 复制代码 开源地址：https://github.com/andylizi/ImpossibleBreak\nMIT协议：允许分发，修改，商业用途，私人用途；但需保留作者信息。 \n\n\"理论上这个插件在默认配置文件情况下不会产生误报，或有任何理论上能绕过的办法，欢迎反馈\"\n“本帖内容禁止各种资源网站/论坛二次转载”\n",
    "replies": [
        {
            "author": "andylizi",
            "timestamp": 1495807860,
            "txt_content": " 本帖最后由 andylizi 于 2017-5-27 16:59 编辑 \n\n谢谢啦~\n\n一些补充说明：\n\n此插件的密封检测原理只能防止外挂直接隔空拆除“周围被堵死的床”。\n如果外挂玩家所处的位置可以从任何一个角度（不管是什么角度，合理或不合理的角度）通过任何大小的缝隙“够到”床的话，此插件不会将其判定为外挂（至少 impossiblebreak 检测不会，但 breakspeed 检测说不定，它工作原理不同）。\n\n不过鉴于正常玩家玩起床时都会把床包的死死的，这应该不是什么大问题啦。\n\n此插件不会阻止玩家在正常游戏逻辑支持的情况下，比如通过台阶之间的缝隙来拆床。仅会在完全不正常的行为（床6个面都被包的好好的，可玩家却把成功它拆了）下才会触发 impossiblebreak 机制。因此理论上来说不可能误报，理论上来说外挂是没有办法绕过的。\n\n不过，像世界上所有的反作弊系统一样，在延迟极高的情况下，什么都是有可能且无可避免的会发生的，这种误报不被考虑在内。\n\n关于开源：免费发布此插件只是为了对中国小游戏服的环境做一点微小的工作，github上的源码里注释非常的非常的全面（全面到写完后我这辈子再也不想写注释和文档），热烈欢迎各种pull request及不通知本人的再修改。\n\n由于使用到了一些（好吧，是大量） Java 8 的新特性，因此你可能需要学会一些 Lambda 、函数式接口与 SteamAPI 的基础知识才能正常理解与修改源码。\n\n如果想知道此插件的工作原理，可以参考 BlockChecker类的文档 和 主类的相关注释。\n\n同样，欢迎各位借用此插件的想法开发新的相关反作弊插件（不过放个Credit最好啦）。在明显位置注明了作者的情况下，也欢迎各位不加询问的使用此插件的源码。"
        },
        {
            "author": "a8105",
            "timestamp": 1495807920,
            "txt_content": "andylizi 发表于 2017-5-26 22:11\n谢谢啦~\n\n配置文件部分好像乱码了呢\n还有本地图片←_←"
        },
        {
            "author": "。—。",
            "timestamp": 1495810560,
            "txt_content": "andylizi 发表于 2017-5-26 22:11\n谢谢啦~\n\n一些补充说明：\n所以说开高画质的时候树叶会透明这类东西就……无视？。。\n话说要是1.12又加了一波镂空方块该咋办……"
        },
        {
            "author": "andylizi",
            "timestamp": 1495811160,
            "txt_content": "a6809936 发表于 2017-5-26 22:56\n所以说开高画质的时候树叶会透明这类东西就……无视？。。\n话说要是1.12又加了一波镂空方块该咋办…… ...\n啊对了，我没考虑到1.8以上的新方块。不过，起床战争里一般不会用到那些新方块吧。。？\n跟画质没有关系的，插件处理的是碰撞箱，不管客户端那边看起来是什么样子。"
        },
        {
            "author": "chyx",
            "timestamp": 1495813320,
            "txt_content": "andylizi 发表于 2017-5-26 23:06\n啊对了，我没考虑到1.8以上的新方块。不过，起床战争里一般不会用到那些新方块吧。。？\n跟画质没有关系的 ...\n没懂起床什么的。。。\n\n是指检查玩家隔着方块破坏别的方块的行为是吧\n\n对于石头墙方块上方的1.5格能工作正常么？\n"
        },
        {
            "author": "chyx",
            "timestamp": 1495813740,
            "txt_content": "chyx 发表于 2017-5-26 23:42\n没懂起床什么的。。。\n\n是指检查玩家隔着方块破坏别的方块的行为是吧\n还有 如果玩家和试图破坏的床之间有一个管道联通 但是管道有拐弯 这样应该也不能被允许的。 \n\n这能被检查出来么？"
        },
        {
            "author": "andylizi",
            "timestamp": 1495875360,
            "txt_content": " 本帖最后由 andylizi 于 2017-5-27 16:57 编辑 \nchyx 发表于 2017-5-26 23:49\n还有 如果玩家和试图破坏的床之间有一个管道联通 但是管道有拐弯 这样应该也不能被允许的。 \n\n这能被检查 ...\n那样算法就会变得太复杂，检查所消耗的资源可能超出接受范围，且算法本身可能超出我的能力，并且使误报率大大提升（受玩家位置影响的检测项目，对延迟的要求很高）\n\n     \n  \n  \n\n    \n\n（红石块为床），在这样的情况下，玩家隔空破坏红石块是被允许的，因为红石块没有被完全包围\n但是在起床战争里，正常的玩家一般都会选择把床包的死死的，所以上图所示的情况一般不会出现，影响应该不会太大。。毕竟，敌方破坏了床的包围方块，与床本身被拆也差不了多远了"
        },
        {
            "author": "chyx",
            "timestamp": 1495908780,
            "txt_content": "andylizi 发表于 2017-5-27 16:56\n那样算法就会变得太复杂，检查所消耗的资源可能超出接受范围，且算法本身可能超出我的能力，并且使误报率 ...\n哦？\n游戏生物的AI检查能不能看见玩家吗？\n\n这个不就是能不能直线够到床吗？\n\n\n\n\n\n\n看你的描述 这是一个类似于夺旗的小游戏是吧"
        },
        {
            "author": "RE_OVO",
            "timestamp": 1495911960,
            "txt_content": "这个BedFu*cker作弊.......类似于Nuker(锁定材质式Nuker)\n在某个小游戏里，我是这么检测的，直接在玩家头顶或者其他什么地方生成一个假方块，如果他挖了，就是作弊了，kick for hacking ,xd"
        },
        {
            "author": "andylizi",
            "timestamp": 1495974360,
            "txt_content": "jebme 发表于 2017-5-28 03:06\n这个BedFu*cker作弊.......类似于Nuker(锁定材质式Nuker)\n在某个小游戏里，我是这么检测的，直接在玩家头顶 ...\n啊，这个办法好！"
        },
        {
            "author": "andylizi",
            "timestamp": 1495975440,
            "txt_content": "chyx 发表于 2017-5-28 02:13\n哦？\n游戏生物的AI检查能不能看见玩家吗？\n如果能准确的检查“能不能看见玩家”那可以解决近一半的作弊手段了。特别是最令人头疼的，危害极大、误报率极高、对延迟要求极高的的，检测对资源的消耗高且算法难度大的杀人光环系列外挂。\n\n这个不是能不能直线够到床，而是“有没有可能直线够到床”。比如，如果床四周都被包裹了，那么玩家无论在哪个角度都不可能够到床，不管是不是直线。\n因此，当玩家尝试破坏一个被包的死死的床时，那肯定是外挂了。\n\n夺旗这个比喻恰当的不能再恰当了。"
        },
        {
            "author": "L迪亚波罗L",
            "timestamp": 1501325040,
            "txt_content": "Boom Boom Pow(Clean)"
        },
        {
            "author": "ETshuai",
            "timestamp": 1520999940,
            "txt_content": "感谢版主~~"
        },
        {
            "author": "21504010",
            "timestamp": 1532084940,
            "txt_content": "终于有这么一款插件了"
        },
        {
            "author": "@TGL",
            "timestamp": 1533982140,
            "txt_content": "作者补下链接"
        },
        {
            "author": "1204074991",
            "timestamp": 1546054980,
            "txt_content": "连接挂了？"
        },
        {
            "author": "931927972",
            "timestamp": 1564390380,
            "txt_content": "网盘挂了qwq"
        },
        {
            "author": "忆故渊",
            "timestamp": 1584419640,
            "txt_content": "作者补下链接呗"
        },
        {
            "author": "q2529608758",
            "timestamp": 1586231040,
            "txt_content": "链接挂了能不能补上"
        },
        {
            "author": "yf639898",
            "timestamp": 1596956040,
            "txt_content": "链接没了，作者补一下"
        },
        {
            "author": "冷修缘",
            "timestamp": 1600171680,
            "txt_content": "谢谢楼主，反作弊很好"
        },
        {
            "author": "小小的布丁",
            "timestamp": 1602129420,
            "txt_content": "为什么被取消了？？？？？？？？"
        },
        {
            "author": "486670769",
            "timestamp": 1611382020,
            "txt_content": " MCBBS有你更精彩~"
        }
    ]
}