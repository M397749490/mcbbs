{
    "title": "论你坛为什么没有靠谱的手机app",
    "author": "Zapic",
    "replyCount": 2,
    "timestamp": 1567044480,
    "txt_content": " 本帖最后由 Zapic 于 2019-8-29 10:08 编辑 \n\n手机app什么的之前很多人做过,但是要么就是套壳浏览器,要么就是…\n好吧…\n就是套壳浏览器...\n\n其实Discuz有mobile的API.\n还是开源的,通过分析代码你大概就能搞到API的请求方式是什么.\nhttps://github.com/Discuz-X/DiscuzX/tree/Common/api/mobile\n除了一点.\n你坛用的是Discuz v3.4.\n开源的是v3.1.\n不过问题不大吧…\n\n大问题在哪?\n你坛已经高度魔改了,甚至…\n把很多API改废了.\n就比如这个,用于获取论坛板块列表的API,\nDiscuz官方论坛:\nhttp://www.discuz.net/api/mobile/index.php?module=forumindex\n你坛:\nhttps://www.mcbbs.net/api/mobile/index.php?module=forumindex\n前者正常返回了数据,后者当场301暴毙.\n当然,不仅仅改废了这一个,比如用于登录的login以及一大堆基本功能API都被改废了.\n\n改废了不算,没废的也是个半残.\n在这里不举例子了,自己可以尝试了解一下.\n\n那是不是注定你坛没有靠谱的手机客户端?\n当然不是.\n获取数据又不是要吊死在API上.\n我们可以直接从源页面获取.\n然后用成吨的正则表达式匹配到天荒地老.\n哦不,是你写成吨正则表达式写到天荒地老.\n而且还会有以下情况:\n1.肯定有意外情况,比如论坛又双叒叕开始魔改了.\n2.还是逃不出webview的噩梦.\n3.考虑一些论坛特性,例如极验和网易云音乐.\n当然,如果真的有人用正则表达式搞出了一个或者什么别的骚操作:\n为他打call吧,他绝对是个dalao.\n\n你干脆把数据库给我吧SQL操作还简单点.\n\n你坛手机客户端,道路艰辛.",
    "replies": [
        {
            "author": "文艺男ya",
            "timestamp": 1567045020,
            "txt_content": "前排观摩嘿嘿嘿~"
        },
        {
            "author": "xiaopangju",
            "timestamp": 1567045140,
            "txt_content": "确实，但是浏览器真的够了"
        }
    ]
}