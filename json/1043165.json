{
    "title": "求助，关于物品lore问题",
    "author": "847696260",
    "replyCount": 9,
    "timestamp": 1589162220,
    "txt_content": "        @EventHandler\n        public void onDamage(EntityDamageByEntityEvent e) {\n                Entity p = e.getDamager();\n                if (p instanceof Player) {\n                        ItemStack hand = ((Player) p).getItemInHand();\n                        if (p != null && hand.getItemMeta().getLore().contains(\"测试武器\")){\n                        //执行\n                        }\n\n\n\n获取了玩家手里物品的lore\n但是如果我把物品的lore加上颜色，例如&e&l测试武器\n执行里的命令就不起作用了，求解\n",
    "replies": [
        {
            "author": "MC_longxi",
            "timestamp": 1589170620,
            "txt_content": "这个很舒服"
        },
        {
            "author": "MC_longxi",
            "timestamp": 1589170620,
            "txt_content": "这个插件用这一直很舒服"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1589171160,
            "txt_content": "先用ChatColor.stripColor移除颜色代码，然后判断contains\nhttps://hub.spigotmc.org/javadoc ... r-java.lang.String-"
        },
        {
            "author": "a8105",
            "timestamp": 1589199780,
            "txt_content": "因为List的contains跟string的contains不一样,是完全符合判断\n你需要遍历这个list再调用string的contains\nfor(String a:loreList)\n{\n    if(a.contains(\"测试武器\")){\n\n    }\n}"
        },
        {
            "author": "结城希亚",
            "timestamp": 1589209380,
            "txt_content": "a8105 发表于 2020-5-11 20:23\n因为List的contains跟string的contains不一样,是完全符合判断\n你需要遍历这个list再调用string的contains\nf ...\n请问下\n这个“完全符合判断”是什么意思\n\n像equals一样？"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1589215680,
            "txt_content": "结城希亚 发表于 2020-5-11 23:03\n请问下\n这个“完全符合判断”是什么意思\nList的contains是List中的一个element 不能是其中一个的一部分\n比如List<ItemStack>  "
        },
        {
            "author": "a8105",
            "timestamp": 1589224140,
            "txt_content": "结城希亚 发表于 2020-5-11 23:03\n请问下\n这个“完全符合判断”是什么意思\n就是equals\n所以如果要判断List内的每行字符串含有什么\n需要遍历List然后调用字符串的contains而不应该使用List的contains"
        },
        {
            "author": "William_Shi",
            "timestamp": 1589243640,
            "txt_content": "结城希亚 发表于 2020-5-11 23:03\n请问下\n这个“完全符合判断”是什么意思\n比如说有一个list\n\n- 12345\n- 6789\n\n这个list的contains方法，只有12345和6789传入才会返回true\n如果你传1234，那么contains返回false\n\n最简单的方法肯定是strip color\n要不然直接上nbt，对玩家来说眼不见为净也没必要设置什么颜色了\n\n（当然好像有一些客户端可能是因为材质包吧，能够看到nbt，但是我一直是看不到的，都用的cmi itemnbt来梳理nbt数据包"
        },
        {
            "author": "847696260",
            "timestamp": 1589247840,
            "txt_content": "a8105 发表于 2020-5-11 20:23\n因为List的contains跟string的contains不一样,是完全符合判断\n你需要遍历这个list再调用string的contains\nf ...\n通过你的启发我重写的代码，发现成功了不管lore是\n&e&l测试武器\n&e&l属性：测试武器\n都有效果了\n\n但是出现个问题\n现在我使用原版物品攻击生物的时候控制台出现了错报\n包括我的手，但是只要我给物品添加上lore就没有错报了（物品名字除外）\n求指点"
        }
    ]
}