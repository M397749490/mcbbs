{
    "title": "电脑MOD例程集锦（持续更新中）",
    "author": "DJXGAME",
    "replyCount": 16,
    "timestamp": 1347811800,
    "txt_content": " 本帖最后由 DJXGAME 于 2012-9-17 00:11 编辑 \n\n——ComputerCraft语言例程集锦——迎新版块，特翻译诸多国外MOD资料祝贺\n名称：简易计算器\n功能：实现加减乘除四则运算\n代码：\n\nprint(\"Welcome to the calculator!\")\n\nrepeat\n\nprint (\"Please choose one of the four option: for addition type '+', for abstraction type '-', for multiplication type '*' and for division type '/'.\")\ncalc_q = read()\nprint(\"Put your first number here: \")\nnumber1 = read()\nprint(\"Put your second number here: \")\nnumber2 = read()\n\nif calc_q == \"+\" then\nresult = number1+number2\nprint(\"The result is: \")\nprint(result)\n\nelseif calc_q == \"-\" then\nresult = number1-number2\nprint(\"The result is: \")\nprint(result)\n\nelseif calc_q == \"*\" then\nresult = number1*number2\nprint(\"The result is: \")\nprint(result)\n\nelseif calc_q == \"/\" then\nresult = number1/number2\nprint(\"The result is: \")\nprint(result)\n\nelse print(\"You put the wrong operation!\")\nend\n\nprint(\"If you want to use the calculator again, press enter. If you want to exit the program, type 'exit'\")\ncontinue_q = read()\n\nuntil (continue_q == \"exit\") \n\nprint(\"Thank you for usining Pop's calculator!\")\n复制代码\n\n名称：2D ASCII风格游戏\n功能：玩游戏\n代码：\n\n--[[\nplace this file under .minecraft/mods/ComputerCraft/lua/rom/programs\n\nto make a game with this api, make a new file and type shell.run('gameapi') at the top, the functions will then be available for you to use.\n\nBreif Explanation of Functions:\n\nactor:new(x, y, char[, bounded])\nreturns a new actor at the x and y positions on the terminal\nbounded is a boolean which will determine whether or not your actor's movement is limited to the console window, true by default.\n\nactor.x\nthe actor's x position\n\nactor.y\nthe actor's y position\n\nactor.char\nthe character representing the actor on screen\n\nactor.bounded\nwhether or not the actor can go outside the screen\n\nactor:setPos(x,y)\nsets the actor's position\n**this method and other positioning methods must be used in order for the actor's position to be updated onscreen\n\nactor:addPos(x,y)\nadds to the actor's position\n\nactor:setX(n)\nsets the actor's x position to n\n\nactor:setY(n)\nsets the actor's y position to n\n\nactor:addX(n)\nadds n to the actor's x position\n\nactor:addY(n)\nadds n to the actor's y position\n\nactor:setChar(char)\nchange the actor's character to char\n\ngame.key(k)\nuser defined, triggered when a key is pressed\n\ngame.update()\nuser defined, triggered when a new frame is drawn\n\ngame.start()\nrequired for the game to start, obviously\n**any code after this function will not be ran until the game has stopped\n\ngame.stop()\nquit the program\n\nExample at http://pastebin.com/D78fft65\n\n/*---*/\n\nChangelog:\n\nr1:\nReleased API\n\nr4:\nAdded 'game:setChar()' to change an actor's characters\nAdded a 'bounded' attribute if you wanted an actor to be able to go outside the screen.\nAdded 'screen.width' and 'screen.height' as editable attributes to allow for custom widths and heights\n\nr5:\nChanged instructions for usage.\n]]\n\n\nterm.clear()\nprint [[GameAPI r5\nPress Backspace at any time to exit the game.]]\n\nsleep(2)\nscreen = {}\nscreen.width = 40\nscreen.height = 15\nscreen.actors = {}\n\nfunction round(v,int)\n        local int = (int~=nil) and int or 1\n        local n = v%int\n        \n        if n >= int/2 then\n                return (v-n)+int\n        else\n                return (v-n)\n        end\nend\n\nfor y=1,screen.height do\n        local t = {}\n        for x=1,screen.width do\n                table.insert(t,' ')\n        end\n        table.insert(screen.actors,t)\nend\n\nfunction draw()\n        term.clear()\n        for y,v in pairs(screen.actors) do\n                local line = ''\n                for x,vv in pairs(v) do\n                        line = line .. vv\n                end\n                print(line)\n        end\nend\n\nfunction format(actor)\n        if actor.bounded then\n                actor.x = (actor.x>1) and actor.x or 1\n                actor.x = (actor.x<screen.width) and actor.x or screen.width\n                actor.y = (actor.y>1) and actor.y or 1\n                actor.y = (actor.y<screen.height) and actor.y or screen.height\n        end\n        screen.actors[round(actor.y)][round(actor.x)] = actor.char\n        return actor\nend\n\nactor = {}\n\nfunction actor:new(x,y,char,b)\n        actor.x = x\n        actor.y = y\n        actor.char = char\n        actor.bounded = (b~=nil) and b or true\n        screen.actors[round(y)][round(x)] = char\n        return format(actor)\nend\n\nfunction actor:setPos(x,y)\n        screen.actors[actor.y][actor.x] = ' '\n        actor.x = x\n        actor.y = y\n        actor = format(actor)\nend\n\nfunction actor:setX(x)\n        screen.actors[actor.y][actor.x] = ' '\n        actor.x = x\n        actor = format(actor)\nend\n\nfunction actor:setY(y)\n        screen.actors[actor.y][actor.x] = ' '\n        actor.y = y\n        actor = format(actor)\nend\n\nfunction actor:addPos(x,y)\n        screen.actors[actor.y][actor.x] = ' '\n        actor.x = actor.x + x\n        actor.y = actor.y + y\n        actor = format(actor)\nend\n\nfunction actor:addX(x)\n        screen.actors[actor.y][actor.x] = ' '\n        actor.x = actor.x + x\n        actor = format(actor)\nend\n\nfunction actor:addY(y)\n        screen.actors[actor.y][actor.x] = ' '\n        actor.y = actor.y + y\n        actor = format(actor)\nend\n\nfunction actor:setChar(char)\n        screen.actors[actor.y][actor.x] = char\n        actor.char = char\nend\n\nfunction actor:destroy()\n        screen.actors[actor.y][actor.x] = ' '\n        actor = nil\nend\n\ngame = {}\ngame.state = 'running'\n\nfunction game.quit()\n        term.clear()\n        game.state = 'dead'\nend\n\nfunction game.start()\n        os.startTimer(1/30)\n        while game.state == 'running' do\n                local t,k = os.pullEvent()\n                if t == 'timer' then\n                        draw()\n                        if game.update ~= nil then game.update() end\n                        os.startTimer(1/30)\n                elseif t == 'key' then\n                        if k == 14 then\n                                game.quit()\n                        else\n                                if game.key ~= nil then game.key(k) end\n                        end\n                end\n        end\nend\n复制代码\n\n名称：时钟\n功能：计时\n代码：\n\n--Title: TangentLock\n--Version: Ver. 4\n--Last Revised: 1/6/2012\n--Last Revised By: TangentDelta (alias Hydrogen)\n--Author: TangentDelta (alias Hydrogen)\n--Platform: ComputerCraft LUA Virtual Machine\n--Notes: Please don't claim this as your own, give me credit if you use this!\n\nright = \"password\"\ndebug = \"debug\"\noutputface = \"right\"\nprotectmode = true\nprotectside = \"left\"\nopentime = 5\nmaxtries = 3\ntries = 0\nhint = \"for debugging purposes\"\nfunction TangentLock()\npassword()\nif user == debug then\n print \"Leaving TangentLock. Entering CraftOS\"\n shell.run\"shell\"\nend\nif user == right then\n print \"Password Correct\"\n correct()\nend\nif user == \"credits\" then\n print \"TangentLock Version 4.0\"\n print \"A program by TangentDelta (Alias Hydrogen)\"\n print \"Please don't edit/remove this text right here.\"\n print \"This is my signature on my artwork.\"\n sleep(10)\n TangentLock()\nend\nif user == \"hint\" then\n print (hint)\n sleep(5)\nend\nif not(user == right) or (user == debug) or (user == \"credits\") or (user == \"hint\") then\n if tries == maxtries -1 then\n  if protectmode then\n   protect()\n    else\n   print \"Too Many Wrong Tries\"\n   print \"Shutting Down Now\"\n   sleep (3)\n   os.shutdown()\n  end\n   else\n  print \"Incorrect Password.\"\n  tries = tries+1\n  print (\"Tries Left: \", maxtries - tries)\n  sleep(5)\n  TangentLock()\n end\nend\nend\nfunction correct()\n sleep(1)\n shell.run(\"clear\")\n rs.setOutput(outputface, true)\n sleep(opentime)\n rs.setOutput(outputface, false)\n os.shutdown()\nend\nfunction protect()\n rs.setOutput(protectside, true)\n sleep(1)\n rs.setOutput(protectside, false)\n os.shutdown()\nend\nfunction password()\n shell.run(\"clear\")\n print (\"TangentLock 4.0 Running On Computer \", os.getComputerID())\n print \"To view copyright and credits, type ' credits'\"\n write \"Password: \"\n user=io.read()\nend\nTangentLock()\n复制代码\n\n名称：腾讯QQ\n功能：聊天\n代码：\n\nsClockIn = \"left\"\nsClockOut = \"bottom\"\nsDataIn = \"right\"\nsDataOut = \"top\"\nsUserName = \"???\"\n\nlocal bClock = false\nlocal a = {}\nlocal b = {}\nlocal aPorts = {}\n\nlocal aChat = { [1] = \"<SYS> Welcome to MC-Chat! (Pause/Break to exit)\" }\nlocal nChatLine = 1\n\nlocal sMessageOut = \"\"\nlocal bRunning = true\nlocal nBitCount = 0\nlocal sBits = \"\"\nlocal bIncoming = false\nlocal sIncoming = \"\"\n\nfor n=1,8 do\n  table.insert(b, 0)\n  table.insert(aPorts, 0)\nend\n\nfor n=0,255 do\n  table.insert(a, 0)\n  a[n] = b[1] .. b[2] .. b[3] .. b[4] .. b[5] .. b[6] .. b[7] .. b[8]\n  b[8] = b[8] + 1\n  for n2=1,7 do\n        if b[9-n2] == 2 then\n          b[9-n2] = 0\n          b[8-n2] = b[8-n2] + 1\n        end\n  end\nend\n\n\nlocal function Int2Bin(int)\n  return a[int]\nend\n\nlocal function ClockPulse(bC)\n  sleep(0.005)\n  redstone.setOutput(sClockOut, bC)\nend  \n\nlocal function chatBox()\n  term.setCursorPos( 1, 17 )\n  term.clearLine()\n  for n=1,49 do\n        io.write(\"-\")\n  end\nend\n\nlocal function addChat(str)\n  if nChatLine < 16 then\n        table.insert(aChat, str)\n        nChatLine = nChatLine + 1\n  else\n        for n=1,15 do\n          aChat[n] = aChat[n+1]\n        end\n        aChat[16] = str\n  end\nend\n\n\nlocal function writeLine()\n  term.setCursorPos( 1, 18 )\n  term.clearLine()\n  io.write(\"msg> \" .. sMessageOut)\nend\n\nlocal function writeChat()\n  term.setCursorPos( 1, 1 )\n  for n=1,nChatLine do\n        term.clearLine()\n        print(aChat[n])\n  end\nend\n\nlocal function writeSendLine()\n  term.setCursorPos( 1, 18 )\n  term.clearLine()\n  io.write(\"<SENDING>\" .. sMessageOut)\nend\n\nlocal function writeGetLine()\n  term.setCursorPos( 1, 18 )\n  term.clearLine()\n  io.write(\"<INCOMIMG DATA>\")\nend\n\nlocal function dataOut(str)\n  bClock = false\n  local sData = \"\"\n\n  for n=1,string.len(str) do\n        sData = sData .. Int2Bin(string.byte(string.sub(str,n,n)))\n  end\n\n  sData = sData .. \"00000000\"\n\n  local nCount = string.len(sData)\n  sleep(0.1)\n  for n=1,nCount do\n        if bClock == true then\n          bClock = false\n        else\n          bClock = true\n        end\n        if string.sub(sData,n,n) == \"1\" then\n          redstone.setOutput(sDataOut, true)\n          ClockPulse(bClock)\n          sleep(0.01)\n        else\n          redstone.setOutput(sDataOut, false)\n          ClockPulse(bClock)\n          sleep(0.01)\n        end\n  end\n  bClock = false\n  redstone.setOutput(sDataOut, false)\n  redstone.setOutput(sClockOut, false)\nend\n\n\nterm.clear()\nterm.setCursorPos( 1, 1 )\nterm.setCursorBlink( true )\nchatBox()\nwriteChat()\nwriteLine()\nwhile bRunning do\n  local sEvent, param = os.pullEvent()\n  if bIncoming == false then\n        bClock = false\n        if sEvent == \"key\" then\n          if param == 197 then\n                bRunning = false\n          elseif param == 28 then\n                if string.sub(sMessageOut,1,1) == \"/\" then\n                  if string.sub(sMessageOut,1,6) == \"/name \" then\n                        if string.len(sMessageOut) > 6 then\n                          if string.len(sMessageOut) < 13 then\n                                sUserName = string.sub(sMessageOut,7,string.len(sMessageOut))\n                                addChat(\"<SYS> Name changed to '\" .. sUserName .. \"'.\")\n                          else\n                                addChat(\"<SYS> Name too long.(Limit 6 characters)\")\n                          end\n                        end\n                  end\n                  sMessageOut = \"\"\n                  writeChat()\n                  writeLine()\n                else\n                  if string.len(sMessageOut) > 0 then\n                        writeSendLine()\n                        sMessageOut = sUserName .. \"> \" .. sMessageOut\n                        addChat(sMessageOut)\n                        dataOut(sMessageOut)\n                        sMessageOut = \"\"\n                        writeChat()\n                        writeLine()\n                  end\n                end\n          elseif param == 14 then\n                sMessageOut = string.sub(sMessageOut,1,string.len(sMessageOut)-1)\n                writeLine()\n          end\n        end\n\n        if sEvent == \"char\" then\n          if string.len(sMessageOut) < 40 then\n                sMessageOut = sMessageOut .. param\n          end\n          writeLine()\n        end\n  else\n        if sEvent == \"key\" then\n          if param == 207 then\n                bIncoming = false\n                sIncoming = \"\"\n                writeChat()\n                writeLine()\n          end\n        end\n  end\n  \n  if sEvent == \"redstone\" then\n        if redstone.getInput(sClockIn) ~= bClock then\n          bClock = redstone.getInput(sClockIn)\n          if bIncoming == false then\n                bIncoming = true\n                writeGetLine()\n          end\n          if redstone.getInput(sDataIn) then\n                sBits = sBits .. \"1\"\n                nBitCount = nBitCount + 1\n          else\n                sBits = sBits .. \"0\"\n                nBitCount = nBitCount + 1\n          end\n          if nBitCount == 8 then\n                if sBits == \"00000000\" then\n                  bIncoming = false\n                  addChat(sIncoming)\n                  sIncoming = \"\"\n                  writeChat()\n                  writeLine()\n                else\n                  sIncoming = sIncoming .. string.char(tonumber(sBits,2))\n                end\n                sBits = \"\"\n                nBitCount = 0\n          end\n        end\n  end\nend\nterm.clear()\nterm.setCursorPos( 1, 1 )\n复制代码\n说明：\n实现具有用户名的网络通信(用户名最多支持6个字符！)按图中所示方法接线\n\n\n\n\n\n使用RPmod进行信号传输~\n\n\nP.S:\n——-----—————————————————翻译专区果然是一个好地方~谁是MOD讨论版块版主这件事情我一点都不在意的~\n谁是MOD讨论版块版主这件事情我一点都不在意的~\n",
    "replies": [
        {
            "author": "geludan",
            "timestamp": 1347811920,
            "txt_content": "支持翻译版！此帖是翻译，而不是技巧讨论，当然我说这句话什么目的也没有哦"
        },
        {
            "author": "DJXGAME",
            "timestamp": 1347811980,
            "txt_content": "geludan 发表于 2012-9-17 00:12 \n支持翻译版！此帖是翻译，而不是技巧讨论，当然我说这句话什么目的也没有哦\n对！就是不给MOD讨论版！\n翻译专区进可攻退可守，什么MOD讨论版一点都不在意！"
        },
        {
            "author": "jianghr",
            "timestamp": 1347812100,
            "txt_content": "呵呵，电脑MOD我并没研究过。代码只能瞎猜而已。\n话说慢慢的翻山越岭向新版块移贴子。"
        },
        {
            "author": "geludan",
            "timestamp": 1347812220,
            "txt_content": "jianghr 发表于 2012-9-16 17:15 \n呵呵，电脑MOD我并没研究过。代码只能瞎猜而已。\n话说慢慢的翻山越岭向新版块移贴子。\n哦？单人游戏板块也有mod吗？"
        },
        {
            "author": "$_$",
            "timestamp": 1347812340,
            "txt_content": "DJXGAME 发表于 2012-9-17 00:13 \n对！就是不给MOD讨论版！\n翻译专区进可攻退可守，什么MOD讨论版一点都不在意！\n总觉得你好像在和mod讨论版发挑战书呢，，，"
        },
        {
            "author": "DJXGAME",
            "timestamp": 1347812400,
            "txt_content": "$_$ 发表于 2012-9-17 00:19 \n总觉得你好像在和mod讨论版发挑战书呢，，，\n只是发泄我申请MOD讨论板块由于某种很幼稚的理由被否决的怨念而已……"
        },
        {
            "author": "$_$",
            "timestamp": 1347812520,
            "txt_content": "DJXGAME 发表于 2012-9-17 00:20 \n只是发泄我申请MOD讨论板块由于某种很幼稚的理由被否决的怨念而已……\n我会帮你扩大事件的不用谢我，，，"
        },
        {
            "author": "Hao",
            "timestamp": 1347813480,
            "txt_content": "话说我居然当上了-.-..."
        },
        {
            "author": "DJXGAME",
            "timestamp": 1347813660,
            "txt_content": "Hao 发表于 2012-9-17 00:38 \n话说我居然当上了-.-...\n我就不说你当上的理由了……\n我好怨念呀……\n翻译区的帖子想要移动可以议价哦~管理员特批的"
        },
        {
            "author": "Hao",
            "timestamp": 1347813780,
            "txt_content": "DJXGAME 发表于 2012-9-17 00:41 \n我就不说你当上的理由了……\n我好怨念呀……\n翻译区的帖子想要移动可以议价哦~管理员特批的\n金币换帖？"
        },
        {
            "author": "DJXGAME",
            "timestamp": 1347813900,
            "txt_content": "Hao 发表于 2012-9-17 00:43 \n金币换帖？\n不要金币的，我要金币做什么呢？"
        },
        {
            "author": "jianghr",
            "timestamp": 1347817140,
            "txt_content": "geludan 发表于 2012-9-17 00:17 \n哦？单人游戏板块也有mod吗？\n新版mod教程讨论分类下基本都是我移过去的。这还是比较有营养的一些……"
        },
        {
            "author": "ayaya",
            "timestamp": 1347841560,
            "txt_content": "电脑MOD就是强大..."
        },
        {
            "author": "zhang335804326",
            "timestamp": 1347893400,
            "txt_content": "希望和平……"
        },
        {
            "author": "outsidero",
            "timestamp": 1348010880,
            "txt_content": "灰常好O(∩_∩)O"
        },
        {
            "author": "goweiyuan",
            "timestamp": 1348298340,
            "txt_content": "好吧，虽然没仔细看代码但大致能猜意思"
        }
    ]
}