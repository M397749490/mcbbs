{
    "title": "怎么制作hat",
    "author": "t1546542",
    "replyCount": 10,
    "timestamp": 1587343860,
    "txt_content": "版本：1.15.2\n将玩家主手槽位的物品放到玩家的头部槽位\n如果头部槽位有物品，先将主手物品放到头部槽位，再将原头部槽位的物品放到主手\n可以使用数据包，但除functions外的必须说明意思\n@Chelove_C60 @Jokey_钥匙 @SPGoding @⊙u⊙ ",
    "replies": [
        {
            "author": "Chelover_C60",
            "timestamp": 1587343860,
            "txt_content": " 本帖最后由 Chelove_C60 于 2020-4-20 09:50 编辑 \n\n谢邀\n\n简单的c=a,a=b,b=c问题，同时借助如花影盒潜影盒来完成动态替换\n\nexecute as @a at @s run function hat\n\nhat.mcfunction\nexecute if entity @s Inventory[{Slot:103b}] run function have_hat\nsetblock ~ 255 ~ shulker_box{Items:[{Slot:0b,id:\"minecraft:stone\",Count:1b}]}\ndata modify block ~ 255 ~ Items[0] merge from entity @s SelectedItem\nreplaceitem entity @s armor.head air\nloot replace entity @s armor.head 1 mine ~ 255 ~ minecraft:diamond_pickaxe{isShulkerMarker:1b}\nexecute if entity @s[tag=have_hat] run function return_hat\nsetblock ~ 255 ~ air复制代码\n\nhave_hat.mcfunction\ntag @s add have_hat\ndata modify storage hat_info hat set from entity @s Inventory[{Slot:103b}]复制代码\n\nreturn_hat.mcfunction\ndata modify block ~ 255 ~ Items[0].id set from storage hat_info hat.id\ndata modify block ~ 255 ~ Items[0].Count set from storage hat_info hat.Count\ndata modify block ~ 255 ~ Items[0].tag set from storage hat_info hat.tag\nreplaceitem entity @s weapon.mainhand air\nloot replace entity @s weapon.mainhand 1 mine ~ 255 ~ minecraft:diamond_pickaxe{isShulkerMarker:1b}\ntag @s remove have_hat复制代码\n\n修改潜影盒的战利品表\n{\n    \"type\": \"minecraft:block\",\n    \"pools\": [\n        {\n            \"rolls\": 1,\n            \"entries\": [\n                {\n                    \"type\": \"minecraft:alternatives\",\n                    \"children\": [\n                        {\n                            \"type\": \"minecraft:dynamic\",\n                            \"name\": \"minecraft:contents\",\n                            \"conditions\": [\n                                {\n                                    \"condition\": \"minecraft:match_tool\",\n                                    \"predicate\": {\n                                        \"nbt\":\"{isShulkerMarker:1b}\"\n                                    }\n                                }\n                            ]\n                        },\n                        {\n                            \"type\": \"minecraft:item\",\n                            \"functions\": [\n                                {\n                                    \"function\": \"minecraft:copy_name\",\n                                    \"source\": \"block_entity\"\n                                },\n                                {\n                                    \"function\": \"minecraft:copy_nbt\",\n                                    \"source\": \"block_entity\",\n                                    \"ops\": [\n                                        {\n                                            \"source\": \"Lock\",\n                                            \"target\": \"BlockEntityTag.Lock\",\n                                            \"op\": \"replace\"\n                                        },\n                                        {\n                                            \"source\": \"LootTable\",\n                                            \"target\": \"BlockEntityTag.LootTable\",\n                                            \"op\": \"replace\"\n                                        },\n                                        {\n                                            \"source\": \"LootTableSeed\",\n                                            \"target\": \"BlockEntityTag.LootTableSeed\",\n                                            \"op\": \"replace\"\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"function\": \"minecraft:set_contents\",\n                                    \"entries\": [\n                                        {\n                                            \"type\": \"minecraft:dynamic\",\n                                            \"name\": \"minecraft:contents\"\n                                        }\n                                    ]\n                                }\n                            ],\n                            \"name\": \"minecraft:shulker_box\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}复制代码\n\n部分内容及原理参考自https://www.mcbbs.net/thread-860954-1-1.html"
        },
        {
            "author": "彩元素凋灵",
            "timestamp": 1587344580,
            "txt_content": "https://www.mcmod.cn/tools/cbcreator/你试试用这个软件"
        },
        {
            "author": "zhao4666",
            "timestamp": 1587344700,
            "txt_content": "参考这个帖子\n点我跳转~"
        },
        {
            "author": "cowb",
            "timestamp": 1587344820,
            "txt_content": "/replaceitem entity @s armor.head 物品id复制代码"
        },
        {
            "author": "t1546542",
            "timestamp": 1587350640,
            "txt_content": "Chelove_C60 发表于 2020-4-20 09:33\n谢邀\n\n简单的c=a,a=b,b=c问题，同时借助如花影盒潜影盒来完成动态替换\n这个战利品表的意思"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1587351000,
            "txt_content": "t1546542 发表于 2020-4-20 10:44\n这个战利品表的意思\n所以你到底有没有看我下面附的链接\n修改minecraft/loot_tables/blocks/shulker_box.json为使用特定nbt的镐挖掘时，掉落内含物而且不掉落潜影盒。"
        },
        {
            "author": "t1546542",
            "timestamp": 1587353040,
            "txt_content": "Chelove_C60 发表于 2020-4-20 10:50\n所以你到底有没有看我下面附的链接\n能不能直接返回一个item呢"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1587355380,
            "txt_content": "t1546542 发表于 2020-4-20 11:24\n能不能直接返回一个item呢\n什么叫直接返回一个item呢？\n定向替换玩家物品栏的只有两个命令，一个replaceitem，一个loot\nreplaceitem只能指定物品后替换，没法动态替换物品，所以不考虑\n那只能用loot，而用loot就必须要改战利品表（因为原版数据包里没有能用得上的战利品表）\n而要解决动态物品id问题，战利品表随机池的type就不能写item、tag、loot_table，那么只剩一个dynamic，而dynamic又与方块有关，所以只能用一个方块做辅助使用。\n\n或者，如果你愿意穷举物品id，可以参考chyx的帖子。这应该就是你说的直接返回一个item吧\nhttps://www.mcbbs.net/thread-837334-1-1.html"
        },
        {
            "author": "Kunst",
            "timestamp": 1587364680,
            "txt_content": "这个就是将物品戴在头上的治疗，可以试一下\n/replaceitem entity @r armor.head 物品id"
        },
        {
            "author": "t1546542",
            "timestamp": 1587378660,
            "txt_content": " 本帖最后由 t1546542 于 2020-4-20 19:14 编辑 \nChelove_C60 发表于 2020-4-20 12:03\n什么叫直接返回一个item呢？\n定向替换玩家物品栏的只有两个命令，一个replaceitem，一个loot\nreplaceitem ...\n我的意思是\n既然loot可以直接指定槽位并替换\n那么战利品表能不能返回一个物品\n这个物品的信息就是玩家主手的物品信息\n刚刚翻了一下SPG的战利品表教程\n发现不行，只能用潜影盒\n\n"
        }
    ]
}