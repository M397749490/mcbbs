{
    "title": "玩家通过部分区块边界时发生严重卡顿",
    "author": "Sssss...",
    "replyCount": 9,
    "timestamp": 1596444960,
    "txt_content": " 本帖最后由 Sssss... 于 2020-8-3 21:51 编辑 \n\n服务端版本：\nMinecraft 1.15.2Paper-211\n\n问题：\n发现单向经过某些特定的区块边界会导致客户端严重卡顿，卡顿时间在2秒到8秒（并导致无响应）不等\n并且，这些区块边界会不断消失、出现、变化，有时甚至会完全消失，没有找到任何规律\n已知：\n附近区块没有任何头颅、地图所有玩家均会发生曾经试过将地图所在的region文件换一个地方，卡顿现象会消失，但一段时间过后又会在地图内其他的区块边界发生以上问题。所以，应该和地图没有关系\n\n",
    "replies": [
        {
            "author": "aoifj",
            "timestamp": 1596448560,
            "txt_content": "有什么插件吗？"
        },
        {
            "author": "Sssss...",
            "timestamp": 1596457980,
            "txt_content": "aoifj 发表于 2020-8-3 17:56\n有什么插件吗？\n"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1596533640,
            "txt_content": "个人觉得应该是和部分需要判断玩家位置和区块关系的插件有关\n\n可以尝试安装yum来查看哪个插件卡住了\n"
        },
        {
            "author": "Sssss...",
            "timestamp": 1596534240,
            "txt_content": "南柯郡守 发表于 2020-8-4 17:34\n个人觉得应该是和部分需要判断玩家位置和区块关系的插件有关\n\n可以尝试安装yum来查看哪个插件卡住了\n是客户端卡住，不是服务端卡住\n\n服务端并没有变化"
        },
        {
            "author": "aoifj",
            "timestamp": 1596535860,
            "txt_content": "Sssss... 发表于 2020-8-4 17:44\n是客户端卡住，不是服务端卡住\n\n服务端并没有变化\n客户端是不是自定的？\n如果是的话试试白端会不会发生？\n如果不是的话\n我觉得可能插件有冲突 但是也没看出个大概来\n首先当然是要安yum试试是不是什么bug 看看yum有没有报错\n如果没有的话 可以参考这种方法：\n先转移一半插件 然后只加载一半插件 如果不会发生就证明插件在另一半里面\n依次类推 看看是哪个插件干的好事..."
        },
        {
            "author": "Sssss...",
            "timestamp": 1596548220,
            "txt_content": "aoifj 发表于 2020-8-4 18:11\n客户端是不是自定的？\n如果是的话试试白端会不会发生？\n如果不是的话\n我是Optifine纯净端，有玩家是mod端，都会有同样的问题\n\n主要是因为这个卡顿的区块边界会变，所以很难二分测试\n\n我装个yum试试看吧"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1596583680,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-8-5 07:31 编辑 \n\n发一个debug+timings\n\n然后关闭区块回收(bukkit.yml里面有个chunk-gc的，paper.yml里面也有个delay什么的配置，都设置为9999999)\n再发个debug+timings\n\n不断消失、出现、变化，有时甚至会完全消失\n先把区块卸载排除掉，再来看是什么原因\n如果区块卸载关闭后卡顿消失-------在区块卸载上找原因，可以用个内存分析工具之类的看下\n如果区块卸载关闭后依然卡顿-------可能是地图问题，也可能是插件问题------看一下地狱或者末地是否复现"
        },
        {
            "author": "love12138",
            "timestamp": 1596700440,
            "txt_content": " 本帖最后由 love12138 于 2020-8-6 16:01 编辑 \nQ: 地图突然透明了怎么办？\nA: 您可以输入 F3+A 刷新，如果仍旧出现，可以尝试重新安装。如果重新\n安装后仍旧出现，您也可以尝试降低或删除 OptiFine 版本。\n我曾经也遇到过类似的问题，不过我遇到的是 假矿+OptiFine 问题，希望能够帮到您。"
        },
        {
            "author": "Sssss...",
            "timestamp": 1596936660,
            "txt_content": "EmptyLava 发表于 2020-8-5 07:28\n发一个debug+timings\n\n然后关闭区块回收(bukkit.yml里面有个chunk-gc的，paper.yml里面也有个delay什么的配 ...\n经测试和区块回收没关系，正在进一步测试\n\ntimings几小时后发，现在有点事情"
        }
    ]
}