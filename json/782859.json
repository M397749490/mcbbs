{
    "title": "[PCD]使用EnchantmentAPI创造无限的自定义附魔吧 | EnchantmentAPI插件开发教程",
    "author": "白羊羊",
    "replyCount": 7,
    "timestamp": 1518964740,
    "txt_content": " 本帖最后由 mimimis 于 2018-2-19 11:21 编辑 \n\nEnchantmentAPI 开发者使用教程—— 中文Wiki | 站内插件帖 ——还在苦苦寻思怎么写自定义附魔框架吗，别想了，现成的插件出炉了。使用EnchantmentAPI插件可以快速地自定义附魔，同时提供多种属性修改，完全不需要自己再去费尽心思写附魔的各种属性了。这个插件好处都有啥：附魔的各种属性完全自定义可修改原版附魔方便的组管理已经为开发者准备好的附魔触发事件使用简单方便\n\n下面是开发者使用教程\n 第一步、主类新建项目，设置构建路径，导入API\n\n完成配置后，在主类继承JavaPlugin、实现EnchantPlugin接口\n\n 第二步、自定义附魔现在就可以开始写自己的自定义附魔了，新建一个类，继承CustomEnchantment类\n\n构造方法里面可以填写附魔名称、附魔介绍\n现在对附魔的其他属性进行设置，这里我们只调用了两个方法\n当然，属性设置不可能只有两个方法，详细内容请前往 Wiki 查看\n\n这里要额外说一下的是 ItemSet 类，这个类提供了很多物品枚举，便于快捷传入物品参数。\n我们这里用的是 CHESTPLATES 这个枚举包含了所有类型的胸甲，最后使用getItems()方法获取ItemStack对象\n最后就是设置附魔的效果了\n插件提供了很多方法，你可以重写这些方法来为附魔添加附魔效果，你可以认为这些方法就是监听器\n\n比如我们用到的applyEquip()方法，这个方法在玩家将手中物品切换为带有这个附魔的物品时触发\n现在，开始写我们的附魔效果。\n更多的方法请前往 Wiki 查看\n 第三步、注册附魔\n可能你在主类实现EncahntPlugin接口时就发现了，还需要添加一个未实现的方法\n这个方法其实是用于注册附魔的\n\n注册附魔，你需要调用EnchantmentRegistry 类的 register()方法\n传入 CustomEnchantment 类型的参数即可，就是你已经定义好的附魔对象\n到此，一个自定义附魔插件就完成了。\n下面是使用效果截图：\n 教程使用的代码：\n\n主类\n//主类继承JavaPlugin，实现EnchantPlugin接口\npublic class Main extends JavaPlugin implements EnchantPlugin{\n\n        @Override\n        public void onEnable(){\n                \n        }\n\n        //添加未实现的方法，此方法用于注册附魔\n        //调用EnchantmentRegistry 类的 register()方法\n        //传入 CustomEnchantment 类型参数\n        @Override\n        public void registerEnchantments(EnchantmentRegistry registry) {\n                registry.register(\n                new TestEnchantment()\n                );\n        }\n}复制代码自定义附魔类\n//继承 CustomEnchantment 类\npublic class TestEnchantment extends CustomEnchantment{\n\n        //添加构造方法\n        TestEnchantment() {\n                super(\"女装\" ,\"拿着立即获得全属性加成\");\n                \n                //设置最大附魔等级\n                setMaxLevel(5);\n                //设置可附魔物品\n                //ItemSet 类提供了物品枚举，便于添加物品\n                addNaturalItems(ItemSet.CHESTPLATES.getItems());\n                \n        }\n        \n        //重写applyEquip()方法，在玩家切换物品时触发\n        //执行方法里面的所有内容\n        @Override\n        public void applyEquip(LivingEntity p, int level) {\n                p.addPotionEffect(new PotionEffect(PotionEffectType.ABSORPTION, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.DAMAGE_RESISTANCE, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.FAST_DIGGING, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.FIRE_RESISTANCE, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.HEALTH_BOOST, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.INCREASE_DAMAGE, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.NIGHT_VISION, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.SPEED, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.LUCK, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.JUMP, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.FIRE_RESISTANCE, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.WATER_BREATHING, 1200, 1));\n                p.addPotionEffect(new PotionEffect(PotionEffectType.REGENERATION, 1200, 1));\n        }\n}复制代码\n\n\n\n\n[groupid=1330]PluginsCDTribe[/groupid]",
    "replies": [
        {
            "author": "孤夜丿菌",
            "timestamp": 1518966420,
            "txt_content": "自定义附魔 \n标记一下a.a\n  顺便沙发"
        },
        {
            "author": "leavessoft",
            "timestamp": 1518967380,
            "txt_content": "有这么好用的API？可以~"
        },
        {
            "author": "165543337",
            "timestamp": 1518969720,
            "txt_content": " 本帖最后由 165543337 于 2018-2-19 00:04 编辑 \n\n反馈一下：1.是EnchantPlugin接口，而不是EncahntPlugin\n2.是Chestplates，而不是Chestplats\n单身太久手速太快了吧"
        },
        {
            "author": "白羊羊",
            "timestamp": 1518972540,
            "txt_content": "165543337 发表于 2018-2-19 00:02\n反馈一下：1.是EnchantPlugin接口，而不是EncahntPlugin\n2.是Chestplates，而不是Chestplats\n单身太久手 ...\n嘿嘿，小问题"
        },
        {
            "author": "2212426297",
            "timestamp": 1519379580,
            "txt_content": "女装-------大佬66666666666"
        },
        {
            "author": "_諵城`Tr)L",
            "timestamp": 1519535100,
            "txt_content": "类似https://www.spigotmc.org/resources/enchantsplus.3396/这种附魔的是怎么写？有例子吗"
        },
        {
            "author": "南外丶仓鼠",
            "timestamp": 1563634620,
            "txt_content": "请问我这个api的报错是啥？dalao求助！\n\n\n\n\n\n\nQQ截图20190720225711.png\n(35.4 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-7-20 22:57 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        }
    ]
}