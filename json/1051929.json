{
    "title": "材质包文件夹colormap中的图片如何修改？",
    "author": "zh1245689",
    "replyCount": 2,
    "timestamp": 1590590220,
    "txt_content": "我是一个材质作者\n我想知道colormap中的两个图片该如何编辑\n完全搞不懂要怎样修改，请求大佬教一下",
    "replies": [
        {
            "author": "⊙u⊙",
            "timestamp": 1590590220,
            "txt_content": " 本帖最后由 ⊙u⊙ 于 2020-5-27 10:05 编辑 \n\n颜色图谱\nfoliage——用于大部分树叶\ngrass——用于草地\n\n\n\n\n系统给每个群系都分配了一个温度和湿度值，温度又因高度有所变化，最后根据游戏内方块调整后的温度和湿度定位uv点\n也就是说，影响一个草/树叶/方块的为当前所在群系的温度、湿度和海平面的高度\n\n\n\n\n温度——temperature\n湿度——rainfall/downfall\n调整后温度——adj_temperature\n调整后湿度——adj_rainfall/downfall\n高度——elevation   *海拔高度为y=64\nclamp(value,min,max)——clamp函数，使代入的值限定在min和max之间。\n     如clamp(value,0.0f,1.0f)\n         value=0.7f时，最终的值为0.7f\n         value=-2.0f时，最终的值为0.0f\n         value=1.1f时，最终的值为1.0f\n\nadj_temperature = clamp(temperature - (float)elevation*0.00166667f,0.0f,1.0f)\nadj_rainfall = clamp(rainfall,0.0f,1.0f) * adj_temperature复制代码个人对以上两条代码的理解...\n调整后温度 = clamp(温度 - 海拔高度差*0.00166667,0.0f,1.0f)\n调整后湿度 = clamp(湿度,0.0f,1.0f) * 调整后温度\n\n既是\n若方块坐标y<=64时，调整后温度为 = clamp(温度,0.0f,1.0f)\n若方块坐标y>64时，调整后温度为 = clamp(温度-(y-64)*0.00166667f,0.0f,1.0f)\n调整后湿度 = clamp(湿度,0.0f,1.0f) * 调整后温度\n因为到1.13为止都没有湿度>1.0f或<0.0f的群系，所以调整后湿度简单地记作 调整后温度*湿度\n\n\n\n快速获得colormap的贴图uv点\n原版colormap，以grass.png为例，尺寸为256*256像素，根据以上稍做整理，就可快速得出位于贴图下草方块对应群系的颜色选取点\n代入：群系温度，群系湿度，方块所在的y轴高度\n\nb = y - 64\n若 b < 0.0，b = 0.0\n\na = 群系温度 - b*0.00166667\n若 a > 1.0，a = 1.0\n若 a < 0.0，a=0.0\n\nuv:( 256 - 256*a -1, 256 - 256*a*群系湿度 -1)复制代码\n\n\n\n以平原、海洋、沙漠和冷针叶林为例\n\"plains\": { \"temperature\": 0.8, \"downfall\": 0.4  }\n\"ocean\": { \"temperature\": 0.5, \"downfall\": 0.5  }\n\"desert\": { \"temperature\": 2.0, \"downfall\": 0.0  }\n\"taiga_cold\": { \"temperature\": -0.5, \"downfall\": 0.4  }\n\n位于y为64或以下高度的平原草方块的uv点为 b=0，a=0.8，uv:(256-256*0.8-1,256-256*0.8*0.4-1)=(50.2,173.08)=(50,173)\n位于y为255高度的平原草方块的uv点为 b=255-64，a=0.8-b*0.00166667，uv:(131.693496,205.677399)=(131,205)\n\n位于y为64或以下高度的海洋草方块的uv点为 b=0，a=0，uv:(127,191)\n位于y为255高度的海洋草方块的uv点为 b=191，a=0，uv:(208,231)\n\n位于y为64或以下高度的沙漠草方块的uv点为 b=0，a=1，uv:(-1,255)???   0,255\n位于y为64或以下高度的沙漠草方块的uv点为 b=0，a=1，uv:(-1,255)???   0,255\n\n位于y为64或以下高度的冷针叶林草方块的uv点为 b=0，a=0，uv:(255,255)\n位于y为255高度的冷针叶林草方块的uv点为 b=191，a=0，uv:(255,255)\n\n\n\n\n*\n当y为64或以下时，草方块会准确地使用那个点的颜色y>64时，则会受随机噪点的影响，(就算是在同一高度下)颜色也会有小幅度的变化部分群系的uv选点范围有重叠部分群系颜色为硬编码，既不受材质影响。详见wiki颜色方面，是叠加，从uv那确认的颜色会和grass_block_top.png/grass_top.png这种灰色的贴图进行颜色叠加那样的处理颜色之间的变化处理为混色，不同群系的交叉位，噪点影响的颜色...不清楚到底是uv取色叠加，还是单纯uv确认的贴图范围和方块的贴图叠加处理。认为是后者，但部分测试告诉我是前者...\n\n\n\n\n海洋群系，金块为海平面高度，此高度颜色一致\n\n\n\ny=255时，同一高度的海洋群系颜色\n\n\n\n俯视图...\n\n\n\n\n平原超平坦...\n\n\n\n\n\n\n\n\n现在这么一想，以材质的角度上说，可能mc里最厉害的就是草/草方块和树叶方块了...\n我从pca从不知道哪里扒下来的1.13群系温湿值，感谢dalao\n{\n  \"ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"plains\": {    \"temperature\": 0.8,    \"downfall\": 0.4  },\n  \"desert\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"extreme_hills\": {    \"temperature\": 0.2,    \"downfall\": 0.3  },\n  \"forest\": {    \"temperature\": 0.7,    \"downfall\": 0.8  },\n  \"taiga\": {    \"temperature\": 0.25,    \"downfall\": 0.8  },\n  \"swampland\": {    \"temperature\": 0.8,    \"downfall\": 0.9  },\n  \"river\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"hell\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"sky\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"frozen_ocean\": {    \"temperature\": 0,    \"downfall\": 0.5  },\n  \"frozen_river\": {    \"temperature\": 0,    \"downfall\": 0.5  },\n  \"ice_flats\": {    \"temperature\": 0,    \"downfall\": 0.5  },\n  \"ice_mountains\": {    \"temperature\": 0,    \"downfall\": 0.5  },\n  \"mushroom_island\": {    \"temperature\": 0.9,    \"downfall\": 1  },\n  \"mushroom_island_shore\": {    \"temperature\": 0.9,    \"downfall\": 1  },\n  \"beaches\": {    \"temperature\": 0.8,    \"downfall\": 0.4  },\n  \"desert_hills\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"forest_hills\": {    \"temperature\": 0.7,    \"downfall\": 0.8  },\n  \"taiga_hills\": {    \"temperature\": 0.25,    \"downfall\": 0.8  },\n  \"smaller_extreme_hills\": {    \"temperature\": 0.2,    \"downfall\": 0.3  },\n  \"jungle\": {    \"temperature\": 0.95,    \"downfall\": 0.9  },\n  \"jungle_hills\": {    \"temperature\": 0.95,    \"downfall\": 0.9  },\n  \"jungle_edge\": {    \"temperature\": 0.95,    \"downfall\": 0.8  },\n  \"deep_ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"stone_beach\": {    \"temperature\": 0.2,    \"downfall\": 0.3  },\n  \"cold_beach\": {    \"temperature\": 0.05,    \"downfall\": 0.3  },\n  \"birch_forest\": {    \"temperature\": 0.6,    \"downfall\": 0.6  },\n  \"birch_forest_hills\": {    \"temperature\": 0.6,    \"downfall\": 0.6  },\n  \"roofed_forest\": {    \"temperature\": 0.7,    \"downfall\": 0.8  },\n  \"taiga_cold\": {    \"temperature\": -0.5,    \"downfall\": 0.4  },\n  \"taiga_cold_hills\": {    \"temperature\": -0.5,    \"downfall\": 0.4  },\n  \"redwood_taiga\": {    \"temperature\": 0.3,    \"downfall\": 0.8  },\n  \"redwood_taiga_hills\": {    \"temperature\": 0.3,    \"downfall\": 0.8  },\n  \"extreme_hills_with_trees\": {    \"temperature\": 0.2,    \"downfall\": 0.3  },\n  \"savanna\": {    \"temperature\": 1.2,    \"downfall\": 0  },\n  \"savanna_rock\": {    \"temperature\": 1,    \"downfall\": 0  },\n  \"mesa\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"mesa_rock\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"mesa_clear_rock\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"sky_island_low\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"sky_island_medium\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"sky_island_high\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"sky_island_barren\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"warm_ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"lukewarm_ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"cold_ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"deep_warm_ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"deep_lukewarm_ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"deep_cold_ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"deep_frozen_ocean\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"void\": {    \"temperature\": 0.5,    \"downfall\": 0.5  },\n  \"mutated_plains\": {    \"temperature\": 0.8,    \"downfall\": 0.4  },\n  \"mutated_desert\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"mutated_extreme_hills\": {    \"temperature\": 0.2,    \"downfall\": 0.3  },\n  \"mutated_forest\": {    \"temperature\": 0.7,    \"downfall\": 0.8  },\n  \"mutated_taiga\": {    \"temperature\": 0.25,    \"downfall\": 0.8  },\n  \"mutated_swampland\": {    \"temperature\": 0.8,    \"downfall\": 0.9  },\n  \"mutated_ice_flats\": {    \"temperature\": 0,    \"downfall\": 0.5  },\n  \"mutated_jungle\": {    \"temperature\": 0.95,    \"downfall\": 0.9  },\n  \"mutated_jungle_edge\": {    \"temperature\": 0.95,    \"downfall\": 0.8  },\n  \"mutated_birch_forest\": {    \"temperature\": 0.6,    \"downfall\": 0.6  },\n  \"mutated_birch_forest_hills\": {    \"temperature\": 0.6,    \"downfall\": 0.6  },\n  \"mutated_roofed_forest\": {    \"temperature\": 0.7,    \"downfall\": 0.8  },\n  \"mutated_taiga_cold\": {    \"temperature\": -0.5,    \"downfall\": 0.4  },\n  \"mutated_redwood_taiga\": {    \"temperature\": 0.25,    \"downfall\": 0.8  },\n  \"mutated_redwood_taiga_hills\": {    \"temperature\": 0.25,    \"downfall\": 0.8  },\n  \"mutated_extreme_hills_with_trees\": {    \"temperature\": 0.2,    \"downfall\": 0.3  },\n  \"mutated_savanna\": {    \"temperature\": 1.1,    \"downfall\": 0  },\n  \"mutated_savanna_rock\": {    \"temperature\": 1,    \"downfall\": 0  },\n  \"mutated_mesa\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"mutated_mesa_rock\": {    \"temperature\": 2,    \"downfall\": 0  },\n  \"mutated_mesa_clear_rock\": {    \"temperature\": 2,    \"downfall\": 0  }\n}复制代码\n\nTL;DR\n要想精确改色，得出群系在colormap贴图中对应的uv坐标像素，修改此像素的颜色\n某些群系的颜色为硬编码，即使用这种方法也不可改\n\n想要随意改色的，把整张colormap涂一下就是"
        },
        {
            "author": "an1ow",
            "timestamp": 1606287420,
            "txt_content": "解答的很详细 太感谢了"
        }
    ]
}