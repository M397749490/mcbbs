{
    "title": "物品模型在gui内绘制的问题求助！",
    "author": "诺凡克罗诺",
    "replyCount": 4,
    "timestamp": 1592639040,
    "txt_content": " 本帖最后由 无邪。 于 2020-6-20 16:00 编辑 \n\n我想在gui中绘制一个全方位旋转的物品模型，通过查阅资料找到了如下代码，并且在gui内成功绘制了出来，但是有一些瑕疵(强迫症害死人)\n\n图示\n\n\n\n\ni.gif (444.68 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-20 15:37 上传\n\n\n\n\n\n这是绘制出来的物品\n\n可以看到，它有一头白边，强迫症困扰了2天\n\n\n\n\n52WCMOZ@)F52S3T}`0Z3OR2.png (2.76 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-20 15:37 上传\n\n\n\n\n另一边是正常的，因为不懂渲染这些，只能盲目的尝试了一些代码，都不得解。\n\n\n\n\nOJ8HBQCQ%WZ`I2~3`W~7]42.png (4.96 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-20 15:37 上传\n\n\n\n\n这是另一边\n希望有大佬能提供一些帮助，感激。\n代码部分protected void renderItemModelIntoGUI(ItemStack stack, int x, int y,float scale) {\n        RenderItem renderItem = Minecraft.getMinecraft().getRenderItem();\n        GlStateManager.pushMatrix();\n        Minecraft.getMinecraft().getTextureManager().bindTexture(TextureMap.LOCATION_BLOCKS_TEXTURE);\n        Minecraft.getMinecraft().getTextureManager().getTexture(TextureMap.LOCATION_BLOCKS_TEXTURE).setBlurMipmap(false, false);\n\n        GlStateManager.enableRescaleNormal();\n        GlStateManager.enableAlpha();\n        GlStateManager.alphaFunc(516, 0.1F);\n        GlStateManager.enableBlend();\n\n        GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.SRC_ALPHA, GlStateManager.DestFactor.ONE_MINUS_SRC_ALPHA, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);\n        GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);\n        IBakedModel bakedmodel = renderItem.getItemModelWithOverrides(stack,null,Games.player());\n        this.setupGuiTransform(x, y,bakedmodel.isGui3d());\n        bakedmodel = ForgeHooksClient.handleCameraTransforms(bakedmodel, ItemCameraTransforms.TransformType.GROUND, false);\n\n        if(rotateXMaxAngel >0&&rotateX>= rotateXMaxAngel) rotateXAngel = 0;\n        if(rotateYMaxAngel >0&&rotateY>= rotateYMaxAngel) rotateYAngel = 0;\n        if(rotateZMaxAngel >0&&rotateZ>= rotateZMaxAngel) rotateZAngel = 0;\n        GlStateManager.rotate(rotateXAngel, 1.0F, 0.0F, 0.0F);\n        rotateXAngel+=rotateXSpeed;\n        rotateX += rotateXSpeed>0?rotateXSpeed:-rotateXSpeed;\n        if(rotateXAngel >= 360.0F) rotateXAngel = 0.0F;\n        GlStateManager.rotate(rotateYAngel, 0.0F, 1.0F, 0.0F);\n        rotateYAngel += rotateYSpeed;\n        rotateY+=rotateYSpeed>0?rotateYSpeed:-rotateYSpeed;\n        if(rotateYAngel >= 360.0F) rotateYAngel = 0.0F;\n        GlStateManager.rotate(rotateZAngel, 0.0F, 0.0F, 1.0F);\n        rotateZAngel += rotateZSpeed;\n        rotateZ += rotateZSpeed>0?rotateZSpeed:-rotateZSpeed;\n        if(rotateZAngel >= 360.0F) rotateZAngel = 0.0F;\n\n        GlStateManager.scale(scale, scale, scale);\n        renderItem.renderItem(stack, bakedmodel);\n        GlStateManager.disableAlpha();\n        GlStateManager.disableRescaleNormal();\n        GlStateManager.disableLighting();\n        GlStateManager.popMatrix();\n        Minecraft.getMinecraft().renderEngine.bindTexture(TextureMap.LOCATION_BLOCKS_TEXTURE);\n        Minecraft.getMinecraft().renderEngine.getTexture(TextureMap.LOCATION_BLOCKS_TEXTURE).restoreLastBlurMipmap();\n    }\n\n    private void setupGuiTransform(int xPosition, int yPosition, boolean isGui3d) {\n        GlStateManager.translate((float)xPosition, (float)yPosition, 100.0F + this.zLevel);\n        GlStateManager.translate(8.0f, 8.0f, 0.0F);\n        GlStateManager.scale(1.0F, -1.0F, 1.0F);\n        GlStateManager.scale(16.0f, 16.0f, 16.0f);\n        if (isGui3d) {\n            GlStateManager.enableLighting();\n        }\n        else {\n            GlStateManager.disableLighting();\n        }\n    }复制代码\n代码部分\n\n",
    "replies": [
        {
            "author": "南柯郡守",
            "timestamp": 1592652120,
            "txt_content": "盲猜是贴图渲染的结果 \n你看正面 他左上角就是白色的 右边就没有白色的\n\n所以应该是这个意思"
        },
        {
            "author": "诺凡克罗诺",
            "timestamp": 1592655060,
            "txt_content": "南柯郡守 发表于 2020-6-20 19:22\n盲猜是贴图渲染的结果 \n你看正面 他左上角就是白色的 右边就没有白色的\n不是，所有物品的那面都没有"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1592655180,
            "txt_content": "无邪。 发表于 2020-6-20 20:11\n不是，所有物品的那面都没有\n不是因为那个地方是高光嘛\n\n多白"
        },
        {
            "author": "诺凡克罗诺",
            "timestamp": 1592655420,
            "txt_content": "南柯郡守 发表于 2020-6-20 20:13\n不是因为那个地方是高光嘛\n\n多白\n你拿个钻石丢地上看一下，马上就明白了，我这个是有问题的"
        }
    ]
}