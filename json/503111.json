{
    "title": "[CZM]命令方块逼死mod——伤害显示！",
    "author": "czmknmsl",
    "replyCount": 38,
    "timestamp": 1442635980,
    "txt_content": " 本帖最后由 czmknmsl 于 2015-9-19 13:05 编辑 \n\n大家好，我是CZM今天我给大家带来的是...先上图\n\n\n\n\n\n2015-09-19_11.19.57.png (94.95 KB, 下载次数: 41)\n\n下载附件\n\n2015-9-19 11:23 上传\n\n\n\n\n\n\n看不清？注意看中间...\n对！伤害显示插件已经被我逼死了！！！！\n本人最近做逼死插件已经做疯了\n\n先给大家多展示几张图\n\n\n\n\n\n2015-09-19_11.19.33.png (161.75 KB, 下载次数: 43)\n\n下载附件\n\n2015-9-19 11:26 上传\n\n\n\n\n\n\n对敌人造成的伤害，以黄色显示在屏幕中间\n\n\n\n\n\n2015-09-19_11.19.32.png (179.1 KB, 下载次数: 44)\n\n下载附件\n\n2015-9-19 11:26 上传\n\n\n\n\n\n\n自己受到的伤害，以红色显示\n\n\n\n\n2015-09-19_11.20.44.png (160.5 KB, 下载次数: 44)\n\n下载附件\n\n2015-9-19 12:17 上传\n\n\n\n\n\n这张图我穿了钻石甲，收到伤害减少\n\n\n\n\n2015-09-19_11.31.30.png (180.28 KB, 下载次数: 44)\n\n下载附件\n\n2015-9-19 12:17 上传\n\n\n\n\n\n兼容附魔！\n\n———————————————————原理——————————————————\n\n\n\n\n\n2015-09-19_11.18.18.png (196.52 KB, 下载次数: 52)\n\n下载附件\n\n2015-9-19 11:26 上传\n\n\n\n\n\n\n总图（我知道CB大神一定会吐槽我为何用中继器，这是我无奈之举，这个mod我很久以前自己无聊的时候做了一个，可是当时我连fill高频都不会，只好用setblock+红石线，然而如果在title之后没有延迟就清除玩家的分数的话，你任何攻击都会显示为0.0，具体请看下面讲解）\n\n左边那一列是控制输出伤害，右边是受到伤害，原理类似\n先讲左边，从下往上\nfill ~ ~ ~-1 ~ ~5 ~-1 redstone_block复制代码fill ~ ~ ~1 ~ ~5 ~1 air复制代码这两条指令是分左右两边的命令方块\n作用是高频（我在说废话？）\nscoreboard objectives add d1 stat.damageDealt复制代码scoreboard objectives add d2 stat.damageDealt复制代码scoreboard objectives add d3 stat.damageDealt复制代码添加d1,d2,d3三个计分板，判据都是输出伤害\n但是他们的作用不同\nd1记录小数位\nd2记录整数位\nd3作为判断玩家是否输出伤害的单独计分板\n（如果只判断d1或d2会出问题，比如8.0或0.5）\n\n然后关键的步骤来了\n你如果直接拿这个得到的值去title也可以\n但是这个值将是你实际所造成的伤害X10\n所以我们要做一个装置，让他除以10\nscoreboard objectives add 10 dummy复制代码scoreboard players set 10 10 10复制代码添加一个名称为10的虚拟计分板，\n将玩家10的10计分板分数设为10（WTF？）\n（自己看着都头晕了）\n（命块娘告诉我的，[11:42:24] 将玩家 10 的 10 分数的设置为 10）\n说白了就是设置常量==\nexecute @a[score_d3_min=1] ~ ~ ~ execute @e[type=ArmorStand,name=dealt] ~ ~ ~ fill ~ ~1 ~ ~ ~8 ~ redstone_block复制代码如果你视力超级好，你会发现左边盔甲架的名字叫dealt\n这条指令让输出了伤害的玩家让盔甲架将上面8格填充红石块==\n\n——————————————警告：前方高能——————————————\n首先假设这时我输出了7.5点伤害，此时d1d2d3都变成75，然后盔甲架放置红石块\n（只是为了我更好的讲解下面的指令）\nexecute @a[score_d3_min=1] ~ ~ ~ scoreboard players operation @p d2 /= 10 10复制代码将d2的分数除以10\n此时d2=7（计分板不看小数直接丢（chi）掉）\nexecute @a[score_d3_min=1] ~ ~ ~ scoreboard players operation @p d2 *= 10 10复制代码将d2乘以10\n（众：我*你*个*啊，你除以10又乘以10干毛线啊）\n注意，上面的75除以10不是等于7吗\n现在乘以10,7X10=70\n也就是说，上面这两条指令的实际作用，是让计分板把个位数（实际的小数位）丢（chi）掉！！！\nexecute @a[score_d3_min=1] ~ ~ ~ scoreboard players operation @p d1 -= @p d2复制代码还记得一开始的添加计分板的指令吗\nd1d2d3判据都是玩家输出伤害\n此时d1没有变动，为75\n那么现在，d1-d2=75-70=5！！！！！我又在说废话\n这不就把小数位给提取出来了吗？？？ 我真机智23333\nexecute @a[score_d3_min=1] ~ ~ ~ scoreboard players operation @p d2 /= 10 10复制代码仔细一看你会发现这条指令和上上上条指令是一毛一样的\n现在想想，我们一开始输出的伤害是多少？7.5！\n所以我们再次把d2除以10\n现在d2=7，d1=5，完工！！！！\n\n——————————————警告：前方高能X2——————————————\ntitle @a[score_d3_min=1] times 0 2 8复制代码设置title的时间，让他瞬间显示，保持0.1秒，同时在0.4秒内慢慢消失\n（众：这么简单，我也会，高能你个**啊）\nexecute @a[score_d3_min=1] ~ ~ ~ title @p title {text:\"\",color:yellow,extra:[{score:{name:\"*\",objective:\"d2\"}},{text:\".\"},{score:{name:\"*\",objective:\"d1\"}}]}复制代码（众：好吧你赢了）\n其实这条指令没你们想象的那么难，也就是title告诉玩家伤害而已\n不过这貌似是整个教程中最长的一条指令？\n————————————————高能结束————————————————\nscoreboard players set @a d3 0复制代码重置d3==\nfill ~ ~ ~1 ~ ~-7 ~1 stone复制代码把红石块换成石头==\n—————————————论用中继器的原因？—————————————\n中继器连着的两条指令：\nscoreboard players set @a d1 0复制代码scoreboard players set @a d2 0复制代码清空d1d2\n如果不用中继器延时，将会导致一些bug，导致你任何攻击都显示0.0\n（然而我也不想用啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊）\n———————————————————其他—————————————————\n旁边的受到伤害我就不讲了\n只是把d1d2d3换成d4d5d6\n判据换成stat.danageTaken（受到伤害）\n盔甲架名称换成taken\ntitle颜色换成红色\n———————————————私人禁地，禁止闯入—————————————\n\n\n\n\n\n\n\n\n（为了找存档闯进来真的好吗？）\n好好好，我交不就是了吗，别打脸\n（这次由于指令太多，本人无（lan）法（de）提供指令生成代码，请见谅）\n（话说我尝试用滤器结果失败了？？？）\n\n\n\nDamageDisplay.zip\n(297.88 KB, 下载次数: 120)\n\n\n\n2015-9-19 12:06 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nDamageDisplay.schematic\n(1.63 KB, 下载次数: 49)\n\n\n\n2015-9-19 12:05 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n上面是存档，下面是MCE模块文件\n\n—————————————————作者的吐槽———————————————\n做完这个之后才发现我的登录插件简直弱爆了\n我做那个做了2个小时\n这货浪费了我一个上午==至少5个小时==\n我就不说什么了\n\n忘了说一件事情，这货无法探测弓箭和伤害药水造成的伤害，不怪我，怪Mojang\n\n本人不求人气，求金粒！！！求辛苦费！！！\n———————————THE END~谢谢大家——————————\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.21.15.png\n(133.62 KB, 下载次数: 41)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:26 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.19.31.png\n(130.84 KB, 下载次数: 39)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:26 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.19.34.png\n(217.97 KB, 下载次数: 35)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:27 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.19.55.png\n(129.53 KB, 下载次数: 34)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:23 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.19.59.png\n(159.09 KB, 下载次数: 38)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:23 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.20.08.png\n(190.57 KB, 下载次数: 36)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:23 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.20.27.png\n(149.3 KB, 下载次数: 35)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:27 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.20.32.png\n(150.44 KB, 下载次数: 34)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:24 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2015-09-19_11.20.42.png\n(144.49 KB, 下载次数: 36)\n\n\n\n\n下载附件\n\n\n2015-9-19 11:27 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "czmknmsl",
            "timestamp": 1442636100,
            "txt_content": " 本帖最后由 czmknmsl 于 2015-9-19 12:19 编辑 \n\n等一下，马上补图已补。。。\n\n"
        },
        {
            "author": "q8888888",
            "timestamp": 1442636520,
            "txt_content": "czmknmsl 发表于 2015-9-19 12:15\n等一下，马上补图已补。。。\n(*@ο@*) 哇～  但是我启动1.9测试版  只有很小一个屏幕  玩不了"
        },
        {
            "author": "czmknmsl",
            "timestamp": 1442636580,
            "txt_content": "q8888888 发表于 2015-9-19 12:22\n(*@ο@*) 哇～  但是我启动1.9测试版  只有很小一个屏幕  玩不了\n。。。直接最大化就好了\n无需1.9,1.8以上即可"
        },
        {
            "author": "Cth_Can阿残",
            "timestamp": 1442636820,
            "txt_content": "你知不知道记分板有个 %=的运算..这玩意的作用就是提出余数的\n比如你用10 %= 75，那么结果就是5\n看你在这加加减减的我真看不下去了…………………………"
        },
        {
            "author": "czmknmsl",
            "timestamp": 1442637360,
            "txt_content": "Cth_Can阿残 发表于 2015-9-19 12:27\n你知不知道记分板有个 %=的运算..这玩意的作用就是提出余数的\n比如你用10 %= 75，那么结果就是5\n看你在这加 ...\n%=不是百分比吗？\n难道PM误导人了？\n这么多年我都是看着他的帖子长大的==这叫我怎么活\n在这里"
        },
        {
            "author": ":spgbigfan:",
            "timestamp": 1442638020,
            "txt_content": "PM毁一生是常识[滑稽][滑稽]"
        },
        {
            "author": "kongbaiyo",
            "timestamp": 1442652960,
            "txt_content": "这个计分板判据是很好的应用诶！\n不过取小数位有些麻烦了\n我这里有详细的取位教程\nPM的教程广但不精不准\n\nhttp://www.mcbbs.net/thread-402355-1-1.html"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1442662200,
            "txt_content": "指令的文字可以不要加粗么……"
        },
        {
            "author": "obby825",
            "timestamp": 1442669100,
            "txt_content": "QWQ又是逼死MOD\n期待做出更多原版插件~"
        },
        {
            "author": "chyx",
            "timestamp": 1442675280,
            "txt_content": "取余不就能省好多命令块？"
        },
        {
            "author": "shijinsheng",
            "timestamp": 1442711280,
            "txt_content": "我的世界斗战神服务器收人IP：dx.H.mcmiao.com:38147 版本1.6.2  QQ群：468205591.欢迎你的加入！"
        },
        {
            "author": "GoldenMC",
            "timestamp": 1442711340,
            "txt_content": "日常报道，每日一顶"
        },
        {
            "author": "Linyb25",
            "timestamp": 1442926860,
            "txt_content": "大触大触大触"
        },
        {
            "author": "SuperXingYu",
            "timestamp": 1442927100,
            "txt_content": "非常不错"
        },
        {
            "author": "tiagg2",
            "timestamp": 1443346260,
            "txt_content": "多人游戏貌似不行吧？"
        },
        {
            "author": "czmknmsl",
            "timestamp": 1443620700,
            "txt_content": "tiagg2 发表于 2015-9-27 17:31\n多人游戏貌似不行吧？\n可以的"
        },
        {
            "author": "tiagg2",
            "timestamp": 1443620940,
            "txt_content": "czmknmsl 发表于 2015-9-30 21:45\n可以的\n@p是指离命令方块最近的玩家哦"
        },
        {
            "author": "czmknmsl",
            "timestamp": 1443621660,
            "txt_content": "tiagg2 发表于 2015-9-30 21:49\n@p是指离命令方块最近的玩家哦\n你在哪里看到的@p\n如果是在execute命令后面的话，那么@p指的是离被选择的玩家最近的玩家\n（也就是他自己）\n所以这与离命令方块的远近无关=="
        },
        {
            "author": "tiagg2",
            "timestamp": 1443656520,
            "txt_content": "czmknmsl 发表于 2015-9-30 22:01\n你在哪里看到的@p\n如果是在execute命令后面的话，那么@p指的是离被选择的玩家最近的玩家\n（也就是他自己 ...\n你的title指令中title @p，如果那个人没输出伤害的话，那么输出伤害的人会把他输出的伤害显示到离命令方块最近的一个人哦"
        },
        {
            "author": "czmknmsl",
            "timestamp": 1443670680,
            "txt_content": "tiagg2 发表于 2015-10-1 07:42\n你的title指令中title @p，如果那个人没输出伤害的话，那么输出伤害的人会把他输出的伤害显示到离命令方 ...\n骚年没发现title指令是嵌套在execute指令后面的吗\nexecute @a[score_d3_min=1] ~ ~ ~ title @p title {text:\"\",color:yellow,extra:[{score:{name:\"*\",objective:\"d2\"}},{text:\".\"},{score:{name:\"*\",objective:\"d1\"}}]}\n这里的score_d3_min=1已经指定了让所有输出了伤害的玩家给最近的玩家（他自己）title伤害"
        },
        {
            "author": "武月天【】",
            "timestamp": 1443863700,
            "txt_content": "好复杂啊，这么多指令。。。"
        },
        {
            "author": "凡`fanfanjun",
            "timestamp": 1443863880,
            "txt_content": "虽然看不懂···但是顶一个！"
        },
        {
            "author": "Kousei",
            "timestamp": 1444015740,
            "txt_content": "收藏了，感谢分享"
        },
        {
            "author": "weichengren",
            "timestamp": 1467015120,
            "txt_content": "求问，我把压缩包放mods下了，但并没有什么效果。我也试了把解压后的文件放mods下，也没有效果。是要修改什么吗？求解答。第一次使用mod"
        },
        {
            "author": "volta薯片~",
            "timestamp": 1467940260,
            "txt_content": "大神我能不能在擂台赛作品里直接使用你的这个作品，因为实在懒得做一个了...规定只要授权就能用"
        },
        {
            "author": "大萨貂",
            "timestamp": 1468057440,
            "txt_content": "这个可以有、"
        },
        {
            "author": "czmknmsl",
            "timestamp": 1468068780,
            "txt_content": "volta薯片~ 发表于 2016-7-8 09:11\n大神我能不能在擂台赛作品里直接使用你的这个作品，因为实在懒得做一个了...规定只要授权就能用 ...\n可以（然而这是1.8时代的作品，现在1.10都出来了，本宝宝表示1.9碰都没碰过）"
        },
        {
            "author": "volta薯片~",
            "timestamp": 1468117620,
            "txt_content": "qwq然而打开就区块错误，这好高能"
        },
        {
            "author": "jiangpengcheng0",
            "timestamp": 1501165620,
            "txt_content": "666666666,好厉害"
        },
        {
            "author": "341800",
            "timestamp": 1569043020,
            "txt_content": "1.12.2不能用？？？"
        },
        {
            "author": "341800",
            "timestamp": 1569043500,
            "txt_content": "341800 发表于 2019-9-21 13:17\n1.12.2不能用？？？\nspgoding 哦，好的"
        },
        {
            "author": "龙腾塔下",
            "timestamp": 1569826560,
            "txt_content": "66666666666666666"
        },
        {
            "author": "LHE_WP",
            "timestamp": 1569842700,
            "txt_content": "所说不是太懂计分板，但有存档就方便许多\n期待基于伤害显示的基础上\n出现血量显示\n建议可以用生成的盔甲架附上名称\n（可能不太靠谱）"
        },
        {
            "author": "浅誓",
            "timestamp": 1569888780,
            "txt_content": "真逼死模组系列"
        },
        {
            "author": "白衣最可爱",
            "timestamp": 1569909720,
            "txt_content": "可以是可以，但是赶紧太繁琐了"
        },
        {
            "author": "3114384248",
            "timestamp": 1570008960,
            "txt_content": "不得不说太6了，6666"
        },
        {
            "author": "1263806417",
            "timestamp": 1571069940,
            "txt_content": "啊，是dalao的气息，我死了"
        },
        {
            "author": "mc_by_1999",
            "timestamp": 1571463960,
            "txt_content": "大佬的操作果真6啊\n"
        }
    ]
}