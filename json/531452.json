{
    "title": "Bukkit/Spigot 插件开发时常用类详细方法",
    "author": "Bryan33",
    "replyCount": 11,
    "timestamp": 1450182720,
    "txt_content": " 本帖最后由 a390807154 于 2016-2-14 12:02 编辑 \n\n↑ 点击切换页面 ↑\n                                    Bukkit/Spigot 插件开发时常用类\n\n本教程说明: 类  包  方法\n[anchor=1]1[/anchor]\n一时兴起就开始写这个教程 算是先开坑吧\n毕竟看到论坛上编程开发板块有许多问一些简单问题的 多半是对插件的类不是特别了解 (虽然我本人也不了解全部类和方法)\n所以特此写本教程\n@RecursiveG 坐等加入全家桶 慢慢更新内容\n\n暂时想到的就这么多 如果有其他的类想知道请在下方回复\n\n                           Bukkit                  静态方法的使用\n本教程说明: 类  包  方法\nBukkit作为一个重要类 提供各种静态的方法 在插件开发中十分重要\n\n\n\nBukkit位于 org.bukkit 包下\n所谓静态方法:\n由static修饰的方法\n在调用时无需实例化该类\n\n\n\n提供的方法实在太多 不能一一叙述 这里抽重要的方法讲\n\naddRecipe(Recipe recipe) 添加合成的方法 具体的使用方法请看 http://www.mcbbs.net/thread-504576-1-1.html\n同系列的方法有 clearRecipes()       getRecipesFor(ItemStack result)         recipeIterator()        resetRecipes() \nclearRecipes()   清理所有的合成 将会移除所有的合成表 包括原版的 如果仅仅是想移除插件添加的合成请使用 resetRecipes() \ngetRecipesFor(ItemStack result)  返回是 List<Recipe>  将返回可以生成目标物品的合成\nrecipeIterator()  返回是  Iterator<Recipe>  将返回所有注册在服务器的合成的 迭代器\n\nbroadcastMessage(String message) 以及 broadcast(String message, String permission) \n对全服进行广播 同时显示在后台 注意的是 broadcast(String message, String permission)  将只对拥有权限的玩家进行显示\n\n\ndispatchCommand(CommandSender sender, String commandLine)  使CommandSender 发出一条命令(不无视权限) 命令不带/\n                                                                                                            任何继承了CommandSender 的类比如Player同样适用\n\n\nget系列:\ngetConsoleSender()  将返回ConsoleCommandSender 也就是控制台 需要搭配方法 dispatchCommand(CommandSender sender, String commandLine)\ngetPlayer(String name)  getPlayer(UUID id)  使用名字或UUID查找玩家 若不存在返回null\ngetPluginManager()  返回PluginManagerl类\ngetServer()  返回Server类\ngetWorld(String name)  getWorld(UUID uid)  通过名字或UUID查找世界 若不存在返回null\ngetWorlds()  返回List<World>  包括这个服务器所有世界的List\n\n\n                                         HandlerList           监听器的注册与注销\n\nHandlerList位于 org.bukkit.event 包下\n是在卸载监听器时会用到的类 并且这个类会储存所有的监听器\n\n方法: \nunregister(Listener listener)  unregisterAll(Listener listener)  卸载指定监听器内的所有方法 通常用在一些偶尔才需要的监听器注销时\nunregister(Plugin plugin)  unregisterAll(Plugin plugin)    卸载某一插件上的所有的监听器   通常用在OnDisable()时\nunregisterAll()                     卸载所有的监听器  通常不使用\n\n\n\nFileConfiguration   Bukkit自带的配置类使用本教程说明: 类  包  方法\n\nFileConfiguration 位于 bukkit.configuration.file 包下是Bukkit提供的一个简单的配置文件读取的类\n因为简单懒人所以也有些小问题\n比如: 在不同系统环境下config的读取格式不同Windos使用ansi  Linux下却是使用UTF-8\n所以,很多插件会遇到转码问题 \n首先这个类 通过JavaPlugin的getConfig()方法获得  这个方法将读取 plugins/插件名/config.yml 文件\n当然 首先你的yml文件必须是正确的 否则就会抛出异常\n\n\nFileConfiguration  提供了大量的get方法 比如 getString() getInt() getStringList()    实际这些方法都是其完成的接口ConfigurationSection的\n可以方便的获取config.yml中的数据\n具体演示:   变量config已经是通过getConfig()方法获得的\nconfig.yml:\nPlugin:\n  version: 1\n#惩罚\n  punish:\n    enable: true\n    damage: 1.0复制代码\n如果我要获取ml中的version项就应该要int version = config.getInt(\"Plugin.version\");复制代码这时version变量值就为1\n比如这个enable和damage:\nboolean enable  = Boolean.valueOf(config.getBoolean(\"Plugin.punish.enable\"));\ndouble damage = config.getDouble(\"Plugin.punish.damage\");\n复制代码\nEntity及其各种接口\nEntity,一个位于org.bukkit.entity包下的接口,有很多很多很多很多的子接口其中LivingEntity是非常重要的一个子接口,负责所有活着的实体(怪物,玩家,展示框etc.)\n这部分就是讲述这两个接口的方法什么的\n\nEntity:\ngeter:\n\n[spoiler]getCustomName()\ngetEntityId()\ngetFallDistance()\ngetFireTicks()\ngetLastDamageCause()\ngetLocation()\ngetMaxFireTicks()\ngetNearbyEntities(double x, double y, double z)\ngetPassenger()\ngetServer()\ngetTicksLived()\ngetType()\ngetUniqueId()\ngetVehicle()\ngetVelocity()\ngetWorld()\n\n[/spoiler]\nLivingEntity:\n \n\n\n剩下部分慢慢更新\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "erry64",
            "timestamp": 1450183020,
            "txt_content": "你把bukkitrunnable 抛弃了"
        },
        {
            "author": "可可可可可乐",
            "timestamp": 1450196820,
            "txt_content": "感谢楼主无私奉享，"
        },
        {
            "author": "小宝23",
            "timestamp": 1450446960,
            "txt_content": "感谢楼主{:10_512:}"
        },
        {
            "author": "914554688wyt",
            "timestamp": 1455416820,
            "txt_content": "这个切换页面怎么搞的 这么炫.."
        },
        {
            "author": "qq307198081",
            "timestamp": 1460728620,
            "txt_content": "尊敬的楼主您好~！\n\n请问这些方法有没有其他的地方可以学到？  比如“水龙头”官方网站上面能找得到吗？"
        },
        {
            "author": "Bryan33",
            "timestamp": 1460779620,
            "txt_content": "qq307198081 发表于 2016-4-15 21:57\n尊敬的楼主您好~！\n\n请问这些方法有没有其他的地方可以学到？  比如“水龙头”官方网站上面能找得到吗？ ...\n你只能通过查看API来了解用法\n除此之外只能通过研究别人写的插件来模仿"
        },
        {
            "author": "qq307198081",
            "timestamp": 1460787420,
            "txt_content": "a390807154 发表于 2016-4-16 12:07\n你只能通过查看API来了解用法\n除此之外只能通过研究别人写的插件来模仿\n谢谢您~！  能指点一下查看API的方法吗？\n\n我最近准备入坑插件，但是实在不知道从哪入手，学了几天java觉得无从下手"
        },
        {
            "author": "Bryan33",
            "timestamp": 1460806020,
            "txt_content": "qq307198081 发表于 2016-4-16 14:17\n谢谢您~！  能指点一下查看API的方法吗？\n\n我最近准备入坑插件，但是实在不知道从哪入手，学了几天java觉 ...\n请先打好java基础\n不要认为学几天就能够独立编写插件了"
        },
        {
            "author": "1074016410",
            "timestamp": 1460818380,
            "txt_content": "a390807154 发表于 2016-4-16 19:27\n请先打好java基础\n不要认为学几天就能够独立编写插件了\n有JAVA基础，但不知如何看官方API，sipgot的，能给个链接么？"
        },
        {
            "author": "qq307198081",
            "timestamp": 1460864820,
            "txt_content": "a390807154 发表于 2016-4-16 19:27\n请先打好java基础\n不要认为学几天就能够独立编写插件了\n一定一定，只是想结合起来一起学习"
        },
        {
            "author": "Bryan33",
            "timestamp": 1480823160,
            "txt_content": "吕乐乐 发表于 2016-12-4 05:52\n这个可以，明了很多，\n不过还是希望bukkitapi汉化最好，\n每次都去官网找很难受 ...\n已经被汉化了 你可以去找梨子\n可惜还是有些类没有被汉化"
        }
    ]
}