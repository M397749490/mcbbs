{
    "title": "求教如何在服务器内实现点卡制",
    "author": "Nestalie",
    "replyCount": 7,
    "timestamp": 1564843860,
    "txt_content": "虽然说并不可能开一个点卡制月卡制的服务器\n但最近在学习Java想问下各位大佬如何做到记时\n并非X-Y problem,想要学习一下\n",
    "replies": [
        {
            "author": "Nestalie",
            "timestamp": 1564846140,
            "txt_content": "温柔我 发表于 2019-8-3 23:24\n找有些辅助花钱学习较好\n是个好主意...?"
        },
        {
            "author": "ItsZeroHikari",
            "timestamp": 1564846320,
            "txt_content": " 本帖最后由 tutity_tiger 于 2019-8-3 23:34 编辑 \n\n你可以用一个VIP插件,\n然后进服检测玩家是不是VIP,\n不是就踹了\n这是我的大概思路"
        },
        {
            "author": "shutong",
            "timestamp": 1565356140,
            "txt_content": "你直接用网络验证就行了呗"
        },
        {
            "author": "Nestalie",
            "timestamp": 1565362980,
            "txt_content": "shutong 发表于 2019-8-9 21:09\n你直接用网络验证就行了呗\n我写的是如何实现记时...\n难不成还手记谁谁谁进来几分钟然后网络验证嘛\n这个白名单也可以做到啊"
        },
        {
            "author": "common",
            "timestamp": 1565415720,
            "txt_content": "Nestalie 发表于 2019-8-9 23:03\n我写的是如何实现记时...\n难不成还手记谁谁谁进来几分钟然后网络验证嘛\n这个白名单也可以做到啊 ...\n提供一个思路：制作一个mod/插件，在玩家属性中增加一个字段，存储一个Int型数据，玩家登陆的时候检测这个字段，如果是0则踢出并提示它购买点卡，然后在服务端，每隔一个固定的检测间隔时间(比如说十分钟)，遍历一次所有玩家，这个字段为0的踢出并提示它购买点卡，大于0的字段数值减一，玩家购买点卡后在服务端手动增加这个字段的值，比如说购买了10个小时点卡的玩家字段值加60(60*10分钟=600分钟=10小时)，检测间隔时间越长，对服务器性能占用越低\n当检测间隔时间很长的时候，考虑到某些玩家可能会在检测之前下线并在检测之后上线，可以将int型数据变为float型数据，在玩家下线的时候计算 (下线时间 - 上次检测时间)/检测时间间隔，然后减去这个比值，这样玩家检测之前下线并在检测之后上线依然会扣在线时间"
        },
        {
            "author": "shutong",
            "timestamp": 1565447280,
            "txt_content": "Nestalie 发表于 2019-8-9 23:03\n我写的是如何实现记时...\n难不成还手记谁谁谁进来几分钟然后网络验证嘛\n这个白名单也可以做到啊 ...\n网络验证有自己的点卡系统，你事件到了就进不了游戏了，网络验证不是有天卡，月卡，永久卡吗"
        },
        {
            "author": "Nestalie",
            "timestamp": 1565622960,
            "txt_content": "shutong 发表于 2019-8-10 22:28\n网络验证有自己的点卡系统，你事件到了就进不了游戏了，网络验证不是有天卡，月卡，永久卡吗 ...\n噢,理解了,可能我描述的有点问题\n大概是指分钟制的点卡系统"
        }
    ]
}