{
    "title": "[原创][API]HealthAPI —— 虚拟血量核心[全版本]",
    "author": "ruo_shui",
    "replyCount": 17,
    "timestamp": 1584595860,
    "txt_content": " 本帖最后由 ruo_shui 于 2021-1-6 21:54 编辑 \n\n\n\n\n虚拟血量\n插件交流群: 点我加入插件交流群当前插件版本: v1.2.8\n\n\n本插件可以实现玩家虚拟血量\n优点:\n  当血量很多的时候不用担心遮挡屏幕\n使用方法:\n  插件指令: /vh help\n\n开发者API:\n开发者须知: \n使用本插件千万不要将EntityDamageEvent的监听优先级设置为 EventPriority.MONITOR\n//获取玩家虚拟血量类\nPlayerHealth healt = PlayerHealth.getPlayerHealth(玩家名);\n\n//PlayerHealth参数\n/**\n    * 获取玩家虚拟血量类\n    * @param player 玩家类\n    * @return PlayerHealth类\n    * */\n  getPlayerHealth(Player player);\n\n    /**\n     * 获取玩家虚拟血量类\n     * @param playerName 玩家名称\n     * @return PlayerHealth类\n     * */\n  getPlayerHealth(String playerName);\n    \n    /**\n     * 获取虚拟血量上限\n     * @return 血量上限\n     * */\n    getDefaultMaxHealth();\n\n    /**\n     * 获取玩家名\n     * @return 玩家名\n     * */\n    getPlayerName();\n\n    /**\n     * 获取玩家虚拟血量\n     *\n     * @return 玩家血量\n     * */\n    getHealth() ;\n\n    /**\n     * 设置玩家虚拟血量 如果玩家在线 同步玩家血量\n     * @param health 虚拟血量值\n     * */\n    setHealth(double health) ;\n    /**\n     * 获取玩家最大血量\n     * @return 最大虚拟血量\n     * */\n    getMaxHealth();\n\n    /**\n     * 插件api 累计增加虚拟血量上限\n     * @param owner 识别名\n     * @param health 血量上限\n     *\n     * */\n    addMaxHealth(String owner,int health);\n\n    /**\n     * 插件api 设置虚拟血量上限\n     * @param owner 识别名\n     * @param health 血量上限\n     *\n     * */\n    setMaxHealth(String owner,int health);\n\n    /**\n     * 插件api 减少虚拟血量上限\n     * @param owner 识别名\n     * @param health 血量上限\n     * */\n    removeMaxHealth(String owner,int health);\n\n    /**\n     * 插件api 获取识别名增加的虚拟血量\n     * @param owner 识别名\n     * @return 增加的虚拟血量上限\n     * */\n    getOwnerMaxHealth(String owner);\n\n    /**\n     * 治疗玩家\n     * @param health 增加血量\n     * */\n    heal(double health);\n\n\n    /**\n     * 设置虚拟血量上限\n     * @param maxHealth 虚拟血量上限\n     * */\n     setMaxHealth(int maxHealth) ;\n    \n\n    /**\n     * 获取计算后玩家的真实血量\n     * @return 玩家的真实血量\n     * */\n    getPlayerHealth();\n\n\n    /**\n     * 获取玩家受到攻击后的真实血量\n     * @return 玩家的真实血量\n     * */\n    getDamageHealth(float damage);\n\n    /**\n     * 获取玩家血量百分比\n     * @return 百分比血量\n     * */\n    getHealthPercentage();\n    /**\n     * 设置玩家重生血量\n     * */\n    setSpawnHealth();\n   /**\n     * 设置玩家重生血量\n     * */\n    setSpawnHealth();\n    /**\n     * 获取玩家世界独立血量\n     * @param levelName 世界名称\n     * @return 最大血量\n     * */\n    getLevelHealth(String levelName)；\n    /**\n     * 移除玩家世界独立血量\n     * @param levelName 世界名称\n     * */\n    removeLevelHealth(String levelName)；\n    /**\n     * 设置玩家世界独立血量\n     * @param levelName 世界名称\n     * @param maxHealth 最大血量\n     * */\n    setLevelHealth(String levelName,int maxHealth)；复制代码\n插件演示:\n\n\n\n\n\nfile_1584601587000.jpg (103.94 KB, 下载次数: 8)\n\n下载附件\n\n2020-3-19 15:06 上传\n\n\n\n\n\n\n\n\n\nimage.png (61.54 KB, 下载次数: 6)\n\n下载附件\n\n2020-3-19 15:06 上传\n\n\n\n\n\n\n\n\n\nfile_1584601640000.jpg (65.48 KB, 下载次数: 9)\n\n下载附件\n\n2020-3-19 15:07 上传\n\n\n\n\n\n\n\n\n\n下载:\n  v1.2.8\n\n\n\nhealthapi_v1.2.8.jar\n(26.77 KB, 下载次数: 182)\n\n\n\n2021-1-6 21:52 上传\n点击文件名下载附件\n\n\n\n\n\n\n   \n\n更新日志:\nv1.2.8(2020/12/13)\n- 修复受到伤害出现的bug\n- 修复卡界面bug\n\nv1.2.2(2020/11/14)\n - 修复无限死亡bug\n - 修复死亡刷屏bug\nv1.1.8(2020/8/9)\n - 修复玩家无法死亡bug \n - 修复 触发多次死亡bug\n\n v1.1.6:(2020/7/31)\n  - 修复玩家传装备死亡刷屏bug\n  - 优化插件\n\nv1.1.2：\n    - 优化代码\n - 修复死亡后无限复活bug\nv1.0.9：\n    - 修复治疗血量溢出bug\nv1.0.7：\n    - 修复指令BUG\n\nv1.0.6:\n     - 修复玩家收到攻击刷死亡bug\n     - 兼容YRFB\n\n\nv1.0.4:\n     - 在配置文件增加真实血量世界 \n     - 玩家在真实血量世界的时候虚拟血量不生效\n      - 增加独立世界血量\n      - 更新此版本请删除旧版配置\n  v1.0.3:\n      修复重生时血量出错问题\n  v1.0.2:\n      优化指令功能\n历史版本:\n v1.2.2\n\n\n\nhealthapi_v1.2.2-alpha2.jar\n(26.68 KB, 下载次数: 77)\n\n\n\n2020-11-14 16:41 上传\n点击文件名下载附件\n\n\n\n\n\n  v1.1.8\n\n\n\nhealthapi_v1.1.8.jar\n(24.09 KB, 下载次数: 84)\n\n\n\n2020-8-9 18:28 上传\n点击文件名下载附件\n\n\n\n\n\n  v1.1.6\n\n\n\nhealthapi_v1.1.6.jar\n(23.9 KB, 下载次数: 13)\n\n\n\n2020-7-31 23:35 上传\n点击文件名下载附件\n\n\n\n\n\nv1.1.2\n\n\n\nhealthapi_v1.1.2.jar\n(22.72 KB, 下载次数: 27)\n\n\n\n2020-5-5 13:53 上传\n点击文件名下载附件\n\n\n\n\n\n\nv1.0.9:\n  \n\n\n\nhealthapi_v1.0.9.jar\n(22.72 KB, 下载次数: 14)\n\n\n\n2020-4-19 22:35 上传\n点击文件名下载附件\n\n\n\n\n\n\nv1.0.7:\n  \n\n\n\nhealthapi_v1.0.7.jar\n(22.76 KB, 下载次数: 18)\n\n\n\n2020-3-29 12:08 上传\n点击文件名下载附件\n\n\n\n\n\n  \nv1.0.6:\n  \n\n\n\nhealthapi_v1.0.6.jar\n(21.45 KB, 下载次数: 13)\n\n\n\n2020-3-23 09:35 上传\n点击文件名下载附件\n\n\n\n\n\n\n  \nv1.0.3:\n   \n\n\n\nhealthapi_v1.0.3.jar\n(17.04 KB, 下载次数: 6)\n\n\n\n2020-3-19 22:49 上传\n点击文件名下载附件\n\n\n\n\n\n\n   v1.0.4:\n  \n\n\n\nhealthapi_v1.0.4.jar\n(20.02 KB, 下载次数: 11)\n\n\n\n2020-3-20 11:48 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n[groupid=1708]Pioneer Group[/groupid]",
    "replies": [
        {
            "author": "wujipohh",
            "timestamp": 1584604560,
            "txt_content": "支持若水, 支持 EasyAPI"
        },
        {
            "author": "xiaolinlin123",
            "timestamp": 1591107300,
            "txt_content": "无法访问是什么鬼"
        },
        {
            "author": "xiaolinlin123",
            "timestamp": 1592384520,
            "txt_content": "真实血量和虚拟血量是什么意思不是很懂"
        },
        {
            "author": "ruo_shui",
            "timestamp": 1592402760,
            "txt_content": "xiaolinlin123 发表于 2020-6-17 17:02\n真实血量和虚拟血量是什么意思不是很懂\n有区别的，如果是真实血量，当血量很多的时候会出现占屏幕的情况\n而虚拟血量 只会让血量显示限制在 一排"
        },
        {
            "author": "xiaolinlin123",
            "timestamp": 1592406240,
            "txt_content": "ruo_shui 发表于 2020-6-17 22:06\n有区别的，如果是真实血量，当血量很多的时候会出现占屏幕的情况\n而虚拟血量 只会让血量显示限制在 一排 ...\n谢谢解答"
        },
        {
            "author": "终极_闲人",
            "timestamp": 1600516260,
            "txt_content": "完成任务哈哈哈哈哈哈哈哈哈哈"
        },
        {
            "author": "旧爱姥姥",
            "timestamp": 1605622500,
            "txt_content": "请教一下 插件加到服务端没效果（重启了服务器） 而且没有配置文件夹咋回事"
        },
        {
            "author": "ruo_shui",
            "timestamp": 1605665100,
            "txt_content": "旧爱姥姥 发表于 2020-11-17 22:15\n请教一下 插件加到服务端没效果（重启了服务器） 而且没有配置文件夹咋回事 ...\n1. 请检查一下服务端核心是否为nukkit核心\n2. 请检查一下插件是否安装到plugins文件夹"
        },
        {
            "author": "2475515964",
            "timestamp": 1606676340,
            "txt_content": "很不错讲解仔细"
        },
        {
            "author": "冬天里的南方人",
            "timestamp": 1609982040,
            "txt_content": "经常会出现血量被锁定到40，受到伤害后瞬间回满血的情况，请问是怎么回事"
        },
        {
            "author": "ruo_shui",
            "timestamp": 1609986180,
            "txt_content": "冬天里的南方人 发表于 2021-1-7 09:14\n经常会出现血量被锁定到40，受到伤害后瞬间回满血的情况，请问是怎么回事 ...\n这个你可以在配置文件修改。默认玩家40点血，血量是按照百分比设置的，所以会出现扣出很大一块，又恢复过来的情况，不影响实际使用，只是看起来效果是那样"
        },
        {
            "author": "冬天里的南方人",
            "timestamp": 1610002920,
            "txt_content": "ruo_shui 发表于 2021-1-7 10:23\n这个你可以在配置文件修改。默认玩家40点血，血量是按照百分比设置的，所以会出现扣出很大一块，又恢复过 ...\n可是……我站在仙人掌上，或者被僵尸这种低攻击力的生物打，回血的速度远远超过了扣血的速度，血量始终会瞬间回到40点，只有被爆炸，掉进岩浆或者高处摔落这种才会导致死亡"
        },
        {
            "author": "ruo_shui",
            "timestamp": 1610007600,
            "txt_content": "冬天里的南方人 发表于 2021-1-7 15:02\n可是……我站在仙人掌上，或者被僵尸这种低攻击力的生物打，回血的速度远远超过了扣血的速度，血量始终会 ...\n更新一下插件，或者根据底部显示关注血量变化，或者关闭插件的血量恢复，用原生的饥饿值恢复"
        },
        {
            "author": "M神在世",
            "timestamp": 1611503580,
            "txt_content": "我丢plugins文件夹里面重启为啥一点反应都没有？是不是还需要什么条件，版本1.12的"
        },
        {
            "author": "ruo_shui",
            "timestamp": 1611503640,
            "txt_content": "M神在世 发表于 2021-1-24 23:53\n我丢plugins文件夹里面重启为啥一点反应都没有？是不是还需要什么条件，版本1.12的 ...\n这个是基岩版的nukkit插件，请注意插件的使用范围"
        },
        {
            "author": "[王彦博]",
            "timestamp": 1611588360,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "jalliam",
            "timestamp": 1612186080,
            "txt_content": "额。下好了才发现是基岩版的"
        }
    ]
}