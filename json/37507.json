{
    "title": "[tech基础教程]part2",
    "author": "DJXGAME",
    "replyCount": 15,
    "timestamp": 1343534760,
    "txt_content": "\n第二章 动画\n\n在本章中我们主要研究设置旋转角度（setRotationAngles）以及其他的一些参数。在介绍动画之前我们需要先回忆一下：\n    @Override\n    public void render(Entity entity, float var1, float var2, float var3, float var4, float var5, float var6)\n    {\n        setRotationAngles(var1, var2, var3, var4, var5, var6);\n        body.render(var6);\n    }\n\n    @Override\n    public void setRotationAngles(float var1, float var2, float var3, float var4, float var5, float var6)\n    {\n\n    }复制代码我们假设按照余弦函数的形式进行运动，如图所示：\n\n其中，y(X)为在t(x)时的旋转半径。\n我们使用小鸡模型 (ModelChicken) 进行举例（可以通过使用ff和mcp进行反编译得到）\n\nleg0.rotationX = MathHelper.cos(var1 * 0.6662F) * 1.4F * var2;\nleg1.rotationX = MathHelper.cos(var1 * 0.6662F + 3.1415927F) * 1.4F * var2;复制代码\n设置旋转角度(setRotationAngles)变量\n\n第一自变量和第二自变量\n其中第一自变量(var1)用来决定时间、第二自变量（var2)用来决定振幅。可以通过此处修改生物的移动速度，其移动速度越快，腿部的抬高幅度就越高。归纳起来，可以称第一变量为”时间变量(time)“、第二变量为”移动速度变量(walkspeed)“\n\n以下图为例：\n\n\n此时腿部绕X轴旋转满足一下公式：\ny(time)=cos(time)*walkspeed\n上图则描绘为一个生物处于静止状态并逐渐加速达到最大速度后逐渐减速的过程。\n\n那么该如何进行计算呢？\n参考 RenderLiving.render(Entity entity, double var2, double var4, double var6, float var8, float var9):\nfloat time = mob.field_703_S - mob.field_704_R * (1 - var6);\nfloat walkSpeed = mob.field_705_Q + (mob.field_704_R - mob.field_705_Q) * var6;复制代码第三自变量\n确切地来说第三自变量不好进行命名，因为其根据不同文件有如下三种功能：\n狼：尾巴的角度\n墨鱼：触须的角度鸡：翅膀的角度\n\n您只需要做的即是在渲染文件(renderfile）中修改handleRotationFloat即可。\n\n以墨鱼为例：\nprotected float handleRotationFloat(EntitySquid entitysquid, float f)\n{\n  //f == Timer.renderPartialTicks and represents the passed ticks since  the last rendercall (0.0 - 1.0), it gets passed down from runGameLoop() in  Minecraft.java.\n  return entitysquid.lastTentacleAngle + (entitysquid.tentacleAngle - entitysquid.lastTentacleAngle) * f;\n}复制代码由于lastTentacleAngle和tentacaleAngle在onLivingUpdate中设置为每秒查询20次，此时需要在两个角度中间的位置确保我们获得了一个较为流畅的动画。\n\n第四和第五变量。\n分别描述了旋转的偏转(rotationYaw)以及倾斜（RotationPitch）。\nfloat rotationYaw = entityliving.prevRotationYaw + (entityliving.rotationYaw - entityliving.prevRotationYaw) * f1;\nfloat rotationPitch = entityliving.prevRotationPitch + (entityliving.rotationPitch - entityliving.prevRotationPitch) * f1;\n复制代码在使用这连两个变量时需要对头部绕X轴的旋转（headRotationX）以及绕y轴的旋转（headRotationY）有一个明确的认识。\nhead.rotateAngleY = f3 / 57.29578F;\nhead.rotateAngleX = f4 / 57.29578F;复制代码\n其中57.29578为由角度制换算成弧度制的系数(180/pi)。\n\n第六变量\n该变量描述的是运动的数值范围，这一变量通常无须理会。\nfloat scale = 1 / 16.0f;复制代码其中1方块高度为16个像素\n\n小结\n决定旋转角度的变量有如下6个：\n运动动画的时间运动动画的速度那个虽然有用但不知道如何命名的变量旋转的偏转旋转的倾斜数值大小\n\n\n希望这些信息能够有用~~~\n\n\n\n",
    "replies": [
        {
            "author": "木是伊",
            "timestamp": 1343534820,
            "txt_content": "支持一下OAO"
        },
        {
            "author": "craft",
            "timestamp": 1343535120,
            "txt_content": "感谢。非常有用的教程。"
        },
        {
            "author": "公猫",
            "timestamp": 1345799820,
            "txt_content": "给力啊情。"
        },
        {
            "author": "mika880829",
            "timestamp": 1377791400,
            "txt_content": "lz太好人了!!!\n翻譯了這麼棒的教學!"
        },
        {
            "author": "星辰月夜",
            "timestamp": 1382010960,
            "txt_content": "好像挺不错，谢谢楼主"
        },
        {
            "author": "jiawen123",
            "timestamp": 1393153560,
            "txt_content": "好像好难。。。"
        },
        {
            "author": "幽蓝",
            "timestamp": 1393342080,
            "txt_content": "呃，有金粒拿~肯定带走啊"
        },
        {
            "author": "幽蓝",
            "timestamp": 1393342200,
            "txt_content": "看看还有木有~"
        },
        {
            "author": "我是M哥",
            "timestamp": 1411991760,
            "txt_content": "呃。没看懂"
        },
        {
            "author": "特首何厚铧",
            "timestamp": 1422258480,
            "txt_content": "感谢分享！真有用"
        },
        {
            "author": "末影龙娘",
            "timestamp": 1422262080,
            "txt_content": "首次见到Tech的教程，看起来很高深哈"
        },
        {
            "author": "qw78qwe",
            "timestamp": 1452969360,
            "txt_content": "谢谢楼主。。认真学习中0.0"
        },
        {
            "author": "grady栗",
            "timestamp": 1456731120,
            "txt_content": "图挂了啊。。。。"
        },
        {
            "author": "grady栗",
            "timestamp": 1456731420,
            "txt_content": "  这里的 setRotationAngles(float var1, float var2, float var3, float var4, float var5, float var6)这6个参数是代表什么？\n\n @Override\n    public void render(Entity entity, float var1, float var2, float var3, float var4, float var5, float var6)\n    {\n        setRotationAngles(var1, var2, var3, var4, var5, var6);\n        body.render(var6);\n    }\n\n    @Override\n    public void setRotationAngles(float var1, float var2, float var3, float var4, float var5, float var6)\n    {\n\n    }"
        },
        {
            "author": "grady栗",
            "timestamp": 1456731540,
            "txt_content": "grady栗 发表于 2016-2-29 15:37\n这里的 setRotationAngles(float var1, float var2, float var3, float var4, float var5, float var6)这 ...\n而且为什么函数体是空白的？？"
        }
    ]
}