{
    "title": "怎样做出一把随机伤害的武器？",
    "author": "天佑酱",
    "replyCount": 4,
    "timestamp": 1531743480,
    "txt_content": "怎么做出一把随机伤害的剑？\n\n\n要求: ①原版\n         ②通过指令\n         ③教程，不是直接回答指令\n         ",
    "replies": [
        {
            "author": "SPGoding",
            "timestamp": 1531743480,
            "txt_content": " 本帖最后由 SPGoding 于 2018-7-19 13:48 编辑 \n\n你看，又一个提问不说版本的。\n我的想法是，以武器本身的伤害为基础伤害，然后通过在受伤的实体上面生成随机伤害的箭来达到随机伤害的效果。\n以单人模式为例。\n其实要做的事情很简单，就是在玩家拿着特定武器时，在受到伤害的实体上生成随机伤害的箭\n第一步，给拿着特定武器（这里以钻石剑，即 minecraft:diamond_sword 为例）的玩家加 tag。\n1.12/scoreboard players tag @p add chosen_by_sky {SelectedItem:{id:\"minecraft:diamond_sword\"}}复制代码1.13/tag @p[nbt={SelectedItem:{id:\"minecraft:diamond_sword\"}}] add chosen_by_sky复制代码\n第二步，找受到伤害的实体，加tag。\n1.12/scoreboard players tag @e add hurted {HurtTime:9s}复制代码1.13/tag @e[nbt={HurtTime:9s}] add hurted复制代码\n第三步，在满足上面两个条件时，生成随机伤害的箭。\n我这里用一个诡异的随机数生成的方式。/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"1\"]}\n/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"2\"]}\n/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"3\"]}\n/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"4\"]}\n/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"5\"]}\n/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"6\"]}\n/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"7\"]}\n/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"8\"]}\n/summon armor_stand ~ ~ ~ {Invisible:1b,Tags:[\"random\",\"9\"]}复制代码从它们里随机抽一个加tag\n1.12/scoreboard players tag @r[type=armor_stand,tag=random] add selected复制代码1.13/tag @e[sort=random,tag=random,type=armor_stand,limit=1] add selected复制代码然后穷举被选中盔甲架的 tag。\n1.12/execute @e[tag=selected,tag=1] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:1d}\n/execute @e[tag=selected,tag=2] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:2d}\n/execute @e[tag=selected,tag=3] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:3d}\n/execute @e[tag=selected,tag=4] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:4d}\n/execute @e[tag=selected,tag=5] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:5d}\n/execute @e[tag=selected,tag=6] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:6d}\n/execute @e[tag=selected,tag=7] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:7d}\n/execute @e[tag=selected,tag=8] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:8d}\n/execute @e[tag=selected,tag=9] ~ ~ ~ execute @p[tag=chosen_by_sky] ~ ~ ~ execute @e[tag=hurted] ~ ~ ~ summon arrow ~ ~2 ~ {damage:9d}复制代码1.13/execute as @e[tag=selected,tag=1] at @s run execute as @p[tag=chosen_by_sky] at @s run execute as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:1d}\n/execute if entity @e[tag=selected,tag=2] if entity @p[tag=chosen_by_sky] as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:2d}\n/execute if entity @e[tag=selected,tag=3] if entity @p[tag=chosen_by_sky] as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:3d}\n/execute if entity @e[tag=selected,tag=4] if entity @p[tag=chosen_by_sky] as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:4d}\n/execute if entity @e[tag=selected,tag=5] if entity @p[tag=chosen_by_sky] as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:5d}\n/execute if entity @e[tag=selected,tag=6] if entity @p[tag=chosen_by_sky] as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:6d}\n/execute if entity @e[tag=selected,tag=7] if entity @p[tag=chosen_by_sky] as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:7d}\n/execute if entity @e[tag=selected,tag=8] if entity @p[tag=chosen_by_sky] as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:8d}\n/execute if entity @e[tag=selected,tag=9] if entity @p[tag=chosen_by_sky] as @e[tag=hurted] at @s run summon arrow ~ ~2 ~ {damage:9d}复制代码最后清楚用来生成随机伤害的这些盔甲架/kill @e[tag=random]复制代码\n清楚用到的tag\n1.12/scoreboard players tag @a remove chosen_by_sky\n/scoreboard players tag @e remove hurted复制代码1.13/tag @a remove chosen_by_sky\n/tag @e remove hurted复制代码\n至此，你就可以在钻石剑的基础伤害上，对生物造成多于 1 至 9 点的伤害。"
        },
        {
            "author": "liudaifeng55",
            "timestamp": 1531963740,
            "txt_content": "SPGoding 发表于 2018-7-16 20:44\n你看，又一个提问不说版本的。\n我的想法是，以武器本身的伤害为基础伤害，然后通过在受伤的实体上面生成随 ...\n弱弱地问一句 在第三步的时候，1.13添加被选中tag(selected)应该要加limit=1的吧？像这样子(我用的aec)\ntag @e[sort=random,tag=random,type=area_effect_cloud,limit=1] add selected复制代码\n"
        },
        {
            "author": "zhezhe1216",
            "timestamp": 1532000160,
            "txt_content": "可以尝试用不同的力量、虚弱效果来实现。\n首先判定玩家拿的剑、然后在极短时间内激活某个命令方块（可能是力量IV 可能是虚弱II等等），因为发生时间极短，所以就算不是随机也是可以的。"
        },
        {
            "author": "天佑酱",
            "timestamp": 1532078820,
            "txt_content": "zhezhe1216 发表于 2018-7-19 19:36\n可以尝试用不同的力量、虚弱效果来实现。\n首先判定玩家拿的剑、然后在极短时间内激活某个命令方块（可能是 ...\n我想过，但是不理想。首先是检测得问题，玩家不可能拿起剑就砍吧？如果设置为是玩家左键，就太晚了，\n再者，力量效果每3伤害一级，不是我想要的例如 5~10 伤害这样子"
        }
    ]
}