{
    "title": "原版命令随机分配队伍，且人数平衡！",
    "author": "黑魂akubi",
    "replyCount": 7,
    "timestamp": 1584954360,
    "txt_content": " 本帖最后由 黑魂akubi 于 2020-3-23 17:40 编辑 \n一个随机分配队伍且人数平衡的系统在一个小游戏地图中会十分有趣，因为你并不知道会分配到哪名玩家作为队友；\n但也十分公平，在人数为偶数的情况下人数是相同的。\n\n\n[at\n\n应用到的计分板：/scoreboard objectives add rs dummy复制代码/scoreboard objectives add rs2 dummy复制代码\n手动将展示框的rs计分板分数设置成2分：\n/scoreboard players set @e[type=item_frame] rs 2复制代码\n\nrs计分板的作用是计算人数，rs2的作用是计算人数的一半。\n运用到的实体：盔甲架（armor_stand）、物品展示框（item_frame）。（当然可以不使用物品展示框，为了方便讲解。我只是懒而已） \n\n看完这里后不想看详细可以直接跳到总结\n\n\n\n\n下面是一些详细的过程以及讲解\n\n第一步：得出总人数\n在分配人数平衡的队伍的前提下得先知道人数，所以下面这条指令是必须的：循环：scoreboard players set @e[type=armor_stand] rs 0连锁：execute @a ~ ~ ~ scoreboard players add @e[type=armor_stand] rs 1\n\n当两条指令都运行后，盔甲架的rs分数将是当前的总人数。\n\n\n第二步：分配队伍\n1-得到总人数的一半脉冲：scoreboard players operation @e[type=armor_stand] rs2 = @e[type=armor_stand] rs循环：scoreboard players operation @e[type=armor_stand] rs2 /= @e[type=item_frame] rs\n\n将盔甲架的rs2分数同等于rs的分数，就得到了2份总人数。rs2的实际作用则是用来计算总人数的一半，应用在吓一条指令。\n而第二条指令则将盔甲架的rs2的分数除以物品展示框rs的分数（2分）就得到了一半的人数。\n如果你想分配成3个、4个队伍可以更改物品展示框rs的分数。\n\n总人数÷2=总人数的一半\n\n2-分配队伍\n连锁：execute @e[type=armor_stand,score_rs2_min=1] ~ ~ ~ scoreboard teams join 黑 @r[type=plyaer,team=]连锁：execute @e[type=armor_stand,score_rs2_min=0] ~ ~ ~ scoreboard players remove @s rs2 1连锁：execute @e[type=armor_stand,score_rs2_min=0,score_rs2=0] ~ ~ ~ scoreboard teams join 红 @a[type=player,team=]\n\n这里其实特别简单，\n当盔甲架的rs2分数最小为1时，将一名随机的没有队伍的玩家加入到“黑”的队伍。\n当盔甲架的rs2分数最小为0时，扣除自己（盔甲架）rs2计分板的1分。与上一条指令合作将一半的人数加入“黑”队。\n当盔甲架的rs2分数最小为0、最大为0时，将所有没有队伍的玩家加入“红”的队伍。将剩下没有被加入“黑”队的一半玩家加入到“红”队。\n\n如果想分配多个队伍，只需要在第1条指令后再插入下面这条指令，更改其中的队伍名字。\n连锁：execute @e[type=armor_stand,score_rs2_min=1] ~ ~ ~ scoreboard teams join 队伍 @r[type=plyaer,team=]\n当然加入队伍命令方块的数量请与物品展示框的rs分数少1，不能相等或多1。\n\n\n\n总结\n \n当①脉冲命令方块被激活得出盔甲架的rs2的时，将会进行队伍分配。\n\n循环：scoreboard players set @e[type=armor_stand] rs 0\n连锁：execute @a ~ ~ ~ scoreboard players add @e[type=armor_stand] rs 1\n\n①脉冲：scoreboard players operation @e[type=armor_stand] rs2 = @e[type=armor_stand] rs\n循环：scoreboard players operation @e[type=armor_stand] rs2 /= @e[type=item_frame] rs\n连锁：execute @e[type=armor_stand,score_rs2_min=1] ~ ~ ~ scoreboard teams join 黑 @r[type=player,team=]\n连锁：execute @e[type=armor_stand,score_rs2_min=0] ~ ~ ~ scoreboard players remove @s rs2 1\n连锁：execute @e[type=armor_stand,score_rs2_min=0,score_rs2=0] ~ ~ ~ scoreboard teams join 红 @e[type=player,team=]\n\n\n使所有玩家退出队伍的指令：\n脉冲：/scoreboard teams leave @a\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "112709347",
            "timestamp": 1584955800,
            "txt_content": " 本帖最后由 112709347 于 2020-3-25 13:15 编辑 \n\n我觉得这样是不是更好呢？？\n脉冲/scoreboard players tag add @a 1\n循环/execute @r[type=player,team=!红,tag=1] ~ ~ ~ scoreboard teams join 黑 @s[type=player,team=!黑,tag=1]\n连锁/execute @r[type=player,team=!红,tag=1] ~ ~ ~ scoreboard teams join 红 @s[type=player,team=!黑,tag=1]\n连锁/scoreboard players tag remeve @a[team=黑] 1\n连锁/scoreboard players tag remeve @a[team=红] 1"
        },
        {
            "author": "黑魂akubi",
            "timestamp": 1584956100,
            "txt_content": "112709347 发表于 2020-3-23 17:30\n我觉得这样是不是更好呢？？\n脉冲/scoreboard players tag add @a 1\n循环/scoreboard teams join 黑 @r[typ ...\n哈哈哈哈好像是会好理解一点！马上改"
        },
        {
            "author": "112709347",
            "timestamp": 1584956280,
            "txt_content": "黑魂akubi 发表于 2020-3-23 17:35\n哈哈哈哈好像是会好理解一点！马上改\n感觉亮点就在你用展示框把计分板除2的那里，改了就没亮点了"
        },
        {
            "author": "黑魂akubi",
            "timestamp": 1585034760,
            "txt_content": "112709347 发表于 2020-3-23 17:38\n感觉亮点就在你用展示框把计分板除2的那里，改了就没亮点了\n我以为你说的是前缀 结果发现并不是 按@r[type=plyaer,team=!黑,team=!红,tag=1] 并不能同时选择非红队和非黑队的玩家"
        },
        {
            "author": "tineseack_bk",
            "timestamp": 1585039860,
            "txt_content": "https://www.mcbbs.net/thread-718654-1-1.html里面有个 1gt 随机分队，虽然方法已经过期了（现在可以用 function 嵌套代替）"
        },
        {
            "author": "112709347",
            "timestamp": 1585113240,
            "txt_content": "黑魂akubi 发表于 2020-3-24 15:26\n我以为你说的是前缀 结果发现并不是 按@r[type=plyaer,team=!黑,team=!红,tag=1] 并不能同时选择非红队和 ...\n我现在基本上都很少在玩1.12的指令了\n然后你也让我想起我以前是怎么解决这个问题的\n大概就是这样：/execute @r[type=player,team=!红,tag=1] ~ ~ ~ scoreboard teams join 黑 @s[type=player,team=!黑,tag=1]"
        },
        {
            "author": "细致Ing",
            "timestamp": 1585123860,
            "txt_content": "谢了很受益"
        }
    ]
}