{
    "title": "[RPG]ondamage ——限制近战|通过拦截数据包阻止玩家攻击[开源][1.12.2]",
    "author": "Somnus7",
    "replyCount": 11,
    "timestamp": 1584351660,
    "txt_content": " 本帖最后由 Somnus7 于 2020-3-21 14:18 编辑 \n\n近期做服遇到个困难 就是远程武器可以造成近战伤害 但是我通过监听实体攻击实体来取消伤害的话 skillapi的伤害也会被取消掉\n\n然后我就彻夜难眠 思考解决方法 直到有一天蹲坑的时候突然想到攻击事件是通过客户端发数据包给服务端的\n然后就有了这个通过ProtocolLib拦截并取消数据包的插件，然后源码发给大家，如果遇到类似的问题可以直接拿来参考注意是截取客户端向服务端发送攻击事件的数据包，而不是监听EntityDamageByEntityEvent事件 代码之中取消的是数据包 而不是事件 \n对于腐竹：只要你的武器上（或者不想造成近战伤害的物品）有“§1§2§3§4”这个关键词 即可取消掉你物品的近战伤害\n没做配置文件 没做指令 懒癌犯了（如果你是开发者，源码内附带配置文件的方法，详见“containsLore”） 例如给物品添加如“§1§2§3§4§b§l这个物品真神奇”，只要有“§1§2§3§4”这个词条就会取消掉近战A人的事件\n\n对于开发者 希望这个代码的思路可以帮到你 具体就是通过ProtocolLib来进行数据包操作\n\n插件/源码下载（jar是插件，zip是源码）:\n\n\n\nondamage.zip\n(13.3 KB, 下载次数: 21)\n\n\n\n2020-3-16 17:35 上传\n点击文件名下载附件\n源码\n\n\n\n\n\n\n\nondamage.jar\n(6.71 KB, 下载次数: 31)\n\n\n\n2020-3-16 17:35 上传\n点击文件名下载附件\n插件\n\n\n\n\n\n\n代码均为原创，不存在抄袭行为\n\n最后 希望能帮你解决问题 感谢你的浏览 插件开发者如果需要引用代码 发个私信或者回复就好 （请不要二次修改后注明原创，开发不易大家都懂~",
    "replies": [
        {
            "author": "12344987498496",
            "timestamp": 1584352680,
            "txt_content": "感谢楼主，解决很多困惑。"
        },
        {
            "author": "Somnus7",
            "timestamp": 1584353760,
            "txt_content": "12344987498496 发表于 2020-3-16 17:58\n感谢楼主，解决很多困惑。\n感谢评论 可以到我主页看其他插件 希望对你有所帮助"
        },
        {
            "author": "117779284",
            "timestamp": 1584354360,
            "txt_content": "既然能解决。。那些RPG插件作者为啥不顺便解决呢。。。\n\n这个代码写进入应该也能达到目的吧··\n楼主这思路别的作者肯定会借鉴"
        },
        {
            "author": "Somnus7",
            "timestamp": 1584355020,
            "txt_content": "117779284 发表于 2020-3-16 18:26\n既然能解决。。那些RPG插件作者为啥不顺便解决呢。。。\n\n这个代码写进入应该也能达到目的吧··\n\n发出来的目的就是为了解决问题 防止大家踩坑"
        },
        {
            "author": "zhiqiu520",
            "timestamp": 1584357960,
            "txt_content": "好插件，正好有需要"
        },
        {
            "author": "凉菀彡",
            "timestamp": 1586396880,
            "txt_content": "好插件!服务器可以用得上!"
        },
        {
            "author": "428751434",
            "timestamp": 1589280720,
            "txt_content": "mcbbs有你正精彩"
        },
        {
            "author": "kuaile412",
            "timestamp": 1598321760,
            "txt_content": "支持大佬\n不过yysy，你既然都装了skillapi为什么不直接用它禁止掉近战攻击呢\n只需要触发器写[造成物理（普攻）伤害]，子组件写效果里面的[取消]就可以做到禁止近战攻击了呀\n我是这么干的"
        },
        {
            "author": "小豪豪都",
            "timestamp": 1598323920,
            "txt_content": "终于找到了，可惜不是1.8的。。。"
        },
        {
            "author": "Somnus7",
            "timestamp": 1598396400,
            "txt_content": "kuaile412 发表于 2020-8-25 10:16\n支持大佬\n不过yysy，你既然都装了skillapi为什么不直接用它禁止掉近战攻击呢\n只需要触发器写[造成物理（普 ...\n因为不会skillapi= ="
        },
        {
            "author": "桐谷和人.1",
            "timestamp": 1598407860,
            "txt_content": "非常棒的插件，支持支持"
        }
    ]
}