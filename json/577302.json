{
    "title": "[材质][items目录]皮革套装、植被、附魔、药水、烟花、旗帜，他们的颜色在哪里",
    "author": "包租公",
    "replyCount": 23,
    "timestamp": 1461209700,
    "txt_content": "前段时间在利用材质进行一些周边创造，发现一些材质并非游戏里展现的效果，但是需要还原出来，遇到一些不懂的，希望大大们帮助一下。皮革：\n游戏里皮革套好像是可以用染料染色，自己查了wiki，在染料页上面介绍了“皮革盔甲的颜色有12,326,391种组合”，还给了皮革颜色的生成代码和染色后上衣图片。代码是没看懂、上衣的图片我是给收了。\n植被：\n据说是在colormap目录下的两张图选择的，wiki的草方块页展示了6种颜色，那么是不是游戏植被只有这6中颜色，都对应colormap里的哪个像元的颜色？\n附魔：\nwiki附魔页介绍了.minecraft\\bin\\minecraft.jar\\glint.png是附魔光环的图片，可是没有bin这个文件夹啊，哪位大大有glint.png这个图？或者哪位大大知道怎么可以既简单，又准确的还原方法\n药水：\n药水瓶子的材质，只有可饮用和空瓶两个，那装有药水的那些药水颜色怎么来的？wiki上面似乎也没介绍。\n烟火之星、烟花、旗帜：\n这三者的颜色，是不是采用wiki染料页给出的16种颜色呢？烟花所用的材质是不是particle文件夹下的particles.png里那些+或X形花纹？\n\n最后还有提一下，我所以的材质是1.8的，但是1.9似乎添加了不少东西，带效果的箭、龙息、滞留药水......但是具体添加了哪些，我还不了解，所以希望各位大大帮助我的时候，能1.8和1.9都有切入，避免在我以后使用1.9的材质时，出现相同的问题。\n\n或许我上面说了一堆没表述清楚，在此简单地举个例子。例如有皮革帽这么一个材质，但是材质是白的，而游戏里却是能染成不同颜色的，那么我怎么修改材质，才能还原出这些带颜色的效果。\n\n还有，要另外说明一下，请大大们不要推荐截图-取色-修改材质这种方法，这个方法太慢了，而且对于带动画效果的东西（例如药水和附魔）也实现不了。\n\n谢谢大大们的帮助！\n",
    "replies": [
        {
            "author": "chyx",
            "timestamp": 1461209700,
            "txt_content": "这是药水的\n\n\n{\n    \"parent\": \"item/generated\",\n    \"textures\": {\n        \"layer0\": \"items/potion_overlay\",\n        \"layer1\": \"items/potion_bottle_drinkable\"\n    }\n}\n\n药水的水在layer1就表示要染色了\n\n\n\n要对自定义模型的面染色要设置tintindex\n设的跟默认时的layer后面的数一样就行了"
        },
        {
            "author": "chyx",
            "timestamp": 1461229140,
            "txt_content": "药水是有一个药水的水的黑白图片啊\n那个会被染色（硬编码 改不了）染什么色取决于药水效果\n\n再和空瓶子叠在一起就好了\n这个过程可以从model文件夹里找出来改 是个json文件"
        },
        {
            "author": "chyx",
            "timestamp": 1461229740,
            "txt_content": "chyx 发表于 2016-4-21 16:59\n药水是有一个药水的水的黑白图片啊\n那个会被染色（硬编码 改不了）染什么色取决于药水效果\n刷怪蛋 烟火之星差不多 也是一个黑白图染色\n建议你看一看wiki相关页面http://minecraft.gamepedia.com/Model"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1461230040,
            "txt_content": "皮装备染色方面是皮革原色叠加颜色，使用RGB值计算，不过这个真的好麻烦。\n嫌麻烦还是找个生成网好。或许要翻墙\n\n草方块不是会在群系之间有颜色的渐变变化么。\n知道但没留意，刚才翻了下感觉colormap还是好高能的...(图要是挂了问我再发)\ncolormap里一个为不同群系时树叶的颜色变化，另一个是草方块颜色的变化。\n以下某位歪果触的研究成果\n\n各群系\n\n\n简化到实质采用的像素颜色的大概位置。\n当然到现在也不会有太大变化。\n\n附魔那个是enchanted_item_glint这个名字吧？\n位于minecraft\\textures\\misc下，一条条那张，紫色应该是由代码决定的，不过改颜色能对附魔光环颜色有影响，应该...值得一试\n对了还有同目录下的enchanted_item_glint.png.mcmeta\n\n药水...带颜色的是根据附魔项，准确点，就是代码决定的，于光环和各色生成蛋一样，颜色都是代码决定。\n\n烟花....颜色应该是的，应该说是16种颜色及其混色\n旗帜好象只能16色，具体没时间了解...代会就要睡觉了.....\n是的，particle下全是粒子效果。而烟花是粒子效果里其中的一/几种。\n\n目前只接触1.8，1.9日后在说，到时候有问题可以在来BBS问啊hhh\n虽然命令NBT有不少改变，不过材质一直以来好象还真没听说怎么改过。\n\n你的栗子\n皮革材质，原版是浅灰色，非白色。染色后实际颜色=贴图的材质色+所染色\n所以保证材质的取色尽量接近原版的材质色就是了。\n\n最后你的另外说明....没看懂，算了 睡觉去....."
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1461230820,
            "txt_content": "补充...烟花那个，\n从左到右是一个粒子的显示过程，叫帧应该就挺好理解了\n\n完蛋....竟然不记得烟火之星和烟花的区别了..."
        },
        {
            "author": "chyx",
            "timestamp": 1461231540,
            "txt_content": "⊙v⊙ 发表于 2016-4-21 17:27\n补充...烟花那个，\n从左到右是一个粒子的显示过程，叫帧应该就挺好理解了\n对了 这里有各个生物群戏的颜色引用位置的说明\nTechnical details\n\ngrass.png\n\nfoliage.png\nThe temperature and rainfall values of the biome are used to change the colors of grass, foliage, and (for swamplands) water.\n\nA biome's rainfall value is typically a value from 0.0 to 1.0. A biome's temperature starts at a given value at sea level, Y=64, and goes down by 0.00166667 per meter increase. Starting values range from 2.0 (e.g., Desert) to -0.5 (e.g., Cold Taiga). The temperature does not increase below sea level.\n\nThe temperature and rainfall values are used to access two texture images in Minecraft, grass.png and foliage.png, in \\assets\\minecraft\\textures\\colormap. These textures are triangular, only the lower left is used, despite the upper right of the foliage file having colors. The adjusted temperature and adjusted rainfall values are used to access these two triangles. Treating the lower left corner as temperature = 1.0 and rainfall = 0.0, with adjusted temperature decreasing to 0.0 at the right edge and adjusted rainfall increasing to 1.0 at the top edge, the values used to retrieve the colors are computed as follows:\n\nAdjTemp = clamp( Temperature, 0.0, 1.0 )\n\nAdjRainfall = clamp( Rainfall, 0.0, 1.0 ) * AdjTemp\n\"clamp\" limits the range of the temperature and rainfall to 0.0-1.0. The clamped rainfall value is then multiplied by the 0.0-1.0 adjusted temperature value, which brings its value to be inside the lower left triangle. Some biomes' ranges are shown on the right; the multiplication makes all the line segments point towards the lower right corner.\n\nThe color for grass block top and sides, along with various forms of grass – specifically tall grass, ferns, double tall grass, and large ferns – is modified by the color retrieved from the grass.png image. The color for various tree foliage - all tree types except spruce and birch, which have fixed colors in the code – is modified by the color retrieved from foliage.png.\n\nAt borders between or among biomes, the colors of the block and its eight neighbors are computed and the average is used for the final block color.\n\nExact temperature and rainfall values for biomes can be found in various projects, e.g. this biome code.\n\nSwampland color\nSwamplands are special. Temperature, which starts at 0.8, is not affected by altitude. Rather, a Perlin noise function is used to gradually vary the temperature of the swampland. When this temperature goes below -0.1, a lush green color is used, 0x4C763C, otherwise it is set to a sickly brown, 0x6A7039. In addition, the color of the water in swamplands is always multiplied by a greenish tinge, 0xE0FFAE. These colors are locked in the code and not retrievable from any texture.\n\nRoofed forest color\nThe roofed forest biomes' grass color is retrieved normally, then averaged with a dark green color, 0x28340A, to produce the final color.\n\nMesa color\nAll mesa biomes' grass and foliage have hardwired colors, two tan colors, 0x90814D and 0x9E814D respectively. These are not modifiable by grass.png and foliage.png and unaffected by temperature.\n就是说取决于两个数 一个只由群戏决定 另一个由群戏和高度决定\n这里是群戏的参数\nhttps://github.com/erich666/Mineways/blob/master/Win/biomes.cpp"
        },
        {
            "author": "包租公",
            "timestamp": 1461287100,
            "txt_content": "⊙v⊙ 发表于 2016-4-21 17:14\n皮装备染色方面是皮革原色叠加颜色，使用RGB值计算，不过这个真的好麻烦。\n嫌麻烦还是找个生成网好。或许要 ...\n谢谢这位大大哦，你提到生成蛋，我确实还没想到蛋也是这样的情况。\n另外，我在考虑抽空试试PS的正片叠底功能，贴图+颜色。\n最后说明嘛，就是希望大大们尽可能从原理解说。"
        },
        {
            "author": "包租公",
            "timestamp": 1461287340,
            "txt_content": "chyx 发表于 2016-4-21 16:59\n药水是有一个药水的水的黑白图片啊\n那个会被染色（硬编码 改不了）染什么色取决于药水效果\n谢谢这位大大，你提到蛋，我才发现自己没想到蛋也是这样。\n后来你给的wiki页面，给了我一点提示，可以从model/item找找有没有编写颜色和光环动画效果。"
        },
        {
            "author": "包租公",
            "timestamp": 1461307320,
            "txt_content": "chyx 发表于 2016-4-21 17:09\n刷怪蛋 烟火之星差不多 也是一个黑白图染色\n建议你看一看wiki相关页面http://minecraft.gamepedia.com/Mo ...\n然而models/item里面似乎并没有调色的代码已经附魔光环的代码....你提供的网页我也看了，但是能力有限，看懂的不多，即使看懂的部分也没有相关的"
        },
        {
            "author": "包租公",
            "timestamp": 1461307440,
            "txt_content": "好的item的代码都有继承builtin/***，这个builtin在哪里？"
        },
        {
            "author": "chyx",
            "timestamp": 1461311820,
            "txt_content": "包租公 发表于 2016-4-22 14:44\n好的item的代码都有继承builtin/***，这个builtin在哪里？\n恩 不一定是继承builtin/的 亦可以继承别的（如某个方块）或不继承\n\nbuiltin/generated表示是由一个图片生成的模型 需要在textures里定义图片变量名为layer0、layer1。。来配合使用\nbuiltin/entity表示这个物品是当成实体来显示的\nbuiltin/compass或builtin/clock用于指南针或表\n"
        },
        {
            "author": "chyx",
            "timestamp": 1461312240,
            "txt_content": "chyx 发表于 2016-4-22 16:00\n这是药水的\n似乎上面的那个数打错了。。。不过明白意思就好"
        },
        {
            "author": "包租公",
            "timestamp": 1461313980,
            "txt_content": "chyx 发表于 2016-4-22 16:04\n似乎上面的那个数打错了。。。不过明白意思就好\n那两个layer不是指图层吗？后面的是贴图位置目录吧\n在wiki看到tintindex了，开始不知道代码格式\n{\n    \"parent\": \"item/generated\",\n    \"textures\": {\n        \"layer0\": \"items/potion_overlay\",\n        \"layer1\": \"items/potion_bottle_drinkable\"\n    },\n    \"tintindex\":????\n}\n\n用的是不是RGB的HEX码？\n\n还有就是好纠结附魔光环的动画效果，这个还原出来的话，药水光环应该也是一样吧？"
        },
        {
            "author": "chyx",
            "timestamp": 1461319680,
            "txt_content": "包租公 发表于 2016-4-22 16:33\n那两个layer不是指图层吗？后面的是贴图位置目录吧\n在wiki看到tintindex了，开始不知道代码格式\n{\n既然是继承item/generated，item/generated又继承builtin/generated\n这样就不用设置tintindex了\n像我这样想自定义刷怪蛋3d模型的\n\n就要设置tintindex\n你怎么理解能力这么弱呢"
        },
        {
            "author": "chyx",
            "timestamp": 1461320220,
            "txt_content": "chyx 发表于 2016-4-22 18:08\n既然是继承item/generated，item/generated又继承builtin/generated\n这样就不用设置tintindex了\n像我这样 ...\n就是说药水里items/potion_overlay因为在layer0所以被染色了\nitems/potion_bottle_drinkable因为不在layer0所以没被染色"
        },
        {
            "author": "包租公",
            "timestamp": 1461336300,
            "txt_content": "chyx 发表于 2016-4-22 18:08\n既然是继承item/generated，item/generated又继承builtin/generated\n这样就不用设置tintindex了\n像我这样 ...\n那默认染什么色的代码有没有~想把这些都按默认的若干种颜色还原出来~"
        },
        {
            "author": "包租公",
            "timestamp": 1461374940,
            "txt_content": "chyx 发表于 2016-4-22 18:08\n既然是继承item/generated，item/generated又继承builtin/generated\n这样就不用设置tintindex了\n像我这样 ...\n做自定义的方块时，tintindex的代码格式又是怎样的？之前一直在做自定义的方块模型，但是都是在原版基础上改的，所以没用过tintindex，请大大指点指点"
        },
        {
            "author": "chyx",
            "timestamp": 1461396720,
            "txt_content": "包租公 发表于 2016-4-23 09:29\n做自定义的方块时，tintindex的代码格式又是怎样的？之前一直在做自定义的方块模型，但是都是在原版基础 ...\n\n\n\nspawn_egg.txt\n(5.79 KB, 下载次数: 3)\n\n\n\n2016-4-23 15:30 上传\n点击文件名下载附件\n\n\n\n\n\n\n那 这个是上面那幅图的蛋的模型 你自己看看吧 拓展名应该是json 但不让上传 被我改成txt了 你要改回去"
        },
        {
            "author": "包租公",
            "timestamp": 1461402000,
            "txt_content": "⊙v⊙ 发表于 2016-4-21 17:14\n皮装备染色方面是皮革原色叠加颜色，使用RGB值计算，不过这个真的好麻烦。\n嫌麻烦还是找个生成网好。或许要 ...\n这位大大是不是这两天不在？另一位大大也没有解决附魔动画效果的还原.....你有什么方法吗？\n要是也没有。我打算静态图的效果，就PS的正片叠底试试，动态的效果，就录个视频试试。虽然这些方法直接，但是这些都比麻烦，也没有原理支撑。如果有详尽点的原理和相应的素材，那些蛋蛋啊、烟火之星啊、附魔效果啊，或许能够直接用PS做出来。"
        },
        {
            "author": "包租公",
            "timestamp": 1461402120,
            "txt_content": "chyx 发表于 2016-4-23 15:32\n那 这个是上面那幅图的蛋的模型 你自己看看吧 拓展名应该是json 但不让上传 被我改成txt了 你要改回去\n ...\n原来是这样的格式，可惜不是RGBHEX，谢谢这位大大帮助。在没有游戏源码的情况下，可能只能用直接而麻烦的方法了，一个个截图取色，附魔的动态效果就录像........额........还得研究录像会不会失真的问题....."
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1461403380,
            "txt_content": "你不是没追问么，而且chyx在解答啊，我就不抢了\n就剩下附魔么?\n还原？不是太懂\n版本.jar\\assets\\minecraft\\textures\\misc下的enchanted_item_glint就是附魔后显示的线条原网两研究结果图\n先是以这个方向移动显示\n再是这个方向，如此循环\n\n\n下面这个是某歪果仁修改过的效果\n\n\n\n\n\n其实应该问下...你要附魔？还原什么？得先理解你问的什么才好回答\n\n"
        },
        {
            "author": "包租公",
            "timestamp": 1461404760,
            "txt_content": "⊙v⊙ 发表于 2016-4-23 17:23\n你不是没追问么，而且chyx在解答啊，我就不抢了\n就剩下附魔么?\n还原？不是太懂\n如果我说有本同人图集，还原度很高，你应该明白还原的意思了吧。就是自己在游戏外，用其他途径做一个，效果要向原作靠拢，甚至一样。不过用PS做的时候，不知道这些效果的生成原理的情况下，只能慢慢一个个截图和录像。如果知道了这些原理，就不用慢慢截图了，可以根据规律，在游戏外自己生成一样的效果，甚至给自己的头像来个附魔光环，就不会局限在游戏里面了，周边创作就能准确地还原出MC的效果了。\n\n大大是不是平时花不少时间逛老外论坛的？还是看见问题后，再到老外论坛搜对应的英文关键词？\n似乎我应该多看英文版的wiki，有很多MC单词都不会。"
        },
        {
            "author": "包租公",
            "timestamp": 1461404940,
            "txt_content": "版主大大~回帖的两位大大都棒棒哒~虽然答得不一样，但是方向基本上是互补的，能不能给他们两个都评最佳答案？"
        }
    ]
}