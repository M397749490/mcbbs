{
    "title": "【已解決】求配置文件的正確編程方法",
    "author": "SilverMing",
    "replyCount": 5,
    "timestamp": 1408443420,
    "txt_content": " 本帖最后由 lin212 于 2014-8-21 19:19 编辑 \n\n我想为我其中一個模組添加配置文件\n代碼(只有配置文件相關部分):\n\n  public static boolean someConfigFlag;\n  public static boolean soul1ConfigFlag;\n  public static boolean soul2ConfigFlag;\n  public static boolean soul3ConfigFlag;\n\n  EntityMineSoull soulmob1;\n  EntityMineSoulm soulmob2;\n  EntityMineSoulb soulmob3;\nprivate World par1World;\n  public Example()\n  {\n this.soulmob1 = new EntityMineSoull(par1World);\n this.soulmob2 = new EntityMineSoulm(par1World);\n this.soulmob3 = new EntityMineSoulb(par1World);\n  }\n  @Mod.EventHandler\n  public void load(FMLInitializationEvent event)\n  {\n    if(soul1ConfigFlag == true){\n    this.soulmob1.load();\n    }\n    if(soul2ConfigFlag == true){\n    this.soulmob2.load();\n    }\n    if(soul3ConfigFlag == true){\n    this.soulmob3.load();\n    }\n\n  }\n@Mod.EventHandler\n  public void serverLoad(FMLServerStartingEvent event) {\n    if(soul1ConfigFlag == true){\n    this.soulmob1.serverLoad(event);\n    }\n    if(soul2ConfigFlag == true){\n    this.soulmob2.serverLoad(event);\n    }\n    if(soul3ConfigFlag == true){\n    this.soulmob3.serverLoad(event);\n    }\n\n  }\n  @Mod.EventHandler\n  public void preInit(FMLPreInitializationEvent event) { \n    if(soul1ConfigFlag == true){\n    this.soulmob1.instance = instance;\n    }\n    if(soul2ConfigFlag == true){\n    this.soulmob2.instance = instance;\n    }\n    if(soul3ConfigFlag == true){\n    this.soulmob3.instance = instance;\n    }\n    if(soul1ConfigFlag == true){\n    this.soulmob1.preInit(event);\n    }\n    if(soul2ConfigFlag == true){\n    this.soulmob2.preInit(event);\n    }\n    if(soul3ConfigFlag == true){\n    this.soulmob3.preInit(event);\n    }\n\n    Configuration config = new Configuration(event.getSuggestedConfigurationFile());\n    config.load();\n    config.get(\"Blocks\",\"soulOre\", 1940).getInt();\n    config.get(\"Items\",\"soul\", 1499).getInt();\n    // Since this flag is a boolean, we can read it into the variable directly from the config.\n    someConfigFlag = config.get(Configuration.CATEGORY_GENERAL, \"SomeConfigFlag\", false).getBoolean(false);\n    soul1ConfigFlag = config.get(Configuration.CATEGORY_GENERAL, \"Load_Minesoul\", false).getBoolean(false);\n    soul2ConfigFlag = config.get(Configuration.CATEGORY_GENERAL, \"Load_MineGhost\", false).getBoolean(false);\n    soul3ConfigFlag = config.get(Configuration.CATEGORY_GENERAL, \"Load_Elder_soul\", false).getBoolean(false);\n    //Notice there is nothing that gets the value of this property so the expression results in a Property object.\n    Property someProperty = config.get(Configuration.CATEGORY_GENERAL, \"SomeConfigString\", \"nothing\");\n    \n    // Here we add a comment to our new property.\n    someProperty.comment = \"This value can be read as a string!\";\n    \n    someProperty.getString();\n    config.save();\n    proxy.registerRenderers(this); \n    GameRegistry.registerItem(soulitem, \"soul\");\n    GameRegistry.registerBlock(oresoul, \"soulOre\");\n配置文件:\n\n# Configuration file\n####################\n# blocks\n####################\nblocks {\n    I:soulOre=1940\n}\n\n####################\n# general\n####################\n\ngeneral {\n    B:Load_Elder_soul=false\n    B:Load_MineGhost=false\n    B:Load_Minesoul=false\n    B:SomeConfigFlag=false\n    # This value can be read as a string!\n    S:SomeConfigString=nothing\n}\n\n####################\n# items\n####################\nitems {\n    I:soul=1499\n}\n\n可是我調至false那些想不讀取的class還是讀取了\n求正確寫法",
    "replies": [
        {
            "author": "likeliang",
            "timestamp": 1408444080,
            "txt_content": "看起来好复杂OAO"
        },
        {
            "author": "1184889537",
            "timestamp": 1408444920,
            "txt_content": "只会黑网址怎么破= ="
        },
        {
            "author": "SilverMing",
            "timestamp": 1408524960,
            "txt_content": "求大触回复!!!!!!"
        },
        {
            "author": "Darkyoooooo",
            "timestamp": 1408612680,
            "txt_content": "https://github.com/Trigonometry- ... core/NERConfig.java"
        },
        {
            "author": "SilverMing",
            "timestamp": 1408619820,
            "txt_content": "Darkyoooooo 发表于 2014-8-21 17:18\nhttps://github.com/Trigonometry-F/NotEnoughRecipes/blob/master/src/main/java/com/darkyoooooo/notenou ...\n感謝大触提供參考代碼!!!"
        }
    ]
}