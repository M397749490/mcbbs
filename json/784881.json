{
    "title": "关于Bukkit 如何关闭来自mod打开的GUI界面",
    "author": "魔方-magic",
    "replyCount": 8,
    "timestamp": 1519715700,
    "txt_content": "各位大佬，求助！\n\n插件用途：用于防止玩家右键打开某MOD的GUI取走里面的物品\n\n我的想法：利用监听器：PlayerInteractEvent判断玩家右键的实体，然后取消事件发生\n\n我的代码：\n\n        public void PlayerInteractEvent(PlayerInteractEvent e)\n        {\n                Block b = e.getClickedBlock();\n\n                if(e.getPlayer().hasPermission(\"fix.fix\")){\n                        \n                        }else{\n                                //ARMOURERSWORKSHOP_BLOCKMANNEQUIN 这个是物品的type\n                                if(b.getType().toString() == \"ARMOURERSWORKSHOP_BLOCKMANNEQUIN\")\n                                {\n                                        e.isCancelled(true);\n                                        e.getPlayer().sendMessage(\"抱歉，游戏你可以玩，但是如果你碰这个!\");\n                                }\n                        }\n        }\n\n\n但是实测，右键该MOD或者左键该MOD，后台均匀报错：空指针错误，请问应该如何取消该mod右键的gui\n",
    "replies": [
        {
            "author": "ddyy163",
            "timestamp": 1519718040,
            "txt_content": "你监听InventoryOpenEvent试试呗 曲线救国"
        },
        {
            "author": "a103060",
            "timestamp": 1519718100,
            "txt_content": "Material block = event.getClickedBlock().getType();\n\nif (block == Material.XX) {\n      event.setCancelled(true);\n}\n\n或者\nname block = event.getClickedBlock().getType().name;\nif (block.equals(\"XX\")) {\n      event.setCancelled(true);\n}\n\n这是插件的  能不能控制MOD我不知道"
        },
        {
            "author": "魔方-magic",
            "timestamp": 1519721040,
            "txt_content": "ddyy163 发表于 2018-2-27 15:54\n你监听InventoryOpenEvent试试呗 曲线救国\n我试试哈！"
        },
        {
            "author": "魔方-magic",
            "timestamp": 1519721040,
            "txt_content": "a103060 发表于 2018-2-27 15:55\nMaterial block = event.getClickedBlock().getType();\n\nif (block == Material.XX) {\n事实证明，这样完全可以关闭原版的物品，但mod的就是空指针错误"
        },
        {
            "author": "魔方-magic",
            "timestamp": 1519721160,
            "txt_content": "ddyy163 发表于 2018-2-27 15:54\n你监听InventoryOpenEvent试试呗 曲线救国\n这样好像并不行，那个打开物品栏，没办法判断是什么的物品栏吧，我不会233"
        },
        {
            "author": "ddyy163",
            "timestamp": 1519723440,
            "txt_content": "魔方-magic 发表于 2018-2-27 16:46\n这样好像并不行，那个打开物品栏，没办法判断是什么的物品栏吧，我不会233 ...\n判断箱子的名字啊\ninventory.getName()"
        },
        {
            "author": "耗子",
            "timestamp": 1519724100,
            "txt_content": " 本帖最后由 耗子 于 2018-2-27 17:36 编辑 \n\nMod物品没有Type，不要getType了，直接getId。另外，要把错误报告发上来"
        },
        {
            "author": "魔方-magic",
            "timestamp": 1519725540,
            "txt_content": "耗子 发表于 2018-2-27 17:35\nMod物品没有Type，不要getType了，直接getId。另外，要把错误报告发上来\n感谢！我这就改改试试看"
        }
    ]
}