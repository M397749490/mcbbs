{
    "title": "（编程）关于papi",
    "author": "3104026189",
    "replyCount": 2,
    "timestamp": 1593392280,
    "txt_content": "如何让自己写的插件支持papi，比如聊天插件，我需要他在配置文件里面填写格式，他用到了papi变量，我插件应该如何支持",
    "replies": [
        {
            "author": "冰星",
            "timestamp": 1593392280,
            "txt_content": " 本帖最后由 冰星 于 2020-6-29 09:21 编辑 \n\n从wiki入手https://github.com/PlaceholderAPI/PlaceholderAPI/wiki如果你只是想单纯的用其他插件注册的变量,那么只需要将papi作为依赖即可，并在需要替换变量的地方写上PlaceholderAPI.setPlaceholders(替换内容, \"待替换文本\");如果你想自己为自己插件的注册变量，那么你需要新建一个类，并且这个类要继承于PlaceholderExpansion，并重写以下方法/**\n     * This method should always return true unless we\n     * have a dependency we need to make sure is on the server\n     * for our placeholders to work!\n     *\n     * @return always true since we do not have any dependencies.\n     */\n    @Override\n    public boolean canRegister(){\n        return true;\n    }\n\n    /**\n     * The name of the person who created this expansion should go here.\n     * \n     * @return The name of the author as a String.\n     */\n    @Override\n    public String getAuthor(){\n        return \"someauthor\";\n    }\n\n    /**\n     * The placeholder identifier should go here.\n     * <br>This is what tells PlaceholderAPI to call our onRequest \n     * method to obtain a value if a placeholder starts with our \n     * identifier.\n     * <br>This must be unique and can not contain % or _\n     *\n     * @return The identifier in {@code %<identifier>_<value>%} as String.\n     */\n    @Override\n    public String getIdentifier(){\n        return \"example\";\n    }\n\n    /**\n     * This is the version of this expansion.\n     * <br>You don't have to use numbers, since it is set as a String.\n     *\n     * @return The version as a String.\n     */\n    @Override\n    public String getVersion(){\n        return \"1.0.0\";\n    }\n  \n    /**\n     * This is the method called when a placeholder with our identifier \n     * is found and needs a value.\n     * <br>We specify the value identifier in this method.\n     * <br>Since version 2.9.1 can you use OfflinePlayers in your requests.\n     *\n     * @param  player\n     *         A {@link org.bukkit.OfflinePlayer OfflinePlayer}.\n     * @param  identifier\n     *         A String containing the identifier/value.\n     *\n     * @return Possibly-null String of the requested identifier.\n     */\n    @Override\n    public String onRequest(OfflinePlayer player, String identifier){\n  \n        // %example_placeholder1%\n        if(identifier.equals(\"placeholder1\")){\n            return \"placeholder1 works\";\n        }\n\n        // %example_placeholder2%\n        if(identifier.equals(\"placeholder2\")){\n            return \"placeholder2 works\";\n        }\n\n        // We return null if an invalid placeholder (f.e. %example_placeholder3%) \n        // was provided\n        return null;\n    }复制代码最重要的一步是，不要忘记在你的主类启动时注册这个类，\n\n\n\n\n2$]BEPSF%`48]%8`1C155`P.png (9.88 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-29 09:20 上传\n\n\n\n\n,既在主类的onenbale()下写上或者其他能运行到的地方写上new 新建类().register()\n\n"
        },
        {
            "author": "3104026189",
            "timestamp": 1593402660,
            "txt_content": "冰星 发表于 2020-6-29 09:15\n从wiki入手https://github.com/PlaceholderAPI/PlaceholderAPI/wiki如果你只是想单纯的用其他插件注册 ...\n 大佬可以加个Q吗，我不是很懂 （麻烦啦"
        }
    ]
}