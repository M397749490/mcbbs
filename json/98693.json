{
    "title": "[1.5] 物品自动分拣，可计数（支持分拣不可堆叠物品），带存档",
    "author": "sz_zhao",
    "replyCount": 16,
    "timestamp": 1363361400,
    "txt_content": " 本帖最后由 sz_zhao 于 2013-3-18 14:09 编辑 \n\n      核心思想见9楼。http://www.mcbbs.net/forum.php?m ... 693&pid=1673598        看到《自动过滤器的逻辑》http://www.mcbbs.net/thread-98480-1-1.html里把问题想复杂了，就给回了个自己用的物品过滤器。\n      详见http://www.mcbbs.net/forum.php?m ... d=98480&pid=1644201，\n             http://www.mcbbs.net/forum.php?m ... d=98480&pid=1644525。\n     第一个回复的是主要是用在2种物品分拣上，比如自动农场里将收获物品分离用。\n     第二个回复用在多种物品分拣上的。上方箱子换成漏斗管道就行了。\n     刚刚又优化了下，减少了个漏斗和比较器做了个6种类物品的分拣，要想分拣更多种类物品将模块继续加上去就行了。管道上方的箱子是输入端，可将要分拣的物品用漏斗注入进来。下面的大箱子是垃圾回收箱，可接漏斗注入投掷器内投到岩浆里做垃圾销毁。最下方的小箱子是分拣出来的物品输出端。不过现在只能分拣可堆叠的物品，不可堆叠的物品没办法占格。\n     水平的漏斗管道在传递物品时只使用到注入，所以物品在漏斗管道里流动时每个漏斗里只有一个物品。\n\n\n\n\n2013-03-15_23.11.48.png (178.65 KB, 下载次数: 4)\n\n下载附件\n\n2013-3-18 12:56 上传\n\n\n\n\n\n\n\n\n\n2013-03-15_23.12.02.png (159.12 KB, 下载次数: 7)\n\n下载附件\n\n2013-3-15 23:28 上传\n\n\n\n\n\n\n\n\n\n2013-03-15_23.12.22.png (146.77 KB, 下载次数: 7)\n\n下载附件\n\n2013-3-15 23:28 上传\n\n\n\n\n\n\n上面的漏斗是过滤物品用，需预装填，第一个格子是需分拣的物品，数量大于2就行（阀值是18），后面的4个格子用这个物品本身或其他物品都行。我这里用了铲子（省资源）。\n\n再给个垃圾处理器，使用的是投掷器，\n只要有物品进入漏斗，投掷器就会将物品发射出去。我这里将物品发射到岩浆里当然就是销毁物品了。这个装置也可以当成物品计数脉冲发生器。把岩浆换成别的容器，在中继器后连个计数器就能对物品进行计数了。\n\n\n\n\n2013-03-18_13.40.52.png (206.87 KB, 下载次数: 5)\n\n下载附件\n\n2013-3-18 13:38 上传\n\n\n\n\n\n\n终于可以将不可堆叠的物品分拣出来了，做了个能分拣不可堆叠物品的模块。\n\n\n\n\n2013-03-16_17.10.30.png (217.31 KB, 下载次数: 5)\n\n下载附件\n\n2013-3-16 18:35 上传\n\n\n\n\n\n这个模块是直接在漏斗管道上操作，将物品拦截在管道内判断物品是否是可堆叠物品，是可堆叠物品则将放行向后面漏斗管道传送，不是可堆叠物品则被下方漏斗抽取。\n现在只能将不可堆叠物品都挑出来，不能做到辨识具体是哪一个物品。\n\n\n\n\n2013-03-16_17.23.49.png (89.55 KB, 下载次数: 1)\n\n下载附件\n\n2013-3-16 18:28 上传\n\n\n\n\n\n这是在拦截漏斗内的物品清单。第一个格留空，第二、三、四格填个不可堆叠物品，或者是第五格的物品填满，第五格填36个垃圾物品，我这里用的是泥土。为了防止干扰可以在分拣不可堆叠物品模块之前用通用分拣模块抛掉泥土。\n\n另将之前的通用分拣模块优化了下。现在占地更小：2X4X4，能连续排列，不用空行了。并且这个模块可以在输出漏斗下接个投掷器，只需加一个红石就能抛物品了。存档里面有接了个投掷器。\n\n\n\n\n2013-03-16_17.01.44.png (185.08 KB, 下载次数: 4)\n\n下载附件\n\n2013-3-16 18:27 上传\n\n\n\n\n\n\n右下方的红石线路可以作为计数信号输出，接个计数器，就能将物品计数了。\n\n\n\n\n2013-03-16_17.02.30.png (141.33 KB, 下载次数: 3)\n\n下载附件\n\n2013-3-16 18:27 上传\n\n\n\n\n\n\n发现个漏斗的新用途：时钟发生器！\n\n\n\n\n2013-03-16_17.09.22.png (218.3 KB, 下载次数: 2)\n\n下载附件\n\n2013-3-16 19:14 上传\n\n\n\n\n\n\n\n新存档：\n\n\n\n自动分拣(新).zip\n(276.82 KB, 下载次数: 283)\n\n\n\n2013-3-16 18:36 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n自动分拣.zip\n\n\n2013-3-15 23:29 上传\n点击文件名下载附件\n\n\n\n\n230.01 KB, 下载次数: 49\n\n\n存档\n\n\n\n",
    "replies": [
        {
            "author": "PTmissionary",
            "timestamp": 1363361640,
            "txt_content": "为什么不看看这个呢。\nhttp://www.mcbbs.net/thread-83970-1-1.html"
        },
        {
            "author": "Aikawastep",
            "timestamp": 1363361880,
            "txt_content": "感谢编写~顶一个`"
        },
        {
            "author": "sz_zhao",
            "timestamp": 1363362060,
            "txt_content": "关键我这个简单。\n模块占地3X4X3\n红石尘   X5\n漏斗      X2\n比较器   X1\n红石火把X2"
        },
        {
            "author": "1025891364",
            "timestamp": 1363363320,
            "txt_content": "额~~~很复杂耶~"
        },
        {
            "author": "alecone",
            "timestamp": 1363367280,
            "txt_content": " 本帖最后由 alecone 于 2013-3-16 01:38 编辑 \n\n他这个做的不错.我那个逻辑是控制过滤器本身.\n而他这个的逻辑不是控制过滤器,而是控制流动本身...\n所以.唉...甘拜下风.\n\n他这个实际上利用的是故意做横向堵嘴漏斗,利用堵嘴漏斗的特性.利用横向堵嘴漏斗做过滤器.这样这个漏斗就解决了.同时又漏又吸,或者加红石信号不漏不吸的大问题.(横向堵嘴漏斗,只吸不漏.要漏下去需要下方加另外一个漏斗,并用红石控制流动)\n让后控制堵嘴漏斗过滤器下方的漏斗的红石信号.另他在堵嘴过滤器漏斗合适的时候(物品数量令比较器输出超过临界值时)吸去堵嘴漏斗过滤器中多出来(造成比较器超过临界值的)的物品.\n这样就ok了.整个系统一下体积大幅缩小.没必要头疼地控制过滤器了.\n\n惭愧阿惭愧.这技法,wiki都还没有写.实战都用上.自愧弗如阿."
        },
        {
            "author": "本丸",
            "timestamp": 1363407960,
            "txt_content": "這樣就跟工業一樣了.....自動燒  自動收納"
        },
        {
            "author": "jianghr",
            "timestamp": 1363546440,
            "txt_content": "其实2楼的提议很好，那种双漏斗结构其实我们一些人在预览版就吃透了。区分的基本原理你应该知道。你这基本结构也有双漏斗雏形的样子了。不过注意漏斗的一个特性，通电停止一切输入输出动作，强行灌入除外。\n下面是我们在1.5的预览版本定型的双漏斗的分选装置，分选多种物品只要水流一次流过每个分选装置上面即可。你的漏斗管道其实没必要的\n相关两个重要的帖子，建议看完：\nhttp://www.mcbbs.net/thread-83970-1-1.html\nhttp://www.mcbbs.net/thread-85285-1-1.html\n我在后者中写过的一段的解说：\n解说下原理：第一个漏斗具有不满的第一格（待识别物品）和全满的后四格（其它无关物品填充），这样具有识别功能，通过卡阈值击穿而具有输入感应功能。\n然后第一个漏斗的输入感应信号控制第二个漏斗，第二个漏斗里第一格放满待识别物品，后面塞满无关填充物。这样第二个漏斗实际上只是受控的管道而已。\n——————\n仔细看了下和三晋的双漏斗第二次改型也差不多啊？\n"
        },
        {
            "author": "sz_zhao",
            "timestamp": 1363579740,
            "txt_content": " 本帖最后由 sz_zhao 于 2013-3-18 13:11 编辑 \njianghr 发表于 2013-3-18 02:54 \n其实2楼的提议很好，那种双漏斗结构其实我们一些人在预览版就吃透了。区分的基本原理你应该知道。你这基本结 ...\n 我是从1.5正式版开始研究的，所以肯定没你们开始的早。\n       我这个的核心是：横向堵嘴漏斗,只吸不漏。。\n      上面的用来做过滤的漏斗的输出是对着砖块摆放的。所以这个过滤漏斗只能吸物品，不能自己清空自己。控制下面的漏斗来排空过滤漏斗到指定的阀值。\n      这种工作状态只需将过滤漏斗第一格放待识别的可堆叠物品（16堆叠的物品填4个，64堆叠的物品填18个，实际上填1个就行，装置会在工作中自己填到这个数），后面塞满无关不可堆叠的填充物（如工具类的东西）。下面的控制漏斗不用放入任何物品，其在工作中只会在其内保留一个物品。不会造成材料的浪费。如果再下面再加一个漏斗或者是漏斗矿车，这个控制漏斗就能完全排空。\n      如果过滤漏斗是直接对着控制漏斗的话，在装置开始使用过程中就必须将下面的漏斗填满才会有物品输出，这样就会对材料产生大量的浪费（你将有最少16+1*4=20个、最大64X5=320个物品留在漏斗内）。而且只能在其下接箱子，不能接漏斗或是漏斗矿车，不然会使整个过滤装置失效。\n      现在的我这种结构在建筑过程中只需要在第一个格放入1个待过滤的物品（甚至一个都不需要，装置会在启动过程中自己将收到的第一个物品作为过滤输出），第2、3、4、5格放满无关物品（用[wood_shovel]的话只需消耗2个[farmland]而已）。\n      之所以在上方用漏斗管道只是为了方便装置能产生计数输出，并且又做了个不可堆叠物品的挑出模块。现在可以将世界里的所有物品分类输出了（当然不可堆叠物品是作为同一类物品输出的，没办法做到区分[stone_pickaxe]和[diamond_pickaxe]）。\n      用水流当然可以，只是当水流中有数量大于12（16一堆的物品）或46（64一堆的物品）个的物品成堆流过时容易造成漏检。\n      在实际应用中可以先用水流运输到指定位置，在水流终点下加漏斗收集到一个大箱子里做缓存，再从箱子下加漏斗管道组成分拣流水线。如果能保证不会同时有大量需分拣的物品或没有不可堆叠物品需要分拣的话就可以直接将通用物品分拣模块放在水沟下，不用使用漏斗管道。\n\n\n"
        },
        {
            "author": "jianghr",
            "timestamp": 1363606620,
            "txt_content": " 本帖最后由 jianghr 于 2013-3-18 19:37 编辑 \nsz_zhao 发表于 2013-3-18 12:09 \n我是从1.5正式版开始研究的，所以肯定没你们开始的早。\n       我这个的核心是：横向堵嘴漏斗,只吸不漏 ...\n我们那个设计第一个漏斗内容物和你这个其实是一样的；第二个漏斗不用填5*64个，后四个其实也可以用不可堆叠物做填充。\n其实这两种结构都是将下面的漏斗作为可控管道而设计的。不同的是一个工作在0+填充+填充+填充+填充，另一个是64+填充+填充+填充+填充状态。就是因为这样的设计思路我给你加了贡献。\n而且你这个设计第二个漏斗下面也不能直接接漏斗和漏斗矿车（那会把后面的铲子等填充物吸出来），其实是一个道理，其实箱车和箱子都可以。"
        },
        {
            "author": "sz_zhao",
            "timestamp": 1363611180,
            "txt_content": " 本帖最后由 sz_zhao 于 2013-3-18 21:03 编辑 \njianghr 发表于 2013-3-18 19:37 \n我们那个设计第一个漏斗内容物和你这个其实是一样的；第二个漏斗不用填5*64个，后四个其实也可以用不可堆 ...\n哦，其实您说的是最早的设计，您肯定没看存档。现在的这个设计第二个漏斗没填任何物品，它只是用来受控吸上面物品用。也就是说第二个漏斗可以也换成漏斗矿车，下面铺激活铁轨就行了。我想要强调的是上面的漏斗是堵塞的。这是最本质的区别。\n\n\n\n\n\n重点.png (37.26 KB, 下载次数: 8)\n\n下载附件\n\n2013-3-18 20:55 上传\n\n\n\n\n\n\n\n"
        },
        {
            "author": "jianghr",
            "timestamp": 1363611360,
            "txt_content": " 本帖最后由 jianghr 于 2013-3-18 20:57 编辑 \nsz_zhao 发表于 2013-3-18 20:53 \n哦，其实您说的是最早的设计，您肯定没看存档。现在的这个设计第二个漏斗没填任何物品，它只是用来受控吸 ...\n我没看存档光脑补就知道它是怎么工作的，不过10L确实是脑补失误，应该是0+0+0+0+0的，但第二个漏斗确实是作为可控管道工作的，你的是工作在空的状态下，之前的是工作在满的状态下。"
        },
        {
            "author": "sz_zhao",
            "timestamp": 1363611900,
            "txt_content": "jianghr 发表于 2013-3-18 20:56 \n我没看存档光脑补就知道它是怎么工作的，不过10L确实是脑补失误，应该是0+0+0+0+0的，但第二个漏斗确实是 ...\n对，就是这样。就是觉得之前的设计材料浪费巨大，才改的"
        },
        {
            "author": "lspgzs",
            "timestamp": 1363615620,
            "txt_content": "sz_zhao 发表于 2013-3-18 20:53 \n哦，其实您说的是最早的设计，您肯定没看存档。现在的这个设计第二个漏斗没填任何物品，它只是用来受控吸 ...\n你好，我留意到你说“现在的这个设计第二个漏斗没填任何物品，它只是用来受控吸上面物品用。”其实第二个漏斗如果一开始完全空置，会有较低概率（但依然有可能）将筛选漏斗中的无关物品吸出，造成不必要的麻烦。此外我想询问一下，在您的存档中，控制漏斗在第一格也放了一个所需筛选的物品。虽然还有四个格子空置，但我经过反复试验发现只要有这一个物品，无关物品就不会被错误地吸出。我从WIKI上找不到相关原理，也许和漏斗选择吸出物品的机制有关？所以想请教一下。"
        },
        {
            "author": "sz_zhao",
            "timestamp": 1363619100,
            "txt_content": " 本帖最后由 sz_zhao 于 2013-3-18 23:11 编辑 \nblspgzs 发表于 2013-3-18 22:07 \n你好，我留意到你说“现在的这个设计第二个漏斗没填任何物品，它只是用来受控吸上面物品用。”其实第二个 ...\n漏斗只会按顺序吸取上方的物品，也就是将第一格清空之后才去吸下一个的物品，这就是物品过滤的原理。所以只要第一格没清空应该不会将筛选漏斗中的无关物品吸出。刚刚我式了几遍，没发现这个问题。你可以在一个箱子上放一个漏斗，再在漏斗上放一个箱子，在上面的箱子不同格子放不同的放不同的物品仔细观察下它是如何工作的。\n我存档中控制漏斗在第一格不是我自己放的，是在工作中会自行保留一个，因为当控制漏斗吸掉上面一物品时上面的漏斗就到阀值了，会将这个漏斗关闭，但这时它还没来的及将这个物品向下传出去，所以就会保留一个在里边。你可以将下面的箱子换成个漏斗，强制将这个物品吸出的。\n\n\n"
        },
        {
            "author": "lspgzs",
            "timestamp": 1363620060,
            "txt_content": "sz_zhao 发表于 2013-3-18 23:05 \n漏斗只会按顺序吸取上方的物品，也就是将第一格清空之后才去吸下一个的物品，这就是物品过滤的原理。所以 ...\n……理解了，谢谢。……"
        },
        {
            "author": "Yihc",
            "timestamp": 1363911120,
            "txt_content": "怎么做到了= =话说1.5我还不会用啊             "
        }
    ]
}