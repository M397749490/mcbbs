{
    "title": "联机时卡顿",
    "author": "1197215650",
    "replyCount": 28,
    "timestamp": 1586133720,
    "txt_content": "在使用这个软件（SakuraLauncher）来联机，刚开始玩不卡，玩了3 4天了，最近怪物都是卡的，吃东西的动画好了，但是东西都没有吃进去，开东西不是很卡，就只有怪物卡和吃东西卡。怪物卡着不动，但是打他的伤害没有延迟。",
    "replies": [
        {
            "author": "Czy2019",
            "timestamp": 1586133840,
            "txt_content": "请问服务器版本？\n如果是1.12.2以下或1.12.2\n可以提高内存\n如果是高版本 请提高内存以及增加单核效率"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1586134020,
            "txt_content": "如果开的服务器的话\n服务器内输入/tps看看\n看着像游戏内tps低"
        },
        {
            "author": "㊣qilunuo",
            "timestamp": 1586136540,
            "txt_content": "输入/tps 或者/gc查看tps情况如果tps低于19请使用timings并且发报告\ntimings使用输入/tmings on 大概15分钟后输入/timings paste 把他给你生成的链接发上来"
        },
        {
            "author": "肆火",
            "timestamp": 1586136660,
            "txt_content": "是联机而不是服务器对吧。如果你有forge，给自己一下OP请输入/forge tps指令\n我断定应该是网络波动，可以换游侠试试看。"
        },
        {
            "author": "1197215650",
            "timestamp": 1586139660,
            "txt_content": "肆火 发表于 2020-4-6 09:31\n是联机而不是服务器对吧。如果你有forge，给自己一下OP请输入/forge tps指令\n我断定应该是网络波动，可以换 ...\n游侠不行，模组有200多个，游侠连不起来"
        },
        {
            "author": "1197215650",
            "timestamp": 1586139720,
            "txt_content": "EmptyLava 发表于 2020-4-6 08:47\n如果开的服务器的话\n服务器内输入/tps看看\n看着像游戏内tps低\n就是联机三个人，一个人为主机，不算服务器那种"
        },
        {
            "author": "1197215650",
            "timestamp": 1586139780,
            "txt_content": "㊣qilunuo 发表于 2020-4-6 09:29\n输入/tps 或者/gc查看tps情况如果tps低于19请使用timings并且发报告\ntimings使用输入/tmings on 大概15分钟 ...\n联机版本1.12.2，模组200多个，开的就是普通联机，不算服务器，这种方法也可以吗"
        },
        {
            "author": "㊣qilunuo",
            "timestamp": 1586139840,
            "txt_content": "1197215650 发表于 2020-4-6 10:23\n联机版本1.12.2，模组200多个，开的就是普通联机，不算服务器，这种方法也可以吗 ...\n可以但是200多个模组，，，，，打扰了"
        },
        {
            "author": "1197215650",
            "timestamp": 1586139900,
            "txt_content": "㊣qilunuo 发表于 2020-4-6 10:24\n可以但是200多个模组，，，，，打扰了\n大佬都别走啊，我只会玩，不懂深奥的东西，输tps是用来干嘛的？"
        },
        {
            "author": "肆火",
            "timestamp": 1586139900,
            "txt_content": "1197215650 发表于 2020-4-6 10:22\n就是联机三个人，一个人为主机，不算服务器那种\n建议你开一个服务器吧，反正是朋友联机不需要插件。我推荐使用Sponge服务端，这个对模组的兼容性极好，而且自带paper的优化"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1586139900,
            "txt_content": "1197215650 发表于 2020-4-6 10:22\n就是联机三个人，一个人为主机，不算服务器那种\n还是服务器内tps太低了\n这通常是主机方电脑配置太差\n哦 200mod 打扰了\n\n让你们几个人中电脑配置最好的人开服"
        },
        {
            "author": "1197215650",
            "timestamp": 1586139960,
            "txt_content": "肆火 发表于 2020-4-6 10:25\n建议你开一个服务器吧，反正是朋友联机不需要插件。我推荐使用Sponge服务端，这个对模组的兼容性极好，而 ...\n要钱没钱，不用钱的不会，模组200多个，不会弄"
        },
        {
            "author": "㊣qilunuo",
            "timestamp": 1586140020,
            "txt_content": "1197215650 发表于 2020-4-6 10:25\n大佬都别走啊，我只会玩，不懂深奥的东西，输tps是用来干嘛的？\n不是 我告诉你的只能一定程度上解决 但是你这个200mod如果卡 只能说是机器配置问题了 如上操作作用应该不大"
        },
        {
            "author": "1197215650",
            "timestamp": 1586140020,
            "txt_content": "EmptyLava 发表于 2020-4-6 10:25\n还是服务器内tps太低了\n这通常是主机方电脑配置太差\n哦 200mod 打扰了\ntps是什么意思？刚刚开始玩不会卡，到了后期就开始卡了"
        },
        {
            "author": "1197215650",
            "timestamp": 1586140020,
            "txt_content": "㊣qilunuo 发表于 2020-4-6 10:27\n不是 我告诉你的只能一定程度上解决 但是你这个200mod如果卡 只能说是机器配置问题了 如上操作作用应该不 ...\n就是主机电脑不好，才形成的原因吗？"
        },
        {
            "author": "㊣qilunuo",
            "timestamp": 1586140080,
            "txt_content": "1197215650 发表于 2020-4-6 10:27\n就是主机电脑不好，才形成的原因吗？\n对的=-=就算是服务器200多个mod也会卡除非真的很牛逼的机子"
        },
        {
            "author": "1197215650",
            "timestamp": 1586140140,
            "txt_content": "㊣qilunuo 发表于 2020-4-6 10:28\n对的=-=就算是服务器200多个mod也会卡除非真的很牛逼的机子\n那为什么刚开始不会卡，到了后期才卡？"
        },
        {
            "author": "㊣qilunuo",
            "timestamp": 1586140200,
            "txt_content": "1197215650 发表于 2020-4-6 10:29\n那为什么刚开始不会卡，到了后期才卡？\n刚开始你啥东西都没有啊 后面你的生存造的东西都会一定程度上引起卡顿的"
        },
        {
            "author": "1197215650",
            "timestamp": 1586140320,
            "txt_content": "㊣qilunuo 发表于 2020-4-6 10:30\n刚开始你啥东西都没有啊 后面你的生存造的东西都会一定程度上引起卡顿的 ...\n那为什么开东西做东西没有什么卡，就只有生物会卡？"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1586140320,
            "txt_content": "1197215650 发表于 2020-4-6 10:29\n那为什么刚开始不会卡，到了后期才卡？\n\n刚开始的时候机器少，区块加载少，慢慢的机器多了，tiles(方块实体)和entity(实体)多了，就会变卡"
        },
        {
            "author": "㊣qilunuo",
            "timestamp": 1586140380,
            "txt_content": "1197215650 发表于 2020-4-6 10:32\n那为什么开东西做东西没有什么卡，就只有生物会卡？\n按理说不会 你还是试试我说的吧 有timings就清楚了"
        },
        {
            "author": "1197215650",
            "timestamp": 1586140440,
            "txt_content": " 本帖最后由 1197215650 于 2020-4-6 10:37 编辑 \n㊣qilunuo 发表于 2020-4-6 10:33\n按理说不会 你还是试试我说的吧 有timings就清楚了\n我等等试试你的方法，把你说的发上来给你看，可能要中午，现在没什么时间timings这个是什么东西？不能回复帖子了一小时10个\n\n\n\n\n\nimage.png\n(79.76 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-4-6 10:36 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "juzixiaoren",
            "timestamp": 1586142600,
            "txt_content": "建议购买服务器，你用软件免费开服是很卡的，你那个软件里肯定有vip一类的东西，实在不行你消费开vip"
        },
        {
            "author": "juzixiaoren",
            "timestamp": 1586142600,
            "txt_content": "应该是给你限速了，或者服务器的节点不行"
        },
        {
            "author": "㊣qilunuo",
            "timestamp": 1586143200,
            "txt_content": "1197215650 发表于 2020-4-6 10:34\n我等等试试你的方法，把你说的发上来给你看，可能要中午，现在没什么时间timings这个是什么东西？不能回复 ...\n这个是一个资源监控的报告"
        },
        {
            "author": "1197215650",
            "timestamp": 1586146080,
            "txt_content": "㊣qilunuo 发表于 2020-4-6 11:20\n这个是一个资源监控的报告\n我打指令/tps没有用"
        },
        {
            "author": "1697976437",
            "timestamp": 1586148960,
            "txt_content": "兄弟你需要优化下服务端啊https://www.mcbbs.net/thread-825013-1-1.html 昂这个 基本都通用的"
        },
        {
            "author": "炫宙菌",
            "timestamp": 1586153940,
            "txt_content": " 本帖最后由 炫宙菌 于 2020-4-6 14:24 编辑 \n\nhttps://www.mcbbs.net/thread-1002900-1-1.html\n第3章\n┃ 如何配置server.properties?此文件是最基本的服务端文件,设置了一些必备项目,对RPG有重要影响的项目如下,建议修改成的项目是橙色字\n1.generate-structures=false\n此选项的含义是是否生成结构体计算(结构就是女巫小屋、村庄有效门一类)\n如果你的服务端类型不带有探索元素或依赖于原版这些机制,务必关掉它\n有意愿保留结构体的mod服请慎重考虑\n另外,你还要删除每个世界里的一些已经有的结构体文件:\\world\\data\\ 里的Temple Village Mineshaft.dat Fortress Stronghold.dat一系列与结构有关的文件\n2.allow-nether=false\n此选项决定是否开启地狱,视情况而定,世界越少越节省资源,删除后还需要把世界名_the_nether文件删除\n3.op-permission-level=0\n此选项很少被提起,它的作用是限制OP的等级\n0级视为OP和玩家没有区别;\n1级视为OP绕过出生点保护“spawn-protection”(下一个提到)\n2级视为可以使用所有单人游戏作弊命令\n3级视为可以使用大多数多人游戏中独有的命令如/ban\n4.级视为拥有所有权限如/stop /save-all\n设置0级的目的是为了防止后门插件刷出OP造成不利影响,大多后门都是设置OP类型\n当然你依旧可以设置非0级OP,请打开ops.json\n\"level\": 4\n\n把上面的某个玩家设置为其他等级即可\n4.player-idle-timeout=0\n影响玩法的选项,但是很少被提及,它的作用是玩家如果不处于交互状态,有多久会被踢出服务器(单位分钟)\nESS有AFK相关选项和这个类似,但是略有不同\n这个选项改成0后玩家就不会被服务器当作挂机踢出,当然看你的设置如何了,0是减少资源消耗的(但可以忽略不计)\n5.spawn-protection=0\n出生点保护,可以阻挡大部分插件的有效功能,这就是为什么非OP有最高权限的玩家没法改动出生点附近的任何东西的原因\n比如我拥有*权限,却不可以破坏出生点周围的方块,原因就在这里,\n但是你仍然可以通过某些途径来影响,比如创世神、脚本方块的操作等不是由OP直接呼出的操作\n设置为0,它的意义不是很大\n6.pvp=true\nPVP设置,此选项可能不会起效,但是有些PVP插件管理的优先度比这个要低,有些比这个要高,保险起见,按照最原本的想法设置,另外再加PVP管理也未尝不可\n7.snooper-enabled=false\n是否定期发送统计数据到http://snoop.minecraft.net?我不建议任何访问外国网站的功能在RPG服务器开启,除了占用资源以外对你来说什么作用都没有\n8.enable-command-block=true\n是否允许使用命令方块\n我做RPG的习惯,常用命令方块执行一些指令,十分方便,比如/tp @p[r=2,lm=20] X Y Z ||这类指令用原版的一些控制,大部分插件的指令只要带上@p @a 等都可以正确采集变量\n9.level-name=world\n默认世界的名字,不要用除英文以外的任何字符\n部分字符，例如 ' （单引号）可能需要在前面加反斜杠号 \\ 才能被正常应用\n10.view-distance=3\n最关键设置,视距,加载的区块范围,对性能的改善立竿见影,\n此选项在spigot.yml也有一个一样的,同改。\n单世界RPG服务器建议设置4\n多世界RPG服务器建议设置3\n如果你混入了生存玩法,建议在3-5,虽然会占用资源,但是过低的视距会导致玩家游戏体验糟糕\n特殊情况:设置为2,先前我有一个必须内存设置1G以上才能正常运行的服务器从5改到2,结果用500-1000M内存带六个人也不会卡,仅限纯RPG可以有这种操作,这操作导致我服务器MM怪物只能刷在玩家附近等诡异现象(采用了随机刷怪)\n┃ 如何配置bukkit.yml?1.allow-end: false\n建议false即为关闭末地,一般来说RPG服用不到那个世界,当然看情况\n2.实体限制\nspawn-limits:\n  monsters: 35\n  animals: 10\n  water-animals: 2\n  ambient: 2\n此设置项代表着一个玩家可以附带最多多少生物,依次为怪物、动物、水动物、蝙蝠，\n建议在此基础上减去 (你的常驻玩家数/4+1),事实证明,这个数目可能还是过大了,没有必要生成太多生物,除非你的RPG玩法是割草(一大堆怪物开个无双全砍死)\n3.区块回收\nchunk-gc:\n  period-in-ticks: 400\n  load-threshold: 300\n参考三个教程贴\n4.游戏刻控制实体\nticks-per:\n  animal-spawns: 400\n  monster-spawns: 20\n  autosave: 12000\n分别指多少tick可以生成一个动物、怪物,自动保存间隔\n5.自动保存这里提一下,单机著名的死亡卡顿问题就是由此引发的,不过spigot和bukkit已经大幅度优化自动保存了\n你可以装自动保存插件比如Autosaveworld,这样这个autosave就可以改成0\n\n\n┃ 如何配置spigot.yml?1.late-bind: truefalse的话,玩家可以在插件加载完之前就加入游戏,可能会导致一些不该做的行为发生 服务器的载入顺序是地图→插件2.属性设置  attribute:    maxHealth:      max: 2000000000    movementSpeed:      max: 2000000000    attackDamage:      max: 2000000000这三项自定义,但是一定要是你服务器最大的一些数据,否则无法有实体属性超过这些数值默认是2048.0,这就是为什么玩家最多只有2048生命值3.item-dirty-ticks: 30这个项目基本没人谈过,它的含义是物品深度监测间隔。这里需要谈及：这一项控制 item-dirty 检查.MC本身会在每tick都监测一次物品状态因为它监测了所有NBT数据,所以这一项无意识巨额消耗水龙头则只是监测基本数据如数量/附加值/种类数据并每以默认20秒进行一次深度监测深度监测我设置为30,可以缓解服务器运行压力4.世界设置world-settings:  world: #这里是针对名为world的世界的设置,你需要在下面加入类似于default项目的诸多设置,看你的设计    verbose: true  default: #这里是针对没有单独拉出设置的世界采用的全局设置,用于区分不同世界的设置、玩法,提高灵活性    verbose: true    dragon-death-sound-radius: 1 #龙死亡时的音效距离,保险起见设置为1(我没测试过0是不是整个世界都能听见)    seed-village: 10387312 #村庄种子,RPG世界可以删除    seed-feature: 14357617 #类上,RPG世界可以删除    seed-monument: 10387313 #类上,RPG世界可以删除    seed-slime: 987234911 #类上,RPG世界可以删除    merge-radius: #合并范围,指的是多少半径的物品会自动合并为一个实体,建议设置6以上,RPG服这样做有道理      item: 6.0      exp: 6.0    item-despawn-rate: 6000 #物品消失时间,实际上你没有必要装扫地大妈,真没有一点必要    hanging-tick-frequency: 100 #监测悬挂物的更新间隔(画、展示栏、栓绳)    enable-zombie-pigmen-portal-spawns: false #是否开启猪人生成在传送门的特性?这个涉及原版游戏公式,关闭    wither-spawn-sound-radius: 1 #凋灵生成音效能传播多远?    arrow-despawn-rate: 400 #箭矢消失间隔,单位依旧是tick,20秒足矣    view-distance: 3 #同server.properties,但是可以设置每个世界    zombie-aggressive-towards-villager: false #僵尸追村民寻路功能,RPG服完全没有必要开启    nerf-spawner-mobs: true #是否禁用刷怪笼?如果你服务器没有生存世界或用不着刷怪笼请设置为true    mob-spawn-range: 4 #玩家周围区块能刷出的怪物距离,增加它会导致怪物更稀有更分散,详见怪物生成机制    growth: #生长速度,RPG世界完全可以关闭,少很多运算不是很棒吗?      cactus-modifier: 0 #仙人掌      cane-modifier: 0 #甘蔗      melon-modifier: 0 #西瓜      mushroom-modifier: 0 #蘑菇      pumpkin-modifier: 0 #南瓜      sapling-modifier: 0 #树苗      wheat-modifier: 0 #小麦      netherwart-modifier: 0 #地狱疣      vine-modifier: 0 #藤蔓      cocoa-modifier: 0 #可可豆    max-tnt-per-tick: 30 #每tick最多多少TNT爆炸,鉴于一些技能引入爆炸效果,这个还是30比较好    max-tick-time: #这个真是弥天大坑,我先前改成10 10结果服务器实体卡得动不了,内存缺空着,详情见极光creeper的帖子      tile: 1000      entity: 1000    entity-tracking-range: #实体显示范围,依次为玩家、动物、怪物、掉落物、其他,对于客户端而言的      players: 150      animals: 100      monsters: 150      misc: 64      other: 64    save-structure-info: false #是否储存结构体信息?RPG玩法不储存了    entity-activation-range: #实体活动范围,此范围以外不计算AI,依次为玩家、动物、怪物、掉落物、刌民,对于服务端而言的,十分有用      animals: 24      monsters: 12      misc: 2      water: 16      tick-inactive-villagers: false #这一项是1.14+才有的,刌民如果在范围之外是否依旧计算?RPG服我认为不需要保留原版那种村民攻打玩家或村民的游戏内容,关闭    ticks-per:      hopper-transfer: 8 #漏斗传送速度,RPG服改不改没有什么区别      hopper-check: 1 #漏斗监测间隔    hopper-amount: 1    random-light-updates: false #随机光照,关闭提升性能    hunger: #饥饿的消耗系统,主城世界或者安全世界你可以全部设置0,5代表着半个饥饿条      jump-walk-exhaustion: 0.05 #跳着走的消耗      jump-sprint-exhaustion: 0.2 #跳着疾跑的消耗      combat-exhaustion: 0.1 #战斗消耗,改成10的话会有惊喜      regen-exhaustion: 6.0 #恢复消耗,如果你安装了ILS这样通过原版饥饿来倍率回血的插件,可以改一改      swim-multiplier: 0.01 #游泳消耗      sprint-multiplier: 0.1 #疾跑消耗      other-multiplier: 0.0 #其他消耗    squid-spawn-range: #鱿鱼生成的距离,鬼知道这什么鬼设置啊      min: 45.0    max-entity-collisions: 2 #每秒处理多少实体碰撞，减少将会消耗更少TPS\n┃ 如何设置Paper.yml参考资料1.enable-player-collisions: false\n是否开启实体碰撞,1.9+才会有的,视情况而定\n2.max-auto-save-chunks-per-tick: 8\n顾名思义.对于1.13 +这是非常重要的,因为1.13+服务器保存相当低效\n请注意:确保这个时间比自动保存间隔要短否则就会导致还没有保存好区块又开始下一轮保存.把这设置得太低可能会使得没有保存的区块出问题.如果你有超过40个玩家,你应当设置在8以保证安全\n3.optimize-explosions: true\n是否开启新爆炸算法?新算法可以立刻清除被炸死的实体,有一定的优化作用(我惯用爆炸效果制作技能)\n4.disable-chest-cat-detection: true\n默认猫站在箱子上面你是开不了的,个人认为这个特性除了吃资源以外没屁用\n5.container-update-tick-rate: 2\n箱子和物品栏打开时,内容的更新间隔(tick),设置到4以上会让玩家觉得放东西很卡\n6.max-entity-collisions: 2\n每秒处理多少实体碰撞，减少将会消耗更少TPS(spigot也有的)\n7.实体清除\n    despawn-ranges:\n      soft: 28 #超过此范围的实体会被定期移除\n      hard: 90 #超过此范围的实体会被直接移除\n提一点,Mythicmobs的怪物设置项Despawn: false 可以无视这个设置,作为世界BOSS十分有用(不然只要旁边没有玩家就会清理)\n8.非玩家箭头清理\nnon-player-arrow-despawn-rate: 60\n此项如果设置为-1,则遵从spigot的箭矢消失设置,单位为tick,基本上用于骷髅射击玩家的箭矢什么时候销毁\n60即为3秒,属于玩法类,如果你想让玩家一直插着箭也可以改的很大\n9.活跃箭头清理\ncreative-arrow-despawn-rate: 60\n和上一项类似,但是是那种无法取回的箭矢比如无限弓发射的箭矢\n10.防止玩家进入未加载区块\nprevent-moving-into-unloaded-chunks: true\n探索类玩法或者生存玩法或者高速移动的玩法需要这个选项,它的作用顾名思义,有时候如果你移动速度过快,你会跑到游戏没加载好的地方里,过一段时间加载完毕你才能正常移动,把这个设置为true后，玩家无法进入未加载完毕的区块。\n11.use-faster-eigencraft-redstone: true\n这个设置可以减少冗余红石更新高达95%而不破坏原版设备。经测试运算加速10倍!\nRPG可能也会用得到红石,所以提一下,纯RPG改不改红石没区别\n注意:如果你用插件改变红石算法,则需要考虑更改选项，因为插件倾向于阻止红石行为。\n12.armor-stands-tick: false\n一些物品会被当作生物(实际上指的就是实体,需要tick进行运算),这个选项意味着没有运算的盔甲架将不能被水推动,RPG无关选项,关闭\n注:物品展示栏会被PaperSpigot抵消全部运算,这个是写死的,动不了\n13.per-player-mob-spawns: true\n这也算RPG无关选项,如果有生存/家园世界才考虑\n开启后实现了每个玩家的生成限制，而不是Bukkit的随机算法。这可以防止其他人（大型农场）影响服务器的实体生成。\n14.假矿\n    anti-xray:\n      enabled: false\npaper服务端的优势之一,自带假矿防止矿透,RPG玩法较多干脆关闭它\n如果有世界有挖矿功能,请设置为2防止假矿,其他假矿插件可以删除了\n\n"
        }
    ]
}