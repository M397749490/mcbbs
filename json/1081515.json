{
    "title": "自定义Npc问题/脚本",
    "author": "很咸的咸鱼",
    "replyCount": 5,
    "timestamp": 1595133000,
    "txt_content": "1.12.2版本血量低于百分之50向玩家冲过去 冲五格  造成伤害22\n血量低于百分之20  释放一个3X3的范围伤害 持续3s 每次22伤\n",
    "replies": [
        {
            "author": "南柯郡守",
            "timestamp": 1595136240,
            "txt_content": "建议用mm实现\n[综合|娱乐]MythicMobs —— 神话怪物BOSS与技能[1.12 - 1.16.1]\nhttps://www.mcbbs.net/thread-877506-1-1.html\n(出处: Minecraft(我的世界)中文论坛)"
        },
        {
            "author": "很咸的咸鱼",
            "timestamp": 1595298960,
            "txt_content": "南柯郡守 发表于 2020-7-19 13:24\n建议用mm实现\n[综合|娱乐]MythicMobs —— 神话怪物BOSS与技能[1.12 - 1.16.1]\nhttps://www.mcbbs.net/thre ...\n审题\n如果用mm就不会来这里发悬赏帖子了 \n感谢您的回复"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1595302800,
            "txt_content": "很咸的咸鱼 发表于 2020-7-21 10:36\n审题\n如果用mm就不会来这里发悬赏帖子了 \n感谢您的回复var times = 1;\nfunction damaged(e){\n        var npc = e.npc;\n        if(times==1&&(npc.getHealth()/npc.getMaxHealth())*100<50){\n            npc.setMoveForward(5);\n                var world = npc.getWorld();\n                var player = world.getClosestEntity(npc.getPos(),1,1);\n                if(player!=null){\n                        player.damage(22);\n                }\n                times = 0;\n        }\n        if(times==0&&(npc.getHealth()/npc.getMaxHealth())*100<20){\n                var world = npc.getWorld();\n                var players = world.getNearbyEntities​(npc.getPos(),3,1);\n                for(player:players){\n                    player.damage(22);\n                }\n            npc.getTimers().forceStart(1,20,false);\n                npc.getTimers().forceStart(1,40,false);\n            times = 2;\n        }\n}\nfunction init(e){\n        times = 1;\n}\nfunction timer(e){\n        var npc = e.npc;\n        if(e.id==1){\n                var world = npc.getWorld();\n                var players = world.getNearbyEntities​(npc.getPos(),3,1);\n                for(player:players){\n                    player.damage(22);\n                }\n        }\n}复制代码\n\n血量低于50%向前冲5格并获取最近的一个玩家造成22点伤害\n血量低于20%对身边范围3的所有玩家造成22点伤害 持续三秒\n\n纯为盲打   未经测试\n有问题可以继续追问"
        },
        {
            "author": "很咸的咸鱼",
            "timestamp": 1595304120,
            "txt_content": "南柯郡守 发表于 2020-7-21 11:40\n血量低于50%向前冲5格并获取最近的一个玩家造成22点伤害\n血量低于20%对身边范围3的所有玩家造成22点伤害 ...\n无法使用 导入进去后没有任何效果出现 切有报错\n我已经加入了java nashorn文件。\n另外我已经申请删帖了 \n在半小时之前\n如果没有什么必要性 我觉得您可以去回复其他的问题\n这个技能已经决定与前面一样废弃了\n或许是我的金粒不够高 就没人回答√\n再次 感谢您的回复\n附 导入后报错↓\nTue Jul 21 11:55:51 CST 2020 tab 1:\njavax.script.ScriptException: <eval>:16:26 Expected ; but found :\n                for(player:players){\n                          ^ in <eval> at line number 16 at column number 26\n        at jdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:467)\n        at jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:534)\n        at jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:521)\n        at jdk.nashorn.api.scripting.NashornScriptEngine.evalImpl(NashornScriptEngine.java:399)\n        at jdk.nashorn.api.scripting.NashornScriptEngine.eval(NashornScriptEngine.java:155)\n        at javax.script.AbstractScriptEngine.eval(Unknown Source)\n        at noppes.npcs.controllers.ScriptContainer.run(ScriptContainer.java:152)\n        at noppes.npcs.controllers.ScriptContainer.run(ScriptContainer.java:126)\n        at noppes.npcs.entity.data.DataScript.runScript(DataScript.java:58)\n        at noppes.npcs.EventHooks.onNPCInit(EventHooks.java:108)\n        at noppes.npcs.entity.data.DataScript.runScript(DataScript.java:55)\n        at noppes.npcs.EventHooks.onNPCCollide(EventHooks.java:116)\n\n        at jdk.nashorn.api.scripting.NashornScriptEngine.compileImpl(NashornScriptEngine.java:532)\n        ... 27 more\n这是开头 以及结尾的一些报错\n因为文件太长 我就不在复述了"
        },
        {
            "author": "tianps",
            "timestamp": 1599048120,
            "txt_content": "很咸的咸鱼 发表于 2020-7-21 12:02\n无法使用 导入进去后没有任何效果出现 切有报错\n我已经加入了java nashorn文件。\n另外我已经申请删帖了 \n。。。。 如果大佬你不差这俩百的话可以给我吗= =我是真的缺\n楼主你是开服务器的吗 \n可以找插件了解决技能问题"
        }
    ]
}