{
    "title": "求指令大触 1.8版本",
    "author": "阿斯顿大法",
    "replyCount": 3,
    "timestamp": 1529484480,
    "txt_content": " 本帖最后由 阿斯顿大法 于 2018-6-20 18:13 编辑 \n\n1.8.1版本原版有没有办法不通过穷举清除玩家背包中所有带有指定nbt的物品？\n比如背包中.\n比如我的背包中有石头木头泥土等等的一大堆东西,其中一部分物品名字叫\"清除\" ,能不能做到不通过穷举一次性清除掉这些名字都叫清除的不同物品？",
    "replies": [
        {
            "author": "SPGoding",
            "timestamp": 1529484480,
            "txt_content": " 本帖最后由 SPGoding 于 2018-6-20 20:01 编辑 \n\n当然…不能\n不过，你想的穷举可能是这样的：\nclear @a {id} -1 -1 {display:{Name:\"清除\"}}\n(其中，{id}替换为所有的方块/物品id。你需要穷举400+条命令，很蠢)\n(这种写法在1.13版本只需要一条命令即可，所以说快入1.13吧)\n事实上，有另一种穷举的方法。我们可以检测玩家每一个格子，看看那个格子里的物品满不满足nbt，如果满足就把那格替换成空气。这一共需要4*9*3=108条命令，是上一种方法的25%左右，效率会高很多，由于是数字，穷举起来也会更加方便。\nscoreboard players tag @a add clear {Inventory:[{Slot:0b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.0 minecraft:air 1\nscoreboard players tag @a remove clear\n把这三条命令作为一组，替换两个slot，重复9*4次即可。以下是完整命令：\nscoreboard players tag @a add clear {Inventory:[{Slot:0b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.0 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:1b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.1 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:2b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.2 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:3b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.3 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:4b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.4 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:5b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.5 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:6b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.6 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:7b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.7 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:8b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.hotbar.8 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:9b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.0 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:10b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.1 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:11b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.2 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:12b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.3 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:13b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.4 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:14b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.5 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:15b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.6 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:16b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.7 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:17b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.8 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:18b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.9 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:19b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.10 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:20b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.11 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:21b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.12 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:22b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.13 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:23b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.14 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:24b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.15 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:25b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.16 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:26b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.17 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:27b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.18 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:28b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.19 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:29b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.20 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:30b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.21 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:31b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.22 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:32b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.23 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:33b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.24 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:34b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.25 minecraft:air 1\nscoreboard players tag @a remove clear\nscoreboard players tag @a add clear {Inventory:[{Slot:35b,tag:{display:{Name:\"清除\"}}}]}\nreplaceitem entity @p[tag=clear] slot.inventory.26 minecraft:air 1\nscoreboard players tag @a remove clear复制代码\njs代码，备用\n<script>\nlet arr = []\nfor (let i = 0; i <=26;i++){\n    arr.push(i)\n}\ndocument.write(arr.map(v=>`scoreboard players tag @a add clear {Inventory:[{Slot:${v+9}b,tag:{display:{Name:\"清除\"}}}]}<br>replaceitem entity @p[tag=clear] slot.inventory.${v} minecraft:air 1<br>scoreboard players tag @a remove clear`).join('<br>'))\n</script>复制代码"
        },
        {
            "author": "SMFX阜星",
            "timestamp": 1529493480,
            "txt_content": "/clear @a stone 0 1 {display:\"清除\"}\n我有点忘了0和1的顺序了，如果这样不成功就反过来试一下\n成功后1换成64更好，多弄几个方块一起执行，防止没清理干净"
        },
        {
            "author": "阿斯顿大法",
            "timestamp": 1529508600,
            "txt_content": "SPGoding 发表于 2018-6-20 19:29\n当然…不能\n不过，你想的穷举可能是这样的：\nclear @a {id} -1 -1 {display:{Name:\"清除\"}}\n谢了 的确这种穷举更简单 不过108条检测指令执行起来需要消耗很大内存的吧  果然还是只能Inventory后自己动手啊. 本来还希望能捞个黑科技什么的233 (话说clear不加任何数据能清空所有物品加了反而只能清除单一物品..有毒) "
        }
    ]
}