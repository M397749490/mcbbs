{
    "title": "1.16pre-2服务器崩溃！求解决！",
    "author": "moraplze_",
    "replyCount": 2,
    "timestamp": 1591845540,
    "txt_content": " 本帖最后由 skyliye 于 2020-6-11 13:55 编辑 \n\n1.16的pre-2服务器自动killed和This crash report has been saved to: 存档地址\n开1.12.2的paper端很正常，一点也不卡，从来没有出现过这种情况。\n一开始centos自动killed服务端程序，看了一下应该是因为内存问题。\n后来又申请了一台服务器，差不多1个小时左右就提示This crash report has been saved to: /root/mc2/./crash-reports/crash-2020-06-11_03.05.01-server.txt这句话。求大佬帮忙。\n附上提示路径上的文本文档。\n\n---- Minecraft Crash Report ----\n// You should try our sister game, Minceraft!\n\nTime: 6/11/20 3:05 AM\nDescription: Watching Server\n\njava.lang.Error\n        at dey.size(SourceFile:22)\n        at dek.<init>(SourceFile:29)\n        at dfc.a(SourceFile:71)\n        at bph.a(SourceFile:90)\n        at bph.tryAdvance(SourceFile:55)\n        at java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:735)\n        at aed$1.tryAdvance(SourceFile:31)\n        at java.util.Spliterators$1Adapter.hasNext(Spliterators.java:681)\n        at dez.a(SourceFile:197)\n        at aoj.a(SourceFile:863)\n        at aoj.a(SourceFile:843)\n        at aoj.f(SourceFile:797)\n        at aoj.a(SourceFile:570)\n        at aov.a(SourceFile:2117)\n        at aov.f(SourceFile:2070)\n        at aze.f(SourceFile:353)\n        at aov.k(SourceFile:2448)\n        at aow.k(SourceFile:533)\n        at aoh.k(SourceFile:126)\n        at ayg.k(SourceFile:53)\n        at aze.k(SourceFile:322)\n        at aov.j(SourceFile:2257)\n        at aow.j(SourceFile:338)\n        at zd.a(SourceFile:615)\n        at zd$$Lambda$3592/79067511.accept(Unknown Source)\n        at bpx.a(SourceFile:600)\n        at zd.a(SourceFile:405)\n        at net.minecraft.server.MinecraftServer.b(SourceFile:873)\n        at yd.b(SourceFile:306)\n        at net.minecraft.server.MinecraftServer.a(SourceFile:812)\n        at net.minecraft.server.MinecraftServer.v(SourceFile:671)\n        at net.minecraft.server.MinecraftServer.a(SourceFile:256)\n        at net.minecraft.server.MinecraftServer$$Lambda$3022/1780840867.run(Unknown Source)\n        at java.lang.Thread.run(Thread.java:748)\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- Head --\nThread: Server Watchdog\nStacktrace:\n        at dey.size(SourceFile:22)\n        at dek.<init>(SourceFile:29)\n        at dfc.a(SourceFile:71)\n        at bph.a(SourceFile:90)\n        at bph.tryAdvance(SourceFile:55)\n        at java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:735)\n        at aed$1.tryAdvance(SourceFile:31)\n        at java.util.Spliterators$1Adapter.hasNext(Spliterators.java:681)\n        at dez.a(SourceFile:197)\n        at aoj.a(SourceFile:863)\n        at aoj.a(SourceFile:843)\n        at aoj.f(SourceFile:797)\n        at aoj.a(SourceFile:570)\n        at aov.a(SourceFile:2117)\n        at aov.f(SourceFile:2070)\n        at aze.f(SourceFile:353)\n        at aov.k(SourceFile:2448)\n        at aow.k(SourceFile:533)\n        at aoh.k(SourceFile:126)\n        at ayg.k(SourceFile:53)\n        at aze.k(SourceFile:322)\n        at aov.j(SourceFile:2257)\n        at aow.j(SourceFile:338)\n        at zd.a(SourceFile:615)\n        at zd$$Lambda$3592/79067511.accept(Unknown Source)\n        at bpx.a(SourceFile:600)\n        at zd.a(SourceFile:405)\n        at net.minecraft.server.MinecraftServer.b(SourceFile:873)\n        at yd.b(SourceFile:306)\n        at net.minecraft.server.MinecraftServer.a(SourceFile:812)\n        at net.minecraft.server.MinecraftServer.v(SourceFile:671)\n        at net.minecraft.server.MinecraftServer.a(SourceFile:256)\n\n-- Thread Dump --\nDetails:\n        Threads: \"Server Watchdog\" Id=25 RUNNABLE\n        at sun.management.ThreadImpl.dumpThreads0(Native Method)\n        at sun.management.ThreadImpl.dumpAllThreads(ThreadImpl.java:454)\n        at yg.run(SourceFile:45)\n        at java.lang.Thread.run(Thread.java:748)\n\n\n\"Netty Epoll Server IO #1\" Id=24 RUNNABLE\n        at io.netty.channel.epoll.Native.epollWait0(Native Method)\n        at io.netty.channel.epoll.Native.epollWait(Native.java:114)\n        at io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:239)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:256)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)\n        at java.lang.Thread.run(Thread.java:748)\n\n\n\"Netty Epoll Server IO #0\" Id=20 RUNNABLE\n        at io.netty.channel.epoll.Native.epollWait0(Native Method)\n        at io.netty.channel.epoll.Native.epollWait(Native.java:114)\n        at io.netty.channel.epoll.EpollEventLoop.epollWait(EpollEventLoop.java:239)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:256)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)\n        at java.lang.Thread.run(Thread.java:748)\n\n\n\"ObjectCleanerThread\" Id=19 TIMED_WAITING on java.lang.ref.ReferenceQueue$Lock@22457ad5\n        at java.lang.Object.wait(Native Method)\n        -  waiting on java.lang.ref.ReferenceQueue$Lock@22457ad5\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n        at io.netty.util.internal.ObjectCleaner$1.run(ObjectCleaner.java:54)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.lang.Thread.run(Thread.java:748)\n\n\n\"Server console handler\" Id=18 RUNNABLE (in native)\n        at java.io.FileInputStream.readBytes(Native Method)\n        at java.io.FileInputStream.read(FileInputStream.java:255)\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:345)\n        -  locked java.io.BufferedInputStream@2c8290ed\n        at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\n        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\n        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\n        -  locked java.io.InputStreamReader@28bd11a5\n        at java.io.InputStreamReader.read(InputStreamReader.java:184)\n        ...\n\n\n\"DestroyJavaVM\" Id=17 RUNNABLE\n\n\n\"Server thread\" Id=14 RUNNABLE\n        at dey.size(SourceFile:22)\n        at dek.<init>(SourceFile:29)\n        at dfc.a(SourceFile:71)\n        at bph.a(SourceFile:90)\n        at bph.tryAdvance(SourceFile:55)\n        at java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:735)\n        at aed$1.tryAdvance(SourceFile:31)\n        at java.util.Spliterators$1Adapter.hasNext(Spliterators.java:681)\n        ...\n\n\n\"Snooper Timer\" Id=15 WAITING on java.util.TaskQueue@6dbf9ad6\n        at java.lang.Object.wait(Native Method)\n        -  waiting on java.util.TaskQueue@6dbf9ad6\n        at java.lang.Object.wait(Object.java:502)\n        at java.util.TimerThread.mainLoop(Timer.java:526)\n        at java.util.TimerThread.run(Timer.java:505)\n\n\n\"Timer hack thread\" Id=12 TIMED_WAITING\n        at java.lang.Thread.sleep(Native Method)\n        at v$2.run(SourceFile:524)\n\n\n\"Signal Dispatcher\" Id=4 RUNNABLE\n\n\n\"Finalizer\" Id=3 WAITING on java.lang.ref.ReferenceQueue$Lock@64a5d666\n        at java.lang.Object.wait(Native Method)\n        -  waiting on java.lang.ref.ReferenceQueue$Lock@64a5d666\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:216)\n\n\n\"Reference Handler\" Id=2 WAITING on java.lang.ref.Reference$Lock@5c9837e7\n        at java.lang.Object.wait(Native Method)\n        -  waiting on java.lang.ref.Reference$Lock@5c9837e7\n        at java.lang.Object.wait(Object.java:502)\n        at java.lang.ref.Reference.tryHandlePending(Reference.java:191)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\n\n\n\nStacktrace:\n        at yg.run(SourceFile:61)\n        at java.lang.Thread.run(Thread.java:748)\n\n-- System Details --\nDetails:\n        Minecraft Version: 1.16 Pre-release 2\n        Minecraft Version ID: 1.16-pre2\n        Operating System: Linux (amd64) version 3.10.0-862.3.2.el7.x86_64\n        Java Version: 1.8.0_191, Oracle Corporation\n        Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation\n        Memory: 37180096 bytes (35 MB) / 608174080 bytes (580 MB) up to 608174080 bytes (580 MB)\n        CPUs: 1\n        JVM Flags: 1 total; -Xmx600M\n        Player Count: 1 / 20; [ze['XuTianMing'/7094, l='ServerLevel[world]', x=521.52, y=72.00, z=-309.30]]\n        Data Packs: vanilla\n        Is Modded: Unknown (can't tell)\n        Type: Dedicated Server (map_server.txt)\n\n在个人的电脑上不会出现这种问题。\n\n\n\n\n\n\n\ncrash-2020-06-11_03.05.01-server.txt\n\n\n2020-6-11 11:19 上传\n点击文件名下载附件\n\n\n\n\n7.06 KB, 下载次数: 3\n\n\n\n\n",
    "replies": [
        {
            "author": "もぺもぺ",
            "timestamp": 1591845540,
            "txt_content": " 本帖最后由 もぺもぺ 于 2020-6-11 11:22 编辑 \n\n        Memory: 37180096 bytes (35 MB) / 608174080 bytes (580 MB) up to 608174080 bytes (580 MB)\n\n我觉得是内存不足\n\n堆栈看起来非常正常\n\nnet.minecraft.world.phys.shapes.OffsetDoubleList -> dey:\n    it.unimi.dsi.fastutil.doubles.DoubleList delegate -> a\n    double offset -> b\n    10:13:void <init>(it.unimi.dsi.fastutil.doubles.DoubleList,double) -> <init>\n    17:17:double getDouble(int) -> getDouble\n    22:22:int size() -> size"
        },
        {
            "author": "a1294790523",
            "timestamp": 1591855620,
            "txt_content": "服务器 卡 炸 了\n然后服务器的watchdog觉得服务器假死了就给关了\n将Server.properties中的max-tick-time改成-1即可"
        }
    ]
}