{
    "title": "[编程]ConfigParser —— kotlin编写的配置文件注解解析库[1.9-1.13]",
    "author": "licrafter",
    "replyCount": 1,
    "timestamp": 1538069160,
    "txt_content": " 本帖最后由 licrafter 于 2018-9-28 01:26 编辑 \n\nConfigParserConfigParser API 是一个用 kotlin 编写的基于注解的配置文件系统, 它允许开发者使用 API 提供的 saveConfig and loadConfig 方法来读取和保存配置文件.源码地址:https://github.com/licraft-club/ConfigParser如何使用public class ParserSample extends JavaPlugin {\n\n    public TestConfig config = new TestConfig();\n\n    @Override\n    public void onEnable() {\n        File file = new File(getDataFolder(), \"config.yml\");\n        if (!file.exists()) {\n            getConfig().options().copyDefaults(true);\n            saveDefaultConfig();\n            reloadConfig();\n        }\n        //开启 debug\n        ParserAPI.INSTANCE.setDebug(true);\n                //加载配置文件\n        ParserAPI.INSTANCE.loadConfig(this, config);\n    }\n\n    @Override\n    public void onDisable() {\n            //保存配置文件\n        ParserAPI.INSTANCE.saveConfig(this, config);\n    }复制代码@ConfigBean\n@ConfigBean 用来配置 classes 去加载哪个配置文件. 我们可以通过 file 参数指定配置文件的具体路径 (config.yml 是 file 的默认值):\n@ConfigBean\npublic class TestConfig {\n}复制代码当然，我们也可以在代码里动态指定配置文件的路径\npublic class TestConfig {\n}\n\n@Override\npublic void onEnable() {\n        ParserAPI.INSTANCE.loadConfig(this,\"config.yml\",config);\n}复制代码@ConfigValue\n@ConfigValue 是可以被 FileConfiguration 直接读写的字段的注解. 比如 Java 基本类型，List，和 ItemStack. For example:\n/**\n* data:\n*   name: configParser\n*/\n@ConfigValue(path = \"data.name\",colorChar = '&')\npublic String name;复制代码@ConfigSection\n@ConfigSection 是只有在运行时才能确定准确路径的字段的注解. 比如在代码里动态添加记录的玩家名字和点数的键值对:\n/**\n*   points:\n*     notch: 39\n*     md_5: 92\n*     dinnerbone: 45\n*/\n@ConfigValue(path = \"data.points\")\npublic Map<String, Integer> pointsMap;复制代码你也可以查看更详细的使用方法sample project.\n\n捐赠地址[http://paypal.me/licrafter]本插件所用所有代码均为原创,不存在借用/抄袭等行为复制代码例如本插件为非盈利性插件，免费发布，严禁销售和转卖复制代码\n",
    "replies": [
        {
            "author": "NoName德里奇",
            "timestamp": 1538084340,
            "txt_content": "良心原创作品，支持了！"
        }
    ]
}