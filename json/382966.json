{
    "title": "MobProperties mod使用",
    "author": "xycxor",
    "replyCount": 12,
    "timestamp": 1420714440,
    "txt_content": " 本帖最后由 xycxor 于 2015-1-8 18:56 编辑 \n\n前言\n最近想让游戏难度提升一下，又不想破坏游戏平衡，加上根本没时间学java，所以我就看上了这个【MobProperties】这个mod，并且花了一些时间去研究他的语法，格式，我也是醉了，完全就是一个json脚本。不过要可惜的是这个mod只可以修改怪物属性，和某种情况下物品属性。最主要是可以联机使用，服务器一开启就能自动载入，节省了不少时间。\n\n\n安装\n成功安装该mod后会生这3个文件。\n【MobProperties】是放怪物当前mc所使用的怪物的名称（包括mod）\n【MobProperties.json】提供你自由的编辑不限制于MobProperties目录里的文件。\n【MobProperties.cfg】auto_generate_files=true，为当前使用的怪物生成一个空的属性文件，放在MobProperties目录，false直接使MobProperties.json，而不会用MobProperties目录里文件的设置。\n\n\n关于\n所有的怪物属性都是这样的格式。\n{\n   \"_name\": \"\", \n   \"drops\": [], \n   \"stats\": [] \n}\n_name：怪物的名字\ndrops：怪物死亡时候\nstats：怪物生成时候\n\n要注意每个语句后面要加逗号来分割\n\n函数的书写方式，例如：\n{\n    \"_name\": \"Zombie\",\n    \"drops\": [\n         {\n               \"function\": \"函数名\",\n               \"属性\": 数值,\n               .................\n         },\n         ..................\n\n    ],\n    \"stats\": [\n         {\n               \"function\": \"函数名\",\n               \"属性\": 数值,\n               .................\n         },\n        .................\n\n    ]\n}\n\n\n常规函数\n\n函数参考Toast Wiki http://fathertoast.wikia.com/wiki/Mob_Properties\n\nchoose                                       类似与select和但与select又有不同。\n\n                                                  *functions：里面填写要执行的操作。\n                                                   weight：通过这个数值可以让choose选择那个语句最有可能会执行。\n                                                  例如：\n                                                  \"function\": \"choose\",\n                                                  \"functions\": [\n                                                         {\n                                                                  \"weight\": 1,   \n                                                                  \"function\": \"函数1\"\n                                                         },\n                                                         {\n                                                                  \"weight\": 1,        \n                                                                   \"function\": \"函数2\"\n                                                         },\n                                                         {\n                                                                  \"weight\": 2,                        //这个函数执行几率要比另外两个大         \n                                                                   \"function\": \"函数3\"\n                                                         }\n\nall                                               指定几率执行。\n                                                  count：执行几率。例如：0.15，15%。默认1，100%。\n                                                  *functions：里面填写要执行的操作。\n                                                   例如：\n                                                   \"function\": \"all\",\n                                                    \"count\": 0.3,\n                                                    \"functions\": [\n                                                          {\n                                                                  \"function\": \"函数\",                //30%几率会执行该函数\n                                                                  ..................................\n                                                          }\n                                                    \n                                            \nif_burning                                 如果正在燃烧。\nif_wet                                        如果正在水中，包括下雪。\nif_wither_skeleton                    如果是凋零骷髅。\nif_has_potion_X                        如果物带有X药水效果，X为药水效果ID。\nif_check_nbt_X                         如果怪物nbt格式中某一项数据类型为X的数据，可以用操作符进行操作运算。\nif_beyond_X                              自己翻译。。\nif_raining                                  如果是在下雨天。\nif_thundering                            如果在打雷。\nif_moon_phase_X                     如果月亮位置在X（full，waning_gibbous，third_quarte，waning_crescent，\n                                                  new，waxing_crescent，first_quarter，waxing_gibbous）。\nif_past_day_time_X                  如果时间的值大于X（0~23999)。\nif_past_world_time_X              如果存在这个世界的时间大于X。\nif_past_world_difficulty_X       如果安装了末日mod的话当前世界的难度是X（peaceful，easy，normal，hard）。\nif_difficulty_X                           如果当前世界难度是X。\nif_in_dimension_X                    如果在范围X。\nif_in_biome_X                           如果在生物群X。\nif_on_block_X                           如果在方块X。\nif_below_X                                如果在方块的高度X。\nif_player_online_X                    如果玩家X在线。\n（以下函数只能用在drops里面）\nif_recently_hit                            如果某个玩家在过去5秒打过这个怪物。\nif_rare                                         如果这个掉落是稀有掉落？(1%-40%几率)。\nif_rare_super                              如果这个掉落是超级掉落？（1%-5%几率）。\nif_above_looting_X                     如果这个怪物被附魔有“掠夺”等级X的东西击中。\nif_killed_by_X                             如果这个怪物被X杀死（X是一个实体ID）。\n\n\n状态函数\n\nname                                          为这个怪物设定一个名称。\n                                                  *value：自定义一个名称给这个怪物。\n\nmodifier                                    修改怪物指定属性\n                                                  *attribute：属性的字符串。参考：http://minecraft.gamepedia.com/Attribute，\n                                                  常用：\n                                                  generic.maxHealth（最大生命值），\n                                                  generic.followRange（跟随范围）\n                                                  generic.knockbackResistance（抵抗击退效果几率）\n                                                  generic.movementSpeed（移动速度）\n                                                  generic.attackDamage（攻击力）\n                                                  value: 一个整数范围的数值去修改这个属性。\n                                                  operator: 修正操作，0：基础+value，1：基础*value，2：基础=基础*(1 + value)\n                                                  override：覆巢操作，为true时operator无效，直接会覆盖怪物基本数值\n                                                  直接用value的数值，默认为false。\n\nequip                                         装备指定装备到一个怪物身上。\n                                                  *id：装备的ID，可以是字符串。\n                                                  slot：部位（0 - 手，1 - 脚，2 - 腿部，3 - 身体，4 - 头部）。默认0。\n                                                  dop_chance：改装备掉落的几率，默认是0.085。\n                                                  damage：这里不知道是翻译成耐久还是攻击力，请自行测试，默认是0。\n                                                  count：装备的数量，默认为1。\n                                                  item_stats：这个参数可以对改装备作更多的操作。后面会给例子。\n\npotion                                        赋予药水效果。\n                                                  *id：药水效果的ID。\n                                                  amplifier：药水级别。默认0(1 level)。\n                                                  duration：持续时间，默认2147483647，20 ticks=1 second。\n                                                  ambient：药水效果显示，默认false。\n                                                  override：覆盖操作，是否覆盖本身自带的药水效果，默认false。\n\nriding                                        让改怪物骑指定怪物头上。 \n                                                *id：被骑的怪物的ID。\n                                                 stats: 这个参数可以修改被骑的怪物更多的属性。后面会给例子。\n\nridden_by                                与上面一样，只不过颠倒，ID是被哪个怪物骑。\n\nnbt                                           直接操作nbt格式数值。\n                                                http://minecraft-zh.gamepedia.com/%E5%8C%BA%E5%9D%97%E6%A0%BC%E5%BC%8F\n                                                *tags：在里面可以做更多的操作，后面会给例子。\n\ndrops                                        这函数可以在怪物生成是就设定掉落物，可以写在stats里面。\n                                                *functions：这个参数里面可以写对掉落物更多的操作。\n                                                 count：掉落几率。默认1。\n\nenchant                                   可以给指定装备附魔。\n                                                id：附魔效果ID，默认随机-1。\n                                                level：附魔效果级别。默认1。\n\nspawn                                      生成指定怪物。                                        \n                                               *id：怪物ID。\n                                                count：生成怪物数量。默认不写。\n                                                tags：可以做根据nbt格式更多操作，后面给例子。\n                                                stats：可以在里面写更多怪物的操作。   \n\n\n僵尸在死亡时候30%会产生1~3只蠹虫，并且将这种蠹虫生命和攻击修改成1。\n\n\n{\n    \"_name\": \"Zombie\",\n    \"_comment\": \"在死亡时\",\n    \"drops\": [\n        {\n            \"_comment\": \"30%几率\",\n            \"function\": \"all\",\n            \"count\": 0.3,\n            \"functions\": [\n                {\n                    \"_comment\": \"生成1~3只蠹虫\",\n                    \"function\": \"spawn\",\n                    \"id\": \"Silverfish\",\n                    \"count\": \"1~3\"\n                    \"stats\": [\n                        {\n                             \"_comment\": \"修改生成的蠹虫的攻击\",\n                             \"function\", \"modifier\",\n                             \"attribute\", \"generic.attackDamage\",\n                             \"value\": 1,\n                             \"_comment\": ”覆盖方式，蠹虫基础攻击变成了1\",\n                             \"override\": true\n                        },\n                        {\n                             \"_comment\": \"修改生成的蠹虫的生命\",\n                             \"function\", \"modifier\",\n                             \"attribute\", \"generic.maxHealth\",\n                             \"value\": 1,\n                             \"_comment\": ”覆盖方式，蠹虫基础生命变成了1\",\n                             \"override\": true\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    \"stats\": []\n}\n复制代码\n\n\n似乎你们还觉得不够意思，那么。。\n在生成僵尸时30%产生一只僵尸骑在鸡上面\n\n\n{\n    \"_name\": \"Zombie\", \n     \"drops\": [], \n    \"stats\": [\n        {\n            \"_comment\": \"30%几率使僵尸骑在蜘蛛身上\",\n            \"function\": \"all\",\n            \"count\": 0.3,\n            \"functions\": [\n                {\n                    \"_comment\": \"使僵尸骑在蜘蛛身上\",\n                    \"function\": \"riding\",\n                    \"id\": \"Spider\"\n                }\n            ]\n        }\n    ]\n}\n复制代码\n\n\n再来些刺激的\n在打雷的时候有30%几率产生一只高压爬行者，同时增加0~2倍普通爬行者的爆炸范围\n\n\n\n{\n    \"_name\": \"Creeper\",\n    \"drops\": [],\n    \"stats\": [\n        {\n             \"comment\": \"如果当前正在打雷\",\n             \"function\": \"if_thundering\",\n             \"functions\": [\n                 {\n                     \"comment\": \"有30%几率\",\n                     \"function\": \"all\",\n                     \"count\": 0.3,\n                     \"functions\": [\n                         {\n                             \"comment\": \"使用nbt\",\n                             \"function\": \"nbt\",\n                             \"tags\": [\n                                 {\n                                     \"_comment\": \"确认nbt项目数据的数据类型\",\n                                     \"function\": \"boolean\",\n                                     \"_comment\": \"选择项目的名称\",\n                                     \"name\": \"powered\",\n                                     \"_comment\": \"设置该数值（爬行者类型）为true，变成高压爬行者\",\n                                     \"value\": true\n                                 }\n                             ]\n                         }\n                     ]\n                 }\n             ]\n        },\n        {\n             \"_comment\": \"判断nbt格式powered项目数据是否为true，也就是时候为高压爬行者\",\n             \"function\": \"if_check_nbt_powered\",\n             \"functions\": [\n                 {\n                     \"comment\": \"使用nbt\",\n                     \"function\": \"nbt\",\n                     \"tags\": [\n                         {\n                             \"function\": \"byte\",\n                             \"name\": \"ExplosionRadius\",\n                             \"_comment\": \"设置该数值（爆炸范围）为1~6\",\n                             \"value\": \"1~6\"\n                         }\n                     ] \n                 }\n             ]\n        }\n    ]\n}\n}\n复制代码\n\n\n最后，再来一遍附魔的例子吧。\n生成僵尸时50%几率使僵尸拿上武器，武器选择木剑（5），石剑（3），钻石剑（1）中的一种，几率从高到低，并50%几率对武器随机附魔，附魔等级随机。\n\n\n{\n    \"_name\": \"Zombie\", \n    \"drops\": [], \n    \"stats\": [\n        {\n            \"_comment\": \"50%几率使用武器\",\n            \"function\": \"all\",\n            \"count\": 0.5,\n            \"functions\": [\n                {\n                    \"_comment\": \"下面3种3选1，weight较大的会较大几率选择\"，\n                    \"function\": \"choose\",\n                    \"functions\": [\n                        {\n                            \"_comment\": \"木剑 ------------------------------------- 优先值为5\",\n                             \"weight\": 5,\n                            \"_comment\": \"使用装备函数\",\n                             \"function\": \"equip\",\n                             \"_comment\": \"木剑\",\n                             \"id\": \"wooden_sword\",\n                             \"_comment\": \"设置该木剑的属性，物品要用item_stats，怪物用stats\",\n                             \"item_stats\": [\n                                 {\n                                     \"_comment\": \"50%几率给予该武器的附魔\",\n                                     \"function\": \"all\",\n                                      \"count\": 0.5,\n                                      \"functions\": [\n                                           {\n                                              \"_comment\": \"附魔函数，id默认不写为随机附魔\",\n                                               \"function\": \"enchant\",\n                                              \"_comment\": \"随机附魔级别\",\n                                                \"level\": \"1~5\"\n                                            }\n                                      ]\n                                 }\n                             ]\n                        },\n                        {\n                            \"_comment\": \"石剑 ------------------------------------- 优先值为3\",\n                             \"weight\": 3,\n                            \"_comment\": \"使用装备函数\",\n                             \"function\": \"equip\",\n                             \"_comment\": \"石剑\",\n                             \"id\": \"stone_sword\",\n                             \"_comment\": \"设置该石剑的属性，物品要用item_stats，怪物用stats\",\n                             \"item_stats\": [\n                                 {\n                                     \"_comment\": \"50%几率给予该武器的附魔\",\n                                     \"function\": \"all\",\n                                      \"count\": 0.5,\n                                      \"functions\": [\n                                           {\n                                              \"_comment\": \"附魔函数，id默认不写为随机附魔\",\n                                               \"function\": \"enchant\",\n                                              \"_comment\": \"随机附魔级别\",\n                                                \"level\": \"1~5\"\n                                            }\n                                      ]\n                                 }\n                             ]\n                        },\n                        {\n                            \"_comment\": \"钻石剑 ------------------------------------- 优先值为1\",\n                             \"weight\": 1,\n                             \"_comment\": \"使用装备函数\",\n                             \"function\": \"equip\",\n                             \"_comment\": \"钻石剑\",\n                             \"id\": \"diamond_sword\",\n                             \"_comment\": \"设置该钻石剑的属性，物品要用item_stats，怪物用stats\",\n                             \"item_stats\": [\n                                 {\n                                     \"comment\": \"50%几率给予该武器的附魔\",\n                                     \"function\": \"all\",\n                                      \"count\": 0.5,\n                                      \"functions\": [\n                                           {\n                                              \"comment\": \"附魔函数，id默认不写为随机附魔\",\n                                              \"function\": \"enchant\",\n                                              \"_comment\": \"随机附魔级别\",\n                                                \"level\": \"1~5\"\n                                            }\n                                      ]\n                                 }\n                             ]\n                         }\n                     ]\n                 }\n             ]\n        }\n    ]  \n}\n复制代码\n\n\n\n\n\n\n\n\n\n[groupid=196]矮人工作室[/groupid]",
    "replies": [
        {
            "author": "wweewwe",
            "timestamp": 1422412020,
            "txt_content": "问一下如何修改行动速度呢？"
        },
        {
            "author": "xycxor",
            "timestamp": 1422529140,
            "txt_content": "            {\n              \"weight\": 1,\n              \"function\": \"modifier\",\n              \"attribute\": \"generic.movementSpeed\",\n              \"value\": \"0.4~0.6\",   //速度增加40%~60%之间\n              \"operator\": 1\n            }"
        },
        {
            "author": "wweewwe",
            "timestamp": 1422882360,
            "txt_content": "xycxor 发表于 2015-1-29 18:59\n{\n              \"weight\": 1,\n              \"function\": \"modifier\",\n多谢楼主"
        },
        {
            "author": "752798733",
            "timestamp": 1423990680,
            "txt_content": "问一下 可以设置掉落物品吗? 如果可以,那应该如何设置"
        },
        {
            "author": "xycxor",
            "timestamp": 1425923280,
            "txt_content": "752798733 发表于 2015-2-15 16:58\n问一下 可以设置掉落物品吗? 如果可以,那应该如何设置\ndrop是单位的死亡事件，在里面编写即可，用add函数，添加一个掉落\n{\n  \"_name\": \"Skeleton\",\n  \"drops\": [\n    {\n         \"_comment\": \"骷髅死亡时候使用add函数\",\n          \"function\": \"add\",\n         \"_comment\": \"物品id\",\n          \"id\": \"skull\",\n         \"_comment\": \"几率，0.02是2%\",\n          \"count\": 0.02\n    }\n  ]\n"
        },
        {
            "author": "xxxiao1230",
            "timestamp": 1426002720,
            "txt_content": "这个mod在游戏启动运行时会自动加载和添加怪物的属性文件，所以基本能兼容所有的mod生成的mob。\n同时，基础属性，掉落物品，生成条件改动都可以做得很详细。对于自定义整合的改造，添加mob很有用处。\n\n但与之对应的，是编程级别的设置语句，以及自定义需求的庞大的更改设置量。\n很大程度上限制了普及度，可惜。"
        },
        {
            "author": "752798733",
            "timestamp": 1427202780,
            "txt_content": "xycxor 发表于 2015-3-10 01:48\ndrop是单位的死亡事件，在里面编写即可，用add函数，添加一个掉落\n{\n  \"_name\": \"Skeleton\",\n谢谢 ,那个再问一下 如何设置装备的附魔等级,使之超过原版的附魔等级."
        },
        {
            "author": "752798733",
            "timestamp": 1427281020,
            "txt_content": "xycxor 发表于 2015-3-10 01:48\ndrop是单位的死亡事件，在里面编写即可，用add函数，添加一个掉落\n{\n  \"_name\": \"Skeleton\",\n还有如何掉落制定附魔的附魔书,用\"function\": \"enchant\",\"id\": 后 ,掉落的是被附魔的书..."
        },
        {
            "author": "fujinyang",
            "timestamp": 1438224780,
            "txt_content": "我在1.7.10版本一修改代码就打不开游戏。少量的可以打开游戏 但是多了就打不开了 咋办啊。"
        },
        {
            "author": "ZQFKING",
            "timestamp": 1475307600,
            "txt_content": "额，问一下，能否给一个完整的只修改生命和属性的mod"
        },
        {
            "author": "ZQFKING",
            "timestamp": 1475307660,
            "txt_content": "ZQFKING 发表于 2016-10-1 15:40\n额，问一下，能否给一个完整的只修改生命和属性的mod\n不是Mod，是例子，给一个只修改生命和攻击的例子，无视我上面的话"
        },
        {
            "author": "ZQFKING",
            "timestamp": 1475482680,
            "txt_content": "{\n  \"_name\": \"Zombie\",\n  \"drops\": [],\n  \"pre_stats\": [],\n  \"stats\": [\n      {\n           \"_comment\": \"修改僵尸的的攻击\",\n           \"function\", \"modifier\",\n           \"attribute\", \"generic.attackDamage\",\n           \"value\": 1,\n           \"_comment\": \"覆盖方式，僵尸基础攻击变成了1\",\n           \"override\": true\n      },\n      {\n           \"_comment\": \"修改僵尸的生命\",\n           \"function\", \"modifier\",\n           \"attribute\", \"generic.maxHealth\",\n           \"value\": 1,\n           \"_comment\": \"覆盖方式，僵尸基础生命变成了1\",\n           \"override\": true\n      }\n  ]\n}\n错哪里了楼主求回复"
        }
    ]
}