{
    "title": "关于写代码在游戏输出语句的问题",
    "author": "yyb563421689",
    "replyCount": 12,
    "timestamp": 1524627060,
    "txt_content": " 本帖最后由 yyb563421689 于 2018-4-25 11:32 编辑 \n\n比如Bukkit.broadcastMessage 用不了\\t制表符，在游戏中乱码，都排乱了，用空格排起来非常乱，有没有方法可以很整齐的排序，如下\n\n姓名      姓名     姓名      姓名\ncs1        cs1      cs1        cs1\ncehsi     ceshi   cs2       css2\n\n意思就是每个字段不受数据长短的影响，自动对齐\n\n各种大佬，这个要怎么才能做到呢？",
    "replies": [
        {
            "author": "浅念哥",
            "timestamp": 1524627720,
            "txt_content": " 本帖最后由 浅念哥 于 2018-4-25 11:43 编辑 \n\nMinecraft聊天栏不支持制表符，你需要使用空格处理字符串并输出。David Toledo写了一个函数帮助解决这个问题。\n/********************************************************\n* Fix string spaces to align text in minecraft chat\n*\n* @author David Toledo ([EMAIL]david.oracle@gmail.com[/EMAIL])\n* @param String to be resized\n* @param Size to align\n* @Return New aligned String\n*/\npublic static String fixFontSize (String s, int size) {\n \nString ret = s.toUpperCase();\n \nif ( s != null ) {\n \nfor (int i=0; i < s.length(); i++) {\nif ( s.charAt(i) == 'I' || s.charAt(i) == ' ') {\nret += \" \";\n}\n}\n \nint faltaEspacos = size - s.length();\nfaltaEspacos = (faltaEspacos * 2);\n \nfor (int i=0; i < faltaEspacos; i++) {\nret += \" \";\n}\n}\n \nreturn (ret);\n}复制代码\n\n\n\n\n\nforum (1).jpg (99.29 KB, 下载次数: 9)\n\n下载附件\n\n2018-4-25 11:42 上传\n\n\n\n\n\n\n来源：https://bukkit.org/threads/best- ... 66925/#post-2291649\n"
        },
        {
            "author": "yyb563421689",
            "timestamp": 1524628440,
            "txt_content": "浅念哥 发表于 2018-4-25 11:42\nMinecraft聊天栏不支持制表符，你需要使用空格处理字符串并输出。David Toledo写了一个函数帮助解决这个问 ...\n谢谢大佬，很强势！"
        },
        {
            "author": "yyb563421689",
            "timestamp": 1524635280,
            "txt_content": " 本帖最后由 yyb563421689 于 2018-4-25 13:55 编辑 \nyyb563421689 发表于 2018-4-25 11:54\n谢谢大佬，很强势！\n为什么我弄得还是对不齐呢\n\n\n\n\nC[CJHX3]5R}A8T8B2XY)6`E.png (69.2 KB, 下载次数: 3)\n\n下载附件\n\n2018-4-25 13:47 上传\n\n\n\n\n\n\nBukkit.broadcastMessage(Tabulation.fixFontSize(i+\" \", 8)+Tabulation.fixFontSize(username+\" \", 8)+Tabulation.fixFontSize(userLevel+\" \", 8)+Tabulation.fixFontSize(userExp+\" \", 8));\nBukkit.broadcastMessage(Tabulation.fixFontSize(\" \"+i, 8)+Tabulation.fixFontSize(\" \"+username, 8)+Tabulation.fixFontSize(\" \"+userLevel, 8)+Tabulation.fixFontSize(\" \"+userExp, 8));\n\nBukkit.broadcastMessage(Tabulation.fixFontSize(\" \"+i+\" \"+username+\" \"+userLevel+\" \"+userExp, 10));\n\n\n用了三种拼接的方法，都不能对齐，这是为啥嘞\n\n是我拼接的问题，还是这个函数有问题\n\n\n"
        },
        {
            "author": "yyb563421689",
            "timestamp": 1524640320,
            "txt_content": "经过我的研究并且修改了代码，最终终于实现了\n\n\n\n\n]]UJ~[(U(6ME}]Q`9@]TI.png (63.49 KB, 下载次数: 2)\n\n下载附件\n\n2018-4-25 14:52 上传\n\n\n\n\n\n        \npublic static String fixFontSize (String str, int size) {\n                if ( str != null) {\n                        int num=size-str.length();\n                        for (int i=0;i<num; i++) {\n                                str += \" \";\n                        }\n                }\n                return str;\n}\n\n\n删减了好多代码，原理是只要给这个方法传值，就在后面加上对应的空格数量，\n"
        },
        {
            "author": "pca006132",
            "timestamp": 1524640380,
            "txt_content": "yyb563421689 发表于 2018-4-25 13:48\n为什么我弄得还是对不齐呢\n字体问题...\n英文原本的字体除了I以外全部都占两个空格，所以就给每个空格和I都需要多一个空格来对齐\n但你截图里的是等宽的，那计算办法是错的，你需要自己写一个正常的。\n\n（所以这些和客户端有关的东西真麻烦）"
        },
        {
            "author": "yyb563421689",
            "timestamp": 1524642480,
            "txt_content": "pca006132 发表于 2018-4-25 15:13\n字体问题...\n英文原本的字体除了I以外全部都占两个空格，所以就给每个空格和I都需要多一个空格来对齐\n但 ...\n对，研究了下自己写出来了"
        },
        {
            "author": "咸鱼气功王",
            "timestamp": 1524642600,
            "txt_content": "yyb563421689 发表于 2018-4-25 15:12\n经过我的研究并且修改了代码，最终终于实现了\n\n        \n如果你客户端换个字体可能又炸了,而且一楼那个函数是在英文字体测试的"
        },
        {
            "author": "yyb563421689",
            "timestamp": 1524642720,
            "txt_content": " 本帖最后由 yyb563421689 于 2018-4-25 15:54 编辑 \nxiazhen3938 发表于 2018-4-25 15:50\n如果你客户端换个字体可能又炸了,而且一楼那个函数是在英文字体测试的\n应该不会炸，因为排序是没问题的，那就是显示问题了，每个数据后面有多少空格都是通过函数计算出来的，但是数据不能有中文，有中文肯定炸，占得字节和英文不一样"
        },
        {
            "author": "咸鱼气功王",
            "timestamp": 1524643080,
            "txt_content": "yyb563421689 发表于 2018-4-25 15:52\n应该不会炸，因为排序是没问题的，那就是显示问题了，每个数据后面有多少空格都是通过函数计算出来的，但 ...\n没中文....好蛋疼啊.不过先手下这个轮子了"
        },
        {
            "author": "yyb563421689",
            "timestamp": 1524643440,
            "txt_content": "xiazhen3938 发表于 2018-4-25 15:58\n没中文....好蛋疼啊.不过先手下这个轮子了\n除非判断中文，然后根据中文写一套算法，但是我目前服务器不允许注册中文名称，所以不会出现中文的"
        },
        {
            "author": "ddyy163",
            "timestamp": 1524698640,
            "txt_content": "字体确实挺重要的,光是在游戏里切换中英文,那个英文的字体都不一样"
        },
        {
            "author": "yyb563421689",
            "timestamp": 1524704520,
            "txt_content": "ddyy163 发表于 2018-4-26 07:24\n字体确实挺重要的,光是在游戏里切换中英文,那个英文的字体都不一样\n看来得想个万全之策了，暂时不研究了，"
        }
    ]
}