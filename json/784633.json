{
    "title": "使用Duplicati对服务器数据进行备份",
    "author": "578296515",
    "replyCount": 3,
    "timestamp": 1519607220,
    "txt_content": " 本帖最后由 578296515 于 2018-8-6 17:01 编辑 \n\n简介·什么是Duplicati\n支持在线存储加密备份的免费备份软件，适用于Windows，MacOS和Linux\n\n特点·为什么选择Duplicati\n多种储存方式选择\n支持本地储存，同时支持FTP，SSH，WebDav等协议。同时还支持Microsoft OneDrive, Amazon Cloud Drive & S3, Google Drive, box.com, Mega, hubiC以及其它众多网络服务商提供的服务。\n加密+增量备份\n软件支持AES-256加密备份数据，并且使用的是增量备份以节省空间\n基于Web的用户界面\nDuplicati通过在任何浏览器（甚至移动设备）上运行的Web界面进行配置。您可以随时随地的访问/配置备份。\n支持对MC服务端的热备份（无需关服备份）\n根据楼主的实际使用，本软件支持对服务器进行热备份（其实大部分软件都支持）\n自动删除旧备份\n用户可以根据备份版本（如：保存最近10个版本）以及备份时长（如：保存最近3天的所有备份）来删除旧备份，以确保不会占用过多的电脑空间\n下载·如何下载DuplicatiWindows 2.0.2.1Linux Mac以及更多其它系统请前往官网下载\n\n要求·使用Duplicati的最低要求您的服务器不能是面板服你的服务器需要Microsoft .NET Framework 4.5 【微软官方下载传送门】 【教程内实际使用】\n\n推荐·个人建议的几种实际使用方案方案1（对应基础教程）：每2~6小时进行一次备份，储存在本地的硬盘内，保存最近7~15天的备份\n好处：简单 省钱 \n坏处：服务器出现问题就彻底完蛋，没有体现出备份应有的意义\n\n方案2：自搭备份用服务器（最好在内网）+每2~8小时进行一次备份，保存最近7~15天的备份\n好处：备份与源数据不在同一个机器上，降低数据丢失概率\n坏处：如果是内网，仍有出事的可能性（如服务商跑路）且搭建需要一些技术，专门购置备份服务器，小服务器可能无法负担\n\n\n方案3：使用Google Drive/Amazon Cloud Drive/Dropbox/SkyDrive +购买储存空间 +魔法（部分需要）+每2~12小时进行一次备份，保存最近7~15天的备份\n好处：备份到了第三方平台，确保数据安全\n坏处：需要魔法上网，需要额外每月支出\n\n方案4：使用Google无限空间帐号（淘宝购买谷歌教育版帐号(google for education)）+ 魔法 + 每6~24小时进行一次备份，永久保存每一份存档\n好处：备份可以永久保存，备份到了第三方平台，除魔法上网其余均是一次性投资 \n坏处：魔法上网\n\n楼主实际个人使用的是 方案1+方案4 实际操作的方法有很多，大家可以根据自己服务器的实际情况决定，此处仅做抛砖引玉的效果，各位有其它的建议也可以在下方回复。\n\n\n基础教程·下载、安装、使用Duplicati备份到本地硬盘这边使用一台全新的Windows Server 2008的VPS作为演示设备首先先安装Microsoft .NET Framework 4.5（然而我并没有使用上面传送门下载的安装包，实际使用的是：传送门）软件安装步骤不赘述，无难点，可全程“下一步”\n安装成功后会在浏览器内弹出新页面，界面如下，如无中文可尝试刷新或在设置里修改\n\n————————————\n\n首先点击左侧的【新增备份】选择【配置新备份】\n\n————————————\n首先设置备份的名字（以后可修改），加密方式以及密码（请一定要记牢/保存好密码，如果加密，该密码是恢复数据的必备凭证）\n\n————————————\n储存的方式选择【Local folder or drive】设置好储存路径后用户名和密码对于大部分人来说可以不输入\n\n————————————\n第三步的选择项较多，也会有点学问，在此处，你可以排除掉一些你不想备份的东西，如服务器日志，崩溃日志，CoreProtect插件的数据库，Logall插件的日志文件等\n\n————————————\n此步骤各服可以根据实际情况选择，推荐尽量避开高峰期时段进行备份。虽然此软件在备份的时候不会太占CPU，但避开高峰期总是好的\n\n————————————\n最后一步里剩下的都是一些常规选项，上传分卷可以放着不动，下方第二行没汉化的是备份保存时长，目前选择的是保留3个月内的所有备份。此步骤基本上大部分人都可以直接使用默认设置\n\n\n————————————\n\n各项配置都配置好了以后，我们就可以开始第一次备份了，第一次备份会消耗较长的时间，之后因为是增量备份，消耗的时间会大幅度减少\n这里使用的是一台4核8G的VPS作为测试机，使用了我服务器目前正在使用中的服务端作为测试用的源数据。\n下图为首次备份时的画面\n\n————————————\n备份结果\n\n————————————\n讲道理，这个压缩率还是可以接受的\n————————————\n下面是我在自己正式的服务器上实际使用的效果（马赛克是因为一些其它的复杂原因，不影响实际内容）\n44G的数据基本上3分钟就可以备份完（储存在本地） 182个备份版本实际占用空间仅119G\n\n\n进阶教程·将Duplicati的备份数据储存到Google Drive上\n其实……这个教程没有什么特别能写的部分\n1A.（选）淘宝购入一个Duplicati的google for education帐号（无限空间）\n1B.使用自己的帐号，购入储存空间 1.99刀/月（19.99刀/年）100G基本够大部分服务器使用了\n\n2.自行解决不限流量的魔法上网方案（推荐自搭）\n\n3.其余步骤基本同上，步骤2有变化，其余一样。\n\n\n\n后记·一些个人想说的话\n最近老是看到有一些腐竹在说自己服务器被炸/误操作后无法恢复原样只能重新换周目，少数腐竹有备份也是十天半个月一次的手动备份。数据无价，我相信很多腐竹都有和我一样的感想。其实我自己的服务器在13年就已经实现自动备份了（利用好压的命令行），但是那只是本地备份，并不支持异地。17年春天的时候找到了这个备份软件，自己实际使用了1年后觉得应该告诉更多的人。讲道理，我觉得这个教程其实更多的是在推荐这个软件，以及这个软件的一些玩法（用法），我的玩法/想法/用法更多的还是基于自己的服务器实际情况，每个服务器都有自己的情况，也可以根据自己的实际情况进行设置。\n",
    "replies": [
        {
            "author": "Mr.Seven590",
            "timestamp": 1519760760,
            "txt_content": "非常感谢，真的很有用，介绍和资料也非常详细！\n\n只是今天把人气和金粒都发完了，有点尴尬\n\n官方是不是应该给你点广告费？(笑..."
        },
        {
            "author": "Hanssc",
            "timestamp": 1531207860,
            "txt_content": "这个能否对mysql热备份。"
        },
        {
            "author": "578296515",
            "timestamp": 1531360560,
            "txt_content": "Hanssc 发表于 2018-7-10 03:31\n这个能否对mysql热备份。\n可以，我自己有这么做\n噫，字数不够不给发出来"
        }
    ]
}