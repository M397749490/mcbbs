{
    "title": "MC1.8：指令方块{CommandStats}教程",
    "author": "PotatoMaster101",
    "replyCount": 27,
    "timestamp": 1404387300,
    "txt_content": " 本帖最后由 PotatoMaster101 于 2014-7-24 16:47 编辑 \n\n大家好。今天出了14w27b，在14w27a中出来了一个新的dataTag：{CommandStats}。这个dataTag是控制积分板用的，适合做冒险地图什么。这个功能比较强大。目前有4个功能：Block，Item，Entity和Success。这个的用处是，可以探测玩家背包里有多少个某个物品，探测地图里有多少个生物等等。\n\nBlocks - 控制方块。指令方块放置了几个方块，那就会把积分变到几分。比如：如果是/setblock，那就是1，因为/setblock只能放一个方块。如果是/fill，那就可以很多了，看玩家/fill多少个方块，然后就显示多少。\nItems - 控制物品。用这个可以探测玩家身上带了几个指定的物品。这个和/clear结合，把玩家的某个物品删除0个，然后Item就会显示出玩家物品的数量。\nEntities - 探测生物。比如：使用/tp @e ~ ~ ~，可以把所有生物TP到他们当前的位置，然后Entity就会显示出有多少个输出，也就是多少个生物。\nSuccess - 控制执行的次数。比如如果是Item的话，/clear之后就会探测有多少个物品，但是Success还是1，因为就执行了一次。\nQuery - 游戏晚点再加入的，控制其他一些东西的次数。比如：/time，来告诉玩家时间是多少，或者/xp，来告诉玩家自己有多少XP等等。这个就不发教程了，详情请看Tyson的教程。\n\n之后来说下NBT的格式。格式：{CommandStats:{AffectedItemsName:\"Items玩家\",AffectedItemsObjective:\"积分板变量\",\nAffectedBlocksName:\"Blocks玩家\", AffectedBlocksObjective:\"积分板变量\",\nAffectedEntitiesName:\"Entities玩家\", AffectedEntitiesObjective:\"积分板变量\",\nSuccessCountName:\"Success玩家\",SuccessCountObjective:\"积分版变量\"}}复制代码大家看见。NBT的格式里面有4个刚才说的东西：Blocks，Items，Entities和Success。本人推荐把积分板变量都改成相同的变量，这样比较方便。Blocks玩家，Entities玩家什么，都是积分板里面的玩家系统。但是本人推荐使用假名。（官方格式来自Wiki）\n\n==============分割线===============\n\n之后来教大家如何使用这个NBT。首先要做很多准备工作，比如创建积分板变量，创建假名什么。\n首先创建一个积分板变量。指令方块里输入：\n/scoreboard objectives add (变量名字) dummy复制代码变量名字地方随便填写。本人这里就使用“14w27b”这个名字。\n之后，创建假名。这里也是和刚才一样。指令方块里分别输入：\n/scoreboard players set (假名) (变量名字) 0复制代码这里需要4个假名，因为有4个选项。所以，放置4个指令方块，然后分辨打入4个不同的假名。本人的假名就使用Blocks，Items，Entities和Success。（注意，变量名字要和刚才创建的相同）。\n之后，设置积分板的显示。这个很简单，使用setdisplay：\n/scoreboard objectives setdisplay sidebar (变量名字)复制代码这条指令把积分板变量显示在游戏画面右边。输入完这条指令后不会出现东西，因为还未加入积分。所以，我们要把假名的积分全部设置成0（默认）。\n现在把积分板变量里的4个假名分数都变成0。指令就是：\n/scoreboard players set (假名) (积分板变量) 0复制代码有4个假名，所以就要把4假名都设置成0。一个一个的设置。\n\n最终效果就是在画面右边显示积分板。截图：\n\n\n\n\n1.jpg (87.29 KB, 下载次数: 32)\n\n下载附件\n\n2014-7-3 17:48 上传\n\n\n\n\n\n\n之后来控制显示使用的指令方块。地上放一个指令方块，然后里面输入：\n/blockdata ~ ~ ~ \n{CommandStats:{AffectedItemsName:\"Items玩家\",AffectedItemsObjective:\"积分板变量\",\nAffectedBlocksName:\"Blocks玩家\", AffectedBlocksObjective:\"积分板变量\",\nAffectedEntitiesName:\"Entities玩家\", AffectedEntitiesObjective:\"积分板变量\",\nSuccessCountName:\"Success玩家\",SuccessCountObjective:\"积分版变量\"}}复制代码大家看见，这个格式就和刚才一样。这里使用/blockdata给指令方块注入积分板的信息。这里有4个玩家:Blocks, Entities, Success和Items。这4个玩家就分别使用刚才创建的4个假名。然后积分板变量就和刚才创建的相同。\n\n比如像我这里，就是：/blockdata ~ ~ ~ \n{CommandStats:{AffectedItemsName:\"Items\",AffectedItemsObjective:\"14w27b\",\nAffectedBlocksName:\"Blocks\", AffectedBlocksObjective:\"14w27b\",\nAffectedEntitiesName:\"Entities\", AffectedEntitiesObjective:\"14w27b\",\nSuccessCountName:\"Success\",SuccessCountObjective:\"14w27b\"}}复制代码假名不同，变量一样。\n\n（当然，/setblock也可以使用。）\n\n之后执行就可以了。然后指令方块会自己注入所有的信息。注意：只有注入的指令方块才可以执行。所以注入完毕后别打掉指令方块，否则要重新注入。\n注入完毕后清空掉指令方块里的指令，然后就可以随便的打了。比如：/fill ~ ~1 ~ ~ ~3 ~ minecraft:stone 0 replace ,那么指令方块就会把上面3格换成石头。然后看积分板，控制Blocks的假名就会实现，把0分换成3分，因为换了3个方块。然后Success处也会+1分，因为执行了一次就成功。\n截图：\n\n\n\n\n\n2.jpg (130.32 KB, 下载次数: 31)\n\n下载附件\n\n2014-7-3 18:00 上传\n\n\n\n\n\n\n之后，控制Entities，Items都一样。Entities的话，那么就可以使用 /tp @e ~ ~ ~ ，把所有的生物移到他们当前位置（也就是没有移动），然后Entities就会显示所有移动的生物数量：\n\n\n\n\n\n3.jpg (51.52 KB, 下载次数: 34)\n\n下载附件\n\n2014-7-3 18:02 上传\n\n\n\n\n\n之后的Items就不多说了。使用/clear或者/give什么，可以增加Items假名的积分。\n\n之后，如果要输出的话本人就不多说了，过于简单。可以用/testfor，execute或者/scoreboard players test。\n\n最后，要清空积分板的话那就把4个假名的分数都变成0。\n\n----------------分割------------------\n\n之后，教大家使用/stats。这个/stats，也是新出的指令，配合{CommandStats}。首先，指令格式是：\n/stats <entity> <对象> <格式> <stat> <积分板假名> <积分板变量>复制代码这个是使用在生物上面的。之后，还有一个使用在指令方块上面的：\n/stats block <指令方块XYZ> <格式> <stat> <积分板假名> <积分板变量>复制代码\n这些指令我就不多说了，和上面的一样。主要是把NBT换成了指令而已。\n最后引用Janghr的推断：土豆君依旧很给力\n所谓的变量名字、假名我以前捣鼓计分板时实际上是把它们作为记录体格式的变量来统计的。这里计分板我看就是个指示统计输出的作用。\n按说计分板数据的输出是一个比较纠结的问题，通过命令方块本身NBT存储这些数据，最好能作为指令里的参数发挥作用，这样可以类似于编程里i++等的作用，简单循环比如造伸展造桥的效果什么的可以用较少的指令方块来完成。\n另附：无聊时制作的{CommandStats}数怪器。---下载地址---\n\n进入后按下绿色按钮就可以开始了。并不是所有的生物，只是本人预设的一些。\n\n=========END==========\n\n",
    "replies": [
        {
            "author": "plasma",
            "timestamp": 1404387420,
            "txt_content": "1.8的指令诞生好快"
        },
        {
            "author": "xcc",
            "timestamp": 1404391020,
            "txt_content": "据说命令方块可以远程打开红石电路\n命令是？"
        },
        {
            "author": "leavessoft",
            "timestamp": 1404393120,
            "txt_content": "支持下lz～:-)"
        },
        {
            "author": "jianghr",
            "timestamp": 1404394320,
            "txt_content": "土豆君依旧很给力{:10_512:}\n所谓的变量名字、假名我以前捣鼓计分板时实际上是把它们作为记录体格式的变量来统计的。这里计分板我看就是个指示统计输出的作用。\n按说计分板数据的输出是一个比较纠结的问题，通过命令方块本身NBT存储这些数据，最好能作为指令里的参数发挥作用，这样可以类似于编程里i++等的作用，简单循环比如造伸展造桥的效果什么的可以用较少的指令方块来完成。"
        },
        {
            "author": "Miedie",
            "timestamp": 1404394980,
            "txt_content": "有没有一些1.6.4的教程。。。"
        },
        {
            "author": "1411465506",
            "timestamp": 1404395700,
            "txt_content": "你把论坛怎么了。。我打开饿不是你的半岛生存，结果跳出这帖子"
        },
        {
            "author": "zhanglitiger",
            "timestamp": 1404402180,
            "txt_content": "能不能在详细点 我新手啊"
        },
        {
            "author": "Milk_",
            "timestamp": 1404427080,
            "txt_content": "命令方块啊红石什么的 我全都是一头雾水"
        },
        {
            "author": "Rxper迷恋",
            "timestamp": 1404434760,
            "txt_content": "右边那个小显示栏怎么弄出来啊  0 0"
        },
        {
            "author": "PotatoMaster101",
            "timestamp": 1404435720,
            "txt_content": "Rxper迷恋 发表于 2014-7-4 08:46\n右边那个小显示栏怎么弄出来啊  0 0\n/scoreboard的setdisplay显示的"
        },
        {
            "author": "PotatoMaster101",
            "timestamp": 1404436020,
            "txt_content": "xcc 发表于 2014-7-3 20:37\n据说命令方块可以远程打开红石电路\n命令是？\n/setblock (输出坐标) minecraft:redstone_block 0 replace\n\n或者使用积分板"
        },
        {
            "author": "zjjxhy1567",
            "timestamp": 1404436080,
            "txt_content": "不错不错，挺好的，对我很有帮助"
        },
        {
            "author": "xcc",
            "timestamp": 1404436140,
            "txt_content": "PotatoMaster101 发表于 2014-7-4 09:07\n/setblock (输出坐标) minecraft:redstone_block 0 replace\n\n或者使用积分板\n谢了\n我最近正在弄RPG服务器"
        },
        {
            "author": "angelo",
            "timestamp": 1404437160,
            "txt_content": "话说土豆君\n计分版的scoreboard players reset 这个指令是不是还有bug，为什么我想去除显示分数的显示栏都去除不了。。。\n还有已收藏。对于我做地图有帮助！"
        },
        {
            "author": "qpqp",
            "timestamp": 1404440100,
            "txt_content": "楼主，求1.8的客户端"
        },
        {
            "author": "sylqiuyifeng",
            "timestamp": 1404440280,
            "txt_content": "angelo 发表于 2014-7-4 09:26\n话说土豆君\n计分版的scoreboard players reset 这个指令是不是还有bug，为什么我想去除显示分数的显示栏都 ...\nreset对象为*才能把连非真正玩家的数据也重置"
        },
        {
            "author": "sylqiuyifeng",
            "timestamp": 1404440340,
            "txt_content": "老实说这新功能就是testfor的扩展版嘛……\n非要弄那么复杂就不能简单点吗……"
        },
        {
            "author": "angelo",
            "timestamp": 1404440340,
            "txt_content": "sylqiuyifeng 发表于 2014-7-4 10:18\nreset对象为*才能把连非真正玩家的数据也重置\n话说wiki上面没写，谢谢了！"
        },
        {
            "author": "angelo",
            "timestamp": 1404440700,
            "txt_content": "sylqiuyifeng 发表于 2014-7-4 10:19\n老实说这新功能就是testfor的扩展版嘛……\n非要弄那么复杂就不能简单点吗…… ...\n命令方块也来也偏向也编程了"
        },
        {
            "author": "1425360905",
            "timestamp": 1404446580,
            "txt_content": "不明觉厉......"
        },
        {
            "author": "q3878217",
            "timestamp": 1404446760,
            "txt_content": "你有见过这么标准的十五个字回复吗"
        },
        {
            "author": "PotatoMaster101",
            "timestamp": 1404457020,
            "txt_content": "qpqp 发表于 2014-7-4 10:15\n楼主，求1.8的客户端\n正版用户官方自己升级的\n\n盗版不知道"
        },
        {
            "author": "qpqp",
            "timestamp": 1404562740,
            "txt_content": "PotatoMaster101 发表于 2014-7-4 14:57\n正版用户官方自己升级的\n\n盗版不知道\n我去正版服务器为什么不是1.8的"
        },
        {
            "author": "PotatoMaster101",
            "timestamp": 1404600900,
            "txt_content": "qpqp 发表于 2014-7-5 20:19\n我去正版服务器为什么不是1.8的\n因为1.8还没出 现在只有预测 不稳定 所以服务器还是1.7 正式版来了后再出1.8"
        },
        {
            "author": "kongbaiyo",
            "timestamp": 1404651420,
            "txt_content": " 本帖最后由 kongbaiyo 于 2014-7-6 20:58 编辑 \njianghr 发表于 2014-7-3 21:32\n土豆君依旧很给力\n所谓的变量名字、假名我以前捣鼓计分板时实际上是把它们作为记录体格式的变量 ...\n这种事情的发生是迟早的了= =\n现在MC的命令方块越来越向编写程序的思想发展了越来越多的输入接口和输出接口了= =\n控制部分也会很快出现的\n"
        },
        {
            "author": "hacccc",
            "timestamp": 1434275520,
            "txt_content": "请问大神的/stats命令可以详细一些吗？我不会使用。"
        },
        {
            "author": "Fox_狐狸",
            "timestamp": 1434285780,
            "txt_content": "原来是红石大湿，我们交个朋友吧。。。"
        }
    ]
}