{
    "title": "Docker Forge服务器镜像之个人版",
    "author": "CodeHz",
    "replyCount": 15,
    "timestamp": 1451556600,
    "txt_content": " 本帖最后由 CodeHz 于 2016-1-1 07:26 编辑 \n\n所有预计要支持的版本均已构建。一直都是开放源代码的->>>>https://github.com/codehz/Docker-Forge\n\n镜像已经在hub.docker.com上发布，（更新更快一点，比如在docker官方源的1.8及以上版本就是用java8的）\n\n比VPS更便宜！比只提供网页控制面板的主机商更靠谱！你开服的全新选择CaaS，本镜像以优化使用体验，真正做到部署即用，无需复杂的文件处理，完整的RCON功能，实现你私人开服的梦想！\n\n\n\n和之前那个http://www.mcbbs.net/thread-535923-1-1.html的关系：那个是某个外国人制作的镜像，不适合国内的环境，我在第二次部署的时候遭遇了N多问题，写一半就写不下去了，不指望有人能用的上（太折腾了），大多数都和众所周知的网络环境有关，本来是不打算发表的，结果点击存为草稿就被发出去了，还被审核通过了，于是我就决定自己做一个镜像，其实并不难~\n\n当然那个帖子也欢迎去看看~\n\n所以我在这里重新开一个坑。。。\n\n这回可以一次性写完了：）（仍然以时速云为例，没别的原因，只是因为我只用过这个，不好评价别的。）\n\n安装教程\n\n注册时速云\n\n这个就不具体写了。。。国内的网站，注册账号而已。\n\n还有就是充值的问题，时速云的免费套餐只能使用512内存的配置，开我的世界服务器是肯定不够用的，所以你需要充值，而赠送的39元并不能在1G内存以上配置的容器中使用，所以你应该知道该多少，价格什么的，官网上有。。\n\n\n部署\n\n\n如果你已经注册了的话，直接访问软件地址，点击部署镜像，就可以了~是不是很简单的样子，并不是，有几个设置你是必须要去修改：\n镜像版本：选择需要的版本，理论上里面有的都可以用~(forge的安装在生成镜像好后就好了，所以不用本地安装)\n\n服务名称：这个你自己写，我不做参考\n\n选择集群：目前只能选择北京二区，原因可以自己看储存的说明\n\n容器配置：选择1GB及以上配置，如果选择2GB的话需要在环境变量这种修改配置，相信大家都知道\n\n服务类型：有状态服务，如果你想放MOD和保持地图的话~\n\n然后会让你创建或选择储存卷\n\n创建的时候大小一点定要填1024以上（那个提示是假的）~不过话说回来你就算不这样做他也会把你调到1024MB。。。不要担心费用的问题，因为这个是按需收费，用不到的就不会收费\n\n创建完就要选择存储卷，选择你刚才创建的吧。\n\n然后就是高级设置，那些设置如果看不懂就不要动！\n\nJAVA_XMX和JAVA_XMS这个大家都知道的如果内存为1GB的话就不用改了（由于我配置文件的BUG，实际上你需要改的是MINECRAFT_OPTS，重要！）\n然后就是MINECRAFT_EULA这个了，为了尊重Mojang默认是false的，你需要手动修改成true才可以正常启动（我在我的代码中强制检查了这个环境变量）\n\n还有就是DEFAULT_OP，你不改的话默认OP就是我啦\n\n还有就是RCON_PASSWORD，密码必须修改，虽然端口会被隐藏，但是时速云的出口ip是部分共享的（而扫描端口并不是什么难事），所以可能会被熊孩子误伤！当然你可以直接关闭RCON，把ENABLE_RCON改成false就好了，还要把底部的容器端口映射删除25575的那个。。\n\nONLINE_MODE决定了是否验证正版，自己决定吧\n\n\n部署完会自动启动，等待他运行之后点击进去看日志\n\n\n\n\n捕获.PNG (133.32 KB, 下载次数: 31)\n\n下载附件\n\n2015-12-31 18:12 上传\n\n\n\n\n\n\n如果这样的话就初步成功了。服务地址第一个就是我的世界地址，第二个就是RCON地址~\n\n试试登陆吧！\n\n建议启动服务器后验证一下能否登陆再看下面的内容\n\nMOD/地图管理\n\n众所周知Forge服务器是支持mod的，所以大家可以放自己的mod到上面去。那么方法是什么呢？我本来是想介绍通过架设ssh服务器的，但是考虑到这个方法太过复杂，不适用与所有人，有考虑到时速云近期会对网页端文件管理做一些升级，所以就介绍一个通过页端管理的方法了\n\n（安全起见，所有操作都建议在服务端已经停止的情况下进行）\n\n\n\n\n捕获2.PNG (37.42 KB, 下载次数: 22)\n\n下载附件\n\n2015-12-31 17:42 上传\n\n\n\n\n\n\n打开存储与备份，点击北京二区，然后点击你创建的存储卷\n\n\n\n\n\n捕获2.PNG (40.25 KB, 下载次数: 28)\n\n下载附件\n\n2015-12-31 17:46 上传\n\n\n\n\n\n\n底部有导出文件按钮，点击后需要输入手机验证码才可以下载\n稍等片刻，下载后解压，你将会看到这些内容\n\n\n\n\n捕获2.PNG (53.37 KB, 下载次数: 31)\n\n下载附件\n\n2015-12-31 17:49 上传\n\n\n\n\n\n\n想怎么改怎么改吧，相信你会的~注意一点，你的所有修改都会覆盖环境变量中设置的值（但是环境变量不会变，只是效果被覆盖了）\n\n上传之前，可以删除不需要修改的文件（目前导入功能只会覆盖和增加，不会删除原有内容）（换句话说，你不能通过这种方式删除服务端的地图）\n\n导入文件要求zip文件，你需要将目录内的所有文件打包成zip，错误的打包方式将会破坏云端的目录结构，什么才是正确的呢，你可以和你下载下来的比较一下，相同文件的相对路径应该是相同的\n\n\n删除地图的暂时解决方案（时速云官方求跟进，增加云端删除文件夹功能）\n\n只能是使用ssh啦，可以参考http://www.mcbbs.net/thread-535923-1-1.html的对应章节，然后用WinSCP删除，同样要注意要把服务器先停止了~\n\n\n\n还有什么问题吗？\n\n",
    "replies": [
        {
            "author": "fu_xue",
            "timestamp": 1451909160,
            "txt_content": "不明觉厉。有空试试。镜像是什么鬼"
        },
        {
            "author": "CodeHz",
            "timestamp": 1451972100,
            "txt_content": "fu_xue 发表于 2016-1-4 20:06\n不明觉厉。有空试试。镜像是什么鬼\n镜像就是Docker封装应用的一个格式。。。（其实就是一堆文件打包在一起，其中有一个关键配置文件而已）。\nDocker可不要在自己的机子上运行哦(大神无视。。。主要这篇文章是给小白的。。。)\n你需要用帖子中给的方法或者自己找一个CaaS云提供商（推荐时速云只是因为我只用过这一种，其他的操作步骤不太相同）"
        },
        {
            "author": "fu_xue",
            "timestamp": 1452057420,
            "txt_content": "可以开服吗？"
        },
        {
            "author": "CodeHz",
            "timestamp": 1452130620,
            "txt_content": "fu_xue 发表于 2016-1-6 13:17\n可以开服吗？\n这个就是服务端的啊~不过需要docker环境——专门为容器云架构提供的开服方案"
        },
        {
            "author": "fu_xue",
            "timestamp": 1452140820,
            "txt_content": "跟着教程做就好了？我试试。顶楼主"
        },
        {
            "author": "CN青春",
            "timestamp": 1452141300,
            "txt_content": "标题: RE: Docker Forge服务器镜像之个人版5447787878744"
        },
        {
            "author": "Rioad",
            "timestamp": 1452914400,
            "txt_content": "顶一个，不过，楼主，为什么不能加插件？？"
        },
        {
            "author": "CodeHz",
            "timestamp": 1452921900,
            "txt_content": "Rioad 发表于 2016-1-16 11:20\n顶一个，不过，楼主，为什么不能加插件？？\n都说了是Forge服务器。。。不过有需要的话，我哪天，也可以做一个插件服。。。基本上只要本地能用的，经过简单设置就能在Docker上运行。。"
        },
        {
            "author": "Rioad",
            "timestamp": 1452924600,
            "txt_content": "CodeHz 发表于 2016-1-16 13:25\n都说了是Forge服务器。。。不过有需要的话，我哪天，也可以做一个插件服。。。基本上只要本地能用的，经 ...\n{:10_512:}{:10_512:}坐等{:10_512:}"
        },
        {
            "author": "q1738083052",
            "timestamp": 1461749520,
            "txt_content": "快点出插件版吧"
        },
        {
            "author": "philotop",
            "timestamp": 1463882520,
            "txt_content": "特意来回个帖子"
        },
        {
            "author": "岩皇",
            "timestamp": 1463884800,
            "txt_content": "楼主不知道docker是共享资源么，从某种角度上说，和网页差不了太多，，而且也是基于一个系统呢，而且docker也不便宜！"
        },
        {
            "author": "CodeHz",
            "timestamp": 1464086040,
            "txt_content": "岩皇 发表于 2016-5-22 10:40\n楼主不知道docker是共享资源么，从某种角度上说，和网页差不了太多，，而且也是基于一个系统呢，而且docker ...\n额,表示我本来是在自己的服务器上弄的 - docker化之后更容易配置,至少端口的管理方面就很好 - 然后我发现现在还有docker的网站,然后就发布出来了 - 我总不能宣传说首先你得有一台服务器这样吧..."
        },
        {
            "author": "岩皇",
            "timestamp": 1464405900,
            "txt_content": "CodeHz 发表于 2016-5-24 18:34\n额,表示我本来是在自己的服务器上弄的 - docker化之后更容易配置,至少端口的管理方面就很好 - 然后我发现 ...\ndocker确实也没便宜多少，但是易于管理这一方面我确实不做否认，阿里云的学生云10块钱一个月，差不多也够用啊"
        },
        {
            "author": "无色橘子",
            "timestamp": 1524577320,
            "txt_content": "手机上可以用吗？"
        }
    ]
}