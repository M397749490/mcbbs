{
    "title": "skillapi问题",
    "author": "dddfly",
    "replyCount": 11,
    "timestamp": 1542457500,
    "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽",
    "replies": [
        {
            "author": "sistwier",
            "timestamp": 1542457500,
            "txt_content": "hapydoo 发表于 2018-11-19 22:52\n我怀疑无法生效的原因是\n第二列的Damage  Buff，是在自己攻击生效后再给予自身伤害加成，导致这个伤害加 ...\n我在我的服务器里做了一个技能，是玩家给自己施加一个持续1分钟的Flag，在玩家攻击时候，如果有这个Flag，就有一定几率（取决于敏捷能力的大小和职业自身的特定）触发一个暴击，暴击伤害基础为180%并受到灵巧属性的加成。\n这其中我采用的机制就是在攻击时附加Flag条件和概率条件，满足Flag条件时有概率触发一个针对自身的（180+灵巧属性）%的Damage Buff，这个buff只持续0.01秒。同时也会在0.01秒之后清除身上的Flag。\n实测有效，Flag会正确的清除、并会正确计算敏捷的概率加成和灵巧的额外暴击伤害加成。长期实践后我认为这个插件的触发器触发的事件，都会是和触发器视为同时发生。"
        },
        {
            "author": "中华博",
            "timestamp": 1542508560,
            "txt_content": "Damage Buff"
        },
        {
            "author": "hapydoo",
            "timestamp": 1542519480,
            "txt_content": "只是普通攻击伤害的话，应该用不到变量\n分为两块，整体思路如下：\n      主动释放→目标自己→给自己添加一个标签，时间6秒，标签名要记住\n\n      造成攻击时释放→目标自己→条件：标签（名字为上面设置的标签名）→DamageBuff，数值为1.2→移除标签\n\n还有问题请私信"
        },
        {
            "author": "dddfly",
            "timestamp": 1542542160,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "dddfly",
            "timestamp": 1542548400,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        },
        {
            "author": "sistwier",
            "timestamp": 1542610380,
            "txt_content": "dddfly 发表于 2018-11-18 21:40\n我这样设计对吗？\n不过我这样设计没有反应伤害还是没变\n我看了一下3楼说的思路是没错的。\n但是具体实现上，这两个触发器最好分开，因为cast是主动的触发器，其他的触发器都属于被动类。\n你可以再做一个技能，把Physical Damage触发器及其下面的内容都放进去，然后也把这个技能给同一个职业就好了。\n如果这样改了以后，还是不能起效，建议在Condition:Flag下面建立一个Mechanic:Delay（延迟），设置一个0.01秒的延迟，然后把Mechanic:Flag Clear放到这个延迟下面，让清除标签延迟0.01秒。避免判定上出现矛盾。"
        },
        {
            "author": "hapydoo",
            "timestamp": 1542638520,
            "txt_content": "dddfly 发表于 2018-11-18 21:40\n我这样设计对吗？\n不过我这样设计没有反应伤害还是没变\n不好意思是我的失误。。\n第二个的Damagebuff只是增加自己接下来某一段时间内的伤害，和Damage完全不等效。希望没有造成误导。\n\n唔。这样子可能会比较麻烦，如果你是skapi免费版的，会比较麻烦一点，并且由于我没有实际试过不保证一定实现\n如果你是付费版，只要调用一下你的伤害变量就行，我先粗略讲一下，就是在主动释放的下方加两个，一个是记录你的攻击变量，另一个是将该变量x1.2倍，然后将普通攻击释放那边的Damage Buff改为Damage，数值填变量的记录名"
        },
        {
            "author": "dddfly",
            "timestamp": 1542638820,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "hapydoo",
            "timestamp": 1542639120,
            "txt_content": "sistwier 发表于 2018-11-19 14:53\n我看了一下3楼说的思路是没错的。\n但是具体实现上，这两个触发器最好分开，因为cast是主动的触发器，其他 ...\n我怀疑无法生效的原因是\n第二列的Damage  Buff，是在自己攻击生效后再给予自身伤害加成，导致这个伤害加成无法影响之前的攻击\n也有可能是我弄复杂了\n我不确定的是skapi的物理攻击是从左键按下去的那一刻生效，还是从对目标造成伤害后生效"
        },
        {
            "author": "hapydoo",
            "timestamp": 1542639360,
            "txt_content": "你用的是中文编辑器吗？。。\n中文编辑器落后了好几个版本，某似没有变量储存这一功能，我可能要等到周末使用电脑后才好详细讲，楼上那位的方法你也可以先尝试"
        },
        {
            "author": "sistwier",
            "timestamp": 1542641040,
            "txt_content": "hapydoo 发表于 2018-11-19 22:52\n我怀疑无法生效的原因是\n第二列的Damage  Buff，是在自己攻击生效后再给予自身伤害加成，导致这个伤害加 ...\n这个我通过大量的经验是知道的，如果你在攻击同时获得一个Damage Buff，这个buff是会作用于这次攻击的。所以应该不是这个原因。但是如果你攻击同时清除身上的Flag，确实有可能造成判定的失败。\n也就是说，skillapi的任何在攻击时候发生的事件，都会和这次攻击视为在同一个瞬间触发的。"
        }
    ]
}