{
    "title": "[安全|网页]WebSafeLogin —— 基于网页的用户登录验证，从此和假人说再见[1.7.10+]",
    "author": "1157173310",
    "replyCount": 11,
    "timestamp": 1583144940,
    "txt_content": " 本帖最后由 1157173310 于 2020-3-2 23:29 编辑 \nWebSafeLogin\n基于Spigot +PHP +Redis的高性能机器人验证插件写在开头最近由于疫情关系，在家无聊，加上最近在学习Java，突然想到的一个想法，然后花了一天的时间，完成了代码的编写和调试，代码也将会开源给大家，方便初学者学习。插件介绍\n玩家进入服务器时，插件会检索数据库，当玩家的名字和IP在数据库中有记录时，才会允许玩家连入服务器，否则会提示玩家进入网页端进行验证，验证通过，才可以加入服务器，最大程度防止假人连入服务器。\n优势\n不与其他反压测插件冲突基于国内的GeeTest人机验证服务，相较于google的方案，可以防止玩家存在加载不了验证的问题，同时，GeeTest为免费服务，腐竹只需要获取到密钥就可以使用验证。验证有效期完全可自定义\n图片预览\n\n\n\n\n\nQQ图片20200302174628.png (7.86 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-2 18:04 上传\n\n\n\n\n\n\n\n\n\nQQ图片20200302174621.png (46.57 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-2 18:04 上传\n\n\n\n\n配置文件redis:\n  ip: 127.0.0.1 # Redis服务器IP\n  port: 6379 # 端口\n  db: 0 # 数据库，要用哪个就写哪个，只能为数字\n  password: password # Redis服务器密码\n复制代码\n插件部署环境要求：\nPHP 版本>5，需要安装有Redis扩展，以便对Redis数据库进行操作Redis数据库，建议本地安装，网上有安装教程Web服务器，用户要能访问到验证网站\n首先下载文中给出的插件包，并且解压，将其中的.jar文件放入服务器plugins目录内，重载服务器得到配置,按照上方配置文件说明进行配置。配置完成后需要重载插件，这里可以使用服务器的reload命令，或者使用Yum插件的重载，重载插件配置连接redis服务器，连接成功插件将提示。\n\n\n\n\nSnipaste_2020-03-02_18-15-11.png (5.57 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-2 18:15 上传\n\n\n\n\n\n这里提示的是连接失败，正常应该为连接成功。\n在服务器中部署完成后，将上方下载的压缩包中的“网页端.zip”上传到服务器的网页目录中并解压，接着修改其中的配置文件：\nconfig/config.php\n<?php\n/**\n * 程序配置文件\n */\ndefine(\"CAPTCHA_ID\", \"\");  //ID\ndefine(\"PRIVATE_KEY\", \"\"); //KEY\n\ndefine(\"REDIS_IP\", \"127.0.0.1\"); //Redis IP\ndefine(\"REDIS_PORT\", 6379); //端口\ndefine(\"REDIS_PASSWORD\", \"\"); //密码\ndefine(\"REDIS_DB\", 2); //数据库ID，要和上面服务器端的相同\ndefine(\"VALIDATE_TIMEOUT\", 60); //验证有效期，默认60秒，60秒后玩家需要重新验证才能进入服务器复制代码ID和KEY获取方法：进入极验官网，注册账号，然后选择行为验证，新增验证，填写相应信息后就可以获得ID和key\n官网地址：https://gtaccount.geetest.com/sensebot/overview\n\n\n\n\nSnipaste_2020-03-02_18-19-40.png (48.85 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-2 18:19 上传\n\n\n\n\n\n全部部署完成，玩家进入验证页面login.html，验证后应该可以正常进入服务器，如果发生错误则进行排查。\n常见问题\n页面提示404或者403，请检查你的环境设置以及目录提交验证报错后端出错，请检查redis连接是否正常\n\n插件下载本体下载：点我\n源码下载：点我\n\n\n本插件所用所有代码均为原创,不存在借用/抄袭等行为\n\n\n\n\n",
    "replies": [
        {
            "author": "_DIM_",
            "timestamp": 1583149380,
            "txt_content": "\n\n\n\n\nQQ截图20200302194314.png (73.78 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-2 19:43 上传\n\n\n\n\n\n\n\n\nQQ截图20200302194257.png (12.23 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-2 19:43 上传\n\n\n\n\n\n\n？？？？\n"
        },
        {
            "author": "神崎长闲",
            "timestamp": 1583149620,
            "txt_content": "我有个疑问，既然都用网页认证了，为什么不从一开始注册也从网页端注册？直接免去了后续的步骤"
        },
        {
            "author": "1157173310",
            "timestamp": 1583162940,
            "txt_content": "酷车手BB弹 发表于 2020-3-2 19:43\n？？？？\n手滑点错了，已经修改"
        },
        {
            "author": "1157173310",
            "timestamp": 1583163000,
            "txt_content": "Kanzaki·神崎 发表于 2020-3-2 19:47\n我有个疑问，既然都用网页认证了，为什么不从一开始注册也从网页端注册？直接免去了后续的步骤 ...\n主要是防假人（ 无聊才写的插件"
        },
        {
            "author": "兰苑伊城",
            "timestamp": 1583518140,
            "txt_content": "没学会怎么用，感觉很不错，明天再试试。"
        },
        {
            "author": "1157173310",
            "timestamp": 1583557200,
            "txt_content": "兰苑伊城 发表于 2020-3-7 02:09\n没学会怎么用，感觉很不错，明天再试试。\n嗯，感谢支持"
        },
        {
            "author": "496828324",
            "timestamp": 1583558100,
            "txt_content": "很好的预防熊孩子插件"
        },
        {
            "author": "TheStars666",
            "timestamp": 1583925600,
            "txt_content": "只能验证，不支持网页输入账号密码登入嘛"
        },
        {
            "author": "1157173310",
            "timestamp": 1584158640,
            "txt_content": "TheStars666 发表于 2020-3-11 19:20\n只能验证，不支持网页输入账号密码登入嘛\n是的 这部分建议authme"
        },
        {
            "author": "将就吧",
            "timestamp": 1584163680,
            "txt_content": "类似外置登陆吗，还是说就是."
        },
        {
            "author": "1157173310",
            "timestamp": 1584177780,
            "txt_content": "将就吧 发表于 2020-3-14 13:28\n类似外置登陆吗，还是说就是.\n就是外置的一个验证"
        }
    ]
}