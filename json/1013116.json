{
    "title": "如何编程自定义一个物品禁止叠加",
    "author": "Matrixchung",
    "replyCount": 9,
    "timestamp": 1586427120,
    "txt_content": "\n\n\n\n\nimage.png (13.42 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-9 18:11 上传\n\n\n\n\n\n目前通过编程实现了加lore 和改名字\n\n\n\n\nimage.png (6.08 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-9 18:12 上传\n\n\n\n\n\n如图所示\n但是不知道如何添加禁止叠加的属性，求问！\n谢谢大佬\n",
    "replies": [
        {
            "author": "詠葉",
            "timestamp": 1586427900,
            "txt_content": "6666666666666666"
        },
        {
            "author": "洞穴夜莺",
            "timestamp": 1586427960,
            "txt_content": "带nbt不就叠不上去了吗？"
        },
        {
            "author": "瘟疫威胁全世界",
            "timestamp": 1586428440,
            "txt_content": "可以在物品创建的时候使用随机数来添加一行随机的lore，大概像这样\nlore.add(\"§0\" + Math.random())复制代码\n§0是为了让其“看不见”\n然后就无法叠加了。如果你要使用的话可以先删除最后一行lore\nlike this\nlore.remove(lore.length - 1)复制代码\n嘛，帮到你了记得贡献下人气和金粒"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1586428980,
            "txt_content": "瘟疫威胁全世界 发表于 2020-4-9 18:34\n可以在物品创建的时候使用随机数来添加一行随机的lore，大概像这样\n\n§0是为了让其“看不见”\nemmm...这个道具是放入自定义NPC进行兑换和发放的 所以恐怕做不到随机..."
        },
        {
            "author": "瘟疫威胁全世界",
            "timestamp": 1586429220,
            "txt_content": "Matrixchung 发表于 2020-4-9 18:43\nemmm...这个道具是放入自定义NPC进行兑换和发放的 所以恐怕做不到随机...\n那恐怕也做不到禁止堆叠——为什么不自己写一个gui呢"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1586429340,
            "txt_content": "瘟疫威胁全世界 发表于 2020-4-9 18:47\n那恐怕也做不到禁止堆叠——为什么不自己写一个gui呢\n还是谢谢你的解答了 非常感谢"
        },
        {
            "author": "William_Shi",
            "timestamp": 1586435340,
            "txt_content": "addItem\njava.util.HashMap<java.lang.Integer,ItemStack> addItem(ItemStack... items)\n                                                throws java.lang.IllegalArgumentException\n在物品栏存放所给的物品堆.本方法将尽可能完美地尝试填充已有的但还未达到堆叠上限的物品堆 和空格子.\n返回的HashMap包含不能存放的物品堆，键是你所给的参数的索引值， 值是你所给的参数指定索引处的物品堆.如果所有物品都被存放，将返回一个空HashMap.\n\n(以下翻译不保证准确性，自己试试呗)如果你传递的物品堆超过了物品的最大堆叠量,首先它们将被按 最大堆叠量[Material.getMaxStackSize()]添加一部分.如果当没有部分的物品堆剩余时， 物品堆将被以Inventory.getMaxStackSize()的数量分割，允许你超过那个物品的最大堆叠量.\n\n已知在一些实现里本方法也将会设置输入的argument amount to the number of that item not placed in slots.\n\n原文:Stores the given ItemStacks in the inventory. This will try to fill existing stacks and empty slots as well as it can.\n\nThe returned HashMap contains what it couldn't store, where the key is the index of the parameter, and the value is the ItemStack at that index of the varargs parameter. If all items are stored, it will return an empty HashMap.\n\nIf you pass in ItemStacks which exceed the maximum stack size for the Material, first they will be added to partial stacks where Material.getMaxStackSize() is not exceeded, up to Material.getMaxStackSize(). When there are no partial stacks left stacks will be split on Inventory.getMaxStackSize() allowing you to exceed the maximum stack size for that material.\n\nIt is known that in some implementations this method will also set the inputted argument amount to the number of that item not placed in slots.\n\n参数:\nitems - 要存放的物品\n返回:\n包含不能被存放的物品的HashMap\n抛出:\njava.lang.IllegalArgumentException - 如果items或在内的任何元素为null\n\n换句话说\n你最多对物品栏设置最大堆叠\n而且优先级也不如物品材质的数量\n\n即：\n比如雪球堆叠最多16\n还是会优先按照16，再下一步处理"
        },
        {
            "author": "William_Shi",
            "timestamp": 1586435400,
            "txt_content": "物品堆和物品元数据\n都没有设置堆叠的方法\n最多获取堆叠\n（可能是我眼瞎没看到）"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1586497920,
            "txt_content": "William_Shi 发表于 2020-4-9 20:29\naddItem\njava.util.HashMap addItem(ItemStack... items)\n                                               ...\n嗯嗯，谢谢大佬\n目前是通过\nItemStack[] it = inv.getContent();\nfor(ItemStack item:it){\nif(item.isSimilar(MY_ITEM)){item.setAmount(item.getAmount()-1);}\n}复制代码\n实现的，是自己摸索出来的，感谢了！"
        }
    ]
}