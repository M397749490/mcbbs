{
    "title": "【已解决】自定义实体的问题",
    "author": "Eric12324",
    "replyCount": 2,
    "timestamp": 1587819540,
    "txt_content": " 本帖最后由 Eric12324 于 2020-4-26 00:28 编辑 \n\n已解决，使用EntityEntryBuilder的时候忘记加tracker方法\n\n我想在游戏里注册一个自定义怪物，我已经使用BlockBench建好了模型，导出了java文件，基本上只是在僵尸的模型上加了一些东西\n但是在游戏里用刷怪蛋生成这个怪物的时候，就会崩溃\n\n我目前的代码：\n\nEntityRenderLoader：\npublic class EntityRenderLoader {\n\n    public EntityRenderLoader(){\n        EntityLoader.registerRenders();\n    }\n}复制代码\n\n\nEntityLoader：\npublic class EntityLoader {\n\n    @SideOnly(Side.CLIENT)\n    public static void  registerRenders(){\n        registerEntityRender(EntityEndZombie.class, RenderEndZombie.class);\n    }\n\n    @SideOnly(Side.CLIENT)\n    private static <T extends Entity> void registerEntityRender(Class<T> entityClass, Class<? extends Render<T>> render)\n    {\n        RenderingRegistry.registerEntityRenderingHandler(entityClass, new EntityRenderFactory<T>(render));\n    }\n\n}复制代码\n\n在ClientProxy的Preinit：\n@Override\n    public void preInit(FMLPreInitializationEvent event) {\n        super.preInit(event);\n        new EntityRenderLoader();\n    }复制代码\n\n在注册实体事件的时候：\n@SubscribeEvent\n    public void entityRegister(RegistryEvent.Register<EntityEntry> event){\n        event.getRegistry().register(ModEntityEntry.END_ZOMBIE);\n    }复制代码\n\nModEntityEntry:\npublic class ModEntityEntry {\n\n    public static final EntityEntry END_ZOMBIE = EntityEntryBuilder.create()\n            .entity(EntityEndZombie.class)\n            .name(\"endzombie\")\n            .egg(3840,16720416)\n            .id(\"endzombie\",11) //我不知道这个第二个参数应该填什么，IDE提示是int类型的network\n            .spawn(EnumCreatureType.MONSTER,10,3,5,Biomes.DEFAULT)\n            .build();\n\n}复制代码\n\nModelEndZombie (BlockBench 导出生成):package com.github.ericliucn.entity.model;// Made with Blockbench\n// Paste this code into your mod.\n// Make sure to generate all required imports\n\nimport net.minecraft.client.model.ModelBase;\nimport net.minecraft.client.model.ModelBox;\nimport net.minecraft.client.model.ModelRenderer;\nimport net.minecraft.client.model.ModelZombie;\nimport net.minecraft.entity.Entity;\n\npublic class ModelEndZombie extends ModelBase {\n        private final ModelRenderer head;\n        private final ModelRenderer headwear;\n        private final ModelRenderer body;\n        private final ModelRenderer left_arm;\n        private final ModelRenderer right_arm;\n        private final ModelRenderer left_leg;\n        private final ModelRenderer right_leg;\n\n        public ModelEndZombie() {\n                textureWidth = 64;\n                textureHeight = 64;\n\n                head = new ModelRenderer(this);\n                head.setRotationPoint(0.0F, 0.0F, 0.0F);\n                head.cubeList.add(new ModelBox(head, 0, 16, -4.0F, -8.0F, -4.0F, 8, 8, 8, 0.0F, false));\n\n                headwear = new ModelRenderer(this);\n                headwear.setRotationPoint(0.0F, 0.0F, 0.0F);\n                headwear.cubeList.add(new ModelBox(headwear, 0, 0, -4.0F, -8.0F, -4.0F, 8, 8, 8, 0.25F, false));\n\n                body = new ModelRenderer(this);\n                body.setRotationPoint(0.0F, 0.0F, 0.0F);\n                body.cubeList.add(new ModelBox(body, 28, 28, -4.0F, 0.0F, -2.0F, 8, 12, 4, 0.0F, false));\n\n                left_arm = new ModelRenderer(this);\n                left_arm.setRotationPoint(-5.0F, 2.0F, 0.0F);\n                left_arm.cubeList.add(new ModelBox(left_arm, 32, 44, 9.0F, -2.0F, -2.0F, 4, 12, 4, 0.0F, false));\n\n                right_arm = new ModelRenderer(this);\n                right_arm.setRotationPoint(5.0F, 2.0F, 0.0F);\n                right_arm.cubeList.add(new ModelBox(right_arm, 16, 40, -13.0F, -2.0F, -2.0F, 4, 12, 4, 0.0F, false));\n\n                left_leg = new ModelRenderer(this);\n                left_leg.setRotationPoint(-1.9F, 12.0F, 0.0F);\n                left_leg.cubeList.add(new ModelBox(left_leg, 32, 0, 1.9F, 0.0F, -2.0F, 4, 12, 4, 0.0F, false));\n\n                right_leg = new ModelRenderer(this);\n                right_leg.setRotationPoint(1.9F, 12.0F, 0.0F);\n                right_leg.cubeList.add(new ModelBox(right_leg, 0, 32, -5.9F, 0.0F, -2.0F, 4, 12, 4, 0.0F, false));\n        }\n\n        @Override\n        public void render(Entity entity, float f, float f1, float f2, float f3, float f4, float f5) {\n                head.render(f5);\n                headwear.render(f5);\n                body.render(f5);\n                left_arm.render(f5);\n                right_arm.render(f5);\n                left_leg.render(f5);\n                right_leg.render(f5);\n        }\n        public void setRotationAngle(ModelRenderer modelRenderer, float x, float y, float z) {\n                modelRenderer.rotateAngleX = x;\n                modelRenderer.rotateAngleY = y;\n                modelRenderer.rotateAngleZ = z;\n        }\n\n\n}复制代码\n\nEntityEndZombie（目前还没做什么改动）：public class EntityEndZombie extends EntityZombie {\n\n    public EntityEndZombie(World worldIn) {\n        super(worldIn);\n    }\n\n}复制代码\nRenderEndZombie:public class RenderEndZombie extends RenderLiving<EntityEndZombie> {\n\n    private static final ResourceLocation DEFAULT_TEXTURE = new ResourceLocation(\"zyzg\", \"textures/entity/endzombie.png\");\n\n    public RenderEndZombie(RenderManager renderManagerIn) {\n        super(renderManagerIn, new ModelEndZombie(), 0.5F);\n    }\n\n    @Override\n    protected void preRenderCallback(EntityEndZombie entitylivingbaseIn, float partialTickTime) {\n        GlStateManager.scale(1.0F, 1.0F, 1.0F);\n    }\n\n    @Nullable\n    @Override\n    protected ResourceLocation getEntityTexture(EntityEndZombie entityEndZombie) {\n        return DEFAULT_TEXTURE;\n    }\n\n    @Override\n    public void doRender(EntityEndZombie entity, double x, double y, double z, float entityYaw, float partialTicks) {\n        super.doRender(entity, x, y, z, entityYaw, partialTicks);\n    }\n\n}复制代码\n\n崩溃报告：\nhttps://paste.ubuntu.com/p/GsnxSgMRt4/\n版本是1.12.2\n\n\n\n\n",
    "replies": [
        {
            "author": "vvvbbbcz",
            "timestamp": 1587829500,
            "txt_content": "你的RenderEndZombie.java的代码让我看看"
        },
        {
            "author": "Eric12324",
            "timestamp": 1587830520,
            "txt_content": " 本帖最后由 Eric12324 于 2020-4-26 00:27 编辑 \nvvvbb** 发表于 2020-4-25 23:45\n你的RenderEndZombie.java的代码让我看看\n补充在上面了\n已解决\n"
        }
    ]
}