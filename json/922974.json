{
    "title": "请问怎么编写检测玩家距离的代码？",
    "author": "老曾滑稽",
    "replyCount": 15,
    "timestamp": 1572272040,
    "txt_content": " 本帖最后由 老曾滑稽 于 2019-10-28 22:58 编辑 \n\nMC1.12.2\nforge14.23.5.2836\n",
    "replies": [
        {
            "author": "Delamer",
            "timestamp": 1572274320,
            "txt_content": " 本帖最后由 Delamer 于 2019-10-28 22:55 编辑 \n\n\n\n\n\nQQ截图20191028224758.png (50.6 KB, 下载次数: 0)\n\n下载附件\n\n2019-10-28 22:48 上传\n\n\n\n\n\n如图所示摆放,\n循环方块设置为保持开启.\n循环:testfor @e[dx=2,dy=2,dz=2]\n脉冲:kill @p\n\n实现效果:当玩家进入检测区域[x,y,z轴各向正方向+2,共3*3*3],触发循环方块的检测条件,输出信号熄灭红石火把,\n玩家离开区域后,检测信号丢失,红石火把重新亮起,激活脉冲方块,执行[击杀最近的玩家]指令\n\n补:\n抱歉我没注意审题.\n脉冲方块的kill @p 改为 execute @p ~ ~ ~ summon tnt 即可满足离开区域爆炸效果\n"
        },
        {
            "author": "老曾滑稽",
            "timestamp": 1572274620,
            "txt_content": "Delamer 发表于 2019-10-28 22:52\n如图所示摆放,\n循环方块设置为保持开启.\n循环:testfor @e[dx=2,dy=2,dz=2]\n我的意思是怎么编写代码，不是命令……这是编程求助板块\n不过还是感谢你的热心"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1572280560,
            "txt_content": " 本帖最后由 森林蝙蝠 于 2019-10-29 00:49 编辑 \n\npublic class YourBlock extends Block{\n     public boolean willExplosion;\n     private BlockPos pos; //这个pos需要在玩家放下方块的时候指定\n\n     @SubscribeEvent\n      public void explo(EnteringChunk event){\n                //如果event的实体是玩家，距离pos.x和pos.z的距离小于一定值，willExplosion=true\n                //如果willExplosion=true且距离大于一定值\n                event.getEntity().world.createExplosion(……);\n      }\n}"
        },
        {
            "author": "老曾滑稽",
            "timestamp": 1572362880,
            "txt_content": "森林蝙蝠 发表于 2019-10-29 00:36\npublic class YourBlock extends Block{\n     public boolean willExplosion;\n     private BlockPos pos;  ...\n我现在用的是TileEntity+ITickable接口\n我想用if表达式让它每gt检测一次距离，符合要求就立刻爆炸\n这个可以达到吗？"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1572363180,
            "txt_content": "老曾滑稽 发表于 2019-10-29 23:28\n我现在用的是TileEntity+ITickable接口\n我想用if表达式让它每gt检测一次距离，符合要求就立刻爆炸\n这个可 ...\n当然可以啊，你事前又不说清楚，用TileEntity判断最好。"
        },
        {
            "author": "老曾滑稽",
            "timestamp": 1572363360,
            "txt_content": "森林蝙蝠 发表于 2019-10-29 23:33\n当然可以啊，你事前又不说清楚，用TileEntity判断最好。\n那TileEntity怎么删除自己?\n不然爆炸后会掉落"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1572364560,
            "txt_content": "老曾滑稽 发表于 2019-10-29 23:36\n那TileEntity怎么删除自己?\n不然爆炸后会掉落\n爆炸之后方块掉落时，TileEntity自然会被移除。"
        },
        {
            "author": "老曾滑稽",
            "timestamp": 1572613080,
            "txt_content": "森林蝙蝠 发表于 2019-10-29 23:56\n爆炸之后方块掉落时，TileEntity自然会被移除。\n我的意思是怎么不让方块掉落"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1572613380,
            "txt_content": "老曾滑稽 发表于 2019-11-1 20:58\n我的意思是怎么不让方块掉落\n构造器中提高方块抗爆性，setResistance()，调用world.removeTileEntity(pos）即可。"
        },
        {
            "author": "老曾滑稽",
            "timestamp": 1572617580,
            "txt_content": "森林蝙蝠 发表于 2019-11-1 21:03\n构造器中提高方块抗爆性，setResistance()，调用world.removeTileEntity(pos）即可。\n我的意思是说怎么让方块爆炸后立即消失，并且不掉落任何物品……\n应该是我表达不大清楚，抱歉"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1572617700,
            "txt_content": "老曾滑稽 发表于 2019-11-1 22:13\n我的意思是说怎么让方块爆炸后立即消失，并且不掉落任何物品……\n应该是我表达不大清楚，抱歉 ...\n您能不能自己查一查？world.setBlockState()直接删除方块就没掉落了。"
        },
        {
            "author": "老曾滑稽",
            "timestamp": 1572618600,
            "txt_content": "森林蝙蝠 发表于 2019-11-1 22:15\n您能不能自己查一查？world.setBlockState()直接删除方块就没掉落了。\n我也想啊，可是放眼望去，全是指令指令指令，没办法啊"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1572619620,
            "txt_content": "老曾滑稽 发表于 2019-11-1 22:30\n我也想啊，可是放眼望去，全是指令指令指令，没办法啊\n你根本不会查吧？在idea里面，自己敲两下shift，该有的全有了。"
        },
        {
            "author": "老曾滑稽",
            "timestamp": 1572963900,
            "txt_content": "森林蝙蝠 发表于 2019-11-1 22:47\n你根本不会查吧？在idea里面，自己敲两下shift，该有的全有了。\n感谢，我的问题全部解决了"
        },
        {
            "author": "老曾滑稽",
            "timestamp": 1573052340,
            "txt_content": " 本帖最后由 老曾滑稽 于 2019-11-6 23:02 编辑 \n森林蝙蝠 发表于 2019-11-1 22:47\n你根本不会查吧？在idea里面，自己敲两下shift，该有的全有了。\n不，还有问题：我这样写，如果一连放了几个这样的方块，爆炸的时候游戏会崩溃\n\n\n\n\n\n\n捕获.PNG\n(20.49 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-11-6 23:02 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        }
    ]
}