{
    "title": "1.7.10插件，删除物品",
    "author": "ihuo120",
    "replyCount": 3,
    "timestamp": 1588392840,
    "txt_content": "哪位大佬帮忙看看是什么问题？\n我在1.7.10里的右键事件触发清除手中的物品时，无法清除；\n我试过了把手中的物品设置为null，设置为Material.AIR；获取物品所在格子，清除格子；等等方法，甚至用触发指令，让别的指令去执行把手中物品设置为null；\n结果所有方法都无效，但我能保证，不经过这个事件，直接使用指令去清空手中物品时，是有效的\n[size=13.0667px]求大佬帮忙看看什么问题\n@EventHandler\n    public void Use(PlayerInteractEvent pie)\n    {\n        if (pie.getItem().getItemMeta().getLore().get(1).equals(\"§6直接右键，即可放入仓库使用\"))\n        {\n            String[] v=pie.getItem().getItemMeta().getLore().get(0).split(\"\\\\s+\");\n            if (Store.getName()!=null)\n            {\n                if (Store.getName().containsKey(pie.getPlayer().getName()))\n                {\n                    int h=0;\n                    for (String i:Store.getName().get(pie.getPlayer().getName()).keySet())\n                    {\n                        String[] k=i.split(\"_\");\n                        if (k[0].equals(v[1]))\n                        {\n                            h++;\n                        }\n                    }\n                    LindManor.yv.getConfig().set(\"player.\"+pie.getPlayer().getName()+\".\"+v[1]+\"_\"+h+\".value\",false);\n                }\n                else\n                {\n                    LindManor.yv.getConfig().set(\"player.\"+pie.getPlayer().getName()+\".\"+v[1]+\"_0.value\",false);\n                }\n            }\n            LindManor.yv.getConfig().set(\"player.\"+pie.getPlayer().getName()+\".\"+v[1]+\"_0.value\",false);\n            LindManor.yv.saveConfig();\n            new Load();\n            pie.getPlayer().sendMessage(String.valueOf(pie.getItem().getAmount()));\n            if (pie.getItem().getAmount()==1)\n            {\n<font color=\"#ff0000\">                pie.getPlayer().getInventory().setItemInHand(null);</font>\n            }\n            else\n            {\n                pie.getItem().setAmount(pie.getItem().getAmount()-1);\n            }\n        }\n    }复制代码\n",
    "replies": [
        {
            "author": "wshycaa",
            "timestamp": 1588396920,
            "txt_content": "直接用Player.setItemInHand(null)或者Player.getEquipment().setItemInHand(null)"
        },
        {
            "author": "ihuo120",
            "timestamp": 1588406640,
            "txt_content": "wshycaa 发表于 2020-5-2 13:22\n直接用Player.setItemInHand(null)或者Player.getEquipment().setItemInHand(null)\n都试过了，这个bug有点莫名其妙，只要经过这个类的方法体，清空物品这个功能全部无效，但物品堆的数量可以减少，到1就不变了"
        },
        {
            "author": "虎牙教授",
            "timestamp": 1588410780,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        }
    ]
}