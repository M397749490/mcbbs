{
    "title": "关于MD5检测反作弊插件新的想法",
    "author": "caoyuxin",
    "replyCount": 44,
    "timestamp": 1500901680,
    "txt_content": "我有想法，但是由于只有Java很基础的东西，所以无法做出来，\n现在存在的MD5检测的插件的原理是：\n客户端的MD5必须必须和服务端的MD5一样才能进服务器\n想改成：\n客户端可以少服务器允许的mod，材质包什么的\n但是不能多服务器不允许的\n\n\n看的懂的大神可以做一做\n希望能有人做出来\n目的是这样既限制了mod作弊，材质包作弊，核心作弊等\n但不缺少部分自由性\n拜托大神们了\n\n",
    "replies": [
        {
            "author": "caoyuxin",
            "timestamp": 1500946980,
            "txt_content": "在线等回复"
        },
        {
            "author": "子德",
            "timestamp": 1500947220,
            "txt_content": "自己把所有可能性都加上不就好了。"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500947460,
            "txt_content": "zide888@qq.com 发表于 2017-7-25 09:47\n自己把所有可能性都加上不就好了。\n什么意思"
        },
        {
            "author": "子德",
            "timestamp": 1500947580,
            "txt_content": "caoyuxin 发表于 2017-7-25 09:51\n什么意思\n你别告诉我你一个编程的不会递归。"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500948060,
            "txt_content": "zide888@qq.com 发表于 2017-7-25 09:53\n你别告诉我你一个编程的不会递归。\n主要是也没有时间写，忙于学业"
        },
        {
            "author": "Hallon",
            "timestamp": 1500948600,
            "txt_content": "1.Google都攻破sha1了,或许没几月又攻破MD5(仅是本人猜测)\n2.如果MD5不会被攻破,那这样也太麻烦了.\n①有人会自己改某些MOD的代码,或者自己写适合自己的优化MOD\n②现在小学生都可以写代码了,所以MOD可以说是高产似那啥,而且每一个都是非作弊的,你说什么时候才可以添加完?\n3.如果我进服再改材质包是否服务器就检测不出来?如果服务器是时时刻刻检查MD5,那似乎太耗内存了吧"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500949380,
            "txt_content": "Hallon 发表于 2017-7-25 10:10\n1.Google都攻破sha1了,或许没几月又攻破MD5(仅是本人猜测)\n2.如果MD5不会被攻破,那这样也太麻烦了.\n①有人 ...\n说的也对，那么现存的MD5检测不也是这样吗？"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500949440,
            "txt_content": "Hallon 发表于 2017-7-25 10:10\n1.Google都攻破sha1了,或许没几月又攻破MD5(仅是本人猜测)\n2.如果MD5不会被攻破,那这样也太麻烦了.\n①有人 ...\n而且他进入服务器后再改mod的话，游戏还是要重启，才能重新载入的呀"
        },
        {
            "author": "Hallon",
            "timestamp": 1500949440,
            "txt_content": "caoyuxin 发表于 2017-7-25 10:24\n而且他进入服务器后再改mod的话，游戏还是要重启，才能重新载入的呀\n我指的是材质包,材质包不是可以在游戏中导入吗"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500949620,
            "txt_content": "Hallon 发表于 2017-7-25 10:24\n我指的是材质包,材质包不是可以在游戏中导入吗\n材质包的话，个人感觉没有mod的严重"
        },
        {
            "author": "Hallon",
            "timestamp": 1500949920,
            "txt_content": "caoyuxin 发表于 2017-7-25 10:27\n材质包的话，个人感觉没有mod的严重\n有了透视材质包在战墙等小游戏很快就钻石套了=="
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500950040,
            "txt_content": "Hallon 发表于 2017-7-25 10:32\n有了透视材质包在战墙等小游戏很快就钻石套了==\n那我感觉时时检测的话，也比假矿要好一些"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500950040,
            "txt_content": "Hallon 发表于 2017-7-25 10:32\n有了透视材质包在战墙等小游戏很快就钻石套了==\n话说说了这么多，有兴趣就做吧，没有兴趣就算了"
        },
        {
            "author": "Hallon",
            "timestamp": 1500950280,
            "txt_content": "caoyuxin 发表于 2017-7-25 10:34\n话说说了这么多，有兴趣就做吧，没有兴趣就算了\n我只是提供一个意见,从来没有说过我会做(跑]"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500950280,
            "txt_content": "Hallon 发表于 2017-7-25 10:38\n我只是提供一个意见,从来没有说过我会做(跑]\n好吧，那我再等等别人吧"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500953760,
            "txt_content": "等啊，在线等"
        },
        {
            "author": "王自如",
            "timestamp": 1500957480,
            "txt_content": " 本帖最后由 ggg2200220 于 2017-7-25 16:43 编辑 \n\n服务器上白名单MOD可提交审核，但要有专人去审核MOD是否有作弊代码（反编译还是要源码自己考虑。加入白名单后可以在客户端加入MOD然后进服。，用mod形式做md5反作弊容易被弄穿，我觉得可以在启动器反作弊下功夫，扫描mod，取md5再多重加密，动态加密什么的，传给服务器，这以来也省的登录问题了，在启动器加点暗柱，毕竟启动器是EXE。"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1500965100,
            "txt_content": "ggg2200220 发表于 2017-7-25 12:38\n服务器上白名单MOD可提交审核，但要有专人去审核MOD是否有作弊代码（反汇编还是要源码自己考虑。加入白名单 ...\n我也有过这样的想法，但是能力有限啊"
        },
        {
            "author": "嘟嘟~",
            "timestamp": 1500992640,
            "txt_content": "如果发伪包呢\n客户端发过来一个正常的包 但你没办法验证它是不是由mod发过来的\n这样就很刺激了\n\n说起来这是所有反作弊mod的通病？ 不 那种检测到不允许的mod就不让启动游戏的不算"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1501032120,
            "txt_content": "嘟嘟~ 发表于 2017-7-25 22:24\n如果发伪包呢\n客户端发过来一个正常的包 但你没办法验证它是不是由mod发过来的\n这样就很刺激了\n\n你可以做一下试试哟"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1501050780,
            "txt_content": "顶一下，希望有人回"
        },
        {
            "author": "huanyueqiji",
            "timestamp": 1501429740,
            "txt_content": " 本帖最后由 huanyueqiji 于 2017-7-31 00:00 编辑 \n\n抱歉啊，我对代码一窍不通，不过根据我开服这段时间遇到的情况来看……不管何等高明的反作弊手段，熊孩子始终能找到破解的方法，至多也就是时间问题。\n首先说：如果按照往常的提交MD5，那么这个MD5从何地方获取，好像原版MC还没有这个能力，那么还是绕到了死圈子里面，需要一个MOD上传MD5进行匹配！这就跟AC同出一辙，现在你也看到了，AC已经被破解了！\n那么还有一个办法，就是写一个插件，将客户端的MOD放到服务端去，玩家进服务器的时候检测客户端MOD！但是这里也存在一个问题，就是客户端发送到服务端的MOD，是没有经过任何加密的，那么这份数据，依旧是可以伪造的。其实现在最大的问题，我觉得归根到底，还是Java的反编译机制不太成熟，就算混淆，混淆过的代码依旧会被反编译，那么……可以试着在这方面下手，c语言算是出现的比较早的语言了，现在c语言的反编译机制也比较成熟，那么，何不将Java和c语言结合……当然，这只是一个设想：可以在启动器里面做点手脚，或者写一个启动器DLL扩展，这样虽说无法避免被破解，但是至少来说，应该会加大一些破解的难度。\n也或者：可以弄一些动态验证的方法，比如释放文件到内存当中，然后通过内存动态加密，再跟服务器的插件进行握手，一般来说，动态加密的数据，要破解，难度肯定是不一般。"
        },
        {
            "author": "小小小年丶",
            "timestamp": 1501491900,
            "txt_content": "想法很好，就看实现起来的难度了！"
        },
        {
            "author": "FR_RedStone",
            "timestamp": 1501505820,
            "txt_content": "辛苦了辛苦了！"
        },
        {
            "author": "ksqeib445",
            "timestamp": 1501514520,
            "txt_content": "各位大哥，容我来讲一下，我的想法\n我想，直接对mc的核心进行修改\n服务端加上配套插件\nmc核心需要添加的内容是:mod的支持，当有指定内容变动时，上报服务端\n但是我们知道，有办法去修改封包之类的东西\n所以就需要一套合理的加密方案『别看我，我不会』\n上报，服务端需要对其进行一个回传，是否允许\n并且应对每次操作单独生成一个序列号\n防止有人恶意上传这种封包，并且限制每个ip最大上传次数\n频繁的修改，是不太可能达到的\n我们最好是弄一个辅助验证服务器\n当两个服务器给出的答复不一样时，就强制让玩家退出游戏或断开连接\n辅助验证服务器需要做的就是ip的限制，与主服务器建立连接，确认玩家信息\n当主服务器和辅助服务器不一致，就判断为受到攻击\n进行整顿\n至于mod那边，已经修改核心了\n不差这个\nmod我对于lz的想法，我也曾经想过，但是逐个添加确实困难\n不如干脆把mod都统一装订在核心里，给玩家一个开关来控制\n核心也只兼容那些mod，尽力把mod的优化搞到极致\n接下来就是玩家要求添加mod这个问题\n如果玩家想要添加这些mod，或者是残疾之类的需要mod\n我们可以单独为他们加这个模块\n并且作出特殊的自定义mod平台\n但是这些mod，必须经过官方检测和认证来发布安装\n只允许官方的mod\n这个mod问题，我还是想不出来什么成熟的办法\n我觉得我的想法比lz更愚蠢\n我个人认为，mod还是在核心强行添加反作弊，禁止透视事件发生，服务端严格计算防止错误\n用辅助计算的方式避免出错吧\n把不正常计算的客户端踢出吧\n弊端\n成本高昂\n对玩家上传要求比较大\n其他的，想不出来了"
        },
        {
            "author": "ksqeib445",
            "timestamp": 1501514640,
            "txt_content": "shangenbo 发表于 2017-7-31 23:22\n各位大哥，容我来讲一下，我的想法\n我想，直接对mc的核心进行修改\n服务端加上配套插件\n但是有个问题，我只会空想，并没有研究明白mc的编程"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1502186100,
            "txt_content": "shangenbo 发表于 2017-7-31 23:24\n但是有个问题，我只会空想，并没有研究明白mc的编程\n修改核心和forge？"
        },
        {
            "author": "墨~潇.湘",
            "timestamp": 1502188740,
            "txt_content": " 本帖最后由 墨~潇.湘 于 2017-8-8 18:40 编辑 \n\n虽然不懂,倒是有个简单粗暴的想法.\n把修改后的客户端MD5值添加进白名单.\n如果有人想修改客户端的话,就要向你请求添加修改后的客户端md5值,或许会很麻烦."
        },
        {
            "author": "caoyuxin",
            "timestamp": 1502250300,
            "txt_content": "墨~潇.湘 发表于 2017-8-8 18:39\n虽然不懂,倒是有个简单粗暴的想法.\n把修改后的客户端MD5值添加进白名单.\n如果有人想修改客户端的话,就要向 ...\n差不多是这样，需要有审核的人"
        },
        {
            "author": "ksqeib445",
            "timestamp": 1502282880,
            "txt_content": "caoyuxin 发表于 2017-8-8 17:55\n修改核心和forge？\n我是不是最暴力的……对，修改核心，改到一种有作弊都打不开的效果"
        },
        {
            "author": "caoyuxin",
            "timestamp": 1502359440,
            "txt_content": "shangenbo 发表于 2017-8-9 20:48\n我是不是最暴力的……对，修改核心，改到一种有作弊都打不开的效果\n可以试试"
        },
        {
            "author": "yy1426489531",
            "timestamp": 1502446080,
            "txt_content": "6666顶顶顶"
        },
        {
            "author": "情场宋冬野",
            "timestamp": 1502476140,
            "txt_content": "......................................"
        },
        {
            "author": "Hallon",
            "timestamp": 1502500980,
            "txt_content": "如果我们是把作弊端的MD5录入进去,然后拦截MD5一样的呢?"
        },
        {
            "author": "SmartMadio",
            "timestamp": 1502591940,
            "txt_content": "没用的，最根本的问题不是这个，而是客户端发伪包就直接完全跳过你这个反作弊检测了。"
        },
        {
            "author": "晴天娃娃_",
            "timestamp": 1502606280,
            "txt_content": "实现不是问题，但是没有的，就像最新的hax，如果服务器请求检测默认就会自动向服务器发送纯净forge端的信息"
        },
        {
            "author": "海螺螺",
            "timestamp": 1502608800,
            "txt_content": "有看过我的插件吗"
        },
        {
            "author": "ksqeib445",
            "timestamp": 1502617440,
            "txt_content": "Mine_永恒 发表于 2017-8-13 14:38\n实现不是问题，但是没有的，就像最新的hax，如果服务器请求检测默认就会自动向服务器发送纯净forge端的信息 ...\n那就要求核心再发一个包呗= ="
        },
        {
            "author": "kingchina",
            "timestamp": 1502623440,
            "txt_content": "想法很好"
        },
        {
            "author": "Seraph_JACK",
            "timestamp": 1502646540,
            "txt_content": "就我所知以前的AntiCheat就是这样的"
        },
        {
            "author": "深海鲸鱼座",
            "timestamp": 1502668680,
            "txt_content": "问题1. 你的想法并不是新的，如同楼上AntiCheat4的作者所说，你确实应该看一看AntiCheat\n问题2. 所有基于客户端的验证都是不完全安全的，这应当是显而易见的，因为你没有办法确认客户端提供的信息是否是准确无误并且未经伪造的。不要认为加密了就是安全的了，世界上任何已经存在的加密算法都不能防止已经知道密钥的人伪造数据，只要知道加密算法就能轻而易举的破解。故而加密算法已知的客户端验证可以说是没有办法做到完美的。不过尽管不可能达到完美，但是不可否认的是AntiCheat系列确实起到了极大的作用，蓝鲸本身也是AntiCheat的用户，从老陈开发的1到现在的4均有使用经历，这里需要感谢为AntiCheat系列做出贡献的各位。\n\n综上，蓝鲸得出的结论实际上是，Minecraft客户端本身知道的东西太多了，需要达到完美只存在修改其本身的协议。但是显然这个工作量是过于庞大的，在这里能给出的建议实际上是在不完全安全的前提下做到尽可能的相对安全，其中第一条就是不公开加密算法，并且使用动态链接库进行高强度的混淆。这是因为通过Java实现的加密算法是能够简单获得其字节码并对其进行逆向工程的，这不符合我们需要的前提。为了实现不公开加密算法，很遗憾的是，蓝鲸不认为能对这个反作弊的代码进行开源。简而言之，这需要你自己进行实现，知道加密算法的人越少越好，并且更新越及时越好，这样可以大幅下降被破解的风险。当然，这也不意味着完全安全——基于客户端的验证永远是不完全安全的。"
        },
        {
            "author": "晴天娃娃_",
            "timestamp": 1503048240,
            "txt_content": "shangenbo 发表于 2017-8-13 17:44\n那就要求核心再发一个包呗= =\n作弊端的就是一个作弊核心，就是核心发的"
        },
        {
            "author": "Damnie",
            "timestamp": 1503164700,
            "txt_content": "所有游戏都一样——作弊和反作弊都是不断更新，再强大的反作弊都是能被攻破的，只是时间问题，这一点毋庸置疑。"
        },
        {
            "author": "2406275380",
            "timestamp": 1503215820,
            "txt_content": "好像是这样"
        }
    ]
}