{
    "title": ".php插件格式怎么打包成.phar格式 求......",
    "author": "chenSAO",
    "replyCount": 5,
    "timestamp": 1428772500,
    "txt_content": "\n\n怎么弄.............\n帮帮忙，拜托拜托{:10_500:}",
    "replies": [
        {
            "author": "學委",
            "timestamp": 1428775080,
            "txt_content": "别想了。php是网页文件。和你插件没任何关系。"
        },
        {
            "author": "Hero_rix",
            "timestamp": 1428778860,
            "txt_content": "改不了的吧"
        },
        {
            "author": "chenSAO",
            "timestamp": 1428814380,
            "txt_content": "PHP中phar包的使用\n2013年7月17日韩 天峰发表评论阅读评论\nPHP5.3之后支持了类似Java的jar包，名为phar。用来将多个PHP文件打包为一个文件。\nhttp://rango.swoole.com/archives/168"
        },
        {
            "author": "chenSAO",
            "timestamp": 1428814620,
            "txt_content": "Phar:PHP文件归档\n时间 2014-04-19 23:28:17  CSDN博客\n原文  http://blog.csdn.net/yonggang7/article/details/24142725\n1. Phar简介\n\n\nPhar是PHP Archive缩写，将php文件归档到一个文件包。\n\n将一个模块的文件打包成一个phar，这样方便模块整体迁移，只需将phar文件移动过去，其他环境中include即可使用。\n\n类似于java的 .jar  文件。\n\nphp 5.3时，为php的C语言扩展，安装php时会默认安装。\n\n在安装目录 bin下面有phar文件，通过 php -m 查看php扩展，也应该能找到。\n\n$ .bin/phar.phar help\n终端可以直接运行。\n\n2. 创建Phar文件\n\n\n2.1 修改php.ini配置文件\n\n\nphar.readonly   = 0  这个参数必须设置为0，如果为1，表示phar文档不可写。 \nphar.require_hash = 1  这个参数为每个phar打包的文件生成一个签名，如果发现签名有问题，则拒绝处理。防止外部注入一些不安全的脚本。 \nphar.cache_list   允许web server启动时预加载phar文档，提升访问速度。 \n                           \n\n2.2 创建phar对象\n\n\n创建my.phar文件\n\n<?php\ntry{\n    $p = new Phar(dirname(__FILE__) . \"my.phar\", 0, 'my.phar');\n} catch (UnexpectedValueException $e) {\n    die('Could not open my.phar');\n} catch (BadMethodCallException $e) {\n    echo 'technically, this cannot happen';\n}\n使用startBuffering来打开缓冲，对文件修改，使用缓冲的好处是不用每次修改都保存文件，提升了效率。\n$p->startBuffering();\n$p['file.txt'] = 'hi'; \n$p['file2.txt'] = 'there';\n$p['file3.txt'] = 'babyface';\n$p['file3.txt']->setMetadata(42);\n$p['test/time.php'] = file_get_contents('time.php');\n上面代码用来添加文档，添加了4个文档。最后一个time.php在test目录下面。\n\n2.3 phar文件存根\n\n\n文件存根是phar最开始运行的一段代码。\n\n用setStub方式来创建\n\n$p->setStub(\"<?php\n    Phar::mapPhar('myphar.phar');\n__HALT_COMPILER();\");\n最后关闭缓冲区\n$p->stopBuffering();\n运行后，会在当前目录生成一个myphar.phar文件。\n\n3. Phar文档使用\n\n\nphar文档很方便的集成到其他应用程序中。使用时跟单个php文件一样看待，直接 include即可。\n\n一般有下面两种方式：\n\ninclude 'myphar.phar';\n这样把phar中所有的文件都引入了。\ninclude 'phar://myphar.phar/test/time.php';\n这个只把test目录下的time.php文件引入了。\n引入后可以直接使用原php文件中变量。\n\n\n还可以直接读取：\n\necho file_get_contents('phar://my.phar/file.txt');\n这个会输出 hi。\n\n但是不知道怎么用............."
        },
        {
            "author": "chenSAO",
            "timestamp": 1428823980,
            "txt_content": "大神在哪里~~~~教我怎么弄...{:10_503:}"
        }
    ]
}