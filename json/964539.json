{
    "title": "[转载][API] PlaceholderAPI —— 插件前置API/PAPI变量 <API/前置> [全版本]",
    "author": "神奈川归尘",
    "replyCount": 45,
    "timestamp": 1582187040,
    "txt_content": " 本帖最后由 PQguanfang 于 2020-2-28 08:31 编辑 \n\nasdszxasdegzbcnfjrvdsewrtsdagxa    PlaceholderAPI                                       PAPI变量/前置APIasdszxasdegzbcnfjrvdsewrtsdagxa\n\n\n\n     插件介绍\n\n  Why PlaceholderAPI?\n\n  PlaceholderAPI 多数插件都需要的前置API，提供开发者API 可自行创建新的变量.\n  PlaceHolderAPI 特点\n\n目前已自带多数变量可供开发者创建新变量的API多种插件的前置API\n\n\n     基础帮助\n\n  如何使用\n\n  例 如\n\"这是带有 %time% 变量的文本\" //实际时间\n%time% 会被替换成实际时间\n参 数\n\n  %placeholder<parameters>% - 通用格式\n  %placeholder<param1=value1;param2=value2>% - PlaceholderAPI 支持命名参数，通常在需要使用多个参数时使用\n\n  亦或者\n\n  %has_permission <nukkit.command.time>% - 检查玩家是否拥有权限: nukkit.command.time\n  ％synapse_status <lobby; true=你现在可以进入服务器;false=您现在不能进入服务器>% - 返回Synapse服务器状态.\n  若是 true 那么 \"你下载可以进入服务器\"，反之 \"你现在不能进入服务器\"\n\n\n  变量篇 / 已做注释汉化\n\n\n%player% - 获取玩家的名称\n%player_displayname% - 获取玩家的显示名称\n%player_uuid% - 获取玩家的UUID \n%player_ping% - 获取玩家当前延迟\n%player_level% - 获取玩家所在世界名称\n%player_can_fly% - 玩家是否开启飞行模式\n%player_flying% - 玩家是否处于飞行模式\n%player_health% - 获取玩家的生命值\n%player_max_health% - 获取玩家的最大生命值\n%player_saturation% - 获取玩家的饥饿值\n%player_food% - 获取玩家的饥饿值\n%player_gamemode% - 获取玩家的游戏模式\n%player_x% - 获取玩家的x坐标\n%player_y% - 获取玩家的y坐标\n%player_z% - 获取玩家的z坐标\n%player_direction% - 获取玩家的朝向\n%player_exp% - 获取玩家的当前经验\n%player_exp_to_next% - 获取玩家下一等级所需经验\n%player_exp_level% - 获取玩家的等级\n%player_speed% - 获取玩家当前的速度\n%player_max_air% - 获取玩家的最大氧气值\n%player_remaining_air% - 获取玩家的剩余氧气值\n%player_item_in_hand% - 获取玩家手持物品信息\n%server_online% - 获取当前在线玩家的数量\n%server_max_players% - 获取最大玩家数\n%server_motd% - 获取服务器motd \n%server_ram_used% - 获取已用内存\n%server_ram_free% - 获取可用内存\n%server_ram_total% - 获取总内存\n%server_ram_max% - 获取最大内存\n%server_cores% - 获取可用的处理器内核\n%server_tps% - 获取当前TPS \n%server_uptime% - 获取当前正常运行时间\n%time% - 获取实际时间\n复制代码\n\n\n     开发者API\n点我获取API包获取API实例\n//在 Java 中\nPlaceholderAPI api = PlaceholderAPI.getInstance();\n复制代码获得变量值 这里有几种方法\n//获得单个变量值\napi.getValue(placeholderName, player); //player is optional and has an effect only for visitor sensitive placeholders\n\n//获取包含X个变量的变量字符串\napi.translateString(inputString, player); //player is again optional for static placeholders复制代码创建一个新的变量\nval api = PlaceholderAPI.getInstance()\n\n//创建静态变量\napi.staticPlaceholder(\"tick\", {Server.getInstance().tick}) //最简单的例子\n\n//你还可以指定更新间隔，它指示\n//在重新计算值之前应将其缓存多长时间(默认值为1秒)\n\n//PlacholderAPI还实现了自动更新程序，可更新变量\n//更新间隔中指定的每个周期\n\n//自动更新变量\n\n//此变量值将在每个刻度处刷新并自动更新\napi.staticPlaceholder(\"tick\", {Server.getInstance().tick}, 1, true)\n\n\n//创建访客敏感的变量\n//它几乎与静态相同. 唯一的区别是你可以在 lambda 中使用Player实例参数\n\napi.visitorSensitivePlaceholder(\"isop\", {p -> p.isOp}) //您还可以使用更新间隔和自动更新参数\n\n//每个变量都可以具有别名，该别名可以在方法末尾  包含在vararg中\n\n//如果您想更好地控制变量，则可以扩展现有的类\n//并直接注册Placeholder实例，例如\napi.registerPlaceholder(StaticPlaceHolder(\"test\", 20, false, emptySet()) {\"test\"})\n复制代码\n\n     插件下载 \n\n  [原帖] https://nukkitx.com/resources/placeholderapi.104/\n  [Github] https://github.com/Creeperface01/PlaceholderAPI-nukkit\n\n\n\n\n\n\nfile_1582187551000.jpg (150.36 KB, 下载次数: 9)\n\n下载附件\n\n2020-2-20 16:32 上传\n\n\n\n\n\n[groupid=1701]Complex Studio[/groupid]",
    "replies": [
        {
            "author": "王境泽定律",
            "timestamp": 1582818480,
            "txt_content": "2020-02-27 23:47:19.789 [main] INFO  - 读取 PlaceholderAPI v1.3.1 中\n2020-02-27 23:47:19.830 [main] INFO  - [PlaceholderAPI] Downloading KotlinLib...\n2020-02-27 23:47:41.840 [main] ERROR - Throwing\njava.lang.NoSuchMethodError: cn.nukkit.utils.MainLogger.logException(Ljava/lang/Exception;)V\n        at com.creeperface.nukkit.placeholderapi.util.KotlinLibDownloader.check(KotlinLibDownloader.java:37) ~[?:?]\n        at com.creeperface.nukkit.placeholderapi.PlaceholderPlugin.onLoad(PlaceholderPlugin.kt:15) ~[?:?]\n        at cn.nukkit.plugin.JavaPluginLoader.initPlugin(JavaPluginLoader.java:109) ~[nukkit-1.0-SNAPSHOT.jar:?]\n        at cn.nukkit.plugin.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:57) ~[nukkit-1.0-SNAPSHOT.jar:?]\n        at cn.nukkit.plugin.PluginManager.loadPlugin(PluginManager.java:95) ~[nukkit-1.0-SNAPSHOT.jar:?]\n        at cn.nukkit.plugin.PluginManager.loadPlugins(PluginManager.java:288) ~[nukkit-1.0-SNAPSHOT.jar:?]\n        at cn.nukkit.plugin.PluginManager.loadPlugins(PluginManager.java:132) ~[nukkit-1.0-SNAPSHOT.jar:?]\n        at cn.nukkit.plugin.PluginManager.loadPlugins(PluginManager.java:124) ~[nukkit-1.0-SNAPSHOT.jar:?]\n        at cn.nukkit.plugin.PluginManager.loadPlugins(PluginManager.java:120) ~[nukkit-1.0-SNAPSHOT.jar:?]\n        at cn.nukkit.Server.<init>(Server.java:489) ~[nukkit-1.0-SNAPSHOT.jar:?]\n        at cn.nukkit.Nukkit.main(Nukkit.java:112) [nukkit-1.0-SNAPSHOT.jar:?]\n2020-02-27 23:47:41.846 [main] INFO  - Stopping other threads\n2020-02-27 23:47:41.849 [Thread-5] FATAL - RakNet crashed!"
        },
        {
            "author": "王境泽定律",
            "timestamp": 1582818540,
            "txt_content": "王境泽定律 发表于 2020-2-27 23:48\n2020-02-27 23:47:19.789 [main] INFO  - 读取 PlaceholderAPI v1.3.1 中\n2020-02-27 23:47:19.830 [main]  ...\n楼主这咋回事"
        },
        {
            "author": "PQguanfang",
            "timestamp": 1582849920,
            "txt_content": "王境泽定律 发表于 2020-2-27 23:49\n楼主这咋回事\n安装KotlinLib"
        },
        {
            "author": "灬醉冰魂灬",
            "timestamp": 1586402160,
            "txt_content": "为啥我不能使用和下载变量\n一直显示没有对应的拓展"
        },
        {
            "author": "琉璃糖",
            "timestamp": 1586433180,
            "txt_content": "版主=、=\n你帖子排版右边炸了=、="
        },
        {
            "author": "黄瓜zz",
            "timestamp": 1587467520,
            "txt_content": "%server_motd% - 获取服务器motd \n%server_ram_used% - 获取已用内存\n%server_ram_free% - 获取可用内存\n%server_ram_total% - 获取总内存\n%server_ram_max% - 获取最大内存\n%server_cores% - 获取可用的处理器内核\n%server_tps% - 获取当前TPS \n tps内存那些无法显示 请问什么问题"
        },
        {
            "author": "一只鸽纸",
            "timestamp": 1587514020,
            "txt_content": "好像和W公会有冲突？装上就时不时报错，把这个API删了就好了"
        },
        {
            "author": "罗bibi",
            "timestamp": 1588259640,
            "txt_content": "\n\n\n\n\nimage.png (10.48 KB, 下载次数: 3)\n\n下载附件\n\n2020-4-30 23:14 上传\n\n\n\n\n\n\n写错了吧.....\n\n"
        },
        {
            "author": "石梓衡",
            "timestamp": 1588832340,
            "txt_content": "这个有问题，一装进我服务器（1.14.4)就一大堆Error,有问题！！"
        },
        {
            "author": "一个人的牢",
            "timestamp": 1588984260,
            "txt_content": "楼主有百度网盘的链接吗?官网下载的太慢了"
        },
        {
            "author": "有点宅的少年",
            "timestamp": 1591419300,
            "txt_content": "111111111111"
        },
        {
            "author": "xieyuxuan416",
            "timestamp": 1592284620,
            "txt_content": "66666666666666666"
        },
        {
            "author": "KAURUIGuo",
            "timestamp": 1594633620,
            "txt_content": "20200713   "
        },
        {
            "author": "昭....",
            "timestamp": 1595647200,
            "txt_content": "感谢楼主大大分享"
        },
        {
            "author": "Matsrui_cultus",
            "timestamp": 1595686920,
            "txt_content": "很厉害的一个插件啊"
        },
        {
            "author": "14555哈哈哈",
            "timestamp": 1596361980,
            "txt_content": "阿这，整挺好"
        },
        {
            "author": "Fucheng_XDJ",
            "timestamp": 1598088120,
            "txt_content": "我的服疯狂刷屏0.0全是warn是有前置吗"
        },
        {
            "author": "kuoluo",
            "timestamp": 1598760060,
            "txt_content": "水贴| ू•ૅω•́)ᵎᵎᵎ"
        },
        {
            "author": "BlianBB",
            "timestamp": 1600342200,
            "txt_content": "Vault的变量呢？"
        },
        {
            "author": "BlianBB",
            "timestamp": 1600679700,
            "txt_content": "Vault的变量有吗？"
        },
        {
            "author": "dancesans",
            "timestamp": 1600754280,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "yyi1422",
            "timestamp": 1601567100,
            "txt_content": "缺失waila1.8什么什么的，，不懂"
        },
        {
            "author": "484180381",
            "timestamp": 1601787480,
            "txt_content": "[00:56:23] [Server thread/ERROR]: Could not load 'plugins\\KotlinLib.jar' in folder 'plugins' org.bukkit.plugin.InvalidPluginException: java.lang.NoClassDefFoundError: cn/nukkit/plugin/PluginBase         at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:131) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:329) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:251) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.craftbukkit.v1_12_R1.CraftServer.loadPlugins(CraftServer.java:318) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:222) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:616) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at java.lang.Thread.run(Unknown Source) [?:1.8.0_161] Caused by: java.lang.NoClassDefFoundError: cn/nukkit/plugin/PluginBase         at java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_161]         at java.lang.ClassLoader.defineClass(Unknown Source) ~[?:1.8.0_161]         at java.security.SecureClassLoader.defineClass(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:152) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.Class.forName0(Native Method) ~[?:1.8.0_161]         at java.lang.Class.forName(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.<init>(PluginClassLoader.java:82) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:127) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         ... 6 more Caused by: java.lang.ClassNotFoundException: cn.nukkit.plugin.PluginBase         at java.net.URLClassLoader.findClass(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:156) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_161]         at java.lang.ClassLoader.defineClass(Unknown Source) ~[?:1.8.0_161]         at java.security.SecureClassLoader.defineClass(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:152) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.Class.forName0(Native Method) ~[?:1.8.0_161]         at java.lang.Class.forName(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.<init>(PluginClassLoader.java:82) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:127) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         ... 6 more [00:56:23] [Server thread/ERROR]: Could not load 'plugins\\PlaceholderAPI.jar' in folder 'plugins' org.bukkit.plugin.InvalidPluginException: java.lang.NoClassDefFoundError: cn/nukkit/plugin/PluginBase         at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:131) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:329) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:251) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.craftbukkit.v1_12_R1.CraftServer.loadPlugins(CraftServer.java:318) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:222) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:616) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at java.lang.Thread.run(Unknown Source) [?:1.8.0_161] Caused by: java.lang.NoClassDefFoundError: cn/nukkit/plugin/PluginBase         at java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_161]         at java.lang.ClassLoader.defineClass(Unknown Source) ~[?:1.8.0_161]         at java.security.SecureClassLoader.defineClass(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:152) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.Class.forName0(Native Method) ~[?:1.8.0_161]         at java.lang.Class.forName(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.<init>(PluginClassLoader.java:82) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:127) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         ... 6 more Caused by: java.lang.ClassNotFoundException: cn.nukkit.plugin.PluginBase         at java.net.URLClassLoader.findClass(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:156) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_161]         at java.lang.ClassLoader.defineClass(Unknown Source) ~[?:1.8.0_161]         at java.security.SecureClassLoader.defineClass(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:152) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.PluginClassLoader.findClass(PluginClassLoader.java:104) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.ClassLoader.loadClass(Unknown Source) ~[?:1.8.0_161]         at java.lang.Class.forName0(Native Method) ~[?:1.8.0_161]         at java.lang.Class.forName(Unknown Source) ~[?:1.8.0_161]         at org.bukkit.plugin.java.PluginClassLoader.<init>(PluginClassLoader.java:82) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         at org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:127) ~[Paper-1.12.2-b1618.jar:git-Paper-1618]         ... 6 more"
        },
        {
            "author": "wqrzxf",
            "timestamp": 1602573960,
            "txt_content": "\n感谢楼主大大分享"
        },
        {
            "author": "2873684972",
            "timestamp": 1602950880,
            "txt_content": "谢谢大佬分享"
        },
        {
            "author": "fengxiaozhen",
            "timestamp": 1604196240,
            "txt_content": "这个插件是很多插件的前置，可惜本身难懂"
        },
        {
            "author": "Ex小木，",
            "timestamp": 1604345040,
            "txt_content": "很棒的 为啥是基岩版........."
        },
        {
            "author": "whatfilmae",
            "timestamp": 1606025580,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "xiamingli",
            "timestamp": 1606275240,
            "txt_content": "实在忍不住评论，这专业团队图片真的想笑····"
        },
        {
            "author": "adg2007930",
            "timestamp": 1606523580,
            "txt_content": "好像这个网站不是最新版本，这里有个更高的，https://www.spigotmc.org/resources/placeholderapi.6245/"
        },
        {
            "author": "ghvj",
            "timestamp": 1607774160,
            "txt_content": "66666666666666"
        },
        {
            "author": "1768890693",
            "timestamp": 1608384300,
            "txt_content": "6666666666666"
        },
        {
            "author": "1768890693",
            "timestamp": 1608384600,
            "txt_content": "6666666666666"
        },
        {
            "author": "1768890693",
            "timestamp": 1608384840,
            "txt_content": "6666666666666"
        },
        {
            "author": "1768890693",
            "timestamp": 1608384960,
            "txt_content": "6666666666666"
        },
        {
            "author": "1768890693",
            "timestamp": 1608384960,
            "txt_content": "6666666666666"
        },
        {
            "author": "1768890693",
            "timestamp": 1608385140,
            "txt_content": "6666666666666"
        },
        {
            "author": "口口乱心",
            "timestamp": 1611066720,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "1493864940",
            "timestamp": 1611113040,
            "txt_content": "支持支持支持啊"
        },
        {
            "author": "xiyue1314520",
            "timestamp": 1611326400,
            "txt_content": "mc有你更精彩"
        },
        {
            "author": "jalliam",
            "timestamp": 1612089840,
            "txt_content": "来了就顶一下，有用的插件千万别沉了"
        },
        {
            "author": "gaogao9711",
            "timestamp": 1612783920,
            "txt_content": "8888888888888888888888888888888888888888888"
        },
        {
            "author": "jalliam",
            "timestamp": 1612901220,
            "txt_content": "楼主能不能把查询所有api变量的网站，更新在帖子里，每次搜索都是你拍第一，然后找半天，找到那个网站。"
        },
        {
            "author": "509819514",
            "timestamp": 1613496000,
            "txt_content": "下一级需要经验是错的  什么情况啊？？？？/"
        },
        {
            "author": "509819514",
            "timestamp": 1613496000,
            "txt_content": "能不能麻烦发一下正确的谢谢"
        }
    ]
}