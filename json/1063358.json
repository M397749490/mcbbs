{
    "title": "gradle构建失败",
    "author": "Crazy_sir",
    "replyCount": 19,
    "timestamp": 1592400600,
    "txt_content": " 本帖最后由 Crazy_sir 于 2020-6-18 15:41 编辑 \n\n尝试了两种构建方式，全部GG\n\n在线构建forgegradle版本为：forge-1.12.2-14.23.5.2836-mdk离线构建forgegradle版本为：forge-1.12.2-14.23.5.2847-mdk\n\n现java版本为：jdk-8.0.252.09-hotspot (曾尝试更换过java8、java14，但都得出相同的报错)\n依据此教程进行gradle的构建，无个人改动\n\n除了更换java，我还尝试过导出目标网站证书将其并入cacert文件，但也对报错内容无影响\n尝试使用离线包构建，但也出现报错并失败\n\n除了在这里使用gradle，我在Androidstudio里也使用过gradle和jdk，我现已将Androidstudio和其附属的sdk卸载，但仍对报错内容无影响\n\n下面是在线构建控制台的报错内容\nException in thread \"main\" javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target         at sun.security.ssl.Alerts.getSSLException(Alerts.java:198)         \nat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1967)         \nat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:331)         \nat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:325)         \nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1688)         \nat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:226)        \n at sun.security.ssl.Handshaker.processLoop(Handshaker.java:1082)        \n at sun.security.ssl.Handshaker.process_record(Handshaker.java:1010)         \nat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1079)         \nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1388)         \nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1416)         \nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1400)         \nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)         \nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)         \nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1570)         \nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)         \nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)         \nat org.gradle.wrapper.Download.downloadInternal(Download.java:58)         \nat org.gradle.wrapper.Download.download(Download.java:44)         \nat org.gradle.wrapper.Install$1.call(Install.java:59)         \nat org.gradle.wrapper.Install$1.call(Install.java:46)         \nat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)         \nat org.gradle.wrapper.Install.createDist(Install.java:46)         \nat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:126)         \nat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61) \nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target         \nat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:450)         \nat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:317)         \nat sun.security.validator.Validator.validate(Validator.java:262)         \nat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:330)         \nat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:237)         \nat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)         \nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1670)         ... 20 more Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target         \nat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)         \nat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)         \nat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)         \nat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:445)         ... 26 more\n在线构建失败后，仅在.gradle下生成了gradle-2.14-bin.zip.lck和gradle-2.14-bin.zip.part这两个空内容文件\n\n\n\n下面是离线构建控制台中的报错内容\nFAILURE: Build failed with an exception.  * What went wrong: A problem occurred configuring root project 'forge-1.12.2-14.23.5.2847-mdk'. \n> Could not resolve all dependencies for configuration ':classpath'. \n > Could not resolve net.minecraftforge.gradle:ForgeGradle:2.3-SNAPSHOT.      Required by:          :forge-1.12.2-14.23.5.2847-mdk:unspecified \n > Could not resolve net.minecraftforge.gradle:ForgeGradle:2.3-SNAPSHOT. \n > Unable to load Maven meta-data from https://files.minecraftforge.net ... maven-metadata.xml. \n > Could not GET 'https://files.minecraftforge.net/maven/net/minecraftforge/gradle/ForgeGradle/2.3-SNAPSHOT/maven-metadata.xml'.\n > sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target       > Could not resolve net.minecraftforge.gradle:ForgeGradle:2.3-SNAPSHOT. \n > Unable to load Maven meta-data from https://jcenter.bintray.com/net/ ... maven-metadata.xml. \n > Could not GET 'https://jcenter.bintray.com/net/minecraftforge/gradle/ForgeGradle/2.3-SNAPSHOT/maven-metadata.xml'. \n > sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target \n * Try: Run with --stacktrace option to get the stack trace. \nRun with --info or --debug option to get more log output. \n BUILD FAILED\n\n\n求大佬解疑答惑或指出问题所在，感谢！\n\n\n\n\n",
    "replies": [
        {
            "author": "飞翔之歌",
            "timestamp": 1592403660,
            "txt_content": "有没有按照离线安装包的说明书来配置？"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592405460,
            "txt_content": "飞翔之歌 发表于 2020-6-17 22:21\n有没有按照离线安装包的说明书来配置？\n有的，一个字一个字抠的那种"
        },
        {
            "author": "飞翔之歌",
            "timestamp": 1592407680,
            "txt_content": "Crazy_sir 发表于 2020-6-17 22:51\n有的，一个字一个字抠的那种\n确定有将.gradle文件夹放在C:/User/[User name]/下吗？\n报错看上去像没找到.gradle的亚子"
        },
        {
            "author": "Lss233",
            "timestamp": 1592407860,
            "txt_content": " 本帖最后由 Lss233 于 2020-6-17 23:39 编辑 \n\n执行gradle的jdk是你装的那个jdk？\ngradlew -v"
        },
        {
            "author": "纪华裕",
            "timestamp": 1592408940,
            "txt_content": "试一下甲骨文jdk。就是251的那个，252似乎有点问题。"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592440560,
            "txt_content": "飞翔之歌 发表于 2020-6-17 23:28\n确定有将.gradle文件夹放在C:/User//下吗？\n报错看上去像没找到.gradle的亚子\n我确确实实将离线安装包内的.gradle文件夹放到指定位置了"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592441160,
            "txt_content": " 本帖最后由 Crazy_sir 于 2020-6-18 08:49 编辑 \nLss233 发表于 2020-6-17 23:31\n执行gradle的jdk是你装的那个jdk？\ngradlew -v\n当我对离线安装文件夹执行这个命令时，我得到的信息是\n------------------------------------------------------------ Gradle 2.14 ------------------------------------------------------------ \nBuild time:   2016-06-14 07:16:37 \nUTC Revision:     cba5fea19f1e0c6a00cc904828a6ec4e11739abc \nGroovy:       2.4.4 \nAnt:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015 \nJVM:          1.8.0_252 (AdoptOpenJDK 25.252-b09) \nOS:           Windows 10 10.0 amd64\n\n使用的JDK确实是我在环境变量中配置的版本\n\n当我对在线安装文件夹执行这个命令时，我会得到和执行在线安装命令相同的报错(即1L的“在线构建控制台的报错内容”)\n\n"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592441340,
            "txt_content": "纪华裕 发表于 2020-6-17 23:49\n试一下甲骨文jdk。就是251的那个，252似乎有点问题。\n之前有替换过Oracle JDK 的251版本，报错内容相同"
        },
        {
            "author": "纪华裕",
            "timestamp": 1592446320,
            "txt_content": "我开代理吗，把代理关了？"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592455800,
            "txt_content": "纪华裕 发表于 2020-6-18 10:12\n我开代理吗，把代理关了？\n开关代理也都试过"
        },
        {
            "author": "Orion_shadow",
            "timestamp": 1592476080,
            "txt_content": "我不太确定你和我前段时间遇到的是不是一个问题，\n刚开始，我把哪个gradle-wrapper.properties内的东西换成了这一串\n\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-2.14-bin.zip复制代码\n后面又报了个错，在网站内找不到forgegradle，，，我就直接把其他人的本地gradle仓库复制过来，因为我再没有其它的gradle项目，所以我直接把复制过来的内容覆盖了我的gradle仓库，然后就可以了，我也不知道为啥子😥，"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592486940,
            "txt_content": "Orion_shadow 发表于 2020-6-18 18:28\n我不太确定你和我前段时间遇到的是不是一个问题，\n刚开始，我把哪个gradle-wrapper.properties内的东西换成 ...\n你的代码内容和我的gradle-wrapper.properties文件内容是一致的，应该不是这个问题...\n如果你直接复制了别人的.gradle文件夹的话应该是离线配置，可难受的是我在离线配置中也同样报错了"
        },
        {
            "author": "Orion_shadow",
            "timestamp": 1592489340,
            "txt_content": "Crazy_sir 发表于 2020-6-18 21:29\n你的代码内容和我的gradle-wrapper.properties文件内容是一致的，应该不是这个问题...\n如果你直接复制了 ...\n这个试试，说不定就行了😂😂🤣"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592491020,
            "txt_content": "Orion_shadow 发表于 2020-6-18 22:09\n这个试试，说不定就行了😂😂🤣\n这个博客指向的网址内已经没有4.10.1这个版本了，我下载了5.1以相同的办法尝试，还是GG了，报错不变\n(这个方法有点玄学)"
        },
        {
            "author": "3TUSK",
            "timestamp": 1592506020,
            "txt_content": "这个错误简单来说就是你用的 Java 看上去不信任Let's Encrypt X3 所用的中间证书或者 DST Root CA X3 根证书。\n但是对 DST Root CA X3 的信任早就在 JDK 8u101 里就有了，而你用的是 8u252。你的情况理应不可能出现。\n\n考虑过重装 JDK 吗？"
        },
        {
            "author": "海螺螺",
            "timestamp": 1592535300,
            "txt_content": "你这个更像是 Gradle Wrapper 下载失败\n\n可以尝试下载一个对应版本完整的 gralde 包，加到环境变量里之后用 gradle setupxxx 的命令而不是 gradlew"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592560500,
            "txt_content": " 本帖最后由 Crazy_sir 于 2020-6-19 18:02 编辑 \n3TUSK 发表于 2020-6-19 02:47\n这个错误简单来说就是你用的 Java 看上去不信任Let's Encrypt X3 所用的中间证书或者 DST Root CA X3 根证 ...\nminecraftforge论坛里的大佬也提过让我重装jdk的建议，但并未生效，重装过官网内下载的java8、14版本，报错内容相同\n\n大概能看出是证书问题，所以也尝试过手动导入相应域名的证书，不过都无影响\n\n感谢带佬的建议，我会尝试沿着证书链检查电脑配置，实在不行就重装电脑了"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592560860,
            "txt_content": " 本帖最后由 Crazy_sir 于 2020-6-19 20:34 编辑 \n海螺螺 发表于 2020-6-19 10:55\n你这个更像是 Gradle Wrapper 下载失败\n\n可以尝试下载一个对应版本完整的 gralde 包，加到环境变量里之后用 ...\n\n似乎和之前离线安装的报错内容相同(离线在线能成一个也好啊！)\n\n感谢大佬建议，附上dubug报告\n\n\n\n\n\n\n\n\n\nDEBUG.txt\n\n\n2020-6-19 20:34 上传\n点击文件名下载附件\n\n\n\n\n111.39 KB, 下载次数: 0\n\n\ndebug报告\n\n\n"
        },
        {
            "author": "Crazy_sir",
            "timestamp": 1592878620,
            "txt_content": "最近进展，昨天系统自动更新了(大更)，任务栏颜色都变了，应该重置了很多用户设置\n然后\n然后所有的构建都能正常开始了(虽然还会有失败)\n嗯？\n嗯？？？\n所以说我依然搞不清楚问题到底出在哪里，还是系统自动更新解决了问题\n我太菜了"
        }
    ]
}