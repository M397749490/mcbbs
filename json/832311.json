{
    "title": "bat（脚本）的问题",
    "author": "夕离丶",
    "replyCount": 12,
    "timestamp": 1543648440,
    "txt_content": " 本帖最后由 期初倾城 于 2018-12-1 15:16 编辑 \n\n-XX:+AggressiveOpts -XX:+UseCompressedOops -Xss256K -XX:ParallelGCThreads=16 -XX:+UseConcMarkSweepGC -XX:+UseFastAccessorMethods -XX:+UseCompressedOops -XX:MaxPermSize=1024M\n上面的阐述该怎么设置才是最配我服务器....\n我的配置是:10G8核处理器是睿智E5-2667v2 3.30GHz\n插件数量是:71个\nMOD数量是:69个",
    "replies": [
        {
            "author": "GiNYAi",
            "timestamp": 1543648440,
            "txt_content": "期初倾城 发表于 2018-12-1 19:47\n如果加这个阐述-XX:+UseG1GC会启动不了bat是空白的\n我之前复制的cpw推荐的参数\noracle的文档\nhttps://docs.oracle.com/javase/8 ... s/windows/java.html\n你的脚本是设置使用 CMS GC\n-XX:+UseConcMarkSweepGC\n-XX:ParallelGCThreads=16 (设置GC的线程 我个人觉得这个是没有必要改的\nJava8之后 我个人更推荐使用G1GC\n-XX:+UseG1GC\nG1GC相关的参数可以参考\nhttps://www.oracle.com/technetwo ... a/g1gc-1984535.html\n-XX:MaxGCPauseMillis=50 (我个人觉得使用G1GC添加这个就足够了\n\n其它的参数\n-Xms5120M -Xmx10240M 设置堆的最小和最大内存 (如果你是10G的机器我觉得还是预留出足够的部分给系统比较好 比如最大设置成8G\n\n-XX:+AggressiveOpts 激进的优化策略\n    Enables the use of aggressive performance optimization features, which are expected to become default in upcoming releases. By default, this option is disabled and experimental performance features are not used.\n\n-XX:+UseCompressedOops 在Java8中 这个默认是开启的 压缩内存\n\n-XX:+UseFastAccessorMethods 在Java7的文档中有提到这个是使用更快的方法Get基础类型的域,在java8的文档中没有看到\n-XX:MaxPermSize 这个在Java8是过时的,推荐使用-XX:MaxMetaspaceSize \n\n-XX:+DisableExplicitGC 禁止显示的调用System.gc() 可以阻止v乐乐或者各种声称能够减少内存的插件 显示调用gc造成性能波动\n\n总结一下就是 \n-Xms6G -Xmx8G -XX:+UseG1GC -XX:MaxGCPauseMillis=50 -XX:+AggressiveOpts -XX:MaxMetaspaceSize=1024M -XX:+DisableExplicitGC "
        },
        {
            "author": "QWH25",
            "timestamp": 1543660020,
            "txt_content": "把有的没的冗余的去掉，加些有的没的心理安慰的就好了，比如：\njava -server -XX:+AggressiveOpts -XX:+UseCompressedOops -Xms8704M -Xmx8704M -XX:+DisableExplicitGC -XX:+UseG1GC -XX:+UseStringDeduplication -XX:+UseFastAccessorMethods -jar xxxxx.jar nogui"
        },
        {
            "author": "夕离丶",
            "timestamp": 1543660380,
            "txt_content": "QWH25 发表于 2018-12-1 18:27\n把有的没的冗余的去掉，加些有的没的心理安慰的就好了，比如：\njava -server -XX:+AggressiveOpts -XX:+Use ...\n那个是多线程脚本耶老铁"
        },
        {
            "author": "MIKAZE3",
            "timestamp": 1543663560,
            "txt_content": "最大内存设置为10240M 最小内存最好是最大内存的一半 所以就是5120M  加上一些优化代码 和加速代码就是：\n\njava -Xms5120M -Xmx10240M -server -XX:+AggressiveOpts  -XX:+UseCompressedOops -Xss256k  -XX:ParallelGCThreads=16 -XX:+UseG1GC -XX:MaxGCPauseMillis=50 -XX:+UseFastAccessorMethods -d64 -jar 服务端名称.jar\n\n-server 启动服务器模式\n\n-Xms5120M -Xmx10240M 设置最大和最小内存\n\n-XX:+AggressiveOpts  -XX:+UseCompressedOops 优化和压缩内存指针\n\n-Xss16m  -XX:ParallelGCThreads=16 使用16个线程 一个线程使用16M内存运行服务器 1核=2个线程\n\n-XX:+UseG1GC -XX:MaxGCPauseMillis=50 自动清理java产生的垃圾\n\n-XX:+UseFastAccessorMethods  原始类型的JAVA自带的快速优化 \n\n-d64 使用64位数据模型"
        },
        {
            "author": "GiNYAi",
            "timestamp": 1543664400,
            "txt_content": "-XX:+UseG1GC -Xmx4G -Xms4G -XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=32M \nFor more information: https://redd.it/5jhuk9\n当然内存你应该适当调大一点"
        },
        {
            "author": "夕离丶",
            "timestamp": 1543664640,
            "txt_content": "MIKAZE3 发表于 2018-12-1 19:26\n最大内存设置为10240M 最小内存最好是最大内存的一半 所以就是5120M  加上一些优化代码 和加速代码就是：\n\n ...\n有一个贴说！1个核心4个线程勒-XX:ParallelGCThreads"
        },
        {
            "author": "夕离丶",
            "timestamp": 1543664700,
            "txt_content": "MIKAZE3 发表于 2018-12-1 19:26\n最大内存设置为10240M 最小内存最好是最大内存的一半 所以就是5120M  加上一些优化代码 和加速代码就是：\n\n ...-XX:ParallelGCThreads=10 这个是多线程脚本 这个是十个线程 也就是 2 核心 四 线程X2 再加半个核心  \nhttp://www.mcbbs.net/thread-809680-1-1.html\n我是相你还是他...."
        },
        {
            "author": "夕离丶",
            "timestamp": 1543664820,
            "txt_content": "GiNYAi 发表于 2018-12-1 19:40\n-XX:+UseG1GC -Xmx4G -Xms4G -XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 -XX:G1ReservePer ...\n如果加这个阐述-XX:+UseG1GC会启动不了bat是空白的"
        },
        {
            "author": "夕离丶",
            "timestamp": 1543667400,
            "txt_content": "-XX:+UseG1GC加了这个阐述服务端的bat是空白的...."
        },
        {
            "author": "MIKAZE3",
            "timestamp": 1543680720,
            "txt_content": "期初倾城 发表于 2018-12-1 20:30\n-XX:+UseG1GC加了这个阐述服务端的bat是空白的....\n那么说这个就用不了 你的JAVA不支持 就换成\n-XX:+UseConcMarkSweepGC"
        },
        {
            "author": "MIKAZE3",
            "timestamp": 1543680900,
            "txt_content": "期初倾城 发表于 2018-12-1 19:45\nhttp://www.mcbbs.net/thread-809680-1-1.html\n我是相你还是他....\n这个意思是说 -XX:ParallelGCThreads=10  这个人有点搞不懂   2个核心是4个线程x2 再加半个核心？\n一般的CPU都是1核双线程（有超线程技术例外）"
        },
        {
            "author": "夕离丶",
            "timestamp": 1543709340,
            "txt_content": "MIKAZE3 发表于 2018-12-2 00:12\n那么说这个就用不了 你的JAVA不支持 就换成\n-XX:+UseConcMarkSweepGC\n但是可以开启服务器...."
        }
    ]
}