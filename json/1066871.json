{
    "title": "服务器TPS低寻求优化方案",
    "author": "u盘05",
    "replyCount": 8,
    "timestamp": 1593005940,
    "txt_content": " 本帖最后由 wjwrh 于 2020-6-25 08:47 编辑 \n\nhttps://timings.spigotmc.org/?url=mewuyariqe\n这是我服务器的诊断报告。。。。tps无比底下。。。。求优化的办法或者可以相对有效的插件\n",
    "replies": [
        {
            "author": "SakuraTao",
            "timestamp": 1593006120,
            "txt_content": " 本帖最后由 mkwwmka5 于 2020-6-24 21:43 编辑 \n\n估计是有人跑图，地图加载导致的TPS低下\n可以采用worldboard等插件来实施限制\n此外，推荐安装https://ci.lucko.me/job/spark/这个插件\n他可以优化提供更详细的timings报告以供我们排查错误"
        },
        {
            "author": "u盘05",
            "timestamp": 1593006240,
            "txt_content": "mkwwmka5 发表于 2020-6-24 21:42\n估计是有人跑图，地图加载导致的TPS低下\n可以采用worldboard等插件来实施限制\n此外，推荐安装https://ci.lu ...\n但是我这个是空岛啊emmm，而且禁止了其他世界XD"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1593006360,
            "txt_content": "u盘05 发表于 2020-6-24 21:44\n但是我这个是空岛啊emmm，而且禁止了其他世界XD\ntimings上提示世界加载过太多了。\n可以先试试安装spark，方便排查 https://ci.lucko.me/job/spark/\nspigot的timings过于难看"
        },
        {
            "author": "u盘05",
            "timestamp": 1593006480,
            "txt_content": "mkwwmka5 发表于 2020-6-24 21:46\ntimings上提示世界加载过太多了。\n可以先试试安装spark，方便排查 https://ci.lucko.me/job/spark/\nspigo ...\n那这个怎么用。。。看不懂"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1593006540,
            "txt_content": "u盘05 发表于 2020-6-24 21:48\n那这个怎么用。。。看不懂\n可以看看站内的帖子\n安装完后过一段时间在重新发送监测数据给我\n你可以先试试降低服务器的视距，世界加载是在太大"
        },
        {
            "author": "阳炎の风",
            "timestamp": 1593007200,
            "txt_content": "    恩 刚路过\n    \n\n\n\n\nimage.png (1.12 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-24 21:58 上传\n\n\n\n\n\n    但 这不是dotick的问题么\n    怎么看都是生物密殖吧\n"
        },
        {
            "author": "蕾米洛伊",
            "timestamp": 1593008520,
            "txt_content": "是服务器上 ASkyBlock 世界激活的实体过多导致的. 至于世界加载, 是可以无视的, timings v1 就这个毛病, 很多 Pct Tick 贼恐怖, 结果一看是个 Task 或者对服务器没影响。\nhttps://www.mcbbs.net/thread-918981-1-1.html\n建议使用本优化插件清理实体\n另外服务器上应该安装了 LaggRemover 吧, 我看到有人执行了 /lr, 你可以修改一下 LaggRemover 的配置文件, 如下所示:\nlag_protocols:\n  low_ram:\n    cc_items: '{\"Delay\":\"true\", \"Count\": \"false\"}'\n  low_tps:\n    cc_entities: '{\"Delay\":\"true\", \"Count\": \"false\", \"ToClear\":\"null\", \"World\":\"%all%\"}'\n  periodically:\n    cc_items: '{\"Delay\":\"true\", \"Count\": \"false\"}'\n    cc_entities: '{\"Delay\":\"true\", \"Count\": \"false\", \"ToClear\":\"null\", \"World\":\"%all%\"}'\n重载配置,  LaggRemover 就会定时清理实体和掉落物了。\n另外当你觉得卡的时候你可以聊天栏里发一个 lag, 激活 LaggRemover 的清理 AI"
        },
        {
            "author": "u盘05",
            "timestamp": 1593042900,
            "txt_content": "蕾米洛伊 发表于 2020-6-24 22:22\n是服务器上 ASkyBlock 世界激活的实体过多导致的. 至于世界加载, 是可以无视的, timings v1 就这个毛病, 很 ...\n但是我的是1.7.10啊。。你给的那个插件是1.12以上的emm\n"
        }
    ]
}