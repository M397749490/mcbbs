{
    "title": "Python编程时无法打开子目录文件",
    "author": "MeTerminator",
    "replyCount": 1,
    "timestamp": 1581987480,
    "txt_content": "我想写一个mod客户端自动获取的Python程序，但下载文件时，open（）函数打开字母录文件夹时报错：\nD:\\server\\客户端更新\\config\\CustomMainMenu\\mainmenu.json\nTraceback (most recent call last):\n  File \"setdata.py\", line 22, in <module>\n    with open(temp_write_url, \"wb\") as code:\nFileNotFoundError: [Errno 2] No such file or directory: 'D:\\\\server\\\\客户端更新\\\\config\\\\CustomMainMenu\\\\mainmenu.json'\n复制代码求助。\n一下是代码片段：\n\nimport requests\nimport os\nimport json\n\ndata_url = \"http://magicschool.abc6.net/setdata/\"\n\nprint(\"初始化服务器数据下载\")\nprint(\"获取文件列表\")\nfile_list_url = \"http://magicschool.abc6.net/setdata/file.txt\"\nfile_list_res = requests.get(file_list_url)\nfile_list_txt = file_list_res.text\nfile_list = file_list_txt.split('\\r\\n')\nprint(\"已获取以下文件：\")\nprint(file_list)\nprint(\"开始下载\")\nfor i in file_list:\n    print(\"正在下载：\",i)\n    temp_url = data_url+i\n    temp_file = requests.get(temp_url)\n    temp_write_url = os.getcwd() + \"\\\" + i\n    print(temp_write_url)\n    with open(temp_write_url, \"wb\") as code:\n        code.write(temp_file.content)\n\n\n复制代码\n",
    "replies": [
        {
            "author": "chyx",
            "timestamp": 1581994560,
            "txt_content": " 本帖最后由 chyx 于 2020-2-18 14:29 编辑 \n\nemmm\n可能有更好的方法，但这样肯定是能用了。\n\n\nfrom pathlib import Path\ntemp_write_url = Path() / i\ntemp_write_url.parent.mkdir(parents=True, exist_ok=True)\ntemp_write_url.write_bytes(temp_file.content)\n\n用这个替代你最后四行应该就行了。\n\n\n\n不过，我试了试你的代码，发现除此之外还有一个问题。。。\n你的http://magicschool.abc6.net/setdata/file.txt里的路径都是\\分割的，\n但是，访问它们（比如http://magicschool.abc6.net/setd ... nMenu/mainmenu.json）的时候，是/分割的。\n斜杠方向不一样。。。。\n你不能直接把它加在一起。。。。\n\n"
        }
    ]
}