{
    "title": "服务端生成新地形时出现过高的性能消耗和卡顿",
    "author": "czmknmsl",
    "replyCount": 4,
    "timestamp": 1499226300,
    "txt_content": "服务端：1.9.4 Spigot\n问题描述：（我这个问题的种类在分类里面没有==）\n玩家跑图的时候，如果遇到没有加载过的地图，服务端在生成地图的过程中产生了极大的延迟，同时CPU消耗从10%以下上升至50%左右，要经过20秒-1分钟才能恢复正常\n直观反应是本服内容专用的插件原本每tick更新玩家的显示，要几秒才更新一次，与此同时挖掘方块不掉落等等，但是用ess查看/tps，结果依然是19-20。用监听器做的自定义聊天显示，却能够无延迟的发送，而涉及到方块的监听器则会有3-5秒的延迟。\n尽可能的对各个配置文件进行了优化，问题依然没有解决。\n下面是cpu和网络通信消耗量和插件列表\n\n\n\n\nQQ截图20170705113333.png (12.79 KB, 下载次数: 0)\n\n下载附件\n\n2017-7-5 11:39 上传\n\n\n\n\n\n\n\n\nQQ截图20170705113752.png (15.87 KB, 下载次数: 0)\n\n下载附件\n\n2017-7-5 11:41 上传\n\n\n\n\n\n\n\n\n\nQQ截图20170705113451.png (73.64 KB, 下载次数: 0)\n\n下载附件\n\n2017-7-5 11:39 上传\n\n\n\n\n\n\n\n求大神帮忙解决问题，硬件方式或者软件方式都行。\n",
    "replies": [
        {
            "author": "378514473",
            "timestamp": 1499227860,
            "txt_content": "可视距离设置短一点，加载地形会很吃宽带，瞬间一个人把宽带占完了，其他人当然卡！"
        },
        {
            "author": "czmknmsl",
            "timestamp": 1499231400,
            "txt_content": "378514473 发表于 2017-7-5 12:11\n可视距离设置短一点，加载地形会很吃宽带，瞬间一个人把宽带占完了，其他人当然卡！ ...\n5M带宽应该不存在的啊"
        },
        {
            "author": "378514473",
            "timestamp": 1499241000,
            "txt_content": "czmknmsl 发表于 2017-7-5 13:10\n5M带宽应该不存在的啊\n噗，5M。你想多了，远远不够！我20M也就才50人就开始会出现卡了。"
        },
        {
            "author": "czmknmsl",
            "timestamp": 1499245740,
            "txt_content": "378514473 发表于 2017-7-5 15:50\n噗，5M。你想多了，远远不够！我20M也就才50人就开始会出现卡了。\n可视区块已经调到4了，另外是加载新地图（以前没有加载过的）的时候才会卡，其他时候不会卡，而且网络资源消耗量一直都是很低的！（上面那条不是我本人回复的）"
        }
    ]
}