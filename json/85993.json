{
    "title": "服务器进阶教程之多服务器穿越并数据同步（完成）",
    "author": "raoweijie1",
    "replyCount": 4,
    "timestamp": 1360061280,
    "txt_content": " 本帖最后由 raoweijie1 于 2013-2-5 20:30 编辑 \n\n 看到这篇教程感觉很奇葩把\n  没错真的是 多服务器数据同步+穿越\n  这里针对BungeeCord 来说吧。。\nhttp://www.mcbbs.net/thread-75955-1-3.html\n首先去下载个破解文件 那位的官方连接已经挂了\nhttp://kuai.xunlei.com/d/U2iLAAKSgABX2RBRf7f\n  去这里下载吧\nhttp://dev.bukkit.org/server-mods/transporter/\nTransporter是核心的传送插件\n配合\nhttp://dev.bukkit.org/server-mods/inquisitor/\nInquisitor数据共享插件\n当然少不了数据库mysql\n数据库就不放连接了直接口述吧。。\n  安装好后设置密码 并且开启root外网登录模式\nmysql>update user set host = '%' where user ='root';\nmysql>select host, user from user;\nmysql>flush privileges;\n其实就是把host项目改成%就行\n然后创建一个minecraft的数据库 数据库工具推荐Navicat for MySQL\n\n下载好了BungeeCord.7z吧\n  解压BungeeCord.jar到一个单独的文件夹。。\n打开后创建个启动脚本xxxx.bat\njava -jar BungeeCord.jar\n当然希望加内存限制也无所谓\n运行一次后ctrl+c 选择Y关闭\n 后看生成的config.yul文件\n\n listeners:\n- max_players: 1\n  host: 0.0.0.0:25577                                             #玩家连接的端口\n  force_default_server: true                                    #这里要改成启动默认是关闭的\n  motd: Another Bungee server\n  lobby_server: lobby\n  tianyou_server: tianyou                                        #添加的服务器名字\n  forced_hosts:\n    lobby_server: lobby              \n    tianyou_server: tianyou                                      #这里也要添加上\n  default_server: lobby\nservers:\n  lobby:                                                                    #这是上面:号后面的名字\n    address: localhost:25565                                     #这里是服务器的地址及端口\n  tianyou:                                                                 \n    address: localhost:25566          \nstats: 1d9dce25-9374-4794-a05f-a9418c4be1b7\npermissions:\n  default:\n  - bungeecord.command.server\n  - bungeecord.command.list\n  admin:\n  - bungeecord.command.alert\n  - bungeecord.command.end\n  - bungeecord.command.ip\n  - bungeecord.command.reload\ntab_list: GLOBAL_PING\ntimeout: 30000\ngroups:\n  md_5:\n  - admin\n  tianyou:\n  - admin复制代码好吧 这是我配置完的文件\n然后可以运行bat了把剩下三个插件放入服务端里后运行一次 后 stop\n然后改xa登录的config.yul文件\nmain:\nauto-disable: true\ncheck-for-updates: true\nreload-on-join: false\nmysql:\nenabled: true                                      #这里是是否启动mysql模式 默认是关闭要手动设置开启\nhost: localhost                                    #mysql的地址\nport: 3306                                         #mysql的端口\nuser: root                                          #mysql用户名\npassword: root                                  #mysql密码\ndatabase: minecraft                           #数据库名\ntables:\naccount: accounts\nlocation: locations\nlockout: lockouts\nplayerdata: playerdata\nsession: sessions\npermissions:\nbackend: bukkit\nauthurl:\nenabled: false\nurl: http://localhost\nregistration: false\nstatus: false\ngroups: false\nbroadcast-login: false\nsingle-session:\nreverse: true\nguests:\nreverse: false\nimmunity-length: 5\nregistration:\nenabled: true\nforced: true\nrequire-email: false\nvalidate-email: false\naccount-limit: 0\nactivation: false\nrequire-login: true\npassword:\nmin-length: 6\nallow-change: true\ncomplexity:\nlowercase: false\nuppercase: false\nnumber: false\nsymbol: false\nguest:\ntimeout: 300\nnotify-cooldown: 5\nhide-inventory: true\nprotect-location: true\nallowed-commands:\n- register\n- login\n- l\nrestrict:\nplayer:\nchat: true\ninteract: true\nmove: true\npickup: true\nblock:\nplace: true\nbreak: true\nentity:\ndamage: true\ntarget: true\nsession:\nlength: 3600\nverifyip: true\ngodmode-length: 5\nstrikes:\namount: 5\nlockout-length: 3600\naccount:\ntrack-last-login: true\nfilter:\nmin-length: 3\nallowed: ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890_\ndisallowed: ''\nblank-name: true\ngroups:\nguest: ''\nauthenticated: ''\n复制代码\n改完之后 在minecraft数据库上运行批次任务文件    用这个工具登录Navicat for MySQL\n分别运行xa配置目录下的sql目录的account location   lockout playerdata session各文件下非updates目录内的sql文件\n这样登录系统就完成了\nTransporter\n现在设计个门先。。\n在plugins\\Transporter\\designs目录下\n复制粘贴一份nether.yml\n改名成你喜欢的名字\nname: lobby # 改成你喜欢的名字\nduration: -1 # millis until gate closes, -1 means always on\nbuildable: true # can a user build the gate automatically?\nbuildFromInventory: false # when building the gate, take the blocks from the user's inventory?\nbuildWorlds: .* # list of world name patterns where this gate can be built and created\nlinkLocal: true # can be linked to another gate in same world?\nlinkWorld: true # can be linked to another gate in a world on the same server?\nlinkServer: true # can be linked to another gate on a different server?\nmultiLink: true # can be linked to multiple gates?\nrestoreOnClose: false # restore open blocks when closing the gate?\nrequirePin: false # does the gate require a valid player pin for use?\nrequireValidPin: true # will the gate allow reception of an invalid pin?\ninvalidPinDamage: 10 # how much damage does reception of an invalid pin do?\nrequireAllowedItems: true # don't allow reception of banned items\n\nblockKey:\nX: NONE\nO: OBSIDIAN\nP: { build: AIR, open: STATIONARY_WATER, portal: true }\np: { build: AIR, open: STATIONARY_WATER, portal: true, spawn: FORWARD }\nI: { build: AIR, open: STATIONARY_WATER, portal: true, spawn: FORWARD, insert: true }\nS: { build: { type: WALL_SIGN, facing: SOUTH }, screen: true, trigger: true, switch: true }\n\nblocks:\n-\n- \"OOOO\"\n- \"OPPO\"\n- \"OPPO\"\n- \"OIpO\"\n- \"OOOO\"\n-\n- \"XXXX\"\n- \"XXXX\"\n- \"SXXX\"\n- \"XXXX\"\n- \"XXXX\"\n复制代码\n保存后 先不忙运行服务器\n  先把服务端目录下的bukkit.yml文件中的 connection-throttle值改成-1\n然后运行游戏 前期的工作基本完成\n下面都是到服务器上操作了\n在控制台上输入\n\ninq webserver set port 8081          #web显示的端口 设置一个未被占用的\ninq webserver enable                    #开启web\ninq db set url jdbc:mysql://localhost:3306/minecraft复制代码inq db set username root     #mysql用户名\ninq db set password root     #mysql密码\n这样玩家的数据就同步上去。。\n  但是你还不能做服务器间的穿越并同步数据 剩下的教程我吃完饭在继续\n最关键的trp教程\n\n\n",
    "replies": [
        {
            "author": "Focus",
            "timestamp": 1360061760,
            "txt_content": "额= =看着就挺头疼"
        },
        {
            "author": "raoweijie1",
            "timestamp": 1360066740,
            "txt_content": " 本帖最后由 raoweijie1 于 2013-2-5 20:21 编辑 \n\n下班 吃完饭回到家 继续。。\n现在开始传送门部分\n在服务器1控制台上输入\ntrp network set key server1Key                                                  #设置当前服务器的key值\ntrp network set listenAddress *:25601                                       #设置trp 插件端口代理（bungeeCord）模式必须复制代码在服务器2控制台上 输入\ntrp network set listenAddress *:25602                                        #设置服务器2 的trp端口\ntrp network set key server2Key                                                    #服务器2的key\ntrp network set clusterName cluster                                             #设置群集名复制代码登陆游戏按\nt输入\n/server lobby\n代理上设置的server名字\n跳到lobby的服务器上\n然后输入\n/trp design build lobby复制代码这样就会出现一你开始在配置文件那里设定的门 lobby.ynl文件\n先把牌子拆下来挂上一个新牌子 \n第一行 是门的名字我的取名叫lygate\n完成后切换到tianyou\n/server tianyou复制代码  然后输入\n/trp design build tianyou复制代码创造一个门一样刚刚在配置文件里做的\n再回到lobby\n/server lobby\n然后输入\n/trp gate list                        查看门列表 如果你跟对面服务器连接上了就可以看见对面的门 \n/trp gate link add lygate tianyou.tianyou.tygate rev复制代码  记得切换到生存模式 然后左键下牌子就可以开启门了 还等什么 跨服战开始了\n\n最后忘记说了server.properties文件中的服务器名 最好跟代理上同名\n期待大联机时代"
        },
        {
            "author": "raoweijie1",
            "timestamp": 1360066920,
            "txt_content": "附上老外教程的机翻\n\n\n\ntransporter时空之门.zip\n(250.52 KB, 下载次数: 36)\n\n\n\n2013-2-5 20:22 上传\n点击文件名下载附件\n\n\n\n\n\n\n话说这帖有精华吧。。。"
        },
        {
            "author": "yorlereiyo",
            "timestamp": 1361973480,
            "txt_content": "raoweijie1 发表于 2013-2-5 20:22 \n附上老外教程的机翻\n话说这帖有精华吧。。。\n能换个格式吗?\n谢谢"
        }
    ]
}