{
    "title": "SimElectricity真实电网API开发中",
    "author": "金坷居士",
    "replyCount": 35,
    "timestamp": 1397662200,
    "txt_content": " 本帖最后由 金坷居士 于 2014-7-3 01:18 编辑 \n\n最近本人和机油在合作开发一个真实电网仿真mod, mod中电压电流功率功都采用现时中的国际单位制.电网采用了特殊的算法,比较IC电网,有很大的效率提高. 经过近7个月的断断续续的开发,目前本API已经有很大的进展!\n\n下面是电源经过电线带负载的图片(图中出现了变压器这个元件,把太阳能的18V低压电升高到240V供电炉使用,18V侧电流很大需要很粗的导线,这些都是和实际相符的):\n\n\n\n\n\ndw.jpg (83.54 KB, 下载次数: 8)\n\n下载附件\n\n2014-7-3 01:17 上传\n\n\n\n\n\n\n电网的核心运算算法, 总的来说, 和电路仿真软件PSPICE或者Multisim使用的算法很类似. 通过把所有的TileEntity建立电路节点的联系,再用基尔霍夫的KCL KVL还有TileEntity自身提供的约束关系生成矩阵,再进行高斯消元得到每个节点的电压,这个电压可以用来计算机器消耗的功率和导线的损耗等.\n\n目前电网中有3种类型的实体:\n电源 电线 和负载\n电源为有内阻的真实电源\n电线也有电阻, 材料未来会有铜 银 铝三种, 每种又有不同的线径\n负载的话 通过修改自身等效内阻来吸收不同的功率\n\n这就意味着, 电源带负载的能力不是无限的,电线上的损耗和电流大小成正相关(IC的是固定的),机器在允许的范围内可以通过提高电压获得更大的输出功率\n\n电源和负载只有1面能输出或者接受能量, 这也是根据现实设定的\n\n\n另外现在电网还支持一种比较复杂的实体,一个Block最多可以携带6个电路元件参与仿真,这极大的提高了灵活性\n\n之前说到电网的效率能提高,因为不是每一Tick都需要进行大量的运算,运算只有在需要的时候才会进行. 整个能源网是通过电源电压和负载电阻网络(电线和机器的电阻)来计算每一个实体对地的电压(为了对应现实电路,可以把大地想成一个超导体,电源负极和负载负极的一段接地,有电阻的电线连接着它们的正极), 间接获得功率和能量消耗的. 假设一个Tick里所有电网参数都没改变(改变包括电源电压改变(电源耗尽) 负载电阻变化 负载加入或者离开电网等), 那么所有点对地电压不变, 因此功率也不变, 这样这一Tick内就不需要任何运算, 此时电网处于休眠状态...\n\n目前电网已经能正常运行, 能够正确的仿真功率, 电压降等参数, 方块也对面的贴图和功能进行了支持\n\n目前的问题和未来的方向:\n1.线缆的渲染(小BUG)\n2.网络包处理可能导致内存溢出\n\n3.变压器 存电器的模型问题(需要提出合适的物理模型参与仿真!)\n4.线路优化问题(合并没连接电器的电线,让效率再提高一点!这个不着急)\n5.贴图比较简陋,大量采用旧IC2贴图\n\n在Github上可以下载到1.7.2版本的源代码(需要Forge支持, 在Eclipse里打开的时候还需要加上JGraph的引用,在Github上也能找到哦):\nhttps://github.com/RoyalAliceAcademyOfSciences/SimElectricity\nJGraph在SimElectricity / SimElectricity / lib 里面\n\n欢迎各位触手祝窝们一臂之力!如果这个API能成功的话,就可以代替IC那目前BUG掉的能源网了！\n欢迎光临中国超科学mod研究院: 327104015\n\n\n\n\n\nQQ图片20140416223446.jpg\n(189.45 KB, 下载次数: 6)\n\n\n\n\n下载附件\n\n\n2014-4-16 23:30 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQQ图片20140416223446.jpg\n(189.45 KB, 下载次数: 11)\n\n\n\n\n下载附件\n\n\n2014-4-16 23:31 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "重生是希望",
            "timestamp": 1397671380,
            "txt_content": "路过看⑨花卖萌~"
        },
        {
            "author": "无语的尼玛",
            "timestamp": 1397675280,
            "txt_content": "感觉楼上两位好神秘啊"
        },
        {
            "author": "可口可乐dseg",
            "timestamp": 1397680080,
            "txt_content": "看不懂，前2天才刚刚开始玩IC2"
        },
        {
            "author": "真☆熊孩子㊣",
            "timestamp": 1397683320,
            "txt_content": "图好像挂了"
        },
        {
            "author": "RAY5DHao",
            "timestamp": 1397690880,
            "txt_content": "这个是Mod吧?不是Api...\n\n看过之后我感觉LZ似乎也把现实电路所有的缺点都搬到MC里来了...\n短路了咋办啊..."
        },
        {
            "author": "zero28",
            "timestamp": 1397712900,
            "txt_content": "看起来好屌，顶一个"
        },
        {
            "author": "zhh0000zhh",
            "timestamp": 1397714340,
            "txt_content": "建议添加金线。。\n金线的电阻最小"
        },
        {
            "author": "金坷居士",
            "timestamp": 1397751600,
            "txt_content": "标题: SimElectricity真实电网API开发中今天实现了电线的渲染 三种不同线径不同载流能力的电线\n\n\n\n\nQQ图片20140418021720.jpg (230.78 KB, 下载次数: 2)\n\n下载附件\n\n2014-4-18 00:18 上传\n\n\n\n\n\n带负载时的情况:\n\n\n\n\nQQ图片20140418021724.jpg (150.56 KB, 下载次数: 3)\n\n下载附件\n\n2014-4-18 00:19 上传\n\n\n\n\n\n\n另外本Project定位就素API 像IC又有点UE的意思...但素都不一样的说..."
        },
        {
            "author": "维他命の淡蓝",
            "timestamp": 1397752200,
            "txt_content": "感觉我应该写一个可以测试物理系统的代码，比如粒子对撞机之类的模拟器，如果楼主成功的编写出来\n这样就可以用MC模拟出正式电路了，可以轻松应付物理考试和制造英特尔芯片上的问题了，把纳米级的芯片\n放大到MC的尺寸，我们就可以站到芯片的内部，检测系统了，或者再造一台机器，然后在mc里再编写程序\n这也是有可能实现的，如果实现了这种猜想，比如快速模拟球体的准确抛物线，快速调试3D打印机，还能当做一种加密文件使用."
        },
        {
            "author": "Qfang23",
            "timestamp": 1397890860,
            "txt_content": "用这种api，相比对配置要求会比较高吧……"
        },
        {
            "author": "金坷居士",
            "timestamp": 1397993280,
            "txt_content": "Qfang23 发表于 2014-4-19 15:01\n用这种api，相比对配置要求会比较高吧……\n今天修Bug 改善网络同步功能\n给量子发电机增加了GUI 同时还增加了电压表(真实的电压表 输入阻抗不素无限大 因此对电路有影响哦)\n\n\n\n\nB%C(J]U7_P2[H$]A3`7${0A.jpg (45.59 KB, 下载次数: 4)\n\n下载附件\n\n2014-4-20 19:23 上传\n\n\n\n\n\n\n\n\n\nS8GS)V45$@Z_2Q8KD)3R.jpg (46.52 KB, 下载次数: 3)\n\n下载附件\n\n2014-4-20 19:23 上传\n\n\n\n\n\n\n\n\n\nXS$`C8GN}ZE5ZZE[%VZR5[T.jpg (45.2 KB, 下载次数: 2)\n\n下载附件\n\n2014-4-20 19:23 上传\n\n\n\n\n\n\n\n\n\n53F$R$FF`)_VC`WJWJRNJ$D.jpg (30.42 KB, 下载次数: 2)\n\n下载附件\n\n2014-4-20 19:23 上传\n\n\n\n\n\n\n\n\n\nZ{22VH}0UI6E55{`0P){MX2.jpg (31.76 KB, 下载次数: 1)\n\n下载附件\n\n2014-4-20 19:24 上传\n\n\n\n\n"
        },
        {
            "author": "huanghongxun",
            "timestamp": 1398249060,
            "txt_content": "真像ue的模式。。但是有什么导线api是不做决定对吧"
        },
        {
            "author": "金坷居士",
            "timestamp": 1398269580,
            "txt_content": "huanghongxun 发表于 2014-4-23 18:31\n真像ue的模式。。但是有什么导线api是不做决定对吧\n比UE更科学更高效~\n比如你给电源带的负载过重可以烧掉电源\n不同电压的电源并联会带来电流导管引起损坏\n线路压降根据复载大小变化\n这些都素任何现有能源网不可能做到的说~\n另外 导线种类只素建议 只建议有现实中的导线 当然API里包含很方便添加更多导线的东西www"
        },
        {
            "author": "qiuF",
            "timestamp": 1398306300,
            "txt_content": "这个如果真的做到了，那就不像MC了，我觉得MC就是在真实和虚拟之间，来源于现实，高于现实"
        },
        {
            "author": "饕餮魍魉枭蹀躞",
            "timestamp": 1398599760,
            "txt_content": "电线的碰撞箱有点bug，总是穿透"
        },
        {
            "author": "金坷居士",
            "timestamp": 1400423820,
            "txt_content": "\n\n\n\nmod_SimElectricity-1.0.jar\n(156.26 KB, 下载次数: 1)\n\n\n\n2014-5-18 22:33 上传\n点击文件名下载附件\n\n\n\n\n\n\n最新的SimElectricity\n在1.7.2下运行\n还需要这个\n\n\n\njgrapht-jdk1.6.jar\n(239.51 KB, 下载次数: 1)\n\n\n\n2014-5-18 22:35 上传\n点击文件名下载附件\n\n\n\n\n\n 因为mod调用了这个进行节点统计\n\n目前基本的发电机和电器都已经做出来了 发电量 耗电量设定可能还存在bug\n多人MCPC 多人联机已经测试过 没有任何问题 除了导线在多人模式下可能连接慢一些 以后会修复的"
        },
        {
            "author": "Kium",
            "timestamp": 1400680020,
            "txt_content": "居然不说一声←_←来顶帖子了"
        },
        {
            "author": "KMIB",
            "timestamp": 1401818100,
            "txt_content": "支持一下\n\n随便死皮赖脸的求1.7.2的青蛙工艺\n\n还有群还可以加人不"
        },
        {
            "author": "nlbbkb",
            "timestamp": 1402389240,
            "txt_content": "纯新手可以加群学习么？"
        },
        {
            "author": "nlbbkb",
            "timestamp": 1402389300,
            "txt_content": "另外提问一个getHub怎么上……"
        },
        {
            "author": "TravelingLight",
            "timestamp": 1402395420,
            "txt_content": "路过{:10_492:}"
        },
        {
            "author": "mikuand",
            "timestamp": 1402395720,
            "txt_content": "zhh0000zhh 发表于 2014-4-17 13:59\n建议添加金线。。\n金线的电阻最小\n= =不是石墨烯吗，而且金线的电阻率比银线略高，银还在它之上啊=、="
        },
        {
            "author": "zhh0000zhh",
            "timestamp": 1402406700,
            "txt_content": "mikuand 发表于 2014-6-10 18:22\n= =不是石墨烯吗，而且金线的电阻率比银线略高，银还在它之上啊=、=\n搞错了。。因为金的化学性质稳定，所以用于镀层。。"
        },
        {
            "author": "mikuand",
            "timestamp": 1402446900,
            "txt_content": "zhh0000zhh 发表于 2014-6-10 21:25\n搞错了。。因为金的化学性质稳定，所以用于镀层。。\n没错，是这样的"
        },
        {
            "author": "金坷居士",
            "timestamp": 1404843540,
            "txt_content": "\n\n\n\n\nHZT1PSTEE8QWWC@TA}A(NB2.jpg (114.7 KB, 下载次数: 0)\n\n下载附件\n\n2014-7-9 02:18 上传\n\n\n\n\n\n本mod最新的高压远距离输电方式  不光美观而且对服务器压力很小\n"
        },
        {
            "author": "神の左手",
            "timestamp": 1404845580,
            "txt_content": "很久以前第一次玩工业就想了。。。最关心的问题是远距离传输电力转高压效率高的问题，不知道工业里有没有这种设定。。。。顶楼主！希望mod里能出现！"
        },
        {
            "author": "神の左手",
            "timestamp": 1404845700,
            "txt_content": "怒顶楼主！希望出现传输电力高压损耗小这样真实的设定！话说工业有这种设定么。。。。？"
        },
        {
            "author": "soumaakane",
            "timestamp": 1405395000,
            "txt_content": "请问居士对目前172版本的格雷5，格雷作者对各种mod的“侵入”，有何种看法？\n青蛙工艺，是否也会面临格雷的侵入？\n\n居士曾表示过青蛙工艺，不再开发164，将会出台172独立版本，请问目前进度如何？本帖的电网开发，是否将来会在青蛙工艺中采用！？\n\n另，青蛙工艺，将会采取何种举措？或者说青蛙工艺是是一定程度上加难但维持便利性，亦或是强烈困难度的mod，如果是后者，是否会有类似格雷那样的侵入其它mod的行为！？"
        },
        {
            "author": "SSCXM",
            "timestamp": 1409130660,
            "txt_content": "有生之年了"
        },
        {
            "author": "ill110100",
            "timestamp": 1426410540,
            "txt_content": "这个也成了有生之年了吗！"
        },
        {
            "author": "金坷居士",
            "timestamp": 1491671520,
            "txt_content": "bill110100 发表于 2015-3-15 17:09\n这个也成了有生之年了吗！\n经过艰难的研究 加上国外大学实在太忙 这个mod已经变成了比东方某动画还要有生之年系列\n当然中国超科学mod研究院秉承 不轻易开坑 有坑必填 的光荣传统 一定会发布正式版\n不过本mod的两位元老级开发者准备于近日举行国家电网mod女装技术预览发布会(Technical preview)\n\n先剧透下最新进度\n\n\n\n\n\nTP.jpg (435.17 KB, 下载次数: 0)\n\n下载附件\n\n2017-4-9 00:53 上传\n\n\n\n\n\n\n更多问题将在Technical Prewview上进行解答ww\n"
        },
        {
            "author": "goose_bomb",
            "timestamp": 1491972900,
            "txt_content": "加入变压器的话应该还是线性网络，可以继续用线性代数的方法求解矩阵。\n但是电容电感电路有微分方程，可能需要一些微分方程的数值解法"
        },
        {
            "author": "金坷居士",
            "timestamp": 1492340160,
            "txt_content": "goose_bomb 发表于 2017-4-12 12:55\n加入变压器的话应该还是线性网络，可以继续用线性代数的方法求解矩阵。\n但是电容电感电路有微分方程，可能 ...\n现在mod中已经有一些非线性的元件了 比如二极管和稳压器\n现在使用的算法是牛顿法求解非线性方程组\n科学的电路模式 最大程度减少了不收敛问题"
        },
        {
            "author": "Acanai",
            "timestamp": 1492661820,
            "txt_content": "挖坟.............."
        },
        {
            "author": "金坷居士",
            "timestamp": 1496307540,
            "txt_content": "儿童节更新 (Children's day patch)\n已经实现了能源网的多线程支持和硬件加速的支持\n文档和wiki正在编写中\nTechnical Preview(技术预览发布会)将于六月底在B站进行直播(有院长的女装哦所以一定要来辣www)"
        }
    ]
}