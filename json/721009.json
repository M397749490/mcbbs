{
    "title": "HolographicDisplaysAPI汉化（呸，新手指引）",
    "author": "zyx2",
    "replyCount": 5,
    "timestamp": 1502798100,
    "txt_content": " 本帖最后由 zyx2 于 2017-8-15 20:10 编辑 \n\n零、引言这编辑器真心想哭，和我预览完全不同\n全息图API是相对其他插件API来说比较简单的一款，也是比较实用的一款，很多服务器都装了这个插件，所以我斗胆翻译一下才不会说为了绿宝石不择手段之类的话呢一、打开你的全息图[1]世界\n1、下载全息图API插件（here）\n2、把他像引入你的craftbukkit(spigot)一样引入\n3、在你的“plugin.yml”内加入以下内容：\n\nsoftdepend: [HolographicDisplays]复制代码如果你的插件必须使用全息图API你可以加上以下代码：@Override\npublic void onEnable() {\n\n        if (!Bukkit.getPluginManager().isPluginEnabled(\"HolographicDisplays\")) {\n                getLogger().severe(\"*** HolographicDisplays is not installed or not enabled. ***\");\n                getLogger().severe(\"*** This plugin will be disabled. ***\");\n                this.setEnabled(false);\n                return;\n        }\n        \n        // Rest of the code\n}复制代码\n二、创建你的全息图/添加文本Plugin plugin = ... //你的插件\nLocation where = ... //创建位置\nHologram hologram = HologramsAPI.createHologram(plugin, where);//创建\ntextLine = hologram.appendTextLine(\"A hologram line\");//添加文字复制代码如何获得一个Plugin实例？Bukkit.getPluginManager().getPlugin(\"插件名称\");复制代码如何获得一个Location实例？\n1、player.getLocation();复制代码2、Location l = new Location(World world,double x,double y,double z)复制代码world可以用Bukkit.getWorld();取得\n三、修改你的全息图/显示物品\n在第一行前面加入一个基岩，并修改成草方块\nItemLine itemLine = hologram.insertItemLine(0, new ItemStack(Material.BEDROCK));\nitemLine.setItemStack(new ItemStack(Material.GRASS));复制代码\n\n注意：全息图和数组一样，下标从0开始\n如果你的下标错误，将会报“ArrayOutOfBoundsException”错误提示：你可以像List一样使用“hologram.size()”四、移动/删除你的全息图你完全可以像操作一个实体一样操作你的全息图，使用hologram.teleport(Location location);//移动删除全息图：hologram.delete();作者的一个例子（让全息图跟随玩家移动）：final Hologram hologram = HologramsAPI.createHologram(plugin, player.getLocation().add(0.0, 2.0, 0.0));\nhologram.appendTextLine(\"Chat > Message\");\n\nnew BukkitRunnable() {\n\n        // We don't want the task to run indefinitely\n        int ticksRun;\n\n        @Override\n        public void run() {\n                ticksRun++;\n                hologram.teleport(player.getLocation().add(0.0, 2.0, 0.0));\n\n                if (ticksRun > 100) { // 100 ticks = 5 seconds\n                        hologram.delete();\n                        cancel();\n                }\n        }\n}.runTaskTimer(plugin, 1L, 1L);复制代码\n五、实例：如何设置一个显示名字的物品效果图\n\n\nLocation where = ... // Suppose you have a random location in your minigame\n\nString text = ChatColor.GOLD  + \"\" + ChatColor.BOLD + \"Fire Resistance\";\nItemStack icon = new ItemStack(Material.BLAZE_POWDER);\n\nfinal Hologram hologram = HologramsAPI.createHologram(this, where.add(0.0, 0.6, 0.0));\nhologram.appendTextLine(text);\nItemLine itemLine = hologram.appendItemLine(icon);\n\nitemLine.setPickupHandler(new PickupHandler() {        \n\n        @Override\n        public void onPickup(Player player) {\n                                        \n                // Play a sound\n                player.playSound(player.getLocation(), Sound.LEVEL_UP, 1F, 2F);\n                                        \n                // Play an effect\n                player.playEffect(floatingItem.getLocation(), Effect.MOBSPAWNER_FLAMES, null);\n                                        \n                // 1 minute of fire resistance\n                player.addPotionEffect(new PotionEffect(PotionEffectType.FIRE_RESISTANCE, 60 * 20, 0));\n                                        \n                // Delete the hologram\n                hologram.delete();\n                                        \n        }\n});复制代码\n六、实例：为每位玩家显示不同的全息图需要Protocol Lib1、创建一个全息图Hologram hologram = HologramsAPI.createHologram(player.getLocation());2、获取可见性控制器（VisibilityManager 我不知道如何翻合适）VisibilityManager visiblityManager = hologram.getVisibilityManager();\n\n3-1、设置全息图的隐藏、显示\nvisibilityManager.setVisibleByDefault(false);\n所有玩家都将看不见这个全息图\n\nvisibilityManager.setVisibleByDefault(true);\n它又重新回来了\n3-2、设置只有指定玩家看得见全息图\nvisibilityManager.showTo(player);\nvisibilityManager.setVisibleByDefault(false);\n这样做将只有指定玩家能看见全息图\n\nvisibilityManager.setVisibleByDefault(true);\nvisibilityManager.resetVisibilityAll();\n这是重置方法\n4、注意事项[在1.8中]\n请在setVisibleByDeafult之前使用showTo否则将没有人能看见这个全息图\nhideTo(player) 和 showTo(player) 不应该在同一个tick中调用\n请在添加行之前使用显示控制器【重要呀！】\n七、后记注释1 全息图：https://github.com/filoghost/HolographicDisplays\n站内搬运帖：http://www.mcbbs.net/thread-647590-1-1.html\n全息图API（英文）：https://filoghost.me/HolographicDisplays/\n如果后续作者还有什么特性更新我会陆续更新如果对你有帮助留下你的人气哟我讨厌这个编辑器，一个代码部分我要搞好几次-.-难过",
    "replies": [
        {
            "author": "冷梦闫晓青",
            "timestamp": 1502872020,
            "txt_content": "9999999999999"
        },
        {
            "author": "城雨",
            "timestamp": 1518096420,
            "txt_content": "编辑器？在哪？"
        },
        {
            "author": "zyx2",
            "timestamp": 1518138660,
            "txt_content": "城雨 发表于 2018-2-8 21:27\n编辑器？在哪？\n???什么编辑器？eclipse？netbeans？idea？"
        },
        {
            "author": "城雨",
            "timestamp": 1518148140,
            "txt_content": "zyx2 发表于 2018-2-9 09:11\n???什么编辑器？eclipse？netbeans？idea？\n引言下面那行字呀"
        },
        {
            "author": "zyx2",
            "timestamp": 1518189120,
            "txt_content": "城雨 发表于 2018-2-9 11:49\n引言下面那行字呀\n那個編輯器呀\n就是論壇的帖子編輯器呀\n那玩意爆炸難用\n使我崩潰多次\n\n誰設計的評分最低要評10個金粒，真是讓我這種窮逼活不下去"
        }
    ]
}