{
    "title": "如何检测钓鱼竿浮标勾住实体",
    "author": "CR_019",
    "replyCount": 3,
    "timestamp": 1579840200,
    "txt_content": "1.15+原版如何检测钓鱼竿浮标勾住实体\n拒绝除datapack以外的其他外置",
    "replies": [
        {
            "author": "Jokey_钥匙",
            "timestamp": 1579840200,
            "txt_content": " 本帖最后由 Jokey_钥匙 于 2020-1-24 13:36 编辑 \n\n简单（大概）\n#test:1(每刻执行)\ntag @e[type=fishing_bobber,tag=!start] add first\ntag @e[type=fishing_bobber] add start\nexecute as @e[type=fishing_bobber,nbt={OnGround:0b}] at @s run function test:2\n#test:2\nexecute as @e[type=!fishing_bobber,dx=0,dy=0,dz=0] positioned ~-1 ~-1 ~-1 if entity @s[dx=0,dy=0,dz=0] run tag @s add find\nexecute if entity @e[tag=find] if entity @s[tag=!first] run say hook!\nexecute if entity @s[tag=first] if entity @e[tag=!find] unless entity @a[distance=..1.65] run tag @s remove first\ntag @e remove find\n原理：利用dxdydz检测鱼钩是否与其他实体相交 由于钩中实体的鱼钩一定为不落地 所以利用OnGround来排除鱼钩落地后仍然与实体相交的情况\n\n\n\n\n\n\n\n"
        },
        {
            "author": "Jokey_钥匙",
            "timestamp": 1579844160,
            "txt_content": "不是不是不是我还没改完哪\n钓鱼钩有bug 如果向下扔会直接判定钩在自己身上没下来\n解决方法是加unless entity @a[distance=..1.65] 可以防止这种情况\nfirst是为了防止第一次扔出去钩没离体先判定一次\n多人有极小概率发生检测不到的bug（贴别人脸上扔鱼钩）"
        },
        {
            "author": "CR_019",
            "timestamp": 1579848240,
            "txt_content": "Jokey_钥匙 发表于 2020-1-24 13:36\n不是不是不是我还没改完哪\n钓鱼钩有bug 如果向下扔会直接判定钩在自己身上没下来\n解决方法是加unless entit ...\n感谢!对于我来说目的已经达到了。\n（作为一把武器扔到自己也不是没有可能233）\n但是对于其他有相似需求的人可能有帮助和借鉴的意义"
        }
    ]
}