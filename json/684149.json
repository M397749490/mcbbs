{
    "title": "[从零开始]魔改教程-CS从基础到精通全方面教程",
    "author": "836193631",
    "replyCount": 13,
    "timestamp": 1496060940,
    "txt_content": " 本帖最后由 836193631 于 2017-8-3 13:45 编辑 \n第二章 Custom Stuff 从零讲解\n\n\nPage.0 真正的前言\n\n有人可能发问了，我们不是在第零章已经前言了一章么？我们这里还废话什么，而且还将这个废话的前言放在最前面？\n是因为我觉得这个很重要，所以我需要在此进行进一步的强调。\n如果你从上一章节幸存的话，就说明你拥有学习魔改的资质，是天选之人（？？？）。而如果你完成了本章的学习你就会成为一个真正的魔改工作者。.\n这一章节，我将叙述几乎所有关于CS的知识，包括无法查询的GUI（浅学？？），流体和事件\n而我希望了学习了这些的你可以发挥自己全部的创造力。\n我总是强调创造力创造力，那么创造力到底是什么呢？\n创造力，不是异想天开，我想着做一个巨大的MOD，或者是将现实移植进MC中\n而是一种切合于实际的想法，在自己力所能及的范围内，达到最终的目的。或者说，是用魔改的手段，超越魔改！\n但也不是循规蹈矩，仅仅如同其他人一样，模仿着制作。\n既然大家都着急看教程，那样我也闲话省去，现在开始我们的旅程。\n朋友们，我们的旅程现在开始！\n\n\n花开落去，光阴回转，将其予你\n\n\n\n\nPage.1 CS2&CS3准备工作\n\nCustomStuff中文自定义物品，这款神奇的模组允许你使用javascript语言自己向游戏添加新内容：包括新方块，新物品以及新的合成表。\n下面列举部分内容和特性:\n支持添加17种类型的方块，超过70种可以自定义的属性。\n支持添加4种类型的物品，超过50种可以自定义的属性。\n支持添加合成表，无论是象形合成还是非象形合成，支持使用矿物辞典。\n支持添加冶炼合成，同样支持矿物辞典。\n支持添加村民交易合成。\n支持修改地牢宝箱内容。\n支持独立的创造模式标签。\n支持添加燃料。\n支持添加世界生成内容，让自定义的矿石生成在你的世界里吧！\n支持为你的方块和物品编写脚本。\nCS3作为CS2的后身，其添加了可视化编程界面（就跟MT的那个RecipesMaker是一个道理，简单易用）。所以本篇将大篇幅介绍CS2，而略微介绍CS3，因为CS3过于简单，而且CS3的功能缺少了很多。不过我们也会专门介绍CS2&CS3互补原则。\n安装CS的过程跟安装普通MOD一样，值得注意的是CS2有一个前置MOD，JS，所以安装的时候请不要漏选。\n本篇介绍采用的MC版本1.7.10，CS2版本0.11.15，CS3版本0.7.9\n在学习之前，请先下载其配套文件https://bitbucket.org/cubex2/custom-stuff-2-documentation\n如若下载不了，请点击后文的下载链接。\n\n\nStage.1 CS2的准备工作\nCS（除非特殊注明，以下均用CS表示CS2）与MT一样，也是要通过使用者自己创建文件来进行编写加载的，而与MT不同的是，CS的结构更加复杂，不过条例也更清晰。如果各位有时间不如跟我一起来学习创建一个CS的文件。如果各位没有时间也可以下载后面的整合版。\n\n\n首先，安装CS2和JS，并且在你的MOD文件夹内创建一个文件，名字叫做CS2_xxx，其中xxx代表你用CS添加的MOD名称\n但是不能用中文——以后取名字都是这样\n\n\n\n\n\n360截图-88384750.jpg (26.78 KB, 下载次数: 0)\n\n下载附件\n\n2017-4-2 17:33 上传\n\n\n\n\n\n\n如果这么创建一个文件夹，然后你再进入游戏，你会发现这个空无一物的文件夹里面多了一个文件夹“_customstuff”\n\n\n\n\n\n360截图-88658203.jpg (2.25 KB, 下载次数: 4)\n\n下载附件\n\n2017-4-2 17:36 上传\n\n\n\n\n\n\n这个文件夹是CS自动生成的，最好不要删除，然而就算删除了也会自己重新生成这里面将会存储所有有关你MOD的信息，也就是说，其他部分都是累赘，只有这个文件中储存的才是你做的MOD所加载的事实上CS3也采用了这种储存方式。\n但是光有这个是不行的，我们还需要在CS2_XXX这个文件夹下面补充许多的文件夹和文件\n\n\n\n\n\n360截图-88797484.jpg (36.7 KB, 下载次数: 3)\n\n下载附件\n\n2017-4-2 17:38 上传\n\n\n\n\n\n\nassets：资源文件夹，内部用于存放材质和语言文件\n         在Assets目录下我们需要新建一个文件夹，这个文件夹的名称和你的MOD名称相同\n          我的MOD叫做Mixer，所以就用Mixer创建了一个文件夹，大小写不需要关心\n          \n\n\n\n\n360截图-89506937.jpg (8.94 KB, 下载次数: 0)\n\n下载附件\n\n2017-4-2 17:33 上传\n\n\n\n\n\n                 再在这个文件夹下方新建两个文件夹，分别叫做lang（语言文件夹）和textures（材质文件夹）\n                 \n\n\n\n\n360截图-89618750.jpg (11.41 KB, 下载次数: 2)\n\n下载附件\n\n2017-4-2 17:52 上传\n\n\n\n\n                         在textures文件夹下面，我们还需要如图创建几个文件夹                          \n\n\n\n\n360截图--2044787203.jpg (15.89 KB, 下载次数: 2)\n\n下载附件\n\n2017-4-29 09:06 上传\n\n\n\n\n                          blocks：存放方块材质                          entity：存容器/实体材质                          gui：存放GUI材质                          item：存放物品材质                          models：存放盔甲材质                          在lang文件夹下面，我们也需要创建两个文件                          \n\n\n\n\n360截图--2044650890.jpg (11.96 KB, 下载次数: 3)\n\n下载附件\n\n2017-4-29 09:25 上传\n\n\n\n\n                          en_US.lang是用于存放英文语言文件的                          zh_CN.lang适用于存放中文                                         注意:中文语言文件一定要用UTF-8编码！！！！不然会乱码！！！                                                    中文语言文件一定要用UTF-8编码！！！！不然会乱码！！！                                                         中文语言文件一定要用UTF-8编码！！！！不然会乱码！！！                                                     用记事本打开命名好的文件，然后文件-另存为，修改编码为UTF-8，然后保存                                                           \n\n\n\n\n360截图--2044445359.jpg (26.44 KB, 下载次数: 5)\n\n下载附件\n\n2017-4-29 09:29 上传\n\n\n\n\n回到MOD主目录blocks：有关方块信息JS的存放位置data：我们用不到的文件夹guis：存放图形界面也就是GUI的文件夹items：存放物品信息JS的文件夹scripts：联动事件的存放文件夹tileEntities：定义容器属性worldGeneration：世界生成config.ini：据说是可以生成跟MOD一样的可调试配置文件mcmod.info：是存放制作者信息和MOD信息的（就是你在游戏中MOD里面看到的介绍）mod.js：最重要的,用于导入的文件（也就是相当一个链接器）\n\n现在，一切准备就绪，our story begins！\n\n\nPage.2 CS2物品制作以及通用讲解Stage.1 CS2-第一个物品首先，我们必须要明确我们的第一个目标，就是写一个物品这个物品的效果不必太特殊，只要有就行现在，请按照以下步骤进行1.打开items文件夹创建一个XXX.js文件（这个文件的名称最好和你的物品名称保持一致，防止混淆，其中XXX代表名称）\n\n\n\n\n360截图--2043844671.jpg (13.06 KB, 下载次数: 1)\n\n下载附件\n\n2017-4-29 09:21 上传\n\n\n\n\n\n打开这个JS文件，在其中写入词条name = \"Test\";      //物品的名称，但并非显示名称\naddToCreative[0] = true;    //是否加入到创造模式中\ncreativeTab = \"materials\";   //加入的创造列表\nmaxStack = 3;   //最大堆叠\ntextureFile[0] =\"Test.png\";  //材质文件名称\ninformation[0] = \"只是一个测试物品而已，你想干什么？？\";  //描述（可有可无）复制代码2.由于物品需要材质，我们需要在textures-items文件夹内加入对应名称的材质\n\n\n\n\n360截图--2043610859.jpg (6.04 KB, 下载次数: 3)\n\n下载附件\n\n2017-4-29 09:43 上传\n\n\n\n\n\n材质可以是16x16，也可是32x32，后缀为png，名称必须和你test里面调用的材质名称相同3.为物品添加游戏内的名称，物品的表示名称并非是它在游戏内显示的名称打开lang，在en_US.lang内写入item.Test0.name=Test Item  //当然可以换成你自己的名称复制代码这里提一下，包括写item js的时候，有些后面会带一个 0，这个0代表的是附加值，我们会在后文的附加值流水线详细谈论其作用在zh_CN.lang内写入item.Test0.name=测试物品  //同理复制代码保存关闭\n4.打开mod.js，连接我们创建的js输入mod.addItem(\"Test.js\", \"normal\"); //当然可以换成你自己的名称，这里的链接名称是JS的名称，而非物品标识名称复制代码5.打开MC查看\n\n\n\n\nPK5(P]%SG5QRC9NW]]9H3Z0.png (25.42 KB, 下载次数: 11)\n\n下载附件\n\n2017-4-29 10:07 上传\n\n\n\n\n\n\n还有，写这些词条的时候尽量空出来第一行（玄学）\nStage.2 通用讲解由于CS2更加系统化，所以在教程内可能无法做到一个个解释，但是会将一些奇奇怪怪的东西加以解释下文将会采用简单易行的通用讲解来代替长篇幅的解说叙述譬如说，物品我可以这么讲给你们听//item文件夹下Test.jsname = \"Test\";      \naddToCreative[0] = true;   \ncreativeTab = \"materials\";  \nmaxStack = 3;   \ntextureFile[0] =\"Test.png\"; \ninformation[0] = \"只是一个测试物品而已，你想干什么？？\";  复制代码\nmod.js //代表打开mod.jsmod.addItem(\"Test.js\", \"normal\");复制代码\n这样，我就完成了对一类东西的介绍了\n现在，介绍几个通用概念---在制作方块等物品时可以用到\n创造分类名称---实际上我们在后面会提到用CS3添加Lab为CS2服务brewing 酿造\nbuildingBlocks 建筑方块\ncombat 装备\ndecorations 装饰\nfood 食物\nmaterials 材料\nmisc 杂项\nredstone 红石\ntools 工具\ntransportation 交通运输复制代码行走在方块上的声音cloth 布制品\nglass 玻璃破碎\ngrass 草方块\ngravel 砂砾\nmetal 金属方块\nsand 沙子\nstone 石头\nwood 木头复制代码方块材料类型cactus 仙人掌\ncircuits 电路\nclay 黏土\ncloth 布制品\ncraftedSnow 制作雪\nfire 火\nglass 玻璃\ngrass 草方块\nground 地面\nice 冰\niron 铁\nlava 岩浆\nleaves 树叶\nplants 植物\npumpkin 南瓜\nredstoneLight 红石灯\nrock 石头\nsand 沙子\nsnow 雪\nsponge 海绵\ntnt TNT\nvine 蕨\nwater 水\nwood 木头复制代码开采工具种类pickaxe 镐子\naxe 斧头\nshovel 铲子\nhoe 锄头\nsword 剑复制代码\n这样做的优点是方便了我的叙述，同时也方便了大家的复制粘贴，也加快了看教程的速度\n其实CS2只要给个例子，一般人都能摸明白，谁叫现在连例子都缺呢？（笑）\n\n\nPage.3 CS基础例子\n\n添加方块(最简单方块)//block文件夹下TestBlock.jsname = \"TestBlock\";\n\nmaterial = \"rock\";   //材质\nstepSound = \"stone\";  //行走音效\ncreativeTab = \"materials\";\n\nhardness[0] = 5;  //硬度\nresistance[0] = 5;   //防爆等级\ntoolClass[0] = \"pickaxe\";  //可以被那种工具采集\ndrop[0] = \"Mixer:TestBlock 1, minecraft:dirt 0-1\";  //掉落物，可以用“，”来隔开两个掉落物\nharvestLevel[0] = 1;  //挖掘等级\ntextureFileXP[0] = \"TestBlock.png\";  //分别代表几个面的材质\ntextureFileXN[0] = \"TestBlock.png\";\ntextureFileYP[0] = \"TestBlock.png\";\ntextureFileYN[0] = \"TestBlock.png\";\ntextureFileZP[0] = \"TestBlock.png\";\ntextureFileZN[0] = \"TestBlock.png\";\naddToCreative[0] = true;\ninformation[0] = \"测试方块？？？\"复制代码\nmod.jsmod.addBlock(\"TestBlock.js\", \"normal\");复制代码langtile.Test0.name=Test Blcok复制代码添加工具/武器//item文件夹下TestAxe.jsname = \"TestAxe\";//斧头或者是镐子和铲子\ncreativeTab = \"tools\";\nfull3d = true; //是否采用3D模型\ntoolClass = \"axe\";  //工具类型，可以为pickaxe axe shove\nharvestLevel = 3;  //采掘等级\nmaxDamage = 200; //最高耐久\naddToCreative[0] = true;\ndamage = 2;  //武器伤害\nefficiency[0] = 6.0;  //附魔率\nonHitEntity[0] = \"itemstack.damageItem(2);\"; //以下三个是事件，具体解释请看下文\nonBlockDestroyed[0] = \"itemstack.damageItem(1);\";\ntextureFile[0] = \"TestAxe.png\";复制代码PS.由于工具和武器涉及事件，这里将锄头并未列在其中，而会在后文作为例子出现，见谅。mod.js\nmod.addItem(\"TestAxe.js\",\"axe\");复制代码PS.这里导入时，最后的那个axe跟你的工具类别有关，斧头就是axe，镐子就是pickaxe依次列推lang.jsitem.TestAxe0.name=Test Axe复制代码添加食物//item文件夹下TestFood.jsname = \"TestFood\";\ncreativeTab = \"food\";\nmaxStack = 64;\nhunger[0] = 12;   //回复的饥饿值\nsaturation[0] = 0.3  //回复的饱食度\naddToCreative[0] = true;\ntextureFile[0] = \"CrateBread.png\";\nalwaysEdible[0] = true;  //是否允许满饥饿食用\npotion[0] = \"moveSpeed\"; //添加药水属性\npotionAmplifier[0] = 0;  //药水等级\npotionDuration[0] = 60; //药水持续时间\npotionProbability[0] = 1.0  //食用时获得Buff的几率，1.0为100%，0.5为50%复制代码mod.jsmod.addItem(\"TestFood.js\",\"Food\");复制代码langitem.TestFood0.name=Test Food复制代码值得一提的是药水引用，这里药水引用是直接引用名称，以下列出moveSpeed 加速\nmoveSlowdown 减速\ndigSlowDown 挖掘速度减慢\ndamageBoost 伤害提升\ndigSpeed 急迫\nharm 瞬间伤害\nheal 瞬间治疗\njump 跳跃提升\nconfusion 反胃\nregeneration 再生\nresistance 抗性提升\nfireResistance 防火\nwaterBreathing 水下呼吸\ninvisibility 隐身\nblindness 失明\nnightVision 夜视\nhunger 饥饿\nwither 凋零\nweakness 虚弱\npoison 中毒复制代码\n\n\n\n\n\n\n\nPage.4 CS2研究方法\n还记得我们最开始的时候下载过的那个文件么，也就是CS2的配套文件。\n\n\n\n\n\n0D}~N6S{(L3AL}[W3~R$XN0.png (3.28 KB, 下载次数: 1)\n\n下载附件\n\n2017-5-29 19:15 上传\n\n\n\n\n\n\n打开它，你会发现一个叫做src的文件夹，打开你会发现一堆html文件和几个文件夹\n现在我们来讲我们工作主要围绕的几个文件以及其作用。\nblock.html：里面综合了所有关于方块的信息和词条\nitem.html：综合了关于物品的信息和词条\n我们先看这两个就行了。\nBlock.html：我想告诉你一些秘密\n\n\n\n\n\n)5G[46F8)[1[U@QF[$SJG4J.png (16.51 KB, 下载次数: 0)\n\n下载附件\n\n2017-5-29 19:25 上传\n\n\n\n\n\n\n进入block.html之后，迎面而来的就是所有的方块类型\n这些方块类型代表什么我们将在一会之后讨论，首先我们先找我们认识的一些东西。\n\n\n\n\n\n~2)1WBN9U_TE[9A)9OYG.png (11.75 KB, 下载次数: 1)\n\n下载附件\n\n2017-5-29 19:09 上传\n\n\n\n\n\n\n嗯？好熟悉，这些addToCreative和drop之类的好像在我们之前编写最基础方块的时候用到过\n不光这样，还有name，stepSound....全都有！！！\n现在我们打开addToCreative\n\n\n\n\n\nOYL5(D2)B4OSI@@4}7XY}DK.png (8.32 KB, 下载次数: 1)\n\n下载附件\n\n2017-5-29 19:29 上传\n\n\n\n\n\n\n这里解释了：什么叫做addToCreative呢，这个就是用来定义你的方块是否被添加到创造物品栏中的（creative inventory）\n这个还允许附加值改变呢，因为addToCreative[0] = true;，后面的[0]就代表附加值0（后文专门会讲附加值流水线工艺）\n哇！好厉害，这样岂不是可以随便组合这些词条形成一个方块么！\n正是如此！\n如果我要做个玻璃方块，仅仅是透明材质会导致透视的问题，所以我们需要加上\ntransparent = true;复制代码（见transparent）\n如果我要做一个经验掉落，我就可以用\nexpDrop[0] = \"4-9\";复制代码（见expdrop）\n如果我要在右键到方块的时候进行事件，我需要添加（后文会专门介绍事件，所以请不要着急）\nonActivated[0] = \"player.sendMessage('Activated me!');\";复制代码(见onActivated)\n等等等等等，你都可以进行添加，只要你觉得哪个需要，你就可以将它放在最基础方块的词条末尾这样，它就会被加载，而这些词条也会发挥作用。\n\n那如果我要做个按钮，那就更简单了，因为配套文件早就给你列出来了按钮这个方块所特有的属性\n\n\n\n\n\n3PF8KTDM42}%]Q{LAFN((OB.png (1.17 KB, 下载次数: 2)\n\n下载附件\n\n2017-5-29 19:21 上传\n\n\n\n\n\n也就是说，我只需要在做的普通方块的后面添加\nisSensible = true;复制代码他就变成了一个按钮了？\n不，首先，这个词条效果只是让弓箭能够触发按钮\n其次，由于方块类型不一样，你需要在导入时做些改动\n原本方块是mod.addBlock(\"TestBlock.js\", \"normal\");复制代码现在就不是normal 的方块了，而是button，因此，它需要改动为mod.addBlock(\"TestBlock.js\", \"button\");复制代码这样，他就作为一个按钮出世了，其他种类的方块如法炮制。\n\n\n\n唯几值得一提的之一就是流体，这里可以设置的东西包括粘度，是否是气体，流动长度等等（顺便一说，流体不需要原版那样长条的材质，单个方块材质就行）\n\n\n\n\nXZW9NB1KHOHS7]$YGHK}[DX.png (2.01 KB, 下载次数: 1)\n\n下载附件\n\n2017-5-29 19:43 上传\n\n\n\n\n\n但是他并不包括对应的桶怎么做。\n不过在item.html里面你会发现桶的做法\n\n\n\n\n`%)M@][YOBS9_5$}`G(1YLA.png (1.2 KB, 下载次数: 0)\n\n下载附件\n\n2017-5-29 19:45 上传\n\n\n\n\n\n因此我强烈建议你先通读一遍所有的html然后再进行编写。\n\n\n另外还有值得一提的就是箱子，熔炉。由于这些方块属于容器，因此独树一帜，我们将在后文专门研究他们、\n\nOthers：其他所有的html都是这样这里介绍这些，是因为后文会大量引用这里的知识，所以在这里提出\n包括后文的GUI（用户图形界面）和容器以及大量的事件\n而笔者大部分的经验也是从这些html之中领悟到的\n希望大家也能从中有所收获。\n值得一提，javadoc--index-files内部的html记载了一些调用的语句，不过不看也罢，因为我们拥有一些特殊方法。\n\n\n\n\n\nPage.5 CS2附加值流水线工艺\n\n这大概也是笔者的原创吧。随着时间的增长，你会发现写一堆物品是相当困难的。\n而你还记得附加值么，也就是[0]\n[0]意味着你可以在一个文件内写无限个附加值不同的物品\n\n\n\n\nD5ANOR5BN1T~VC5A`}9~OTA.png (56.47 KB, 下载次数: 3)\n\n下载附件\n\n2017-5-29 20:12 上传\n\n\n\n\n\n\n如图所示，这是一个范例物品，他的一些特性用附加值区分开的\n而name之类的通性并未区分，可以书写在同一个文件内\n而导入时也仅仅需要导入一个，也就是这个文件.js\n不过在语言文件那里需要依次导入\n\n\n\n\nNR[@M]EL86{M@~2P5DFWDVX.png (9.74 KB, 下载次数: 1)\n\n下载附件\n\n2017-5-29 20:23 上传\n\n\n\n\n\n\n在名称后面的0现在用途也清晰了，那个0代表的就是附加值！！！\n\n\n而这个跟流水线工艺有什么关系呢\n\n也就是说，我们可以在js中先输入第一个物品，譬如\nname = \"Mineralcrystallization\";\naddToCreative[0] = true;\ncreativeTab = \"materials\";\nmaxStack = 8;\naddToCreative[0] = true;\ntextureFile[0] = \"Mineral crystallization 0.png\";\ninformation[0] = \"由植物复合而成，似乎可以制成矿石\";复制代码然后我要做跟它相似的物品，可能做很多个，我只需要替换其中的0，变成1，复制就可以了\nname = \"Mineralcrystallization\";\naddToCreative[0] = true;\ncreativeTab = \"materials\";\nmaxStack = 8;\naddToCreative[0] = true;\ntextureFile[0] = \"Mineral crystallization 0.png\";\ninformation[0] = \"由植物复合而成，似乎可以制成矿石\";\n\nname = \"Mineralcrystallization\";\naddToCreative[1] = true;\ncreativeTab = \"materials\";\nmaxStack = 8;\naddToCreative[1] = true;\ntextureFile[1] = \"Mineral crystallization 1.png\";\ninformation[1] = \"由植物复合而成，似乎可以制成矿石\";复制代码以此类推，这样，我们可以在制作一个物品的时间内，做出来一类物品！！！\n\n\n\n\n\n\n\n\n\n\n\n\nPage.6 CS2事件浅讲事件是什么？事件有什么作用？这或许是作为玩家我们不所关心的。\n事件，与其说是事件，不如说是触发，当然这里为了叙述简单，用了事件的名字\n\n触发的组成结构很简单\n分为：事件，条件，动作 三部分\n事件代表的是触发的原因，譬如说踩上压力板这个触发，玩家踩上压力板这个动作就是触发原因，也就是事件\n条件代表的是进行动作之前的一个判定，这个条件是非必须的，可以省略，譬如说红石线是连续的就是红石信号能传导的条件\n动作代表的是事件所导致的一个结果，譬如说踩下压力板的事件，将导致门打开的结果，这个门打开便是动作\n\n\n其实以上只是我自己的说法，事实上基本没有人这么讲。但是为了下文行文方便，这里推出了这几个概念。\n\n\n准备工作：打开你的cubex2\n（这里的例子MOD为自制的CS2_Steel）\n我们先打开item.html\n\n\n\n\nO`NK}3[~0PY{{7[%[3NS2O8.png (4.99 KB, 下载次数: 3)\n\n下载附件\n\n2017-6-23 12:58 上传\n\n\n\n\n\n\n在这里，我们可以看到许多这些onxxx的代码，大部分带on的都是事件\non意为当什么什么时，譬如说onUsing当使用的时候，onUpdate每Tick发生判定时\n以此类推，这些你都可以用翻译软件查到对应的翻译，所以我就不一个个讲了\n那现在我们有了事件，动作呢？？？\n\n现在我们打开javadoc/index-files，我们会看到很多个html\n这些html里面装的就是我们所有可以调用的动作和get到的数据和特殊技巧\n当然这可能对某些人来说使用很困难，所以请允许我在下一节讲一讲更简单的更大众的方法\n不过首要是要做一个事件来展现展现我们的技巧\n说做就做，我们今天来做一个锤钢的MOD\n首先我们需要一个钢块，这个钢块拥有不同的状态，分别是完全，损坏一点，损坏很大，和完全损坏\n大概这样\n所以我创建了这个物品，代码如下\n//钢块\nname = \"SteelBlock\";\n\nmaterial = \"rock\";\nstepSound = \"metal\";\ncreativeTab = \"materials\";\n\nhardness[0] = 15;\nresistance[0] = 80;\ntoolClass[0] = \"pickaxe\";\ndrop[0] = \"Steel:SteelBlock\";\nharvestLevel[0] = 3;\ntextureFileXP[0] = \"SteelBlock0.png\";\ntextureFileXN[0] = \"SteelBlock0.png\";\ntextureFileYP[0] = \"SteelBlock0.png\";\ntextureFileYN[0] = \"SteelBlock0.png\";\ntextureFileZP[0] = \"SteelBlock0.png\";\ntextureFileZN[0] = \"SteelBlock0.png\";\naddToCreative[0] = true;\ninformation[0] = \"完整的钢块\"\n\n\nhardness[1] = 15;\nresistance[1] = 80;\ntoolClass[1] = \"pickaxe\";\ndrop[1] = \"Steel:SteelBlock:1\";\nharvestLevel[1] = 3;\ntextureFileXP[1] = \"SteelBlock1.png\";\ntextureFileXN[1] = \"SteelBlock1.png\";\ntextureFileYP[1] = \"SteelBlock1.png\";\ntextureFileYN[1] = \"SteelBlock1.png\";\ntextureFileZP[1] = \"SteelBlock1.png\";\ntextureFileZN[1] = \"SteelBlock1.png\";\naddToCreative[1] = true;\ninformation[1] = \"成型的钢块\"\n\n\nhardness[2] = 15;\nresistance[2] = 80;\ntoolClass[2] = \"pickaxe\";\ndrop[2] = \"Steel:SteelBlock:2\";\nharvestLevel[2] = 3;\ntextureFileXP[2] = \"SteelBlock2.png\";\ntextureFileXN[2] = \"SteelBlock2.png\";\ntextureFileYP[2] = \"SteelBlock2.png\";\ntextureFileYN[2] = \"SteelBlock2.png\";\ntextureFileZP[2] = \"SteelBlock2.png\";\ntextureFileZN[2] = \"SteelBlock2.png\";\naddToCreative[2] = true;\ninformation[2] = \"略微成型的钢块\"\n\nhardness[3] = 15;\nresistance[3] = 80;\ntoolClass[3] = \"pickaxe\";\ndrop[3] = \"Steel:SteelBlock:3\";\nharvestLevel[3] = 3;\ntextureFileXP[3] = \"SteelBlock3.png\";\ntextureFileXN[3] = \"SteelBlock3.png\";\ntextureFileYP[3] = \"SteelBlock3.png\";\ntextureFileYN[3] = \"SteelBlock3.png\";\ntextureFileZP[3] = \"SteelBlock3.png\";\ntextureFileZN[3] = \"SteelBlock3.png\";\naddToCreative[3] = true;\ninformation[3] = \"扭曲的钢块\"复制代码\n通过不同的Meta值来标志不同的钢块耐久\n作为锤钢，自然需要一个锤子，所以我也相对的做了一个锤子\n锤子的代码如下\n//锤子\nname = \"Hammer\";\naddToCreative[0] = true;\ncreativeTab = \"tools\";\nmaxStack = 1;\naddToCreative[0] = true;\ntextureFile[0] = \"Hammer.png\";\ninformation[0] = \"可以用来锤炼钢铁\";\nonUse[0] = \"mod.loadScript('HammerFortest.js');\";复制代码注意到了么，这里我用了一个事件\nonUse[0] = \"mod.loadScript('HammerFortest.js');\";复制代码翻译为\n当右键时= “加载HammerFortest.js”复制代码\n加载HammerFortest.js？？？这个是什么东西？？\n还记得刚开始我们分析CS2文件夹组成的时候么，我们曾经创建过一个scripts文件夹\n当时我说是干什么用的？？\n用于联动事件！！（事实上这句话有些问题）\n也就是说HammerFortest实际上是这个文件夹里的一个文件\nmod.loadScript('HammerFortest.js');这个动作将加载这个JS文件内的东西并且运行！\n现在我们看看HammerFortest.js里面写了什么\n\n\nvar x = position.x;\nvar y = position.y;\nvar z = position.z;  //将x y z分别赋值给变量，事实上默认就是x y z\nvar a;\nvar n; //声明引用的变量\nn = world.getBlockMetadata(position);\n//n为一个初始值，为右键方块的meta值\n\na = Math.floor(Math.random() * 50);\n//a为一个随机数，范围从1-50间的一个整数\n//random意为从50前取一个随机数，floor意为取这个数的最小正整数\nplayer.sendMessage('叮！');\n//发送一个信息给玩家\nif(a<3){//当a<3时\n  if(world.getBlockName(x, y, z) == \"Steel:SteelBlock\"){//获得这个方块的名字，如果为钢块\n          if(n>0){//如果n>0\n          world.setBlockMetadata(position, n - 1);  //降低该物品的附加值一点\n          player.sendMessage('铛！');  //发送信息给玩家\n          }\n        }\n}复制代码//事实上可以简化为\n\nif(a<3 && n>0 && world.getBlockName(x, y, z) == \"Steel:SteelBlock\"){  //&&为逻辑与符号\n          world.setBlockMetadata(position, n - 1);  //降低该物品的附加值一点\n          player.sendMessage('铛！');  //发送信息给玩家\n}复制代码这样，每次用锤子右键钢块就会发送消息并且有一定几率让钢块转换为下一阶段，直到meta变为0\n\n\n\n\n2017-06-23_15.38.41.png (146.12 KB, 下载次数: 2)\n\n下载附件\n\n2017-6-23 15:59 上传\n\n\n\n\n\n\n\n\n2017-06-23_15.38.49.png (94.19 KB, 下载次数: 4)\n\n下载附件\n\n2017-6-23 15:59 上传\n\n\n\n\n\n\n\n\n大概就是这样了\n\n\n顺便一说，事件需要一些js水平\n最后一说，原版锄头的制作就需要事件\n\n\n\n\n\nPage.7 CS2&CS3事件互补\n\n或许在上一节我提到过什么特殊方法，事实上，这只是偷鸡而已\n不过就算是偷鸡，我也会讲一下的\n\n如果我们在MC中打开CS3的话，映入眼前的是创建MOD的界面\n\n\n\n\nBY4L@X2E6]}4_)F6BFHI(7Y.png (6.25 KB, 下载次数: 3)\n\n下载附件\n\n2017-8-1 11:46 上传\n\n\n\n\n(关于CS3，我会专门开一章讲述一些难点，这里就不赘述如何如何使用CS3，事实上CS3只是一个傻瓜版CS2，只要懂得一点英语什么都好)\n两个选项，一个是打开你的MOD，另一个是查看Javascript\n下面我要讲一下CS2和CS3的关系，他们两个是亲兄弟，功能几乎相同，除了交易和列表\n最重要的一点是，他们对事件那些奇奇怪怪的调用是一样的！\n没错，这也就意味着如果我们在CS2中找不到事件的正确编写方法，我们可以在CS3中查询\n有的人可能说了这破玩意我也看不懂啊，什么垃圾教程！摔！\n\n\n\n\n18Y66`3~W04LQ[US]P{NJ36.png (33.75 KB, 下载次数: 3)\n\n下载附件\n\n2017-8-1 11:47 上传\n\n\n\n\n\n好吧好吧，既然我们写教程就一定要写个简单的对吧，我们随便用CS3创建一个MOD然后再创建一个方块\n我们打开这个方块，然后找啊找...\n\n\n\n\nUZLDY864HE`)0(GT6I}WP%M.png (16.96 KB, 下载次数: 6)\n\n下载附件\n\n2017-8-1 11:51 上传\n\n\n\n\n\n嗯，这些东西好像有些熟悉？这不就是CS2的那些触发事件么？！\n没错，在CS3中，这些事件它代表的跟CS2相同，而且完全等同于\n事件[0] = \"mod.loadScript('XXX.js');\";复制代码如果我们打开这个事件，CS3会弹出一个界面\n\n\n\n\nH(Z46P)_%}~DOM~DLU_30]R.png (18 KB, 下载次数: 0)\n\n下载附件\n\n2017-8-1 11:57 上传\n\n\n\n\n\n这个界面其实就是我们在CS2中scripts文件夹中建立的js文档\n看到右下角的那个Info么，他会告诉你这个类别的事件兼容哪种词条\n\n\n\n\nORG}Z7(_Q@BP4MKH63JL]~2.png (11.29 KB, 下载次数: 0)\n\n下载附件\n\n2017-8-1 11:58 上传\n\n\n\n\n\nposition：代表的是默认的属性，方块的位置\nworld：代表一个类，通俗来说就是world里面的动作你需要加上world这个前缀\n我们打开world\n\n\n\n\nD8JS50YE%}H3DFYK_}KLX%S.png (13.26 KB, 下载次数: 4)\n\n下载附件\n\n2017-8-1 11:59 上传\n\n\n\n\n\n这里面的就是我们可以调用的，举个例子，如果我们要判定方块名称\n\n\n\n\nZ7G2T@GED(2F@7F9JJ2SMJP.png (19.15 KB, 下载次数: 1)\n\n下载附件\n\n2017-8-1 12:00 上传\n\n\n\n\n\nstring：字符串，在这里你可以理解为名称\n所以它的实际应用是\nvar a;//声明a这个变量\na =world.getBlockName(x,y+1,z)复制代码该方块放置时，便会将他头顶上方块的名称复制给a\n以上，便是CS2&CS3联合事件体系\n\n说白了就是，用你看得懂的，补全看不懂的。事实上这个体系复杂得多，这里只讲它在事件的应用\n事实上用CS3添加创造列表然后将CS2的物品添加进去也属于CS2&CS3互补的内容，但是由于太简单这里就不多谈了\n\n最后一提，CS3的这个事件info文件是可以在CS3的MOD压缩包里看到的\n\n\n\n\nGB6R_X4LO2(21KJ}{D9{TG8.png (38.5 KB, 下载次数: 2)\n\n下载附件\n\n2017-8-1 12:06 上传\n\n\n\n\n\n如图所示，这个可以称作CS3的研究草案了，里面将几乎所有用得到的CS3属性全部罗列出来，包括事件\n所以如果CS2迷茫的时候你可以翻翻这个，或许有新的收获\n\n\n\nPage.8 CS2容器&GUI基础原理\n如果大家有好好的回去复习，一定会注意到几个很奇妙的东西。什么？没注意到？那也不要紧，今天我们来讲讲这些让人迷惑的东西。\n容器。\n容器是什么？是箱子？是漏斗？或是熔炉？\n嗯，你说的都对，这便是我们今天要做的。\nStage.1 CS2-类熔炉机器\n首先，我们打开cubex，查看跟Block有关的属性，找到一条属性\nhasTileEntity[0] = true;复制代码这条属性的效果是定义一个方块有没有内在容积，也就是定义它是不是个容器\n事实上类别是normal的方块也是可以定义容器的\n什么叫做容器？它不一定要有GUI界面（GUI可视化交互界面）也就是说右键它不一定会弹出一个界面\n它通俗的特征是可以在内储存物品，并且破坏它后可以获得其中储存的物品\n这会不会让你联想到什么东西？譬如一些MOD中没有GUI经常吞物品的机器？\n也就是说，加了这个属性，你的物品就有了容器的灵魂，但是没有外表！\n所以我们需要用事件来为它赋予一个人们能够理解的外表\n这里我举出一个熔炉机器的例子\n/*Grower*/\nname = \"Grower\";\n\nmaterial = \"rock\";\nstepSound = \"stone\";\ncreativeTab = \"AngelProjectF\";//CS3添加的创造列表\n\nhardness[0] = 5;\nresistance[0] = 5;\ntoolClass[0] = \"pickaxe\";\ndrop[0] = \"Mixer:Grower\";\nharvestLevel[0] = 1;\ntextureFileXP[0] = \"Growerside.png\";\ntextureFileXN[0] = \"Growerside.png\";\ntextureFileYP[0] = \"Growertop.png\";\ntextureFileYN[0] = \"Growerside.png\";\ntextureFileZP[0] = \"Growerside.png\";\ntextureFileZN[0] = \"Growerside.png\";\naddToCreative[0] = true;\ninformation[0] = \"用于灰烬的生产，可以在周围的输出箱内输出木屑\"\nhasTileEntity[0] = true;//啊，我的灵魂\ntileEntity[0] = \"GrowerR\";//啊，我灵魂的内在，它代表了我灵魂的属性（想一想箱子的容积和熔炉里面格子的位置）\nonActivated[0] = \"player.openGui('GrowerGUI', position);result = true;\";//啊，我的颜值（玩家看起来GUI的样子，右键时触发）复制代码onActivated：在玩家右键方块时\nplayer.openGui('GrowerGUI', position);result = true;：打开一个GUI界面叫做GrowerGUI\n如果大家经过一些思考之后，会发现这里面有两个未知的属性需要定义\n一个是GrowerR容器属性，一个是GrowerGUI  GUI属性\n这两个分别对应了我们的两个文件夹分别是guis和tileEntities\n\n\n\n\nUE(Z(I1WT1Q%SS7ITYQOSIR.png (19.9 KB, 下载次数: 3)\n\n下载附件\n\n2017-8-1 12:34 上传\n\n\n\n\n\n跟事件一样，我们需要在里面创建JS来定义属性，从容器属性开始，我们打开tileEntities\n建立一个js叫做GrowerR.js 打开进行定义/*Grower */\nname = \"GrowerR\";//我的名字\nticksToSmelt = 320;// 熔炼每个物品所需时间（如果你是箱子就没有这个属性了）\n\nusedRecipeLists = \"GrowerRecipe\";//熔炼配方\nusedFuelLists = \"GrowerFuel\";//熔炼可用燃料\n\nonItemSmelted = \"mod.loadScript('Growers.js');\";//熔炼完成时的事件复制代码usedRecipeList：将来在mod.js中可以输入导入的配方\nusedFuelLists：将来在mod.js可以输入导入的燃料\n这个属性定义了熔炉容器的内在属性，而非显示出来的属性\n现在我们进行GUI界面的定义，打开guis文件夹，建立一个文件叫做GrowerGUI.js\nname = \"GrowerGUI\"; \nguiFile = \"GrowerGUI.png\";\n\ninputY = 35;\n\nfuelY = 56;\nfuelX = 83;\n\nburnDestX =83;\nburnDestY =17;复制代码这些属性定义了GUI引用的图片名称和槽的位置。\n具体这些你都可以在guis的html中看到详细的介绍，这里我就不赘述\n下面就是growergui的样子\n\n\n\n\nGrowerGUI.png (2.44 KB, 下载次数: 5)\n\n下载附件\n\n2017-8-2 10:21 上传\n\n\n\n\n\n透明背景，熔炉改界面。这个GUI是由我的材质画师PP所作，在这里感谢\n由于我们是熔炉机器，所以只能有两个输入一个输出槽，但是CS4兼容多槽的机器，将来我们会专门开贴讲一下CS4。\n不过就算我们没有多槽机器，我们也是有其他方法添加类似于多槽机器的效果。\n根据槽的位置和燃料条和燃烧指示不断调整槽位置的属性。\n最后我们进行导入，在mod.js中输入\n//grower\nmod.addBlock(\"Grower.js\", \"normal\");\nmod.addTileEntity(\"GrowerR.js\", \"furnace\");\nmod.addGui(\"GrowerGUI.js\", \"furnace\");\nmod.addSmeltingRecipeFor(\"GrowerRecipe\",\"Forestry:ash\", \"minecraft:log\");\nmod.addSmeltingRecipeFor(\"GrowerRecipe\",\"Forestry:ash\", \"minecraft:log:1\");\nmod.addSmeltingRecipeFor(\"GrowerRecipe\",\"Forestry:ash\", \"minecraft:log:2\");\nmod.addSmeltingRecipeFor(\"GrowerRecipe\",\"Forestry:ash\", \"minecraft:log:3\");\nmod.addFuelFor(\"GrowerFuel\",\"minecraft:dirt\",600);\nmod.addFuelFor(\"GrowerFuel\",\"Forestry:soil\",4800);\n复制代码mod.addTileEntity(\"GrowerR.js\", \"furnace\"); ：以熔炉的形式导入这个容器\nmod.addGui(\"GrowerGUI.js\", \"furnace\"); ：以熔炉的形式添加GUI\nmod.addSmeltingRecipeFor ：添加配方\nmod.addFuelFor ：添加燃料\n关于onItemSmelted = \"mod.loadScript('Growers.js');\";由于涉及了事件，我们会在下一章事件深谈提到\n以下是效果图\n\n\n\n\nFITGWFC%XA}DO3[HW0$YG.png (28.74 KB, 下载次数: 2)\n\n下载附件\n\n2017-8-2 10:32 上传\n\n\n\n\n\nStage.2 CS2-箱子\n\n\nPage.N 从零开始的目录\n[缓慢更新]魔改教程-或许我们可以从零开始:http://mcbbs.tvt.im/thread-666167-1-1.html\n[从零开始]魔改教程-MT技巧性使用叙述:http://www.mcbbs.net/thread-673968-1-1.html\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n本篇持续更新（月更）\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "CowX3",
            "timestamp": 1496239200,
            "txt_content": "终于有详细的cs教程了…坐等更新 感谢作者w"
        },
        {
            "author": "836193631",
            "timestamp": 1498219260,
            "txt_content": "已更新CS事件浅学部分，下一步更新CS2&3联动以及容器"
        },
        {
            "author": "炽煞服务器",
            "timestamp": 1499181000,
            "txt_content": "2333333333333333333333"
        },
        {
            "author": "YU__JUE",
            "timestamp": 1500647520,
            "txt_content": "为什么我的CS3读取不了png图像哇_(:з」∠)_\n\n能预览png，但是勾选后方块仍是粉黑的无贴图状态"
        },
        {
            "author": "836193631",
            "timestamp": 1501560600,
            "txt_content": "更新 CS2&CS3事件互补，接下来更新GUI界面及其特殊应用，CS2事件分类总结"
        },
        {
            "author": "残夜の残月",
            "timestamp": 1504082220,
            "txt_content": "在学习之前，请先下载其配套文件https://bitbucket.org/cubex2/custom-stuff-2-documentation\n\n如若下载不了，请点击后文的下载链接。\n后文在哪"
        },
        {
            "author": "残夜の残月",
            "timestamp": 1504097760,
            "txt_content": " 本帖最后由 残夜の残月 于 2017-8-30 20:59 编辑 \n但是CS4兼容多槽的机器，将来我们会专门开贴讲一下CS4。\nCS4，有这种东西吗？？"
        },
        {
            "author": "小佑_sq",
            "timestamp": 1504262460,
            "txt_content": "额 还是不知道怎么弄啊 怎么办"
        },
        {
            "author": "追逐猫",
            "timestamp": 1509203520,
            "txt_content": "不错的东西  持续关注"
        },
        {
            "author": "不负韶华",
            "timestamp": 1559437020,
            "txt_content": "残夜の残月 发表于 2017-8-30 20:56\nCS4，有这种东西吗？？\n有，就是不兼容低版本。（得1.10.2以上）"
        },
        {
            "author": "不负韶华",
            "timestamp": 1559456160,
            "txt_content": "我有一些代码无法使用，楼主能检查一下问题吗？（一个物品右键铁块后触发的事件，有3分之1的机率把铁块变成空气，有3分之1的机率把铁块变成煤炭块，有3分之1的机率把铁块变成钻石块。）var x = position.x;\nvar y = position.y;\nvar z = position.z;  \nvar a;\nvar b = \"minecraft:air\"\nvar c = \"minecraft:coal_block\"\nvar d = \"minecraft:diamond_block\"\na = Math.floor(Math.random() * 90);\nif(world.getBlockName(x, y, z) == \"minecraft:iron_block\"){\n        if(a<=30){\n                world.setBlock(position,b);\n        }\n        if(a>=31&&a<=60){\n                world.setBlock(position,c);\n        }\n        if(a>=61&&<=90){\n                world.setBlock(position,d);\n        }\n}复制代码\n"
        },
        {
            "author": "不负韶华",
            "timestamp": 1560645780,
            "txt_content": "你看我的http://www.mcbbs.net/thread-873846-1-1.html"
        },
        {
            "author": "Fu_BK66",
            "timestamp": 1588063260,
            "txt_content": "so？后文在哪？LZ发个网盘链接行嘛？百科上的链接下载不了"
        }
    ]
}