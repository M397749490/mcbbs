{
    "title": "AE2导致服务端崩溃",
    "author": "月杀233",
    "replyCount": 17,
    "timestamp": 1582187220,
    "txt_content": " 本帖最后由 skyliye 于 2020-2-20 18:13 编辑 \n\n楼主开的1.7.10服务器，装了格雷科技6和AE2和AE2流体附属，今天早上开服莫名崩溃，而且没有崩溃报告，以下是logs的出错部分。\n跪求大佬帮助！\nCurrent Thread: Server thread\n[15:49:35] [Spigot Watchdog Thread/ERROR]:         PID: 19 | Suspended: false | Native: false | State: RUNNABLE | Blocked Time: -1 | Blocked Count: 95\n[15:49:35] [Spigot Watchdog Thread/ERROR]:         Stack:\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 com.google.common.cache.LocalCache.get(LocalCache.java:3934)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3938)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4821)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 com.google.common.cache.LocalCache$LocalLoadingCache.getUnchecked(LocalCache.java:4827)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.util.item.OreHelper.isOre(OreHelper.java:78)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.util.item.AEItemStack.<init>(AEItemStack.java:103)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.util.item.AEItemStack.create(AEItemStack.java:135)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.storage.CellInventory.loadCellItems(CellInventory.java:461)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.storage.CellInventory.getCellItems(CellInventory.java:348)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.storage.CellInventory.getAvailableItems(CellInventory.java:472)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.storage.MEPassThrough.getAvailableItems(MEPassThrough.java:69)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.storage.MEInventoryHandler.getAvailableItems(MEInventoryHandler.java:128)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.storage.MEInventoryHandler.getAvailableItems(MEInventoryHandler.java:128)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.cache.GridStorageCache$CellChangeTrackerRecord.<init>(GridStorageCache.java:372)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.cache.GridStorageCache$CellChangeTracker.postChanges(GridStorageCache.java:398)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.cache.GridStorageCache.addCellProvider(GridStorageCache.java:167)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.cache.GridStorageCache.cellUpdate(GridStorageCache.java:231)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 sun.reflect.GeneratedMethodAccessor77.invoke(Unknown Source)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 java.lang.reflect.Method.invoke(Unknown Source)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus$EventMethod.invoke(NetworkEventBus.java:179)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus$EventMethod.access$400(NetworkEventBus.java:161)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus$MENetworkEventInfo.invoke(NetworkEventBus.java:212)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus$MENetworkEventInfo.access$200(NetworkEventBus.java:198)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus.postEvent(NetworkEventBus.java:108)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.Grid.postEvent(Grid.java:213)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.tile.storage.TileDrive.recalculateDisplay(TileDrive.java:221)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.tile.storage.TileDrive.powerRender(TileDrive.java:201)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 sun.reflect.GeneratedMethodAccessor83.invoke(Unknown Source)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 java.lang.reflect.Method.invoke(Unknown Source)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus$EventMethod.invoke(NetworkEventBus.java:179)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus$EventMethod.access$400(NetworkEventBus.java:161)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus$MENetworkEventInfo.invoke(NetworkEventBus.java:212)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus$MENetworkEventInfo.access$200(NetworkEventBus.java:198)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.NetworkEventBus.postEvent(NetworkEventBus.java:114)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.Grid.postEvent(Grid.java:213)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.cache.EnergyGridCache.publicPowerState(EnergyGridCache.java:218)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.cache.EnergyGridCache.onUpdateTick(EnergyGridCache.java:186)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.GridCacheWrapper.onUpdateTick(GridCacheWrapper.java:43)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.me.Grid.update(Grid.java:271)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 appeng.hooks.TickHandler.onTick(TickHandler.java:231)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 cpw.mods.fml.common.eventhandler.ASMEventHandler_330_TickHandler_onTick_TickEvent.invoke(.dynamic)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 cpw.mods.fml.common.eventhandler.ASMEventHandler.invoke(ASMEventHandler.java:54)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 cpw.mods.fml.common.eventhandler.EventBus.post(EventBus.java:140)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 cpw.mods.fml.common.FMLCommonHandler.onPostServerTick(FMLCommonHandler.java:252)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 net.minecraft.server.MinecraftServer.func_71217_p(MinecraftServer.java:894)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 net.minecraft.server.MinecraftServer.run(MinecraftServer.java:693)\n[15:49:35] [Spigot Watchdog Thread/ERROR]:                 java.lang.Thread.run(Unknown Source)\n\n",
    "replies": [
        {
            "author": "AD【钙奶】",
            "timestamp": 1582187400,
            "txt_content": "发crash-report里的日志"
        },
        {
            "author": "月杀233",
            "timestamp": 1582187580,
            "txt_content": "AD【钙奶】 发表于 2020-2-20 16:30\n发crash-report里的日志\n没有生成CR，这就是log最后崩溃前的一部分。"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1582188120,
            "txt_content": " 本帖最后由 inuyasha01 于 2020-2-20 16:44 编辑 \n\ncommon.cache.LocalCache.get 出错\n\n你尝试删除你服务端里的cache文件  重新加载试试？\n\n不过的确是AE的问题\n这三处\nappeng.util.item.AEItemStack.create(AEItemStack.java:135)\nEnergyGridCache.publicPowerState\nappeng.me.cache.GridStorageCache\n\n在创建新物品和获取电网状态的时候出的，调用了电网更改/记录cache的接口\n\n其余所有消息  这点log里能挖出来的就这些了吧。。。\n\n剩余的你问问玩家那时候都在干什么比较好。。这是debug最方便的办法"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1582188180,
            "txt_content": "月杀233 发表于 2020-2-20 16:33\n没有生成CR，这就是log最后崩溃前的一部分。\n那就发整个log"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1582188300,
            "txt_content": "EmptyLava 发表于 2020-2-20 16:43\n那就发整个log\n我编辑了下   你注意下这个grid，是不是面板里的那个网络。。\n\n或者需要更新AE？"
        },
        {
            "author": "月杀233",
            "timestamp": 1582188960,
            "txt_content": " 本帖最后由 skyliye 于 2020-2-20 18:13 编辑 \n\nhttps://paste.ubuntu.com/p/DY5cXpr8zk/"
        },
        {
            "author": "月杀233",
            "timestamp": 1582188960,
            "txt_content": "inuyasha01 发表于 2020-2-20 16:42\ncommon.cache.LocalCache.get 出错\n\n你尝试删除你服务端里的cache文件  重新加载试试？\n服务端cache文件是哪一个？"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1582189080,
            "txt_content": " 本帖最后由 inuyasha01 于 2020-2-20 17:00 编辑 \n月杀233 发表于 2020-2-20 16:56\n服务端cache文件是哪一个？\n/world/AE2/里的文件\n/config/ApppliedEnergists2/里的文件\n\n删前记得先备份好\n\n顺便给你找到了可能你需要的\n\n# Configuration file\n~CONFIG_VERSION: rv6-stable-7\ncounters {\n    I:lastGridStorage=7348602\n    I:lastPlayer=26\n}\ngridstorage {\n S:1061520=H4sIAAAAAAAAAONiYGBjYEsqTUtLLXJoOsAABgAkjHzgFQAAAA==\n S:1061520=H4sIAAAAAAAAAONiYGBjYEsqTUtLLXJoOsAABgAkjHzgFQAAAA==}\n\n\nsettings.cfg这个文件里存了所有电网的缓存\n你log里调用的东西 gridstorage 正好就在这/world/AE2/settings.cfg\n\n"
        },
        {
            "author": "月杀233",
            "timestamp": 1582189080,
            "txt_content": "inuyasha01 发表于 2020-2-20 16:45\n我编辑了下   你注意下这个grid，是不是面板里的那个网络。。\n\n或者需要更新AE？ ...\n我感觉像是AE的问题，谢谢，我去试试"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1582189200,
            "txt_content": "月杀233 发表于 2020-2-20 16:58\n我感觉像是AE的问题，谢谢，我去试试\n上楼的回复我编辑了下，记得看下"
        },
        {
            "author": "月杀233",
            "timestamp": 1582199640,
            "txt_content": "inuyasha01 发表于 2020-2-20 16:58\n/world/AE2/里的文件\n/config/ApppliedEnergists2/里的文件\n那这个要怎么改呢"
        },
        {
            "author": "inuyasha01",
            "timestamp": 1582200720,
            "txt_content": "月杀233 发表于 2020-2-20 19:54\n那这个要怎么改呢\n备份下删掉就行  cache都是缓存而已。。何况还有备份  不用担心但建议你看下AE版本是不是最新    最新版其实也还没修完一些BUG。。旧版更是"
        },
        {
            "author": "月杀233",
            "timestamp": 1582206780,
            "txt_content": "inuyasha01 发表于 2020-2-20 20:12\n备份下删掉就行  cache都是缓存而已。。何况还有备份  不用担心但建议你看下AE版本是不是最新    最新版其 ...\n删过这个启动了，还是不行...一样的报错"
        },
        {
            "author": "Boring_dada",
            "timestamp": 1582207560,
            "txt_content": "是不是有熊孩子炸服"
        },
        {
            "author": "月杀233",
            "timestamp": 1582250640,
            "txt_content": "Boring_dada 发表于 2020-2-20 22:06\n是不是有熊孩子炸服\n应该不是，目前也没法判断"
        },
        {
            "author": "Boring_dada",
            "timestamp": 1582283100,
            "txt_content": "走到某个地方就炸吗？"
        },
        {
            "author": "月杀233",
            "timestamp": 1582430160,
            "txt_content": "Boring_dada 发表于 2020-2-21 19:05\n**** 作者被禁止或删除 内容自动屏蔽 ****\n不是，早上重启之后就炸了"
        }
    ]
}