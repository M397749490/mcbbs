{
    "title": "[前置][PCD]AdvanceLib——伪·黑科技|核心注入开发者の前置[全版本]",
    "author": "弱鸡绿毛怪",
    "replyCount": 3,
    "timestamp": 1542986580,
    "txt_content": " 本帖最后由 MagicLocyDragon 于 2018-11-23 23:24 编辑 \n\n 插件介绍&安装 · AdvanceLib是一个核心注入的开发者前置插件，它允许你修改服务端核心里的代码\n\nTo服主:\n1.如何安装?\n\n①下载\n\n\n\n\nAdvanceLib-0.0.1.jar\n(582.27 KB, 下载次数: 19)\n\n\n\n2018-11-23 22:58 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n②安装\n注意，该插件不是放在plugins文件夹里的，请放在服务端根目录下，它在这里\n\n\n\n\n\n1.png (36.37 KB, 下载次数: 0)\n\n下载附件\n\n2018-11-23 23:01 上传\n\n\n\n\n\n然后，请在开服务器内-jar前面加上一句:\n\n\n\n\n\n1.png (19.88 KB, 下载次数: 0)\n\n下载附件\n\n2018-11-23 23:02 上传\n\n\n\n\n\n比如\njava -jar Spigot-1.18.0-BETA.jar\n改成\njava -javaagent:AdvanceLib-0.0.1.jar -jar Spigot-1.18.0-BETA.jar\n保存，启动服务器，你会发现根目录下出现一个名叫AdvancePlugin的文件夹，这代表你安装成功了!\n\n\n\n\n\n1.png (20.45 KB, 下载次数: 0)\n\n下载附件\n\n2018-11-23 23:04 上传\n\n\n\n\n\n于是，基于本插件的附属插件都得放进AdvancePlugin这个文件夹来加载\n而不是Plugins文件夹!\n\n To开发者  · 你能用这个前置做什么?\n比如Op更改时的核心注入检测/一些服务端的优化/以及给服务端加一些别的功能....\n\n那么如何使用该前置?\n· 我们先上一个使用的代码图，这样可能理解起来方便一点：\n\n\n\n\n\n1.png (72.03 KB, 下载次数: 0)\n\n下载附件\n\n2018-11-23 23:24 上传\n\n\n\n\n\n\n我们先创建一个类，让它继承 AdvancePlugin类(每个Jar只能有一个继承这个类，那么它就是主类了)。不过唯一和bukkit插件不同点就是我们不需要写plugin.yml，而用一个PluginInfo类代替了。并重写onLoad方法>\n\n如上图，我们先实例化了一个PluginInfo，它的构造方法是\n\nPluginInfo(String pluginName, String pluginVersion, String.. author)\n\n然后我们使用AdvancePlugin的方法bind(PluginInfo info) 来绑定这个插件信息，如上图，这样一个没有功能的插件就ok了，你可以把他丢进AdvancePlugin文件夹来运行。\n\n我们还可以使用getLogger().info(String message)来输出一条信息，不过，因为我们的插件是加载在服务器启动之前的，所以这个信息也会发生在服务器启动之前。\n\n之后，我们就要写注入核心的代码了，从上图，我们看到先是获取了一个InjectUnit的实例对象\n我们可以使用\n\nInjectUnit.from(ClassLocationEnum location, String className)\n\n来获取它的实例对象，其中，ClassLocationEnum是这个类的位置\n比如\nClassLocationEnum.OBC 就是代表这个类在org.bukkit.craftbukkit.v_xxxxx里\nClassLocationEnum.NMS 就是代表这个类在net.minecraft.server.v_xxxxx里\nClassLocationEnum.NORMAL_CLASS 就是代表这个类是在普通的jvm里\n因此，我们可以更方便地获取这个类，不需要再去获取版本了\n后面的className就是比如这个类在\nClassLocationEnum.OBC里\n那么当className = \"entity.CraftPlayer\" 时，这个位置就是\norg.bukkit.craftbukkit.v_????.entity.CraftPlayer\n\n然后，我们如上图操作\nmethodInsertBefore —— 在方法被调用前\nmethodInsertAfter —— 在方法被调用后\n可以注入一些东西，但是这两个方法的参数都是\n(String methodName, String code, Class<?>... class)\n的\n第一个String表示方法名\n第二个String表示方法里你要添加的代码(注意，如果这个代码里有需要import的类，那么请用InjectUnit.addImport(包名) 来操作\n第三个Class<?>表示该方法包含的参数值\n\n之后操作完了，我们使用uploadUnit(InjectUnit unit) 来提交这次修改即可修改完成了，如上图。\n\n之后，把插件编译，丢进AdvancePlugin文件夹，运行就会有注入后的效果了!\n\n开源地址(请遵守LGPL3协议)\nhttps://github.com/LocyDragon/AdvanceLib\n[groupid=1330]PluginsCDTribe[/groupid]\n\n\n\n\n\n\n1.png\n(72.03 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2018-11-23 23:24 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "xuel",
            "timestamp": 1542998460,
            "txt_content": "支持 正需要这样的QWQ"
        },
        {
            "author": "li709854423",
            "timestamp": 1564911420,
            "txt_content": "很厉害，学习了~star"
        },
        {
            "author": "轻光233",
            "timestamp": 1566825060,
            "txt_content": "这不会违反eula吗qwq\n好东西，mark一下\n"
        }
    ]
}