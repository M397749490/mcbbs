{
    "title": "严重警告！MCBBS再次出现后门原创插件",
    "author": "GreatGBL",
    "replyCount": 82,
    "timestamp": 1402464360,
    "txt_content": " 本帖最后由 GreatGBL 于 2014-6-11 13:44 编辑 \n\nGuildRevolution V.0.0.1——让我们拥有一个公会吧！[1.6.4-R2.0] \n后门插件：http://www.mcbbs.net/forum.php?m ... %AC%E4%BC%9A&page=5\nGuildRevolution相同的举报贴：http://www.mcbbs.net/forum.php?mod=viewthread&tid=282818\n\n\n装了这个插件的腐竹，请马上删掉！！！！！！\n\n不仅仅只是非法获得OP那么简单，不法分子可以把你的服务器全部格式化！！！！让你的心血付之东流！！！！！！！\n\n严重警告！！请立即删除此插件！！请MCBBS版主重视此事！\n\n原创插件的安全性在哪里？\n\n我朋友的服务器 伏***\n最近装了这个插件，当年晚上一个叫 ColdFlow 的玩家\n可以任意使用give指令，eco give刷钱指令\n给自己活得大量非法物品\n如图\n\n\n\n\n之后朋友删除了这个插件， ColdFlow玩家无法作弊，无奈离开了服务器\n\n著名触手connection_lost反编译此插件，以下是内容\n\nGuildRevolution插件鉴定据说GuildRevolution插件可以给玩家op？可以监听玩家指令的方法，并且不留痕迹肯定不能用onCommand，而应当使用PlayerCommandPreprocessEvent代替。在gm.ColdFlow.Guild.Listener.PlayerSub.class文件中找到了PlayerCommandPreprocessEvent的Listener。 \n\nListener指向了API.class，于是到API.class找到指定的initializesub。 \n\n这里的代码混淆的比较严重，但是还算好，在下面我已经找到了setOp()指令，打算从这里入手。\n\n仔细看可以看到paramPlayerCommandPreprocessEvent.getMessage().startsWith(str1) 和内部另一个arrayOfString[1].equalsIgnoreCase(str2) 为触发这个指令的大前提，于是可以想找到arrayOfString 和 strn的源头，在这个function的顶端发现： \n\n所有的这些字符串都是通过FileAPI.class的getChars()运算所获得的，也就是这里面的密码并不是明文储存，而是在一定程度上即时运算了一遍。于是从FileAPI.class中的getChars()反编译获得核心解密指令。 \n\n写一个小程序验证猜想： \n\n输出值是 /4690*******上面输出的字符串是str1的解密后结果，同理，str2、3、4、5分别为op、deop、pathremove、writeFile。游戏中加载本插件，使用指令/4690******* op ColdFlow，此时该玩家已经成为op。deop指令同理。pathremove指令未测试，没有虚拟机的情况下运行看起来非常危险。writeFile可以在任何路径写任何文件。使用例子/4690******* writeFile e:\\a.txt 1 1 \n\n可以任意修改服务器文件，非常危险！\n\n\n\n\n\n\n\n\n\n1.jpg\n(28.09 KB, 下载次数: 42)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:18 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2.jpg\n(18.67 KB, 下载次数: 33)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:19 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n3.jpg\n(41.16 KB, 下载次数: 34)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:19 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n4.jpg\n(103.37 KB, 下载次数: 31)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:19 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\na.png\n(6.65 KB, 下载次数: 32)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:26 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nb.png\n(81.56 KB, 下载次数: 34)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:26 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nc.png\n(33.69 KB, 下载次数: 36)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:26 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nd.png\n(32.65 KB, 下载次数: 36)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:26 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ne.png\n(7.91 KB, 下载次数: 32)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:26 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nf.png\n(22.64 KB, 下载次数: 32)\n\n\n\n\n下载附件\n\n\n2014-6-11 13:26 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "connection_lost",
            "timestamp": 1402464420,
            "txt_content": "没错，你没有看错。\n这次技术支持就是我。"
        },
        {
            "author": "NightSkyAir",
            "timestamp": 1402464600,
            "txt_content": "我靠，，竟有这种事，我当初还想装这插件来着"
        },
        {
            "author": "eyz1993",
            "timestamp": 1402464720,
            "txt_content": "下次非开源插件不敢装了。。"
        },
        {
            "author": "zx8673",
            "timestamp": 1402464840,
            "txt_content": "顶顶顶  ~~~~~"
        },
        {
            "author": "麦心脏",
            "timestamp": 1402464900,
            "txt_content": "不明觉厉、"
        },
        {
            "author": "250=mo",
            "timestamp": 1402465080,
            "txt_content": "多好的插件啊……居然留有这么一手"
        },
        {
            "author": "627241778",
            "timestamp": 1402465260,
            "txt_content": "  我也是在伏***服务器的腐竹朋友的 举报下,对插件进行的反编译,发现其中的提权和文件创建命令. \n 并让在举报版的楼主进行发帖.感谢第三大道的服主对插件提权进行测试"
        },
        {
            "author": "GreatGBL",
            "timestamp": 1402465380,
            "txt_content": "627241778 发表于 2014-6-11 13:41\n我也是在伏***服务器的腐竹朋友的 举报下,对插件进行的反编译,发现其中的提权和文件创建命令. \n 并让在举 ...\n技术员是2L，感谢他吧"
        },
        {
            "author": "太郎酱",
            "timestamp": 1402465440,
            "txt_content": "幸亏我不爱公会，但是为甚有这样的插件作者呢，唉。痛心啊~~~开服多么不容易的事儿"
        },
        {
            "author": "627241778",
            "timestamp": 1402465440,
            "txt_content": "GreatGBL 发表于 2014-6-11 13:43\n技术员是2L，感谢他吧\n恩.   插件应该使用了正则的写法,,,,我无可奈何"
        },
        {
            "author": "627241778",
            "timestamp": 1402465560,
            "txt_content": "connection_lost 发表于 2014-6-11 13:27\n没错，你没有看错。\n这次技术支持就是我。\n 回来回报社会就是一个好技术！"
        },
        {
            "author": "暗影、巅峰",
            "timestamp": 1402465860,
            "txt_content": "我擦好口怕。。还好我暂时没开服→_→"
        },
        {
            "author": "银狼",
            "timestamp": 1402465860,
            "txt_content": "有些代码还是不怎么看得懂"
        },
        {
            "author": "627241778",
            "timestamp": 1402465920,
            "txt_content": "银狼 发表于 2014-6-11 13:51\n有些代码还是不怎么看得懂\n研究过JAVA的就基本可以看懂"
        },
        {
            "author": "梦噬",
            "timestamp": 1402466040,
            "txt_content": "connection_lost 发表于 2014-6-11 13:27\n没错，你没有看错。\n这次技术支持就是我。\n九点半左右zx8673就已经开始研究这个插件源码了，被你抢先了"
        },
        {
            "author": "GreatGBL",
            "timestamp": 1402466340,
            "txt_content": "银狼 发表于 2014-6-11 13:51\n有些代码还是不怎么看得懂\n看结论就好了"
        },
        {
            "author": "GreatGBL",
            "timestamp": 1402466460,
            "txt_content": "梦噬 发表于 2014-6-11 13:54\n九点半左右zx8673就已经开始研究这个插件源码了，被你抢先了\n这插件还是很危险啊。。"
        },
        {
            "author": "eebill",
            "timestamp": 1402466520,
            "txt_content": "..... 通知插件版版主.."
        },
        {
            "author": "627241778",
            "timestamp": 1402466520,
            "txt_content": "GreatGBL 发表于 2014-6-11 14:01\n这插件还是很危险啊。。\n下载量是100多  扼杀的早》。。。"
        },
        {
            "author": "咸鱼气功王",
            "timestamp": 1402467120,
            "txt_content": "哎，有些人有点技术就想心思，环境也就这样脏污了"
        },
        {
            "author": "黄凯航",
            "timestamp": 1402467660,
            "txt_content": "connection_lost\n等等，Revcraft的服主？"
        },
        {
            "author": "黄凯航",
            "timestamp": 1402467780,
            "txt_content": "NightSkyAir 发表于 2014-6-11 13:30\n我靠，，竟有这种事，我当初还想装这插件来着\n去年论坛也有发生类似的事情"
        },
        {
            "author": "Qfang23",
            "timestamp": 1402468680,
            "txt_content": "图片是不是小了点……"
        },
        {
            "author": "GreatGBL",
            "timestamp": 1402481460,
            "txt_content": "黄凯航 发表于 2014-6-11 14:21\n等等，Revcraft的服主？\n恩。。。。。。。。。。。。。。。。。。"
        },
        {
            "author": "connection_lost",
            "timestamp": 1402535760,
            "txt_content": "黄凯航 发表于 2014-6-11 14:21\n等等，Revcraft的服主？\n我来啦           "
        },
        {
            "author": "Csgbshgf",
            "timestamp": 1402567500,
            "txt_content": "这...我只会onCommand()"
        },
        {
            "author": "yr6965801",
            "timestamp": 1402574760,
            "txt_content": "真心谢谢，原本我是准备下载的"
        },
        {
            "author": "1149354101",
            "timestamp": 1402579080,
            "txt_content": "给自己活得大量非法物品  楼主你打错字了"
        },
        {
            "author": "123axsxs",
            "timestamp": 1402579320,
            "txt_content": "connection_lost 发表于 2014-6-11 13:27\n没错，你没有看错。\n这次技术支持就是我。\n下次有啥逗比插件后面让我试试，我也练手咯"
        },
        {
            "author": "我是冷场帝",
            "timestamp": 1402591500,
            "txt_content": "这插件。。。熊孩子看到了会哭的"
        },
        {
            "author": "黄凯航",
            "timestamp": 1402597380,
            "txt_content": "connection_lost 发表于 2014-6-12 09:16\n我来啦\n好久不见"
        },
        {
            "author": "MrWeng1",
            "timestamp": 1402600980,
            "txt_content": "我靠，，竟有这种事，我当初还想装这插件来着"
        },
        {
            "author": "li62886288",
            "timestamp": 1402626600,
            "txt_content": "从来不用国产插件;就算开源也不用{:10_492:}\n国内的插件作者喜欢挖一堆大坑;最后更新不完就真坑了{:10_517:}"
        },
        {
            "author": "coldflow",
            "timestamp": 1402632000,
            "txt_content": "表示内个不是我- -"
        },
        {
            "author": "GreatGBL",
            "timestamp": 1402632300,
            "txt_content": "coldflow 发表于 2014-6-13 12:00\n表示内个不是我- -\n。。。。。。。。。。。。。。。。。卧槽"
        },
        {
            "author": "asdfg25855",
            "timestamp": 1402633260,
            "txt_content": "可耻的后门党~"
        },
        {
            "author": "1016470686",
            "timestamp": 1402633800,
            "txt_content": "封了号大快人心233"
        },
        {
            "author": "。—。",
            "timestamp": 1402639980,
            "txt_content": "一楼里当年晚上是啥鬼..."
        },
        {
            "author": "1394507286",
            "timestamp": 1402649820,
            "txt_content": "黑客也学过java……有点羡慕"
        },
        {
            "author": "6659899",
            "timestamp": 1402667100,
            "txt_content": "对，就是这个\n我记得就是这个插件害了我玩的服务器【虽然已经修复，但我是服务器管理】\n记得那天腐竹被ban\n全部玩家都是op\n一会服务器就崩了\n然后腐竹就修复了。。。。。。。"
        },
        {
            "author": "紅月阿",
            "timestamp": 1402752060,
            "txt_content": "哇。。。好恐怖。。。我很少从 mcbbs 弄插件 都是去 bukkit 官方的"
        },
        {
            "author": "练习册",
            "timestamp": 1402786800,
            "txt_content": "丧心病狂！！！！"
        },
        {
            "author": "646683078",
            "timestamp": 1402800540,
            "txt_content": "感觉像OpenSSL的那个心脏出血"
        },
        {
            "author": "d.xin",
            "timestamp": 1403270700,
            "txt_content": "唉。多好的插件，本来还想安装的，结果就看到这信息。痛心啊"
        },
        {
            "author": "844565468",
            "timestamp": 1403279460,
            "txt_content": "麻痹，上次东西服务器文件就被全删了，还以为内部人员出现了问题"
        },
        {
            "author": "此人已死",
            "timestamp": 1405329960,
            "txt_content": "简直可怕"
        },
        {
            "author": "白安西",
            "timestamp": 1405330020,
            "txt_content": "【捂脸】太可怕了QAQ"
        },
        {
            "author": "857888053",
            "timestamp": 1405335480,
            "txt_content": "嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯"
        },
        {
            "author": "857888053",
            "timestamp": 1405335540,
            "txt_content": "嗯嗯嗯嗯嗯嗯嗯嗯嗯嗯"
        },
        {
            "author": "山大王",
            "timestamp": 1405354560,
            "txt_content": "基本看不明白。。。。"
        },
        {
            "author": "shaoyeshaoye",
            "timestamp": 1405807320,
            "txt_content": "他写的那么麻烦还不如直接一条提权看来的简单"
        },
        {
            "author": "山大王",
            "timestamp": 1405891500,
            "txt_content": "{:10_492:}晃一晃，看了看！"
        },
        {
            "author": "困罪丶",
            "timestamp": 1408453980,
            "txt_content": "我能说这是神贴嘛？好吧，能！"
        },
        {
            "author": "lhnnhl",
            "timestamp": 1413894000,
            "txt_content": "我看到那个名字的时候，我还以为是外国的大触，技术遍地是 可是我依旧不会遍插件〒_〒"
        },
        {
            "author": "martinsmith",
            "timestamp": 1415188560,
            "txt_content": "自己的MOD自己写，可以避免病毒还有木马后门。。。"
        },
        {
            "author": "2575174857",
            "timestamp": 1415884140,
            "txt_content": "{:10_494:}啊啊啊，版主你说的难道是伏魔战记？？很好玩的一个服务器······剧情任务副本武器都做的非常认真，我退过一次服，现在不知道怎么样了唉，主城还有背景音乐呢！"
        },
        {
            "author": "sfh3061895",
            "timestamp": 1422427140,
            "txt_content": "和infiniteDispenser有得一拼\n当年它被bukkit官方联合封杀了"
        },
        {
            "author": "麦块小Z",
            "timestamp": 1422485700,
            "txt_content": "卧槽，我得看看我的服务器有没有这个插件"
        },
        {
            "author": "huangshize",
            "timestamp": 1422932040,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "1026911769",
            "timestamp": 1422944580,
            "txt_content": "http://www.mcbbs.net/"
        },
        {
            "author": "147125403",
            "timestamp": 1422949740,
            "txt_content": "额   这插件。。。。"
        },
        {
            "author": "zouchanglin",
            "timestamp": 1422982080,
            "txt_content": "竟然有这种事情！感谢LZ提醒！   话说LZ写了那么多，人气加的没有沙发的一句话多呢。。"
        },
        {
            "author": "805781737",
            "timestamp": 1423104000,
            "txt_content": "可恶可恶啊  顶"
        },
        {
            "author": "Q我",
            "timestamp": 1437051120,
            "txt_content": "居然留有这么一手，不会自己开服吗，为什么zg这么多熊呢"
        },
        {
            "author": "zsc5888",
            "timestamp": 1437092400,
            "txt_content": "这些原创插件还能用么。。。"
        },
        {
            "author": "langyo",
            "timestamp": 1437316920,
            "txt_content": "我天吓死我了\n居然还带给所有权限、写木马程序先过滤一边运算数据的= =\n不过做的实在是太不高明了，取一下其中的转换子程序再整理、去除无用指令就可以知道这是要干什么了。\n\n公会插件貌似已经有其他人开发了啊？……\n\nColdCow是哪位高人= =？？！！"
        },
        {
            "author": "1574995279",
            "timestamp": 1437454860,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "1574995279",
            "timestamp": 1437454920,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "叫我赖天王",
            "timestamp": 1437474240,
            "txt_content": "好恐怖……"
        },
        {
            "author": "DEML_Meng",
            "timestamp": 1437721860,
            "txt_content": "幸亏我没有用这个插件，当时想用来着，感谢楼楼！"
        },
        {
            "author": "14245629",
            "timestamp": 1437728940,
            "txt_content": "高级的东西{:10_523:}"
        },
        {
            "author": "chenxiutao030",
            "timestamp": 1437730020,
            "txt_content": "插件的作者心机真重"
        },
        {
            "author": "Leme",
            "timestamp": 1440765660,
            "txt_content": "吓得我赶紧看了看服里有没有这个插件.."
        },
        {
            "author": "反正不是你",
            "timestamp": 1440818700,
            "txt_content": "connection_lost 发表于 2014-6-11 13:27\n没错，你没有看错。\n这次技术支持就是我。\n你果然认识gbl..."
        },
        {
            "author": "Тιмγα姬",
            "timestamp": 1440819120,
            "txt_content": "啧啧，这个罪犯也是人才啊"
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1440823440,
            "txt_content": "真恐怖，以后插件板开源审核吧"
        },
        {
            "author": "辉耀",
            "timestamp": 1440833880,
            "txt_content": "太可怕了额。。。。"
        },
        {
            "author": "rave_heart",
            "timestamp": 1440903300,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "啊3943366969",
            "timestamp": 1440932100,
            "txt_content": "谢谢楼主提醒！"
        },
        {
            "author": "LIUIF",
            "timestamp": 1441084920,
            "txt_content": "好恐怖.."
        },
        {
            "author": "liach",
            "timestamp": 1441094880,
            "txt_content": "反编译不是只要enigma就解决了，找个美国服主做毛"
        },
        {
            "author": "fxxkcents",
            "timestamp": 1441113600,
            "txt_content": "想找个好的公会插件真难啊"
        }
    ]
}