{
    "title": "服务器重启崩溃",
    "author": "zhanghongbin",
    "replyCount": 10,
    "timestamp": 1577920440,
    "txt_content": " 本帖最后由 skyliye 于 2020-1-2 09:57 编辑 \n\n崩溃日志：\n---- Minecraft Crash Report ----\n\nWARNING: coremods are present:\n  Inventory Tweaks Coremod (InventoryTweaks-1.63.jar)\n  ForgePlugin (CustomSkinLoader_Forge-14.7.jar)\n  SpongeCoremod (spongeforge-1.12.2-2838-7.1.7.jar)\nContact their authors BEFORE contacting forge\n\n// Hi. I'm Minecraft, and I'm a crashaholic.\n\nTime: 20-1-2 上午7:06\nDescription: Exception in server tick loop\n\njava.lang.RuntimeException: Exception trying to load level_sponge.dat, file corruption maybe?\n        at net.minecraft.world.storage.SaveHandler.redirect$forgeImpl$hookToUpdateSpongeLoadData$bbc000(SaveHandler.java:1582)\n        at net.minecraft.world.storage.SaveHandler.func_75757_d(SaveHandler.java:122)\n        at org.spongepowered.common.world.WorldManager.loadAllWorlds(WorldManager.java:744)\n        at net.minecraft.server.MinecraftServer.func_71247_a(MinecraftServer.java:4397)\n        at net.minecraft.server.dedicated.DedicatedServer.func_71197_b(DedicatedServer.java:270)\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:486)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.RuntimeException: Attempt failed when reading Sponge level data for [] from file [level_sponge.dat]!\n        at net.minecraft.world.storage.SaveHandler.bridge$loadSpongeDatData(SaveHandler.java:1175)\n        at net.minecraft.world.storage.SaveHandler.redirect$forgeImpl$hookToUpdateSpongeLoadData$bbc000(SaveHandler.java:1580)\n        ... 6 more\nCaused by: java.util.zip.ZipException: Not in GZIP format\n        at java.util.zip.GZIPInputStream.readHeader(Unknown Source)\n        at java.util.zip.GZIPInputStream.<init>(Unknown Source)\n        at java.util.zip.GZIPInputStream.<init>(Unknown Source)\n        at net.minecraft.nbt.CompressedStreamTools.func_74796_a(CompressedStreamTools.java:26)\n        at net.minecraft.world.storage.SaveHandler.bridge$loadSpongeDatData(SaveHandler.java:1172)\n        ... 7 more\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- Head --\nThread: Server thread\nStacktrace:\n        at net.minecraft.world.storage.SaveHandler.redirect$forgeImpl$hookToUpdateSpongeLoadData$bbc000(SaveHandler.java:1582)\n        at net.minecraft.world.storage.SaveHandler.func_75757_d(SaveHandler.java:122)\n\n-- Sponge PhaseTracker --\nDetails:\n        Phase Stack: [Empty stack]\nStacktrace:\n        at net.minecraft.server.MinecraftServer.handler$onCrashReport$zjh000(MinecraftServer.java:4721)\n        at net.minecraft.server.MinecraftServer.func_71230_b(MinecraftServer.java:889)\n        at net.minecraft.server.dedicated.DedicatedServer.func_71230_b(DedicatedServer.java:371)\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:558)\n        at java.lang.Thread.run(Unknown Source)\n\n-- System Details --\nDetails:\n        Minecraft Version: 1.12.2\n        Operating System: Windows 10 (amd64) version 10.0\n        Java Version: 1.8.0_231, Oracle Corporation\n        Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation\n        Memory: 15554520656 bytes (14833 MB) / 16441147392 bytes (15679 MB) up to 16441147392 bytes (15679 MB)\n        JVM Flags: 2 total; -Xms16000M -Xmx16000M\n        IntCache: cache: 0, tcache: 0, allocated: 0, tallocated: 0\n        FML: MCP 9.42 Powered by Forge 14.23.5.2847 25 mods loaded, 25 mods active\n        States: 'U' = Unloaded 'L' = Loaded 'C' = Constructed 'H' = Pre-initialized 'I' = Initialized 'J' = Post-initialized 'A' = Available 'D' = Disabled 'E' = Errored\n\n        Mods:\n\n        | State  | ID                 | Version                  | Source                                  | Signature                                |\n        |:------ |:------------------ |:------------------------ |:--------------------------------------- |:---------------------------------------- |\n        | LCHIJA | minecraft          | 1.12.2                   | minecraft.jar                           | None                                     |\n        | LCHIJA | mcp                | 9.42                     | minecraft.jar                           | None                                     |\n        | LCHIJA | FML                | 8.0.99.99                | forge-1.12.2-14.23.5.2847-universal.jar | None                                     |\n        | LCHIJA | forge              | 14.23.5.2847             | forge-1.12.2-14.23.5.2847-universal.jar | None                                     |\n        | LCHIJA | spongeapi          | 7.1.0-0b58730f           | spongeforge-1.12.2-2838-7.1.7.jar       | None                                     |\n        | LCHIJA | sponge             | 1.12.2-7.1.7             | spongeforge-1.12.2-2838-7.1.7.jar       | None                                     |\n        | LCHIJA | spongeforge        | 1.12.2-2838-7.1.7        | spongeforge-1.12.2-2838-7.1.7.jar       | None                                     |\n        | LCHIJA | damagemark         | 1.4                      | DamageMarkMod-1.12.2-1.4.jar            | None                                     |\n        | LCHIJA | flansmod           | 5.5.2                    | Flan's Mod-1.12.2-5.5.2.jar             | None                                     |\n        | LCHIJA | flansmodapocalypse | 1.0                      | Flan's Mod-1.12.2-5.5.2.jar             | None                                     |\n        | LCHIJA | cfm                | 6.3.1                    | furniture-6.3.1-1.12.2.jar              | None                                     |\n        | LCHIJA | inventorytweaks    | 1.63+release.109.220f184 | InventoryTweaks-1.63.jar                | 55d2cd4f5f0961410bf7b91ef6c6bf00a766dcbe |\n        | LCHIJA | jei                | 4.15.0.268               | jei_1.12.2-4.15.0.268.jar               | None                                     |\n        | LCHIJA | modernlamps        | 1.0.2                    | ModernLights-1.0.2_1.12.jar             | None                                     |\n        | LCHIJA | railcraft          | 12.0.0                   | railcraft-12.0.0.jar                    | a0c255ac501b2749537d5824bb0f0588bf0320fa |\n        | LCHIJA | customnpcs         | 1.12                     | 【自定义人物】CustomNPCs_1.12.2(26aug18).jar   | None                                     |\n\n\n        Plugins:\n\n        | State  | ID                           | Version     | Source                                    | Signature |\n        |:------ |:---------------------------- |:----------- |:----------------------------------------- |:--------- |\n        | LCHIJA | bungeetablistplus            | 2.8.11      | BungeeTabListPlus_SpongeBridge-2.8.11.jar | None      |\n        | LCHIJA | catclearlag                  | 0.8         | CatClearLag-0.8.jar                       | None      |\n        | LCHIJA | de_yottaflops_easyscoreboard | 2.5.1       | EasyScoreboards.jar                       | None      |\n        | LCHIJA | holograms                    | 3.1.5       | holograms-3.1.5.jar                       | None      |\n        | LCHIJA | placeholderapi               | 4.5.1       | PlaceholderAPI-4.5.1.jar                  | None      |\n        | LCHIJA | hologramsplus                | 1.0.0       | HologramsPlus-1.0.0.jar                   | None      |\n        | LCHIJA | luckperms                    | 4.3.75      | LuckPerms-Sponge-4.3.75.jar               | None      |\n        | LCHIJA | nucleus                      | 1.12.2-S7.1 | Nucleus-1.12.2-S7.1-MC1.12.2-plugin.jar   | None      |\n        | LCHIJA | pixelautomessages            | 1.0.3       | PixelAutoMessages-1.0.3-b15.jar           | None      |\n\n        Loaded coremods (and transformers): \nInventory Tweaks Coremod (InventoryTweaks-1.63.jar)\n  invtweaks.forge.asm.ContainerTransformer\nForgePlugin (CustomSkinLoader_Forge-14.7.jar)\n  customskinloader.forge.TransformerManager\nSpongeCoremod (spongeforge-1.12.2-2838-7.1.7.jar)\n  org.spongepowered.common.launch.transformer.SpongeSuperclassTransformer\n        Profiler Position: N/A (disabled)\n        Player Count: 0 / 20; []\n        Is Modded: Definitely; Server brand changed to 'fml,forge,sponge'\n        Type: Dedicated Server (map_server.txt)\n",
    "replies": [
        {
            "author": "xmdhs",
            "timestamp": 1577926440,
            "txt_content": "删除 level_sponge.dat 没效吗？\n\n找到同目录下的 level_sponge.dat_old 改名为 level_sponge.dat\n\n然后启动服务器试试"
        },
        {
            "author": "zhanghongbin",
            "timestamp": 1577930040,
            "txt_content": "xmdhs 发表于 2020-1-2 08:54\n删除 level_sponge.dat 没效吗？\n\n找到同目录下的 level_sponge.dat_old 改名为 level_sponge.dat\n没有效果 还是会崩溃"
        },
        {
            "author": "skyliye",
            "timestamp": 1577930280,
            "txt_content": "zhanghongbin 发表于 2020-1-2 09:54\n没有效果 还是会崩溃\n有没有之前的存档备份呢，比如用备份插件生成的"
        },
        {
            "author": "zhanghongbin",
            "timestamp": 1577930580,
            "txt_content": "skyliye 发表于 2020-1-2 09:58\n有没有之前的存档备份呢，比如用备份插件生成的\n还真没有 刚组建不久的服务器 还没调试完就一波断电带走了"
        },
        {
            "author": "skyliye",
            "timestamp": 1577930820,
            "txt_content": "zhanghongbin 发表于 2020-1-2 10:03\n还真没有 刚组建不久的服务器 还没调试完就一波断电带走了\n你把level.dat发一下，我看看还能不能正常读取了，现在基本能确定这文件服务端是读不出来了，但是地图区块文件未必损坏，也就是可以把玩家财产以及建筑物转移出来，然后再重建一个地图"
        },
        {
            "author": "zhanghongbin",
            "timestamp": 1577931060,
            "txt_content": "skyliye 发表于 2020-1-2 10:07\n你把level.dat发一下，我看看还能不能正常读取了，现在基本能确定这文件服务端是读不出来了，但是地图区 ...\n\n\n\nlevel.rar\n(33.55 KB, 下载次数: 2)\n\n\n\n2020-1-2 10:10 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n"
        },
        {
            "author": "skyliye",
            "timestamp": 1577931360,
            "txt_content": "zhanghongbin 发表于 2020-1-2 10:11\n地图种子正常读取出来了，应该有机会可以修复\n\n\n\n\n\nQQ截图20200102101315.png (143.69 KB, 下载次数: 0)\n\n下载附件\n\n2020-1-2 10:16 上传\n\n\n\n\n\n\n\n因为操作上可能过于复杂，方便打包发一下服务端吗，我会尝试修复地图文件\n\n"
        },
        {
            "author": "xmdhs",
            "timestamp": 1577931540,
            "txt_content": "zhanghongbin 发表于 2020-1-2 09:54\n没有效果 还是会崩溃找到同目录下的 level_sponge.dat_old 改名为 level_sponge.dat\n试了吗"
        },
        {
            "author": "zhanghongbin",
            "timestamp": 1577943840,
            "txt_content": "xmdhs 发表于 2020-1-2 10:19\n试了吗\n试过了 最开始就用的这个方法 没有效果的"
        },
        {
            "author": "zhanghongbin",
            "timestamp": 1577961540,
            "txt_content": "skyliye 发表于 2020-1-2 10:16\n地图种子正常读取出来了，应该有机会可以修复\n链接：https://pan.baidu.com/s/1jOdQmoMDdGyv9rssnKxeUA \n提取码：i3qz\n校园网上传太慢\n\n"
        }
    ]
}