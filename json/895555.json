{
    "title": "是否有办法检测光照？",
    "author": "底层咸鱼",
    "replyCount": 16,
    "timestamp": 1564729920,
    "txt_content": "是否有办法使用命令检测光照？\n我想要模拟游戏中的怪物生成机制。\n（估计没有，我已经做好了去撤销悬赏的心理准备）",
    "replies": [
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1564730100,
            "txt_content": "没有直接方法 大概\n但是\n你可以用算法实现\n\n在一片区域放一片as\n然后如果是白天\n令每个as亮度sb为15\n\n然后检测as上方是否有方块\n如果有\n则标记没有光源\n然后自身亮度为周围亮度-1"
        },
        {
            "author": "⊙u⊙",
            "timestamp": 1564730280,
            "txt_content": "没有理想的办法，去撤吧...\n\n要么使用笼子特性刷一些指定的实体获取一个范围值\n要么穷举光源方块位置自行计算"
        },
        {
            "author": "底层咸鱼",
            "timestamp": 1564730400,
            "txt_content": " 本帖最后由 897412176 于 2019-8-2 15:26 编辑 \n阴阳师元素祭祀 发表于 2019-8-2 15:15\n没有直接方法 大概\n但是\n你可以用算法实现\n\n你想的太简单了\n亮度 - Minecraft Wiki\n当然如果你真的愿意的话，帮我写一份数据包吧\n光照等级反映在记分板上.\n\n感觉是 X-Y problem\n↓ 我想要模拟游戏中的怪物生成机制（请仔细读题）"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1564730580,
            "txt_content": "897412176 发表于 2019-8-2 15:20\n你想的太简单了\n亮度 - Minecraft Wiki\n当然如果你真的愿意的话，帮我写一份数据包吧\n那一片区域每个方块都放as\n然后execute 是光源方块则设置亮度为那个\n然后255的as设置亮度为15\n\n并标记天空光源\n往下传递光源且不递减\n有阻挡后慢慢递减的样子\n\n\n感觉是X-Y problem"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1564730700,
            "txt_content": "不是……为什么不用阳光传感器/月光传感器……"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1564730820,
            "txt_content": "你最好说清楚你具体要干啥"
        },
        {
            "author": "底层咸鱼",
            "timestamp": 1564730880,
            "txt_content": "FHC红石 发表于 2019-8-2 15:25\n不是……为什么不用阳光传感器/月光传感器……\n我是想写一个数据包，来模拟怪物生成机制。\n你不觉得用阳光传感器很奇怪吗\n而且不保证不会出现 BUG"
        },
        {
            "author": "底层咸鱼",
            "timestamp": 1564731060,
            "txt_content": "FHC红石 发表于 2019-8-2 15:27\n你最好说清楚你具体要干啥\n举个例子：\n我要刷僵尸。\n在主世界，僵尸在亮度等级小于等于7的地方以4个为一群生成。"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1564731900,
            "txt_content": "897412176 发表于 2019-8-2 15:31\n举个例子：\n我要刷僵尸。\n在主世界，僵尸在亮度等级小于等于7的地方以4个为一群生成。 ...\n那只能阳光传感器了，可以检测自然光照强度，但人工的（如火把）不行"
        },
        {
            "author": "Ph-苯",
            "timestamp": 1564738200,
            "txt_content": "原版没有理想的检测方法。亮度不储存在存档文件里，是打开存档后游戏临时计算出来的。如果一定要检测亮度，试试模拟游戏内的亮度计算，穷举所有透明方块、半透明方块、光源方块，每次计算亮度时扫描世界内的光源方块，从每个光源方块出发算出影响范围内的亮度(天空也可以看做特殊的光源方块，但要注意亮度随时间的变化)，然后在所有光源方块计算出的亮度中取最大值，最后再用这些计算出来的亮度来干你想干的事。用MC极其有限的指令和极低的执行效率来完成这样浩大的工程…………"
        },
        {
            "author": "⊙u⊙",
            "timestamp": 1564784280,
            "txt_content": "897412176 发表于 2019-8-1 21:31\n举个例子：\n我要刷僵尸。\n在主世界，僵尸在亮度等级小于等于7的地方以4个为一群生成。 ...\n按世界算的话连穷举计算方块亮度也救不活，范围太大了...\n\n\n所以你可以考虑利用游戏自身的生成机制。\n当没有标签的僵尸生成时，在自身附近生成3个，并标上标签..."
        },
        {
            "author": "深绿世界X",
            "timestamp": 1564865640,
            "txt_content": "一个资源包把阳光传感器改成透明的撤掉碰撞体积，于是你就找不到它了"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1564943400,
            "txt_content": "那啥，需要撤销悬赏吗"
        },
        {
            "author": "底层咸鱼",
            "timestamp": 1564962840,
            "txt_content": "FHC红石 发表于 2019-8-5 02:30\n那啥，需要撤销悬赏吗\n？？？不是说要等到七天后吗？\n现在也可以撤销吗？\n那撤销吧。"
        },
        {
            "author": "2188349576",
            "timestamp": 1564993020,
            "txt_content": "貌似有mod可以检测"
        },
        {
            "author": "莫哀霜",
            "timestamp": 1565058060,
            "txt_content": "897412176 发表于 2019-8-5 07:54\n？？？不是说要等到七天后吗？\n现在也可以撤销吗？\n那撤销吧。\n      其实你可以找找插件，我以前用过一个插件，不过名字记不住了，它可以在地面上分布网格，通过网格颜色可以看出光照强度，不过可能不是很精确。"
        }
    ]
}