{
    "title": "如何检测某种生物死亡",
    "author": "AD【钙奶】",
    "replyCount": 4,
    "timestamp": 1582433400,
    "txt_content": "有些生物是自带GUI的\n比如说村民这些\n\n你打开他们gui，再让他以某种方式死亡\n他的GUI就在你那打开着\n\n如何检测某种生物死亡，并强制关闭他的GUI呢？",
    "replies": [
        {
            "author": "醉倾梦",
            "timestamp": 1582434120,
            "txt_content": "注册监听事件：EntityDeathEvent\n然后再：\nPlayer p = e.getEntity();\np.closeInventory"
        },
        {
            "author": "AD【钙奶】",
            "timestamp": 1582458660,
            "txt_content": "xiao_sgyg 发表于 2020-2-23 13:02\n注册监听事件：EntityDeathEvent\n然后再：\nPlayer p = e.getEntity();\n如果说因为外部力量导致死亡\n怎么办？\n就比如说碰到岩浆这些"
        },
        {
            "author": "DJ阿铁打",
            "timestamp": 1582466460,
            "txt_content": "这么厉害的吗"
        },
        {
            "author": "MikuScarlet",
            "timestamp": 1582467720,
            "txt_content": " 本帖最后由 MikuScarlet 于 2020-2-23 22:29 编辑 \n\n判断它是不是村民，是的话就强制转换，然后获取它的Inventory，\n然后再获取Viewers，然后进行遍历然后逐个调用closeInventory方法。\n大概就是这样了。\n\n检测生物死亡的话就如二楼所说，监听EntityDeathEvent\n\ngetInventory().getViewers().forEach(p -> p.closeInventory())\n判断是不是村民的话，有个EntityType的，你可以看一下\n"
        }
    ]
}