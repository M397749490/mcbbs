{
    "title": "MC-Admin—— 一款有点好用的mc服务器和插件管理平台",
    "author": "丶米饭",
    "replyCount": 22,
    "timestamp": 1595381880,
    "txt_content": " 本帖最后由 丶米饭 于 2020-12-9 18:05 编辑 \nMC-Admin一款有点好用的mc服务器和插件管理平台 点击前往服务器的服主功能\n展示玩家数量和每日上线数量,同时进行一周玩家数量分析可在线方便下载各种服务端核心可在添加服务器信息后,定时每小时获取到服务器的情况,当前玩家数量,motd等等可在添加mysql信息后,进行对插件管理,目前支持authme,playertitle,playerpoints等更多插件\n\n插件的开发者:可方便的添加付费插件\n   验签功能实现原理:\n在平台上注册登录选择开发者功能,添加插件,获取对应秘钥获取验签代码,修改插件名和秘钥,同时获取用户签名sign, 会在启动会自动发送请求到mc-admin平台进行验签验签结果: 如果没注册过插件,失败,如果注册过但是秘钥不对, 失败  ,如果插件名和秘钥对了,但是请求者ip和sign不对失败插件请求会自动将用户ip和对应的服务器端口保存下来,可在平台手动获取sign,或者直接新增ip都可\n功能展示图片\n\n\n\n\n1.png (74.85 KB, 下载次数: 0)\n\n下载附件\n\n1\n2020-7-22 09:26 上传\n\n\n\n\n\n\n\n\n\n2.png (66.14 KB, 下载次数: 0)\n\n下载附件\n\n2\n2020-7-22 09:26 上传\n\n\n\n\n\n\n\n\n\n3.png (60.25 KB, 下载次数: 0)\n\n下载附件\n\n3\n2020-7-22 09:26 上传\n\n\n\n\n\n\n\n\n\n4.png (119 KB, 下载次数: 1)\n\n下载附件\n\n4\n2020-7-22 09:26 上传\n\n\n\n\n\n\n\n\n\n5.png (82.2 KB, 下载次数: 0)\n\n下载附件\n\n5\n2020-7-22 09:26 上传\n\n\n\n\n\n\n\n\n\n6.png (54.28 KB, 下载次数: 1)\n\n下载附件\n\n6\n2020-7-22 09:26 上传\n\n\n\n\n\n\n\n\n\n7.png (78.38 KB, 下载次数: 1)\n\n下载附件\n\n7\n2020-7-22 09:26 上传\n\n\n\n\n\n\n\n\n\n8.png (71.77 KB, 下载次数: 0)\n\n下载附件\n\n8\n2020-7-22 09:26 上传\n\n\n\n\n\n\n\n\n\n插件列表.jpg (19.61 KB, 下载次数: 0)\n\n下载附件\n\n2020-7-21 13:13 上传\n\n\n\n\n\n\n\n\n\n10.png (38.48 KB, 下载次数: 0)\n\n下载附件\n\n10\n2020-7-22 09:28 上传\n\n\n\n\n\n验签代码package com.handy.playertask;\n\nimport org.bukkit.scheduler.BukkitRunnable;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\n\n/**\n * @author hs\n * @Description: {签名验证}\n * @date 2020/7/17 15:03\n */\npublic class TheOriginalCheckUtil {\n    private final static String HTTP_DOMAIN = \"http://mcadmin.ljxmc.top\";\n    private final static String VERIFY_SIGN = \"/api/public/verifySign\";\n    /**\n     * 平台上注册的插件名称\n     */\n    private final static String PLUGIN_NAME = \"插件名称\";\n    /**\n     * 平台上获取的插件对应秘钥\n     */\n    private final static String SECRET_KEY = \"插件秘钥\";\n\n    /**\n     * 正版签名验证\n     */\n    public static void theOriginalCheck() {\n        String sign = \"自己获取config中的用户签名\";\n                // 获取服务器端口\n                int port = PlayerTask.getInstance().getServer().getPort();\n        // 进行校验\n        new BukkitRunnable() {\n            @Override\n            public void run() {\n                try {\n                    String urlStr = HTTP_DOMAIN + VERIFY_SIGN +\n                            \"?sign=\" + sign +\n                                                        \"&port=\" + port +\n                            \"&pluginName=\" + PLUGIN_NAME +\n                            \"&secretKey=\" + SECRET_KEY;\n                    URL url = new URL(urlStr);\n                    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                    BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream(), StandardCharsets.UTF_8));\n                    StringBuilder stringBuilder = new StringBuilder();\n                    String current;\n                    while ((current = in.readLine()) != null) {\n                        stringBuilder.append(current);\n                    }\n                    String verifySign = stringBuilder.toString();\n                    if (\"true\".equals(verifySign)) {\n                        // TODO 验证成功进行操作\n                    } else {\n                        // TODO 验证失败进行操作\n                    }\n                    this.cancel();\n                } catch (IOException e) {\n                    // TODO 网络或者其他问题进行打印消息提醒,并会自动一分钟后重试\n                }\n            }\n        }.runTaskTimerAsynchronously(PlayerTask.getInstance(), 0, 20 * 60);\n    }\n\n}复制代码\n\n2020-12-09 补充:cdk验签规则: mc-admin网址新增 cdk列表,可以进去查看\n这个cdk原理是这样的  \n1: 先生成对应插件的cdk,然后这里是可以设置每个cdk可被绑定几次,然后每个cdk是否需要验证端口\n2: 服主使用了该cdk第一次请求会自动认证成功并记录,之后的话也一样,有绑定次数就可绑定新ip,没有就返回验证失败\n3: 请求路径 http://mcadmin.ljxmc.top/api/public/cdk/verifySign\n4: 请求参数还是之前的,没变\n原理: \n这个是先有cdk然后设置绑定次数,然后被使用了自动绑定到对应ip和端口\n\n\n\n[groupid=1511]Server CT[/groupid]",
    "replies": [
        {
            "author": "梦星桐",
            "timestamp": 1595382900,
            "txt_content": "非常好的网站，很好用，沙发~"
        },
        {
            "author": "霜冷呀~",
            "timestamp": 1595392860,
            "txt_content": "感觉很好用的样子，试试支持一下"
        },
        {
            "author": "gamom",
            "timestamp": 1596364020,
            "txt_content": "e...你的网站名称和某人的名称重复了...你知道为啥无法注册mcadmin.cn吗？因为这个名称早已被用了（不信你去看mcadmin.cn）"
        },
        {
            "author": "丶米饭",
            "timestamp": 1596371160,
            "txt_content": "gamom 发表于 2020-8-2 18:27\ne...你的网站名称和某人的名称重复了...你知道为啥无法注册mcadmin.cn吗？因为这个名称早已被用了（不信你 ...\n问题不大"
        },
        {
            "author": "gamom",
            "timestamp": 1596508020,
            "txt_content": "丶米饭 发表于 2020-8-2 20:26\n问题不大\nqwq，还好那人不追究"
        },
        {
            "author": "丶米饭",
            "timestamp": 1596509460,
            "txt_content": "gamom 发表于 2020-8-4 10:27\nqwq，还好那人不追究\n域名我也不喜欢那玩意,我就喜欢我自己的域名"
        },
        {
            "author": "起源系",
            "timestamp": 1596593460,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "gamom",
            "timestamp": 1596853140,
            "txt_content": "丶米饭 发表于 2020-8-4 10:51\n域名我也不喜欢那玩意,我就喜欢我自己的域名\n无意间看到了"
        },
        {
            "author": "惜年_",
            "timestamp": 1597628580,
            "txt_content": "感谢分享，里面插件很全"
        },
        {
            "author": "丶米饭",
            "timestamp": 1597634820,
            "txt_content": "惜年_ 发表于 2020-8-17 09:43\n感谢分享，里面插件很全\n哪里全了,我自己都觉得不全"
        },
        {
            "author": "长生道长",
            "timestamp": 1597790400,
            "txt_content": "作者你好，我用了这个MC-Admin的功能，用它弄了一个付费验证,目前的话已经被人反编译并把验证的相关代码删除，\n所以验证也就没用了,有什么办法可以解决这个问题吗"
        },
        {
            "author": "丶米饭",
            "timestamp": 1597792560,
            "txt_content": "长生道长 发表于 2020-8-19 06:40\n作者你好，我用了这个MC-Admin的功能，用它弄了一个付费验证,目前的话已经被人反编译并把验证的相关代码删 ...\n自己混淆代码，或者多处验证，把验证代码写在每个逻辑存在的地方"
        },
        {
            "author": "长生道长",
            "timestamp": 1597792800,
            "txt_content": "丶米饭 发表于 2020-8-19 07:16\n自己混淆代码，或者多处验证，把验证代码写在每个逻辑存在的地方\n混淆后呗反编译删除了，我写了两处，用了classloader加载的lib进行验证的"
        },
        {
            "author": "丶米饭",
            "timestamp": 1597802280,
            "txt_content": "长生道长 发表于 2020-8-19 07:20\n混淆后呗反编译删除了，我写了两处，用了classloader加载的lib进行验证的\n讲道理,java要反编译,即使混淆也能反混淆...\n这实在拦不住,别说插件了,你看看idea这种大公司的玩意破解版有多少,win都被破解了呢\n你就知道这没办法的.\n\n你只能尽力..小人防不住的\n\n如果觉得你的代码很宝贵\n你可以每个命令,每个监听器,每个方法中全部写上验证代码,同时交叉验证..多处验证..\n然后进行混淆,同时进行代码命名逻辑混淆 ,你可以拦截住百分之99.99了...\n但是那样的话,插件性能必然会差点了"
        },
        {
            "author": "长生道长",
            "timestamp": 1597802460,
            "txt_content": "丶米饭 发表于 2020-8-19 09:58\n讲道理,java要反编译,即使混淆也能反混淆...\n这实在拦不住,别说插件了,你看看idea这种大公司的玩 ...\n这群搞破解的丧心病狂没得办法，我准备 把插件做成一个壳子，然后把功能代码放在服务器,用URLloader远程解密加载插件，一个壳子配一套加密class，我要看看哪个人搞了版本给人破解 太丧了我很恼怒"
        },
        {
            "author": "404/Not/Found",
            "timestamp": 1597805520,
            "txt_content": "牛逼66666666"
        },
        {
            "author": "lian123456",
            "timestamp": 1597997280,
            "txt_content": "开源吗？"
        },
        {
            "author": "丶米饭",
            "timestamp": 1607508120,
            "txt_content": "自己顶下,然后等会发布cdk接口"
        },
        {
            "author": "大阔",
            "timestamp": 1607508420,
            "txt_content": "丶米饭 发表于 2020-12-9 18:02\n自己顶下,然后等会发布cdk接口\n什么时候发，快快快"
        },
        {
            "author": "丶米饭",
            "timestamp": 1607569560,
            "txt_content": "大阔 发表于 2020-12-9 18:07\n什么时候发，快快快\n发过了呀...帖子最后面补充内容"
        },
        {
            "author": "丶米饭",
            "timestamp": 1609466040,
            "txt_content": "早上好"
        },
        {
            "author": "俗人问雅",
            "timestamp": 1610720820,
            "txt_content": "用了之后腐竹方便多了"
        }
    ]
}