{
    "title": "服务器开启后TPS随时间稳定下降，附详细记录求解决",
    "author": "838652229",
    "replyCount": 7,
    "timestamp": 1508846820,
    "txt_content": "问题描述：开启服务器后，TPS在数小时后会逐步下降到约12。\n详细情况：\n        1、服务器玩家与TPS下降关系不太大，人少只是减少下降速度。\n        2、TPS下降到12左右时用/GC命令，区块、实体数量1000以下（正常），tiles开服时约15000，下降后约23000。\n        3、下降后服务器CPU没有明显变化，与开服一样，5%左右，但是内存占用会随着时间从一半的占用增加到最大内存。\n        4、分析插件貌似没出现特别占用的情况。\n        5、使用了neverlag、escapelag、clearlag插件，会自动清理内存、实体等卡服物品，但是对于内存下降、TPS降低没有帮助。\n        6、附件为TPS下降后使用/timings 进行记录的情况。\n\n\n\ntimings12.txt\n(52.71 KB, 下载次数: 8)\n\n\n\n2017-10-24 18:40 上传\n点击文件名下载附件\n\n\n\n\n\n\n求解决：是什么导致的问题?插件、MOD、实体数量？然后，用什么方法查找出问题的实体或者MOD？\n",
    "replies": [
        {
            "author": "水煮清娃",
            "timestamp": 1508846820,
            "txt_content": "838652229 发表于 2017-10-26 14:47\n考虑过了，没有玩家进行压力测试的情况，没有MOD物品使用的情况下，单机怕不是要测试到天荒地老=。=记得 ...\n用这个试试，很抱歉，因为我没遇到过只要的问题，也没什么好的方案。\n\nhttp://www.mcbbs.net/thread-652466-1-1.html"
        },
        {
            "author": "fyxrim",
            "timestamp": 1508916180,
            "txt_content": "你这是MOD服？ 这个会很卡服  因为MOD很多BUG的卡服"
        },
        {
            "author": "水煮清娃",
            "timestamp": 1508931840,
            "txt_content": "如果不是mod服或者不是因为硬件问题（内存虚标或者性能超售），可以尝试更新构建版本，同一个版本会有不同的构建版本，越新修复的问题越多。选择自己对应的版本下载最新的构建版本。\n\nhttps://yivesmirror.com/"
        },
        {
            "author": "838652229",
            "timestamp": 1508990400,
            "txt_content": "水煮清娃 发表于 2017-10-25 19:44\n如果不是mod服或者不是因为硬件问题（内存虚标或者性能超售），可以尝试更新构建版本，同一个版本会有不同 ...\n是MOD服，KCauldron-1.7.10-1614.1788，往上升就Thermos，所以不考虑。想找导致性能下降的具体MOD或插件。"
        },
        {
            "author": "水煮清娃",
            "timestamp": 1508998860,
            "txt_content": "838652229 发表于 2017-10-26 12:00\n是MOD服，KCauldron-1.7.10-1614.1788，往上升就Thermos，所以不考虑。想找导致性能下降的具体MOD或插件 ...\n如果是只要，建议你在电脑上进行本地测试，除了地图其它都跟服务器上的一样。先看看会不会出现这个问题，如果不出现那很明显就是服务器硬件问题，如果本地也出现跟服务器一样的问题，那就用排除法，一个个删掉 测试是哪个mod出了问题。"
        },
        {
            "author": "838652229",
            "timestamp": 1509000420,
            "txt_content": "水煮清娃 发表于 2017-10-26 14:21\n如果是只要，建议你在电脑上进行本地测试，除了地图其它都跟服务器上的一样。先看看会不会出现这个问题， ...\n考虑过了，没有玩家进行压力测试的情况，没有MOD物品使用的情况下，单机怕不是要测试到天荒地老=。=记得还有个MOD可以统计某个区块的计算压力，然而这个跟TPS缓慢下降貌似没有关系"
        },
        {
            "author": "838652229",
            "timestamp": 1509087000,
            "txt_content": "水煮清娃 发表于 2017-10-26 17:40\n用这个试试，很抱歉，因为我没遇到过只要的问题，也没什么好的方案。\n\nhttp://www.mcbbs.net/thread-6524 ...\n挺不错的，可惜不适合1.7.10服务器。还有个OPIS是MOD可以监测性能消耗。"
        }
    ]
}