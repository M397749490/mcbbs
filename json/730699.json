{
    "title": "遍历玩家背包,检测是否有指定道具",
    "author": "魁魅",
    "replyCount": 13,
    "timestamp": 1506913980,
    "txt_content": "=。=怎么遍历玩家的背包然后检测有没有指定的道具 如果有就扣掉1个 没有就不执行任何操作",
    "replies": [
        {
            "author": "tdiant",
            "timestamp": 1506955980,
            "txt_content": "Player p;\nfor(ItemStack item:p.getInventory()){\n    if(this.isTrulyItemStack(item))\n        if(item.getAmount()>1)\n          item.setAmount(item.getAmount()-1);\n        else\n          p.getInventory().removeItem(item);\n}\n\nprivate boolean isTrulyItemStack(ItemStack item){\n    //判读物品是不是指定物品\n}"
        },
        {
            "author": "耗子",
            "timestamp": 1506964380,
            "txt_content": "tdiant 发表于 2017-10-2 22:53\nPlayer p;\nfor(ItemStack item:p.getInventory()){\n    if(this.isTrulyItemStack(item))\n代码整体思路还是可以，但有着大量错误，比如说操作完毕物品后没有break，导致如果玩家拥有多个符合条件的ItemStack，会被扣除多次物品。此外，PlayerInventory不能这样遍历。。。"
        },
        {
            "author": "海螺螺",
            "timestamp": 1506972300,
            "txt_content": "耗子 发表于 2017-10-3 01:13\n代码整体思路还是可以，但有着大量错误，比如说操作完毕物品后没有break，导致如果玩家拥有多个符合条件 ...\n可以这么遍历的\nInventory继承了 Iterable<ItemStack>接口"
        },
        {
            "author": "耗子",
            "timestamp": 1506996900,
            "txt_content": "754503921 发表于 2017-10-3 03:25\n可以这么遍历的\nInventory继承了 Iterable接口\n好吧，确实是这样"
        },
        {
            "author": "匿名",
            "timestamp": 1507114320,
            "txt_content": "\n\n\n\n\n}2Z(LDVQ3O@QCY2RMBYT4_A.png (72.68 KB, 下载次数: 9)\n\n下载附件\n\n2017-10-4 18:52 上传\n\n\n\n\n\n"
        },
        {
            "author": "魁魅",
            "timestamp": 1507461960,
            "txt_content": "匿名者 发表于 2017-10-4 18:52\n=。=按照你的写法的确成功的扣除了1个道具但是如果再按就不行了"
        },
        {
            "author": "魁魅",
            "timestamp": 1507462380,
            "txt_content": "匿名者 发表于 2017-10-4 18:52\n准确来说 您的代码只遍历了玩家的第一格背包 而不是整个背包"
        },
        {
            "author": "魁魅",
            "timestamp": 1507462560,
            "txt_content": "匿名者 发表于 2017-10-4 18:52\n好吧 是我把PlayerInventory看成了Inventory"
        },
        {
            "author": "匿名",
            "timestamp": 1507538400,
            "txt_content": "魁魅 发表于 2017-10-8 19:33\n准确来说 您的代码只遍历了玩家的第一格背包 而不是整个背包\n\n\n\n\nXMCSHMGE1ILG`HQ_4_VK0HS.png (22.9 KB, 下载次数: 3)\n\n下载附件\n\n2017-10-9 16:40 上传\n\n\n\n\n\n"
        },
        {
            "author": "匿名",
            "timestamp": 1507538520,
            "txt_content": "魁魅 发表于 2017-10-8 19:26\n=。=按照你的写法的确成功的扣除了1个道具但是如果再按就不行了\n所以你说的如果有，就扣掉一个，的确有就扣掉了一个啊，有什么问题么如果有就扣掉1个 没有就不执行任何操作\n"
        },
        {
            "author": "Ghost-Gx",
            "timestamp": 1507958040,
            "txt_content": "完全看不懂的样子w(?Д?)w"
        },
        {
            "author": "彡丿丶小莫",
            "timestamp": 1508073300,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "-帕秋莉-GO",
            "timestamp": 1509266760,
            "txt_content": "遍历 = for 手动滑稽"
        }
    ]
}