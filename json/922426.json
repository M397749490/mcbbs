{
    "title": "如何在一个三维空间随机传送实体",
    "author": "底层咸鱼",
    "replyCount": 2,
    "timestamp": 1572077040,
    "txt_content": " 本帖最后由 我是萌新（ 于 2019-11-3 10:33 编辑 \n\n众所周知，spreadplayers 可以在一个二维平面（正方形区域）随机传送实体，\n那么如何在一个三维空间（例如一个正方体区域）随机传送实体？\n内存占用少，效率高的答案优先考虑最佳。",
    "replies": [
        {
            "author": "SPGoding",
            "timestamp": 1572078900,
            "txt_content": "通法：生成三个随机数，分别表示传送目的地的 x y z 坐标。将实体的 Pos 修改为相应坐标即可。如果修改后的位置用 if block 判断为不能传送的位置，则重复上述步骤再传送一遍。\n\n鬼法：以 15×15×15 的正方体区域为例，将实体放至 x y z 坐标最小的角落，并在每个坐标轴上进行随机传送。随机传送的方式为：生成一个 0 或 1 的随机数，如果为 1 则传送 ~1；生成一个 0 或 1 的随机数，如果为 1 则传送 ~2；生成一个 0 或 1 的随机数，如果为 1 则传送 ~4；生成一个 0 或 1 的随机数，如果为 1 则传送 ~8。该方法优势是没有对 NBT 进行操作，性能占用少，但很有病。\n\n别的方法我怎么知道，我又不会命令。"
        },
        {
            "author": "Delamer",
            "timestamp": 1572081360,
            "txt_content": " 本帖最后由 Delamer 于 2019-10-26 17:19 编辑 \n\n使用盔甲架或区域效果云进行模拟tp定位后再把待传送实体传送到目标点.\n在执行tp前先执行以下指令.\nsummon area_effect_cloud ~ ~ ~ {Duration:1s,Tags:[\"test\",\"point\"]}\n\nexecute as @e[tag=test] at @s run spreadplayers 0 0 0 1 false @s\nexecute as @e[tag=test] at @s run summon area_effect_cloud ~ ~1 ~ {Duration:1s,Tags:[\"point\"]}\nexecute as @e[tag=test] at @s run summon area_effect_cloud ~ ~2 ~ {Duration:1s,Tags:[\"point\"]}\nexecute as @e[tag=test] at @s run summon area_effect_cloud ~ ~3 ~ {Duration:1s,Tags:[\"point\"]}\nexecute as @e[tag=test] at @s run summon area_effect_cloud ~ ~4 ~ {Duration:1s,Tags:[\"point\"]}\n\nexecute as @p at @s run tp @s @e[tag=point,limit=1,sort=random]\n执行后的效果是在0,0点半径为1高度为5的空间内随机tp最近的玩家.\n思路:\n由AEC来确定spreadplayers的横向随机传送点,\n用AEC覆盖你需要tp的高度,\n再由sort=random来选择纵向随机传送点\n"
        }
    ]
}