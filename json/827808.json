{
    "title": "用schedule做音乐（及很多有趣的东西）",
    "author": "afjl",
    "replyCount": 8,
    "timestamp": 1541262960,
    "txt_content": " 本帖最后由 afjl 于 2018-11-4 10:54 编辑 \n\n1.14加了一个叫schedule的命令\n可以定时执行命令\n然后我就试着做了一个简单的音乐数据包\n\n但是，schedule对每个函数只能设置一个时间点\n要多次执行同一函数需要执行后重新设时间，但这样就可能会造成执行顺序混乱\n因此可以直接弄一大堆函数，然后用一个主函数设定schedule就行\n\nQ:文件太多怎么办？\nA:写生成器呀\n\n然后我就写了个生成器，并做出了一个简单的音乐\n\n\n\nmusic.rar\n(449.08 KB, 下载次数: 9)\n\n\n\n2018-11-4 00:17 上传\n点击文件名下载附件\n\n\n\n\n\n\n代码，生成器以及生成的数据包都在里面\n歌曲：友谊地久天长\n两个音轨\n\n（自己找代码吧，Windows的搜索很好用，文件名是gen.cpp）\n\n输入文件为input.in\n第一行先输入标识符（可以识别音轨）\n然后输入初始延时（以0.05秒为单位，并默认有额外0.25秒的初始延迟）\n下面每行两个正整数\n第一个表示音高，数值就是音符盒点击次数，详见这里\n第二个表示音符长度，以0.05秒为单位（实际就是与下一个音符的时间间隔）\n需要先建立文件夹，名称和标识符一样，否则无法正常工作\n输出到这个文件夹里许多函数，每个函数演奏一个音符\n另外会输出到一个单独的mcfunction里，调用即可演奏音乐\n\n实现多个音轨，只需要先生成各个音轨，再自己写个函数，同时调用这几个音轨就行\n\n默认音色是钢琴\n可以改动代码来改变音色\n或者实现一些接口\n（又用fstream又用sprintf，这是什么鬼）\n\n实际这个可以实现很多功能\n不用再每刻计数来实现某些特殊效果了\n可能能有效优化某些原版插件/MOD（要看这个命令的效率了）\n\n最低需求版本：18w43a\n\n（原版插件/MOD:现在我吊打bukkit插件和Forge MOD）\n\n更新：\n稍微修改了一下内容，现在生成时会提供一个停止函数\n由于停止机制，如果在未播放完时再次调用函数，会从头开始播放\n如果作一些（复杂的）修改，可以实现播放时调用函数没有效果（继续播放），也可以弄成循环播放\n\n\n\nmusic.rar\n(430.16 KB, 下载次数: 0)\n\n\n\n2018-11-4 10:54 上传\n点击文件名下载附件\nv2\n\n\n\n\n",
    "replies": [
        {
            "author": "langyo",
            "timestamp": 1541266260,
            "txt_content": " 本帖最后由 langyo 于 2018-11-4 01:39 编辑 \n\n\n\n出现了，万能头文件！bits/stdc++.h！\n\n（其实呢，个人建议别用万能头文件，也不建议在非竞赛环境下开头直接来句using namespace std;，因为这实在是太容易出现命名冲突了，对于实际的工程代码来讲出现命名污染是很要命的事情）\n\n以及，你的代码在我这里运行之后连个屁都没放就直接退出了。我虽然知道你是把输入写 input.in 里了，但……难道你不能用下 cin 和 cout 么……虽然这两玩意被资深 C++ 程序员给骂死了，但是用作普通的算法上还是非常好用的……\n\n\n\n\n我其实还是第一次知道 Mojang 加入了个延迟执行指令……\n\n啥时候来个任意编辑字符串的指令就好了……"
        },
        {
            "author": "NoName德里奇",
            "timestamp": 1541287800,
            "txt_content": "langyo 发表于 2018-11-4 01:31\n我其实还是第一次知道 Mojang 加入了个延迟执行指令……\n\n啥时候来个任意编辑字符串的指令就好了…… ...\ndalao太猛了，带带我 .jpg"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1541290260,
            "txt_content": "/schedule 一出，现在连计分板都不用了"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1541291700,
            "txt_content": "sch不能计划指令？mjsb"
        },
        {
            "author": "afjl",
            "timestamp": 1541296260,
            "txt_content": "langyo 发表于 2018-11-4 01:31\n我其实还是第一次知道 Mojang 加入了个延迟执行指令……\n\n啥时候来个任意编辑字符串的指令就好了…… ...\n（然而我参加OI比赛时从未用过万能头）\n（防命名冲突直接namespace qwq{}）\n这个程序结束输入需要EOF\n或者一个非法字符\n所以输入格式没有n\n如果用控制台输入需要Ctrl+Z\n我再稍微修改一下，再发一个"
        },
        {
            "author": "SPGoding",
            "timestamp": 1541299380,
            "txt_content": "ruhuasiyu 发表于 2018-11-4 08:35\nsch不能计划指令？mjsb\n如果改成 execute schedule -1s run say mjsb 就挺好的"
        },
        {
            "author": "Abraham511",
            "timestamp": 1541315640,
            "txt_content": "所以1.14以后可以更简单的做出更好的音乐地图~"
        },
        {
            "author": "sjx",
            "timestamp": 1541767080,
            "txt_content": "有过这个想法，但并未实现。\n居然被 dalao 通过为每个音符都创建一个 function 写出来了！\n"
        }
    ]
}