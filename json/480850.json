{
    "title": "【论BungeeCord群组与单端服务端的带宽占用问题】【有图有真相】",
    "author": "691422759",
    "replyCount": 27,
    "timestamp": 1438679760,
    "txt_content": " 本帖最后由 691422759 于 2015-8-4 17:36 编辑 \n前言：图床你死的好惨呐_(:з」∠)_\n\n本人用的是阿里云服务器，以前一直开Spigot的单端， 随着玩家数目的不断上升，服务器的CPU到达了瓶颈，准备开BC端缓解CPU压力\n以前的体制：用户--->服务端\n现在的体制：用户--->BC端--->服务器端\n我没有设置第二个子服务器，为的是验证BC端的优点：CPU\n开启后看到，CPU均衡了很多，没有了以前CPU单个扎堆的现象\n而实际上，对于用户体验和TPS上，并没有太明显的提升\n也就是当人数差不多时，TPS数值和BC端开启时是差不多的\n这还不算什么\n接下来是重点：\nBC前：\n\nBC后：\n\n看到这里我就炸了\n尼玛洒家可是按量付费啊，就这样一月都200啊，你这翻一番多是什么意思啊啊啊啊！\n人数没变，带宽莫名多了一倍多，我实在是打破脑袋也想不出来是怎么回事\n于是我打开了监控器做了对比\nBC前：\n\nBC后：\n\n请大家仔细观看，占用带宽最多的大户，BC端莫名就又多了一个网速大户\n难道说BC端和服务器端的数据交流算是带宽占用？\n如果是的话那真的是太口怕了。。。。\n不知道诸位BC的腐竹是否有这种情况出现，我急需大家的帮助。",
    "replies": [
        {
            "author": "18245386101",
            "timestamp": 1438693020,
            "txt_content": "{:10_512:}dasdasdasdas"
        },
        {
            "author": "691422759",
            "timestamp": 1438700700,
            "txt_content": "好吧。版主如果看到了请移动到联机问答区吧。。。醉了"
        },
        {
            "author": "jiongjionger",
            "timestamp": 1438733520,
            "txt_content": "BC的优势是开多个服务端利用更多核。一个BC+一个服务端等于放弃了这个优势。BC的确会额外使用一定的宽带，但是不会使得宽带翻倍，如果宽带使用率翻倍说明你走的是外网流量，BC配置里面请使用127.0.0.1而不是外网的IP。在流量监控里面也注意区分公网流量和内网流量。"
        },
        {
            "author": "940461793",
            "timestamp": 1438733700,
            "txt_content": "你端都是在一个服务器上链接，还是分开服务器链接的"
        },
        {
            "author": "691422759",
            "timestamp": 1438734480,
            "txt_content": "940461793 发表于 2015-8-5 08:15\n你端都是在一个服务器上链接，还是分开服务器链接的\n我的BC和端都在一个服务的，端的IP我设置为了127.0.0.1，如果方便的话能否加下你的QQ呢"
        },
        {
            "author": "940461793",
            "timestamp": 1438737900,
            "txt_content": "691422759 发表于 2015-8-5 08:28\n我的BC和端都在一个服务的，端的IP我设置为了127.0.0.1，如果方便的话能否加下你的QQ呢\n ...\n我QQ就是用户名"
        },
        {
            "author": "YZH20011356810",
            "timestamp": 1438746000,
            "txt_content": "请问楼主BC前那张图在线玩家大概多少?"
        },
        {
            "author": "691422759",
            "timestamp": 1438749900,
            "txt_content": "YZH20011356810 发表于 2015-8-5 11:40\n请问楼主BC前那张图在线玩家大概多少?\nBC前是80人，BC后是90多人"
        },
        {
            "author": "linevil",
            "timestamp": 1438871220,
            "txt_content": "你应该在阿里云的流量统计里查看数据\n\n系统自带的监控 可能把内网流量计算进去了？"
        },
        {
            "author": "Ko_4",
            "timestamp": 1439127840,
            "txt_content": "691422759 发表于 2015-8-5 08:28\n我的BC和端都在一个服务的，端的IP我设置为了127.0.0.1，如果方便的话能否加下你的QQ呢\n ...\n你既然在同一台服务器上，而且只开一个服，那何必多带一个bc端呢"
        },
        {
            "author": "691422759",
            "timestamp": 1439130720,
            "txt_content": "linevil 发表于 2015-8-6 22:27\n你应该在阿里云的流量统计里查看数据\n\n系统自带的监控 可能把内网流量计算进去了？ ...\n看了，阿里的面板确实也翻了一倍"
        },
        {
            "author": "linevil",
            "timestamp": 1439181720,
            "txt_content": "691422759 发表于 2015-8-9 22:32\n看了，阿里的面板确实也翻了一倍\n这。。 应该不可能吧"
        },
        {
            "author": "力挽狂澜99v",
            "timestamp": 1439710200,
            "txt_content": "- -唔...吓人！"
        },
        {
            "author": "larsan",
            "timestamp": 1439736780,
            "txt_content": "我也存在这个问题，20M最多只能支撑到140人，120人左右就不淡定了"
        },
        {
            "author": "691422759",
            "timestamp": 1439770440,
            "txt_content": "larsan 发表于 2015-8-16 22:53\n我也存在这个问题，20M最多只能支撑到140人，120人左右就不淡定了\n所以我怀疑是阿里云的问题，我要换个服务商看看"
        },
        {
            "author": "1255655119",
            "timestamp": 1439785200,
            "txt_content": "其实这个带宽只是心理作用，因为Windows把内网通讯也计算进去了"
        },
        {
            "author": "691422759",
            "timestamp": 1439804640,
            "txt_content": "1255655119 发表于 2015-8-17 12:20\n其实这个带宽只是心理作用，因为Windows把内网通讯也计算进去了\n{:10_493:}你会因为心理作用每个月多出百元带宽么- -"
        },
        {
            "author": "Grandiose",
            "timestamp": 1439808900,
            "txt_content": "设置为只允许本地连接应该就可以了吧？"
        },
        {
            "author": "691422759",
            "timestamp": 1439860620,
            "txt_content": "Grandiose 发表于 2015-8-17 18:55\n设置为只允许本地连接应该就可以了吧？\n然而我并不会{:10_514:}"
        },
        {
            "author": "Grandiose",
            "timestamp": 1439863440,
            "txt_content": "691422759 发表于 2015-8-18 09:17\n然而我并不会\n这个必须设置的，不然BC服和其他服务器的交流会强奸带宽"
        },
        {
            "author": "691422759",
            "timestamp": 1439873700,
            "txt_content": "Grandiose 发表于 2015-8-18 10:04\n这个必须设置的，不然BC服和其他服务器的交流会强奸带宽\n能否方便加个QQ讲解一下呢。。。"
        },
        {
            "author": "691422759",
            "timestamp": 1439884140,
            "txt_content": "larsan 发表于 2015-8-16 22:53\n我也存在这个问题，20M最多只能支撑到140人，120人左右就不淡定了\n请问你的问题是否解决了呢{:10_522:}"
        },
        {
            "author": "691422759",
            "timestamp": 1439884260,
            "txt_content": "jiongjionger 发表于 2015-8-5 08:12\nBC的优势是开多个服务端利用更多核。一个BC+一个服务端等于放弃了这个优势。BC的确会额外使用一定的宽带， ...\n感谢解答，请问localhost和127.0.0.1有何区别？内网外网流量又是如何区别的呢"
        },
        {
            "author": "larsan",
            "timestamp": 1439889120,
            "txt_content": "691422759 发表于 2015-8-18 15:49\n请问你的问题是否解决了呢\n没有= =                       "
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1441332300,
            "txt_content": "BC收到了数据的确会转发给子服造成带宽多占用一些，但是也不会翻倍啊。。。"
        },
        {
            "author": "RuiFen",
            "timestamp": 1441335420,
            "txt_content": "嗯，学习到了"
        },
        {
            "author": "fxxkcents",
            "timestamp": 1441361400,
            "txt_content": "那就不用流量用套餐呗"
        }
    ]
}