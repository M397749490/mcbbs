{
    "title": "[Bukkit]在事件AsyncPlayerChatEvent下执行命令会报错[已解决]",
    "author": "弥猫うた",
    "replyCount": 6,
    "timestamp": 1578487260,
    "txt_content": " 本帖最后由 Mucrazy 于 2020-1-9 09:49 编辑 \n\nAsyncPlayerChatEvent事件，我想玩家说的话满足条件后执行player.chat(\"/\" + cmds);虽然能执行但是会报错\n请问有替代他的事件或者方法么？\n答案（六楼也一样）:\nBukkit.getScheduler().scheduleSyncDelayedTask(Main.getInstance(), new Runnable() {\npublic void run() {\nBukkit.dispatchCommand(player, cmds);\n}},  2L);\n",
    "replies": [
        {
            "author": "1789717367",
            "timestamp": 1578488460,
            "txt_content": "Bukkit.dispatchCommand(player, cmds);复制代码"
        },
        {
            "author": "TheRam_",
            "timestamp": 1578489240,
            "txt_content": "在AsyncPlayerChatEvent事件里执行player.chat()可能会再次触发AsyncPlayerChatEvent事件，形成一个死循环，导致报错(我猜的)\n\n可以用楼上的方法试试"
        },
        {
            "author": "弥猫うた",
            "timestamp": 1578492420,
            "txt_content": "1789717367 发表于 2020-1-8 21:01\n\n都一样其实，这个事件就是不能这么搞，有bug只能这样理解了"
        },
        {
            "author": "弥猫うた",
            "timestamp": 1578492540,
            "txt_content": "TheRam_ 发表于 2020-1-8 21:14\n在AsyncPlayerChatEvent事件里执行player.chat()可能会再次触发AsyncPlayerChatEvent事件，形成一个死循环 ...\n单纯就是个bug，这事件不能直接用指令"
        },
        {
            "author": "Himmelt",
            "timestamp": 1578493620,
            "txt_content": "\n\n\n\n\nimage.png (20.27 KB, 下载次数: 0)\n\n下载附件\n\n2020-1-8 22:27 上传\n\n\n\n\n\n"
        },
        {
            "author": "iKoumimi",
            "timestamp": 1578510540,
            "txt_content": "楼上正解。不能异步调用服务端的一些方法。比如BukkitAPI"
        }
    ]
}