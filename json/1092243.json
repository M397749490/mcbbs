{
    "title": "玩家进不来伺服器！急！",
    "author": "MFCC",
    "replyCount": 4,
    "timestamp": 1596366720,
    "txt_content": " 本帖最后由 爱心魔王FHC 于 2020-8-20 11:24 编辑 \n\n本人换了一下启动的代码之后伺服器就坏了，换回去原来的代码也是一样。\n原本的代码：\nscreen -S minecraft -U -m -d java -server -Xms27000M  -Xmx27000M -XX:+UseG1GC -XX:+UnlockExperimentalVMOptions -XX:MaxGCPauseMillis=100 -XX:+DisableExplicitGC -XX:TargetSurvivorRatio=90 -XX:G1NewSizePercent=50 -XX:G1MaxNewSizePercent=80 -XX:G1MixedGCLiveThresholdPercent=35 -XX:+AlwaysPreTouch -XX:+ParallelRefProcEnabled -Dusing.aikars.flags=mcflags.emc.gs -jar Server.jar\n\n换了之后开不起来的代码：\nscreen -S minecraft -U -m -d java -Xms27000M -Xmx27000M -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1 -Dusing.aikars.flags=https://mcflags.emc.gs -Daikars.new.flags=true -jar Server.jar nogui\n\n\n造成问题：伺服器玩家会进不去伺服器，然后会报错。\n报错内容：\n[11:06:49] [Netty Epoll Server IO #1/WARN]: [io.netty.channel.AbstractChannelHandlerContext] An exception 'java.lang.NullPointerException' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:\njava.lang.NullPointerException: null\n        at net.minecraft.server.v1_15_R1.NetworkManager.close(NetworkManager.java:284) ~[patched_1.15.2.jar:git-Paper-105]\n        at net.minecraft.server.v1_15_R1.NetworkManager.channelInactive(NetworkManager.java:96) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:224) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:377) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:342) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:224) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:377) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:342) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:224) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:224) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.handler.timeout.IdleStateHandler.channelInactive(IdleStateHandler.java:277) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:224) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1429) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:947) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:822) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:313) ~[patched_1.15.2.jar:git-Paper-105]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884) ~[patched_1.15.2.jar:git-Paper-105]\n        at java.lang.Thread.run(Thread.java:834) [?:?]\n\n\n",
    "replies": [
        {
            "author": "酥宁最酥啦",
            "timestamp": 1596367680,
            "txt_content": " 本帖最后由 苏宁y 于 2020-8-2 19:31 编辑 \n\n-Xms27000M  -Xmx27000M\n\n启动内存 27G  最大内存27G  \n\nxmx 改为10000M\n给你个优化参数cmd\n\n自己改核心名字和内存  别改xmx了就\n\n\n\n\n\n\n\n优化.txt\n\n\n2020-8-2 19:31 上传\n点击文件名下载附件\n\n\n\n\n2.64 KB, 下载次数: 2\n\n\n\n\n"
        },
        {
            "author": "xia_chen",
            "timestamp": 1596367920,
            "txt_content": "代码不用那么多，高版本核心本来就自动优化了的，你乱加一些代码优化，反而不那么完美。建议只设置内存加一条-XX:+UseG1GC这个就行了。"
        },
        {
            "author": "1220187637",
            "timestamp": 1596532140,
            "txt_content": "先换一个Paper版本\n再试着检查一下网络\nAikar给的参数应该没啥问题的"
        },
        {
            "author": "MFCC",
            "timestamp": 1597639380,
            "txt_content": ""
        }
    ]
}