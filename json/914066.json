{
    "title": "[Bukkit]玩家重生问题",
    "author": "弥猫うた",
    "replyCount": 4,
    "timestamp": 1568632380,
    "txt_content": " 本帖最后由 Mucrazy 于 2019-9-16 19:38 编辑 \n\n如何在玩家重生后扣除20%的血量",
    "replies": [
        {
            "author": "crocodill",
            "timestamp": 1568633820,
            "txt_content": "原来是这样的啊，之前还很头痛"
        },
        {
            "author": "吕易天",
            "timestamp": 1568639460,
            "txt_content": "最大血量的话可以直接设置，如果不是最大血量可以通过监听PlayerRespawnEvent来实现"
        },
        {
            "author": "弥猫うた",
            "timestamp": 1568641980,
            "txt_content": "吕易天 发表于 2019-9-16 21:11\n最大血量的话可以直接设置，如果不是最大血量可以通过监听PlayerRespawnEvent来实现 ...\n我知道事件 请问怎么实现，举个例子吧"
        },
        {
            "author": "吕易天",
            "timestamp": 1568817000,
            "txt_content": " 本帖最后由 吕易天 于 2019-9-18 23:56 编辑 \nMucrazy 发表于 2019-9-16 21:53\n我知道事件 请问怎么实现，举个例子吧\n@EventHandler\n        public void onPlayerRespawn(PlayerRespawnEvent e) {\n                new Thread(()->{\n                        while(e.getPlayer().isDead())\n                        {\n                                try {\n                                        Thread.sleep(1);\n                                }catch(InterruptedException exc) {return;}\n                        }\n                        e.getPlayer().setHealth(e.getPlayer().getHealth()*0.8);\n                }).start();\n        }\n"
        }
    ]
}