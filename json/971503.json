{
    "title": "sponge1.12.2 服务器卡顿",
    "author": "Freeze_Dolphin",
    "replyCount": 11,
    "timestamp": 1582877040,
    "txt_content": " 本帖最后由 Freeze_Dolphin 于 2020-2-28 16:14 编辑 \n\ntps波动比较大，7到20都会有\n\ntimings：https://timings.aikar.co/?id=827d94d006f24591ac6cd32d0d3f9127\n\n求大佬帮忙看看怎么优化\n\n内存分配2GB\n\n还有sponge有没有创世神优化，我每次使用we都要卡个至少3秒\n\n",
    "replies": [
        {
            "author": "凉凉丶",
            "timestamp": 1582877040,
            "txt_content": "Freeze_Dolphin 发表于 2020-2-28 16:07\n就只有3人在线\n我的理解还是内存太少了"
        },
        {
            "author": "凉凉丶",
            "timestamp": 1582877160,
            "txt_content": "请问你在线多少人...内存也太低了"
        },
        {
            "author": "Freeze_Dolphin",
            "timestamp": 1582877220,
            "txt_content": "凉凉丶 发表于 2020-2-28 16:06\n请问你在线多少人...内存也太低了\n就只有3人在线"
        },
        {
            "author": "Freeze_Dolphin",
            "timestamp": 1582877460,
            "txt_content": "3点40多分的时候记录的一个新timings：\nhttps://timings.aikar.co/?id=385de509f1594cb5a7967f4d68cf6a5e"
        },
        {
            "author": "Doomsday_Envoy",
            "timestamp": 1582878180,
            "txt_content": "WE卡的话，有没有尝试过异步创世神，站内https://www.mcbbs.net/thread-781901-1-1.html"
        },
        {
            "author": "Freeze_Dolphin",
            "timestamp": 1582878300,
            "txt_content": "Doomsday_Envoy 发表于 2020-2-28 16:23\nWE卡的话，有没有尝试过异步创世神，站内https://www.mcbbs.net/thread-781901-1-1.html\n原来FAWE支持sponge。。。。"
        },
        {
            "author": "Freeze_Dolphin",
            "timestamp": 1582878480,
            "txt_content": "凉凉丶 发表于 2020-2-28 16:25\n我的理解还是内存太少了\n好吧，4gb够嘛，30个人"
        },
        {
            "author": "凉凉丶",
            "timestamp": 1582878600,
            "txt_content": "Freeze_Dolphin 发表于 2020-2-28 16:28\n好吧，4gb够嘛，30个人\n纯净也不够啊- -你开的应该是高版本的吧，就算没什么插件也吃内存的 30人起码6G吧而且我不知道你的CPU是什么"
        },
        {
            "author": "Doomsday_Envoy",
            "timestamp": 1582878960,
            "txt_content": "Freeze_Dolphin 发表于 2020-2-28 16:25\n原来FAWE支持sponge。。。。\n另外个人认为，2G对自定义NPC和RedProtect，还有服务器本身运作吃的有点多，TPS波动难免。优化的话可以参考这个帖子https://www.mcbbs.net/thread-786074-1-1.html给出的插件进行配置。"
        },
        {
            "author": "红烧猪排骨",
            "timestamp": 1582881240,
            "txt_content": "tps波动大的话应该是你内存设置过大建议设置自动也有可能是cpu不够有没有服务器配置发出来看一下"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1582944840,
            "txt_content": "你好，2G内存对于高版本的模组服来说还是有点过少，触碰到内存天花板后会触发Java强制GC（垃圾回收）以防止内存溢出，GC期间会损失部分性能，加上各个模组损耗掉的，想要保持TPS稳定可能是比较麻烦的。\n实在无法增加内存的话，可以试试在Java启动参数里调整一下GC参数。"
        }
    ]
}