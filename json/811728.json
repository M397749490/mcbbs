{
    "title": "怎么让插件支持PlayerPoints插件【已自己解决】",
    "author": "楠木i",
    "replyCount": 0,
    "timestamp": 1533374460,
    "txt_content": " 本帖最后由 1957863988 于 2018-8-4 17:59 编辑 \n\n        已自行解决。。。         代码搞错了emmm\n\n\nprivate PlayerPoints playerPoints;\n        private int cost;\n\n              private boolean setupPoints()\n              {\n                  RegisteredServiceProvider<PlayerPoints> points = getServer().getServicesManager().getRegistration(org.black_ixx.playerpoints.PlayerPoints.class);\n                  if (points != null) {\n                          playerPoints = points.getProvider();\n                  }\n                  return (playerPoints != null);\n              }\n\n\nthis.cost = getConfig().getInt(\"GuiSet.Button.PayWay.Points.Cost\");\n\nif (playerPoints.getAPI().look(p.getName()) >= this.cost) {   310行\nevent.getPlayer().sendMessage(\"购买成功!\");\nplayerPoints.getAPI().take(p.getName(), this.cost);\n}else{\nevent.getPlayer().sendMessage(\"你没有足够的点卷\");\n}\n\n\n\n\n\n\n\n\nHG%CLWWU9}{%3V_YU}_60_A.png (50.82 KB, 下载次数: 0)\n\n下载附件\n\n2018-8-4 17:18 上传\n\n\n\n\n\n\n\n\n",
    "replies": []
}