{
    "title": "OpenComputers官方Wiki 翻译（General 部分）",
    "author": "Tony🐴",
    "replyCount": 5,
    "timestamp": 1575409260,
    "txt_content": " 本帖最后由 tony990412 于 2019-12-4 08:44 编辑 \n\nOpenComputers（Mod）的官方Wiki General 部分\nOpenComputers 是一个添加了可以用Lua 5.3编程的电脑与机器人的Mod。它启发于数个模拟电脑类的Mod（ComputerCraft、StevesCarts、Modular Powersuits），并且为游戏添加了新的乐趣。\n\n物品与方块 文档\nLua API文档\n附件（Components）API 文档\n\n简介\n如何开始\n首页\n\n游戏内 HTML 简介\n与Minecraft的连通性\nOpenComputers 可以以以下数种方法与外部Minecraft方块进行交互：\n\n大部分 OpenComputers 的方块如果摆在相邻位置，它们可以互相\"看见\"并且进行交互，或者你可以使用本Mod的导线跨过一段距离连接他们。它们也可以通过各类网卡在逻辑上进行连接或分离。\n\n来自其他Mod与原版的方块可以使用红石卡、红石 I/O 端口或适配器进行交互。许多来自其他Mod的方块已经集成了适配器，像是来自热力膨胀Mod、工业2Mod、建筑Mod，还有其他使用了本Mod提供的API进行集成适配器的Mod。\n\n机器人可以像一个玩家一样和世界进行交互。他们可以装备工具、方块或其他物品，并且可以被编程为你想让他们变成的样子。你可以把他们编译成整理你的背包，也可以编译成为你去挖矿的样子，让他们为你建一座堡垒、或让他们唱歌跳舞。拥有极限的只有想象力。\n\n阅读配件交互页面学习如何通过Lua与你的配件通信。\n模块化\nOpenComputers 由各类元件组成，像显卡、硬盘，或是一些扩展卡，这使你量身定制你的\"计算机\"的硬件。你可以因为工程量小使用较低的配置，或者可以将你的钻石都用来建造一个最强大的计算机。 \n\n查看物品与方块文档查看所有你可以用来组装计算机的元件。\n资源限制\nOpenComputers 对于内存与硬盘空间有一定限制，你可以在配置文件中修改它们。但是这使得OpenComputers对于服务器不是很友好。通常会使你拥有怀旧的感觉，回到内存以KB、硬盘以MB限制大小的时代。不管怎么说，对于使用Lua编程来说，空间还是相当充裕的，你应该可以通过游戏中期的计算机完成大部分任务。如果不够的话，你可以用更多的钻石换内存。\n\n除了这些明面上的限制，OpenComputers还在设计上添加了服务器优化：OpenComputer使用限制数量且低优先级的线程进行运作，使得OpenComputers可以尽量减少对于服务器tick(s)的拖延。此外，如果有程序长时间占用大量资源，（游戏中的）计算机将会崩溃，防止对服务器资源的异常消耗。\n\n持续工作与区块加载\n当OpenComputers的计算机离开加载中的Chunk，他们会进入暂停运行状态。当区块加载时，他们会自动重新运行。这使得OpenComputer在Minecraft中性能表现十分优异。并且您不用担心区块加载的问题，也不需要通过其他Mod的区块加载器保持运行。\n\n为此，OpenComputers使用了一个本地库 —— \"Eris Library\"，准确的说，这个非官方的Lua虚拟机实现，已经完全支持了可暂停的计算机。并且这个库支持Windows,Mac OS X,Linux 与 BSD，同时它们仅在服务器上工作。如果这个库不支持您的服务器系统，OpenComputers会自动回调LuaJ（Lua的Java实现）在这种情况下，游戏内的计算机也不会影响服务器的正常工作。\n\n能源\n计算机在运行时，会根据资源消耗量消耗相应游戏内能源。除了每tick消耗的基础能量之外，类似显卡与无线网卡之类的组建将需要额外的能源。这不仅是模拟现实而已，更是为了鼓励玩家优化Lua代码，使OpenComputers的运行效率提高。确切的能源消耗可以在配置文件中配置。如果不希望能源系统参与进来，您也可以设置为零消耗。\n\nOpenComputers提供踩踏发电电容为计算机功能。同时为机器人提供了发电机升级，为单片机与机器人提供了太阳能发电机升级。OpenComputers的设备也可以通过其他Mod的发电机进行供能。\n可配置项\n这个Mod几乎所有的内容都可以配置。不希望计算机需要能源才能运行？把它们设置成无消耗吧！不希望有能源系统？把它们完全关闭吧！机器人太慢了？让他们跑快点！想要更大的多方块结构屏幕？增大最大尺寸。 打开配置文件查看能修改的所有项目。\n\n其他细节 \nOpenComputers基础        安装并使用OpenOS - 跨Mod操作 - Lua解释器 - 计算机用户们方块物品APIs配件教程\n\n\n[groupid=1151]Minecraft插件百科[/groupid]",
    "replies": [
        {
            "author": "Tony🐴",
            "timestamp": 1575409260,
            "txt_content": " 本帖最后由 tony990412 于 2019-12-4 04:25 编辑 \n\n安装与启动OpenOS\n这个文档的这个页面存在的原因是介绍如何安装OpenOS与OpenOS的命令交互界面。当您打开该页面时，默认您已在游戏中打开（任意级别的）计算机，并装有OpenOS软盘、计算机挂载了可写入的空磁盘。安装\n引导启动您的计算机，您将会看到一条类似\"每日贴士\"消息。并且进入交互式命令行，/home/#\n\n\n\n\nimage.png (116.19 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 02:46 上传\n\n\n\n\n\n此时计算机是可用的，但是您使用了OpenOS软盘引导启动系统，所以即使您挂载了可用的硬盘，您也是没有根目录的读写权限的。换句话说，根目录现在是只读的，即您不能在当前目录创建或修改文件。\n要列出可用的文件系统，请运行mount\n\n\n\n\nimage.png (68.7 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 02:46 上传\n\n\n\n\n\nmount 命令的输出有4条重要的内容\n文件系统地址\n首先是文件系统地址，它是一个唯一的128位值，其前32位将以十六进制（HEX）的方式显示出来。\n挂载点\n第二列，\"on\" 之后的第二列为用户文件系统地址在目录树上的位置，也称为挂载点。挂载在 \"/\" 上的文件系统也被称为 \"rootfs\"（根文件系统）。\"/\" 是引导计算机文件系统的挂载点。如果您安装了操作系统，则可以在 \"/\" 目录下找到操作系统的相关文件。\n读写权限\n第三列，\"ro\"代表\"read-only（只读）\"，或者\"rw\"代表\"read/write（可读写）\"。OpenOS仅支持这两种访问权限，并且他们的权限范围是向下继承的。（译者注：即子目录继承母目录权限）（与现代的文件系统相反，即使在同一个文件系统挂载点下，每个目录与每个目录的每个文件都具有独立的权限。）在这张图中，我们可以看到 \"/\" 是只读的。因为我引导系统使用的是OpenOS软盘。可以在野外以战利品形式获取到的磁盘的文件系统，都是只读的。如果读写权限既非ro也非rw，那么你不能修改或创建任何文件，即默认是ro的。\n文件系统标签\n最后一列显示的是文件系统的标签，如果没有标签，则默认显示的是文件系统的组件地址。能以战利品形式获取的磁盘总是以其名字作为文件系统标签。您可能会注意到，在我的示例中，安装在 /mnt/0e7/ 上的文件系统拥有十分长的文件系统标签。这是因为我使用的是没有标签的全新磁盘驱动器，因此会显示其组件地址。\n\n您可能还会注意到，有一些同地址的文件系统被多次挂载。OpenOS的行为模式是在 /mnt 目录自动挂载文件系统。并自动使用其地址前三个字母或更多作为目录名。某些组件有特殊的挂载地址，例如，挂载在 /mnt/bc3/ 上的是引导系统文件，同时 \"/\" 也是。为了优化可读性，mount 命令会自动排序这些地址。\n从这张图中我们知道了根目录现在是只读状态。这提醒了我尚在用OpenOS软盘启动计算机，并且我尚未将OpenOS安装到硬盘上，如果取出软盘，计算机将无法正常引导启动。\n我需要做的是输入 install 命令\n\n\n\n\nimage.png (42.63 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 03:57 上传\n\n\n\n\n\n你可以输入y或直接按回车键（在\"Y/n\"选项中，大写的\"Y\"告诉了你，如果输入指令是空的，默认将会是Y）。当你确认安装后，你会看到正在复制进硬盘的文件列表。安装完成后，系统将提示你进行重启系统。系统重启后，你的根目录将会是刚刚安装OpenOS的硬盘驱动器。\n\n\n\n\nimage.png (98.37 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 04:24 上传\n\n\n\n\n\n再一次运行 mount 命令将会显示现在的根目录。\n\n\n\n\nimage.png (60.03 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 04:25 上传\n\n\n\n\n\n"
        },
        {
            "author": "Tony🐴",
            "timestamp": 1575409260,
            "txt_content": "与其他Mod的兼容性\nOpenComputers使用了许多不同Mod提供的接口。同时也有不少的Mod使用了OpenComputers提供的API。下面是支持本Mod或被本Mod支持的Mod列表。不保证正确性与完整性。\n能量\nOpenComputers兼容很多Mod的能源系统。\nApplied Energistics 2Electical Age ELN 向 OC 提供了一个转接器.FactorizationGalacticraftIndustrialCraft 2 (实验版与经典版)MekanismRedstone Flux (Thermal Expansion, BuildCraft, EnderIO)Universal ElectricitySimple Generators\n\n红石\nOpenComputers兼容如下的逻辑红石系统与无线红石系统。\nProject RedMinefactory's RedNETRedlogicSlimevoid's Wireless RedstoneWireless Redstone CBE\n\n网络\nOpenComputers 与如下Mod的网络信息兼容。\nComputerCraftStargateTech 2\n微型方块/盖板系统\nOpenComputers兼容如下系统覆盖电缆。\nForge MultiPartImmibis' Microblocks\n其他Mod\n其他用自己的方法支持OpenComputers的Mod，譬如允许电脑与它们的方块进行交互。\nBig ReactorsBluePower (Sortron)Enhanced Portals 3LanteaCraftLogistics PipesNuclear Control 2RotaryCraft and ReactorCraftThaumicTinkerer (Golem Connector)Networks Manager\n附属\n有许多附属Mod可以为本Mod增加方块、物品或驱动器（与其他Mod兼容）。请通过论坛上的相应版块或原Wiki上的相应页面获取更多信息。"
        },
        {
            "author": "Tony🐴",
            "timestamp": 1575409260,
            "txt_content": " 本帖最后由 tony990412 于 2019-12-4 05:37 编辑 \n\nLua 代码公约\n请上下文风格相同。缩进使用两个空格。争取每次缩进都是正确的。尝试将单行代码限制在80字符以内。不要在大括号/花括号间、及其中的内容间增加不必要的空格。即使没有必要，也在函数调用的时候使用括号。变量名只代表它们自己，不包含类型，即不要用匈牙利命名法。请按字母顺序排序您的需求。请放心的多注释您的代码。大量加载注释使用的内存很快都会被释放。如果一定要验证参数，请使用内建的checkArg方法。错误消息可读性提高是好事！它的用法是。\n\n\n不好的代码：function f(sArg1 , ... )\n   assert(type(sArg1)== \"string\", \"me wants a strign!\")\n    if sArg1 then\n         local nResult = 1\n         --do some more stuff\n         return nResult\n   end\nend\nif  f ( \"a\" )  ==1 then\nprint\"asd\"\nend复制代码好的代码：\nfunction f(name, ...)\n  checkArg(1, name, \"string\")\n  if name then\n    local result = 1\n    -- We extrapolate the b-spline of the non-euclidean space to\n    -- determine the fraction of potential failures encountered.\n    return result\n  end\nend\nif f(\"a\") == 1 then\n  print(\"asd\")\nend复制代码\n用户访问控制（UAC）如果在配置中启用了UAC，则计算机是\"用户拥有\"的，即列表中的用户是有权限与计算机进行交互的（详见计算机 API）具体是这样的：只有这台计算机的用户才能进行如下操作：增减计算机的背包破坏计算机的机柜（机器人除外）向计算机输入命令，譬如：使用键盘 / 点击屏幕\n有一个例外：服务器管理员不论是否在用户列表中，都有权限对所有计算机进行任意操作。当在玩单人游戏时，用户无法\"自我锁定\"，他（她）将有计算机的完全控制权。\n\n为避免输入错误的名字，造成不必要的麻烦，只有在线用户可以被加入到用户列表中。\n在OpenOS中，增减用户可以使用命令：useradd <用户名>和userdel <用户名>。"
        },
        {
            "author": "Tony🐴",
            "timestamp": 1575423840,
            "txt_content": " 本帖最后由 tony990412 于 2019-12-4 20:01 编辑 \n\nAPIs\n基本库\n首先，您应该熟悉Lua基本参考手册（可参考国内CSDN的讲解，感谢作者NRatel）。如果您没有接触过Lua，您可以在这里找到最基础的Lua标准库使用方式以及功能说明。\nOpenComputers为了模拟标准Lua标准库付出了很大的努力，在大部分情况下与系统交互与标准Lua无异。但是还是有一些区别，你可以在这里找到区别：与标准库的区别。值得注意的是，调试部分的库基本不可用。并且出于安全原因，只可加载文本源文件，不可加载二进制/预编译Lua程序。\n下列标准库文件可以在全局环境下使用，它们不需要预加载到你的脚本中也能正常运行。\noroutinedebugiomathospackageprint 不是一个库，但是是一个常用的输出方法。print(\"Hello world!\")复制代码\nstringtable\n\n非标准库\n方便起见，以下API在使用前需要先通过require进行调用。*非标准库：即所有没有在Lua基本参考手册中列出的标准库。比如 local rs = component.redstone , 你需要先通过require声明调用此API，譬如:\nlocal component = require(\"component\")\nlocal rs = component.redstone\n \n--You can of course change the variable name:\nlocal mycomp = require(\"component\")\nlocal rs = mycomp.redstone复制代码\n以下列出的API如出一辙（甚至 sides 和 colors 也是如此）。\n除了Lua提供的标准库外，OpenComputers提供了两个内建的库。它们当种的一些功能可能无法使用，视您的配置（HTTP）或情况（计算机上无法调用机器人上的库）而定，但是它们仍然存在。\nbuffer: 包装好的 文件流API与缓冲实现。colors: 一个被用来按标准引用的包含所有Minecraft颜色的表。component: 寻找与管理所有连接到计算机的组件。computer: 通过Lua查询计算机的运行信息并与计算机交互的库。event: 一个事件系统, 通常被其他库调用, 用于注册信号接收程序.uuid: 创建一串 8-4-4-4-12 格式的字符串。filesystem: 一套抽象的文件系统交互。internet: 一个网卡模块的包装。keyboard: 按名称和按下按键追踪的按键代码表note: 把音乐在MIDI代码、频率和实际音符间转换的库。process: 保持追踪正在运行的程序与运行环境。rc: Lua提供的一套自动执行程序与服务管理的库。robot: 以抽象方法操作机器人的库。serialization: 序列化库，允许通过网络发送它们。shell: 正在执行的程序路径跟踪与程序执行情况。sides: 一个允许根据按名称引用的全局表.term: 提供光标，分为键盘和屏幕的输入输入text: 一个文字的类库，提供类似将tab转为空格的功能。thread: 提供线程的功能transforms: 一组用于处理索引表的类库。unicode: 提供字符串库的Unicode实现。\n"
        },
        {
            "author": "Tony🐴",
            "timestamp": 1575462480,
            "txt_content": " 本帖最后由 tony990412 于 2019-12-4 22:01 编辑 \n\nOpenComputers：基础计算机\n在这个教程中你将学到如何建起一个最基础的计算机。本教程默认情况下以默认配置文件为准。\n你需要：一级机箱一级屏幕键盘一级显卡一级CPU两条一级的内存或者一条一点五级的内存磁盘驱动器OpenOS软盘硬盘Lua BIOS能源\n\n注意：在1.2.2前你需要使用能量转换器\n设置好你的运行环境\n最基础的电脑包含一个机箱、上方有一个屏幕与键盘连接。\n这是一个电源在左边、运行环境在右边的例子。\n\n\n\n\nimage.png (146 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:23 上传\n\n\n\n\n\n现在，你需要右键机箱把计算机零部件放进去\n\n\n\n\nimage.png (96.58 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:24 上传\n\n\n\n\n\n如果现在你尝试使用电源键引导计算机，你会收到如下错误\n\n\n\n\nimage.png (63.71 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:25 上传\n\n\n\n\n\n这说明当前计算机没有安装系统。修复的方法是在机箱旁边放置一个磁盘驱动器，并且插入一张OpenOS软盘。\n然后开机。\n\n\n\n\nimage.png (123.36 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:26 上传\n\n\n\n\n\n恭喜！您一级有了一台可以正常工作的计算机了。如果你需要更多特性，你需要安装OpenOS！\n如果你想安装OpenOS，你需要在计算机里键入 \"install\" 指令，当安装完成后你的计算机就可以不需要软盘也可以启动了。\nOpenComputers：输入代码\n那么我们从第一个程序开始。当然，你知道那是什么（Hello World）。首先，切换到 /tmp/ 目录，每台微型计算机都会包含的一个小型可读写文件系统。请注意，重启将会清除这个目录，所以不要将有价值的内容保存在这个目录内！\n\n\n\n\nimage.png (40.31 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:33 上传\n\n\n\n\n\n如图所示，输入 edit <文件名> .lua，.lua是可选的，我在此保留这个后缀只是因为我在使用外部编辑器时可以正常高亮显示。\n然后打开编辑器，开始输入代码。输入很无聊，但是被验证过无数次的 print(\"Hello World!\")\n\n\n\n\nimage.png (36.72 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:35 上传\n\n\n\n\n\n当你输入完成时，使用Ctrl+S以保存，并且使用Ctrl+W以退出编辑器。当你查看 /tmp/ 文件夹目录时，你会发现新的文件已经被创建，输入它的文件名运行它。\n\n\n\n\nimage.png (36.49 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:38 上传\n\n\n\n\n\n这里需要注意的是，我没有输入后缀 .lua，当没有完整符合输入的文件名时，命令行将会自动搜索是否有同名包含其他后缀的文件并执行。\n如果你希望程序可以在重启后幸存，那么接着读下去。\nOpenComputers：硬盘\n当你编写程序时，通常是希望程序文件一直存在的，所以使用 /tmp/ 目录并不是长久之计。将硬盘放入计算机，它将自动挂载在 /mnt/ 目录下。并以其文件系统地址的首字母命名。尽管这可能已经够用了，但是您可能想知道灵活与优雅的使用它。本教程将会讲述标签与安装硬盘的概念。\n注意：本教程的所有内容同样适用于软盘\n首先，将一个全新的硬盘插入计算机：\n\n\n\n\nimage.png (47.75 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:45 上传\n\n\n\n\n\n您可以注意到，它已经被分配了一个默认地址。您不需要记住它，它只有参考价值。接下来，打开屏幕GUI并且输入命令 df 。该命令将列出当前所有的文件系统与挂载点。在它们当中，可以关于注意到只有一个是以地址名显示的，即先前看到的地址。\n\n\n\n\nimage.png (42.92 KB, 下载次数: 0)\n\n下载附件\n\n2019-12-4 20:49 上传\n\n\n\n\n\n\n\n"
        }
    ]
}