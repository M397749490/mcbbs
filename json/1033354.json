{
    "title": "tps很低，求解",
    "author": "hahaha2586",
    "replyCount": 13,
    "timestamp": 1588172700,
    "txt_content": "timings：https://timings.spigotmc.org/?url=ilacagihic\n服务器最近很卡，gc列表titles很多，有没有什么插件能限制titles？如果想解决的话升级服务器内核数量和内存有用吗？改升级哪个？\n发优化贴链接的绕道。服务器已经优化过了。",
    "replies": [
        {
            "author": "结城希亚",
            "timestamp": 1588172700,
            "txt_content": " 本帖最后由 结城希亚 于 2020-4-29 23:19 编辑 \n       2.14%        11,214.13%         16.82 s         5,607.06 ms         0.0               0.0k            Task: NoSpawnChunks$1UnloadLaterTask(Single)\n       0.71%        11,138.06%          5.57 s         5,569.03 ms         0.0               0.0k            Task: NoSpawnChunks$1UnloadChunksTask(interval 12000)      0.72%         661.70%          5.62 s           330.85 ms         0.0               0.0k            Task: SchedulerUtils$1(Single)\n嘛，给个数据你应该就懂了\n删除NoSpawnChunks和AutoSaveWorld插件\n在Bukkit.yml里把autosave改为0\n然后装上这个插件\n[管理] AutoSave 0.2.6 —— 更好的更流畅的自动保存地图等等 [全版本]\nhttps://www.mcbbs.net/thread-775843-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n这俩个是最值得优化的，效果非常明显\n\n\n然后就是\n      41.58%          61.56%        327.06 s            30.78 ms        5,277          56,065.1k            tickTileEntity\n      40.79%          60.40%        320.86 s            30.20 ms         1.0              10.6k            plotworld - tileEntityTick\n      27.62%          40.90%        217.28 s            20.45 ms         9.0              95.6k            tickTileEntity - TileWaterJug\n实体占用挺高的，不过我感觉是模组服特色\n值得注意的就是这个实体水罐（感觉是群峦传说里的）\n可以试试用我写的这个插件来限制下\n[管理]ChunkBlockLimit ——  可视化的区块限制插件[1.6-1.12]\nhttps://www.mcbbs.net/thread-984759-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n\n再然后就没什么好优化的了（或者你试试暴力限制配置）\n\n1、在bukkit.yml里\n（1）spawn-limits值设为\n  monsters: 20\n  animals: 4\n  water-animals: 1\n  ambient: 1\n（2）chunk-gc\nperiod-in-ticks设为300\n（3）ticks-per.monster-spawns设为6\n2、在spigot.yml里\n（1）save-user-cache-on-stop-only改为true\n（2）max-tick-time数值改为5或者3000\n（3）mob-spawn-range设为3\n（4）entity-activation-range分别改为8、6、12、2\n（5）tick-inactive-villagers改为false\n（6）merge-radius都设置为64\n（7）nerf-spawner-mobs改为true\n（8）arrow-despawn-rate改为400\n（9）view-distance改为2\n\n\n\n服务器CPU升级的话，先升主频\n模组服就吃主频，核心内存什么的不用管，一个是多核不吃，一个是够用就行\n\n"
        },
        {
            "author": "hahaha2586",
            "timestamp": 1588173540,
            "txt_content": "结城希亚 发表于 2020-4-29 23:09\n嘛，给个数据你应该就懂了\n删除 NoSpawnChunks和AutoSaveWorld插件\n在Bukkit.yml里把autosave改为0\n请问自动保存世界的插件还有其他的可替换吗？我希望有个能自动备份服务器的插件。"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588173540,
            "txt_content": "hahaha2586 发表于 2020-4-29 23:19\n请问自动保存世界的插件还有其他的可替换吗？我希望有个能自动备份服务器的插件。 ...[管理] AutoSave 0.2.6 —— 更好的更流畅的自动保存地图等等 [全版本]\nhttps://www.mcbbs.net/thread-775843-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n我发的这个不就是吗\n异步储存"
        },
        {
            "author": "hahaha2586",
            "timestamp": 1588173840,
            "txt_content": "结城希亚 发表于 2020-4-29 23:19\n我发的这个不就是吗\n异步储存\n哈哈，是我没表达明白XD，这个插件只能保存地图与玩家信息。我需要的是一个能指定把某个世界地图按设定的时间备份成文件形式存放于储存盘中，服务器上周目让熊孩子炸了想回档都没办法。"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588173900,
            "txt_content": "hahaha2586 发表于 2020-4-29 23:24\n哈哈，是我没表达明白XD，这个插件只能保存地图与玩家信息。我需要的是一个能指定把某个世界地图按设定的 ...\n[1.12.2-1.8.9][Backups——备份]还怕存档丢失？这款模组自动备份你的存档！[FS]\nhttps://www.mcbbs.net/thread-794558-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n[管理][安全]EasyBackup——简单高效安全的全自动备份[1.7.2-1.15.x]\nhttps://www.mcbbs.net/thread-512486-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n\n你原来那插件只是自动保存地图吧"
        },
        {
            "author": "hahaha2586",
            "timestamp": 1588173960,
            "txt_content": "结城希亚 发表于 2020-4-29 23:25\n[1.12.2-1.8.9]还怕存档丢失？这款模组自动备份你的存档！[FS]\nhttps://www.mcbbs.net/thread-794558-1-1. ...\n原来的插件是带保存和备份一起的XD"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1588175580,
            "txt_content": "在一定程度上 catserver多线程版可以提升部分服务器性能\n\n(连接打不开看不到你是什么端)"
        },
        {
            "author": "hahaha2586",
            "timestamp": 1588180140,
            "txt_content": "我按照你说的尝试删除了autosave和NospawnChunks，虽然titles还是和原来那么多，但是目前进入服务器tps 19.8.终于重新见到了绿色的tps。 不知道明天效果怎样，谢谢大佬~ 另外：大佬接定制插件嘛，服务器一位仁兄发现了一个冷门刷物品bug，目前还没办法解决。\n\n---------------对不起QAQ，我回复错了，怎么删除这楼呀QWQ------------------"
        },
        {
            "author": "hahaha2586",
            "timestamp": 1588180140,
            "txt_content": "结城希亚 发表于 2020-4-29 23:25\n[1.12.2-1.8.9]还怕存档丢失？这款模组自动备份你的存档！[FS]\nhttps://www.mcbbs.net/thread-794558-1-1. ...\n\n我按照你说的尝试删除了autosave和NospawnChunks，虽然titles还是和原来那么多，但是目前进入服务器tps 19.8.终于重新见到了绿色的tps。 不知道明天效果怎样，谢谢大佬~ 另外：大佬接定制插件嘛，服务器一位仁兄发现了一个冷门刷物品bug，目前还没办法解决。"
        },
        {
            "author": "hahaha2586",
            "timestamp": 1588182120,
            "txt_content": "hahaha2586 发表于 2020-4-30 01:09\n我按照你说的尝试删除了autosave和NospawnChunks，虽然titles还是和原来那么多，但是目前进入服务器tps  ...\nhttps://timings.spigotmc.org/?url=akumecaroq\ntps又掉了我哭了。。这次又是因为啥嘛TT"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588239180,
            "txt_content": "hahaha2586 发表于 2020-4-30 01:42\nhttps://timings.spigotmc.org/?url=akumecaroq\ntps又掉了我哭了。。这次又是因为啥嘛TT ...      27.43%          33.44%        110.98 s            16.72 ms        4,337          28,787.6k            tickTileEntity\n      26.06%          31.77%        105.44 s            15.88 ms         1.0               6.6k            plotworld - tileEntityTick\n      15.21%          18.54%         61.52 s             9.27 ms         7.0              46.5k            tickTileEntity - TileWaterJug\n\n还是机器的锅，区块限制加把劲\n比昨天好很多了\n\n还不行就升级"
        },
        {
            "author": "hahaha2586",
            "timestamp": 1588239480,
            "txt_content": "结城希亚 发表于 2020-4-30 17:33\n还是机器的锅，区块限制加把劲\n比昨天好很多了\n我还想问一下，应该是实体总数不能太多还是同区块实体不能太多呢？如果我限制了单区块的机器数量，玩家可以继续在别的地方放呀，这不是还是会增加总数嘛，总数多了就卡了嘛？"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588239660,
            "txt_content": "hahaha2586 发表于 2020-4-30 17:38\n我还想问一下，应该是实体总数不能太多还是同区块实体不能太多呢？如果我限制了单区块的机器数量，玩家可 ...\n你领地有那么大吗...超出去的机器不怕会被熊吗"
        }
    ]
}