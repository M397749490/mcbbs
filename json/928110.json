{
    "title": "[SCT]教你如何搞定DreamShop！从入门到精通",
    "author": "醉倾梦",
    "replyCount": 20,
    "timestamp": 1574513820,
    "txt_content": " 本帖最后由 xiao_sgyg 于 2019-11-24 14:26 编辑 \n\n\n\n√ 总介绍 √DreamShop是一款新型的商店插件，他可以实现目前很多商店插件未实现的限购功能，冷却功能，随机指令，自定义二级指令等功能，是腐竹们更新服务器商店和制作服务器商店功能的不二之选！\n\n插件原贴     视频介绍\n\n\n√ 配置文件介绍 √当我们下载好了插件，重启了服务器之后，会看见你的plugin文件夹生成一个叫DreamShop的文件夹，点开它，你会看到：\n\n\n\n\n11.png (17 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-23 20:46 上传\n\n\n\n\n首先从config.yml开始config：主要是储存玩家的商店浏览记录，关乎玩家在商店里的点击，购买等事件操作，最好不要轻易更改DIYcmd：用于储存腐竹自定义二级命令的功能，第四章我们将进行介绍DIYPAPI：用于储存腐竹自定义PAPI变量的功能，第五章我们进行介绍Message：储存商店的部分提示信息（一些不重要的提示在插件内部）文件夹：normal：里面用于储存商店文件，当你写了一个商店时，你需要把他放在这个文件夹里面Data：用于储存数据文件，如玩家限购数量等，不要轻易更改\n\n\n√ 创建一个商店GUI √首先不用说，我们创建一个yml文件，文件名用英文（要不然到时候打开的时候可能会出现未知错误），这里取名叫DreamShop.yml吧\n\n\n\n\nimage.png (4.79 KB, 下载次数: 2)\n\n下载附件\n\n2019-11-23 21:02 上传\n\n\n\n\n然后我们从零KB开始创建首先，我们要想一个商店名字，这里叫：实例商店  吧然后设置GUI的宽度，这里就设置为3吧，当然记住，最多只能设置6行（因为箱子只有那么多行）那么这个时候你就可以打开你的商店GUI了你可以选加权限打开的功能，这里实例为：DreamShop.open还可以选择是否点击箱子GUI以外的空白处后关闭商店，这里设置为是那么你在配置文件中这样写：Name: '&a&l实例商城'\nSize: 3\nPermission: \"DreamShop.open\"\nGUIclose: true复制代码那么这样一个商店GUI界面就设置完成了！\n但是你还不能打开它！\n因为你还没有设置商品。\n\n\n√ 创建一个基本商品 √我们知道，箱子GUI物品的创建需要安排这个物品的格数，那么我们要怎么设计格数呢？比如，我们创建一个第一格和第二格，那么我们就在第一章填写的代码下面这样填写：Items: \n  - 1\n  - 2复制代码填写好了之后，第一格和第二格就创建好了。\n那么我们要怎么在格子里面添加物品呢？\n首先我们要知道，物品有ID，附加值，显示数量，物品显示名字，物品Lore这些必要。\n创建好了物品之后，我们要设置点击这个物品之后需要执行的指令，扣除的金钱或点卷。\n只填写点卷，则只扣除点卷，只设置金币则只扣除金币，如果两样都填，则要金币和点卷都齐全了之后才能购买。\n于是我们这样填写：\n\nItemInfo: \n  '1':\n    ID: 1\n    More: 0\n    Num: 1\n    Points: 100\n    Name: '&b&l一个石头'\n    Lore:\n      - '&b&l点击购买一个石头'\n      - '&a&l价格：&d&l100点卷'\n    Commands:\n      - give %player% 1 1\n复制代码那么第二格也是同理，在ItemInfo里继续写\"2\": ...  就可以了\n\n\n\n\n\n\nimage.png (45.98 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-23 21:47 上传\n\n\n\n\n\n\nID指的是物品ID，More指附加值，如黄色羊毛是35:4，则ID填35，More填4，如没有附加值则填0\nMoney指要花的钱，Points指要花的点卷，Name是物品显示名字，Lore是物品显示Lore\nCommandType是指命令类型，不填或填1是指以控制台执行指令，填2则为玩家执行指令\nCommands则为购买后需要执行的指令，变量为%player%\n创建完成之后，将文件放入normal文件夹里面，我们就可以打开这个商店了\n首先使用指令：/ds open [玩家名] [文件名]  打开这个商店（注意文件名不加.yml）\n然后如图：\n\n\n\n\n\nimage.png (21.81 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-23 21:37 上传\n\n\n\n\n\n\n\n\n\n\n\nimage.png (1.65 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-23 21:38 上传\n\n\n\n\n\n\n我们就成功得到了我们要得到的物品\n如果我们没钱，则触发提示\n\n\n\n\n\nimage.png (18.67 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-23 21:41 上传\n\n\n\n\n\n\n\n√ 为你的商品添加自定义1 √我们这里就为商品添加自定义功能了那么本章3-1我们就具体介绍自定义打开权限，物品材质，消费方式，商品名字，商品Lore\n其实在上一章已经介绍了物品材质，消费方式和商品名字的设置方法自定义材质和消费方式就不再解释了吧~消费方式就是点卷和金币，可以同时消费商品名字就用颜色符号\"&\"+颜色代码来更改文字颜色，这里附上一张颜色代码表\n\n\n\n\nimage.png (44.48 KB, 下载次数: 1)\n\n下载附件\n\n2019-11-23 22:17 上传\n\n\n\n\n\n商品的Lore这里支持的变量：%Finishing%   显示限购商品剩余的数量                                         %PlayerCishu%  显示玩家还剩的购买次数                                         %Time%  显示购买还剩的冷却时间（秒为单位）                                         %player%  显示玩家名字变量添加到内容当中即可，如：\n\n\n\n\nimage.png (2.95 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-23 22:21 上传\n\n\n\n\n\n当然这里Lore的变量功能后面可能还会继续添加，本教程也会实时进行更新\n\n√ 为你的商品添加自定义2 √本次3-2我们来为腐竹介绍自定义商品限购数量，自定义玩家限购数量，自定义购买冷却和自定义折扣的功能\n\n实现自定义商品限购，首先我们要开启商品限购的功能，我们可以在Name: \"名字\" 的下方写上：Xiangou: true  打开限购的功能\n然后填写商品限购的数量：Zongshu: 5  则限制商品的数量为5Xiangou: true\n    Zongshu: 5复制代码自定义玩家限购也是同理，先打开玩家限购的功能，再规定一个玩家可以购买多少份。\n这里是先判断商品是否卖完再判断玩家是否还有购买次数\nPlayerXiangou: true\n    PlayerZongshu: 2复制代码则这样是设置一个玩家可以购买两份\n那么同理，冷却时间也是同样的加法。\nPlayerCooldown: true\n    Cooldown: 1复制代码Cooldown是指商品冷却时间，是以分钟为单位的，填1则为1分钟的冷却时间\n打折也是同理，只是这里加了一个，当玩家拥有哪项权限的时候再进行打折，折扣以折为单位，比如八折，那么DazheZhekou栏填写8\nDazheSwitch: true\n    DazhePermission: \"Dazhe.Buy\"\n    DazheZhekou: 8复制代码\n都填好了之后就像这样：\n\n\n\n\nimage.png (24.86 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-23 22:39 上传\n\n\n\n\n\n\n√ 为你的商品添加自定义3 √本次3-3我们来介绍自定义随机指令的功能\n自定义随机指令是指，当玩家购买商品后，先执行Command里的命令，如果自定义随机指令功能开启，则还会随机的再执行一些指令。（就像王者荣耀里面的礼包必得和随机得的功能）\n如何添加这个功能呢？首先我们向之前的自定义功能一样，先开启这个功能，我们可以在Commands后面填写 SuijiSwitch: true这个时候就有两种可能了，有些腐竹想玩家只能得到额外随机指令中的一种，有些腐竹是想随机得到多种，那么这里就有：SuijiOnce: true     是否执行了一次随机指令之后停止执行的功能。接下来我们就创建随机数了，同上格数添加的方法，这里添加随机数Suiji:\n  - 80\n  - 100复制代码创建了之后，一样的同上的方法，在随机数下面编辑我们的随机指令SuijiCmd:\n      '80':\n        - give %player% 1 5\n        - give %player% 2 5\n      '100':\n        - give %player% 3 5复制代码\n接下来我们的随机指令的功能就添加好了，如图：\n\n\n\n\nimage.png (18.17 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-23 23:09 上传\n\n\n\n\n\n\n√ 自定义二级命令 √第四章我们介绍自定义二级命令的功能\n自定义二级命令，你可以用这个命令来跳转更多的命令，来跳转商店以及商店里的商品那我们要怎么设置呢？首先填入Switch: true    来打开这个功能然后注册一个命令列表CmdList: \n  - menu复制代码像这样。注册好了之后，我们就编辑我们注册的命令:#命令设置\nSetting: \n  #必须和CmdList里面的一样\n  menu: \n    #是否开启指令跳转\n    TiaozhuanSwitch: true\n    #要跳转的指令（以控制台的形式）\n    tiaozhuan: \n      - m %player% 指令跳转成功！\n    #是否开启指令打开商店\n    ShopSwitch: true\n    #打开的商店名字\n    ShopName: \"example\"\n    #是否开启商品跳转\n    ItemSwitch: false\n    #商品属于的商店\n    ItemShop: \"example\"\n    #商品在该商店中的格数\n    ItemNumber: 1复制代码在Setting栏里写menu栏，在menu栏里又继续编辑，在上方代码格中我们把用法介绍了，如还有不懂的可以问作者。那么在配置文件里就是这样的：\n\n\n\n\n\nimage.png (47.99 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-24 13:47 上传\n\n\n\n\n\n注意，跳转打开商店和跳转商品不要同时打开，要不然跳转打开商店将会失效设置完成后，输入/dsDIY menu   即可使用这个命令\n\n√ 自定义PAPI √自定义PAPI的设置方法和上方自定义命令的创建方法是一样的先打开开关，然后注册PAPI变量，注册之后在Setting里面设置你的变量这里注意，变量的类型有四种：    #1为获取商品总数的类型    #2为获取购买商品的冷却时间的类型    #3为获取获取商品的名字的类型    #4为获取商品购买需要的权限的类型在配置文件中就这样写：\n\n\n\n\nimage.png (52.18 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-24 13:58 上传\n\n\n\n\n设置完成后重载插件，在计分板里填写：%DreamShop_[自定义的变量]%则可使用比如这里是items1，则写%DreamShop_items1%\n\n√ 常见用法 √本章我们就来介绍一下插件常见用法\n当然最常见的当然是用来制作一个商店和普通商品，除此之外，我们还可以利用自定义功能来制作：\n\n定时礼包（可利用冷却，随机指令等功能）\n活动商品限购（可用自定义限购数和玩家限购等功能）\n抽奖礼包（利用随机指令等功能可以实现）\n活动礼包（可利用自定义指令和随机指令等功能，实现必得和随机得）\n活动报名（利用价格和玩家限购的功能，玩家报名成功之后，在Data/菜单文件名.yml  里面可以查看到报了名的玩家）\n利用自定义命令跳转商品，可以在VV原版GUI的按钮中添加这个自定义的命令，命令的功能就带判断，购买等功能，可以不用愁用VV原版做不了商店了~\n\n当然更多的用法和玩法还需要腐竹们去继续琢磨，当然如果琢磨出来了新玩法可以告诉作者哦~\n\n√ 总结√最后，感谢各位腐竹看完了整个教程，感谢腐竹们对我的支持。如果还有不懂的可以问作者，如果在使用插件当中遇到了BUG或者对插件有更好的建议，可以联系作者进行建议哦，期待你们的到来~\n\n那么教程就到这里~感谢大家支持\n插件原贴     视频介绍\n[groupid=1511]Server CT[/groupid]",
    "replies": [
        {
            "author": "醉倾梦",
            "timestamp": 1575015360,
            "txt_content": " 本帖最后由 xiao_sgyg 于 2019-11-29 16:21 编辑 \n\n√ 注意事项 √插件功能较多，那么在各位腐竹使用的过程中当然就有注意事项，这里就给大家列举一点注意事项\n以后如果还有注意事项的话则继续添加\n\n1：金币和点卷都不能填小数（会舍去小数点位数）\n2：不要恶意的改动Data和config里面的内容，不然可能会造成插件执行紊乱\n3：填字符串和填数字的地方分辨清楚，要不然可能会影响插件的使用\n4：填写菜单的时候注意内容是不是正确，如“items”填成“item”，可能插件就无法读取内容\n5：编辑和更改完毕后要注意保存\n\n√ 更新说明 √当然，插件也在一直的更新，当插件更新了使用功能的时候，我就在这里为大家更新使用教程，请大家多多关注这里~\n\n√ 自定义收购、物品兑换 √自定义收购，物品兑换顾名思义就是当购买东西的时候如果背包里有这些物品，则可以购买，否则就无法购买该商品。那我们要这么设置呢？首先在配置文件的商品信息里面加入ShougouSwitch: true，用来打开该功能接下来，加入一行ShougouItems: ，好了之后，就要在ShougouItems:  这一栏里输入你要收购的物品ID然后再加一行ItemsNumber: ，里面填写这些要收购的物品数量，如下\nShougouSwitch: true\n    ShougouItems: \n  - 1\n  - 2\n    ItemsNumber:\n  1: 10\n  2: 10复制代码这里面ShougouItems的1和2代表我要收购的物品是石头和草方块，ItemsNumber里面代表我们要收购的物品数量，这里设置的就是石头收购10个，草方块也收购10个，如果还想添加更多收购物品，那么在ShougouItems里面加入物品（- 物品ID），在ItemsNumber里面输入要收购的数量（ID: 数量）\n这里是用石头和草方块来进行示范的，如果ShougouItems里面的任何一样物品不够，那么都无法完成收购比如你有10个石头，但是没有10个草方块，那么将会终止交易。\n\n\n\n\n\nimage.png (45.82 KB, 下载次数: 1)\n\n下载附件\n\n2019-11-29 16:15 上传\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "333qwe",
            "timestamp": 1583862540,
            "txt_content": "66666666666"
        },
        {
            "author": "StablBoy",
            "timestamp": 1586769420,
            "txt_content": "我想问一下怎么添加其他插件的物品进去，生命果插件的指令是superlife give 1 但是我加进去点击只会扣点券不会得到生命果"
        },
        {
            "author": "醉倾梦",
            "timestamp": 1586769660,
            "txt_content": "StablBoy 发表于 2020-4-13 17:17\n我想问一下怎么添加其他插件的物品进去，生命果插件的指令是superlife give 1 但是我加进去点击只会扣点券 ...\n可以把其他插件的物品用礼包插件储存起来，点的时候执行礼包的指令就行了"
        },
        {
            "author": "StablBoy",
            "timestamp": 1586769780,
            "txt_content": "xiao_sgyg 发表于 2020-4-13 17:21\n可以把其他插件的物品用礼包插件储存起来，点的时候执行礼包的指令就行了 ...\n礼包插件我的服好像还没有，是那个akit什么的吗"
        },
        {
            "author": "醉倾梦",
            "timestamp": 1586771640,
            "txt_content": "StablBoy 发表于 2020-4-13 17:23\n礼包插件我的服好像还没有，是那个akit什么的吗\n是的，easykit可以试试"
        },
        {
            "author": "StablBoy",
            "timestamp": 1586773380,
            "txt_content": " 本帖最后由 StablBoy 于 2020-4-13 18:24 编辑 \nxiao_sgyg 发表于 2020-4-13 17:21\n可以把其他插件的物品用礼包插件储存起来，点的时候执行礼包的指令就行了 ...\n我加了个礼包插件，但是点了还是不执行指令怎么办\n是我输错了吗\nakit use 我的礼包名是life\n\n\n\n\n\n\nlife.png\n(9.62 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-4-13 18:23 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "醉倾梦",
            "timestamp": 1586773560,
            "txt_content": "StablBoy 发表于 2020-4-13 18:23\n我加了个礼包插件，但是点了还是不执行指令怎么办\n是我输错了吗\nakit use 我的礼包名是life\n这个我就不清楚了，礼包保存问题你可以问礼包作者"
        },
        {
            "author": "StablBoy",
            "timestamp": 1586774880,
            "txt_content": "    Commandtype添加在哪里呢我好像没看到。。。"
        },
        {
            "author": "醉倾梦",
            "timestamp": 1586775060,
            "txt_content": "StablBoy 发表于 2020-4-13 18:48\nCommandtype添加在哪里呢我好像没看到。。。\n这个我也有点忘了。\n\n你可以不用填，默认控制台执行指令"
        },
        {
            "author": "StablBoy",
            "timestamp": 1586775240,
            "txt_content": "xiao_sgyg 发表于 2020-4-13 18:51\n这个我也有点忘了。\n\n你可以不用填，默认控制台执行指令\n我想用的是为玩家执行指令怎么弄，点击图标他并不会执行领取礼包指令，而控制台执行指令无法给到玩家。。。。"
        },
        {
            "author": "sungwoo27",
            "timestamp": 1591029960,
            "txt_content": "感谢分享"
        },
        {
            "author": "3305083699",
            "timestamp": 1591842600,
            "txt_content": "非常好的教程，感谢楼主的勤劳付出，对我受益良多。"
        },
        {
            "author": "青柠sama",
            "timestamp": 1591873740,
            "txt_content": "这教程太棒了 感谢楼主的努力"
        },
        {
            "author": "Az7_Gege鸽子",
            "timestamp": 1595181960,
            "txt_content": "StablBoy 发表于 2020-4-13 18:23\n我加了个礼包插件，但是点了还是不执行指令怎么办\n是我输错了吗\nakit use 我的礼包名是life\n我也是遇到这个问题了，楼上解决没"
        },
        {
            "author": "Tidal_Rui",
            "timestamp": 1601963820,
            "txt_content": "收购如果物品有附属ID怎么搞哦，比如青金石351:4，,在ShougouItems: 里面输入351:4检测不到。怎么解决"
        },
        {
            "author": "我真护啊",
            "timestamp": 1604396100,
            "txt_content": "这个插件怎么提示购买成功啊"
        },
        {
            "author": "筱轲",
            "timestamp": 1609584180,
            "txt_content": "这个商店能用来购买mm插件里面的东西吗 买了之后给mm插件里面的东西"
        },
        {
            "author": "筱轲",
            "timestamp": 1610628060,
            "txt_content": "玩家打开非得输入名字才能打开吗 不能设置个变量吗 点了之后直接打开  /ds open 玩家的变量 商店的名字 打开 我设置到菜单里面"
        },
        {
            "author": "筱轲",
            "timestamp": 1610628180,
            "txt_content": "为什么还要输入玩家名字 好烦"
        }
    ]
}