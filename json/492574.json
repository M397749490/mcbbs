{
    "title": "【计算机类】红石电路版计算机建造教程——①章.③节",
    "author": "langyo",
    "replyCount": 18,
    "timestamp": 1440388920,
    "txt_content": " 本帖最后由 langyo 于 2017-2-11 18:12 编辑 \n\n声明本帖已锁定\n禁止转载\nRedstoneComputer！\n红石计算机！\n       ——系列教程\n注1.此贴的格式不适合被低级网页浏览器（Java小灵通自带的浏览器）查看，如果强行查看，请注意手机流量！注2.此贴内容除了引用带有说明，其内容归楼主（langyo）所有，转载请先留言，谢谢！注3.此贴格式灵感来自于[创作活动] 【精华奖获奖作品】<周活动> [脑洞融合机] ——维度の密码[8.13再修改]，如需引用本贴格式，请附注此格式来自于此贴。注4.如有其他雷同贴，需要将本贴删除或封锁，请先联系本人，核实情况。本人保证，本贴内容除了引用的内容以外，其它内容均原创！\n注5.此贴的索引来自【索引】【计算机类红石电路版计算机建造教程】。\n地图.计算机的运行原理-->浮点数（小数）的二进制\n\n\n\n        （本篇属于高级教程，初学者请绕行……）\n        首先让我们来理解下什么是浮点数……\n       浮点数是属于有理数中某特定子集的数的数字表示，在计算机中用以近似表示任意某个实数。具体的说，这个实数由一个整数或定点数(即尾数)乘以某个基数(计算机中通常是2)的整数次幂得到，这种表示方法类似于基数为10的科学计数法。                                                                                                                    ——好搜百科\n       \n        浮点数，顾名思义，你可以将小数点安在二进制数的任何位置，包括最前面和最后面。它还有一个和它很像的家伙，定点数。但是，我们还是顾名思义，定点数的小数点固定在某个位置了，不能移动，搞的我们没办法表示更多小数位/整数位的小数。        通俗的讲，浮点数，实际上只是小数，只是小数。而定点数虽然也是小数，但是小数点的位置没法改，不像我们日常写小数的时候，小数点爱加在哪加在哪。\n        百科说了，这种表示方法类似于基数为10的科学计数法，所以出现了一种能表示那难表示的浮点数的方法：用两个“整数”表示小数。\n         举个例子吧：\n        假设你要表示0.1，那么我们就先用2个8Bit的内存，其中一个用来保存1（原本的数转换成整数后的样子），另一个保存-1（小数点移动的距离，正数就是朝右移，负数就是朝左移）。然后，当你要在屏幕上显示0.1时，先取出1，然后给他乘10的-1次方……\n        有的程序猿问了，电脑上不就是这样表示小数的吗？对，在使用传统的QBASIC等语言时，除非你把它转化，否则它显示的就是1e-1……e就相当于10的几次方，而-1就是那几次方……\n\n        那在屏幕上该如何转换呢？只要让自己制作的编译器数数要移动小数点移动多少就可以了……也就是取上面所说的“-1”（正数朝右移动，负数朝左移动；跟科学计数法的差不多，只不过这里的数正好就是乘10的X次方的X）。\n        再举个表示小数的例子：\n       13.0578复制代码\n        假设你要表示这个浮点数，那么我们就照着上面的步骤，先拆成2个整数：\n        130578和-4。130578是指这个数化成整数之后的样子（把小数点给弄到末尾后的样子）；-4则指这个小数点要移动几位、往哪里移动（之前说了，正数就是往后、负数就是往前，这里指往前4位）。\n        然后分别存储到两个内存单元中，就变成了2个整数。\n        如果要显示，应当先将130578的ASCII码（也有可能你用的是BCD码、纯二进制数字码）给转换成一个又一个的图形（比如说1就会被转换成一堆用二进制数字排列成的阵列，样子像1），然后显示就会变成这样：\n0010000111000111001111101111101110\n0110001000101000101000000000110001\n1010000001001000101000000001010001\n0010000001001000100111000001001110\n0010001000101000100000100010010001\n1111100111000111000111000010001110\n \n       （当然了，你直接看是看不出来这都是些什么东西的……）\n        最后，将-4取出来，先比较他是大于0还是小于0（然后发现是小于0），然后取其绝对值（也就是正数不改变、负数取其相反数，我之前讲过的补码运算可以反转换），最后计算出移动多少位，然后这东西就出来了：\n\n0010000111000111001111101111101110\n0110001000101000101000000000110001\n1010000001001000101000000001010001\n0010000001001000100111000001001110\n0010001000101000100000100010010001\n1111100111010111000111000010001110\n                    ↑这就是小数点\n \n\n\n        如果把它弄在显示屏上，你才会觉得这像那些数字。\n        最后顺便提一句，如果是对浮点数进行加减法运算，先把小数点的位置统一了计算才会正确；如果是乘除法，那小数点的位置也要一起计算（比如说0.1×0.1=0.01，两个小数点位置也从1，合为一起就变成了2）。\n\n\n        本篇到此结束……\n\n\n来自索引贴\n\n觉得好的就给点人气QAQ不扣你的哦\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "MC23333333",
            "timestamp": 1440389520,
            "txt_content": "红石小白，听不懂，求存档啊"
        },
        {
            "author": "我才是小灰灰",
            "timestamp": 1440766800,
            "txt_content": "运算不会出现双精度丢失精度的问题么？"
        },
        {
            "author": "langyo",
            "timestamp": 1440774300,
            "txt_content": "我才是小灰灰 发表于 2015-8-28 21:00\n运算不会出现双精度丢失精度的问题么？\n当然会，因为你没办法完全掌控你的内存。\n\n不过，你有的是办法防范这样做，一是在你用这样的电脑编写的操作系统中就加内存写保护，以便于在其它应用运行时不会破坏你自己程序的内存造成溢出；二是在你自己编写的编译器（举例来讲，就是用来将java源代码转换成机器代码）中对所有变量进行类型检查，一旦发现在MC中写程序的程序猿将小数给赋值到整数上这样一类错误，便会报错而不是运行，否则溢出你懂得。\n\n现在的硬件软件几乎都就是用这两种方式来防止数据溢出/数据不能强转换（比如小数不能转换成字符）等这些不该犯的问题。"
        },
        {
            "author": "我才是小灰灰",
            "timestamp": 1440782400,
            "txt_content": "langyo 发表于 2015-8-28 23:05\n当然会，因为你没办法完全掌控你的内存。\n\n不过，你有的是办法防范这样做，一是在你用这样的电脑编写的操 ...\n然而我一直在开发一个分数类 用来更精准的计算小数的运算。。\n然而我找不到一个快速而且精准有效的double转成2个整数比的算法"
        },
        {
            "author": "langyo",
            "timestamp": 1440807840,
            "txt_content": "我才是小灰灰 发表于 2015-8-29 01:20\n然而我一直在开发一个分数类 用来更精准的计算小数的运算。。\n然而我找不到一个快速而且精准有效的double ...\n这还是比较简单的，不过前提是你已经设计出来一个电脑并且已经可以输入汇编代码。\n\n知道约分吧，知道短除法吧，你将这两个给写成汇编代码是比较容易的，然后用“短除法”约分，这样子得出来的两个新数就分别是分子和分母。\n在此之前应当把两个数都化为整数。\n\n嗯就是这样，如果觉得不够好就再上网查资料吧（实际上没有哪台计算机的汇编代码中有显示分数的指令，只有后来程序员与数学家一起研究出的转换方式）"
        },
        {
            "author": "我才是小灰灰",
            "timestamp": 1440827400,
            "txt_content": "langyo 发表于 2015-8-29 08:24\n这还是比较简单的，不过前提是你已经设计出来一个电脑并且已经可以输入汇编代码。\n\n知道约分吧，知道短除 ...\n算法比较难实现吧\n我一直想的是乘十法最后化简\n但是2.999乘十就变成29.9900000000002\n这让我很头疼"
        },
        {
            "author": "langyo",
            "timestamp": 1440831120,
            "txt_content": "我才是小灰灰 发表于 2015-8-29 13:50\n算法比较难实现吧\n我一直想的是乘十法最后化简\n但是2.999乘十就变成29.9900000000002\n1.后面哪来的2？？！！\n2.乘十法是什么？？！！\n\n这样子吧，你就参照我那个索引里的浮点数教程，用科学计数法，化简用的本来就是整数，化简完成只要将小数点移动多少计算下就OK了，多简单\n"
        },
        {
            "author": "shine495",
            "timestamp": 1440832980,
            "txt_content": "{:10_514:}  对红石一窍不通 不过支持下"
        },
        {
            "author": "我才是小灰灰",
            "timestamp": 1440860820,
            "txt_content": "langyo 发表于 2015-8-29 14:52\n1.后面哪来的2？？！！\n2.乘十法是什么？？！！\n因为小数转换成浮点数才能储存 浮点数不能直接储存29.99所以取了一个可以储存的近似值\n乘十法就是 把一个小数转换成整数/10的n次方"
        },
        {
            "author": "langyo",
            "timestamp": 1440861480,
            "txt_content": "我才是小灰灰 发表于 2015-8-29 23:07\n因为小数转换成浮点数才能储存 浮点数不能直接储存29.99所以取了一个可以储存的近似值\n乘十法就是 把一个 ...\n也差不多。\n\n直接将小数转换成整数计算，再将其原来的小数位数进行计算，不就可以了吗？\n\n\n乘十法，相当于把一个小数转换成X.XXXXXXXX的格式……（=-=跟科学计数法没什么两样啊！）\n\n\n\n\n\n你究竟想跟我说什么？……"
        },
        {
            "author": "我才是小灰灰",
            "timestamp": 1440863340,
            "txt_content": "langyo 发表于 2015-8-29 23:18\n也差不多。\n\n直接将小数转换成整数计算，再将其原来的小数位数进行计算，不就可以了吗？\n然而0.999*10也会多出个2\n我的乘十法的实现如下：\n参数 double b\n类变量 long 分母\ndouble d=b\nwhile(d!=(long)d){\n d*=10;\n 分母*=10;\n}\n分子=(long)d;"
        },
        {
            "author": "langyo",
            "timestamp": 1440863820,
            "txt_content": "我才是小灰灰 发表于 2015-8-29 23:49\n然而0.999*10也会多出个2\n我的乘十法的实现如下：\n参数 double b\n1.d!=(long)d\n你这是指四舍五入？还是进一法？退位法？\n\n2.最后一条语句，应当是(long)b，因为d早就已经转换过了\n\n\n0.999×10？只要变成这样：\n999×﹙﹣10?﹚×10\n=999×﹙﹣10?﹚\n=9.99\n\n我说错了，那不叫科学计数法，那叫全部划整……"
        },
        {
            "author": "我才是小灰灰",
            "timestamp": 1440864060,
            "txt_content": "langyo 发表于 2015-8-29 23:57\n1.d!=(long)d\n你这是指四舍五入？还是进一法？退位法？\n不是 (long)b其实就是把b取整数"
        },
        {
            "author": "langyo",
            "timestamp": 1440867120,
            "txt_content": "我才是小灰灰 发表于 2015-8-30 00:01\n不是 (long)b其实就是把b取整数\n是四舍五入？还是进一法？或者是直接抹零？\n\n这个你没有想好。\n\n小数转换成两个整数（一个存储其去掉小数点后的数字，另一个存储小数点移动多少位才能化为整数，相当于科学计数法中的底数和幂），就能够进行基本的小数四则运算了，你还愁这个事干嘛？……"
        },
        {
            "author": "我才是小灰灰",
            "timestamp": 1440917580,
            "txt_content": "langyo 发表于 2015-8-30 00:52\n是四舍五入？还是进一法？或者是直接抹零？\n\n这个你没有想好。\n我想了 不管是那种 只要乘出来后面是0就绝对相等"
        },
        {
            "author": "langyo",
            "timestamp": 1443067980,
            "txt_content": "shine495 发表于 2015-8-29 15:23\n对红石一窍不通 不过支持下\n【建议】\n下次请直接使用评分来支持帖子，否则可能会被认为是万用回复哦\n\n感谢你的支持~"
        },
        {
            "author": "shine495",
            "timestamp": 1443072360,
            "txt_content": "langyo 发表于 2015-9-24 12:13\n【建议】\n下次请直接使用评分来支持帖子，否则可能会被认为是万用回复哦\nOK"
        },
        {
            "author": "ufof",
            "timestamp": 1451395440,
            "txt_content": "如果要显示，应当先将130578的ASCLL码（也有可能你用的是BCD码、纯二进制数字码）给转换成一个又一个的图形（比如说1就会被转换成一堆用二进制数字排列成的阵列，样子像1），然后显示就会变成这样：\n\n应该是ASCII{:10_503:}"
        }
    ]
}