{
    "title": "[高悬赏]查询查件崩溃",
    "author": "sdlizhao9999",
    "replyCount": 4,
    "timestamp": 1424930160,
    "txt_content": "查询插件刚开服时可以正常使用，一段时间后崩溃，后台报错，查询查件已存储的数据清空，输入/co reload后插件重启，又可以正常使用，但数据需要重新记录，非常恶心，以下是崩溃信息：\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Process.processConsumer(Process.java:130)\n26.02 12:06:10 [Server] WARN java.lang.NullPointerException\n26.02 12:06:10 [Server] WARN at java.lang.Thread.run(Thread.java:745)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Consumer.run(Consumer.java:49)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Process.processConsumer(Process.java:53)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:203)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:162)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:387)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:383)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:399)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:404)\n26.02 12:06:10 [Server] WARN at org.sqlite.PrepStmt.<init>(PrepStmt.java:42)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.prepare(DB.java:123)\n26.02 12:06:10 [Server] WARN at org.sqlite.NativeDB.prepare(Native Method)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.throwex(DB.java:374)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:387)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:383)\n26.02 12:06:10 [Server] WARN java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: co1087_entity)\n26.02 12:06:10 [Server] WARN at java.lang.Thread.run(Thread.java:745)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Consumer.run(Consumer.java:49)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Process.processConsumer(Process.java:52)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:201)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:165)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:383)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:399)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:404)\n26.02 12:06:10 [Server] WARN at org.sqlite.PrepStmt.<init>(PrepStmt.java:42)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.prepare(DB.java:123)\n26.02 12:06:10 [Server] WARN at org.sqlite.NativeDB.prepare(Native Method)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.throwex(DB.java:374)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:387)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:383)\n26.02 12:06:10 [Server] WARN java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: co1087_session)\n26.02 12:06:10 [Server] WARN at java.lang.Thread.run(Thread.java:745)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Consumer.run(Consumer.java:49)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Process.processConsumer(Process.java:51)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:199)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:165)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:383)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:399)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:404)\n26.02 12:06:10 [Server] WARN at org.sqlite.PrepStmt.<init>(PrepStmt.java:42)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.prepare(DB.java:123)\n26.02 12:06:10 [Server] WARN at org.sqlite.NativeDB.prepare(Native Method)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.throwex(DB.java:374)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:387)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:383)\n26.02 12:06:10 [Server] WARN java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: co1087_command)\n26.02 12:06:10 [Server] WARN at java.lang.Thread.run(Thread.java:745)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Consumer.run(Consumer.java:49)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Process.processConsumer(Process.java:50)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:197)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:165)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:383)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:399)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:404)\n26.02 12:06:10 [Server] WARN at org.sqlite.PrepStmt.<init>(PrepStmt.java:42)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.prepare(DB.java:123)\n26.02 12:06:10 [Server] WARN at org.sqlite.NativeDB.prepare(Native Method)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.throwex(DB.java:374)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:387)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:383)\n26.02 12:06:10 [Server] WARN java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: co1087_chat)\n26.02 12:06:10 [Server] WARN at java.lang.Thread.run(Thread.java:745)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Consumer.run(Consumer.java:49)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Process.processConsumer(Process.java:49)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:195)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:165)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:383)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:399)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:404)\n26.02 12:06:10 [Server] WARN at org.sqlite.PrepStmt.<init>(PrepStmt.java:42)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.prepare(DB.java:123)\n26.02 12:06:10 [Server] WARN at org.sqlite.NativeDB.prepare(Native Method)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.throwex(DB.java:374)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:387)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:383)\n26.02 12:06:10 [Server] WARN java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: co1087_world)\n26.02 12:06:10 [Server] WARN at java.lang.Thread.run(Thread.java:745)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Consumer.run(Consumer.java:49)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Process.processConsumer(Process.java:48)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:193)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:165)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:383)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:399)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:404)\n26.02 12:06:10 [Server] WARN at org.sqlite.PrepStmt.<init>(PrepStmt.java:42)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.prepare(DB.java:123)\n26.02 12:06:10 [Server] WARN at org.sqlite.NativeDB.prepare(Native Method)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.throwex(DB.java:374)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:387)\n26.02 12:06:10 [Server] WARN at org.sqlite.DB.newSQLException(DB.java:383)\n26.02 12:06:10 [Server] WARN java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (no such table: co1087_container)\n26.02 12:06:10 [Server] WARN at java.lang.Thread.run(Thread.java:745)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Consumer.run(Consumer.java:49)\n26.02 12:06:10 [Server] WARN at net.coreprotect.consumer.Process.processConsumer(Process.java:47)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:191)\n26.02 12:06:10 [Server] WARN at net.coreprotect.database.Database.prepareStatement(Database.java:162)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:387)\n26.02 12:06:10 [Server] WARN at org.sqlite.Conn.prepareStatement(Conn.java:383)\n以下是服务端插件：\n\n\n\n\n3.png (29.37 KB, 下载次数: 2)\n\n下载附件\n\n2015-2-26 13:57 上传\n\n\n\n\n\n\n\n\n4.png (29.01 KB, 下载次数: 4)\n\n下载附件\n\n2015-2-26 13:56 上传\n\n\n\n\n\n",
    "replies": [
        {
            "author": "SheepTree",
            "timestamp": 1424930160,
            "txt_content": "sdlizhao9999 发表于 2015-2-26 16:22\n这是我的设置文件：\n#CoreProtect Config\n\n\n你启用了mysql数据库，而报错中多次提到数据库出错。请检查一下你的mysql是否有问题，比如用户名密码和IP或者其它配置上的错误等等。你可以测试一下暂时禁用mysql看看还会不会报错。"
        },
        {
            "author": "SheepTree",
            "timestamp": 1424938020,
            "txt_content": "请检查一遍设置文件，是否出现一些错误，比如格式上的错误，或者sql的错误"
        },
        {
            "author": "sdlizhao9999",
            "timestamp": 1424938920,
            "txt_content": "SheepTree 发表于 2015-2-26 16:07\n请检查一遍设置文件，是否出现一些错误，比如格式上的错误，或者sql的错误 ...\n这是我的设置文件：\n#CoreProtect Config\n\n# If enabled, extra data is displayed when doing rollbacks and restores.\n# If disabled, you can manually trigger it in-game by adding \"#verbose\"\n# to the end of your rollback statement.\nverbose: true\n\n# MySQL is optional and not required.\n# If you prefer to use MySQL, enable the following and fill out the fields.\nuse-mysql: true\ntable-prefix: co1087_\nmysql-host: 222.187.221.189\nmysql-port: 3306\nmysql-database: icraft\nmysql-username: icraft\nmysql-password: 333333\n\n# If enabled, CoreProtect will check for updates when your server starts up.\n# If an update is available, you'll be notified via your server console.\ncheck-updates: false\n\n# If enabled, other plugins will be able to utilize the CoreProtect API.\napi-enabled: true\n\n# If no radius is specified in a rollback or restore, this value will be\n# used as the radius. Set to \"0\" to disable automatically adding a radius.\ndefault-radius: 10\n\n# The maximum radius that can be used in a command. Set to \"0\" to disable.\n# To run a rollback or restore without a radius, you can use \"r:#global\".\nmax-radius: 100\n\n# If enabled, items taken from containers (etc) will be included in rollbacks.\nrollback-items: false\n\n# If enabled, entities, such as killed animals, will be included in rollbacks.\nrollback-entities: false\n\n# If enabled, generic data, like zombies burning in daylight, won't be logged.\nskip-generic-data: true\n\n# Logs blocks placed by players.\nblock-place: true\n\n# Logs blocks broken by players.\nblock-break: true\n\n# Logs blocks that break off of other blocks; for example, a sign or torch\n# falling off of a dirt block that a player breaks. This is required for\n# beds/doors to properly rollback.\nnatural-break: true\n\n# Properly track block movement, such as sand or gravel falling.\nblock-movement: true\n\n# Properly track blocks moved by pistons.\npistons: true\n\n# Logs blocks that burn up in a fire.\nblock-burn: false\n\n# Logs when a block naturally ignites, such as from fire spreading.\nblock-ignite: false\n\n# Logs explosions, such as TNT and Creepers.\nexplosions: true\n\n# Track when an entity changes a block, such as an Enderman destroying blocks.\nentity-change: true\n\n# Logs killed entities, such as killed cows and enderman.\nentity-kills: true\n\n# Logs text on signs. If disabled, signs will be blank when rolled back.\nsign-text: true\n\n# Logs lava and water sources placed/removed by players who are using buckets.\nbuckets: true\n\n# Logs natural tree leaf decay.\nleaf-decay: true\n\n# Logs tree growth. Trees are linked to the player who planted the sappling.\ntree-growth: true\n\n# Logs mushroom growth.\nmushroom-growth: true\n\n# Logs natural vine growth.\nvine-growth: true\n\n# Logs when portals such as Nether portals generate naturally.\nportals: true\n\n# Logs water flow. If water destroys other blocks, such as torches,\n# this allows it to be properly rolled back.\nwater-flow: true\n\n# Logs lava flow. If lava destroys other blocks, such as torches,\n# this allows it to be properly rolled back.\nlava-flow: true\n\n# Allows liquid to be properly tracked and linked to players.\n# For example, if a player places water which flows and destroys torches,\n# it can all be properly restored by rolling back that single player.\nliquid-tracking: true\n\n# Track item transactions, such as when a player takes items from a\n# chest, furnace, or dispenser. Necessary for any item based rollbacks.\nitem-transactions: true\n\n# Track player interactions, such as when a player opens a door, presses\n# a button, or opens a chest. Player interactions can't be rolled back.\nplayer-interactions: true\n\n# Logs messages that players send in the chat.\nplayer-messages: true\n\n# Logs all commands used by players.\nplayer-commands: false\n\n# Logs the logins and logouts of players.\nplayer-sessions: true\n\n# Logs changes made via the plugin \"WorldEdit\" if it's in use on your server.\nworldedit: true"
        },
        {
            "author": "矮人桑",
            "timestamp": 1424939520,
            "txt_content": "可能是你的数据库满了，尝试清理一下数据库？"
        }
    ]
}