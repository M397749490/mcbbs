{
    "title": "CustomStuff 4-3：初步认识gui的一些参数以及.......一个箱子？！",
    "author": "某玖_Damon",
    "replyCount": 3,
    "timestamp": 1559456460,
    "txt_content": " 本帖最后由 小玖菌_c998 于 2020-7-31 04:52 编辑 \n\n初步认识gui的一些参数以及.......一个箱子？！\n让我们来设置/添加一个空投箱吧\n在写gui前先了解下cs4 gui的设置组成\n以下为基本结构\n        {\n      \"type\": \"gui:container\",\n      \"entries\": [\n        {\n          \"id\": \"airdrop_box_gui\",\n          \"bg\": \"creation_item:textures/gui/container/airdrop_box.png\",\n          \"slots\": [\n            {\n              \"name\": \"airdrop_box\",\n              \"rows\": 3,\n              \"columns\": 9,\n              \"x\": 8,\n              \"y\": 17\n            },\n            {\n              \"name\": \"player\",\n              \"firstSlot\": 9,\n              \"rows\": 3,\n              \"columns\": 9,\n              \"x\": 8,\n              \"y\": 84\n            },\n            {\n              \"name\": \"player\",\n              \"rows\": 1,\n              \"columns\": 9,\n              \"x\": 8,\n              \"y\": 142\n            }\n          ],\n          \"shiftClickRules\": [\n            {\n              \"from\": [0, 26],\n              \"to\": [62, 27]\n            },\n            {\n              \"from\": [27, 62],\n              \"to\": [0, 26]\n            }\n          ],\n          \"labels\": [\n            {\n              \"text\": \"空投箱\",\n              \"x\": 8,\n              \"y\": 6\n            },\n            {\n              \"text\": \"container.inventory\",\n              \"x\": 8,\n              \"y\": 73\n            }\n          ]\n        }\n      ]\n    }\n\n\n注释\n【type】指这个项的类型\n【id】自不用说，也是内部id\n【bg】这个为gui的背景图片，但一般不建议超过256*256，不然会有缩放现象\n【slots】这个就是设置可以放物品的一项啦\n【shiftClickRules】这个是在按住shift后的行为\n【labels】这个是文字\n\n\n辣么，在了解了gui设置的基本结构后，就可以开始创建一个属于你的箱子了（？？？？？？？？？）\n在创建箱子gui之前先创建一个方块，用以打开此gui（不创建方块使用现有物品也行）\n创建方块的步骤我就不一一赘述了前面几章有\n由于gui是属于guis类型的，所以需要在main.json下再添加一个guis.json的加载项（当然不添加也行，但你想让main.json越来越大？），具体步骤不赘述\n在guis.json里面添加以下内容：\n{\n  \"guis\": [\n        {\n      \"type\": \"gui:container\",\n      \"entries\": [\n        {\n          \"id\": \"airdrop_box_gui\",\n          \"bg\": \"creation_item:textures/gui/container/airdrop_box.png\",\n          \"slots\": [\n            {\n              \"name\": \"airdrop_box\",\n              \"rows\": 3,\n              \"columns\": 9,\n              \"x\": 8,\n              \"y\": 17\n            },\n            {\n              \"name\": \"player\",\n              \"firstSlot\": 9,\n              \"rows\": 3,\n              \"columns\": 9,\n              \"x\": 8,\n              \"y\": 84\n            },\n            {\n              \"name\": \"player\",\n              \"rows\": 1,\n              \"columns\": 9,\n              \"x\": 8,\n              \"y\": 142\n            }\n          ],\n          \"shiftClickRules\": [\n            {\n              \"from\": [0, 26],\n              \"to\": [62, 27]\n            },\n            {\n              \"from\": [27, 62],\n              \"to\": [0, 26]\n            }\n          ],\n          \"labels\": [\n            {\n              \"text\": \"空投箱\",\n              \"x\": 8,\n              \"y\": 6\n            },\n            {\n              \"text\": \"container.inventory\",\n              \"x\": 8,\n              \"y\": 73\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n\n然后，再在main.json添加一个tile-entity.json的加载项（当然不添加也行，但你想让main.json越来越大？），具体步骤不赘述\n输入以下内容：\n{\n  \"tile-entity\": [\n    {\n      \"type\": \"tileentity:simple\",\n      \"entries\": [\n        {\n          \"id\": \"airdrop_box\",\n          \"modules\": [\n            {\n              \"type\": \"inventory\",\n              \"name\": \"airdrop_box\",\n              \"size\": 27,\n              \"sides\": [\"north\", \"east\", \"south\", \"west\"]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n\n注释\n【type】以后不会再说，这个为这个项的类型\n【id】填写为内部id\n【modules】为这个tile-entity的一些参数\n   ┗【type】这个为参数的子参数\n   ┗【name】这个为guis的slots的此gui的主体部分（第一个name，按个人来填）\n   ┗【size】这个为gui的大小/容量，只有箱子有此参数\n   ┗【sides】这个为可输入/输出的面（实际测试无效果 x）实测有效果\n\n\n填写好以上内容后，在方块/物品的【entries】的【model】下添加参数：\n\"tileEntity\": \"<你mod名字>:<tileEntity内部ID>\",\n\"gui\": \"<你mod名字>:<guis内部ID>\"\n\n\n例子\n以上面的空投箱为准\n\n{\n  \"blocks\": [\n    {\n          \"type\": \"block:simple\",\n          \"entries\": [\n           {\n          \"id\": \"Airdrop_box\",\n          \"creativeTab\": \"creationitem-blocks\",\n          \"model\": \"creation_item:airdrop_box\",\n          \"tileEntity\": \"creation_item:airdrop_box\",\n      \"gui\": \"creation_item:airdrop_box_gui\"\n           }\n          ]\n    }\n  ]\n}\n\n\n添加完成后重启游戏\n\n\n后话\ngui的设置共涉及到4个文件，分别为\n【main.json】主要为文件的联动设置\n【guis.json】主要为gui的本体设置\n【tile-entity.json】主要为gui的行为设置\n【blocks.json】主要为gui的载体设置\n\n成品展示\n\n\n\n\n\n20F3L~)P9GQG2T2)]}$)9GE.png (69.92 KB, 下载次数: 1)\n\n下载附件\n\n2019-6-2 14:19 上传\n\n\n\n\n\n\n\n\n\nMO3WXU6NR3EJPQ]JJJ%6[~B.png (89.07 KB, 下载次数: 3)\n\n下载附件\n\n2019-6-2 14:19 上传\n\n\n\n\n\n\n回到\n教程目录\n\n\n",
    "replies": [
        {
            "author": "无归",
            "timestamp": 1559460120,
            "txt_content": "虽然不懂，先收藏一下"
        },
        {
            "author": "02029102",
            "timestamp": 1591441380,
            "txt_content": "大佬，为什么我用了你的GUI后在游戏内打开会崩溃？"
        },
        {
            "author": "02029102",
            "timestamp": 1591441440,
            "txt_content": " 本帖最后由 02029102 于 2020-6-6 19:10 编辑 \n\n为什么我加了gui后快捷方块会崩溃？\n问题已解决，id打错了\n"
        }
    ]
}