{
    "title": "如何解决 Mod调用插件API因为ClassLoader不同 导致的ClassNotFoundException",
    "author": "夏小沫",
    "replyCount": 2,
    "timestamp": 1552909560,
    "txt_content": "RT 求助\n\nmod调用服务端插件里的API 结果发现因为ClassLoader不同 导致的ClassNotFoundException 服务器崩溃",
    "replies": [
        {
            "author": "Hueihuea",
            "timestamp": 1552911420,
            "txt_content": "…… MOD不能直接调用bukkit插件的API 但是可以调用Bukkit的API\nVaultClassLoader=Bukkit.getPluginManager().getPlugin(\"Vault\").getClass().getClassLoader();\nVaultFindClass=VaultClassLoader.getClass().getDeclaredMethod(\"findClass\",Class.forName(\"java.lang.String\"));\nVaultFindClass.setAccessible(true);\nEconomy=VaultFindClass.invoke(VaultClassLoader,\"net.milkbowl.vault.economy.Economy\");\necon=Bukkit.getServer().getServicesManager().getRegistration(Economy).getProvider();\n//一个获取Vault的Economy接口的例子\n//仅供参考哒 你问我为什么没有数据类型？ 因为我也不知道啥类型 干脆不写了XD复制代码"
        },
        {
            "author": "iKoumimi",
            "timestamp": 1552924380,
            "txt_content": "反射，10字10字10字"
        }
    ]
}