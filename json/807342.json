{
    "title": "装了光猫之后无法进行端口映射",
    "author": "753951qwerty",
    "replyCount": 23,
    "timestamp": 1532005260,
    "txt_content": "如题，由图可知，路由器给我分配的内网ip为192.168.1.2。但我打开任务管理器后发现的上网ip为192.168.0.100.同样的，当我开启服务器时只能通过192.168.0.100启动，无法通过外网ip与路由器分配给我的内网网址启动，也就是说我当前开启服务器的网址不属于内网可映射网址，路由器只能通过192.168.1.*来映射，不能映射192.168.0.100，我该怎么在不安装软件的情况下让192.168.0.100映射出去。",
    "replies": [
        {
            "author": "RaycusMX",
            "timestamp": 1532005260,
            "txt_content": "我认为你的路由器绝不可能没有AP功能，你按照这个方法试试，路由器应该会自动进入AP模式。\n首先关闭路由器的DHCP服务；\n然后把从光猫过来的网线插到路由器的其中一个LAN口上；\n重启光猫。\n然后你的所有终端设备包括电脑的IP应该都会在192.168.1.0这个网段内了，就可以直接在光猫上配置端口映射到你的电脑。"
        },
        {
            "author": "Posuker",
            "timestamp": 1532007120,
            "txt_content": "cmd, ipconfig."
        },
        {
            "author": "Posuker",
            "timestamp": 1532007180,
            "txt_content": "Posuker 发表于 2018-7-19 21:32\ncmd, ipconfig.\n查一下IP，网关是哪个，然后路由器里设置…"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532007240,
            "txt_content": " 本帖最后由 753951qwerty 于 2018-7-19 21:36 编辑 \nPosuker 发表于 2018-7-19 21:33\n查一下IP，网关是哪个，然后路由器里设置…\n要是有这么简单我就不来问了，我以前没装光猫的时候用端口映射开过服务器，不要再重复一些基本问题了"
        },
        {
            "author": "Posuker",
            "timestamp": 1532007660,
            "txt_content": "查到网关，然后网页输网关地址进后台啊，原本192.168.1.*的网关怎么会给你分成192.168.0.100哦，中间还装了个路由器吧？"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532008320,
            "txt_content": "Posuker 发表于 2018-7-19 21:41\n查到网关，然后网页输网关地址进后台啊，原本192.168.1.*的网关怎么会给你分成192.168.0.100哦，中间还装了 ...\n网关还是192.168.0.1,是ip地址被分配成了192.168.0.100"
        },
        {
            "author": "RaycusMX",
            "timestamp": 1532010000,
            "txt_content": "你的光猫和路由器是怎么连接的，是WLAN→光猫→路由器→电脑？"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532011140,
            "txt_content": "RaycusMX 发表于 2018-7-19 22:20\n你的光猫和路由器是怎么连接的，是WLAN→光猫→路由器→电脑？\n嗯，是这样的"
        },
        {
            "author": "RaycusMX",
            "timestamp": 1532012220,
            "txt_content": " 本帖最后由 RaycusMX 于 2018-7-20 10:55 编辑 \n753951qwerty 发表于 2018-7-19 22:39\n嗯，是这样的\n你的光猫也是路由器，加上原来的路由器，就是两个网络，有两层NAT，所以网络与网络之间都不能直接通信。\n你想要外网和你的电脑直接通信，就要进行两次端口映射，首先在光猫上设置端口映射到你路由器的WLAN口地址192.168.1.2，然后在路由器上设置端口映射到你的电脑192.168.0.100即可。\n还有另一个方法，把光猫接到你路由器的LAN接口上（注意是LAN），然后打开路由器的AP模式，这样它就会变成交换机，就跟以前一样只有一个网络了，你的电脑IP会变回192.168.1.x，这时候就可以在光猫上直接设置端口映射到你的电脑。"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532012760,
            "txt_content": "RaycusMX 发表于 2018-7-19 22:57\n你的光猫也是路由器，加上原来的路由器，就是两个网络，有两层NAT，所以网络与网络之间都不能直接通信。\n ...\n当我打开端口映射时是这个界面，请问一下这是光猫的端口映射还是路由器的？"
        },
        {
            "author": "RaycusMX",
            "timestamp": 1532012940,
            "txt_content": "看你上的是192.168.1.1，这应该是你的光猫。你的路由器应该是192.168.0.1。"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532013480,
            "txt_content": "RaycusMX 发表于 2018-7-19 23:09\n看你上的是192.168.1.1，这应该是你的光猫。你的路由器应该是192.168.0.1。\n是这样吗 "
        },
        {
            "author": "RaycusMX",
            "timestamp": 1532013540,
            "txt_content": "753951qwerty 发表于 2018-7-19 23:18\n是这样吗\nTCP好像不对，要用ALL或者UDP。"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532013780,
            "txt_content": " 本帖最后由 753951qwerty 于 2018-7-19 23:34 编辑 \nRaycusMX 发表于 2018-7-19 23:19\nTCP好像不对，要用ALL或者UDP。\n可还是登不上啊，服务端连提示都没有qwq这是服务端设置\n我用192.168.1.2能登上去服务器，但用外网就不行"
        },
        {
            "author": "RaycusMX",
            "timestamp": 1532015100,
            "txt_content": "753951qwerty 发表于 2018-7-19 23:23\n可还是登不上啊，服务端连提示都没有qwq这是服务端设置\n我用192.168.1.2能登上去服务器，但用外网就不行\n ...\n你确认光猫端口映射的协议是ALL吗，各种IP地址没搞错吗？\n如果还是不行，就在光猫上开启DMZ主机，把DMZ主机IP地址设置为你的路由器192.168.1.2，然后再试试。\n如果还是不行，就只好试一下之前提到的AP模式了。"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532015520,
            "txt_content": "RaycusMX 发表于 2018-7-19 23:45\n你确认光猫端口映射的协议是ALL吗，各种IP地址没搞错吗？\n如果还是不行，就在光猫上开启DMZ主机，把DMZ主 ...\n光猫的端口映射协议里面根本就没有ALL，也没有DMZ主机的相关内容啊"
        },
        {
            "author": "RaycusMX",
            "timestamp": 1532016360,
            "txt_content": " 本帖最后由 RaycusMX 于 2018-7-20 00:10 编辑 \n\nDMZ主机都没有，那你的光猫的也太水了。\n如果协议没有ALL的话，你就手动添加两个一样的转发规则就行了，一个TCP，一个UDP，效果相同。\n理论上做到这一步就已经足够了，还不行的话真是奇怪。\n除非你连接服务器时搞错了外网IP。\n\n另外给个建议，其实你MC服务端配置里的server-ip不需要写成你电脑的IP，写localhost就够了。\n（另外其实我搞错了一件事情，你的路由器应该没开启NAT，而是处于被动模式中）\n"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532017440,
            "txt_content": "RaycusMX 发表于 2018-7-20 00:06\nDMZ主机都没有，那你的光猫的也太水了。\n如果协议没有ALL的话，你就手动添加两个一样的转发规则就行了，一 ...\n\n那我现在该怎么办"
        },
        {
            "author": "RaycusMX",
            "timestamp": 1532017980,
            "txt_content": "说了啊，你的光猫的转发规则协议既要有TCP也要有UDP。\n路由器的转发规则协议直接选择ALL就行。\n\n如果还不行就只能尝试之前提到的AP模式了。"
        },
        {
            "author": "753951qwerty",
            "timestamp": 1532019660,
            "txt_content": "RaycusMX 发表于 2018-7-20 00:33\n说了啊，你的光猫的转发规则协议既要有TCP也要有UDP。\n路由器的转发规则协议直接选择ALL就行。\n可我的路由器不能设置AP模式啊，难不成..."
        },
        {
            "author": "ksqeib445",
            "timestamp": 1532020200,
            "txt_content": "RaycusMX 发表于 2018-7-19 23:19\nTCP好像不对，要用ALL或者UDP。\nmc是TCP,TCP正确"
        },
        {
            "author": "ksqeib445",
            "timestamp": 1532020260,
            "txt_content": "753951qwerty 发表于 2018-7-20 01:01\n可我的路由器不能设置AP模式啊，难不成...\n你好哦，轮到我了qwq"
        },
        {
            "author": "RaycusMX",
            "timestamp": 1532022900,
            "txt_content": " 本帖最后由 RaycusMX 于 2018-7-20 01:58 编辑 \n753951qwerty 发表于 2018-7-20 01:01\n可我的路由器不能设置AP模式啊，难不成...\nAP模式又叫接入点模式，你找一找。\n或者进入配置向导，一般会可以选择的。\n如果你的路由器AP都没有，我觉得差不多该考虑换一个新的了。\n其实你的光猫也蛮差的，运营商给的光猫不能换没办法，但是路由器还是可以换的。\n\n\n\n\n\n"
        }
    ]
}