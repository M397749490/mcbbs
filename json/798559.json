{
    "title": "[已解决]rayTrace是什么类，包名是啥",
    "author": "roj234",
    "replyCount": 0,
    "timestamp": 1528628580,
    "txt_content": " 本帖最后由 roj234 于 2018-6-11 13:13 编辑 \n\n做流体，从1.8到1.12不太会弄,就自己搞了个流体实现,但是forge的UniversalBucket.java（src/main/java/net/minecraftforge/fluids/UniversalBucket.java）\n里面有一行调用了this.rayTrace拷过去后提示找不到符号，去github里搜索，居然只找到一个含有rayTrace的java，就是UniversalBucket，别的地方啥都没有\n。。。\nimport net.minecraft.entity.player.EntityPlayer;\nimport net.minecraft.util.math.Vec3d;\nimport net.minecraft.util.math.MathHelper;\nimport net.minecraft.world.World;\nimport net.minecraft.util.math.RayTraceResult;\n\n\n    protected RayTraceResult rayTrace(World worldIn, EntityPlayer playerIn, boolean useLiquids)\n    {\n        /*\n    float f = playerIn.rotationPitch;\n    float f1 = playerIn.rotationYaw;\n    double d0 = playerIn.posX;\n    double d1 = playerIn.posY + playerIn.getEyeHeight();\n    double d2 = playerIn.posZ;\n    Vec3d vec3d = new Vec3d(d0, d1, d2);\n    float f2 = MathHelper.cos(-f1 * 0.01745329F - 3.141593F);\n    float f3 = MathHelper.sin(-f1 * 0.01745329F - 3.141593F);\n    float f4 = -MathHelper.cos(-f * 0.01745329F);\n    float f5 = MathHelper.sin(-f * 0.01745329F);\n    float f6 = f3 * f4;\n    float f7 = f2 * f4;\n    double d3 = playerIn.getEntityAttribute(EntityPlayer.REACH_DISTANCE).getAttributeValue();\n    Vec3d vec3d1 = vec3d.addVector(f6 * d3, f5 * d3, f7 * d3);\n    return worldIn.rayTraceBlocks(vec3d, vec3d1, useLiquids, !useLiquids, false);\n         */\n\n        float playerRorationPitch = playerIn.rotationPitch;\n        float playerRotation = playerIn.rotationYaw;\n\n        Vec3d playerPos = new Vec3d(playerIn.posX, playerIn.posY + playerIn.getEyeHeight(), playerIn.posZ);\n\n        float rorationLeft = MathHelper.cos(-playerRotation * 0.01745329F - 3.141593F);\n        float rorationRight = MathHelper.sin(-playerRotation * 0.01745329F - 3.141593F);\n        float rorationUp = -MathHelper.cos(-playerRorationPitch * 0.01745329F);\n        float rorationDown = MathHelper.sin(-playerRorationPitch * 0.01745329F);\n        float maxReachLeft = rorationLeft * rorationUp;\n        float maxReachRight = rorationRight * rorationUp;\n\n        double maxReachDist = playerIn.getEntityAttribute(EntityPlayer.REACH_DISTANCE).getAttributeValue();\n\n        Vec3d maxReachBlockDist = playerPos.addVector(maxReachRight * maxReachDist, rorationDown * maxReachDist, maxReachLeft * maxReachDist);\n\n        return worldIn.rayTraceBlocks(playerPos, maxReachBlockDist, useLiquids, !useLiquids, false);\n    }\n\n\n\n\n\n\n搜狗截图18年06月10日1903_1.png\n(29.85 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2018-6-10 19:04 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n搜狗截图18年06月10日1904_2.png\n(107.49 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2018-6-10 19:06 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": []
}