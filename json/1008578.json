{
    "title": "地皮世界TE突然不工作",
    "author": "落花雨喵",
    "replyCount": 5,
    "timestamp": 1586089500,
    "txt_content": " 本帖最后由 落花雨喵 于 2020-4-6 21:53 编辑 \n\n服务端: CatServer-1.12.2-3440193\n地皮插件: PlotSquared 3.5.0\n\n问题多次不定时出现, 所有已加载区块的TE不工作, 区块重新加载后恢复\n其他世界暂未出现过该问题\n\n\n在问题出现后调试:\nTE依然在loadedTileEntityList列表里\ntickableTileEntities列表的大部分TE被移除(清空?)\n区块重新加载后TE被加回tickableTileEntities列表后正常工作\n\n在地皮插件里找到操作tickableTileEntities的代码:\nhttps://github.com/IntellectualSites/PlotSquared/blob/legacy/1.8-1.12/Bukkit/src/main/java/com/plotsquared/bukkit/util/block/BukkitLocalQueue_1_8_3.java\n但不清楚是不是这个造成, 无法找到触发原因和复现\n\n最好能给出触发原因以及相关代码\n\n已自行解决\n清空地皮导致世界tickableTileEntities列表被清空, 删除相关代码重新编译解决\n\n            if (removed) {\n                ((Collection) this.tileEntityListTick.of(w).get()).clear();\n            }复制代码\n",
    "replies": [
        {
            "author": "落花雨喵",
            "timestamp": 1586089740,
            "txt_content": "MOD和插件列表:\n\n\n\n\n11.png (26.8 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-5 20:28 上传\n\n\n\n\n\n\n\n\n\n22.png (18.7 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-5 20:28 上传\n\n\n\n\n\n\n"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1586090640,
            "txt_content": "打开mv配置文件夹里的world.yml文件，找到地皮世界的子选项\nkeepSpawnInMemory: 'false'复制代码\n把它改为false或者true试试，catserver.yml里面的也需要同步设置\n我只知道这个选项常常会导致区块bug，机器错误的这种，不确定是不是这个引起的"
        },
        {
            "author": "落花雨喵",
            "timestamp": 1586090640,
            "txt_content": " 本帖最后由 落花雨喵 于 2020-4-5 20:45 编辑 \nDE_SHARK 发表于 2020-4-5 20:44\n打开mv配置文件夹里的world.yml文件，找到地皮世界的子选项\n\n把它改为false或者true试试，catserver.yml里 ...\n跟keepSpawnInMemory无关 区块一直都是加载着的 玩家就在旁边"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1586091060,
            "txt_content": " 本帖最后由 DE_SHARK 于 2020-4-5 20:53 编辑 \n落花雨喵 发表于 2020-4-5 20:44\n跟keepSpawnInMemory无关 区块一直都是加载着的 玩家就在旁边\n\n既然需要重新加载区块机器才能用，多多少少有点关系\n等等，全服同时出现的不工作吗？嗷是我看错了"
        },
        {
            "author": "落花雨喵",
            "timestamp": 1586091300,
            "txt_content": "DE_SHARK 发表于 2020-4-5 20:51\n既然需要重新加载区块机器才能用，多多少少有点关系\n卸载区块的前提是没有玩家 玩家一直都在那怎么可能卸载\n并且出问题的是所有已加载的区块 不止是出生点区块"
        }
    ]
}