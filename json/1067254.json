{
    "title": "命令问题[1.13+]",
    "author": "Mithey",
    "replyCount": 2,
    "timestamp": 1593063000,
    "txt_content": " 本帖最后由 Mithey 于 2020-6-25 13:39 编辑 \n\n现在假设玩家手上有n种物品\n将其编号为1,2,3······n\n请问如何做到在丢出一个物品时，立即清除该物品，并返还（replaceitem禁止）上一次丢出的物品(第一次丢出则直接清除)\n最后效果是玩家手上始终只有 n-1 个物品（初始状态除外）",
    "replies": [
        {
            "author": "⊙u⊙",
            "timestamp": 1593063000,
            "txt_content": "记玩家uuid，创丢物品判据，创Thrower dummy板，丢物品分数设为-2\n\n检测到分数为-1时，则为首丢，\n搜寻附近与玩家最近，且Thrower与玩家uuid匹配的掉落物，\n记录该掉落物的数据到storage里列表的第一个元素，清除该掉落物。\n\n检测到分数为1时，则为非初始状态的丢弃\n搜寻附近与玩家最近，且Thrower与玩家uuid匹配的掉落物，\n记录该掉落物的数据到storage里列表的第二个元素，把第一个元素里的数据保存到目前丢出的掉落物内，\n修改掉落物的PickupDelay并tp其到玩家位置以便立刻拾起，清除storage里列表的第一个元素。\n\n高频设置玩家丢分在非-2的情况时，设为0\n\n以上1t内按顺序执行"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1593065100,
            "txt_content": " 本帖最后由 (=°ω°)丿 于 2020-6-25 14:13 编辑 \n\n你的意思是这样吗：\n玩家 扔出 A --> 清除 A\n扔出 B --> 清除 B，获得 A\n扔出 C --> 清除 C，获得 B\n……\n\n1. 用 data 命令存储玩家上次扔的物品\n2. 然后生成能立即捡起的掉落物，将数据存回\n\n至于数据存在哪里，可以：\n1. 用 记分板分数 将一名玩家和一个实体绑定，将数据存到相应实体。\n2. 用命令存储 storage 建立一个数据表，然后将玩家的物品存到表中。"
        }
    ]
}