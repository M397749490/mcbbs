{
    "title": "sponge端 简单问题",
    "author": "hunaoa",
    "replyCount": 4,
    "timestamp": 1586513160,
    "txt_content": " 本帖最后由 hunaoa 于 2020-4-10 19:13 编辑 \n\nhttps://sparkprofiler.github.io/#B4e569onYE\nspark 生成的报告,大佬帮我看一下,, 神奇宝贝服务器 撕裂者-3970X 5核  13G内存  30MB宽带\n\n服务器还是会时不时出现Can't keep 导致服务器tps突然跌很多,   然后玩家的ping 也会有的时候会突然彪到100以上。。。\n\n想问一下大佬是我服务器哪里优化不到位 还是那个模组或者插件导致的这个情况.\n\n\n\n",
    "replies": [
        {
            "author": "csj3120",
            "timestamp": 1586516160,
            "txt_content": " 本帖最后由 csj3120 于 2020-4-10 18:58 编辑 \n\n单纯 Spark 堆栈跟踪无法看出\n直接原因为宝可梦实体过多\n建议方法\n1. 升级配置\n2. 限制实体数量（可能导致实体突然消失）\n\n提供 TPS 低区间报告，这份报告包含的不止低区间，确认确实为低TPS时生成的报告，不然毫无作用\n\nspark sampler --timeout=300 --only-ticks-over 100"
        },
        {
            "author": "hunaoa",
            "timestamp": 1586516760,
            "txt_content": "csj3120 发表于 2020-4-10 18:56\n单纯 Spark 堆栈跟踪无法看出\n直接原因为宝可梦实体过多\n建议方法\nhttps://sparkprofiler.github.io/#3J4CftrKxY来了大佬。。"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1586537820,
            "txt_content": "Can't keep up 是海绵端特色 如果没办法升级cpu到单核主频5.0以上的话建议换端\n因为海绵端吃的比较大的是单核的计算力 所以会出现一核有难多核围观的情况\n可以尝试使用多线程的猫端"
        },
        {
            "author": "csj3120",
            "timestamp": 1586575620,
            "txt_content": "1. 区块生成\n2. 保存世界\n\n两个主要原因\n\n1. 预生成世界\n2. 增加保存间隔\n捧一踩一，无稽之谈\n"
        }
    ]
}