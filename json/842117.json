{
    "title": "【严重漏洞】一个会被后门插件利用的漏洞",
    "author": "harryXS",
    "replyCount": 32,
    "timestamp": 1549107420,
    "txt_content": "咳咳，各位腐竹应该都有过遇到后门插件的经历吧，不管是PE/PC服务器界，都总有一群有着一些三脚猫技术的熊孩子来捣乱，比如写后门插件来欺骗腐竹\n我朋友就因为后门插件被炸妈导致换周目了，后来我知道这件事就学习Java，研究那些恶心的后门插件\n直到今天，我在看server.properties的时候发现下面有一个叫 enable-rcon 的选项\n于是去百度了RCON，发现是一个通过TCP协议远程管理服务器的功能，可以远程发送控制台命令\n这个功能可能因为Multicraft的发展而吃灰多年，我就想看看这个功能能做什么呢？\n终于在MCBBS一个帖子里找到了一个RCON客户端并且尝试远程连接，然后成功了，各种危险的指令操作都可以（详见图片）\n然后我又看了PocketMine，Nukkit的配置文件，都有这一项\n而如果通过后门插件写入这个文件，开启RCON，设置RCON密码，就可以达到开启另一个控制台而让腐竹知道的目的（目前ICRAFT后门检测系统无法检出）请各位腐竹留意自己服务器配置文件里的enable-rcon的选项\n注意后门插件!!!\n\n\n\n",
    "replies": [
        {
            "author": "风吹沙",
            "timestamp": 1549107660,
            "txt_content": "怎么解决?关掉？"
        },
        {
            "author": "harryXS",
            "timestamp": 1549107780,
            "txt_content": ""
        },
        {
            "author": "xmdhs",
            "timestamp": 1549107960,
            "txt_content": "不乱装插件啥事没有\n而且只开放一个端口完事"
        },
        {
            "author": "harryXS",
            "timestamp": 1549108020,
            "txt_content": "风吹沙 发表于 2019-2-2 19:41\n怎么解决?关掉？\n定期检测server.properties，VPS/独立机可以设置server.properties为只读，或者使用Windows Firewall / iptables(firewalld)来开启防火墙，阻止除了服务器端口以外的入站连接请求"
        },
        {
            "author": "Abraham511",
            "timestamp": 1549108080,
            "txt_content": "使用官方正版插件就不会有后门"
        },
        {
            "author": "harryXS",
            "timestamp": 1549108080,
            "txt_content": "xmdhs 发表于 2019-2-2 19:46\n不乱装插件啥事没有\n而且只开放一个端口完事\n话说大部分面板商没有iptables防火墙限制，甚至可以使用插件来开WEB服务器"
        },
        {
            "author": "harryXS",
            "timestamp": 1549108260,
            "txt_content": "Abraham511 发表于 2019-2-2 19:48\n使用官方正版插件就不会有后门\n那是最好的啊，但是有些重制版插件以及一些国内插件后门很多，当年RPGItem4.0.9就是一个例子，甚至在SpigotMC和BukkitDev上外国佬看到中国插件就说“Chinese Crasher”，对有些流氓插件的不耻"
        },
        {
            "author": "Si_shen___",
            "timestamp": 1549108620,
            "txt_content": "这样太严重了吧 我的天！"
        },
        {
            "author": "xmdhs",
            "timestamp": 1549108740,
            "txt_content": "harryXS 发表于 2019-2-2 19:48\n话说大部分面板商没有iptables防火墙限制，甚至可以使用插件来开WEB服务器\nhttp://www.mcbbs.net/thread-799034-1-1.html\n\n这服是你的了"
        },
        {
            "author": "harryXS",
            "timestamp": 1549108920,
            "txt_content": "xmdhs 发表于 2019-2-2 19:59\nhttp://www.mcbbs.net/thread-799034-1-1.html\n\n这服是你的了\n这个插件弄成后门...但是这个肯定留下痕迹的，服务器自带的根本不会留下任何痕迹，很难查出来，隐蔽性很高，所以可能有些后门插件会利用它"
        },
        {
            "author": "xmdhs",
            "timestamp": 1549109340,
            "txt_content": "harryXS 发表于 2019-2-2 20:02\n这个插件弄成后门...但是这个肯定留下痕迹的，服务器自带的根本不会留下任何痕迹，很难查出来 ...\n说错了，是这面板都是你的了"
        },
        {
            "author": "harryXS",
            "timestamp": 1549110000,
            "txt_content": "xmdhs 发表于 2019-2-2 20:09\n说错了，是这面板都是你的了\n我以前还真黑过一个windows系统的小学生面板服，administrator运行multicraft然后叫卖面板，我用个类似这个的插件，net user admin admin/add，net localgroup Administrators admin /add，然后就能远程桌面连接了，不过Linux权限管理非常严格的，Multicraft在Linux下可以实现多用户，一个面板服腐竹一个用户，除非有严重系统漏洞，提权不可能的"
        },
        {
            "author": "xmdhs",
            "timestamp": 1549110120,
            "txt_content": "harryXS 发表于 2019-2-2 20:20\n我以前还真黑过一个windows系统的小学生面板服，administrator运行multicraft然后叫卖面板，我 ...\n仅有的权限还是够玩出很多有意思的事情的"
        },
        {
            "author": "_Ghost_/",
            "timestamp": 1549112100,
            "txt_content": "感谢dalao提醒"
        },
        {
            "author": "Flowers_花花",
            "timestamp": 1549113300,
            "txt_content": "你敢租这个面板商  你也是真的头铁\n我就买了个被坑了2K 还被回收了 淘宝也被拉黑了\n远离这种服务商！！！！"
        },
        {
            "author": "runckey",
            "timestamp": 1549114500,
            "txt_content": "我就不用治疗了，直接回家"
        },
        {
            "author": "恋",
            "timestamp": 1549114740,
            "txt_content": "不乱装插件的事情 反正服务器只开了需要的几个端口"
        },
        {
            "author": "wsh13851209598",
            "timestamp": 1549115040,
            "txt_content": "好久没有在茶馆看到这么让我眼前一亮的帖子了"
        },
        {
            "author": "一手汗",
            "timestamp": 1549116420,
            "txt_content": "三脚猫熊孩子怎么可能会这些技术呢= ="
        },
        {
            "author": "harryXS",
            "timestamp": 1549159680,
            "txt_content": "a1477059273 发表于 2019-2-2 21:15\n你敢租这个面板商  你也是真的头铁\n我就买了个被坑了2K 还被回收了 淘宝也被拉黑了\n远离这种服务商！！！！ ...\n暂时用个一两年，1k的5g永久服，每天备份，攒钱组装ITX服务器主机E3-1220L双核，12g内存"
        },
        {
            "author": "harryXS",
            "timestamp": 1549159740,
            "txt_content": "a1477059273 发表于 2019-2-2 21:15\n你敢租这个面板商  你也是真的头铁\n我就买了个被坑了2K 还被回收了 淘宝也被拉黑了\n远离这种服务商！！！！ ...\n你淘宝付款可以去投诉的啊"
        },
        {
            "author": "Zapic",
            "timestamp": 1549160940,
            "txt_content": "这东西能让你在手机上面联到后台，虽然数据明文传输，不过emmmm\n明文还是算了\n一般情况下插件是没办法读写根目录的吧"
        },
        {
            "author": "阿威23333",
            "timestamp": 1549162560,
            "txt_content": "将enable-query开启的我都不带慌的"
        },
        {
            "author": "NoName德里奇",
            "timestamp": 1549162620,
            "txt_content": "惊了，还有这种操作.jpg"
        },
        {
            "author": "午申",
            "timestamp": 1549162980,
            "txt_content": "只有Multicraft才会有的吗？"
        },
        {
            "author": "harryXS",
            "timestamp": 1549163280,
            "txt_content": "午申 发表于 2019-2-3 11:03\n只有Multicraft才会有的吗？\n不是啊，不管你用的是不是Multicraft，目前几大服务端：PocketMine，Nukkit，Bukkit（指Bukkit核心的服务端，例如Spigot，PaperSpigot）都有这个漏洞"
        },
        {
            "author": "午申",
            "timestamp": 1549163400,
            "txt_content": "harryXS 发表于 2019-2-3 11:08\n不是啊，不管你用的是不是Multicraft，目前几大服务端：PocketMine，Nukkit，Bukkit（指Bukkit核心的服务 ...\n是不是关闭就好了？\n我刚看了下，是关闭的。"
        },
        {
            "author": "harryXS",
            "timestamp": 1549164720,
            "txt_content": "午申 发表于 2019-2-3 11:10\n是不是关闭就好了？\n我刚看了下，是关闭的。\n不是，只是说这个功能如果被后门插件恶意开启会造成很严重的后果，这个功能本来为了方便腐竹管理服务器而生的，但是后来Multicraft出生，这个功能就吃灰了，但是一直保留在服务端里，如果后门插件读写server.properties就可以开启这个功能，从而神不知鬼不觉获取服务器控制台权限，最好的解决方法：不要乱装插件！"
        },
        {
            "author": "1732844281",
            "timestamp": 1549166520,
            "txt_content": "多谢大佬提醒"
        },
        {
            "author": "harryXS",
            "timestamp": 1549349100,
            "txt_content": "............."
        },
        {
            "author": "彩狗dalao",
            "timestamp": 1549350900,
            "txt_content": "后门插件在mcbbs应该很罕见的吧"
        },
        {
            "author": "harryXS",
            "timestamp": 1549366620,
            "txt_content": "彩狗dalao 发表于 2019-2-5 15:15\n后门插件在mcbbs应该很罕见的吧\n但是各种定制插件，重置版插件可能会有"
        }
    ]
}