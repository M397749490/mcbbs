{
    "title": "指令中4个容易被忽略的细节",
    "author": "爱心魔王FHC",
    "replyCount": 59,
    "timestamp": 1471519200,
    "txt_content": " 本帖最后由 FHC红石 于 2016-10-5 13:47 编辑 \n\n：暑假在问答版刷了很多爱心，也看到了一些关于命令的问题，便发现了一些容易被大家忽略的细节\n：都有哪些呢？ 防盗链接http://www.mcbbs.net/thread-623008-1-1.html\n关于探测与数量：在有些地图或者OOC中，需要自定义合成，例如把物品扔到地上然后自动合成\n那么你知道如何探测地上的物品吗防盗链接\n：小菜一碟/testfor @e[type=item] {Item:{id:minecraft:物品名,Count:数量,Damage:数据值}}\n：你看你一下就错了，探测类指令都要加单位的不然无法探测\n/testfor @e[type=Item] {Item:{id:minecraft:物品名,Count:数量b,Damage:数据值s}}复制代码：好吧= =Notch你搞个游戏那么复杂干嘛？\n：怪我咯？防盗链接\n：那么，如果我们要探测两个这样的物品呢？\n：hhhh这次不会错了http://www.mcbbs.net/thread-623008-1-1.html\n/testfor @e[type=Item] {Item:{id:minecraft:物品名,Count:2b,Damage:数据值s}}\n：恭喜你，只对了一半防盗链接\n：一半……？防盗链接\n：对，如果两个物品在一起的话，用\n\n/testfor @e[type=Item] {Item:{id:minecraft:物品名,Count:2b,Damage:数据值s}}复制代码如果不在一起的话，用http://www.mcbbs.net/thread-623008-1-1.html\n\n/testfor @e[type=Item] {Item:{id:minecraft:物品名,Count:1b,Damage:数据值s}}复制代码然后比较器输出2格信号就代表有2个物品关于附魔书与单位：好吧，那么第二个容易被忽略的细节是什么呢？http://www.mcbbs.net/thread-623008-1-1.html\n：是一个与单位有关的问题 防盗链接\n：不会又是探测吧…… 防盗链接\n：不是，但是这个单位也很重要 防盗链接\n我问你，怎么用give指令得到一本保护4附魔书\n：简单/give @p minecraft:enchanted_book 1 0 {StoredEnchantments:[{id:0,lvl:4}]}\n：然后你便会获得一本看起来与创造一模一样的附魔书\n如果把它改成村民交易呢？用一本附魔书换一个钻石\n：So easy, 有了生成器，妈妈再也不用担心我的指令了 防盗链接\n/summon Villager ~ ~1 ~ {Offers:{Recipes:[{maxUses:9999999,buy:{id:minecraft:enchanted_book,Count:1,tag:{StoredEnchantments:[{id:0,lvl:4}]}},sell:{id:minecraft:diamond,Count:1}}]}}\n：好家伙原来你用的是生成器啊= = 防盗链接\n然后，你拿你刚刚give获得的附魔书与村民交易，可以交易吧？ 防盗链接\n但是，如果你从创造里拿一本出来，还可以交易吗？ 防盗链接\n：诶，居然不行！这不科学！http://www.mcbbs.net/thread-623008-1-1.html\n：不，这很科学，很有趣，对吧\n现在，把两本看起来一样实际不一样的附魔书丢到地上\n用entitydata来看看他的NBT（数据标签）\n你give的：{Item:{id:\"minecraft:enchanted_book\",Count:1b,tag:{StoredEnchantments:[0:{lvl:4,id:0}]},Damage:0s}}\n创造拿的：{Item:{id:\"minecraft:enchanted_book\",Count:1b,tag:{StoredEnchantments:[0:{lvl:4s,id:0s}]},Damage:0s}}\n发现不同了么？\n：什么……单位s，好吧真有趣 防盗链接\n：于是MC便认为这是两个不同的东西，所以正确指令是：\n/give @p minecraft:enchanted_book 1 0 {StoredEnchantments:[{id:0s,lvl:4s}]}复制代码：好吧真是神奇\n：不过更有趣的是，即使没有加单位，这个附魔书还是可以被用作附魔\n\n而且这个有趣的细节可以做出特定交易的村民，防止玩家从创造的背包里拿附魔书\n：好吧，真够奇葩的关于打开书本的特殊NBT：现在我们来说第三个容易被忽略的细节http://www.mcbbs.net/thread-623008-1-1.html \n还是和村民交易有关 防盗链接\n：村民你怎么这么不省事啊！ 防盗链接\n村民：这是Notch的的锅，我不背 防盗链接\n：这锅我背了 防盗链接\n：这个东西与书也有关系\n：是不是你上次的那个拆不掉的房子的BUG\n：不是啦= =这里顺便揭秘一下，为什么进入地图就会卡住\n首先有个高频，探测玩家是否进入地图，然后激活指令\n/give @p minecraft:written_book 1 0 {title:\"Test\",author:Notch,pages:[\"1\",,\"2\"]}复制代码看起来好像没什么问题，但两个连续的,让MC不知所措（下一页是空的？什么鬼？） 防盗链接\n当然，这个BUG仅存于1.7中，1.8+没用的 防盗链接\n现在我们回归正题 防盗链接\n怎么用指令获得一本书 防盗链接\n：/give @p minecraft:written_book 1 0 {title:\"书名\",author:作者名,pages:[内容]}复制代码：额，很好，现在我们来改造下\n/give @p minecraft:written_book 1 0 {title:\"FHC\",author:FHC,pages:[FHC]}复制代码现在你来把他改成村民交易，用这本书换一组钻石http://www.mcbbs.net/thread-623008-1-1.html\n：/summon Villager ~ ~1 ~ {Offers:{Recipes:[{maxUses:9999999,buy:{id: minecraft:written_book,Count:1,tag:{ title:\"FHC\",author:FHC,pages:[FHC]}},sell:{id:minecraft:diamond,Count:64}}]}}复制代码：然后你把刚刚give得到的书拿去交易，可以交易吧？ 防盗链接\n\n接着把书打开后再交易，还能交易吗？\n\n\n：诶，我去……居然不能交易了 防盗链接\n：额，这是一个很容易被忽略的NBT，书本打开后的NBT：resolved\n打开书本后这个NBT的数值就会变成1 防盗链接\n所以最好的办法就是give书本和summon村民时都加上resolved:1b的NBT\n注意单位一定要哦！http://www.mcbbs.net/thread-623008-1-1.html\n这样就都能交易了 防盗链接\n：不过这样也可以做成一个好玩的东西，比如书名叫：“千万不能打开”\n然后如果你打开了，后面就不能交易了，没打开后面还能交易，这就有趣了\n：而且更有趣的是，书本打开一次后json格式会变得完整（前提是没有resolved:1b）\n如果有resolved:1b，那么json格式不会变，MC会以为它已经改过了\n尽管resolved的NBT只是用来确定选择器和实体的计分板的\n没打开过的不完整的json格式是这样的：tag:{pages:[0:\"FHC\"],author:\"FHC\",title:\"FHC\"}\n打开后会变成这样： 防盗链接\ntag:{pages:[0:\"{\\\"text\\\":\\\"FHC\\\"}\"],author:\"FHC\",title:\"FHC\",resolved:1b}\n但是，如果我们村民交易的书是完整的json格式，give的书不完整，或者反过来，都是不能交易的，所以干脆都把格式写完整吧关于耐久与损伤条：现在我们来说最后一个容易被忽略的细节http://www.mcbbs.net/thread-623008-1-1.html\n：别抢我台词= =这个细节与耐久有关 防盗链接\n现在很多大触的地图都有内置材质包 防盗链接\n来做到命令方块都做不到的效果或者配合命令方块食用 防盗链接\n1.9以后，物品对应损害值（损伤值）的也可以对应模型了\n于是可以实现一个物品多个模型，只要修改各个损害值（损伤值）对应的模型即可\n：是啊，现在是MC越来越牛逼了，我们玩的根本不是同一个游戏\n：但是当一些地图制作者改好模型后\n发现既然物品有损害值（损伤值），那么就会有个损害条（损伤条）\n：可以用Hideflags:4的NBT来隐藏啊（感谢：nswdxyxpg提醒）\n：但是，玩家拿去使用物品消耗耐久怎么办，其实，只需要一个很神奇的NBT就行了\n：又是一个被忽略的NBT？\n：并不是，其实只要加上不可破坏的NBT就行了：Unbreakable:1\n：为啥 防盗链接\n：你想啊，既然不可破坏还要损害条（损伤条）干嘛\n于是就没有损害条（损伤条）了23333333333\n：这么简单啊= =如果有错欢迎大家指出~\n\n[groupid=534]InfinityStudio[/groupid]",
    "replies": [
        {
            "author": "南瓜.",
            "timestamp": 1471519320,
            "txt_content": "奥？你重复发帖了！"
        },
        {
            "author": "我的工业2",
            "timestamp": 1471520100,
            "txt_content": "FHC：刷完爱心再发帖反正暑假也快结束了要利益最大化"
        },
        {
            "author": "woshisong12",
            "timestamp": 1471520760,
            "txt_content": "一脸蒙蔽 看不懂"
        },
        {
            "author": "woshisong12",
            "timestamp": 1471521120,
            "txt_content": "woshisong12 发表于 2016-8-18 19:46\n一脸蒙蔽 看不懂\n大神求赐教"
        },
        {
            "author": "jimmy1234",
            "timestamp": 1471521780,
            "txt_content": "基本上，我遇到的细节问题还只有第一个我遇到过\n但是呢，只要和原版命令有关的问答板块帖子\n就会有FHC的出现,这是不能忽略的细节"
        },
        {
            "author": "我被盗号了",
            "timestamp": 1471522020,
            "txt_content": "很赞！完全有杂志稿子的样子哈哈，而且问题几乎全中啊"
        },
        {
            "author": "lzs1234",
            "timestamp": 1471522740,
            "txt_content": "我上次得了8个10分，两贡献就到手了，好激动啊，我在论坛混了两年还只有2贡献，一下子翻了一倍\n1.9的药水格式特坑爹，主要还不仅仅是格式的问题，名字变了...瞬间治疗2就是strong_healing......"
        },
        {
            "author": "lzs1234",
            "timestamp": 1471522860,
            "txt_content": "......然后呢？就没了？\n这把东西丢地下用entitydata看看不就好了么\n你怎么不说说1.9以后药水NBT格式变了......另外上次茶馆那个活动你拿了多少分？"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1471522980,
            "txt_content": "我也好高兴，终于搞到贡献（之前擂台赛搞了许久最后仅队长有贡献= =）\n但是药水已经有人写了，不能再写了\nhttp://www.mcbbs.net/thread-478578-1-1.html"
        },
        {
            "author": "Command_Zeus",
            "timestamp": 1471566300,
            "txt_content": "耐久度不应该用Hideflags吗……\nHideflags：4\n来源：\nhttp://www.mcbbs.net/thread-341595-1-1.html"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1471580160,
            "txt_content": "加s,b确实蛋疼"
        },
        {
            "author": "MODlover",
            "timestamp": 1471597560,
            "txt_content": "lzs1234 发表于 2016-8-18 20:19\n我上次得了8个10分，两贡献就到手了，好激动啊，我在论坛混了两年还只有2贡献，一下子翻了一倍\n1.9的药水格 ...\n被药水卡在T3QAQ"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1471602180,
            "txt_content": "nswdxyxpg 发表于 2016-8-19 08:25\n耐久度不应该用Hideflags吗……\nHideflags：4\n来源：\n确实可以隐藏，但是为了防止玩家用这个物品去挖东西来减少耐久使模型变掉\n用不可破坏的NBT更好"
        },
        {
            "author": "Green_stone",
            "timestamp": 1471671720,
            "txt_content": "嗯？什么时候的贴？"
        },
        {
            "author": "chyx",
            "timestamp": 1471673640,
            "txt_content": "扔地上entitydata有时候也不行的\n\n转义没做好 有的符号转了 有的没转（印象里\\不转但\"转）\n\n\n总之 不能迷信@siiftun1857 @pca006132 @andylizi"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1471674900,
            "txt_content": "chyx 发表于 2016-8-20 14:14\n扔地上entitydata有时候也不行的\n\n转义没做好 有的符号转了 有的没转（印象里\\不转但\"转）\n为什么不行？\n\n转义没错啊，而且这是MC自己转义的\n\"{\\\"text\\\":\\\"FHC\\\"}\"\n\n梨子都叫过来是什么鬼"
        },
        {
            "author": "qiqi七七",
            "timestamp": 1471684500,
            "txt_content": "水一发23333333333333"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1471695360,
            "txt_content": "chyx 发表于 2016-8-20 14:14\n扔地上entitydata有时候也不行的\n\n转义没做好 有的符号转了 有的没转（印象里\\不转但\"转）\n那你去问MC为什么没有转义吧\n还有只有一个\\不用转义\n这样转义没错吧 ↓\n\"{\\\"{\\\\\\\"{\\\\\\\\\\\\\\\"{}\\\\\\\\\\\\\\\"}\\\\\\\"}\\\"}\""
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1471696500,
            "txt_content": "chyx 发表于 2016-8-20 20:38\n1 我就是说mc这里没做好 所以说不要迷信的\n2 问题是mc几个都不转义 而且我只有一个\\的时候也报错（不是mc ...\n\"{\\\"text\\\":\\\"FHC\\\"}\"貌似没错啊，那你觉得应该是怎样的？"
        },
        {
            "author": "chyx",
            "timestamp": 1471696680,
            "txt_content": "FHC红石 发表于 2016-8-20 20:16\n那你去问MC为什么没有转义吧\n还有只有一个\\不用转义\n这样转义没错吧 ↓\n1 我就是说mc这里没做好 所以说不要迷信的\n2 问题是mc几个都不转义 而且我只有一个\\的时候也报错（不是mc）\n3 似乎没有 仔细再找找"
        },
        {
            "author": "chyx",
            "timestamp": 1471698300,
            "txt_content": "FHC红石 发表于 2016-8-20 20:35\n\"{\\\"text\\\":\\\"FHC\\\"}\"貌似没错啊，那你觉得应该是怎样的？\n确实没错啊\n我说的是反斜杠的转义有问题"
        },
        {
            "author": "chyx",
            "timestamp": 1471702680,
            "txt_content": "FHC红石 发表于 2016-8-20 20:35\n\"{\\\"text\\\":\\\"FHC\\\"}\"貌似没错啊，那你觉得应该是怎样的？\n查到了\nhttps://bugs.mojang.com/browse/MC-90726\n只是把\"替换成了\\\"\n其他的没动"
        },
        {
            "author": "风堎",
            "timestamp": 1471750860,
            "txt_content": "厉害厉害"
        },
        {
            "author": "lorinder",
            "timestamp": 1471751340,
            "txt_content": "没错的，很danteng的问题，单位。\n可是我觉得叫做“单位”并不合适。\n某书上写的是标签种类的首字母。\n对于标签一直懵逼，特别是最大值最小值。\n（还有我都不敢在问答版发cb贴了（笑））"
        },
        {
            "author": "蚀龍劍絕",
            "timestamp": 1472107020,
            "txt_content": "弱弱问一下……显示盔甲韧性的是1.9的特性？"
        },
        {
            "author": "qb4836",
            "timestamp": 1472851200,
            "txt_content": "4个NBT教程中 我居然只知道最后一个阿~"
        },
        {
            "author": "渐淅渐沥",
            "timestamp": 1472869260,
            "txt_content": "其实，最容易忽略的是/                  [手动滑稽]{:10_531:}"
        },
        {
            "author": "全民作死",
            "timestamp": 1473066060,
            "txt_content": " 本帖最后由 全民作死 于 2016-9-5 22:00 编辑 \n\n所以把召唤村民指令改成这样就行了？/summon Villager ~ ~1 ~ {Offers:{Recipes:[{maxUses:9999999,buy:{id: minecraft:written_book,Count:1,tag:{ title:\"FHC\",author:FHC,pages:[FHC],resolved:1b}},sell:{id:minecraft:diamond,Count:64}}]}}复制代码"
        },
        {
            "author": "全民作死",
            "timestamp": 1473066540,
            "txt_content": "全民作死 发表于 2016-9-5 17:01\n所以把召唤村民指令改成这样就行了？\n我刚玩指令不久"
        },
        {
            "author": "小藩",
            "timestamp": 1475644500,
            "txt_content": "楼主...你那个“关于耐久与损伤条”中史蒂夫说的“为啥”旁边有个“防盗链接”，然后我点了一下...结果跳出来个和这里一模一样的网址...（各位把鼠标放在史蒂夫说的“为啥”中的“为”那里，左键往右拖...自己试试看吧...）"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1475645640,
            "txt_content": "小藩 发表于 2016-10-5 13:15\n楼主...你那个“关于耐久与损伤条”中史蒂夫说的“为啥”旁边有个“防盗链接”，然后我点了一下...结果跳出 ...\n哦，防止其他网站盗用，正在测试阶段"
        },
        {
            "author": "逗神·雷疯",
            "timestamp": 1475734260,
            "txt_content": "防盗链接666"
        },
        {
            "author": "1557155718",
            "timestamp": 1479180180,
            "txt_content": "果然是容易忽略的细节"
        },
        {
            "author": "屠灵神",
            "timestamp": 1479184800,
            "txt_content": "闲的没事拖成了ctrl+a然后看到了防盗链接\n这些细节对我来说很有用\n可以做地图坑基友了[/s["
        },
        {
            "author": "守望星空",
            "timestamp": 1480765560,
            "txt_content": "我想问一下，楼主，你有没有发过命令方块以及各种指令的解析？如果没有，那你知道有人发过这个吗？【我在命令方块这一方面很感兴趣，想学习一下，无奈自学看不懂.....】"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1480766340,
            "txt_content": "守望星空 发表于 2016-12-3 19:46\n我想问一下，楼主，你有没有发过命令方块以及各种指令的解析？如果没有，那你知道有人发过这个吗？【我在命 ...\nhttp://www.mcbbs.net/thread-440268-1-1.html"
        },
        {
            "author": "守望星空",
            "timestamp": 1480766400,
            "txt_content": "FHC红石 发表于 2016-12-3 19:59\nhttp://www.mcbbs.net/thread-440268-1-1.html\n灰常感谢"
        },
        {
            "author": "lrf8643",
            "timestamp": 1481119380,
            "txt_content": "FHC红石 发表于 2016-10-5 13:34\n哦，防止其他网站盗用，正在测试阶段\n不看不知道。。。一看全是。\n"
        },
        {
            "author": "ericsunyiyu",
            "timestamp": 1481359200,
            "txt_content": "我可以问一个问题吗，就是单位“s”，单位“b”有什么区别吗，他们要在什么时候添加，如果不添加的不能使全部命令顺利执行吗？"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1481359800,
            "txt_content": "ericsunyiyu 发表于 2016-12-10 16:40\n我可以问一个问题吗，就是单位“s”，单位“b”有什么区别吗，他们要在什么时候添加，如果不添加的不能使全 ...\n有时候如果没有游戏就不能识别\n比如一些探测指令，比如一个生物的A是1s\n然后我探测A:1\n就探测不到了，因为生物的NBT是A:1s\nMC会认为A:1和A:1s是两个不一样的东西\n\n而像summon这种指令不写单位没有什么关系，游戏在生成的时候会自己加上\n\n一般来说，在探测/对比的时候一定要添加\n比如我所讲到give一个附魔书，如果拿去附魔是没什么问题\n但是拿去交易就不行了，因为游戏认为这两个书不一样\n\n如果该添加单位的时候你没有添加，指令可以执行，不会报错，只是与你预期效果不一样罢了"
        },
        {
            "author": "Mithey",
            "timestamp": 1484543160,
            "txt_content": "探测。。可以用到发射器里面么"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1484543880,
            "txt_content": "Mithey 发表于 2017-1-16 13:06\n探测。。可以用到发射器里面么\n探测发射器什么？"
        },
        {
            "author": "Mithey",
            "timestamp": 1484544060,
            "txt_content": "FHC红石 发表于 2017-1-16 13:18\n探测发射器什么？\n就是探测发射器里面。如果有某两个物品，就替换成第三个物品\n就类似合成把"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1484565780,
            "txt_content": "Mithey 发表于 2017-1-16 13:21\n就是探测发射器里面。如果有某两个物品，就替换成第三个物品\n就类似合成把 ...\n和我的帖子有什么关系吗……"
        },
        {
            "author": "24k史蒂夫",
            "timestamp": 1486745580,
            "txt_content": "只中了书的问题"
        },
        {
            "author": "瑞林",
            "timestamp": 1489737960,
            "txt_content": "嗯  不错啊 可以 66666"
        },
        {
            "author": "REGISTERSimon",
            "timestamp": 1491284580,
            "txt_content": "被遗忘的防盗链接......"
        },
        {
            "author": "你们的李哥",
            "timestamp": 1491385740,
            "txt_content": "恶补恶补，真的有用啊"
        },
        {
            "author": "轩榭wither",
            "timestamp": 1500083940,
            "txt_content": "好像看懂了一点点~~~"
        },
        {
            "author": "zhang_min",
            "timestamp": 1515331140,
            "txt_content": "看得我一脸懵逼啊！！！"
        },
        {
            "author": "qq2670163455",
            "timestamp": 1515563100,
            "txt_content": "很可以.........."
        },
        {
            "author": "Stray51",
            "timestamp": 1517484900,
            "txt_content": "额？不是应该是/give @p diamond_sword 1 0 {Unbreakable:1b}"
        },
        {
            "author": "繁星如梦",
            "timestamp": 1517500680,
            "txt_content": "66666666666666666666666666666666"
        },
        {
            "author": "ali1340653579",
            "timestamp": 1517561820,
            "txt_content": "大佬大佬强"
        },
        {
            "author": "1652193140",
            "timestamp": 1517662800,
            "txt_content": "ang？什么鬼。。"
        },
        {
            "author": "ｉｉｉ",
            "timestamp": 1517667660,
            "txt_content": "666666666666666666"
        },
        {
            "author": "孤独的灯塔",
            "timestamp": 1517711040,
            "txt_content": "看不懂+1"
        },
        {
            "author": "《企启》",
            "timestamp": 1519287360,
            "txt_content": "发现武器之类的东西，想用损伤值对应模型，就不能用{unbreakable}来解决也，不然武器无论give时指不指定耐久，耐久都会变成满的\n（某dalao地图让我发现萝卜钓竿没这个特性，神奇）"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1519291440,
            "txt_content": "《企启》 发表于 2018-2-22 16:16\n发现武器之类的东西，想用损伤值对应模型，就不能用{unbreakable}来解决也，不然武器无论give时指不指定耐 ...\n好像可以吧，是不是你操作不对"
        }
    ]
}