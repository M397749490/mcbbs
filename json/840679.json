{
    "title": "[综合]动态菜单——菜单能这么玩?!动态&聊天交互|卡物品修复[1.8.x-1.12.2]",
    "author": "弱鸡绿毛怪",
    "replyCount": 34,
    "timestamp": 1548739320,
    "txt_content": " 本帖最后由 弱鸡绿毛怪 于 2020-3-7 00:37 编辑 \n\n MyInventory——国内首个可视性编辑动态菜单插件  · 为什么选择MyInventory插件?\n①可视化编辑——直接打开背包画菜单，制作菜单模板的过程根本不需要碰一下配置文件\n\n\n\n\n\ngg1.png (27.72 KB, 下载次数: 2)\n\n下载附件\n\n2019-1-29 11:02 上传\n\n\n\n\n\n②动态菜单——在可视化编辑的基础上，你可以连续画几个菜单，使它们连起来，产生动态效果\n\n\n\n\n\n2019.01.29.13.19.10.gif (326.35 KB, 下载次数: 1)\n\n下载附件\n\n2019-1-29 13:19 上传\n\n\n\n\n\n\n\n\n\n\n2019.01.29.12.08.31.gif (27.14 KB, 下载次数: 2)\n\n下载附件\n\n2019-1-29 12:08 上传\n\n\n\n\n\n③交互式——可以与聊天栏进行互动，可塑性更强\n④采用线程池优化插件——一半的任务是在异步完成的，优化较强。\n⑤作者很勤(lan)快(duo)——有问题在下面留言反馈，目前插件还是BETA版的>.<\n⑥经测试本插件可以在大部分服务端上运行\n\n本插件是在PCD的名义下发布的\n你还可以加PCD的扣扣群来反馈bug:  219412424/546818810\n\n\n插件下载地址:\n\n\n\n\nMyInventory-0.1-BETA.jar\n(161.68 KB, 下载次数: 407)\n\n\n\n2020-3-6 20:37 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n开源地址: https://github.com/LocyDragon/MyInventory\n 插件介绍 〇插件介绍视频及基本使用教程\n\n[bili=42014695]0[/bili]\n\n\nTIP:下面因为我废话太多了可能讲的有点迷，但是建议看看视频\n① 插件指令及其权限\n\n===================> 所有指令\n/miv create [GUI名称] [格子数] [Title名称] ——创建一个新的Gui界面模板\n/miv frame [Gui名称] [帧数(从0开始,即这里写0就是第一帧,写1就是第二帧,以此类推)] ——编辑菜单的某一帧\n/miv open [GUI名称] [玩家名称] ——打开一个界面给玩家\n/miv see [GUI名称] ——查看一个界面的信息\n/miv list ——查看所有界面名称\n/miv loop [GUI名称] [Y/N] ——设置是否动画循环播放(Y是是，N是否)\n/miv music [GUI名称] [音乐名称] ——设置GUI界面背景音乐(需要AudioBuffer插件支持)\n/miv period [GUI名称] [间隔(秒,可以是小数,默认0.5)] ——设置每帧的间隔时间\n/miv reload ——重载所有脚本\n===================> 所有权限\nMyInventory.Open —— 使用/miv open的权限\n\n②插件如何安装\n\n1.下载插件，丢入服务器的plugins文件夹内\n2.装入后启动服务器，你会发现plugins文件夹内多了一个MyInventory文件夹，这个是插件的目录文件夹\n3.装入后插件会自动生成一个默认菜单\n4.你只需要使用/miv open test [你的名字] ——就能打开这个测试菜单了.\n\n\n\n\n\ngg1.png (47.97 KB, 下载次数: 0)\n\n下载附件\n\n2019-1-29 11:29 上传\n\n\n\n\n\n\n③安装后如何简单使用(建议配合上面的视频使用)\n\n1.输入指令 /miv create [GUI名称] [格子数] [Title名称] ——创建一个新的Gui界面模板\n2.输入指令/miv frame [GUI名称] 0  ——编辑第一帧的界面|输入这个指令后他会给你打开一个界面，你往里面放点东西就行\n\n\n\n\n\ngg1.png (21.35 KB, 下载次数: 3)\n\n下载附件\n\n2019-1-29 12:06 上传\n\n\n\n\n\n3.输入指令/miv frame [GUI名称] 1 ——编辑第二帧的界面，和第一帧一样。为了您修改方便，第二帧我们已经帮你把第一帧的内容复制过去了，你只需要做一些细小的修改即可\n\n\n\n\n\ngg1.png (14.9 KB, 下载次数: 1)\n\n下载附件\n\n2019-1-29 12:07 上传\n\n\n\n\n\n4.当你创造了两帧及两帧以上，它就可以动起来了。使用/miv open [界面名字] [玩家名字] 来打开它吧\n\n5.为了让它更美观，你还能让它动的更快/或者也可以让他不循环播放.试试用以下指令进行美化:\n\n/miv loop [GUI名称] [Y/N] ——设置是否动画循环播放(Y是是，N是否)\n/miv music [GUI名称] [音乐名称] ——设置GUI界面背景音乐(需要AudioBuffer插件支持)\n/miv period [GUI名称] [间隔(秒,可以是小数,默认0.5)] ——设置每帧的间隔时间\n\n6.试试多做几帧，效果或许会更好哦~\n7.如果你手残想改前面的话，可以用/miv frame ，帧数填之前做的，来修改前面的帧\n8.配合上面的视频食用更佳\n9.试试适当空帧，就是那一帧什么都不放，这样在播放的时候能实现播放到那边停顿一下的效果，和视频里的头颅快要出来之前停顿一下是一个效果。\n\n④脚本的连接\n\n· 我们不难从视频中看到，没有加脚本之前，那个头颅是点不了的，加了脚本之后，头颅就能实现互动了，那么到底怎么做呢？\n\n· 从视频中可知，脚本文件全在MyInventory文件夹中的Scripts文件夹，并且插件默认的时候也是和菜单配套地给了你一个的。脚本不分文件，只要是在Scripts文件夹中，无论在哪个yml里，它都会被加载进去。比如我们这个(.//plugins//MyInventory//Scripts//TestScript.yml):\n\n\n\n\n\n\ngg1.png (51.58 KB, 下载次数: 1)\n\n下载附件\n\n2019-1-29 12:23 上传\n\n\n\n\n\n\n·SlotTest 是脚本的名字，不能重复，但是也没有用处.\n\n· linkToMenu 是脚本连接到的菜单的名称\n\n· location 决定了点击这个菜单中哪个格子里的东西会触发这个脚本，那么为什么这里是13而不是14呢\n\n\n\n\n\ngg1.png (7.47 KB, 下载次数: 1)\n\n下载附件\n\n2019-1-29 12:28 上传\n\n\n\n\n\n你看这么数过来，这个头颅应该是在14的位置，然而实际上这里填的位置等于: \n数过来的位置 - 1\n也就是第一格填 0  第二格 填 1  第三格填2 …… 以此类推\n\n· action 决定了触发方式，可以填的有:\nCONTROL_DROP在背包里按ctrl+Q\n\nDOUBLE_CLICK双击\nDROP大概也是Q键\nLEFT左键\nMIDDLE中键\nNUMBER_KEY按下键盘上1~9\nRIGHT右键\nSHIFT_LEFTshift+左键\nSHIFT_RIGHTshift+右键\n\n\n· script里面填写的是脚本，我们接下来会告诉你这里面填写什么\n· out节点未在默认的配置文件中出现，这是非正常退出会发送的信息，比如判断出来玩家的钱不够，或者没有足够的物品之类的。\n\n⑤脚本——上(简单的语句)\n\n· 简单来说，脚本内容代表了点击这个物品会触发什么\n· 脚本是依照从上往下的顺序运行的\n· 我们先做一个简单的内容吧，就是告诉玩家几条信息;\n\n\n\n\n\ngg1.png (25.6 KB, 下载次数: 1)\n\n下载附件\n\n2019-1-29 12:40 上传\n\n\n\n\n\n· 使用/miv reload 重载插件，注意转码，当去触发这个脚本时，你会看到信息\n\n\n\n\n\ngg1.png (13 KB, 下载次数: 1)\n\n下载附件\n\n2019-1-29 12:41 上传\n\n\n\n\n\n· 我们还可以做一个给玩家一点钱的功能(需要经济插件支持)，比如:\n\n\n\n\n\ngg1.png (7.2 KB, 下载次数: 0)\n\n下载附件\n\n2019-1-29 12:44 上传\n\n\n\n\n\n当点击时\n\n\n\n\n\ngg1.png (33.39 KB, 下载次数: 0)\n\n下载附件\n\n2019-1-29 12:43 上传\n\n\n\n\n\n· 罗列出所有脚本(所有的冒号之类的东西英文状态下的，并且比如tell里的内容是支持papi变量的):\n\n1.player ——以玩家身份执行一条指令，用法: player: %玩家指令%\n例子脚本:\ntell: &a你的名字是%name%,你输入了/spawn!\nplayer: /spawn\n\n2.op ——输入op指令，用法: op: %指令%\n例子：\ntell: &a你获得了64个圆石\nop: /give %name% 1 64\n\n3.console ——以控制台身份输入指令，用法 console: %指令%\n例子同上，就不举了.\n\n4.close ——关闭背包 \n例子:\ntell: &a关闭了背包\nclose:   #注意这里的结尾有个冒号(英文状态下的)\n\n5.money ——给钱 用法:   money: %钱数% （需要经济插件支持）\n\n6.point ——给点券 用法: point: %点券数% (需要PlayerPoint插件支持)\n\n7.tell ——发送信息 用法: tell: %信息内容%\n\n8.cost ——花费金币 用法: cost: %钱数%\n例子:\ntell: &a你花费了自己三倍等级的钱数\ncost: %level%*3\n\n9.spend ——花费点券, 用法: spend: %点券数%\n例子:\ntell: &a你花费了自己十倍血量的点券数\nspend: %health%*10\n\n10.name_item ——以名字来花费物品, 用法: name_item: %物品花费数量%|%物品名称%\n例子:\ntell: &a你花费了一个魔王之戒\nname_item: 1|&c&l魔王之戒\n\n11.id_item ——以物品英文名来花费物品，用法: id_item: %物品花费数量%|%物品英文名%\n例子:\ntell: &a你花费了64个钻石\nid_item: 64|diamond\n12.number ——判断一个内容是否是数字，如果不是，立即中断脚本并发送out节点里的内容.\n用法: number: %你要判断的内容%\n例子:\n\n\n\n\n\ngg1.png (25.62 KB, 下载次数: 0)\n\n下载附件\n\n2019-1-29 13:01 上传\n\n\n\n\n\n13.permission ——判断玩家是否有一个权限，如果没有，立即中断脚本并发送out节点里的内容.\n用法:permission: %权限%\n例子:\npermission: TestMenu.use\n\n14.compare ——比较器，如果比较失败，立即中断脚本并发送out节点里的内容.\n例子:\n1.字符的比较\ncompare: %name% = LocyDragon   #比较玩家的名字是否是LocyDragon\n2.数字的比较\ncompare: %level% > 30 #比较玩家级别是否大于30级\n3.你还可以更加进阶:\ncompare: %vault_eco_balance% > 10000 #玩家的金币是否大于1w (需要papi支持)\n\n15.ask ——这个大概是最难理解但是却是最有用的\n作用: \n问玩家一个内容，请玩家在聊天栏内作出回答，并把玩家的回答存入变量\n用法: \nask: %存入的变量名%|%最大回复时间(秒)%|%发送的信息%\n例子:\nask: %answer%|5|&a请随便输入一条信息\ntell: &a你发送的信息是: %answer%\n在上面中,我们把变量存入了%answer%\n\n注:以上东西都是可以用PAPI变量的，当然，插件也自带一些变量:\n%frame% ——玩家目前播放到的帧数\n%exp% 经验值\n%level% 等级\n%health% 血量\n%name% 名字\n%display_name% 显示名\n%ip% ip\n%last_damage% 上一次受的伤害\n%speed% 玩家速度\n\n⑥脚本——中(试试做一个脚本吧)\n\n要求: 当玩家点击一个物品时，问玩家要购买几个苹果，并且一个苹果5块钱，玩家输入后立即扣钱购买\n以下的是实现的脚本\n\n\n\n\n\ngg1.png (19.17 KB, 下载次数: 1)\n\n下载附件\n\n2019-1-29 13:18 上传\n\n\n\n\n\n效果如下:\n\n我们来逐条分析:\n首先是\nask: %apple_number%|5|&7>>> &c你想要几个苹果?(5元一个)\n我们给玩家问了一句话，并把他的回答存入占位符(变量) %apple_number%里\nnumber: %apple_number%\n我们判断玩家输入的是不是纯数字，如果不是数字不就炸了吗，如果钱不够会跳出脚本，发送out里的信息\ncost: %apple_number%*5\n扣钱，为五倍的购买数，如果钱不够会跳出脚本，发送out里的信息\nop: /give %name% apple %apple_number%\n执行op指令，给玩家苹果\ntell: &a购买完成(*￣︶￣)!\n发送购买完成的信息\n\n\n最后· 如果你觉得插件牛皮，你可以在爱发电支持我:\n[afd]LocyDragon[/afd]\n\n或者，在底下评分，蟹蟹~\n\n\n\n已知BUG：\n跳转ui时请不要直接使用指令跳转，在指令前加一个close脚本(见\"脚本——上(简单的语句)\")\n\n本插件所用代码部分来自作品EnchantmentsEnhance\n[groupid=1330]PluginsCDTribe[/groupid]",
    "replies": [
        {
            "author": "white_cola",
            "timestamp": 1548739800,
            "txt_content": "还有这种操作0 0"
        },
        {
            "author": "星耀幻影",
            "timestamp": 1548742620,
            "txt_content": "你可以开发一个可视化脚本编辑器"
        },
        {
            "author": "GiNYAi",
            "timestamp": 1548750780,
            "txt_content": "3 0 0 英 雄\n               "
        },
        {
            "author": "Alpha-∞",
            "timestamp": 1548757680,
            "txt_content": "感觉不错呢这插件"
        },
        {
            "author": "cheltao233",
            "timestamp": 1548990720,
            "txt_content": "挺棒的，就是最终还要碰配置【不你什么意思配置都懒得碰】"
        },
        {
            "author": "坏2333",
            "timestamp": 1548990960,
            "txt_content": "很棒的插件"
        },
        {
            "author": "城雨",
            "timestamp": 1549701360,
            "txt_content": "太厉害了吧QWQ"
        },
        {
            "author": "城雨",
            "timestamp": 1549717680,
            "txt_content": " 本帖最后由 城雨 于 2019-2-9 21:25 编辑 \n\n我想问一下，怎么删除某个菜单啊？我用了delete和remove都没用，然后又从文件夹删掉菜单文件，reload后list还是有，但文件夹那边是没有了的。\n没事了，我重启服务器之后那个菜单消失了。\n希望加个删除指令吧。\n新年快乐~"
        },
        {
            "author": "城雨",
            "timestamp": 1549723980,
            "txt_content": "好像又发现了个BUG？不知道是不是插件造成的。以下是我编的脚本：\nsysd1:\n  linkToMenu: sysd\n  location: 0\n  out: \"&c没有足够的&b&l能量结晶·&c熵&cQAQ\"\n  action: LEFT\n  script:\n    - 'name_item: 1|&b&l能量结晶·&c熵'\n    - 'op: /sethome a'\n    - 'tell: &3标记成功'复制代码\n这样写没错吧？然后/miv reload，/miv open sysd 我的ID之后，点第一个格子没有反应。\n按ESC关闭菜单后，想对物品栏进行操作，但是不能操作！就像菜单一样，物品被固定在物品栏了，但是按Q可以扔出，捡回来后还是不能进行任何操作，点它也没有任何反应。\n"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1549725120,
            "txt_content": "城雨 发表于 2019-2-9 22:53\n好像又发现了个BUG？不知道是不是插件造成的。以下是我编的脚本：\n\n这样写没错吧？然后/miv reload，/miv o ...\n查看控制台是否有报错 并请提供自己服务端核心版本\n我也遇到过这种问题\n我会在下一个版本内解决\n感谢反馈.."
        },
        {
            "author": "城雨",
            "timestamp": 1549803060,
            "txt_content": "MagicLocyDragon 发表于 2019-2-9 23:12\n查看控制台是否有报错 并请提供自己服务端核心版本\n我也遇到过这种问题\n我会在下一个版本内解决\n\n\n\n\nBUG.png (52.93 KB, 下载次数: 0)\n\n下载附件\n\n2019-2-10 20:48 上传\n\n\n\n\n\n这里的操作是，先登录，把插件reload一遍，然后加入一个新建脚本，再reload一遍，然后打开菜单，点击第一个方格，按ESC关闭菜单，再对物品栏的物品进行操作的全过程中后台的信息。\n\n服务器核心是：PaperSpigot-1.9.4-773\n"
        },
        {
            "author": "光五星-金",
            "timestamp": 1549879080,
            "txt_content": "为什么我在控制台输入miv open xxx playerid 会显示 [MyInventory] 请输入正确的指令!\n但是op输入就可以？\nKCauldron端1.7.10"
        },
        {
            "author": "南客Yiba",
            "timestamp": 1549950840,
            "txt_content": "有bug啊.为什么我给玩家打开。然后过一会他们看箱子也是那个内容。。。害我补偿了好多= ="
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1549951740,
            "txt_content": "dabai12 发表于 2019-2-12 13:54\n有bug啊.为什么我给玩家打开。然后过一会他们看箱子也是那个内容。。。害我补偿了好多= = ...\n请录制gif\n我看了一下不会出现这个问题"
        },
        {
            "author": "PYJ13727421392",
            "timestamp": 1552916760,
            "txt_content": "你好在1.13.2据说大部分主流菜单插件使用大量有皮肤的头颅都会出现卡顿，不知道你的菜单是否也存在着这样的问题"
        },
        {
            "author": "沫子爵_",
            "timestamp": 1553122440,
            "txt_content": "30**给了你多少钱，我全明星幻想给你双倍！"
        },
        {
            "author": "世予予",
            "timestamp": 1553130960,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "maliu123",
            "timestamp": 1554211500,
            "txt_content": "行数不规范是什么意思。"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1554648000,
            "txt_content": "maliu123 发表于 2019-4-2 21:25\n行数不规范是什么意思。\n9的倍数"
        },
        {
            "author": "maliu123",
            "timestamp": 1554944640,
            "txt_content": "MagicLocyDragon 发表于 2019-4-7 22:40\n9的倍数\n设置真麻烦= ="
        },
        {
            "author": "qq1016464513",
            "timestamp": 1571147340,
            "txt_content": "配合lore的插件使用真的是太棒了"
        },
        {
            "author": "qq1016464513",
            "timestamp": 1571150100,
            "txt_content": "想问一下如果我第14格创建了脚本之后，我要怎么在15格上创建呢，是一样的文件里面进行编辑还是单独的再创建格呢"
        },
        {
            "author": "gehaiya1017",
            "timestamp": 1571205240,
            "txt_content": "这个插件不错，收下了，谢谢楼主"
        },
        {
            "author": "MC深坑不回头",
            "timestamp": 1571304240,
            "txt_content": "很棒的菜单呀~!"
        },
        {
            "author": "Nitric_acid",
            "timestamp": 1577850120,
            "txt_content": "插件看起来不错，但我要等它稳定后再使用，希望楼主加油开发和修复BUG"
        },
        {
            "author": "Nitric_acid",
            "timestamp": 1579759560,
            "txt_content": "我用菜单打开另一个菜单，后台疯狂报错"
        },
        {
            "author": "Nitric_acid",
            "timestamp": 1580369100,
            "txt_content": "这个插件有巨多bug,建议不要使用,等作者完善吧"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1580379180,
            "txt_content": "2004224\\\\\\ 发表于 2020-1-30 19:25\n这个插件有巨多bug,建议不要使用,等作者完善吧\n不支持mod端……抱歉"
        },
        {
            "author": "qazwsxqweasdzx",
            "timestamp": 1583676960,
            "txt_content": "请问为什么我的spigot端（版本1.12.2）在编辑菜单时，点击背包的任何一个位置，菜单就会关闭？未报错"
        },
        {
            "author": "Winter_Summer",
            "timestamp": 1587811800,
            "txt_content": "这个放不了物品啊，只要一点击鼠标就会保存，怎么办"
        },
        {
            "author": "13382689352",
            "timestamp": 1606475760,
            "txt_content": "你可以开发一个可视化脚本编辑器"
        },
        {
            "author": "zhangxinlei1563",
            "timestamp": 1607041920,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "qianyeg",
            "timestamp": 1607153880,
            "txt_content": "视频看不了，可以发一下BV号吗？"
        },
        {
            "author": "2805335508",
            "timestamp": 1611166380,
            "txt_content": "太厉害了叭"
        }
    ]
}