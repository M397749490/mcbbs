{
    "title": "[20w20a]来看看最新的进度触发器",
    "author": "Chelover_C60",
    "replyCount": 4,
    "timestamp": 1589438460,
    "txt_content": " 本帖最后由 Chelover_C60 于 2020-5-15 12:05 编辑 \n\n20w20a新增了3个触发器，但对于这3个触发器的具体用法及效果，wiki上还没有讲，官网上讲的也比较笼统。\n于是我翻出来了20w20a的原版进度，把这3个进度触发器都找出来了，并尝试研究了一下语法和具体效果，并决定来水一帖。\n\n\nminecraft:thrown_item_picked_up_by_entity\n\n可以根据字面意思理解，玩家扔出的物品被实体捡起\n\n可用参数：\nplayer：匹配丢出物品的玩家的状态item：匹配物品entity：匹配拾起物品的实体的状态\n其中player和entity参数可以使用战利品表条件，格式同战利品表的conditions参数（源自20w18a的更新），当然也可以使用实体共通标签。item使用物品共通标签。\n\n实例分析：\n以下为原版进度 Oh Shiny 的criteria部分\n\"criteria\": {\n    \"distract_piglin\": {\n      \"trigger\": \"minecraft:thrown_item_picked_up_by_entity\",\n      \"conditions\": {\n        \"player\": [\n          {\n            \"condition\": \"minecraft:inverted\",\n            \"term\": {\n              \"condition\": \"minecraft:entity_properties\",\n              \"predicate\": {\n                \"equipment\": {\n                  \"head\": {\n                    \"item\": \"minecraft:golden_helmet\"\n                  }\n                }\n              },\n              \"entity\": \"this\"\n            }\n          },\n          {\n            \"condition\": \"minecraft:inverted\",\n            \"term\": {\n              \"condition\": \"minecraft:entity_properties\",\n              \"predicate\": {\n                \"equipment\": {\n                  \"chest\": {\n                    \"item\": \"minecraft:golden_chestplate\"\n                  }\n                }\n              },\n              \"entity\": \"this\"\n            }\n          },\n          {\n            \"condition\": \"minecraft:inverted\",\n            \"term\": {\n              \"condition\": \"minecraft:entity_properties\",\n              \"predicate\": {\n                \"equipment\": {\n                  \"legs\": {\n                    \"item\": \"minecraft:golden_leggings\"\n                  }\n                }\n              },\n              \"entity\": \"this\"\n            }\n          },\n          {\n            \"condition\": \"minecraft:inverted\",\n            \"term\": {\n              \"condition\": \"minecraft:entity_properties\",\n              \"predicate\": {\n                \"equipment\": {\n                  \"feet\": {\n                    \"item\": \"minecraft:golden_boots\"\n                  }\n                }\n              },\n              \"entity\": \"this\"\n            }\n          }\n        ],\n        \"item\": {\n          \"tag\": \"minecraft:piglin_loved\"\n        },\n        \"entity\": [\n          {\n            \"condition\": \"minecraft:entity_properties\",\n            \"predicate\": {\n              \"type\": \"minecraft:piglin\"\n            },\n            \"entity\": \"this\"\n          }\n        ]\n      }\n    }\n  }复制代码呜呼，好长\n这个进度首先对玩家匹配了4个战利品表条件，即不穿着任意金质装备，然后对物品匹配了一个参数，即标签“minecraft:piglin_loved”下的任意物品，最后对拾起物品的实体匹配了一个战利品表条件，即实体类型为猪灵。\n\n应用：\n我觉得是时候让某个古老的成就回归了\n{\n    \"display\": {\n        \"title\": \"给你钻石\",\n        \"description\": \"\",\n        \"frame\": \"task\",\n        \"icon\": {\n            \"item\": \"minecraft:diamond\"\n        }\n    },\n    \"criteria\": {\n        \"test\": {\n            \"trigger\": \"minecraft:thrown_item_picked_up_by_entity\",\n            \"conditions\": {\n                \"item\": {\n                    \"item\": \"minecraft:diamond\"\n                }\n            }\n        }\n    }\n}复制代码该进度仅要求被捡起的物品是钻石，对物品的丢出玩家和拾起玩家没有做任何限制。但实际上，自己捡起自己丢出的钻石是不会触发进度的。\n\n\n\n\n2020-05-14_14.40.04.png (260.33 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-14 14:40 上传\n\n\n\n\n\n尽管如此，这个进度触发器的实际用处可能不大。\n\n\nminecraft:player_generates_container_loot\n\n字面意思理解，当玩家激活容器的战利品表时触发。\n好像不是很好理解？\nemmmm\n部分容器在打开之前，是没有东西的，只有一个用于生成物品的战利品表。打开这个容器后，这个容器才会根据内含的战利品表来生成物品。简单的说，有时候使用旁观者模式尝试打开箱子时，会提示战利品未生成，这个时候切换成其他模式，就能正常打开了，并可以看到里面的物品，就是这个道理。\n\n可用参数：\nplayer：匹配玩家状态loot_table：匹配战利品表\nplayer参数同上，loot_table参数则需指定一个战利品表\n\n实例分析：\n以下为原版进度 War Pigs 的criteria部分\n  \"criteria\": {\n    \"loot_bastion_other\": {\n      \"trigger\": \"minecraft:player_generates_container_loot\",\n      \"conditions\": {\n        \"loot_table\": \"minecraft:chests/bastion_other\"\n      }\n    },\n    \"loot_bastion_treasure\": {\n      \"trigger\": \"minecraft:player_generates_container_loot\",\n      \"conditions\": {\n        \"loot_table\": \"minecraft:chests/bastion_treasure\"\n      }\n    },\n    \"loot_bastion_hoglin_stable\": {\n      \"trigger\": \"minecraft:player_generates_container_loot\",\n      \"conditions\": {\n        \"loot_table\": \"minecraft:chests/bastion_hoglin_stable\"\n      }\n    },\n    \"loot_bastion_bridge\": {\n      \"trigger\": \"minecraft:player_generates_container_loot\",\n      \"conditions\": {\n        \"loot_table\": \"minecraft:chests/bastion_bridge\"\n      }\n    }\n  }复制代码这个进度指定了4个独立的minecraft:player_generates_container_loot触发器，分别对应了4中不同的宝箱。后续的requirements部分（未列举）则指定了这4个触发器对这个进度的逻辑为“或”，因此这4个触发器只需要触发其中一个即可获取进度。\n\n应用：\n哇塞，一只野生的箱子！这绝对不是陷阱箱！快打开看看！\n\n\n\n\n2020-05-14_11.39.05.png (193.85 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-14 13:37 上传\n\n\n\n\n\n？？？\n\n\n\n\n2020-05-15_12.04.40.png (176.28 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-15 12:05 上传\n\n\n\n\n\n首先，放置一个箱子，指定其战利品表为“minecraft:empty”\n/setblock ~ ~ ~ chest{LootTable:\"minecraft:empty\"}\n写一个进度，检测玩家激活“minecraft:empty”战利品表，并奖励function\n{\n    \"display\": {\n        \"title\": \"你中计了！\",\n        \"description\": \"\",\n        \"frame\": \"task\",\n        \"icon\": {\n            \"item\": \"minecraft:chest\"\n        }\n    },\n    \"criteria\": {\n        \"test\": {\n            \"trigger\": \"minecraft:player_generates_container_loot\",\n            \"conditions\": {\n                \"loot_table\": \"minecraft:empty\"\n            }\n        }\n    },\n    \"rewards\": {\n        \"function\": \"test:trap\"\n    }\n}复制代码奖励的function过于简单，不再展示。实际上我感觉这个战利品表也有点过于简单了。\n\n\nminecraft:item_used_on_block\n\n当玩家手持指定物品右键方块并与之产生有效互动时触发。\n这是我经过测试后，对此给出的解释。详细点说，就是：\n首先，玩家必须手持指定物品右键方块。然后，玩家与方块之间产生了有效互动。\n那么，以下几种情况就可以触发：\n玩家手持斧头给原木剥皮玩家手持木棍打开箱子玩家手持雪球按动按钮玩家手持按钮并将其放置在石头上\n而以下几种情况不能触发玩家手持木棍右击石头（没有产生互动）玩家手持雪球并在潜行时右键按钮（没有与方块产生互动）玩家手持斧头挖掘原木（不是右键互动）玩家手持石头走到压力板上（不是右键互动）\n需要注意的是，放置方块类互动，只要放置成功即算互动成功并触发进度，不要求手持方块必须放在指定方块上。即你可以潜行并在一个蛋糕侧面右击来将按钮放置在地上，但仍能触发对蛋糕使用按钮的进度。\n不过有一种情况，即手持物品时右键红石矿石时我没有触发成功，不知为何。\n\n可用参数：\nplayer：匹配玩家状态item：匹配玩家手持物品location：匹配方块所在坐标的信息\nplayer参数同上，item参数同上上，而location参数格式与进度触发器“minecraft:location”格式相同。\n需要注意的是，如果这个互动修改了物品的信息，如使用玻璃瓶从蜂箱中取出蜂蜜，触发器里需要指定的物品信息为互动前的物品，如此处应使用玻璃瓶而不是蜂蜜。而如果互动修改了方块信息，如使用斧头给原木剥皮，在触发器里需要指定的方块信息需为互动后的方块信息，如此处应指定剥皮后的原木而不是未剥皮的原木。\n\n实例分析：\n以下为原版进度 与蜂共舞 的criteria部分\n  \"criteria\": {\n    \"safely_harvest_honey\": {\n      \"trigger\": \"minecraft:item_used_on_block\",\n      \"conditions\": {\n        \"location\": {\n          \"smokey\": true,\n          \"block\": {\n            \"block\": \"minecraft:beehive\"\n          }\n        },\n        \"item\": {\n          \"item\": \"minecraft:glass_bottle\"\n        }\n      }\n    }\n  }复制代码此处匹配玩家手持物品为玻璃瓶，指定方块所在坐标用有的方块为蜂箱，且下方有点燃的营火（注：smokey为20w20a新增的location参数，用于检测方块下方是否有点燃的营火）。\n\n应用：\n估计这会是以后很常用的一个触发器，因为用来检测一些东西很方便。如检测玩家使用木斧给橡木剥皮\n{\n    \"display\": {\n        \"title\": \"人不要脸，树不要皮\",\n        \"description\": \"\",\n        \"frame\": \"task\",\n        \"icon\": {\n            \"item\": \"minecraft:stripped_oak_log\"\n        }\n    },\n    \"criteria\": {\n        \"test\": {\n            \"trigger\": \"minecraft:item_used_on_block\",\n            \"conditions\": {\n                \"item\": {\n                    \"item\": \"minecraft:wooden_axe\"\n                },\n                \"location\": {\n                    \"block\": {\n                        \"block\": \"minecraft:stripped_oak_log\"\n                    }\n                }\n            }\n        }\n    }\n}复制代码由于互动改变了橡木原木的id，因此需要在location里填写改变后的方块id，即被剥皮的橡木。玩家手持物品为木斧。\n当然，可以给所有剥皮原木写一个标签，然后给所有的斧头写一个标签，即可检测使用任意斧头给任意原木剥皮。\n\n\n\n\n2020-05-14_14.30.58.png (314.61 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-14 14:35 上传\n\n\n\n\n",
    "replies": [
        {
            "author": "ChapterII",
            "timestamp": 1589511120,
            "txt_content": "给你钻石……老玩家了……"
        },
        {
            "author": "御龙九秋",
            "timestamp": 1589528400,
            "txt_content": "这几个触发器对我来说是十分有用了，包括开箱子啊什么的（x）"
        },
        {
            "author": "majingyuan2000",
            "timestamp": 1590596640,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "巴黎城下的少年",
            "timestamp": 1590902160,
            "txt_content": "给你钻石.....这么神奇的吗\n"
        }
    ]
}