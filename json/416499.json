{
    "title": "[New API][公会插件指令全汉化 + BUG完美修复]管理公会:\"/公会\"",
    "author": "minecraftpe8",
    "replyCount": 18,
    "timestamp": 1425059040,
    "txt_content": " 本帖最后由 minecraftpe8 于 2015-2-28 01:48 编辑 \n\n[New API][公会插件指令全汉化 + BUG完美修复]\n\n管理公会输入\"/公会\"即可\n★本次汉化修复3大BUG,公会插件基本可以完美运行★\n\n命令使用说明:\n1. 创建一个公会: /公会 创建 <公会名> (支持中文公会名)\n2. 解散一个公会: /公会 解散\n3. 邀请玩家入会: /公会 邀请 <玩家名>\n4. 接受入会邀请: /公会 接受\n5. 拒绝入会邀请: /公会 拒绝\n6.  退出所在公会: /公会 退出\n7. 会长踢出成员: /公会 踢人 <玩家名>\n8. 会长转让公会: /公会 会长\n9. 更新公会公告: /公会 公告\n10. 查看公会公告: /公会 信息\n11. 查看公会命令: /公会 帮助\n后台使用截图:\n\n\n\n\n\n公会插件后台使用截图.png (575 Bytes, 下载次数: 91)\n\n下载附件\n\n2015-2-28 01:41 上传\n\n\n\n\n\n\n\n(同属一个公会的2个玩家互相PK不会造成对方伤害)\n\n使用示例:\nsteve深恨熊孩子,于是使用命令\"/公会 创建 防熊联盟\"成立防熊联盟公会;\nsteve在游戏里说话的效果:\n[防熊联盟] steve : 正义的勇士们快来加入\"防熊联盟\"打击熊孩子! \njack是OP管理员,于是使用命令\"/公会 创建 OP管理团队\"成立OP管理员公会;\njack在游戏里说话的效果:\n[OP管理团队] jack : 在游戏里遇到任何问题请呼叫OP管理团队!\n\nlucy是资深建筑师,于是使用命令\"/公会 创建 建筑师协会\"成立建筑师公会;\nlucy在游戏里说话的效果:\n[建筑师协会] lucy : 优秀的建筑师快加入我们的协会交流经验!\n\n\n\n★对本次修复的3大BUG详细说明★\n1. 语法逻辑BUG\n1.1 语法小BUG\nif(count($args == 2)) {\n改为\nif(count($args) == 2) {\nif(count($args == 1)) {\n改为\nif(count($args) == 1) {\n说明:别看这么个小小的BUG,会造成数组越界,严重起来会导致程序崩溃的.\n此BUG没修复之前的后台出错提示:\n00:54:56 [CRITICAL] Unhandled exception executing command 'f create' in f: Undefined offset: 1\n00:54:56 [NOTICE] ArrayOutOfBoundsException: \"Undefined offset: 1\" (E_NOTICE) in \"/FactionsPro.phar/src/FactionsPro/Main\" at line 62\n\n1.2 逻辑小BUG\nelse {\n    $sender->sendMessage(\"[公会管理] 请使用 /公会 帮助 来列出所有公会相关命令\");\n}\n改为\nf(count($args) > 2) {\n    $sender->sendMessage(\"[公会管理] 请使用 /公会 帮助 来列出所有公会相关命令\");\n}\n说明: 这个问题不大,主要会影响命令用错时的用法提示信息!\n\n\n2. 对象传参BUG\n\npublic function factionPVP(EntityDamageByEntityEvent $factionDamage) {\n......\n}\n改为\npublic function factionPVP(EntityDamageEvent $factionDamage) {\nif($factionDamage instanceof EntityDamageByEntityEvent){\n......\n}\n}\n\n说明:函数factionPVP会接收到2种伤害事件:EntityDamageEvent, EntityDamageByEntityEvent;\nEntityDamageEvent是父类对象,EntityDamageByEntityEvent是子类对象;\n因此这里的接收参数必须为父类对象,才能同时接收父类对象和子类对象;\n函数factionPVP只需要用到EntityDamageByEntityEvent这个子类对象,所以加个if语句限制一下!\n这个BUG会导致后台刷屏的:出现一次moved wrongly,就会导致下面这大段错误提示信息,出现N次moved wrongly,就会导致下面这大段错误提示信息一直刷屏!\n此BUG没修复之前的后台出错提示:\n18:44:08 [CRITICAL] Could not pass event pocketmine\\event\\entity\\EntityDamageEvent to FactionsPro v1.0.1: Argument 1 passed to FactionsPro\\Main::factionPVP() must be an instance of pocketmine\\event\\entity\\EntityDamageByEntityEvent, instance of pocketmine\\event\\entity\\EntityDamageEvent given, called in phar:///home/pocketmine/PocketMine-MP.phar/src/pocketmine/plugin/MethodEventExecutor.php on line 36 and defined on FactionsPro\\Main\n18:44:08 [NOTICE] InvalidArgumentException: \"Argument 1 passed to FactionsPro\\Main::factionPVP() must be an instance of pocketmine\\event\\entity\\EntityDamageByEntityEvent, instance of pocketmine\\event\\entity\\EntityDamageEvent given, called in phar:///home/pocketmine/PocketMine-MP.phar/src/pocketmine/plugin/MethodEventExecutor.php on line 36 and defined\" (E_RECOVERABLE_ERROR) in \"/FactionsPro.phar/src/FactionsPro/Main\" at line 323\n\n3. 数据库调用BUG\n$this->db->query(\"DELETE * FROM confirm WHERE player='$player';\");\n改为\n$this->db->query(\"DELETE FROM confirm WHERE player='$player';\");\n$this->db->query(\"DELETE * FROM confirm WHERE player='$lowercaseName';\")\n改为\n$this->db->query(\"DELETE FROM confirm WHERE player='$lowercaseName';\")\n\n说明:\n数据库MySQL的语法就是这么规定的:\nSELECT * FROM ... SELECT 后面是要有带*的\nDELETE FROM...     DELETE 后面是不要带*的\n此BUG没修复之前的后台出错提示:\n2015-02-27 20:10:16 [CRITICAL] Unhandled exception executing command 'f accept' in f: SQLite3::query(): near \"*\": syntax error\n2015-02-27 20:10:16 [WARNING] RuntimeException: \"SQLite3::query(): near \"*\": syntax error\" (E_WARNING) in \"/FactionsPro.phar/src/FactionsPro/Main\" at line 211\n\n本次修复BUG所用的时间远远大于汉化指令所用的时间,真心不容易!\n\"PM插件指令汉化合集\"已上传到百度云网盘,方便大家下载:\nhttp://pan.baidu.com/s/1gdBysa3\n\"公会插件指令全汉化 + BUG完美修复\"百度网盘下载链接:\nhttp://pan.baidu.com/s/1ntspqGh\n\n\n\n\n\n\n\n\n\n\n公会插件指令全汉化.zip\n\n\n2015-2-28 01:40 上传\n点击文件名下载附件\n\n\n\n\n6.86 KB, 下载次数: 885\n\n\n你们的下载就是我继续汉化的动力耶!\n\n\n\n",
    "replies": [
        {
            "author": "-Love-",
            "timestamp": 1425060180,
            "txt_content": "看着不错，但是不开pe服，而且lz不必要把指令也汉化成中文，不然不好打字"
        },
        {
            "author": "minecraftpe8",
            "timestamp": 1425061260,
            "txt_content": "-Love- 发表于 2015-2-28 02:03\n看着不错，但是不开pe服，而且lz不必要把指令也汉化成中文，不然不好打字\n萝卜青菜,各有所爱.指令汉化为中文很人性化,中文指令也很容易记住;比如英文指令的经济插件,玩家能记住\"/mymoney\"就不错了;存款命令是\"/bank desposit\",很多人可能连desposit是什么意思都不知道,所以英文插件的玩家体验效果不好!对于英语达人,当我没说!\n至于输入中文指令和英文指令哪个更快,我觉得输入中文更快.玩家查看金钱需要输入\"/mymoney\"7个字母,汉化之后,只需要输入\"qb\",搜狗输入法立刻显示\"钱包\";玩家注册需要输入\"/register\",汉化之后,只需要输入\"zc\",搜狗输入法立刻显示\"注册\".\n玩家在游戏里里聊天使用的是中文,输入命令也使用中文,不需要切换输入法了,不是更省事!\n\n"
        },
        {
            "author": "Dies",
            "timestamp": 1425062160,
            "txt_content": "插件支持什么版本"
        },
        {
            "author": "a919298641",
            "timestamp": 1425079500,
            "txt_content": "minecraftpe8 发表于 2015-2-28 02:21\n萝卜青菜,各有所爱.指令汉化为中文很人性化,中文指令也很容易记住;比如英文指令的经济插件,玩家能记住\"/m ...\n支持你的看法。\n因为中文往往比英文好用\n但有时也未必。。"
        },
        {
            "author": "kivv",
            "timestamp": 1425080100,
            "txt_content": "做成PC我马上奖励你1000金立"
        },
        {
            "author": "x240295600",
            "timestamp": 1425088680,
            "txt_content": "这些指令是全部都汉化了 还是汉化一部分指令   "
        },
        {
            "author": "-Love-",
            "timestamp": 1425119340,
            "txt_content": "minecraftpe8 发表于 2015-2-28 02:21\n萝卜青菜,各有所爱.指令汉化为中文很人性化,中文指令也很容易记住;比如英文指令的经济插件,玩家能记住\"/m ...\n我记得pe不能打中文的啊"
        },
        {
            "author": "xdf",
            "timestamp": 1425202560,
            "txt_content": "iOS打中文很费事的。。。"
        },
        {
            "author": "1029814202",
            "timestamp": 1425205440,
            "txt_content": "支持楼主汉化指令，因为会有一些不懂英语的人，指令也会记不住，中文很方便"
        },
        {
            "author": "saul",
            "timestamp": 1426074240,
            "txt_content": "没有1.3.12不开心"
        },
        {
            "author": "MCPE服务器8",
            "timestamp": 1427093580,
            "txt_content": "非常棒的插件!"
        },
        {
            "author": "J.K.Creeper",
            "timestamp": 1430579760,
            "txt_content": "为楼主点赞！"
        },
        {
            "author": "y1531776501",
            "timestamp": 1432322160,
            "txt_content": "你好    这个工会插件和称号插件冲突么"
        },
        {
            "author": "SR_踮脚",
            "timestamp": 1439176320,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "yutai0628",
            "timestamp": 1453814280,
            "txt_content": "可否让我''繁''化？\n希望同意~"
        },
        {
            "author": "老肥皂",
            "timestamp": 1503057540,
            "txt_content": "感觉很方便用起来很ok"
        },
        {
            "author": "740268984",
            "timestamp": 1562918220,
            "txt_content": "谢谢楼主分享"
        },
        {
            "author": "740268984",
            "timestamp": 1562921700,
            "txt_content": "最新版可以用吗"
        }
    ]
}