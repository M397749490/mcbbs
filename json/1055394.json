{
    "title": "mod可以获取bukkit服务器的玩家列表吗(List<EntityPlayer>)？",
    "author": "诺凡克罗诺",
    "replyCount": 11,
    "timestamp": 1591008420,
    "txt_content": " 本帖最后由 无邪。 于 2020-6-1 20:39 编辑 \n\nmod可以获取bukkit服务器的玩家列表吗(List<EntityPlayer>)？\n还有离线玩家\n我正在写一个客户端mod(连接bukkit的)，其中需要用到服务器的玩家总列表(包括离线玩家)；\n希望有大神做过|\n因为我第一次接触编写mod，只能做一些浅显的操作，服务器和客户端之间的关系实在难理解\n\nMinecraft.getMinecraft().world.getPlayerEntityByUUID(\"XXX\") ",
    "replies": [
        {
            "author": "Hueihuea",
            "timestamp": 1591009980,
            "txt_content": "https://www.mcbbs.net/thread-725571-1-1.html"
        },
        {
            "author": "William_Shi",
            "timestamp": 1591010880,
            "txt_content": "你需要有一个bukkit插件放在服务端\n然后注册一个通信通道\n通过bk插件获取这些信息\n然后再用mod进行一些接受的操作"
        },
        {
            "author": "诺凡克罗诺",
            "timestamp": 1591014300,
            "txt_content": " 本帖最后由 无邪。 于 2020-6-1 20:27 编辑 \nHueihuea 发表于 2020-6-1 19:13\nhttps://www.mcbbs.net/thread-725571-1-1.html\n这个我知道，我已经使用了这个通道，我是说获得全服玩家对象(EntityPlayer)\n例如 Minecraft.getMinecraft().world.getPlayerEntityByUUID(\"XXX\") 可以获得服务器玩家吗？（潜意识告诉我是当前世界的玩家，不包括离线玩家，不包括其它世界）\n"
        },
        {
            "author": "诺凡克罗诺",
            "timestamp": 1591014420,
            "txt_content": "William_Shi 发表于 2020-6-1 19:28\n你需要有一个bukkit插件放在服务端\n然后注册一个通信通道\n通过bk插件获取这些信息\n这个我知道，我已经使用了这个通道，我是说获得全服玩家对象(EntityPlayer)\n例如 Minecraft.getMinecraft().world.getPlayerEntityByUUID(\"XXX\") 可以获得服务器玩家吗？（潜意识告诉我是当前世界的玩家，不包括离线玩家，不包括其它世界）"
        },
        {
            "author": "雨",
            "timestamp": 1591014780,
            "txt_content": "无邪。 发表于 2020-6-1 20:27\n这个我知道，我已经使用了这个通道，我是说获得全服玩家对象(EntityPlayer)\n例如 Minecraft.getMinecraft ...\n那你就遍历所有的世界"
        },
        {
            "author": "诺凡克罗诺",
            "timestamp": 1591015320,
            "txt_content": " 本帖最后由 无邪。 于 2020-6-1 20:45 编辑 \n雨 发表于 2020-6-1 20:33\n那你就遍历所有的世界\n如何遍历呢?给个示例吧\nList<EntityPlayer> playerList = new ArrayList<>();\n        World[] worlds = Minecraft.getMinecraft().getIntegratedServer().worlds;\n        for (World world : worlds){\n            playerList.addAll(world.playerEntities);\n        }复制代码\n这种可行吗？因为mod还不能放入服务器中测试(插件还没有成型)，一切只能靠猜想……"
        },
        {
            "author": "Hueihuea",
            "timestamp": 1591015800,
            "txt_content": "无邪。 发表于 2020-6-1 20:25\n这个我知道，我已经使用了这个通道，我是说获得全服玩家对象(EntityPlayer)\n例如 Minecraft.getMinecraft( ...\n你这么做是为了什么 当然不能获取"
        },
        {
            "author": "William_Shi",
            "timestamp": 1591015920,
            "txt_content": "无邪。 发表于 2020-6-1 20:27\n这个我知道，我已经使用了这个通道，我是说获得全服玩家对象(EntityPlayer)\n例如 Minecraft.getMinecraft ...\n\n在线玩家是Bukkit.getPlayer或者是getPlayerExact\n在线玩家的集合（不是列表，反正是增强for遍历一下）getOnlinePlayers\n世界（World）也有获取当前世界玩家的方法"
        },
        {
            "author": "诺凡克罗诺",
            "timestamp": 1591069620,
            "txt_content": "Hueihuea 发表于 2020-6-1 20:50\n你这么做是为了什么 当然不能获取\n为了在gui内绘制这个玩家的模型"
        },
        {
            "author": "3TUSK",
            "timestamp": 1591069680,
            "txt_content": "客户端不能获得服务器的玩家列表，请老老实实从服务器上获取而不是客户端上获取。"
        },
        {
            "author": "Hueihuea",
            "timestamp": 1591099260,
            "txt_content": "无邪。 发表于 2020-6-2 11:47\n为了在gui内绘制这个玩家的模型\n这个玩家的模型？\n要画出皮肤和装备之类的吗？\n比如画出上面的俩个\n那你就打包玩家的GameProfile信息和装备NBT\n发送给客户端\n让客户端根据这些实例化一个新的玩家"
        }
    ]
}