{
    "title": "怎么判断玩家跳跃",
    "author": "孤独的校长",
    "replyCount": 3,
    "timestamp": 1564928160,
    "txt_content": "rt,有什么方法判断玩家跳跃？",
    "replies": [
        {
            "author": "坑触可",
            "timestamp": 1564929540,
            "txt_content": "可以通过stat.jump类型计分榜来检测"
        },
        {
            "author": "UltraPanda",
            "timestamp": 1565022300,
            "txt_content": "监听 PlayerMoveEvent \n\nprivate Set<UUID> prevPlayersOnGround = Sets.newHashSet();\n \n    @EventHandler\n    public void onMove(PlayerMoveEvent e) {\n        Player player = e.getPlayer();\n        if (player.getVelocity().getY() > 0) {\n            double jumpVelocity = (double) 0.42F;\n            if (player.hasPotionEffect(PotionEffectType.JUMP)) {\n                jumpVelocity += (double) ((float) (player.getPotionEffect(PotionEffectType.JUMP).getAmplifier() + 1) * 0.1F);\n            }\n            if (e.getPlayer().getLocation().getBlock().getType() != Material.LADDER && prevPlayersOnGround.contains(player.getUniqueId())) {\n                if (!player.isOnGround() && Double.compare(player.getVelocity().getY(), jumpVelocity) == 0) {\n                    player.sendMessage(\"Jumping!\");\n                }\n            }\n        }\n        if (player.isOnGround()) {\n            prevPlayersOnGround.add(player.getUniqueId());\n        } else {\n            prevPlayersOnGround.remove(player.getUniqueId());\n        }\n    }复制代码\n\n来自https://bukkit.org/threads/detect-player-jump.445415/"
        },
        {
            "author": "布鲁鲁",
            "timestamp": 1565084880,
            "txt_content": "ProtocolLib抓包"
        }
    ]
}