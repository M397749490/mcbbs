{
    "title": "【转载】【技术向】用树莓派搭建Minecraft服务器...",
    "author": "匿名",
    "replyCount": 3,
    "timestamp": 1392485280,
    "txt_content": " 本帖最后由 匿名 于 2014-2-16 01:31 编辑 \n\n相信很多人都知道怎麼在windows上搭建Minecraft的服务器了（废话）~\n但是如果我们需要更轻量级，更省电，而且要一直在线，（还得更省钱啊）朋友们随时可以上来玩的服务器呢？\n下文介绍了如何用树莓派搭建低能耗的Minecraft服务器，你可以全天不间断地开着，每天的电费大概只要一个便士。\n\n\n为什么要折腾这个？\n\n\n这个教程分为两个部分：搭建你自己的Minecraft服务器，以及在树莓派上搭建Minecraft服务器。为什么要自己搭Minecraft服务器呢？因为在自己的服务器上玩Minecraft，不是随便谁都可以做的。你可以让服务器一直运行，当你不玩的时候，你的朋友和家人还可以加入到游戏中，继续建造你的世界。你可以尝试修改游戏参数，制作mod，而且还能让你体验一把GM的感觉，这在公共服务器里可是做不到的，而且也不用花很多钱去租远程主机来做服务器。\n对于Minecraft狂热粉丝而言，搭建Minecraft服务器已经很有吸引力了。但是在树莓派上搭则会更有吸引力。小小的树莓派耗电非常少，你可以不间断地开着服务器，一年的电费也不过几块钱而已。只要一个树莓派，一张SD卡，花上一点时间设置一下，就能有一台全天候的Minecraft服务器，月运行费用只不过一条口香糖的价格。\n\n\n需要的东西\n这篇教程需要一些硬件和软件；除了树莓派和SD卡之外的东西都是免费的。\n1个树莓派（512MB的版本比较好）\n1张4GB的SD卡\n教程假设你已经熟悉了树莓派的环境，而且已经安装了Debian衍生的Raspbian。如果你的树莓派还没跑起来，可以参考：http://www.howtogeek.com/138281/the-htg-guide-to-getting-started-with-raspberry-pi/\n\n\n\n针对Minecraft服务器优化Raspbian\n\n\n\n\n\n\n\n\n\n\n和那些可以同时运行的项目不大一样（例如，树莓派的性能足以同时用作天气/电子邮件提醒器和一台谷歌云打印机），对于小小的树莓派而言，运行Minecraft服务器是一项非常耗费系统资源的任务，我们强烈推荐树莓派上只运行这一项任务。Minecraft看上去只有些方块，似乎不太耗资源。但事实上在简单的外表下有着非常复杂游戏核心，要耗费很多处理能力的。\n所以我们接下来要修改配置文件以及其他一些设置，针对Minecraft服务器来优化Rasbian。第一步要做的是进入Raspi-Config，进行几项微调，如果你已经安装了Raspi-Config，那么进入终端，输入”sudo raspi-config”来运行。\n\n\n第一项，也是最重要的一项是进行超频。我们要把处理能力设置得尽可能高一些，以保证Minecraft流畅运行。在Raspi-Config中，选择第七项”超频”。\n\n\n\n关于超频，虽然能听到些很吓人的警告，但事实上超频是树莓派基金会官方支持的，自从2012年年末，设置菜单中就有了超频选项。进入超频菜单后，选择“Turbo 1000MhHz”。然后你又会看到这个级别的超频可能出现的危险的提示信息（有可能损坏SD卡，但事实上对硬件不会有危险）。点击OK，等待设备重启。\n然后，记得启动后登陆到命令提示符，而不是桌面。选择第三项”启动“，选择”命令提示符“。\n返回到Raspi-Config菜单，选择第八项”高级选项“。这里有两个关键的更改，还有一个是可选的。先说关键的更改，选择A3 “内存分配”。\n将分配给GPU的内存调到16MB(默认是64MB)。我们的Minecraft服务器运行的时候不需要图形界面，所以分配给GPU的内存有最低值就可以了。\n改完GPU内存后，返回到主菜单。选择”高级选项“，然后选择A4 “SSH”。在子菜单中，开启SSH。一般来说没什么理由给这台Pi一直连着显示器和键盘，开启SSH我们就可以从有网络的任何地方来远程控制这台机器了。\n最后（这项是可选的），回到“高级选项”菜单，选择A2 ”主机名“。在这里可以把主机名从”raspberrypi“改成一个更适合Minecraft服务器的名字，而且可以根据个人爱好加一些修饰，例如creepertown, minecraft4life或者miner-box。这些都是挺适合minecraft服务器的名字。\nRaspbian的设置就这么多。按Tab到主屏幕的底端，选择”Finish”来重启。在重启后，可以用SSH来登录到树莓派的终端，也可以继续用连接到树莓派上的键盘（我们强烈推荐用SSH，因为SSH可以更容易地复制粘贴命令）。如果你之前从来没用过SSH，可以看这篇介绍如何使用PuTTy访问树莓派的文章。（http://www.howtogeek.com/141157/）\n\n\n在树莓派上安装Java\n\n\nMinecraft服务器需要Java运行环境，所以我们应该在刚刚改过配置的树莓派上安装Java。用SSH登录到树莓派上，在命令提示符下输入下面的命令，给java的安装创建一个目录：\nsudo mkdir /java/\n然后下载最新版的Java。在本文写作时，最新版本是OCT 2013，链接和文件名会显示出版本信息。在你下载的时候，应该在Java下载页检查一下有没有更新版本的Linux ARMv6/7 Java，如果有请使用最新版本。\n\n在命令提示符下输入：\n\n\n\n\n\n\n4f3002738bd4b31c6a2f52d485d6277f9f2ff8a8.png (12.44 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:12 上传\n\n\n\n\n\n\n\n\nb6c1ab01a18b87d6d7516d70050828381e30fda8.png (11.9 KB, 下载次数: 13)\n\n下载附件\n\n2014-2-16 01:12 上传\n\n\n\n\n\n\n\n\n下载完成后，输入：\n\n\n\n\nb2986fa98226cffcc6c67cddbb014a90f403eacb.png (11.56 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:13 上传\n\n\n\n\n\n\n\n\nd7c622f41bd5ad6e7317a78583cb39dbb4fd3cd4.png (11.66 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:13 上传\n\n\n\n\n\n\n\n\n\n\n\n\n注意：\n\n/opt/这个目录名是早期Unix设计的残留物，/opt/目录是在操作系统安装完成后，用来安装可选(optional)软件的，也就是Unix世界的/Program Files/(译者：个人感觉/Program Files更类似于/usr）。\n在文件解压完成后，输入：\n\n\n\n\n\n069254f0f736afc3a9e8fc0ab119ebc4b54512d2.png (2.32 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:15 上传\n\n\n\n\n\n\n这个命令会显示Java安装包的版本号，例如：\n\n\n\n\n\n5b02a1b1cb13495471fc2b0b544e9258d3094ad8.png (4.97 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:15 上传\n\n\n\n\n\n\n\n\n如果没有出现上面的信息（如果你用的是更新版本的安装包，版本号可能有所不同），试试再解压一次。如果你看到了上面的信息，输入下面的命令，删掉不要的东西。\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n92008d44ad345982f45426fd0ef431adc9ef84e4.png (2.37 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:15 上传\n\n\n\n\n\n\n到这里，Java就安装好了，我们可以开始安装Minecraft服务器了！\n\nMinecraft服务器的安装和配置\n现在Minecraft服务器安装所需要的基础都有了，到了安装服务器自身的时候了。我们这里使用SpigotMC（http://www.spigotmc.org/）一个轻量化而且稳定的Minecraft服务器版本，在树莓派上运行得很好。\n首先，用下面的命令下载一份代码：\n \n \n \n\n\n\n\nd4ce5ff082025aaf6351bca4f9edab64024f1a5f.png (12.15 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:30 上传\n\n\n\n\n\n\n\n\na896fd1373f082029ce2535049fbfbedaa641b4e.png (14.46 KB, 下载次数: 11)\n\n下载附件\n\n2014-2-16 01:31 上传\n\n\n\n\n\n\n\n这个链接可以一直用，因为它指向的是Spigot最新的稳定版，如果有任何问题，可以参考SpigotMC的下载页。（http://ci.md-5.net/job/Spigot/）\n下载完成后，输入下面的命令：\n\n\n\n\nd4ce5ff082025aaf6351bca4f9edab64024f1a5f.png (12.15 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:20 上传\n\n\n\n\n\n\n\n\na896fd1373f082029ce2535049fbfbedaa641b4e.png (14.46 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:20 上传\n\n\n\n\n\n\n这个链接可以一直用，因为它指向的是Spigot最新的稳定版，如果有任何问题，可以参考SpigotMC的下载页。（http://ci.md-5.net/job/Spigot/）\n下载完成后，输入下面的命令：\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n85d735d8bc3eb135b64575d4a41ea8d3fc1f4438.png (12.11 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:20 上传\n\n\n\n\n\n\n\n\nd485e0bf6c81800a9b674b61b33533fa838b4738.png (12.89 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:21 上传\n\n\n\n\n\n\n注意：如果你在用256MB的树莓派，把上面的256和496分别改成128和256。\n接下来服务器会启动，屏幕上会出现一大堆东西。等上大概3-6分钟，程序会搭建服务器，生成地图。之后的启动会快很多，大概20-30秒。\n注意：如果在配置或游戏过程中发生异常（例如新建的服务器里的人物一出来就会死掉），在命令行用“stop”就可以优雅地关掉服务器，然后你就可以重启服务器，找出问题在哪里。\n在上面的流程完成后，你就可以坐在电脑旁普通地玩Minecraft，启动程序，选择多人游戏。你会看到自己建的服务器\n\n\n如果搜不到自己建的服务器，点击“添加”按钮然后手动输入你的树莓派的地址。\n连接到服务器后，你能在服务器状态窗口中看到状态的改变\n\n从服务器端显示的信息就能知道，我们已经进入游戏了。从客户端来看，也可以确定我们已经正常进入游戏了，但是游戏是在午夜的生存模式下\n\n\n出生在死亡之夜，没有武器和房子，游戏是没办法进展的。不用担心，我们接下来要进行一些设置，没有时间继续打骷髅了。另外，如果你一开始就这么玩下去，会发现游戏会很不稳定。我们现在只是为了确定服务器能够启动，能正常运行，并且能连接到客户端。\n\n\n现在我们已经确认服务器能正常运行，能连接到客户端（虽然还没什么可玩性），可以关掉服务器了。在服务器的控制台里输入”stop”，就可以把服务器关掉。\n退回到命令提示符后，输入下面的命令：\n\n\n\n\n3ff401f5e0fe9925d37ba43f36a85edf8cb17143.png (1.32 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:22 上传\n\n\n\n\n\n\n\n设置文件打开，进行下列更改：\n\n\n\n\n\nb4e81ffa828ba61e2f8305404334970a314e5949.png (115.62 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:23 上传\n\n\n\n\n\n\n用SSH连到树莓派上，在服务器状态窗口中，输入下面的命令，给自己管理员权限（于是就可以在游戏里用更强力的命令，不用退回到服务器状态窗口了）。\n\nop (游戏名字)\n\n在游戏变得好一点了，但是在游戏真正变好玩之前，还需要一些设置。我们来装一些插件。\n\n装插件就不说了。\n\n重启服务器：\n这次启动花费的时间会长一点（大概3-6分钟，比你期望中的30秒会长很多），因为这些插件会影响到世界地图，所以需要一些时间来进行更改。人物出生后，在服务器控制台中输入：     plugins\n这个命令会列出当前正在运行的插件。你看到的信息应该是下面这个样子的\n\n\n\n\n\ndf6966ed2e738bd455027e5ea38b87d6267ff998.png (5 KB, 下载次数: 12)\n\n下载附件\n\n2014-2-16 01:26 上传\n\n\n\n\n\n\n\n确认插件已经载入之后，就可以加入游戏了。你会发现游戏变好玩了。另外，你会时不时看到插件的一些信息，表明它们正在活动\n\n现在，Java装好了，服务器搭建好了，树莓派的配置也改好了，可以开始和朋友一起搭建世界了！\n{:10_531:}\n\n\n\n技术活{:10_509:}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nb9e39d3533fa828b2b7a598cff1f4134960a5a65.jpg\n(35.84 KB, 下载次数: 17)\n\n\n\n\n下载附件\n\n\n2014-2-16 01:10 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n92008d44ad345982f45426fd0ef431adc9ef84e4.png\n(2.37 KB, 下载次数: 18)\n\n\n\n\n下载附件\n\n\n2014-2-16 01:17 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "匿名",
            "timestamp": 1392485580,
            "txt_content": "好吧   我自己都看起都有点复杂{:10_493:}"
        },
        {
            "author": "1847291366",
            "timestamp": 1392492660,
            "txt_content": "树莓派开服务器不卡么"
        },
        {
            "author": "1395195415",
            "timestamp": 1406788380,
            "txt_content": "1847291366 发表于 2014-2-16 03:31\n树莓派开服务器不卡么\n帮我发布下服务器如何"
        }
    ]
}