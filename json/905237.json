{
    "title": "[插件]怎么监听物品（武器）Lore",
    "author": "虚伪的悲催",
    "replyCount": 10,
    "timestamp": 1566228120,
    "txt_content": " 本帖最后由 虚伪的悲催 于 2019-8-20 00:52 编辑 \n\n监听副手里的物品（武器）Lore 里面是否有相关词语\n\n我很蒙蔽QAQ",
    "replies": [
        {
            "author": "Windowsredstone",
            "timestamp": 1566228540,
            "txt_content": "监听物品变更吧\n\n只监听Lore应该是不行的"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1566231060,
            "txt_content": "就是那一种,不太好说，比如SX插件\n有一行标识副手\n当拿在主手时这个武器就没有任何伤害，并提示"
        },
        {
            "author": "华南。",
            "timestamp": 1566236520,
            "txt_content": " 本帖最后由 mihu721 于 2019-8-20 01:44 编辑 \n    @EventHandler\n    public void onEntityDamageByEntity(EntityDamageByEntityEvent event) {\n        if (event.getDamager() instanceof Player) {\n            //强转玩家\n            Player player = ((Player) event.getDamager()).getPlayer();\n            //判断主手是否有物品\n            if (player.getInventory().getItemInMainHand().getType() != Material.AIR) {\n                //主手\n                ItemStack maiHand = player.getInventory().getItemInMainHand();\n                //判断是否拥有lore\n                if (maiHand.hasItemMeta() && maiHand.getItemMeta().hasLore()) {\n                    //遍历lore\n                    for (String line : maiHand.getItemMeta().getLore()) {\n                        //如果包含\n                        if (line.contains(\"副手\")) {\n                            event.setCancelled(true);\n                            player.sendMessage(\"提示\");\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n复制代码"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1566237300,
            "txt_content": "mihu721 发表于 2019-8-20 01:42\n谢谢，但是不知道为什么，物品lore上拥有“副手”，没有触发提示"
        },
        {
            "author": "华南。",
            "timestamp": 1566237480,
            "txt_content": "虚伪的悲催 发表于 2019-8-20 01:55\n谢谢，但是不知道为什么，物品lore上拥有“副手”，没有触发提示\n注册监听器没有?"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1566237780,
            "txt_content": " 本帖最后由 虚伪的悲催 于 2019-8-20 02:08 编辑 \nmihu721 发表于 2019-8-20 01:58\n注册监听器没有?\n注册了，没有触发\n\n\n\n\nimage.png (3.95 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-20 02:08 上传\n\n\n\n\n\n\n\n\n\n\nimage.png\n(4.52 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-8-20 02:02 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1566238740,
            "txt_content": "mihu721 发表于 2019-8-20 01:58\n注册监听器没有?\n\n\n\n\nimage.png (14.53 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-20 02:19 上传\n\n\n\n\n\n"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1566288480,
            "txt_content": "是要怎样的？手里拿着物品会有信息发送吗，那就PlayerHeldItemEvent"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1566561360,
            "txt_content": " 本帖最后由 虚伪的悲催 于 2019-8-23 20:04 编辑 \nmihu721 发表于 2019-8-20 01:58\n注册监听器没有?\n好了，我找到我自身问题了，谢谢"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1566578040,
            "txt_content": " 本帖最后由 虚伪的悲催 于 2019-8-24 01:22 编辑 \nMagicLocyDragon 发表于 2019-8-20 16:08\n是要怎样的？手里拿着物品会有信息发送吗，那就PlayerHeldItemEvent\n谢谢，我知道怎么做了"
        }
    ]
}