{
    "title": "怎么获取玩家的金币 Vault",
    "author": "jowi",
    "replyCount": 10,
    "timestamp": 1593179220,
    "txt_content": "如题 顺便教一下让插件更改config.yml内容的方法",
    "replies": [
        {
            "author": "南柯郡守",
            "timestamp": 1593179580,
            "txt_content": " 本帖最后由 南柯郡守 于 2020-6-26 21:55 编辑 \n\nhttps://www.mcbbs.net/thread-1067519-2-1.html\n19# 简单讲述了如何操作配置文件\n\nhttps://www.mcbbs.net/forum.php?mod=viewthread&tid=652491&page=1\n这个帖子讲了如何操作vault\n\n\n\n另 编程求助≠伸手 有问题要先讲自己的思路或者贴代码\n\n写代码最重要的是不断提升自己解决问题的能力 不是一味的简单求助"
        },
        {
            "author": "jowi",
            "timestamp": 1593181080,
            "txt_content": "南柯郡守 发表于 2020-6-26 21:53\nhttps://www.mcbbs.net/thread-1067519-2-1.html\n19# 简单讲述了如何操作配置文件\n假如要在这里添加扣除玩家金币1000\n要怎么写?\n\n\n\n\nQQ截图20200626221739.png (7.5 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-26 22:17 上传\n\n\n\n\n"
        },
        {
            "author": "落星雨",
            "timestamp": 1593181260,
            "txt_content": "先说问题，这些在 javadoc 中你都能找到答案\nVault http://milkbowl.github.io/VaultA ... conomy/Economy.html\n通过方法名你就知道哪个是获取了\nnet.milkbowl.vault.economy#getBalance(org.bukkit.OfflinePlayer player)\n\nYamlConfiguration https://bukkit.windit.net/javado ... lConfiguration.html\n它继承了 FileConfiguration 所以你可以先调用 set(java.lang.String path, java.lang.Object value)\n这是用来设置配置文件内容的\n然后你可以调用 save(java.io.File file) 将其保存到你指定的 File 对象中。\n\n其实很多东西没必要问，学会看文档可以解决你大部分 \"how to\" 的问题 \n就比如 Java 里有 javadoc 这个神奇的玩意，基本上你能做到的都在 javadoc，比如对一个 Player 进行操作，那么你可以到侧栏展开所有类，在所有类中 ctrl+F 搜 Player, 然后你就知道在 Player 身上你能干嘛了, 配置文件也同理。\n甚至如果你啥都不知道，点击最上方的索引，你能看到所有方法和类的描述和用法，在那里 ctrl+F 搜索你想要的操作的描述或者方法名。比如想知道配置文件，在汉化版的 javadoc 里，直接搜索 \"配置文件\"，就出来了 XD"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1593181320,
            "txt_content": "jowi 发表于 2020-6-26 22:18\n假如要在这里添加扣除玩家金币1000\n要怎么写?\nEconomyResponse r = econ.depositPlayer(player, money);\nif(r.transactionSuccess){\n//给钱成功\n}else {\n//给钱失败\n}"
        },
        {
            "author": "jowi",
            "timestamp": 1593181920,
            "txt_content": "南柯郡守 发表于 2020-6-26 22:22\nEconomyResponse r = econ.depositPlayer(player, money);\nif(r.transactionSuccess){\n//给钱成功\n成功学废了"
        },
        {
            "author": "jowi",
            "timestamp": 1593182220,
            "txt_content": "南柯郡守 发表于 2020-6-26 22:22\nEconomyResponse r = econ.depositPlayer(player, money);\nif(r.transactionSuccess){\n//给钱成功\n                    if(args[0].equalsIgnoreCase(\"deposit\")) {\n                              }\n\n命令格式应该是/xb deposit <金额>\n\n让玩家输入这个指令后 检测有没有这么多钱\n然后扣除 在yml添加扣除的金额 然后每天给利息这样的插件"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1593182520,
            "txt_content": "jowi 发表于 2020-6-26 22:37\nif(args[0].equalsIgnoreCase(\"deposit\")) {\n                              }\n所以你目前的思路或者代码是什么样的"
        },
        {
            "author": "jowi",
            "timestamp": 1593182880,
            "txt_content": "南柯郡守 发表于 2020-6-26 22:42\n所以你目前的思路或者代码是什么样的package www.mcxksy.com;\n\nimport java.io.File;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.configuration.file.FileConfiguration;\nimport org.bukkit.configuration.file.YamlConfiguration;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class Main extends JavaPlugin {\n        \n        File filedata = new File(this.getDataFolder(),\"balance.yml\");\n        FileConfiguration balance = YamlConfiguration.loadConfiguration(filedata);\n    \n    public void onEnable() {\n            System.out.println(\"§8[§6xKsyBank§8] §a已启动 Ver1.0.0\");\n    }\n    public void onDisable() {\n        System.out.println(\"§8[§6xKsyBank§8] §c已卸载 Ver1.0.0\");\n    }\n\n\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args){\n        if(label.equalsIgnoreCase(\"xksybankt\") || label.equalsIgnoreCase(\"xb\")) {\n                if (!sender.hasPermission(\"xksybank.use\")) {\n                        sender.sendMessage(\"§c你没有执行此操作的权限！\");\n                        return true;\n                }else {\n                    if(args.length == 0) {\n                            sender.sendMessage(\"§c>> §a/xksybank balance §6查询自己的银行存款\");\n                            sender.sendMessage(\"§c>> §a/xksybank deposit <金额> §6存钱\");\n                            sender.sendMessage(\"§c>> §a/xksybank withdrawal <金额> §6取钱\");\n                            sender.sendMessage(\"§c>> §a/xksybank interest §6查询银行存款利息\");\n                            if(sender.isOp()) {\n                                    sender.sendMessage(\"\");\n                                    sender.sendMessage(\"§c>> §a/xksybank give <玩家> <金额> §6给予玩家银行存款\");\n                                    sender.sendMessage(\"§c>> §a/xksybank take <玩家> <金额> §6设扣除玩家银行存款\"); \n                                    sender.sendMessage(\"§c>> §a/xksybank set <玩家> <金额> §6设置玩家银行存款\");\n                            }\n                            return true;\n                    }\n                    if(args[0].equalsIgnoreCase(\"balance\")) {\n                            sender.sendMessage(\"§a你银行存款余额为 §c\"+balance.getInt(\"balance.\"+sender.getName()));\n                            return true;\n                            }\n                    if(args[0].equalsIgnoreCase(\"deposit\")) {\n                            \n                    }\n                    }\n                }\n        return false;\n        }\n}复制代码"
        },
        {
            "author": "jowi",
            "timestamp": 1593182940,
            "txt_content": "南柯郡守 发表于 2020-6-26 22:42\n所以你目前的思路或者代码是什么样的\n让玩家把钱存到银行 然后每天积累利息 玩家可以随时拿出来的这种插件"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1593183300,
            "txt_content": "jowi 发表于 2020-6-26 22:49\n让玩家把钱存到银行 然后每天积累利息 玩家可以随时拿出来的这种插件\n思路不全等于功能构想\n\n例\n先实现扣除玩家的钱\n扣除成功后向先获取玩家在balance里面有多少钱 然后加上本次扣除的钱然后set回去\n\n这个叫写代码的思路\n\n至于保存 你可以每次set完成后就save一遍 或者新建一个Runnable来定时保存\n推荐实时保存 因为操作量不大 没有必要用Runnable来"
        }
    ]
}