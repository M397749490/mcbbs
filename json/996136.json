{
    "title": "（已解决）如何判断玩家手上的东西",
    "author": "MuMaple",
    "replyCount": 5,
    "timestamp": 1585059180,
    "txt_content": " 本帖最后由 MuMaple 于 2020-3-25 14:46 编辑 \n\n求助大佬，如题\n就是我监听了RightClickBlock这个事件（1.12.2版本）\n然后我想判断一下玩家手上拿着的Item是否是我想要的Item所以我写了一个\nif(ItemBase.SOUL.getDefaultInstance().equals(event.getEntityPlayer().getHeldItemMainhand()))\n但是貌似好像并不可行，虽然没有报错但是游戏里并不可行\n而且我也看了一下getHeldItemMainHand()方法是返回ItemStack，而且getDefaultInstance()这个方法也确实new了一个ItemStack对象\n所以我实在想不出来怎么判断了\n所以来求助下大佬\n谢谢了",
    "replies": [
        {
            "author": "洞穴夜莺",
            "timestamp": 1585100880,
            "txt_content": "你用的什么api\n我好像没听说过ItemBase\nForge里的吗？"
        },
        {
            "author": "ArcoWave_龙梦",
            "timestamp": 1585101240,
            "txt_content": "直接写\nif(ItemBase.SOUL.equals(event.getEntityPlayer().getHeldItemMainhand().getItem))\n不行么 你是怎么注册这个Item的？"
        },
        {
            "author": "MuMaple",
            "timestamp": 1585117920,
            "txt_content": "Billy12345 发表于 2020-3-25 09:48\n你用的什么api\n我好像没听说过ItemBase\nForge里的吗？\nItemBase是我自己的一个类，用来储存所有item的实例"
        },
        {
            "author": "MuMaple",
            "timestamp": 1585118700,
            "txt_content": "ArcoWave_龙梦 发表于 2020-3-25 09:54\n直接写\nif(ItemBase.SOUL.equals(event.getEntityPlayer().getHeldItemMainhand().getItem))\n不行么 你是怎 ...\n谢谢，解决了，照这个改了下真的OK了"
        },
        {
            "author": "ArcoWave_龙梦",
            "timestamp": 1585118880,
            "txt_content": "MuMaple 发表于 2020-3-25 14:45\n谢谢，解决了，照这个改了下真的OK了\n我觉得你开始的问题是由于\nItemStack不止包含了物品（Item），还包含了数量值\n如果玩家主手拿着 16个Soul物品的话\n传回的ItemStack 其实是一个（ItemBase.Soul， 16）\n而getDefaultInstance应该是一个（ItemBase.Soul，1）（没用过，猜的）\n自然没反应"
        }
    ]
}