{
    "title": "关于 TrMenu动态菜单崩溃的问题",
    "author": "微笑大人",
    "replyCount": 9,
    "timestamp": 1581582840,
    "txt_content": " 本帖最后由 微笑大人 于 2020-2-21 12:44 编辑 \n\n服务端启动后打开菜单会要求下载变量\n\n\n\n\nJNG1U1$N~RIIE(7V~4{6PO0.png (97.23 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-14 12:32 上传\n\n\n\n\n\n\n之后后台会提示 [22:32:36] [Craft Scheduler Thread - 25/INFO]: [PlaceholderAPI] 166 placeholder expansions are available on the cloud.\n\n然后打开菜单就会不停的刷报错\n下面这段是后台的报错\n[02:26:03] [Server thread/INFO]: \u001b[0;33;22mnull\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;30;1m[me.arasple.mc.trmenu.utils.JavaScript.run(JavaScript.java:58), me.arasple.mc.trmenu.utils.JavaScript.run(JavaScript.java:30), me.arasple.mc.trmenu.display.Item.createItemStack(Item.java:81), me.arasple.mc.trmenu.menu.Menu.setButton(Menu.java:266), me.arasple.mc.trmenu.menu.Menu.access$200(Menu.java:41), me.arasple.mc.trmenu.menu.Menu$4.run(Menu.java:259), org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftTask.run(CraftTask.java:71), org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624), java.lang.Thread.run(Thread.java:748)]\u001b[m\n[02:26:03] [Craft Scheduler Thread - 2/INFO]: \u001b[0;30;1m[\u001b[0;36;22m\u001b[21mTabooLib\u001b[0;30;1m][\u001b[m\u001b[0;36;1mINFO\u001b[0;30;1m] \u001b[0;37;1m\u001b[0;31;22mJavaScript \u001b[0;31;1m%server_online%\u001b[0;31;22m Compile Failed: \u001b[0;31;1mjavax.script.ScriptException: <eval>:1:0 Expected an operand but found %\n%server_online%\n^ in <eval> at line number 1 at column number 0\u001b[m\n[02:26:03] [Craft Scheduler Thread - 25/WARN]: [TrMenu] Plugin TrMenu v1.17 generated an exception while executing task 404\njava.lang.ClassCastException: java.util.ArrayList cannot be cast to java.lang.String\n        at java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_231]\n        at me.arasple.mc.trmenu.utils.Vars.replace(Vars.java:27) ~[?:?]\n        at me.arasple.mc.trmenu.display.Item.createItemStack(Item.java:69) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu.setButton(Menu.java:266) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu.access$200(Menu.java:41) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu$4.run(Menu.java:259) ~[?:?]\n        at org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftTask.run(CraftTask.java:71) ~[spigot.jar:git-Spigot-3fb9445-6e3cec8]\n        at org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52) [spigot.jar:git-Spigot-3fb9445-6e3cec8]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_231]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_231]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_231]\n[02:26:03] [Server thread/INFO]: \u001b[0;30;1m[\u001b[0;36;22mTr\u001b[0;36;1mMenu\u001b[0;30;1m] \u001b[0;31;1mERROR \u001b[0;30;1m| \u001b[0;31;1m表达式计算时出错: \u001b[0;32;22m%server_online%\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;33;22mnull\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;30;1m[me.arasple.mc.trmenu.utils.JavaScript.run(JavaScript.java:58), me.arasple.mc.trmenu.utils.JavaScript.run(JavaScript.java:30), me.arasple.mc.trmenu.display.Item.createItemStack(Item.java:81), me.arasple.mc.trmenu.menu.Menu.setButton(Menu.java:266), me.arasple.mc.trmenu.menu.Menu.access$200(Menu.java:41), me.arasple.mc.trmenu.menu.Menu$4.run(Menu.java:259), org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftTask.run(CraftTask.java:71), org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624), java.lang.Thread.run(Thread.java:748)]\u001b[m\n[02:26:03] [Craft Scheduler Thread - 23/INFO]: \u001b[0;30;1m[\u001b[0;36;22m\u001b[21mTabooLib\u001b[0;30;1m][\u001b[m\u001b[0;36;1mINFO\u001b[0;30;1m] \u001b[0;37;1m\u001b[0;31;22mJavaScript \u001b[0;31;1m%server_online%\u001b[0;31;22m Compile Failed: \u001b[0;31;1mjavax.script.ScriptException: <eval>:1:0 Expected an operand but found %\n%server_online%\n^ in <eval> at line number 1 at column number 0\u001b[m\n[02:26:03] [Craft Scheduler Thread - 21/INFO]: \u001b[0;30;1m[\u001b[0;36;22m\u001b[21mTabooLib\u001b[0;30;1m][\u001b[m\u001b[0;36;1mINFO\u001b[0;30;1m] \u001b[0;37;1m\u001b[0;31;22mJavaScript \u001b[0;31;1m%server_online%\u001b[0;31;22m Compile Failed: \u001b[0;31;1mjavax.script.ScriptException: <eval>:1:0 Expected an operand but found %\n%server_online%\n^ in <eval> at line number 1 at column number 0\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;30;1m[\u001b[0;36;22mTr\u001b[0;36;1mMenu\u001b[0;30;1m] \u001b[0;31;1mERROR \u001b[0;30;1m| \u001b[0;31;1m表达式计算时出错: \u001b[0;32;22m%server_online%\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;33;22mnull\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;30;1m[me.arasple.mc.trmenu.utils.JavaScript.run(JavaScript.java:58), me.arasple.mc.trmenu.utils.JavaScript.run(JavaScript.java:30), me.arasple.mc.trmenu.display.Item.createItemStack(Item.java:81), me.arasple.mc.trmenu.menu.Menu.setButton(Menu.java:266), me.arasple.mc.trmenu.menu.Menu.access$200(Menu.java:41), me.arasple.mc.trmenu.menu.Menu$4.run(Menu.java:259), org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftTask.run(CraftTask.java:71), org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624), java.lang.Thread.run(Thread.java:748)]\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;30;1m[\u001b[0;36;22mTr\u001b[0;36;1mMenu\u001b[0;30;1m] \u001b[0;31;1mERROR \u001b[0;30;1m| \u001b[0;31;1m表达式计算时出错: \u001b[0;32;22m%server_online%\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;33;22mnull\u001b[m\n[02:26:03] [Server thread/INFO]: \u001b[0;30;1m[me.arasple.mc.trmenu.utils.JavaScript.run(JavaScript.java:58), me.arasple.mc.trmenu.utils.JavaScript.run(JavaScript.java:30), me.arasple.mc.trmenu.display.Item.createItemStack(Item.java:81), me.arasple.mc.trmenu.menu.Menu.setButton(Menu.java:266), me.arasple.mc.trmenu.menu.Menu.access$200(Menu.java:41), me.arasple.mc.trmenu.menu.Menu$4.run(Menu.java:259), org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftTask.run(CraftTask.java:71), org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624), java.lang.Thread.run(Thread.java:748)]\u001b[m复制代码希望大佬帮看一下\n\n\n\n\n\n[C_[THNV]LK}{AC%7}~7I`V.png (267.08 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-13 16:35 上传\n\n\n\n\n  只有打开了菜单才会报错\n菜单的配置文件 \n\n\n\nGeRen.yml\n(16.46 KB, 下载次数: 8)\n\n\n\n2020-2-21 12:44 上传\n点击文件名下载附件\n菜单的配置文件\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "Arasple",
            "timestamp": 1581582840,
            "txt_content": "# 菜单选项（全都是可选的，无需配置）\nOptions:\n  # 本菜单强制需要以下 PlaceholderAPI 拓展，若无将自动下载\n  Depend-Expansions:\n    - ''复制代码\n\nDepend-Expansions 直接删了\n另外你有使用 %server_online% 变量，但是似乎没用安装其 PlaceholderAPI 拓展\n可以手动安装 /papi ecloud download server /papi reload"
        },
        {
            "author": "AzureHanChen",
            "timestamp": 1581583200,
            "txt_content": "看了下应该是配置的问题,\n麻烦发一下对应菜单的yml文件"
        },
        {
            "author": "微笑大人",
            "timestamp": 1581583740,
            "txt_content": "AzureHanChen 发表于 2020-2-13 16:40\n看了下应该是配置的问题,\n麻烦发一下对应菜单的yml文件\n菜单的对应配置文件已经发了 在上面"
        },
        {
            "author": "酥宁最酥啦",
            "timestamp": 1581648180,
            "txt_content": "初步判定版本过高问题引起  请更换版本"
        },
        {
            "author": "微笑大人",
            "timestamp": 1581653760,
            "txt_content": "苏宁y 发表于 2020-2-14 10:43\n初步判定版本过高问题引起  请更换版本\n我试一下"
        },
        {
            "author": "微笑大人",
            "timestamp": 1581654840,
            "txt_content": "苏宁y 发表于 2020-2-14 10:43\n初步判定版本过高问题引起  请更换版本\n换了版本还是不行"
        },
        {
            "author": "微笑大人",
            "timestamp": 1581766020,
            "txt_content": " 本帖最后由 微笑大人 于 2020-2-15 19:52 编辑 \nArasple 发表于 2020-2-15 09:46\nDepend-Expansions 直接删了\n另外你有使用 %server_online% 变量，但是似乎没用安装其 PlaceholderAPI 拓 ...\n好的我试试 还是有报错 同样是在打开菜单的时候 但是好像不影响使用[05:52:23] [Craft Scheduler Thread - 3/INFO]: [PlaceholderAPI] 179 placeholder expansions are available on the cloud.\n[05:52:25] [Craft Scheduler Thread - 9/WARN]: java.io.IOException: Server returned HTTP response code: 400 for URL: https://api.mojang.com/users/profiles/minecraft/%player_name%\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1900)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at java.net.URL.openStream(URL.java:1067)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at io.izzel.taboolib.util.Files.readFromURL(Files.java:241)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at me.arasple.mc.trmenu.utils.Skulls.lambda$getPlayerTexture$3(Skulls.java:110)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftTask.run(CraftTask.java:71)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]:         at java.lang.Thread.run(Thread.java:748)\n[05:52:25] [Craft Scheduler Thread - 9/WARN]: [TrMenu] Plugin TrMenu v1.16 generated an exception while executing task 236\njava.lang.ClassCastException: java.util.ArrayList cannot be cast to java.lang.String\n        at java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_231]\n        at me.arasple.mc.trmenu.utils.Vars.replace(Vars.java:27) ~[?:?]\n        at me.arasple.mc.trmenu.display.Item.createItemStack(Item.java:69) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu.setButton(Menu.java:262) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu.access$200(Menu.java:41) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu$4.run(Menu.java:255) ~[?:?]\n        at org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftTask.run(CraftTask.java:71) ~[spigot.jar:git-Spigot-3fb9445-6e3cec8]\n        at org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52) [spigot.jar:git-Spigot-3fb9445-6e3cec8]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_231]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_231]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_231]\n[05:52:29] [Craft Scheduler Thread - 8/WARN]: [TrMenu] Plugin TrMenu v1.16 generated an exception while executing task 236\njava.lang.ClassCastException: java.util.ArrayList cannot be cast to java.lang.String\n        at java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_231]\n        at me.arasple.mc.trmenu.utils.Vars.replace(Vars.java:27) ~[?:?]\n        at me.arasple.mc.trmenu.display.Item.createItemStack(Item.java:69) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu.setButton(Menu.java:262) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu.access$200(Menu.java:41) ~[?:?]\n        at me.arasple.mc.trmenu.menu.Menu$4.run(Menu.java:255) ~[?:?]\n        at org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftTask.run(CraftTask.java:71) ~[spigot.jar:git-Spigot-3fb9445-6e3cec8]\n        at org.bukkit.craftbukkit.v1_11_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52) [spigot.jar:git-Spigot-3fb9445-6e3cec8]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_231]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_231]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_231]\n[05:52:34] [Server thread/INFO]: bide issued server command: /vv复制代码\n"
        },
        {
            "author": "Arasple",
            "timestamp": 1581774480,
            "txt_content": "微笑大人 发表于 2020-2-15 19:27\n好的我试试 还是有报错 同样是在打开菜单的时候 但是好像不影响使用\n你菜单配置再发一下\n另外，还需要安装 Player 拓展，不然没法使用变量获取头颅"
        },
        {
            "author": "微笑大人",
            "timestamp": 1582260240,
            "txt_content": "Arasple 发表于 2020-2-15 21:48\n你菜单配置再发一下\n另外，还需要安装 Player 拓展，不然没法使用变量获取头颅 ...\n需要哪些拓展\n新的菜单配置我更新了一下"
        }
    ]
}