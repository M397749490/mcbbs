{
    "title": "会看崩溃日志的来",
    "author": "a669884",
    "replyCount": 5,
    "timestamp": 1586392260,
    "txt_content": "[08:04:36] [Server thread/ERROR] [net.minecraft.server.MinecraftServer]: Encountered an unexpected exception\nnet.minecraft.util.ReportedException: Ticking player\n at net.minecraft.server.MinecraftServer.func_71190_q(MinecraftServer.java:920) ~[MinecraftServer.class:?]\n at net.minecraft.server.dedicated.DedicatedServer.func_71190_q(DedicatedServer.java:473) ~[nz.class:?]\n at net.minecraft.server.MinecraftServer.func_71217_p(MinecraftServer.java:783) ~[MinecraftServer.class:?]\n at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:637) [MinecraftServer.class:?]\n at java.lang.Thread.run(Unknown Source) [?:1.8.0_181]\nCaused by: java.lang.NullPointerException\n at com.chocohead.gravisuite.items.ItemAdvancedDrill.getBrokenBlocks(ItemAdvancedDrill.java:123) ~[ItemAdvancedDrill.class:?]\n at com.chocohead.gravisuite.items.ItemAdvancedDrill.onBlockStartBreak(ItemAdvancedDrill.java:178) ~[ItemAdvancedDrill.class:?]\n at net.minecraft.server.management.PlayerInteractionManager.func_180237_b(PlayerInteractionManager.java:375) ~[or.class:?]\n at net.minecraft.server.management.PlayerInteractionManager.func_73075_a(PlayerInteractionManager.java:126) ~[or.class:?]\n at net.minecraft.entity.player.EntityPlayerMP.func_70071_h_(EntityPlayerMP.java:401) ~[oq.class:?]\n at net.minecraft.world.World.func_72866_a(World.java:2354) ~[amu.class:?]\n at net.minecraft.world.World.func_72870_g(World.java:2308) ~[amu.class:?]\n at net.minecraft.world.WorldServer.func_184147_l(WorldServer.java:772) ~[oo.class:?]\n at net.minecraft.world.World.func_72939_s(World.java:2017) ~[amu.class:?]\n at net.minecraft.world.WorldServer.func_72939_s(WorldServer.java:742) ~[oo.class:?]\n at net.minecraft.server.MinecraftServer.func_71190_q(MinecraftServer.java:913) ~[MinecraftServer.class:?]\n ... 4 more\n[08:04:37] [Server thread/ERROR] [net.minecraft.server.MinecraftServer]: This crash report has been saved to: C:\\Users\\Administrator\\Desktop\\服务端\\.\\crash-reports\\crash-2020-04-09_08.04.37-server.txt\n\n\n\n\n\n\ncrash-2020-04-09_08.04.37-server.txt\n(65.9 KB, 下载次数: 2)\n\n\n\n2020-4-9 08:27 上传\n点击文件名下载附件\n\n\n\n\n\n",
    "replies": [
        {
            "author": "coper",
            "timestamp": 1586392260,
            "txt_content": "java.lang.NullPointerException: Ticking player\n        at com.chocohead.gravisuite.items.ItemAdvancedDrill.getBrokenBlocks(ItemAdvancedD\n\n很明显是进阶钻头挖掘过快，服务器来不及获取被破坏的方块而崩溃\n建议ban掉进阶钻头\n\n望采纳~\n"
        },
        {
            "author": "思念化作海",
            "timestamp": 1586392320,
            "txt_content": "重力装甲模组的高级钻石钻头 3x3挖掘崩服 封禁此物品不让玩家用吧 "
        },
        {
            "author": "GiNYAi",
            "timestamp": 1586392380,
            "txt_content": " 本帖最后由 GiNYAi 于 2020-4-9 09:39 编辑 \n\ngravisuite 重力装甲（大概这么翻译）的高级电钻 \n\n空指针大概需要Mod作者来修复\n\n\n\n\n但是我写了一个小Mod来修复这个问题\n\n\n\nFixNpeGraviSuiteAdvancedDrill-1.0.jar\n(6.25 KB, 下载次数: 0)\n\n\n\n2020-4-9 09:37 上传\n点击文件名下载附件\n\n\n\n\n\n\n\nSource Code\npublic class Methods {\n    public static Collection<BlockPos> getBrokenBlocks(EntityPlayer player, RayTraceResult ray) {\n        if (ray == null) {\n            return Collections.emptyList();\n        } else {\n            return ItemAdvancedDrill.getBrokenBlocks(player, ray);\n        }\n    }\n}\n@IFMLLoadingPlugin.MCVersion(\"1.12.2\")\n@IFMLLoadingPlugin.Name(\"FixNpeGraviSuiteAdvancedDrill\")\npublic class Plugin implements IFMLLoadingPlugin {\n    public static Logger logger = LogManager.getLogger(\"FixNpeGraviSuiteAdvancedDrill\");\n\n    @Override\n    public String[] getASMTransformerClass() {\n        return new String[] {\n            \"dev.ginyai.mod.mcbbs_1012287.asm.Transformer\"\n        };\n    }\n\n    @Override\n    public String getModContainerClass() {\n        return null;\n    }\n\n    @Override\n    public String getSetupClass() {\n        return null;\n    }\n\n    @Override\n    public void injectData(Map<String, Object> data) {\n\n    }\n\n    @Override\n    public String getAccessTransformerClass() {\n        return null;\n    }\n}\npublic class Transformer implements IClassTransformer {\n    @Override\n    public byte[] transform(String name, String transformedName, byte[] basicClass) {\n        if (\"com.chocohead.gravisuite.items.ItemAdvancedDrill\".equals(transformedName)) {\n            Plugin.logger.info(\"Find target class.\");\n            ClassReader classReader = new ClassReader(basicClass);\n            ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\n            classReader.accept(new ClassVisitor(ASM5, classWriter) {\n                @Override\n                public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\n                    if (name.equals(\"onBlockStartBreak\") && \"(Lnet/minecraft/item/ItemStack;Lnet/minecraft/util/math/BlockPos;Lnet/minecraft/entity/player/EntityPlayer;)Z\".equals(desc)) {\n                        Plugin.logger.info(\"Find target method {}{}.\", name, desc);\n                        return new MethodVisitor(this.api, super.visitMethod(access, name, desc, signature, exceptions)) {\n                            @Override\n                            public void visitMethodInsn(int opcode, String owner, String name, String desc, boolean itf) {\n                                if (opcode == INVOKESTATIC && \"com/chocohead/gravisuite/items/ItemAdvancedDrill\".equals(owner) && \"getBrokenBlocks\".equals(name) && \"(Lnet/minecraft/entity/player/EntityPlayer;Lnet/minecraft/util/math/RayTraceResult;)Ljava/util/Collection;\".equals(desc)) {\n                                    Plugin.logger.info(\"Redirect target method {}.{}{} to dev/ginyai/mod/mcbbs_1012287/asm/Methods.getBrokenBlocks.\", owner, name, desc);\n                                    super.visitMethodInsn(INVOKESTATIC, \"dev/ginyai/mod/mcbbs_1012287/asm/Methods\", \"getBrokenBlocks\", \"(Lnet/minecraft/entity/player/EntityPlayer;Lnet/minecraft/util/math/RayTraceResult;)Ljava/util/Collection;\", false);\n                                } else {\n                                    super.visitMethodInsn(opcode, owner, name, desc, itf);\n                                }\n                            }\n                        };\n                    } else {\n                        return super.visitMethod(access, name, desc, signature, exceptions);\n                    }\n                }\n            }, EXPAND_FRAMES);\n            return classWriter.toByteArray();\n        } else {\n            return basicClass;\n        }\n    }\n}"
        },
        {
            "author": "a669884",
            "timestamp": 1586392440,
            "txt_content": "折叠 发表于 2020-4-9 08:32\n重力装甲模组的高级钻石钻头 3x3挖掘崩服 封禁此物品不让玩家用吧\n额不是mek嘛"
        },
        {
            "author": "思念化作海",
            "timestamp": 1586392620,
            "txt_content": "a669884 发表于 2020-4-9 08:34\n额不是mek嘛\ncom.chocohead.gravisuite.items.ItemAdvancedDrill.getBrokenBlocks\n\n重力装甲模组 高级钻石钻头 破坏方块事件"
        }
    ]
}