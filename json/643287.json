{
    "title": "[1.9+]命令方块tp式电梯",
    "author": "sfgfgh",
    "replyCount": 15,
    "timestamp": 1477096560,
    "txt_content": " 本帖最后由 sfgfgh 于 2016-10-22 16:40 编辑 \n\n前言：我们都知道有个MOD叫开放式方块（Open Blocks），里面有个电梯，今天我用命令方块还原了这个电梯的大部分\nOOC：\n\n/summon FallingSand ~ ~1 ~ {Time:1,Block:\"minecraft:redstone_block\",Passengers:[{id:\"FallingSand\",Time:1,Block:\"minecraft:activator_rail\",Passengers:[{id:\"MinecartCommandBlock\",Command:\"/setblock ~ ~ ~5 repeating_command_block 0 destroy {Command:\"/scoreboard players set @p up 0\",auto:1b}\"},{id:\"MinecartCommandBlock\",Command:\"/setblock ~1 ~ ~5 repeating_command_block 0 destroy {Command:\"/scoreboard players set @p down 0\",auto:1b}\"},{id:\"MinecartCommandBlock\",Command:\"/setblock ~ ~ ~6 repeating_command_block 3 replace {Command:\"/execute @p ~ ~ ~ detect ~ ~-1 ~ minecraft:iron_block 0 execute @p ~ ~ ~ detect ~ ~2 ~ minecraft:iron_block 0 testfor @p[score_up_min=1]\",auto:1b}\"},{id:\"MinecartCommandBlock\",Command:\"/setblock ~ ~ ~7 chain_command_block 11 replace {Command:\"/tp @p ~ ~3 ~\",auto:1b}\"},{id:\"MinecartCommandBlock\",Command:\"/setblock ~1 ~ ~7 repeating_command_block 2 replace {Command:\"/execute @p ~ ~ ~ detect ~ ~-1 ~ minecraft:iron_block 0 execute @p ~ ~ ~ detect ~ ~-4 ~ minecraft:iron_block 0 testfor @p[score_down_min=1]\",auto:1b}\"},{id:\"MinecartCommandBlock\",Command:\"/setblock ~1 ~ ~6 chain_command_block 10 replace {Command:\"/tp @p ~ ~-3 ~\",auto:1b}\"},{id:\"MinecartCommandBlock\",Command:\"/scoreboard objectives add up stat.jump\"},{id:\"MinecartCommandBlock\",Command:\"/scoreboard objectives add down stat.sneakTime\"},{id:\"MinecartCommandBlock\",Command:\"/fill ~2 ~ ~8 ~-1 ~ ~4 stained_glass 15 replace air\"},{id:\"MinecartCommandBlock\",Command:\"/fill ~2 ~1 ~8 ~-1 ~1 ~4 purpur_slab 0 replace air\"},{id:\"MinecartCommandBlock\",Command:\"/fill ~2 ~-1 ~8 ~-1 ~-1 ~4 purpur_slab 8 replace air\"},{id:\"MinecartCommandBlock\",Command:\"/setblock ~-2 ~ ~6 wall_sign 4 replace {Text1:\"{\\\\\"text\\\\\":\\\\\"销毁OOC\\\\\",\\\\\"clickEvent\\\\\":{\\\\\"action\\\\\":\\\\\"run_command\\\\\",\\\\\"value\\\\\":\\\\\"/fill ~ ~-1 ~-2 ~4 ~1 ~2 air\\\\\"}}\",Text2:\"{\\\\\"text\\\\\":\\\\\"\\\\\"}\",Text3:\"{\\\\\"text\\\\\":\\\\\"\\\\\"}\",Text4:\"{\\\\\"text\\\\\":\\\\\"\\\\\"}\"}\"},{id:\"MinecartCommandBlock\",Command:\"/tellraw @p {\"text\":\"[使用方法]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/tellraw @p {\\\\\"text\\\\\":\\\\\"电梯是铁块，上下两个铁块中间要有2个空气方块，按空格是向上，按Shift是向下\\\\\",\\\\\"color\\\\\":\\\\\"green\\\\\"}\"}}\"},{id:\"MinecartCommandBlock\",Command:\"/tellraw @p {\"text\":\"[修复bug方法]\",\"color\":\"green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/tellraw @p {\\\\\"text\\\\\":\\\\\"有时候在铁块上跳跃或者潜行没有用，那么只要重新放一下最前面的2个rcb即可，但不要改变里面的指令\\\\\",\\\\\"color\\\\\":\\\\\"green\\\\\"}}\"},{id:\"MinecartCommandBlock\",Command:\"/setblock ~ ~-1 ~ minecraft:lava 7 replace\"},{id:\"MinecartCommandBlock\",Command:\"/fill ~ ~ ~ ~ ~-3 ~ minecraft:air 0 replace\"}]}]}复制代码\n原理:\n先设置了两个计分板，一个叫up，一个叫down，up的判据是stat.jump，而down的判据则是stat.sneakTime，有两个rcb，是为了让up和down的分数始终为0，否则可能就会出现有分数的时候踩上铁块就会上或者下。然后先说电梯向上传递的方法：如果检测到玩家脚下和头顶有铁块，就检测up的分数，若大于等于1，则将玩家tp到上面的铁块上，若小于1，则不动。向下也是同理：检测到玩家脚下和脚下第4格都有铁块时，则检测down的分数，大于等于1，则tp下来，小于1，则不动\n已知bug：\n1、有时候在铁块上跳跃或者潜行没用\n解决方案：只要重新放一下最前面的2个清除up和down的rcb即可，但不要改变里面的指令\n2、电梯下降速度特别快\n解决方案：未知，望高手解答\n最后：\n本人新手一枚，这次的作品也不算特别难，转义最多也只用了3个反斜杠\n还有，看在我是新手的份上，给一点金粒和人气吧！\n补充：\n我没截图，大家看字吧！",
    "replies": [
        {
            "author": "YueHaxgu",
            "timestamp": 1477097340,
            "txt_content": "我觉得使用这条指令比电梯更快捷\ntp @p x y z"
        },
        {
            "author": "sfgfgh",
            "timestamp": 1477097520,
            "txt_content": "hurui 发表于 2016-10-22 08:49\n我觉得使用这条指令比电梯更快捷\n是的，但是电梯更好玩嘛！而且，我纯粹只是为了好玩才做的电梯，tp几乎95%的人都会"
        },
        {
            "author": "qirou",
            "timestamp": 1477101840,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "爱心魔王FHC",
            "timestamp": 1477103880,
            "txt_content": "潜行写成现行了"
        },
        {
            "author": "sfgfgh",
            "timestamp": 1477104360,
            "txt_content": "FHC红石 发表于 2016-10-22 10:38\n潜行写成现行了\n3q，我下次注意"
        },
        {
            "author": "玄素",
            "timestamp": 1477105140,
            "txt_content": "从来都不是以转义数量多少来评价作品的喂……否则写个书不是技术含量爆炸"
        },
        {
            "author": "迷失自我",
            "timestamp": 1477107780,
            "txt_content": "好歹弄个图，看看效果"
        },
        {
            "author": "Deing",
            "timestamp": 1477108020,
            "txt_content": "初看到你的标题时吓我一跳，以为有人把我想发的那种电梯发出来了\n进来一看才发现也是一个tp型电梯，看来还好，我可以继续磨洋工了233.。\n\n不过仔细一看，楼主这个电梯似乎只能上升或下降三格？为什么不改的自由化一点，由玩家决定两个铁块之间有多少格呢。"
        },
        {
            "author": "sfgfgh",
            "timestamp": 1477125180,
            "txt_content": "Deing 发表于 2016-10-22 11:47\n初看到你的标题时吓我一跳，以为有人把我想发的那种电梯发出来了\n进来一看才发现也是一个tp型电梯，看来还 ...\n是滴，这个可以自己设置，但是我好像说过，我是新手一枚，研究命令方块不是很深，所以请见谅"
        },
        {
            "author": "sfgfgh",
            "timestamp": 1477125360,
            "txt_content": "玄素 发表于 2016-10-22 10:59\n从来都不是以转义数量多少来评价作品的喂……否则写个书不是技术含量爆炸 ...\n我好像没说我的作品是以转义数量来评价的啊喂，关键是就6个命令方块还不新手？"
        },
        {
            "author": "sfgfgh",
            "timestamp": 1477125540,
            "txt_content": "迷失自我 发表于 2016-10-22 11:43\n好歹弄个图，看看效果\n懒的搞"
        },
        {
            "author": "Java_command",
            "timestamp": 1477233840,
            "txt_content": "玄素 发表于 2016-10-22 10:59\n从来都不是以转义数量多少来评价作品的喂……否则写个书不是技术含量爆炸 ...\n有些长的指令貌似转义都十几个的233……"
        },
        {
            "author": "自由之空",
            "timestamp": 1491299520,
            "txt_content": "为什么不把掉落沙或NOAI的潜影贝（Passengers）放到隐形的盔甲架上呢？\n这样直接高频tp盔甲架就好了"
        },
        {
            "author": "pca006132",
            "timestamp": 1491300300,
            "txt_content": " 本帖最后由 pca006132 于 2017-4-4 18:07 编辑 \n自由之空 发表于 2017-4-4 17:52\n为什么不把掉落沙或NOAI的潜影贝（Passengers）放到隐形的盔甲架上呢？\n这样直接高频tp盔甲架就好了 ...\n掉落沙没碰撞箱，加上潜影贝倒可以\n向上得tp玩家，不然会卡在里面\n可以看看这里: https://pca006132.neocities.org/tutorials/blacktech/block.html"
        },
        {
            "author": "自由之空",
            "timestamp": 1491405600,
            "txt_content": "pca006132 发表于 2017-4-4 18:05\n掉落沙没碰撞箱，加上潜影贝倒可以\n向上得tp玩家，不然会卡在里面\n可以看看这里: https://pca006132.neoci ...\n谢谢，可以用在跑酷或解谜上，学到了"
        }
    ]
}