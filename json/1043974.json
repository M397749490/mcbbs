{
    "title": "如何阻止一个玩家链接服务器",
    "author": "huzpsb",
    "replyCount": 6,
    "timestamp": 1589264220,
    "txt_content": "@EventHandler\n    public void onPlayerJoin(PlayerJoinEvent JoinEvent) throws Exception {\n        if (xxxxxx) {\n            p.kickPlayer(xxxxxx);\n        }\n return;\n }复制代码本来天真的我以为这样就行...\n然后发现如果打还是卡,完全起不到我希望的防御作用....\n求大佬指点正确方法,谢谢",
    "replies": [
        {
            "author": "结城希亚",
            "timestamp": 1589265060,
            "txt_content": "用AsyncPlayerPreLoginEvent事件"
        },
        {
            "author": "huzpsb",
            "timestamp": 1589265840,
            "txt_content": "结城希亚 发表于 2020-5-12 14:31\n用AsyncPlayerPreLoginEvent事件\n谢谢,我这就去试一试\n但是又请问如果不能getplayer怎么kick呢?谢谢"
        },
        {
            "author": "结城希亚",
            "timestamp": 1589265900,
            "txt_content": "huzpsb 发表于 2020-5-12 14:44\n谢谢,我这就去试一试\n但是又请问如果不能getplayer怎么kick呢?谢谢\nevent.setLoginResult(Result.KICK_BANNED)"
        },
        {
            "author": "huzpsb",
            "timestamp": 1589266620,
            "txt_content": "结城希亚 发表于 2020-5-12 14:45\nevent.setLoginResult(Result.KICK_BANNED)\n抱歉java基础不是太好...\n请问这里应该是?谢谢!\n\n\n\n\nTIM截图20200512145721.png (47.76 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-12 14:57 上传\n\n\n\n\n\n"
        },
        {
            "author": "huzpsb",
            "timestamp": 1589266620,
            "txt_content": "(本来是palyer.kick的"
        },
        {
            "author": "结城希亚",
            "timestamp": 1589266740,
            "txt_content": " 本帖最后由 结城希亚 于 2020-5-12 15:01 编辑 \nhuzpsb 发表于 2020-5-12 14:57\n抱歉java基础不是太好...\n请问这里应该是?谢谢!\n看不懂你怎么写的，我是这样\n\n @EventHandler(priority = EventPriority.HIGHEST)\n        public void Login(AsyncPlayerPreLoginEvent a) {\n                FileConfiguration config1=YamlConfiguration.loadConfiguration(file);\n                if(!(Main.time.containsKey(a.getName()))||Main.time.size()==0) {\n                        return;\n                }\n        a.setLoginResult(Result.KICK_BANNED);\n        a.setKickMessage(ChatColor.translateAlternateColorCodes('&',config1.getString(\"BanTimeMessage\").replace(\"[time]\", Main.time.get(a.getName())+\"\")));\n        }复制代码\n\n缩一下的话\n @EventHandler\n        public void Login(AsyncPlayerPreLoginEvent a) {\n                a.setLoginResult(Result.KICK_BANNED);\n        }复制代码\n\n"
        }
    ]
}