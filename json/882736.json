{
    "title": "tps不稳定   偶尔卡顿  附Timings",
    "author": "Misaka。",
    "replyCount": 11,
    "timestamp": 1562566980,
    "txt_content": "怎么说呢  服务去一般都很流畅  但是人数一但超过20以后  过一段时间就会开始卡顿  但当人数减下去  到10多人的时候  卡顿依旧存在  重启以后就又不会卡顿了  弄的我很迷  看了一下timings  大概了解了一下  也适当做出了调整  但收效甚微  可能因为我看的不够透彻吧  希望有懂行的帮忙分析一下 谢谢！\ntimings：https://timings.spigotmc.org/?url=teriyanuto  万分感谢！",
    "replies": [
        {
            "author": "mine新时代xs",
            "timestamp": 1562566980,
            "txt_content": " 本帖最后由 mine新时代xs 于 2019-7-8 17:32 编辑 \n\n这个服务器的卡顿是因为实体过多导致的，所有排在前面的tick占用都是实体\ntickEntities、tickTileEntity、entityTick、tileEntityTick、TileEntityFasterHopper、livingEntityAIMove、entityMove、livingEntityAI\n大致上是方块实体的加载、更新和实体的移动、AI造成的卡顿，还有就是漏斗\n最好的解决方法就是上面的大佬说过的轻量级实体AI抑制插件\n\n还有一些通用的优化方法\n既然你这是Spigot端，不妨看看这个教程来优化\nhttp://www.mcbbs.net/thread-774469-1-1.html\n还可以考虑一下使用优化后的启动参数\nhttp://www.mcbbs.net/thread-839828-1-1.html\n如果能加模组的话也可以考虑一下BetterFPS，刚才说了你这个有漏斗造成的卡顿，BetterFPS的快速漏斗可以修复这一问题"
        },
        {
            "author": "xmdhs",
            "timestamp": 1562567100,
            "txt_content": "试试这个，可能作用不是特别大，但还是有点效果的\nhttp://www.mcbbs.net/thread-846870-1-1.html"
        },
        {
            "author": "Misaka。",
            "timestamp": 1562567100,
            "txt_content": "对了  它建议我调整视距的问题  我这里是准备升级服务器配置来解决  请帮忙看看其他的问题"
        },
        {
            "author": "youqing123",
            "timestamp": 1562567280,
            "txt_content": "优化插件http://www.mcbbs.net/thread-603072-1-1.html\n/lr gc – LaggRemover中最好用的命令. 该指令可以清理占用内存的垃圾以提升服务器的性能.根据测试，平均使用后能够减少50%的内存占用."
        },
        {
            "author": "Misaka。",
            "timestamp": 1562568120,
            "txt_content": "youqing123 发表于 2019-7-8 14:28\n优化插件http://www.mcbbs.net/thread-603072-1-1.html\n/lr gc – LaggRemover中最好用的命令. 该指令可以 ...\n这个插件已经装了哦"
        },
        {
            "author": "Misaka。",
            "timestamp": 1562568180,
            "txt_content": "xmdhs 发表于 2019-7-8 14:25\n试试这个，可能作用不是特别大，但还是有点效果的\nhttp://www.mcbbs.net/thread-846870-1-1.html ...\n限制生物的AI吗   服务去其实有限制生物的   那我也先加上这个吧"
        },
        {
            "author": "xmdhs",
            "timestamp": 1562568600,
            "txt_content": "1637401458 发表于 2019-7-8 14:43\n限制生物的AI吗   服务去其实有限制生物的   那我也先加上这个吧\n这个对玩家的影响要小一点，效果也不错"
        },
        {
            "author": "Misaka。",
            "timestamp": 1562568780,
            "txt_content": "xmdhs 发表于 2019-7-8 14:50\n这个对玩家的影响要小一点，效果也不错\n嗯 我那个是限制生物繁殖  看起来  这个已经包含这个功能了  可以换掉\n也就是说  目前看来  服务去的卡顿是由于生物过多导致的吗？"
        },
        {
            "author": "xmdhs",
            "timestamp": 1562568960,
            "txt_content": "1637401458 发表于 2019-7-8 14:53\n嗯 我那个是限制生物繁殖  看起来  这个已经包含这个功能了  可以换掉\n也就是说  目前看来  服务去的卡顿 ...\n不是主要原因"
        },
        {
            "author": "Misaka。",
            "timestamp": 1562569800,
            "txt_content": "xmdhs 发表于 2019-7-8 14:56\n不是主要原因\n就你来看  服务去目前卡顿的主要原因是什么呢？"
        },
        {
            "author": "xmdhs",
            "timestamp": 1562570100,
            "txt_content": "1637401458 发表于 2019-7-8 15:10\n就你来看  服务去目前卡顿的主要原因是什么呢？\n      37.96%          63.40%        1,204.75 s            31.70 ms         1.0              38.0k            world - tickEntities\n\n可能性很多，mod 里面的机器，原版里面的红石漏斗，都可以导致卡服的，其他的我看不出来"
        }
    ]
}