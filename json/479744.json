{
    "title": "【1.9】官方新蓝图文件的剧透",
    "author": "乙烯_中国",
    "replyCount": 14,
    "timestamp": 1438510440,
    "txt_content": " 本帖最后由 乙烯_中国 于 2015-8-3 08:38 编辑 \n\n大家好，我是乙烯，这几天啊，技巧版因为1.9都high翻了天，我好兴奋啊，我简直不能呼吸了我也不甘心落后啊，于是对构造方块进行的一定的推测，事实证明还是有一部分猜到了，就是这个方块可以很容易布置建筑等结构，就是说相当于mce的粘贴，同时其源头，即原本的文件就储存在版本jar中，通过对其解压缩出的代码进行了分析，我们可以发现这很明显就是一份区域的结构图。\n这里3S做了一个对其进行的修改，效果不错。[1.9快照][结构方块][3S]更改默认结构可以这样简单！\n个人曾经猜测是否会加入资源包（因为其文件位置原因很容易添加），虽然目前没有定论，但是如果加入并让地图制作者利用的话的话无疑是一大好事（思考一下，以后加载资源包如果还能够修改相应地图生成的建筑，外带地图绑定资源包的特性，这就会是一种类mod的一种资源包）。那么废话不多说，开始分析。\nTAG_Compound: 5 entries\n{\n   TAG_String(\"author\"): jeb_\n   TAG_List(\"blocks\"): 8736 entries of type TAG_Compound\n   {\n.........\n\n   }\n   TAG_List(\"entities\"): 0 entries of type TAG_End\n   {\n   }\n   TAG_List(\"size\"): 3 entries of type TAG_Int\n   {\n      TAG_Int: 13\n      TAG_Int: 24\n      TAG_Int: 28\n   }\n   TAG_Int(\"version\"): 1\n}复制代码5条：author，blocks，entities，size，version\n其中我们可以看到作者是jeb_\nsize是其文件的大小，\n重点我们要讲blocks这个方块存储的单元\n这是一个方块的基本存储单元，所有的方块均以次格式存储\n      TAG_Compound: 2 entries\n      {\n         TAG_Int(\"state\"): 0\n         TAG_List(\"pos\"): 3 entries of type TAG_Int\n         {\n            TAG_Int: 0\n            TAG_Int: 0\n            TAG_Int: 0\n         }\n      }复制代码\n其中TAG_Int(\"state\"): 0代表了方块ID，这是一个空气方块，当然，其中也有一堆五位数的ID，那么这是怎么回事呢？\n例如下文出现的这个ID：“12342”\n这个数除以4096之后，得3余54，54，即余数为方块ID即为3，为损害值\nTAG_List(\"pos\"): 3 entries of type TAG_Int说明这个有三条nbt\n三个TAG_Int: 0说明这个的相对坐标\n\n当然，既然存储了nbt自然也有对应方块其他的nbt，例如下面这段\n      TAG_Compound: 3 entries\n      {\n         TAG_Int(\"state\"): 255\n         TAG_Compound(\"nbt\"): 14 entries\n         {\n            TAG_Int(\"sizeZ\"): 0\n            TAG_Int(\"posY\"): 1\n            TAG_Int(\"posX\"): 1\n            TAG_Int(\"sizeY\"): 0\n            TAG_Int(\"posZ\"): 1\n            TAG_Int(\"sizeX\"): 0\n            TAG_String(\"mode\"): DATA\n            TAG_String(\"mirror\"): NONE\n            TAG_String(\"id\"): Structure\n            TAG_String(\"author\"): jeb_\n            TAG_String(\"rotation\"): NONE\n            TAG_String(\"name\"): \n            TAG_Byte(\"ignoreEntities\"): 0\n            TAG_String(\"metadata\"): Chest\n         }复制代码\n这是一段非常有趣的代码，作者依旧是jeb，但是其id是很有趣的新方块，构造方块，我们可以看出其ID为255，其他nbt的功能这几天也是研究了不少，想想大家都不陌生，但是这里有个很有趣的事，这个DATA方块元数据那里存储的数据是chest，就是箱子，那么这个是用来放置箱子的么，显然不是，因为代码里有存储箱子的方块数据 TAG_Compound: 3 entries\n      {\n         TAG_Int(\"state\"): 12342\n         TAG_Compound(\"nbt\"): 3 entries\n         {\n            TAG_String(\"id\"): Chest\n            TAG_List(\"Items\"): 0 entries of type TAG_End\n            {\n            }\n            TAG_String(\"Lock\"): \n         }\n         TAG_List(\"pos\"): 3 entries of type TAG_Int\n         {\n            TAG_Int: 5\n            TAG_Int: 4\n            TAG_Int: 6\n         }复制代码\n但是这个箱子是一个空箱子，那么就是说，这个DATA方块的功能应该类似于blockdata，给予这个箱子一个随机的内容，而“chest”，个人认为是一个mc自带的随机池。",
    "replies": [
        {
            "author": "zhaoxingeabc",
            "timestamp": 1438510980,
            "txt_content": " 本帖最后由 zhaoxingeabc 于 2015-8-2 10:25 编辑 \n\n顺便帮LZ贴[15w31a][乙烯]有关构造方块Structure block（非彩蛋）\n看完上面的链接再来看这个能轻松一点理解\n理论上说两者没有太大关系……\n除了是同一个作者且难以理解以外真的没什么关系了……\n乙烯大大的东西依旧难懂啊"
        },
        {
            "author": "彼岸在望",
            "timestamp": 1438511640,
            "txt_content": "很高能的样子\n反正就看得半懂不懂的"
        },
        {
            "author": "BakaSullivan",
            "timestamp": 1438511700,
            "txt_content": "叼叼叼\n虽说我正版启动器开不起来\nSOXSOXSOXSOX"
        },
        {
            "author": "毒蛇",
            "timestamp": 1438512060,
            "txt_content": "突然意识到，255的话……莫非方块ID用完了？256是物品ID……还是还有几个？"
        },
        {
            "author": "obby825",
            "timestamp": 1438512480,
            "txt_content": "毒蛇 发表于 2015-8-2 18:41\n突然意识到，255的话……莫非方块ID用完了？256是物品ID……还是还有几个？\n嘛~是我误导了乙烯=。=实际上是4096"
        },
        {
            "author": "sylqiuyifeng",
            "timestamp": 1438512840,
            "txt_content": "毒蛇 发表于 2015-8-2 18:41\n突然意识到，255的话……莫非方块ID用完了？256是物品ID……还是还有几个？\n这东西用二进制看比较简单\n16位数，前4位是损害值\n后面12位是id"
        },
        {
            "author": "chyx",
            "timestamp": 1438516980,
            "txt_content": "一会用电脑后用看一下"
        },
        {
            "author": "qrbqrb4728116",
            "timestamp": 1438520160,
            "txt_content": "我是看不懂，围观围观"
        },
        {
            "author": "satgo1546",
            "timestamp": 1438523340,
            "txt_content": "TAG_List(\"entities\"): 0 entries of type TAG_End\n一眼看出LZ的NBT结构代码不是手写的。于是无耻地来求工具……"
        },
        {
            "author": "可可可可可乐",
            "timestamp": 1438532640,
            "txt_content": "毒蛇 发表于 2015-8-2 18:41\n突然意识到，255的话……莫非方块ID用完了？256是物品ID……还是还有几个？\n你可是随意声明ID=_=几千都可以【好像有限制忘了几千了】"
        },
        {
            "author": "雨霽初明",
            "timestamp": 1438540920,
            "txt_content": "虽然说看不怎么懂，不得不承认楼主厉害！"
        },
        {
            "author": "chyx",
            "timestamp": 1438547100,
            "txt_content": "整个人快崩溃了\n找了一个晚上 找不到有意思的方块 全是空气\n方块那么多 \n有时候有几个非空气也是紫方块"
        },
        {
            "author": "GrowlR",
            "timestamp": 1438553640,
            "txt_content": "楼主，你说的吾完全看不懂"
        },
        {
            "author": "xixi9090",
            "timestamp": 1438570020,
            "txt_content": "坐等1.92333333333"
        }
    ]
}