{
    "title": "如何监听其他插件通过Bukkit.dispatchCommand()发送的指令？",
    "author": "Moziyu",
    "replyCount": 3,
    "timestamp": 1558681680,
    "txt_content": " 本帖最后由 Moziyu 于 2019-5-24 15:11 编辑 \n\n在线等，感谢大佬们。",
    "replies": [
        {
            "author": "jiongjionger",
            "timestamp": 1558685160,
            "txt_content": "没办法，因为这么调用并不会触发ServerCommandEvent事件。\n当然你也可以修改服务端代码，为dispatchCommand增加额外的事件，或者使用ASM完成这种骚操作。"
        },
        {
            "author": "Moziyu",
            "timestamp": 1558943940,
            "txt_content": "jiongjionger 发表于 2019-5-24 16:06\n没办法，因为这么调用并不会触发ServerCommandEvent事件。\n当然你也可以修改服务端代码，为dispatchCommand ...\n曲线救国，想了个新的方案。\n直接注册了一个新的指令，然后让那个插件执行我注册的指令，过滤之后再发出目标指令。"
        },
        {
            "author": "1850343382",
            "timestamp": 1559293680,
            "txt_content": "Bukkit.dispatchCommand实则也是走的SimpleCommandMap,如何你不嫌麻烦的话，你可以自己把craftServer中的commandMap换成你自己的，把其中注册的命令都copy过来，代码照搬，然后在CommandMap#dispatch中做你要做的事情(以前做Bukkit命令API拓展时的办法)\n"
        }
    ]
}