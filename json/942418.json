{
    "title": "[Wiki/Tutorial] TrMenu，原创教程 & 高级菜单实例",
    "author": "Arasple",
    "replyCount": 6,
    "timestamp": 1579220220,
    "txt_content": " 本帖最后由 Arasple 于 2020-1-22 20:34 编辑 \n\n\n\nTrMenu 是新一代高级动态菜单系统，涵盖丰富的功能，跨版本支持 1.8-1.15.2\n\n\n不同于市面上绝大多数的菜单插件，TrMenu 有直观的多节点写法、智能材质匹配、在线模板和首创的菜单自动重载，极大的提高了菜单制作效率除此之外，TrMenu 还支持 动态物品、动态标题、多容器类型 等, 内置超过 23+ 种图标命令和多种参数可用，还有许多的细节、功能你都可以访问 Wiki 了解现在，已经有来自 13 个国家或地区，总计超过 100台 的服务器正在运行 TrMenu，其稳定性毋庸置疑。插件代码开源，持续在维护更新，漏洞存活期都不长已经支持无损迁入 DeluxeMenus 菜单，还等什么？！\n\n\n\n\nWiki 地址：https://trmenu.trixey.cn/中文版：https://trmenu.trixey.cn/v/chinese/bStats：https://bstats.org/plugin/bukkit/TrMenu\n\n\n\n\n本帖主要讲解一些常见问题、功能用法和菜单示例",
    "replies": [
        {
            "author": "Arasple",
            "timestamp": 1579220340,
            "txt_content": " 本帖最后由 Arasple 于 2020-1-22 20:36 编辑 \n\n\n\n商店 Shop GUI\n创建商店，这可能是最常见的需求了，下将演示如何创建最基本的商店和高级商店（媲美 ShopGUI Plus）\n\n\n\nⅠ. 简单买卖\n\n目标：仅实现最基本的买卖，左键花费金币购买物品，右键卖出物品获得金币思路：\n\n整理判断需要的变量\n（CheckItem），如 %checkitem_mat:APPLE,amt:1%（Vault），如 %vault_eco_balance%\n玩家点击按钮执行动作，首先关闭菜单，\nLeft Click 左键：\n通过表达式判断该玩家的余额是否足够，如果不够，就发送消息提示并利用动作 BREAK  中断后面的动作\n如果够，则后面的动作未被中断，即后面的动作可以直接写给予物品和扣除金币\nRight Click 右键：\n通过表达式判断该变量确定玩家是否拥有该物品，如果没有，则发送消息提示并利用动作 BREAK 中断后面的动作\n如果有物品，则后面的动作未被中断，即后面的动作可以直接写扣除物品和给予金币\n\n实例：\n    actions:\n      all: ['sound: BLOCK_NOTE_BLOCK_PLING-1-2']\n      left:\n        - 'close'\n        - 'tell: &cYou don''t have enough money_||_Break:<Requirement: %vault_eco_balance% < 100>'\n        - 'console: eco take %player_name% 100'\n        - 'console: give %player_name% apple 1'\n        - 'title: <title=&3&lSuccess><subtitle=&8[&a&l+&8] &c&lAPPLE &7* &61>'\n      right:\n        - 'close'\n        - 'tell: &cYou don''t have apples to sell_||_Break:<Requirement: \"%checkitem_mat:APPLE,amt:1%\" == \"no\">'\n        - 'console: eco give %player_name% 20'\n        - 'console: clear %player_name% apple 1'\n复制代码\n\n* 这里的中断动作 BREAK 和 提示消息 利用 _||_ 并联起来了，共享同一个条件表达式\n\n\n"
        },
        {
            "author": "Arasple",
            "timestamp": 1579220340,
            "txt_content": " 本帖最后由 Arasple 于 2020-1-28 10:07 编辑 \n目标效果\n\n每 12h 可领取一次礼包, 菜单按钮显示 可领取 和 不可领取 两种不同状态的图标\n要求动态显示还有多少 h, m, s 可领取礼包\n音效、TITLE、不灵不灵的效果\n每次领取全服通过 Actionbar 方式公告反馈\n要求领取按钮能够到处跑\n\n\n准备\n\nTrMenu 1.15LuckPerms Bukkit 5.0.70PlaceholderAPI 2.10.4\n\n需下载 LuckPerms 的 PlaceholderAPI 变量拓展 /papi ecloud download LuckPerms /papi reload\n\n实现思路\n\n这个相信大家都做过. 非常简单，优先级图标 + 临时权限，利用相关 PlaceholderAPI 变量 判断即可\n\n配置\n\nTITLE:\n- '每日礼包 DailyReward'\n- '每日礼包 DailyReward'\n- '每日礼包 DailyReward'\n- 'Made by TrMenu, with &c?'\n\nTITLE-UPDATE: 40\n\nOPEN-COMMANDS:\n- '打卡'\n- '(daily)?(-)?reward'\n\nTYPE: HOPPER\n\nBUTTONS:\n  REWARD:\n    update: 10\n    refresh: 20\n    display:\n      mats: chest minecart\n      # 调皮会跑的每日礼包\n      slots: [\n        [0],[1],\n        [2],[2],[2],[2],[2],\n        [2],[2],[2],[2],[2],\n        [2],[2],[2],[2],[2],\n        [3],[4]\n      ]\n      name: [\n        '&b&l每&3日礼包 &7Daily-Reward',\n        '&3每&b&l日&3礼包 &2Daily-Reward',\n        '&3每日&b&l礼&3包 &7Daily-Reward',\n        '&3每日礼&b&l包 &2Daily-Reward',\n        '&3每日礼包 &7Daily-Reward',\n      ]\n      lore:\n      - ''\n      - '&7每隔 &e12h &7都可以白嫖一定的奖励,'\n      - '&7还在犹豫什么? 狂点领取 !'\n      - ''\n      - '&f&o> &3点击即可白嫖'\n    actions:\n      all:\n      - 'close'\n      # 无敌二重奏\n      - 'sound: UI_TOAST_CHALLENGE_COMPLETE-1-2'\n      - 'sound: UI_TOAST_CHALLENGE_COMPLETE-1-0<delay:3>'\n      # 标记临时权限 trmenu.dailyreward.claimed, 持续 12h\n      - 'console: lp user %player_name% perm settemp trmenu.dailyreward.claimed true 12h'\n      # 报喜\n      - 'title: <TITLE=&a&l每日礼包><SUBTITLE=&3&l领取成功, 现已发放奖励>'\n      - 'actionbar: &3沙雕玩家 &a{player_name} &3居然领取了每日礼包<players>'\n      # 奖励内容 (下面可设置你自己的自定义奖励内容)\n      # ...\n    icons:\n      - condition: '\"%luckperms_expiry_time_trmenu.dailyreward.claimed%\".length > 0'\n        display:\n          mats: minecart\n          slots: [\n            [0],[1],\n            [2],[2],[2],[2],[2],\n            [2],[2],[2],[2],[2],\n            [2],[2],[2],[2],[2],\n            [3],[4]\n          ]\n          lore:\n          - ''\n          - '&7你已经 &f白嫖 &7过了,'\n          - '&7请等待冷却 ...'\n          - ''\n          - '&6&o> &c%luckperms_expiry_time_trmenu.dailyreward.claimed%'复制代码"
        },
        {
            "author": "xiaoyezi0120",
            "timestamp": 1579230120,
            "txt_content": "复活甲填一填那条河日推和恢复"
        },
        {
            "author": "xiaoyezi0120",
            "timestamp": 1579232160,
            "txt_content": "uitduiiu67"
        },
        {
            "author": "xiaoyezi0120",
            "timestamp": 1579235160,
            "txt_content": "**有图有突然怨天尤人已同意"
        },
        {
            "author": "michchan",
            "timestamp": 1597875360,
            "txt_content": "好像很不错"
        }
    ]
}