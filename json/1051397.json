{
    "title": "零基础入门Bukkit插件开发 #2 [入门篇]",
    "author": "ZeroSheep",
    "replyCount": 2,
    "timestamp": 1590215640,
    "txt_content": " 本帖最后由 ZeroSheep 于 2020-6-13 13:56 编辑 \n来自系列教程:零基础入门Bukkit插件开发[← 返回目录 ]\n\n    安装好编译器,我们现在开始搭建Bukkit环境.\n    有两种方案:     Ⅰ.直接使用idea提供的MineCraft Development插件     Ⅱ.使用导入lib的方法将服务端核心导入编译器\n    前者理解起来比较轻松,操作起来也更方便,不过只支持 Minecraft1.12+ 版本    后者虽然操作上相对麻烦,但该方法对于其他编译器同样适用,支持全版本\n    考虑到站内已有第一种方案的教程,故我们这里着重讲解后者:导入lib.\n\n| 搭建Bukkit环境\n    打开我们的idea,点击 [+ Create New Project] 创建新项目.\n\n\n\n\n\nDK8E5[SYLB27DTLLF7Q[R3K.png (45.16 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 19:29 上传\n\n\n\n\n\n\n\n\n\n\nX[Y4~EV{BKSXEH)0DN6WK4U.png (69.24 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 19:32 上传\n\n\n\n\n\n\n     选中\"Empty Project\",进入下一步.\n\n\n\n\n\n\nIDVGUC0]BOPE}V@INJ1V9B7.png (52.58 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 19:38 上传\n\n\n\n\n\n\n    随便想一个工程名,填入Project name.然后 [Finish] .\n\n\n\n\n\n\n%5P]59AHNK)XDS)H4_ZF9Q4.png (169.14 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 19:56 上传\n\n\n\n\n\n    创建完成后可能会弹出每日提示,点击 [Close] 关闭即可.\n    接下来在菜单栏选择 File > Project Structure\n\n\n\n\n\n\nS}5ZO~W{~~@I0L{U)CEB}}I.png (103.21 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 19:57 上传\n\n\n\n\n\n    在侧边栏选择Project.    SDK选择SDK1.8\n\n\n\n\n\nGAI}K1A[F(89W{)70I~(M53.png (176.57 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 19:56 上传\n\n\n\n\n       Language Level 选择 8\n\n\n\n\n\nAJ5SKF48]JIQ6W~K[$A}Z9O.png (75.1 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 19:57 上传\n\n\n\n\n\n    接着选择侧边栏上的Module,按照图片指示操作.\n\n\n\n\n\n\n2.png (55.25 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 20:50 上传\n\n\n\n\n\n    然后还是回到侧边栏,选择Libraries,按照图示操作.\n\n\n\n\n\n3.png (76.75 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 20:50 上传\n\n\n\n\n\n\n\n\n\n\n4.png (77.51 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 20:50 上传\n\n\n\n\n\n\n\n\n\n\n5.png (66.21 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-30 20:50 上传\n\n\n\n\n\n    图中的\"Demo\"是module名,以之前设置为准.\n\n    在文件浏览框内找到先前准备的服务端核心.    注意:paper端应当使用cache文件夹下的patched-xxx.jar而非原端.    如果把握不准还是建议使用spigot/craftbukkit的服务端.\n\n\n\n    至此,Bukkit环境已经搭建完成.\n\n| 认识Bukkit插件\n\n    在开发插件前不妨先了解一下什么是Bukkit插件.\n    Bukkit插件,顾名思义,即为基于BukkitAPI的Java应用.\n\n    我们使用压缩工具随便解压一个插件看看.\n\n    \n\n\n\n\n8M9D7L@W{XY~ZA]IUZJH2IX.png (94.85 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-31 09:17 上传\n\n\n\n\n\n    你可以在任何插件中找到 plugin.yml .它是插件的标识,即Bukkit找到了这个文件才会认出这是个插件并开始加载.    这是citizens2的plugin.yml.\n\n\n\n\n\nNCV8B067I@75}5~7HM%JIHO.png (54.69 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-31 09:17 上传\n\n\n\n\n\n    我们可以整理出它的架构:\nname: [*插件名] //注册的插件名,不能和其他插件冲突.\nauthors: [作者] //插件的作者,如有多个使用[,]分割\nsoftdepend: [软依赖] //插件可要可不要的依赖,如PlaceholderAPI等\ndepend: [硬依赖] //插件加载所必需的依赖,如各种前置,Lib等\nversion: [*版本号] //插件的版本号.通常为x.x.x的形式.如1.2.345\nmain: [*主类] //插件的主类位置.下面会详细讲.\nwebsite: [插件网页] //插件的官网.一般来说没啥用.\napi-version: [api版本] //如果使用sdk13则需要填写此项.我们教程使用的是sdk8,可以忽略此项.\ncommands:\n  [指令]:\n  aliases: [别名] //即/[别名]也能实现/[指令]的效果\n  description: [指令用法] //当onCommands返回true时会向玩家发送这里的文本\n复制代码\n    其中加*号的是必要的.    从而我们可以得到插件的两个要素.即 plugin.yml 与 主类 .\n\n| 类&包\n    那么问题来了,什么是类?我们不妨从 包(Package) 讲起.Java是面向对象语言,所有程序都是塞在一个个包里的.我们可以把包看作文件夹,文件夹里可以装文件夹,也可以装文件.即包里可以有包,也可以有 类(class) ,代码都塞在类中的.先来看个包名: me.zerosheep.demo ,它的意思是demo这个包在zerosheep包里,而zerosheep包又在me包里.用文件夹路径的方式来表示即为 me\\zerosheep\\demo\\ .注意,包名必须均为小写英文.bukkit在运行时会把所有插件的包放在一起,所以我们要尽量避免包名冲突.这里推荐使用自己域名反写的形式命名.假如我的域名是zerosheep.mcbbs.net,那么包名就是net.mcbbs.zerosheep.如果没有域名可以采用me.xxxx的形式,总之避免名称与其他插件重复即可.\n    回到类上.假设在 me.zerosheep.demo 包下有一个叫MyFirstPlugin的类,那么这个类名既可以是MyFirstPlugin,也可以是me.zerosheep.demo.MyFirstPlugin.取决于调用这个类的位置.举个栗子,如果人在国外,要去四'川省旅游.那么他需要说:我要去 中国.四'川 .如果人在国内就可以直接说:我要去四'川.当然在国内说 中国.四'川 也并非不可,但直接叫四'川会更方便.在Java中同样如此.类名没有过多强制性的要求,可以使用大写字母.不过你需要注意类名的首字符不能是数字或下划线(比如me.0sheep.demo),否则就会无法读取.另外,你应该养成使用驼峰命名法的习惯,MyFirstPlugin就是一个例子.\n小驼峰法 (camel方法) 变量一般用小驼峰法标识.\n    第一个单词以小写字母开始,第二个单词的首字母大写或每一个单词的首字母都采用大写字母\n    例如：myFirstName,myLastName\n\n大驼峰法（Upper Camel Case）也称为 帕斯卡命名法 (pascal方法) 常用于类名,函数名,属性,命名空间.\n 　相比小驼峰法，大驼峰法把第一个单词的首字母也大写了.\n    例如：public class DataBaseUser\n\n   Java是匹配大小写的,这意味着MYFIRSTPLUGIN不等于MyFirstPlugin,这在任何地方都应该注意.\n    如果你已清楚上面的内容,那么主类也就很好理解了.bukkit会先通过plugin.yml提供的路径(main: ...)找到主类,然后执行主类上的代码,由主类调用其他类.\n| 本章作业\n\n    1.关闭教程,自行重新搭建bukkit环境.(非常重要!以后总不可能每次都看着教程搭建吧)    2.解压几个插件,研究其架构.    3.分析: mc.plugin.demo.HomeWork 哪些是包名,哪些是类名.\n\n\n[← 上一章]                     [返回目录]                     [下一章 →]\n",
    "replies": [
        {
            "author": "apxw",
            "timestamp": 1590569640,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "ZeroSheep",
            "timestamp": 1592022360,
            "txt_content": "占楼备用"
        }
    ]
}