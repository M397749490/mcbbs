{
    "title": "求助自建的液体方块在世界中是完全透明的",
    "author": "tt36999",
    "replyCount": 0,
    "timestamp": 1541647140,
    "txt_content": " 本帖最后由 tt36999 于 2018-11-8 11:23 编辑 \n\n如题，创建了一个液体类，继承自Fluid，建立了一个BLockFluid继承自BlockFluidClassic在BlockFluid类中使用的IBlockColor和Fluid本身的Color试图改变液体在世界中的颜色\n不过似乎哪里不太对，液体在世界中完全透明了，FOrge生成的流体桶的材质是没有问题的\n部分代码如下\npublic class BlockFluidBRC extends BlockFluidClassic implements IBlockColor {\n    public BlockFluidBRC(Fluid fluid) {\n        super(fluid, Material.WATER);\n        setRegistryName(fluidName);\n        setUnlocalizedName(fluidName);\n    }\n\n    public Item createItemBlock() {\n        return new ItemBlock(this).setRegistryName(getRegistryName());\n    }\n\n    @SideOnly(Side.CLIENT)\n    public void initModel() {\n        ModelLoader.setCustomModelResourceLocation(Item.getItemFromBlock(this), 0, new ModelResourceLocation(BrewingCraft.MODID + \":\" + this.getUnlocalizedName().substring(5), \"inventory\"));\n    }\n\n    @Override\n    public int place(World world, BlockPos pos, @Nonnull FluidStack fluidStack, boolean doPlace) {\n        if (doPlace) {\n            FluidUtil.destroyBlockOnFluidPlacement(world, pos);\n            world.setBlockState(pos, this.getDefaultState(), 11);\n        }\n        return fluidStack.amount;\n    }\n\n    @Override\n    public int colorMultiplier(IBlockState state, @Nullable IBlockAccess worldIn, @Nullable BlockPos pos, int tintIndex) {\n        return definedFluid.getColor();\n    }\n}\n\npublic class FluidBRC extends Fluid {\n    public FluidBRC(String name, int color) {\n        super(name, new ResourceLocation(BrewingCraft.MODID, \"blocks/generalfluid_still\"), new ResourceLocation(BrewingCraft.MODID, \"blocks/generalfluid_flow\"));\n        setColor(color);\n    }\n}\n\n\n",
    "replies": []
}