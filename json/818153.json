{
    "title": "[DeluxeMenus] 全面教程+实战例子+头颅商店 2018.9.7更新",
    "author": "zuzhang22",
    "replyCount": 6,
    "timestamp": 1535539020,
    "txt_content": " 本帖最后由 zuzhang22 于 2018-10-2 02:58 编辑 \n\n 教程开始 DeluxeMenus菜单，下面简称DM\n原帖链接|站内搬运贴|站内原教程|站内新教程|站内WIKI\n虽然站内有很多教程，但是我为什么还要写呢\n因为，有些教程，要不就是不可以用了，要不就是不全，有些人就没办法使用了，所以我想来出个教程\n\n\n\n 第一步，创建菜单  \n方式1的创建方法：\n直接按照Config原格式整齐对照在下面\n\n方式2的创建方法：\n可以直接新建yml来编辑运用Config来创建\n\n另外创建菜单的格式:\n<b>check_updates: true\ngui_menus:\n    menu:\n        file: menu.yml</b>复制代码\n原菜单的格式（不推荐，容易坏）：\n<b>debug: false\ncheck_updates: true\ngui_menus:\n   example:\n      menu_title: '&aExample GUI menu'\n      下面就省略了</b>复制代码\n注: 按照推荐方法写的菜单保存在gui_menus文件夹内\n\n\n\n\n\n 菜单内设置介绍  GUI开头的设置，关于菜单的一些参数这一步按推荐方法来写的菜单标题:menu_title: 'TEXT' \n支持颜色代码，此元素将是项目的显示名称。您可以使用占位符和颜色/格式代码。\n打开菜单的命令:\nopen_command: TEXT\n这个命令支持中文，但是如果是英文的话，只能是一个单词支持多行，例子如下open_command:- text- text1打开菜单的需求:open_requirement: EXPRESSION方法在最下面，可不写打开菜单后执行的命令:open_commands:- '[player] 命令'                       # 以玩家身份执行命令- '[console] 命令'                     # 以控制台身份执行命令- '[commandevent] 命令'       # 执行没有注册的命令- '[message] 文本'                  # 发送消息- '[openguimenu] 菜单名称'   # 打开DM内部的菜单- '[connect] 服务器名称'          # 连接BC子服- '[json] {\"text\":\"message\"}'   # JSON消息   JSON生成器:点我- '[refresh]'                              # 刷新- '[broadcastsound] 声音'       # 全服声音- '[sound] 声音'                        # 声音- '[takemoney] #'                   # 扣除钱，部分经济插件不支持(需要Vault)- '[close]'                                 # 关闭菜单当玩家打开菜单时执行的命令，可以不填大小:size: #最大54,可以是9,18,27,36,45,54更新时间:update_interval: #这里指菜单每隔多少秒刷新一次物品:items:具体写法接下面GUI物品配置物品设置:物品的编辑:items:    'ItemName':      material: 文本      slot: #请注意'物品名称'：可以是您想要的任何内容，并且根本不会影响配置。这是你有标识符。它可以是一个简单的数字（如默认配置中），也可以是随机的字符。如果要使用数字作为名称，请确保将其包含在(单引号)中''（示例:)'1':。每个项目名称都是独一无二的！您不能在一个菜单内有两个具有相同名称的项目。名称或ID:material: 文本这里是填写物品的名称，调用的好像是1.8的物品名称，最好使用数字.比如wool:1是不能直接写在这里的，需要填写data值，下面讲到子ID:data: #这是物品的子ID就像上面的wool:1一样，需要这样写material: WOOLdata: 1数量:amount: #这里填写数量，在图标右下角的物品数量位置:slot: #位置和其他的菜单不一样，这是一种方式，并不像CC菜单使用的XY轴来表示位置，具体位置如下图优先级:priority: #在DM插件的优先级中，你可以实现同一个位置放置不同的项目，而优先级，就是用来区分这些项目的先后顺序。优先级单独使用可能没什么优点，所以要配合浏览前提限制来使用，效果更棒。优先级填写的数字越大......优先级越低。因此，如果另一个项目的优先级为2，则优先级为5的项目将不会显示，并且两个项目都将被优先级为1的项目覆盖。让玩家在点击菜单时可以使用这种方式来达到可视化，比如说用来做礼包菜单。浏览限制:view_requirement：' EXPRESSION '这个具体在下面需求栏中有介绍更新:update: BOOLEAN这个会让项目的变量刷新，这个是DM菜单变量刷新的例子旗帜:banner_meta:- <dyecolor>;<patterntype>- <dyecolor>;<patterntype>仅当物品标记设置为旗帜时，才会使用此这个元素。它允许您使用染料颜色和图案类型创建自己的图案。您可以使用多个来创建独特的设计。在这些行中使用分号（;）而不是常规冒号作为分隔符非常重要。颜色列表|点我，图案列表|点我。附魔:enchantments:- enchantmentid;level- enchantmentid;level此元素用于定义项目上的附魔。请注意，某些物品/方块不能被附魔，而其他的物品/方块只能使用某些附魔。如果您希望隐藏文本并获得效果，可以使用hide_enchantments：元素,下面有讲隐藏附魔:hide_enchantments: BOOLEAN此标记对应于附魔元素。如果设置为true，它将隐藏项目上的附魔列表。如果您希望某个项目具有附魔效果，而不是添加的烦人文本，则此选项非常有用。隐藏属性:hide_attributes: BOOLEAN此标记将隐藏项目的任何标记属性。所有工具（剑，镐子，斧，其他。）都会显示“+5 伤害”之类的东西。此标记（设置为true时）将隐藏这些内容。隐藏效果:hide_effects: BOOLEAN与hide_attributes元素非常相似，除了它适用于名称下方列有效果的药水之类的东西。当你需要药水（而不仅仅是一瓶水）时很有用，但没有添加任何文字。显示的物品名称:display_name：' 文本 '此元素将是项目的显示名称。您可以使用占位符和颜色/格式代码。LORE:lore:- '文本'- '文本'此元素设置在物品的名称下面的区域中显示的内容。您可以在此区域中使用占位符和颜色/格式代码。您可以添加尽可能多的条数，如果游戏允许。左/右键执行命令:left_click_commands:            # 或者 right_click_commands:- '[player] 命令'                       # 以玩家身份执行命令- '[console] 命令'                     # 以控制台身份执行命令- '[commandevent] 命令'       # 执行没有注册的命令- '[message] 文本'                  # 发送消息- '[openguimenu] 菜单名称'   # 打开DM内部的菜单- '[connect] 服务器名称'          # 连接BC子服- '[json] {\"text\":\"message\"}'   # JSON消息   JSON生成器:点我- '[refresh]'                              # 刷新- '[broadcastsound] 声音'       # 全服声音- '[sound] 声音'                        # 声音- '[takemoney] #'                   # 扣除钱，部分经济插件不支持(需要Vault)- '[close]'                                 # 关闭菜单特殊标签这些标签与正常标签一起用于命令，以改变命令的行为，就像延迟执行一样。（例如[message] 1秒之后<delay=20>）标签                                描述<delay=时间>              设置执行命令事件之后的延迟（以Tick为单位）。<chance=百分数>        设置运行命令的机会，以百分数来算，不需要加'%'。例子:延时例子:- '[close]'\n- '[message] 菜单关闭已过去5秒!<delay=100>'\n- '[message] 现在已经过去10秒了<delay=200>'\n几率例子:- '[message] 获得这条信息的几率是80% <chance=80.0>'\n- '[message] 获得这条信息的几率是25% <chance=25.0>'\n左/右点击要求:left_click_requirement:            # 或者 right_click_requirement:   requirements: 'EXPRESSION' # 和浏览限制一样的，不细说了  deny_commands:                     # 和上面的命令一样的，也不说了  - '[player] COMMAND'  - '[console] COMMAND'  - '[commandevent] COMMAND'  - '[message] TEXT'  - '[openguimenu] MenuName'  - '[connect] ServerName'  - '[json] {\"text\":\"message\"}'  - '[refresh]'  - '[broadcastsound] SOUND'  - '[sound] SOUND'  - '[takemoney] #'  - '[close]'\n\n\n\n\n写到这里我腰酸背痛\n\n 点击，打开，查看需求  \n<b>DM菜单的点击&浏览限制的前缀\n---------------------------------------------------------------------------------\n\nstring equals ignorecase             字符串相等忽略大小写\nhas money                            有钱\nhas permission                       有权限\nstring contains                      字符串包含\nstring equals                        字符串等于\njavascript                           JS脚本\nhas item                            有物品，适合在商店菜单用\n\n---------------------------------------------------------------------------------\n比较\n---------------------------------------------------------------------------------\n\n=                                    等于\n>                                    大于\n>=                                   大于等于\n<                                    小于\n<=                                   小于等于\n!=                                   不等于\n\n---------------------------------------------------------------------------------\n\nview_requirement: # 也可以作为点击&打开限制\n  requirements:\n    [yourRequirement]:\n      [requirement]\n\n---------------------------------------------------------------------------------\n\n---------------------------------------------------------------------------------\nDM菜单的点击&浏览限制的样式(实列，翻译上面都有，直接套用)\n---------------------------------------------------------------------------------\n\nview_requirement:\n  requirements:\n    anythinghere:\n      type: javascript\n      expression: '!\"%player_world%\".equalsIgnoreCase(\"world_nether\");'\n\nview_requirement:\n  requirements:\n    anythinghere:\n      type: string equals ignorecase\n        input: '%essentials_kit_is_available_<kitname>%'\n        output: 'yes'\n\nview_requirement:\n  requirements:\n    anythinghere:\n      type: string equals ignorecase\n        input: '%player_world%'\n        output: 'world_nether'\n\nview_requirement:\n  requirements:\n    anythinghere:\n      type: has permission\n      permission: 'some.permission'          \n\nview_requirement:\n  requirements:\n    anythinghere:\n      type: '>'\n      input: '%vault_eco_balance%'\n      output: 100\n\nview_requirement:\n  requirements:\n    anythinghere:\n      type: has permission\n      permission: your.permission.here\n      \nview_requirement:\n  requirements:\n    anythinghere:\n      type: has money\n      amount: 100\n\nview_requirement:\n  requirements:\n    anythinghere:\n      type: has item\n      material: STONE\n      data: 1\n      amount: 32\n      name: 'Example name'\n      lore:\n      - 'Example lore 1'\n      - 'Example lore 2'\n\nview_requirement:\n  requirements:\n    anythinghere:\n      type: javascript\n      expression: '%vault_eco_balance% >= 100'\n      \nview_requirement:\n  requirements:\n    anythinghere:\n      type: string contains\n      input: '%player_name%'\n      output: 'A'\n      \nview_requirement:\n  requirements:\n    anythinghere:\n      type: (=, >, >=, <, <=, !=)\n      input: '17'\n      output: '100'\n\n---------------------------------------------------------------------------------复制代码\n\n\n\n\n 实战演习(例子)  首先给大家带来礼包菜单的制作\n\n本次使用的插件\nEssentials\nPlaceHoderAPI\nDeluxeMenus\n代码如下:\nmenu_title: '&8礼包'\nopen_command:\n- 礼包\n- kit\n- kits\nsize: 9\nupdate_interval: 1\nopen_requirement:\n  requirements:\n    permission:\n      type: has permission\n      permission: essentials.kit\n      deny_commands:\n      - '[message] You dont have permission to open menu: kits'\nitems:  \n  冷却中:\n    material: 160\n    data: 4\n    slot: 4\n    priority: 1\n    update: true\n    view_requirement:\n      requirements:\n        permission:\n          type: has permission\n          permission: essentials.kits.example\n        available:\n          type: string equals ignorecase\n          input: '%essentials_kit_is_available_example%'\n          output: 'no'\n    display_name: '&e测试礼包'\n    lore:\n    - '&6* &e状态: &6没有冷却'\n    - '&6* &e在: &6%essentials_kit_time_until_available_example%之后可用'\n  可用:\n    material: 160\n    data: 5\n    slot: 4\n    priority: 2\n    view_requirement:\n      requirements:\n        permission:\n          type: has permission\n          permission: essentials.kits.example\n        available:\n          type: string equals ignorecase\n          input: '%essentials_kit_is_available_example%'\n          output: 'yes'\n    display_name: '&a测试礼包'\n    lore:\n    - '&2* &状态: &2可用'\n    - ''\n    - '&2* &a点击&2领取'\n    left_click_commands:\n    - '[player] kit example'\n    right_click_commands:\n    - '[player] kit example'\n  锁定:\n    material: 160\n    data: 14\n    slot: 4\n    priority: 3\n    display_name: '&c测试礼包'\n    lore:\n    - '&4* &c状态: &4锁定'\n复制代码图片:\n\n\n打开命令演示:\n\n\n点击提示:(有个地方没汉化,大家别在意)\n\n\nopen_requirement可以不写\n\n我来解释解释其中的道理\nopen_requirement来判断玩家是否有这个权限\n冷却中的第一个浏览限制来判断玩家是否有这个礼包的权限,第二个则是判断这个礼包是否为冷却中,如果不是,直接进行第二个优先级的检查.\n第二个优先级(可以领取)第一个查看需求来判断玩家是否有这个里堡的权限,和无法领取(冷却中是一样的道理),第二个则是判断玩家的礼包是否可以领取,如果第一个和第二个条件都不符合,那么,就跳转到第三个优先级\n\n商店和服务器传送菜单的明天写,因为那该死的图床,有上传限制....\n\n\n[fly]如果还有什么问题，欢迎私信我，或者加群294861894，喜欢的记得评个分呦~~~[/fly]\n",
    "replies": [
        {
            "author": "狗贼sama",
            "timestamp": 1535541660,
            "txt_content": "沙发 前排支持~\n\n\n\n\n滑稽.png (4.8 KB, 下载次数: 0)\n\n下载附件\n\n2018-8-29 19:21 上传\n\n\n\n\n"
        },
        {
            "author": "zuzhang22",
            "timestamp": 1535705580,
            "txt_content": "现在的人，我也是醉了"
        },
        {
            "author": "zuzhang22",
            "timestamp": 1536309420,
            "txt_content": "某些人不珍惜别人的劳动成果。。。"
        },
        {
            "author": "MC丶小说",
            "timestamp": 1542804120,
            "txt_content": "view_requirement:\n  requirements:\n    anythinghere:\n      type: has item\n      material: POTATO 【土豆】\n      amount: 32\n      name: 'Example name'\n      lore:\n      - 'Example lore 1'\n      - 'Example lore 2'\n\n为什么不对"
        },
        {
            "author": "yr69658011",
            "timestamp": 1565577900,
            "txt_content": "很良心了"
        },
        {
            "author": "fengjiale",
            "timestamp": 1585143000,
            "txt_content": "支持一下之前发的帖，顺便看下自己之前的教程"
        }
    ]
}