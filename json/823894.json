{
    "title": "Forge 1.7.10世界方块生成问题 希望能尽快回答",
    "author": "林中小屋",
    "replyCount": 2,
    "timestamp": 1539505980,
    "txt_content": "本人用forge mdk编写1.7.10mod \n\n在使用WorldGenMinable类来生成方块的时候遇到了问题——它不允许我的方块在高于地面的空气中生成\n当然，我理解这个类的初衷，毕竟minable，矿物怎么可能在空气里\n\n我的疑问是，怎么自由地来生成方块，仅根据随机坐标？我不想有这种生成环境的限制\n\n\n代码如下，本质是写在方块的类里的（其实网上都是这么写的，参数就别计较了）：\npublic void generateSurface(World world, Random random, int chunkX, int chunkZ) {\n  for (int i=0; i<=10000; i++) {\n   int randPosX = chunkX + random.nextInt(16);\n   int randPosY = random.nextInt(255) + 0;\n   int randPosZ = chunkZ + random.nextInt(16);\n   (new WorldGenMinable(<b><font color=\"lime\">BlockAssembly.foundationEssenceOre</font></b>, 2+random.nextInt(13))).generate(world, random, randPosX, randPosY, randPosZ);\n  }\n }复制代码\n另外，我对代码中标绿的地方也有疑问（不强求有人能答）：为什么无法用this代替，而只能用Block Loader里面的对象？改成this后地下全是空的。。。\n\n\n希望能尽快回答 感激不尽",
    "replies": [
        {
            "author": "林中小屋",
            "timestamp": 1539505980,
            "txt_content": "对不起，第二问指的是BlockAssembly.foundationEssenceOre 第六行"
        },
        {
            "author": "roj234",
            "timestamp": 1540630140,
            "txt_content": " 本帖最后由 roj234 于 2018-10-27 17:19 编辑 \n<p>package mi.worldgen;\n\nimport java.util.Random;\n\nimport mi.MI;\nimport mi.Registry;\n\nimport net.minecraft.util.math.BlockPos;\nimport net.minecraft.world.World;\nimport net.minecraft.world.gen.feature.WorldGenerator;\n\npublic class WorldGeneratorTest extends WorldGenerator\n{\n    @Override\n    public boolean generate(World world, Random rand, BlockPos pos)\n    {\n        MI.logger().debug(\"[MI/INFO] Oregen\");\n        for (int i = 0; i < 4; ++i) // 4: 每区块几次\n        {\n            int posX = pos.getX() + rand.nextInt(16); // Don't modify!\n            int posY = 10 + rand.nextInt(32); // y轴偏移:10层到10+32层\n            int posZ = pos.getZ() + rand.nextInt(16); // Don't modify!\n            BlockPos blockpos = new BlockPos(posX, posY, posZ);\n            world.setBlockState(blockpos, 《IBlockState格式的方块》, 2);\n            //world.scheduleUpdate(pos, this, <font style=\"background-color: rgb(255, 215, 0);\">tickRa</font>te);\n            //world.notifyNeighborsOfStateChange(pos, this, false);\n        }\n        return true;\n    }\n}</p><p>\n</p><p>效果：<img alt=\"\" src=\"http://www.mcbbs.net/forum.php?mod=image&aid=1262313&size=300x300&key=45a8362f31de48c7&nocache=yes&type=fixnone\" border=\"0\" aid=\"attachimg_1262313\"></p>复制代码\n\n\n\n\n\n2018-10-27_17.14.10.png\n(195.15 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2018-10-27 17:19 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        }
    ]
}