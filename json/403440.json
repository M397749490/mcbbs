{
    "title": "特殊开发教程-带你走进你未曾听说过的世界",
    "author": "Johnny.R",
    "replyCount": 8,
    "timestamp": 1423213080,
    "txt_content": " 本帖最后由 Johnny.R 于 2015-2-6 20:47 编辑 \n\n最近回来看开发版的编程教程……基本上很多都是重复的，而且水分不小。我就想来发一些不一样的教程。\n\n\n声明：未经允许不得转载此贴内容。使用此教程中所有资源或技巧等造成的一切后果本人不负一切责任。\n狠话放完了，接下来可以开始我们的教程了。{:10_518:}\n\n\n你听说过sunAPI包吗？你知道怎么使用吗？今天我就来讲讲，部分关于sunAPI的内容的使用。\n首先，sunAPI是仅限甲骨文提供的JDK及JRE才会有的，而且据说会在jre9移除部分功能(?)，但可以确认的是,sun.misc.Unsafe这个类在将来会加入正式API\n使用sunAPI前请确定你自己有一定的编程及信息学知识基础，有一些东西可能会造成不安全的后果，sun.misc.Unsafe是个典型的栗子\n我刚刚就讲到sunAPI是只有甲骨文提供的JVM才有的，所以还是有一定的平台限制的，在插件开发中这一缺点体现的并不显著\n\n\n在使用sunAPI包之前，请确认你的IDE设置完善，否则可能会出现编译错误，我们使用的是eclipse\n那么我就来讲讲eclipse需要先设置的东西\n首先右击你的工程，打开首选项(一般情况下在菜单的最低端，如果你看不懂英文的话)\n\n\n接下来:\n1.展开Java Compiler选项\n2.点击Errors/Warnings\n3.找到Deprecated and restricted API菜单并展开\n4.将Forbidden reference和Discouraged reference设置成Ignored或Warning，这里建议使用Warning\n\n设置完成！\n\n\n今天是第一课呢，那么我们来讲些轻松地东西。今天我讲的这个包不但不危险，还很有用，很有趣呢。\n那么到底是什么呢？\n\n\nsun.audio\n我相信英文好的童鞋一看就知道这个包是用来操作媒体的\n没错！这个包最大的功能，就是来播放音乐！\n你以后就能一边敲代码一边用IDE听音乐了23333333333333333\n\n\n我们先来看看这个包中的类清单\n\n\n\n\nQQ图片20080101053322.png (8.27 KB, 下载次数: 10)\n\n下载附件\n\n2015-2-6 16:52 上传\n\n\n\n\n\n\n\n看起来类很少嘛。\n其中有几个NativeAudioStream、AudioSecurityAction、AudioSecurityExceptionAction等使我们不需要了解的\n\n\n我们的音乐播放器是AudioPlayer和AudioDevice，他们使用起来没有太大的区别，当然实现过程中有什么区别我也不敢说，因为这个sunAPI你是几乎根本找不到他的官方DOC说明文档的……接下来是他们的方法清单\n\n\n\n\n\nQQ图片20080101053749.png (23.22 KB, 下载次数: 10)\n\n下载附件\n\n2015-2-6 16:55 上传\n\n\n\n\n\n\n看起来眼花缭乱，但是真的有用的其实没有几个。\n他们两个的区别就在于Player只可以一次播放一个数据流，而Device可以播放多个。\n注意啦！这个播放器对音乐文件格式是有要求的，目前已知的一定可以播放的是WAVE格式，即.wav后缀的媒体文件\n这个InputStream不是你随便扔个Stream进去就可以播放的\n我们需要上面的AudioStream\n\nAudioStream的使用非常方便，就像我们平时使用的IOStream一样，只要把你的InputStream作为构造函数的参数传入就可以啦。\njust like this:\nAudioStream stream = new AudioStream(yourInputStream);复制代码然后关于AudioData，这个也是用来播放音乐的媒体介质，与Stream不同，他是直接将媒体数据存储在这个对象中的\n获取它有两种途径\n1.就是直接构造，把你的媒体数据直接作为构造参数传入，类型是byte[] 字节数组\n2.通过stream获取，AudioStream中有一个方法是getData，就像这样:\nAudioData data = audioStream.getData();复制代码但是……但是播放只能用InputStream呀！QAQ\n不要担心，还有AudioDataStream这个类呢，相同地，直接把AudioData对象直接作为构造参数传入就可以创建这个对象了。\n关于ContinuousAudioDataStream的解释很简单，而且用这个类就可以做到循环洗脑辣！（雾：循环播放才对嘛233）\n\n\n不过要注意的是，如果你是文件数据流，或者是很大的媒体数据，使用getData一定会抛出IOException的，\n这里的getData的前提是数据大小不大于1024*1024，即1MB\n\n\n接下来就是一个实例：import java.io.*;\nimport sun.audio.*;\n\npublic class Player {\n  public static void main(String[] args) throws IOException\n  {\n    Player player = new Player(args[0], true); // 开启循环洗脑！\n    player.play();\n  } \n  \n  Player(String filename, boolean cycle) throws IOException\n  {\n    AudioStream as = this.as = new AudioStream(new FileInputStream(new File(filename)));\n    if(as.getLength() > 1048576) //太大啦不行啦qwq,不能洗脑啦\n      ads = as;\n    else\n      ads = cycle ? new ContinuousAudioDataStream(as.getData()) : new AudioDataStream(as.getData());\n  }\n\n  public void play()\n  {\n  AudioPlayer.player.start(ads);\n  //AudioDevice.device.openChannel(ads);也可以喔\n  }\n\n  public void close() throws IOException\n  {\n  as.close();\n  }\n\n  AudioStream as;\n\n  InputStream ads;\n}复制代码\n\n\n今天的教程就到这里了，你是不是又学到了什么新姿势呢？\n\n\n\n等等等等……我按的保存草稿怎么发布了QAQ\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "8132111",
            "timestamp": 1423213500,
            "txt_content": "{:10_510:}涨姿势了"
        },
        {
            "author": "chillax",
            "timestamp": 1434210000,
            "txt_content": "SDAFAAAAAAAAAAAAAAAAAAAA"
        },
        {
            "author": "nxldym",
            "timestamp": 1434221940,
            "txt_content": "学到新姿势了~?(^?^*)"
        },
        {
            "author": "wyhyrf123",
            "timestamp": 1434285660,
            "txt_content": "不明觉厉。。。。。"
        },
        {
            "author": "chencth",
            "timestamp": 1434358020,
            "txt_content": "看到类  就头疼"
        },
        {
            "author": "zzszzzsz",
            "timestamp": 1434448020,
            "txt_content": "表示看不懂"
        },
        {
            "author": "桃渊林",
            "timestamp": 1434770460,
            "txt_content": "这个包的确很有用，但是API文档找不到{:10_518:}"
        },
        {
            "author": "孩紫MC",
            "timestamp": 1434812100,
            "txt_content": "楼猪给我们这群渣渣上了一堂意义深刻的课 我只想说 楼猪好棒 我要把你娶回家~\\(≧▽≦)/~啦啦啦"
        }
    ]
}