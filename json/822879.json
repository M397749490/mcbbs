{
    "title": "1.13复活币系统！支持多人！麻麻再也不用担心我被打死啦",
    "author": "Sairos",
    "replyCount": 10,
    "timestamp": 1538742240,
    "txt_content": "大佬们好！\n\n1.13指令的更新可以说是真的很好了，做很多东西上方便了很多\n这次要给大家分享的是1.13版本，指令制作的复活币系统！\n\n\n效用：死后使用复活币原地复活\n实际原理：获取玩家死前x，y，z坐标并储存，使用复活币使玩家tp到死前的坐标\n\n那么教程就此开始吧\n\n首先，用到了以下五个计分板：\n获取坐标的计分板：\n/scoreboard objectives add positionx dummy\n/scoreboard objectives add positiony dummy\n/scoreboard objectives add positionz dummy复制代码记录死亡次数的计分板：\n/scoreboard objectives add death deathCount 复制代码使用复活币的计分板（在这里是雪球）：\n/scoreboard objectives add fuhuobi minecraft.used:minecraft.snowball复制代码\n\n然后用三个repeat命令方块分别获取并储存活着的玩家（death=0）的x，y，z坐标\n/execute as @a[scores={death=0}] at @s store result score @s positionx run data get entity @s Pos[0]\n/execute as @a[scores={death=0}] at @s store result score @s positiony run data get entity @s Pos[1]\n/execute as @a[scores={death=0}] at @s store result score @s positionz run data get entity @s Pos[2]复制代码\n\n用repeat命令方块初始化活着的玩家的复活币（雪球）使用值：\n/scoreboard players set @a[scores={death=0}] fuhuobi 0复制代码\n\n之后是以下命令链：\nrepeat命令方块（检测死后重生的玩家是否使用雪球）：\n/execute as @a if score @s[scores={death=1..}] fuhuobi matches 1..复制代码+比较器（当时做的时候没想那么多，就做成还有比较器这样的了）\n\n+pulse命令方块（检测使用了复活币（雪球）的玩家并召唤一个名为spawn的盔甲架）：\n/execute as @a[scores={fuhuobi=1},limit=1] run summon minecraft:armor_stand ~ ~1 ~ {CustomName:\"\"spawn\"\",CustomNameVisible:1b}复制代码\n+以下都为chain命令方块（按顺序输入）：\n/execute as @e[name=\"spawn\",type=minecraft:armor_stand] at @s store result entity @s Pos[0] double 1 run scoreboard players get @a[limit=1,scores={death=1..,fuhuobi=1..}] positionx\n/execute as @e[name=\"spawn\",type=minecraft:armor_stand] at @s store result entity @s Pos[1] double 1 run scoreboard players get @a[limit=1,scores={death=1..,fuhuobi=1..}] positiony\n/execute as @e[name=\"spawn\",type=minecraft:armor_stand] at @s store result entity @s Pos[2] double 1 run scoreboard players get @a[limit=1,scores={death=1..,fuhuobi=1..}] positionz\n/execute as @a[scores={death=1..,fuhuobi=1}] run tp @a[scores={fuhuobi=1}] @e[limit=1,name=\"spawn\"]\n/kill @e[name=spawn]\n/execute as @a[scores={fuhuobi=1}] at @s run scoreboard players set @s death 0\n/execute as @a[scores={fuhuobi=1}] at @s run scoreboard players set @s fuhuobi 0复制代码\n\n作用机理为：分别将玩家positionx，positiony，positionz计分板储存的值（也就是玩家死之前的坐标）赋予盔甲架的坐标,Pos[x,y,z]，再将玩家tp到被赋值之后的spawn盔甲架，然后做好后续处理，比如初始化计分板，清除盔甲架。（测试过两人联机使用，理论上支持多人）\n\n\n可以看出来，这个有个很明显的瑕疵，就是如果玩家死了一次没有使用复活币呢？下次再死亡，使用复活币不是复活到上上次死亡的坐标了吗？\n在这里我给出的回答是，你可以再做一个死亡后检测一定时间内玩家是否使用复活币，若没有使用则死亡次数清零，这样就避免了上述问题。\n\nDearSairoz在这里感谢大家的支持~\nQQ：1339254889\n\n\n\n\n\n\n\n20181005_193510_20181005193920.gif\n(582.11 KB, 下载次数: 1)\n\n\n\n\n下载附件\n\n\n2018-10-5 20:24 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "(=°ω°)丿",
            "timestamp": 1538811480,
            "txt_content": " 本帖最后由 Teenager_Yang 于 2018-10-6 16:24 编辑 \n\n←———— 不要听这个萌新胡说八道。\n我觉得这个系统在很多地方都可以进一步地改进，\n例如如果玩家死在地狱或者末地，你的这个系统就没用了。\n分别将玩家死之前的坐标赋予盔甲架的坐标,Pos[x,y,z]，再将玩家tp到被赋值之后的盔甲架\n还有就是被赋值之后的盔甲架可能因为坐标的关系，其所在的区块不会被游戏加载，所以也就没法将玩家tp到盔甲架。"
        },
        {
            "author": "Sairos",
            "timestamp": 1538813940,
            "txt_content": "Teenager_Yang 发表于 2018-10-6 15:38\n我觉得这个系统在很多地方都可以进一步地改进，\n例如如果玩家死在地狱或者末地，你的这个系统就没用了。\n至于区块不会被游戏加载的问题- -玩家都能死在那个地方，还会加载不出来吗，这句话是在扯皮，在不同的世界确实是无法tp的，这个我没有考虑过，但是那又有什么关系呢？我当时做这个出来只是为了我自己做RPG的时候方便用的，现在拿出来分享一下都有错了是吗？你是见不得别人好吗，其次- -我哪里胡说八道了= =既然胡说八道，那你在我之前为什么不把这样的系统做出来，反而让我一个萌新来做了。"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1538814180,
            "txt_content": "Sairos 发表于 2018-10-6 16:19\n至于区块不会被游戏加载的问题- -玩家都能死在那个地方，还会加载不出来吗，这句话是在扯皮，在不同的世 ...←———— 不要听这个萌新胡说八道。\n这个箭头指的是我自己 ……"
        },
        {
            "author": "Sairos",
            "timestamp": 1538814480,
            "txt_content": "Teenager_Yang 发表于 2018-10-6 16:23\n这个箭头指的是我自己 ……\n哦，对不起，我错了- -我道歉"
        },
        {
            "author": "moweidada",
            "timestamp": 1538852160,
            "txt_content": "大佬大佬膜拜膜拜"
        },
        {
            "author": "gkc2004",
            "timestamp": 1541214780,
            "txt_content": "我看到了罪恶的死亡计分板(不过这些都很有用呢)"
        },
        {
            "author": "无暝_Ax",
            "timestamp": 1541224380,
            "txt_content": "Sairos 发表于 2018-10-6 16:19\n至于区块不会被游戏加载的问题- -玩家都能死在那个地方，还会加载不出来吗，这句话是在扯皮，在不同的世 ...\n在不同维度是不可能传送的，要是死在地狱算倒霉"
        },
        {
            "author": "QWQQWQTAT",
            "timestamp": 1544893260,
            "txt_content": "如果死在地狱或是下界岂不是gg？"
        },
        {
            "author": "Zevn",
            "timestamp": 1544896020,
            "txt_content": "无暝_Ax 发表于 2018-11-3 13:53\n在不同维度是不可能传送的，要是死在地狱算倒霉\n现在不同维度也可以无缝tp的"
        },
        {
            "author": "12tianxun",
            "timestamp": 1590927180,
            "txt_content": "Zevn 发表于 2018-12-16 01:47\n现在不同维度也可以无缝tp的\nyes，没错"
        }
    ]
}