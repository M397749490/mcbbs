{
    "title": "[求助]【重新编辑】配置文件如何创建节点，子节点和复制",
    "author": "1216500866",
    "replyCount": 14,
    "timestamp": 1570726680,
    "txt_content": " 本帖最后由 1216500866 于 2019-10-12 04:10 编辑 \n\n\n\n\n\n%_(QJFQU8%DHC}C6FW1~[XB.png (9.86 KB, 下载次数: 0)\n\n下载附件\n\n2019-10-11 19:27 上传\n\n\n\n\n（忽略右边括号）\n1.怎么修改信息呢，set会把之前的信息直接覆盖，要是主键一样，我只想修改/额外添加 部分内容怎么实现呢？例如我想添加多个player，但每一次set不会在下面添加，而是直接把之前的覆盖了。\n2.假如我第一次加入了command 是/back，然后再下一次加入（不是一下子加入俩个命令）spawn的时候，怎么变成出现在command的第二行呢\n\n\n",
    "replies": [
        {
            "author": "咸鱼气功王",
            "timestamp": 1570755720,
            "txt_content": "我的理解是,你的players这个key已经对应a这个value了,所以和group:a是一个层级的."
        },
        {
            "author": "1216500866",
            "timestamp": 1570771020,
            "txt_content": "xiazhen3938 发表于 2019-10-11 09:02\n我的理解是,你的players这个key已经对应a这个value了,所以和group:a是一个层级的. ...\n不太懂，怎么让配置文件自动添加player1 XXX player2 XXX呢"
        },
        {
            "author": "wshycaa",
            "timestamp": 1570783260,
            "txt_content": "player:\n  abc:\n    group_a:\n    group_b:\n  xyz:\n    group_a:\n    group_b:。\n可以以玩家名为key\n\n\n"
        },
        {
            "author": "1216500866",
            "timestamp": 1570785240,
            "txt_content": "wshycaa 发表于 2019-10-11 16:41\nplayer:\n  abc:\n    group_a:\nconfig.getConfigurationSection(\"mcmd\").getKeys(true).equals(playername)\n（判断mcmd下的key（玩家名字）和该玩家名字一样）\n为什么这样取key之后，这个判断永远不为1呢，明明输出都是一样的"
        },
        {
            "author": "轻光233",
            "timestamp": 1570791180,
            "txt_content": "1216500866 发表于 2019-10-11 17:14\nconfig.getConfigurationSection(\"mcmd\").getKeys(true).equals(playername)\n（判断mcmd下的key（玩家名 ...\n你用的是equals而不是contains，所以才永远不会为1\n如果想要达到这个效果的话可以用他说的方法，将players的节点名改成玩家名\n在最上面给的图是有语法错误的，这种东西只允许在xml里出现\n你可以尝试这样的代码去在代码里往config自动添加player节点\nPlayer player = 你的玩家;\nConfigurationSection section = config.createSection(player.getName());\n//使用section变量去添加你想添加的东西复制代码"
        },
        {
            "author": "1216500866",
            "timestamp": 1570793700,
            "txt_content": "轻光233 发表于 2019-10-11 18:53\n你用的是equals而不是contains，所以才永远不会为1\n如果想要达到这个效果的话可以用他说的方法，将player ...\n它和。config.set()有什么不同吗"
        },
        {
            "author": "轻光233",
            "timestamp": 1570793880,
            "txt_content": "1216500866 发表于 2019-10-11 19:35\n它和。config.set()有什么不同吗\n这个我不太清楚，但是既然api给了createSection让我们创建节点而不是告诉我们直接用set那肯定是有他的用意的，用就vans了，如果真的想深入了解的话还是找其他dalao吧"
        },
        {
            "author": "1216500866",
            "timestamp": 1570801320,
            "txt_content": "轻光233 发表于 2019-10-11 19:38\n这个我不太清楚，但是既然api给了createSection让我们创建节点而不是告诉我们直接用set那肯定是有他的用 ...\n好的，谢谢~~~~~~"
        },
        {
            "author": "1216500866",
            "timestamp": 1570864260,
            "txt_content": "轻光233 发表于 2019-10-11 18:53\n你用的是equals而不是contains，所以才永远不会为1\n如果想要达到这个效果的话可以用他说的方法，将player ...\n还是会覆盖，我创建了A节点，然后再创建一个B节点，B节点就直接把A节点的信息覆盖了，怎么实现A B节点不覆盖创建呢？"
        },
        {
            "author": "云闪",
            "timestamp": 1570867800,
            "txt_content": " 本帖最后由 云闪 于 2019-10-12 16:12 编辑 \n1216500866 发表于 2019-10-12 15:11\n还是会覆盖，我创建了A节点，然后再创建一个B节点，B节点就直接把A节点的信息覆盖了，怎么实现A B节点不 ...config.getConfigurationSection(\"mcmd\").getKeys(true).equals(playername)\n（判断mcmd下的key（玩家名字）和该玩家名字一样）\n建议使用config.getConfigurationSection(\"mcmd.player\").getKeys(false)，可以自己输出看看差别，文档可参考https://bukkit.windit.net/javadoc/\n\n另外你应该给出你set的代码，以及你期望的结果以及实际的结果，才能方便解决问题\n\n暂且认为你是直接set(\"mcmd.player\", 新的玩家列表)，那自然是直接覆盖了\n可以选择先获取在添加然后覆盖：set(\"mcmd.player\", getList(\"mcmd.player\").add(包含玩家名节点的玩家信息))\n也可以向选择自己写入子项：set(\"mcmd.player.玩家名\", 玩家信息)\n个人推荐后者\n\n\n当然楼上说的创建节点也是没问题的，但是这个仅限于添加。覆盖可能是因为你创建的和已有节点同名"
        },
        {
            "author": "1216500866",
            "timestamp": 1570869960,
            "txt_content": "云闪 发表于 2019-10-12 16:10\n建议使用config.getConfigurationSection(\"mcmd.player\").getKeys(false)，可以自己输出看看差别，文档可 ...\n\n\n\n\nimage.png (36.32 KB, 下载次数: 0)\n\n下载附件\n\n2019-10-12 16:45 上传\n\n\n\n\n\n就每次执行都会把之前添加的覆盖了，后者的方法不是还是和之前一样吗\n"
        },
        {
            "author": "轻光233",
            "timestamp": 1570875720,
            "txt_content": "1216500866 发表于 2019-10-12 16:46\n就每次执行都会把之前添加的覆盖了，后者的方法不是还是和之前一样吗\n ...\n如果是同一个player肯定是会覆盖的\n如果想实现其他功能的话请把需求再发详细一点\n另外把这整个类的代码都贴出来，截这么一点都不知道引用的变量是什么"
        },
        {
            "author": "1216500866",
            "timestamp": 1570879380,
            "txt_content": "轻光233 发表于 2019-10-12 18:22\n如果是同一个player肯定是会覆盖的\n如果想实现其他功能的话请把需求再发详细一点\n另外把这整个类的代码都 ...\n已经搞定了，感谢大佬的帮忙"
        },
        {
            "author": "云闪",
            "timestamp": 1570879860,
            "txt_content": "1216500866 发表于 2019-10-12 16:46\n就每次执行都会把之前添加的覆盖了，后者的方法不是还是和之前一样吗\n ...\ncreateSection是有返回值的...后续的set请在返回值上操作"
        }
    ]
}