{
    "title": "Ubuntu(Linux)开服教程",
    "author": "gouj511",
    "replyCount": 99,
    "timestamp": 1513027140,
    "txt_content": " 本帖最后由 gouj511 于 2018-1-15 14:41 编辑 \n\nUbuntu(Linux)开服教程\n\n1.前言：\n为什么要选择Linux开服？\nLinux相比于Windows具有稳定性高，安全性好，资源占用小（划重点）等优点，对于有限的服务器资源，我们当然希望它能带动更多的玩家，提供更好的体验。而Ubuntu则是一款基于Linux的系统，并且在各大云平台上都可以找到，本教程将介绍搭建基于Ubuntu的我的世界服务端。当然若是你用其他Linux发行版，也是可以看看本教程的。服务端的选择？\n参考本版jiongjionger的教程Minecraft服务器优化教程 —— 让多带50%的玩家不再是梦，个人比较推荐spigot或者paperspigot.\n各版服务端下载地址：Yive's Mirror\n\n2.准备工作：\n一个合适的主机，推荐安装Ubuntu14.04，配置依你想带动的人数而定（2核2G，3M宽带优化下可以带动30人）\n一个支持SSH的终端模拟软件，推荐Xshell5。\n一个文件传输软件，推荐Xftp。\nP.S.下载地址：\n\n3.连接服务器：\n注意：linux中CTRL+C为杀死进程，CTRL+Z为将进程放到后台运行，所以别用快捷键进行复制等操作，复制粘贴请在Xshell里使用右键完成\n①进入Xshell，选择新建，在名称处填入你想为你的服务器起的名字，主机处填写服务器IP或者域名，端口号如服务器商家未专门说明，默认为22，然后点击确定。\n\n\n\n②选择你的服务器，点击连接\n\n\n\n在弹出的安全警告中选择“接受并保存”\n\n\n\n③输入用户名（默认为root），密码（一般在开通服务器的时候会设置）后登陆成功。\n\n\n\n4.为服务端添加一个用户\n\nP.S.:使用root账户直接开服我个人是不推荐的，所以这里给出新增用户的方法。\n①输入adduser minecraft\n\n\n\n②输入密码，然后再确认输入密码\n\n\n\n③填写账户信息，直接回车跳过就好，然后系统会让你确认一下，输入Y回车即可\n\n\n\n④将新建的账户添加到sudo list：\n复制该命令，并按回车执行即可\necho \"minecraft ALL=(ALL) NOPASSWD: ALL\" >> /etc/sudoers复制代码\n\n\n\n\n⑤好了，现在切换到新的用户来开始服务器的搭建：\n按CTRL+D结束连接，然后按3-②的步骤，用minecraft账户登陆服务器。\n\n\n5.安装相关软件：①升级库：sudo apt-get update -y\n②安装Java：sudo apt-get install -y openjdk-8-jre\n③安装screen (部分服务器内置)：sudo apt-get install -y screen\n④安装文本编辑器nano (部分服务器内置)：sudo apt-get install -y nano\n⑤安装下载工具curl (部分服务器内置)：sudo apt-get install -y curl\n6.下载服务器核心：\n不管你想开什么服，服务器核心都是最重要的，我们可以在Yive's Mirror下载到需要的端。\n\n①进入网站，在\"Download\" 下选择你想要下载的端，点击进入\n\n\n\n\n②选择合适的版本，（以spigot端为例，里面的40M的文件才是正确的端。）点击右侧的Download\n\n\n\n\n\n③右键该文件名，选择复制链接地址。\n\n\n\n\n\n④进入Xshell，输入命令，下载链接处用你复制的网址右键粘贴过去就好了\ncurl -o server.jar 下载链接复制代码按回车，等待下载完成\n\n\n\n\n\n下载完成后，输入命令 ls 查看当前目录，可以看到已经下载完成的端。\n\n\n\n7.运行服务端\n①在Xshell内输入命令，第一次运行服务端，服务端很快会自动退出，这是我们需要改一下eula文件，同意用户许可协议java -jar server.jar复制代码\n\n\n\n②同意用户许可协议，输入代码，按回车执行\necho 'eula=true' > eula.txt复制代码③再次输入，开启服务器，这一次服务器会生成地图等，耗时会略久。java -jar server.jar复制代码\n\n\n\n\n\n④加载完成后输入 stop 关闭服务器。再次输入 ls 可以看到目录下已经有完整的配置文件了。\n\n\n\n8.配置服务器参数:\n如何在Ubuntu环境里配置文件\n这里讲一下怎么在Ubuntu下配置参数，可用nano，vim，Xftp等方式改\n①以nano 为例，在服务器里输入 nano 文件名（文件名可以只输入前几个字母，然后按TAB补全）按回车进入编辑\n\n\n\n\n用方向键控制光标位置，更改完成后按CTRL+X，软件会询问你是否保存，按Y再按回车确认，或者按N取消保存\n②使用Xftp更改（图形界面，直观）\n在Xshell下按CTRL+ALT+F打开Xftp\n在右边找到要配置的文件，右键点击，选择“以记事本编辑”即可打开记事本对配置文件进行编辑，编辑完成后保存关闭，在服务器上的配置文件就完成了编辑。\nP.S.如果想用其他的文本编辑器，如Notepad++，也是可以的\n选择 工具——选项——高级\n\n\n\n\n\n取消\"将记事本用作文本编辑器\"的复选框，在编辑器路径处找到你的编辑器应用，点击确定即可\n\n\n\n\n③直接将文件传回本地，修改完成后再上传覆盖即可\n下面是服务器的几个配置文件，如果不想细看，可以直接使用懒人福利哦。当然，除server.properties外，其余文件的配置与否影响的只是服务器优化，可以视情况决定更改。\nserver.properties:此文件下需要注意配置的项目为：\n\n属性备注server-port服务器端口，默认25565，视需求决定是否更改force-gamemode玩家进入时是否强制更改其游戏模式network-compression-threshold设置得较低可以节约网络资源，较高可以节约性能\n默认256，推荐在64-512内white-list是否启用白名单(注:将从whitelist.json加载白名单) online-mode是否开启在线验证，即盗版玩家是否可以登录resource-pack是否使用服务器资源包，需填入URL链接pvp是否允许PVPdifficulty服务器的难度(0-和平,1-简单,2-普通,3-困难)enable-command-block是否允许使用命令方块gamemode默认游戏模式(0-生存,1-创造,2-冒险)max-players同时在线的最大人数generate-structures是否生成结构，即村庄，女巫小屋等view-distance传递给玩家的视距，调小此值可显著降低资源占用默认是10，推荐调到6P.S.如果想做刷怪塔类建筑，8可能更为合适bukkit.yml此文件下需要注意配置的项目为：\n属性备注shutdown-message服务器关闭时的提示信息spawn-limits可简单理解为每玩家允许生物数默认：monsters:70, animals:15, water-animals:5, ambient:15建议：monsters:50, animals:10, water-animals:3, ambient:4\nchunk-gc区块回收默认: period-in-ticks:600, load-threshold:0建议：period-in-ticks:300, load-threshold:300ticks-per服务器尝试生成怪物的频率（参数越高，怪物生成越少）默认: 1建议：1-5spigot.yml\n此文件下需要注意配置的项目为：\n\n属性备注 message可以自定义服务器的一些提示信息 mob-spawn-range怪物生成的范围半径，默认: 4，推荐: 3 entity-activation-range实体的交互频率\n默认: animals:32, monsters:32, misc:16\n建议: animals:8, monsters:16, misc:8 max-tick-time默认：tile:50, entity:50\n建议：tile:10, entity:20 merge-radius物品合并的范围\n默认: item:2.5, exp:3.0\n建议: item:3.5, exp:6.0 view-distance视距，和server.properties设置一致懒人福利：粘贴代码并运行即可直接生成楼主的配置文件\n\nserver.properties:40人在线，困难模式，关闭在线验证，视距6，偏向节约宽带资源base64 -di > ./server.properties <<< 'I01pbmVjcmFmdCBzZXJ2ZXIgcHJvcGVydGllcwpnZW5lcmF0b3Itc2V0dGluZ3M9CnVzZS1uYXRpdmUtdHJhbnNwb3J0PXRydWUKb3AtcGVybWlzc2lvbi1sZXZlbD00CmFsbG93LW5ldGhlcj10cnVlCmxldmVsLW5hbWU9d29ybGQKZW5hYmxlLXF1ZXJ5PWZhbHNlCmFsbG93LWZsaWdodD1mYWxzZQpwcmV2ZW50LXByb3h5LWNvbm5lY3Rpb25zPWZhbHNlCnNlcnZlci1wb3J0PTI1NTY1Cm1heC13b3JsZC1zaXplPTI5OTk5OTg0CmxldmVsLXR5cGU9REVGQVVMVAplbmFibGUtcmNvbj1mYWxzZQpsZXZlbC1zZWVkPQpmb3JjZS1nYW1lbW9kZT1mYWxzZQpzZXJ2ZXItaXA9Cm5ldHdvcmstY29tcHJlc3Npb24tdGhyZXNob2xkPTEyOAptYXgtYnVpbGQtaGVpZ2h0PTI1NgpzcGF3bi1ucGNzPXRydWUKd2hpdGUtbGlzdD1mYWxzZQpzcGF3bi1hbmltYWxzPXRydWUKaGFyZGNvcmU9ZmFsc2UKc25vb3Blci1lbmFibGVkPXRydWUKcmVzb3VyY2UtcGFjay1zaGExPQpvbmxpbmUtbW9kZT1mYWxzZQpyZXNvdXJjZS1wYWNrPQpwdnA9dHJ1ZQpkaWZmaWN1bHR5PTMKZW5hYmxlLWNvbW1hbmQtYmxvY2s9dHJ1ZQpnYW1lbW9kZT0wCnBsYXllci1pZGxlLXRpbWVvdXQ9MAptYXgtcGxheWVycz00MApzcGF3bi1tb25zdGVycz10cnVlCmdlbmVyYXRlLXN0cnVjdHVyZXM9dHJ1ZQp2aWV3LWRpc3RhbmNlPTYKbW90ZD1BIE1pbmVjcmFmdCBTZXJ2ZXI='复制代码\nbukkit.yml:按推荐写的base64 -di > ./bukkit.yml <<< 'c2V0dGluZ3M6CiAgYWxsb3ctZW5kOiB0cnVlCiAgd2Fybi1vbi1vdmVybG9hZDogdHJ1ZQogIHBlcm1pc3Npb25zLWZpbGU6IHBlcm1pc3Npb25zLnltbAogIHVwZGF0ZS1mb2xkZXI6IHVwZGF0ZQogIHBsdWdpbi1wcm9maWxpbmc6IGZhbHNlCiAgY29ubmVjdGlvbi10aHJvdHRsZTogNDAwMAogIHF1ZXJ5LXBsdWdpbnM6IHRydWUKICBkZXByZWNhdGVkLXZlcmJvc2U6IGRlZmF1bHQKICBzaHV0ZG93bi1tZXNzYWdlOiBTZXJ2ZXIgY2xvc2VkCnNwYXduLWxpbWl0czoKICBtb25zdGVyczogNTAKICBhbmltYWxzOiAxMAogIHdhdGVyLWFuaW1hbHM6IDMKICBhbWJpZW50OiA0CmNodW5rLWdjOgogIHBlcmlvZC1pbi10aWNrczogMzAwCiAgbG9hZC10aHJlc2hvbGQ6IDMwMAp0aWNrcy1wZXI6CiAgYW5pbWFsLXNwYXduczogNDAwCiAgbW9uc3Rlci1zcGF3bnM6IDEKICBhdXRvc2F2ZTogNjAwMAphbGlhc2VzOiBub3ctaW4tY29tbWFuZHMueW1s'复制代码\nspigot.yml:按推荐写的base64 -di > ./spigot.yml <<< 'IyBUaGlzIGlzIHRoZSBtYWluIGNvbmZpZ3VyYXRpb24gZmlsZSBmb3IgU3BpZ290LgojIEFzIHlvdSBjYW4gc2VlLCB0aGVyZSdzIHRvbnMgdG8gY29uZmlndXJlLiBTb21lIG9wdGlvbnMgbWF5IGltcGFjdCBnYW1lcGxheSwgc28gdXNlCiMgd2l0aCBjYXV0aW9uLCBhbmQgbWFrZSBzdXJlIHlvdSBrbm93IHdoYXQgZWFjaCBvcHRpb24gZG9lcyBiZWZvcmUgY29uZmlnd**bmcuCiMgRm9yIGEgcmVmZXJlbmNlIGZvciBhbnkgdmFyaWFibGUgaW5zaWRlIHRoaXMgZmlsZSwgY2hlY2sgb3V0IHRoZSBTcGlnb3Qgd2lraSBhdAojIGh0dHA6Ly93d3cuc3BpZ290bWMub3JnL3dpa2kvc3BpZ290LWNvbmZpZ3VyYXRpb24vCiMgCiMgSWYgeW91IG5lZWQgaGVscCB3aXRoIHRoZSBjb25maWd1cmF0aW9uIG9yIGhhdmUgYW55IHF1ZXN0aW9ucyByZWxhdGVkIHRvIFNwaWdvdCwKIyBqb2luIHVzIGF0IHRoZSBJUkMgb3IgZHJvcCBieSBvdXIgZm9ydW1zIGFuZCBsZWF2ZSBhIHBvc3QuCiMgCiMgSVJDOiAjc3BpZ290IEAgaXJjLnNwaS5ndCAoIGh0dHA6Ly93d3cuc3BpZ290bWMub3JnL3BhZ2VzL2lyYy8gKQojIEZvcnVtczogaHR0cDovL3d3dy5zcGlnb3RtYy5vcmcvCgpjb25maWctdmVyc2lvbjogMTEKc2V0dGluZ3M6CiAgc2F2ZS11c2VyLWNhY2hlLW9uLXN0b3Atb25seTogdHJ1ZQogIGJ1bmdlZWNvcmQ6IGZhbHNlCiAgbGF0ZS1iaW5kOiBmYWxzZQogIHNhbXBsZS1jb3VudDogMTIKICBwbGF5ZXItc2h1ZmZsZTogMAogIGZpbHRlci1jcmVhdGl2ZS1pdGVtczogdHJ1ZQogIHVzZXItY2FjaGUtc2l6ZTogMTAwMAogIGludC1jYWNoZS1saW1pdDogMTAyNAogIG1vdmVkLXdyb25nbHktdGhyZXNob2xkOiAwLjA2MjUKICBtb3ZlZC10b28tcXVpY2tseS1tdWx0aXBsaWVyOiAxMC4wCiAgaXRlbS1kaXJ0eS10aWNrczogMjAKICB0aW1lb3V0LXRpbWU6IDYwCiAgcmVzdGFydC1vbi1jcmFzaDogdHJ1ZQogIHJlc3RhcnQtc2NyaXB0OiAuL3N0YXJ0LnNoCiAgbmV0dHktdGhyZWFkczogNAogIGF0dHJpYnV0ZToKICAgIG1heEhlYWx0aDoKICAgICAgbWF4OiAyMDQ4LjAKICAgIG1vdmVtZW50U3BlZWQ6CiAgICAgIG1heDogMjA0OC4wCiAgICBhdHRhY2tEYW1hZ2U6CiAgICAgIG1heDogMjA0OC4wCiAgZGVidWc6IGZhbHNlCmNvbW1hbmRzOgogIHRhYi1jb21wbGV0ZTogMAogIGxvZzogdHJ1ZQogIHNwYW0tZXhjbHVzaW9uczoKICAtIC9za2lsbAogIHNpbGVudC1jb21tYW5kYmxvY2stY29uc29sZTogZmFsc2UKICByZXBsYWNlLWNvbW1hbmRzOgogIC0gc2V0YmxvY2sKICAtIHN1bW1vbgogIC0gdGVzdGZvcmJsb2NrCiAgLSB0ZWxscmF3Cm1lc3NhZ2VzOgogIHdoaXRlbGlzdDog5oKo5LiN5Zyo5pyN5Yqh5Zmo55qE55m95ZCN5Y2V5YaF77yBCiAgdW5rbm93bi1jb21tYW5kOiDmnKrnn6Xlkb3ku6QuIOivt+i+k+WFpSIvaGVscCLlr7vmsYLluK7liqnvvIEKICBzZXJ2ZXItZnVsbDog5pyN5Yqh5Zmo5bey5ruh77yBCiAgb3V0ZGF0ZWQtY2xpZW50OiDlrqLmiLfnq6/niYjmnKzov4fkvY7vvIzor7fljYfnuqfliLB7MH3vvIEKICBvdXRkYXRlZC1zZXJ2ZXI6IOacjeWKoeWZqOeJiOacrOS4unswfe+8jOaCqOeahOeJiOacrOi/h+mrmO+8gQogIHJlc3RhcnQ6IOacjeWKoeWZqOato+WcqOmHjeWQr++8gQphZHZhbmNlbWVudHM6CiAgZGlzYWJsZS1zYXZpbmc6IGZhbHNlCiAgZGlzYWJsZWQ6CiAgLSBtaW5lY3JhZnQ6c3RvcnkvZGlzYWJsZWQKc3RhdHM6CiAgZGlzYWJsZS1zYXZpbmc6IGZhbHNlCiAgZm9yY2VkLXN0YXRzOiB7fQp3b3JsZC1zZXR0aW5nczoKICBkZWZhdWx0OgogICAgdmVyYm9zZTogdHJ1ZQogICAgbW9iLXNwYXduLXJhbmdlOiAzCiAgICBncm93dGg6CiAgICAgIGNhY3R1cy1tb2RpZmllcjogMTAwCiAgICAgIGNhbmUtbW9kaWZpZXI6IDEwMAogICAgICBtZWxvbi1tb2RpZmllcjogMTAwCiAgICAgIG11c2hyb29tLW1vZGlmaWVyOiAxMDAKICAgICAgcHVtcGtpbi1tb2RpZmllcjogMTAwCiAgICAgIHNhcGxpbmctbW9kaWZpZXI6IDEwMAogICAgICB3aGVhdC1tb2RpZmllcjogMTAwCiAgICAgIG5ldGhlcndhcnQtbW9kaWZpZXI6IDEwMAogICAgICB2aW5lLW1vZGlmaWVyOiAxMDAKICAgICAgY29jb2EtbW9kaWZpZXI6IDEwMAogICAgZW50aXR5LWFjdGl2YXRpb24tcmFuZ2U6CiAgICAgIGFuaW1hbHM6IDgKICAgICAgbW9uc3RlcnM6IDE2CiAgICAgIG1pc2M6IDgKICAgIGVudGl0eS10cmFja2luZy1yYW5nZToKICAgICAgcGxheWVyczogNDgKICAgICAgYW5pbWFsczogNDgKICAgICAgbW9uc3RlcnM6IDQ4CiAgICAgIG1pc2M6IDMyCiAgICAgIG90aGVyOiA2NAogICAgdGlja3MtcGVyOgogICAgICBob3BwZXItdHJhbnNmZXI6IDgKICAgICAgaG9wcGVyLWNoZWNrOiAxCiAgICBob3BwZXItYW1vdW50OiAxCiAgICByYW5kb20tbGlnaHQtdXBkYXRlczogZmFsc2UKICAgIHNhdmUtc3RydWN0dXJlLWluZm86IHRydWUKICAgIGRyYWdvbi1kZWF0aC1zb3VuZC1yYWRpdXM6IDAKICAgIHNlZWQtdmlsbGFnZTogMTAzODczMTIKICAgIHNlZWQtZmVhdHVyZTogMTQzNTc2MTcKICAgIHNlZWQtbW9udW1lbnQ6IDEwMzg3MzEzCiAgICBzZWVkLXNsaW1lOiA5ODcyMzQ5MTEKICAgIGh1bmdlcjoKICAgICAganVtcC13YWxrLWV4aGF1c3Rpb246IDAuMDUKICAgICAganVtcC1zcHJpbnQtZXhoYXVzdGlvbjogMC4yCiAgICAgIGNvbWJhdC1leGhhdXN0aW9uOiAwLjEKICAgICAgcmVnZW4tZXhoYXVzdGlvbjogNi4wCiAgICAgIHN3aW0tbXVsdGlwbGllcjogMC4wMQogICAgICBzcHJpbnQtbXVsdGlwbGllcjogMC4xCiAgICAgIG90aGVyLW11bHRpcGxpZXI6IDAuMAogICAgbWF4LXRudC1wZXItdGljazogMTAwCiAgICBtYXgtdGljay10aW1lOgogICAgICB0aWxlOiAxMAogICAgICBlbnRpdHk6IDIwCiAgICBpdGVtLWRlc3Bhd24tcmF0ZTogNjAwMAogICAgbWVyZ2UtcmFkaXVzOgogICAgICBpdGVtOiAzLjUKICAgICAgZXhwOiA2LjAKICAgIGFycm93LWRlc3Bhd24tcmF0ZTogMTIwMAogICAgZW5hYmxlLXpvbWJpZS1waWdtZW4tcG9ydGFsLXNwYXduczogdHJ1ZQogICAgd2l0aGVyLXNwYXduLXNvdW5kLXJhZGl1czogMAogICAgdmlldy1kaXN0YW5jZTogNgogICAgaGFuZ2luZy10aWNrLWZyZXF1ZW5jeTogMTAwCiAgICB6b21iaWUtYWdncmVzc2l2ZS10b3dhcmRzLXZpbGxhZ2VyOiB0cnVlCiAgICBuZXJmLXNwYXduZXItbW9iczogZmFsc2UKICAgIG1heC1lbnRpdHktY29sbGlzaW9uczogOA=='复制代码\n备注：本部分配置参考了以下文章：Minecraft服务器优化教程 —— 让多带50%的玩家不再是梦[GUIDE] Optimizing Spigot - Remove lag, Fix tps & Improve performance!\n9.制作启动关闭脚本最简单的启动脚本当然是java -jar server.jar但是这样来启动是有一些问题的，第一、我们没有设置启动参数；第二、这样的话我们一旦关闭SSH，该进程也会被杀死，毕竟，我们总不能一直连着服务器吧。所以可以用下面的方式来写启动脚本 launch.sh :①用 nano launch.sh 新建并编辑一个名为launch.sh的文件②粘贴下面代码框中的内容，其中-Xms1G代表最小内存1G，-Xmx2G代表最大内存2G。③按CTRL+X再输入Y回车保存④输入命令 chmod +x launch.sh 为脚本赋予权限#!/bin/sh\n\nscreen -dmS mc java -Xms1G -Xmx2G -XX:+AggressiveOpts -XX:+UseCompressedOops -jar /home/minecraft/server.jar复制代码\n\n当然，有一个关闭脚本 stop.sh 也不错\n#!/bin/sh\n\nscreen -dr mc -X stuff \"say 服务器将在10S后关闭！\\n\"\nsleep 10\nscreen -dr mc -X stuff \"stop\\n\"复制代码\n惯例的懒人福利:launch.sh\nbase64 -di > ./launch.sh <<< 'IyEvYmluL3NoCgpzY3JlZW4gLWRtUyBtYyBqYXZhIC1YbXMxRyAtWG14MkcgLVhYOitBZ2dyZXNzaXZlT3B0cyAtWFg6K1VzZUNvbXByZXNzZWRPb3BzIC1qYXIgL2hvbWUvbWluZWNyYWZ0L3NlcnZlci5qYXI='复制代码\n\nstop.sh\nbase64 -di > ./stop.sh <<< 'IyEvYmluL3NoCgpzY3JlZW4gLWRyIG1jIC1YIHN0dWZmICJzYXkg5pyN5Yqh5Zmo5bCG5ZyoMTBT5ZCO5YWz6Zet77yBXG4iCnNsZWVwIDEwCnNjcmVlbiAtZHIgbWMgLVggc3R1ZmYgInN0b3BcbiI='复制代码\n\n使用完命令后，记得用 chmod +x launch.sh 和chmod +x stop.sh 为脚本赋予权限。\n制作好脚本后，开服输入\"./launch.sh\",关服输入\"./stop.sh\"即可。\n\n10.查看运行中的服务器\n有小伙伴可能会问了：我执行了脚本，但是我什么都没看见，我的控制台了，我还想用控制台执行命令的啊？\n因为使用了screen来执行任务，所以控制台当然在screen里面啊\n我们输入\"screen -r mc\" 来返回控制台，这时就可以使用控制台来执行诸如op一类的命令了。那么问题又来了，使用完控制台，我该怎么安全退出呢？\n这是按住CTRL+A然后松手再按一下D即可将screen放到后台去，这时你退出SSH也没有关系的。\n\n11.自动重启脚本\n\n很明显，服务端运行久了就容易不稳定，所以，我们让服务端定期重启一下岂不是美滋滋。\n参照第9步的方式制作一个脚本\"restart.sh\"#!/bin/sh\n\nscreen -dr mc -X stuff \"say 服务器将在10S后例行重启！\\n\"\nsleep 10\nscreen -dr mc -X stuff \"stop\\n\"\nsleep 20\nscreen -dmS mc java -Xms1G -Xmx2G -XX:+AggressiveOpts -XX:+UseCompressedOops -jar /home/minecraft/server.jar\n复制代码\n\n当然还是惯例有懒人福利\nbase64 -di > ./restart.sh <<< 'IyEvYmluL3NoCgpzY3JlZW4gLWRyIG1jIC1YIHN0dWZmICJzYXkg5pyN5Yqh5Zmo5bCG5ZyoMTBT5ZCO5L6L6KGM6YeN5ZCv77yBXG4iCnNsZWVwIDEwCnNjcmVlbiAtZHIgbWMgLVggc3R1ZmYgInN0b3BcbiIKc2xlZXAgMjAKc2NyZWVuIC1kbVMgbWMgamF2YSAtWG1zMUcgLVhteDJHIC1YWDorQWdncmVzc2l2ZU9wdHMgLVhYOitVc2VDb21wcmVzc2VkT29wcyAtamFyIC9ob21lL21pbmVjcmFmdC9zZXJ2ZXIuamFy'复制代码\n\n还是要记得用\" chmod +x restart.sh\"加权限哦\n接下来输入 \"crontab -e\" 输入/bin/nano 前对应的数字，按回车进入编辑\n\n\n\n\n\n在最下面添加\n0 5 * * 1,5 sh /home/minecraft/restart.sh复制代码按CTRL+X输入y后保存（代码的意思是每周一周五早上5点自动重启服务端）\n\n\n\n\n然后复制一下代码并回车重启crond服务即可（可能需要输入root密码）。service crond restart复制代码\n12.FAQs\n\n①A:出现\"XX: command not found\"怎么办？\n  Q:如果你安装了我在前面提到的一排软件，在本教程范围内应该不会出现这个问题，如果出现了，请尝试\"sudo apt-get install XX\"\n\n\n②A:如何查询自己的IP\n  Q:你不是在连接ssh时就输入过吗？好吧，运行\"curl ifconfig.me\"就可以反馈IP。\n\n\n③A:我在运行程序时卡住了，怎么办？\n  Q:按CTRL+C杀死当前进程。\n\n\n④A:哪些常见的linux指令是开服需要掌握的？\n  Q:rm XX 删除文件\n    rm -rf XX 删除文件夹\n    mkdir XX 创建文件夹\n    ls 显示当前目录\n    zip/unzip 压缩/解压\n    cp/mv XX 复制/移动XX文件（夹）\n    包括但不限于这些啦\n\n\n⑤A:我想设置其他时间段重启可以吗？\n  Q:当然，crontab是按以下格式排列的\n分  小时  天  月  星期  命令    #其中星期天是0，不设置的地方用 * 跳过复制代码\n\n⑥A:在配置自动启动时，系统提示Failed to start crond.service: Unit crond.service not found.\n  Q:你使用了Ubuntu 16.04系统，在该系统中crond 改名为 cron，所以应该输入service cron restart\n\n\n⑧A:我用的不是Ubuntu怎么办\n  Q:如果是Debian，那么按照此教程操作即可，Debian和Ubuntu操作几乎一样，如果是CentOS，请参考教程区另外的文章，当然本教程的部分内容如懒人福利是可以照搬的QwQ。\n⑦A:我没有问题了\n  Q:好的2333，有问题欢迎在回复中提出。\n\n",
    "replies": [
        {
            "author": "TSStudio",
            "timestamp": 1513043940,
            "txt_content": "教程写的不错，之前一直疑惑如何关闭SSH而不关闭服务器\n\n但是提醒更正一下，在9中的\n使用完命令后，记得用 chmod +x lauch.sh 和chmod +x stop.sh 为脚本赋予权限。\n  制作好脚本后，开服输入\"./start.sh\",关服输入\"./stop.sh\"即可。\n怎么又变start.sh了？"
        },
        {
            "author": "zjhzczy",
            "timestamp": 1513569660,
            "txt_content": "请问一下有没有什么办法能线上托管服务器，我把服务器搭好了但是电脑一直得开着啊"
        },
        {
            "author": "gouj511",
            "timestamp": 1513570620,
            "txt_content": "zjhzczy 发表于 2017-12-18 12:01\n请问一下有没有什么办法能线上托管服务器，我把服务器搭好了但是电脑一直得开着啊 ...\n你是用自己的电脑开的吗？那就得一直开着呀！要线上托管服务器，可以去租一个云主机或者VPS。然后把你本地的文件上传上去就行了啊。"
        },
        {
            "author": "zjhzczy",
            "timestamp": 1513574400,
            "txt_content": "gouj511 发表于 2017-12-18 12:17\n你是用自己的电脑开的吗？那就得一直开着呀！要线上托管服务器，可以去租一个云主机或者VPS。然后把你本 ...\n我是租了一个亚马逊的服务器（相当于阿里云 ）然后在里面用ubuntu搭了一个服务器。 至于那个VPS和云主机可以麻烦帮我详细点讲讲吗 我想搭一个全天的服务器"
        },
        {
            "author": "l_weitao",
            "timestamp": 1516163460,
            "txt_content": "非常感谢"
        },
        {
            "author": "w145080",
            "timestamp": 1516170180,
            "txt_content": "早就想和朋友一起开个服玩了，感谢大大！"
        },
        {
            "author": "franciswang",
            "timestamp": 1516175400,
            "txt_content": "gjjbjvhvjbhgvh m"
        },
        {
            "author": "an395344521",
            "timestamp": 1516794180,
            "txt_content": "学习一下，顶你个学习一下，顶你个学习一下，顶你个学习一下，顶你个"
        },
        {
            "author": "zhengchaoshi",
            "timestamp": 1516863420,
            "txt_content": "11123334445666"
        },
        {
            "author": "大瞎子",
            "timestamp": 1517392740,
            "txt_content": "感谢楼主"
        },
        {
            "author": "LibEverTian",
            "timestamp": 1517471760,
            "txt_content": "很好的教程，受益匪浅，感谢楼主"
        },
        {
            "author": "乀十三乄",
            "timestamp": 1517581020,
            "txt_content": "回复为了看隐藏咯！"
        },
        {
            "author": "1598336931",
            "timestamp": 1517637480,
            "txt_content": "66666666666666"
        },
        {
            "author": "Frisk_Chara",
            "timestamp": 1517662440,
            "txt_content": "66666666666"
        },
        {
            "author": "魔法的荔枝",
            "timestamp": 1517666760,
            "txt_content": "支持一下"
        },
        {
            "author": "521...sss",
            "timestamp": 1517825100,
            "txt_content": "楼主太棒了6666666666666666666666666"
        },
        {
            "author": "啪啪啪啊",
            "timestamp": 1517825580,
            "txt_content": "教程很好很简单 一看就会了"
        },
        {
            "author": "q21277576",
            "timestamp": 1517833740,
            "txt_content": "寫得很清楚一看就會了"
        },
        {
            "author": "summerxlsama",
            "timestamp": 1517838000,
            "txt_content": "多谢版主答疑"
        },
        {
            "author": "oyts",
            "timestamp": 1517932980,
            "txt_content": "谢谢楼主"
        },
        {
            "author": "萨大大",
            "timestamp": 1517940600,
            "txt_content": "6666666666666"
        },
        {
            "author": "3506567801",
            "timestamp": 1517973600,
            "txt_content": "这个教程可以加mod吗"
        },
        {
            "author": "3506567801",
            "timestamp": 1517975640,
            "txt_content": "连接的时候用户密码输入，说我不是内部或外部命令什么的咋办"
        },
        {
            "author": "gouj511",
            "timestamp": 1517976660,
            "txt_content": "3506567801 发表于 2018-2-7 11:20\n这个教程可以加mod吗\n这里是以spigot端为例进行讲解的，mod端需要用KC端或者sponge端，大体操作一致，但是部分参数的设置会不一样，你试一下，有问题可以问我"
        },
        {
            "author": "gouj511",
            "timestamp": 1517976900,
            "txt_content": "3506567801 发表于 2018-2-7 11:54\n连接的时候用户密码输入，说我不是内部或外部命令什么的咋办\n你用xshell或者putty连接服务器怎么会提示这个，这不是cmd的提示吗？"
        },
        {
            "author": "箜靈",
            "timestamp": 1518073080,
            "txt_content": "为了查看下载地址……"
        },
        {
            "author": "箜靈",
            "timestamp": 1518080160,
            "txt_content": "楼主，问一下用这种方法开完服，怎么安mod啊"
        },
        {
            "author": "gouj511",
            "timestamp": 1518087120,
            "txt_content": "箜靈 发表于 2018-2-8 16:56\n楼主，问一下用这种方法开完服，怎么安mod啊\nMOD服需要用KC端、sponge端一类的服务端，你如果用的这些端，直接把mod放在mod文件夹里就好了啊，没有的话就自己建一个，文件可以用Xftp传"
        },
        {
            "author": "dashuzhi",
            "timestamp": 1518093660,
            "txt_content": "学习了。。。。。。。。。。。。"
        },
        {
            "author": "hy1166",
            "timestamp": 1518142560,
            "txt_content": "感谢lz"
        },
        {
            "author": "XD151716",
            "timestamp": 1518259920,
            "txt_content": "23632362626"
        },
        {
            "author": "1812990047",
            "timestamp": 1518347400,
            "txt_content": "6666666666666"
        },
        {
            "author": "minyan1",
            "timestamp": 1518350700,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "zhanghaodp",
            "timestamp": 1518505320,
            "txt_content": "666666666666666666666"
        },
        {
            "author": "zhanghaodp",
            "timestamp": 1518506580,
            "txt_content": "66666666666666666666666"
        },
        {
            "author": "543589341",
            "timestamp": 1519445280,
            "txt_content": "linux 6呢 红帽子的"
        },
        {
            "author": "zjy33878455",
            "timestamp": 1519470240,
            "txt_content": ".................................................."
        },
        {
            "author": "zjy33878455",
            "timestamp": 1519470240,
            "txt_content": "3535353424/853896"
        },
        {
            "author": "gouj511",
            "timestamp": 1519475460,
            "txt_content": "543589341 发表于 2018-2-24 12:08\nlinux 6呢 红帽子的\nRed Hat 系统我没用过，不知道怎么操作"
        },
        {
            "author": "电视66",
            "timestamp": 1519479000,
            "txt_content": "233333333333333"
        },
        {
            "author": "榴莲味咖啡",
            "timestamp": 1519656060,
            "txt_content": "看看 谢谢"
        },
        {
            "author": "lizhiheng",
            "timestamp": 1520151600,
            "txt_content": "哇好厉害"
        },
        {
            "author": "771730112",
            "timestamp": 1520329200,
            "txt_content": "研究中!还是有点看不懂"
        },
        {
            "author": "Didiao0v0",
            "timestamp": 1520345400,
            "txt_content": "很喜欢这个教程 推荐学习linux"
        },
        {
            "author": "Aishia",
            "timestamp": 1520759040,
            "txt_content": "感谢分享！！"
        },
        {
            "author": "15939363669",
            "timestamp": 1520840760,
            "txt_content": "6666666666666666666666666666666666"
        },
        {
            "author": "feis",
            "timestamp": 1520847120,
            "txt_content": "哇，还可以这样开服\n！"
        },
        {
            "author": "a259259",
            "timestamp": 1520944500,
            "txt_content": "找了好久  终于找到了"
        },
        {
            "author": "748233",
            "timestamp": 1521196320,
            "txt_content": "233333333333333333333333333333333"
        },
        {
            "author": "我靠！",
            "timestamp": 1521196680,
            "txt_content": "6666666666666666"
        },
        {
            "author": "恋传",
            "timestamp": 1521251880,
            "txt_content": "感谢楼主"
        },
        {
            "author": "陈锐轩",
            "timestamp": 1521264420,
            "txt_content": "这就很6了233"
        },
        {
            "author": "sty45ff",
            "timestamp": 1521283260,
            "txt_content": "66666666666666666666666666666"
        },
        {
            "author": "1601304560",
            "timestamp": 1521284820,
            "txt_content": "66666666666666"
        },
        {
            "author": "harukamaki",
            "timestamp": 1521508440,
            "txt_content": "楼主~我有一个问题~比如说我服务端用的是海绵的。那我客户端是要用安装过forge的版本吗 。对启动器的种类有要求吗 。\n比如说我搭了一个海绵的服务端 之后我再网上 下了一个相应版本的纯净服务端 在安装Forge 这样是不是就能连上服务器了"
        },
        {
            "author": "gouj511",
            "timestamp": 1521518400,
            "txt_content": "harukamaki 发表于 2018-3-20 09:14\n楼主~我有一个问题~比如说我服务端用的是海绵的。那我客户端是要用安装过forge的版本吗 。对启动器的种类有 ...\n是的客户端装相信版本的forge就行了"
        },
        {
            "author": "harukamaki",
            "timestamp": 1521524100,
            "txt_content": "gouj511 发表于 2018-3-20 12:00\n是的客户端装相信版本的forge就行了\n好的 谢谢！！！"
        },
        {
            "author": "XIAOMAA",
            "timestamp": 1521861600,
            "txt_content": "谢谢楼主！"
        },
        {
            "author": "ZWZ99987",
            "timestamp": 1521961860,
            "txt_content": "66666666666666666"
        },
        {
            "author": "fs_xiangda",
            "timestamp": 1522454280,
            "txt_content": "感谢楼主，正需要这种东西"
        },
        {
            "author": "zuzhang22",
            "timestamp": 1522542300,
            "txt_content": "谢谢楼主的教程"
        },
        {
            "author": "1072103612",
            "timestamp": 1522601520,
            "txt_content": "啊啊啊啊啊啊啊啊啊啊"
        },
        {
            "author": "moxianjiangmao",
            "timestamp": 1522634820,
            "txt_content": "666666666666"
        },
        {
            "author": "无敌哓圣",
            "timestamp": 1522645560,
            "txt_content": "谢谢啦~~~~~~~~~~~~~"
        },
        {
            "author": "q1240510854",
            "timestamp": 1522660860,
            "txt_content": "1111111111111111"
        },
        {
            "author": "shenjikun",
            "timestamp": 1522940760,
            "txt_content": "6666666666666"
        },
        {
            "author": "可可豆—",
            "timestamp": 1522984380,
            "txt_content": "神乎其技，不服不行！"
        },
        {
            "author": "morizhuiyuan",
            "timestamp": 1523013120,
            "txt_content": "服务器没人可以设置自动暂停吗？像饥荒那样"
        },
        {
            "author": "aiqingbukexing",
            "timestamp": 1523014560,
            "txt_content": "大赞啊"
        },
        {
            "author": "gouj511",
            "timestamp": 1523016300,
            "txt_content": "morizhuiyuan 发表于 2018-4-6 19:12\n服务器没人可以设置自动暂停吗？像饥荒那样\n我不知道有没有方法实现这个，抱歉"
        },
        {
            "author": "devis",
            "timestamp": 1523064600,
            "txt_content": "+ 15        神乎其技，不服不行！"
        },
        {
            "author": "921997948",
            "timestamp": 1524342480,
            "txt_content": "标题: RE: Ubuntu(Linux)开服教程Ubuntu(Linux)开服教程"
        },
        {
            "author": "Hugo701",
            "timestamp": 1524384360,
            "txt_content": "最近正好想要用linux来开服 正好在第一页就看见了这篇文章"
        },
        {
            "author": "ddadddd",
            "timestamp": 1524386160,
            "txt_content": "2333333333333333"
        },
        {
            "author": "921997948",
            "timestamp": 1524423240,
            "txt_content": "楼主 我有好几个问题 比如\n“没有屏幕可以恢复匹配的MC”\n“服务器启动，停止，重启的错误”\n我可以加你QQ 然后教我么"
        },
        {
            "author": "WeiJiaRun05",
            "timestamp": 1524575460,
            "txt_content": "楼主辛苦了！"
        },
        {
            "author": "splashem",
            "timestamp": 1524637740,
            "txt_content": "感谢楼主"
        },
        {
            "author": "BroJ",
            "timestamp": 1524667140,
            "txt_content": "开个服务器给基友玩"
        },
        {
            "author": "袁贝贝",
            "timestamp": 1524751140,
            "txt_content": " 谢谢教程！"
        },
        {
            "author": "llsl",
            "timestamp": 1524751680,
            "txt_content": "如何开服才最好？"
        },
        {
            "author": "luebloodTK",
            "timestamp": 1524875160,
            "txt_content": "试试看吧"
        },
        {
            "author": "545646465",
            "timestamp": 1525003200,
            "txt_content": "妙啊妙啊"
        },
        {
            "author": "wukongs",
            "timestamp": 1525008840,
            "txt_content": "6666666666666"
        },
        {
            "author": "mutisu",
            "timestamp": 1525011480,
            "txt_content": "学习学习如何开服"
        },
        {
            "author": "gyx497",
            "timestamp": 1525094280,
            "txt_content": "哈哈  特别给力哦"
        },
        {
            "author": "辉",
            "timestamp": 1525145040,
            "txt_content": "666666629595"
        },
        {
            "author": "Warsation",
            "timestamp": 1525241700,
            "txt_content": "很强卡个害怕而u好人"
        },
        {
            "author": "MeTerminator",
            "timestamp": 1525409820,
            "txt_content": "好，问题解决，快多了"
        },
        {
            "author": "心——临",
            "timestamp": 1525425240,
            "txt_content": "阿达啊啊啊"
        },
        {
            "author": "Bad_Guy",
            "timestamp": 1525463820,
            "txt_content": "921997948 发表于 2018-4-23 02:54\n楼主 我有好几个问题 比如\n“没有屏幕可以恢复匹配的MC”\n“服务器启动，停止，重启的错误”\n建议使用centos开服把  "
        },
        {
            "author": "Bad_Guy",
            "timestamp": 1525463820,
            "txt_content": "llsl 发表于 2018-4-26 22:08\n如何开服才最好？\n建议使用centos开服"
        },
        {
            "author": "JINDELINK",
            "timestamp": 1525499940,
            "txt_content": "zczczczczczzczcczczz支持支持支持支持在"
        },
        {
            "author": "xqt1997",
            "timestamp": 1525530360,
            "txt_content": "感谢分享教程！"
        },
        {
            "author": "as853484572",
            "timestamp": 1525694640,
            "txt_content": "Ubuntu(Linux)开服教程"
        },
        {
            "author": "jyh12345a",
            "timestamp": 1526038860,
            "txt_content": "顶一个！"
        },
        {
            "author": "kar885",
            "timestamp": 1526052000,
            "txt_content": "牛逼一波"
        },
        {
            "author": "ZzzzZan",
            "timestamp": 1526205300,
            "txt_content": "支持版主MCBBS万岁"
        },
        {
            "author": "无敌灰",
            "timestamp": 1526217420,
            "txt_content": "之前开服是小白,现在已经是一个三流后端,还是那么热爱Minecraft"
        },
        {
            "author": "ExcellentA",
            "timestamp": 1526302740,
            "txt_content": "过来瞧瞧\n"
        }
    ]
}