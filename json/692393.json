{
    "title": "[信息][PCD]Message Announcer——强大的自动公告 JSON消息[1.8-1.15]",
    "author": "秋风残叶",
    "replyCount": 30,
    "timestamp": 1494833340,
    "txt_content": " 本帖最后由 秋风残叶 于 2020-3-14 23:07 编辑 \n\n\n站内原搬运帖 http://www.mcbbs.net/thread-594323-1-1.html\n本帖是顶着被说成二搬的风险写出来的，站内有人想请求我二搬本插件原搬运帖内无任何教程并有机翻嫌疑，在本帖我会详细教大家如何设置JSON公告消息若是这样还被说是二搬那我无话可说\n\n\n★更强大的自动公告★JSON消息 | PAPI变量 | 公告可点 | 鼠标悬停信息\n ◆ 插件介绍 ◆  \n楼主原先使用的自动公告插件只能定时播放一条普通消息，但是本插件公告出的消息是JSON消息\nJSON公告是什么？\n\n普通公告能做到的，JSON公告都能做到\n\n\n\n\n\nnormal.png (21.42 KB, 下载次数: 2)\n\n下载附件\n\n2017-5-15 13:43 上传\n\n\n\n\n\n\n\n\nJSON公告，鼠标悬停在上面可以显示内容\n\n\n\n\n\nhover2.png (61.67 KB, 下载次数: 6)\n\n下载附件\n\n2017-5-15 13:51 上传\n\n\n\n\n\n\n\nJSON公告，点击可以执行指令！\n假装有图片\n\nJSON公告，点击可以打开网页！\n\n\n\n\n\nwww.png (100.31 KB, 下载次数: 1)\n\n下载附件\n\n2017-5-15 13:46 上传\n\n\n\n\n\n\n\nJSON公告，点击可以帮你写一条待发送消息！\n\n\n\n\n\nsuggest2.png (30.2 KB, 下载次数: 1)\n\n下载附件\n\n2017-5-15 13:51 上传\n\n\n\n\n\n\n\nPlaceholderAPI变量支持！千种变量\n\n\n\n\n\nname.png (14.38 KB, 下载次数: 4)\n\n下载附件\n\n2017-5-15 13:53 上传\n\n\n\n\n\n\n\n公告不止一行？多行公告！[感谢群内某人供图]\n\n\n\n\n\ntime.png (1.08 KB, 下载次数: 5)\n\n下载附件\n\n2017-5-15 13:36 上传\n\n\n\n\n\n\n ◆ 使用方法 ◆ 下载本插件，扔进plugins文件夹，重启服务器如果想使用PAPI变量，必须安装PlaceholderAPI前置，不安装也无妨\n\n下载前置\n站内下载   外网下载\n\n ◆ 指令&权限 ◆  所有指令均为管理员使用，本插件无玩家可操作部分\n想要设置公告内容，请至配置文件\n\n/msa help   查看指令帮助\n/msa start|stop   启动/关闭自动公告\n/msa list all   查看所有公告名称（包括不会自动公告出来的）\n/msa list active   仅查看会自动公告出来的公告名称\n（看不懂不要紧，后面会讲）\n/msa send <玩家名> <公告名称>   给玩家发生一条公告\n/msa reload    重载插件\n本插件没有权限需要给玩家\n ◆ 配置文件 ◆ 对配置文件里的参数进行解释 \n# MCBBS PCD小组 秋风残叶 搬运并汉化 请支持原作者clip\n# 原帖地址https://www.spigotmc.org/resources/messageannouncer.5408/\n\n# 启用自动公告\nannouncer_enabled: true\n# 随机顺序自动公告\nannouncer_random: true\n# 公告周期间隔，单位是秒\nannounce_interval: 90\n# 公告播出的时候产生的声音\n# 请注意，1.8以下和1.9以上的声音名称不同，本插件默认的声音名称是针对1.8以下的\n# 如果您的服为1.9+请务必修改声音名称！或者直接把声音关闭！不然会报错！\nsound:\n  enabled: false\n  sound_name: NOTE_PLING\n  # 声音的音量\n  volume: 10\n  # 声音的音调\n  pitch: 1\n# 下面这个列表展示的就是“会自动公告的消息”  \ninterval_announcement_list:\n- default\n- vote\n# 下面这些展示的是所有消息，但只有在上面那个列表里的消息才会被自动公告\n# 也就是说，下面这个列表里可以设置永远不会被公告出去的消息\nannouncements:\n  default:\n  - '{\"text\": \"&e测试公告1\", \"hoverEvent\":{\"action\":\"show_text\",\"value\":{\"text\":\"&6测试悬停字1\"}}}'\n  vote:\n  - '{\"text\": \"&b测试网址点击\",\"clickEvent\":{\"action\":\"open_url\",\"value\":\"http://www.mcbbs.net\"}}'复制代码\n\n下面这个config下不下载意义不大，想要学习制作JSON公告请看下方\n\n\n\nconfig.yml\n(1.19 KB, 下载次数: 331)\n\n\n\n2017-5-15 14:27 上传\n点击文件名下载附件\n\n\n\n\n\n\n ◆ 如何制作JSON公告 ◆ 重头戏来了 JSON消息制作还可以访问minecraftjson.com但是这个网址好像有点问题\n\n打开config.yml，找到announcements:按照格式新建一个公告[上方config中有例子]JSON消息的原理什么的不太想多解释，就用例子来展示吧（不过要注意千万不要少符号，少个引号都不行，引号大括号什么的都要左右对应）\n最简单的彩色公告\n我们先来制作最简单的，什么特技都没有的公告- '{\"text\": \"&7什么&a特技&e都没有的公告\"}'复制代码按照此格式，将文字替换掉就可以，可以添加彩色代码，可以添加PAPI变量\n\n鼠标悬停内容公告\n上一个太简单了？接下来制作一个鼠标放在上面可以看到悬停内容的公告，我们要用到hoverEvent- '{\"text\": \"&6悬停公告\", \"hoverEvent\":{\"action\":\"show_text\",\"value\":{\"text\":\"&a悬停内容\"}}}'复制代码这样一来公告的内容就会是“&6悬停公告”，鼠标放在上面就会出现“&a悬停内容”\n公告点击执行指令\n如何让公告变得可点击呢？我们需要用到clickEvent + run_command，例如\n- '{\"text\": \"&e点我返回主城\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/spawn\"}}'复制代码这样设置以后点击这个公告便可以返回主城（该指令需要权限，玩家无法执行有权限限制的指令）\n\n公告点击发送聊天\n这个和上面那个道理一样啊，只不过把指令的斜杠去掉了啊……也算一个功能吧\n\n公告点击打开网页\n和上面那个一样，但是要把点击事件改为open_url，请看例子- '{\"text\": \"&e点我访问MCBBS\",\"clickEvent\":{\"action\":\"open_url\",\"value\":\"http://www.mcbbs.net\"}}'复制代码点击此公告便可打开网页，这个特点可用于服务器官网或者加官方 Q 群的宣传\n\n公告点击输入待发消息\n这个功能可以让玩家点击公告以后，聊天栏输入框里出现内容（但是不发出去）可供玩家编辑，这里使用的是suggest_command\n- '{\"text\": \"&6点击快速输入\",\"clickEvent\":{\"action\":\"suggest_command\",\"value\":\"待发内容\"}}'复制代码玩家点击这个公告，聊天栏里会出现待发内容，如同我在介绍里做的那个“求助管理员内容”一样\n\n所有功能组合起来！\n把功能组合起来？直接复制相应部分内容就可以，注意不要丢失符号- '{\"text\": \"&e点我返回主城\",\"hoverEvent\":{\"action\":\"show_text\",\"value\":{\"text\":\"&a你就放心大胆地点！\"}},\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/suicide\"}}'复制代码这个公告的主内容是“&e点我返回主城”，玩家鼠标放在上面的时候会出现“&a你就放心大胆地点！”，点击以后执行指令/suicide\n组合格式：- '{\"text\":\"文字内容\",\"交互条件1\":{\"进一步交互条件1\":\"值1\",\"进一步交互条件2\":\"值2\"},\"交互条件2\":{\"进一步交互条件\":\"值\"}}'\n这格式我自己都晕了，你们还是按照例子来吧\n\n\n\n ◆ 下载地址 ◆ 支持原作者，请至原帖下载 \n\nmod端兼容性测试本插件从未宣称支持任何mod端本人未测试其在mod端是否可用但是根据用户测试，KCauldron1.7.10可兼容\n\n站内备用\n\n\n\nMessageAnnouncer-1.9.1.jar\n(42.06 KB, 下载次数: 535)\n\n\n\n2018-9-5 22:30 上传\n点击文件名下载附件\n\n\n\n\n\n\n更新记录1.11.0 现在插件支持1.15了，新增加权限部分（无需要给玩家的权限）为了避免被别有用心的人举报（例如炫宙菌）（2020.03.14）\n\n[fly]感谢您的支持~[/fly]\n\n[groupid=1330]PluginsCDTribe[/groupid]",
    "replies": [
        {
            "author": "ouAuAuo",
            "timestamp": 1494835620,
            "txt_content": "挺好的插件，加油去授权吧"
        },
        {
            "author": "471581557",
            "timestamp": 1494837360,
            "txt_content": "自杀回城没毛病"
        },
        {
            "author": "Breakfastbone",
            "timestamp": 1495030680,
            "txt_content": "这个插件贼强大！十分好用！"
        },
        {
            "author": "靓仔大大",
            "timestamp": 1495065180,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "煜爱芸",
            "timestamp": 1499159820,
            "txt_content": "贼6 感谢搬运"
        },
        {
            "author": "Bleter",
            "timestamp": 1499627640,
            "txt_content": ".。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。"
        },
        {
            "author": "诺尘_",
            "timestamp": 1501679400,
            "txt_content": "中文乱码。看样子还得自己编码"
        },
        {
            "author": "1252251361",
            "timestamp": 1502846100,
            "txt_content": "为啥公告超过2个重启之后就变成默认了\n---------------\n********\n----------------\n就像上面那个一样"
        },
        {
            "author": "Vc丶陌路君",
            "timestamp": 1503457440,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "秋风残叶",
            "timestamp": 1503457680,
            "txt_content": "Vc丶陌路君 发表于 2017-8-23 11:04\n把多行公告的教程也发一下吧\n你这么聪明应该能想到多行公告是怎么做的，直接再加一行即可"
        },
        {
            "author": "逸熙菌i",
            "timestamp": 1504332540,
            "txt_content": "路过手动点个赞emmmm，就是没看太懂"
        },
        {
            "author": "oceanhhy",
            "timestamp": 1507422960,
            "txt_content": "我擦好纠结啊，这几个自动公告的插件不知道用哪个好了。。。要么非常轻量级的，要么功能很强大的。。。"
        },
        {
            "author": "eivll",
            "timestamp": 1507903320,
            "txt_content": "问下 是不是写成这种样子\ninterval_announcement_list:\n- 1\n- 2\n- 3\nannouncements:\n  1:\n- '{\"text\": \"公告1\"}'\n  2:\n- '{\"text\": \"公告2\"}'\n  3:\n- '{\"text\": \"公告3\"}'\n\n然后这3个公告就按设定的时间顺序循环播放？"
        },
        {
            "author": "秋风残叶",
            "timestamp": 1507905660,
            "txt_content": "eivll 发表于 2017-10-13 22:02\n问下 是不是写成这种样子\ninterval_announcement_list:\n- 1\n时间太久了我记不太清了，格式没什么问题，但不一定是循环播放，有可能随机播放（能不能设置我忘了）"
        },
        {
            "author": "Freez！流年",
            "timestamp": 1556021280,
            "txt_content": "很高级的公告插件~~~"
        },
        {
            "author": "AASDDA教父",
            "timestamp": 1582688100,
            "txt_content": "这个插件不错，我试试cat端能用不"
        },
        {
            "author": "1519261477",
            "timestamp": 1582735860,
            "txt_content": "这个厉害,顶一个"
        },
        {
            "author": "V无梦",
            "timestamp": 1583500200,
            "txt_content": "本人测试支持1.12.2cat端"
        },
        {
            "author": "思念化作海",
            "timestamp": 1588598160,
            "txt_content": "CatServer可正常使用\n"
        },
        {
            "author": "Daleynf",
            "timestamp": 1588603440,
            "txt_content": "太厉害了，感谢楼主分享"
        },
        {
            "author": "MC小库",
            "timestamp": 1589208000,
            "txt_content": "这个太强大了吧，感谢楼主搬运！"
        },
        {
            "author": "＜光速＞",
            "timestamp": 1589211120,
            "txt_content": "很强大的公告，支持！"
        },
        {
            "author": "Mountchuan",
            "timestamp": 1589242680,
            "txt_content": "确实很强大，但我这种新手只会用普通公告"
        },
        {
            "author": "Blumekranz",
            "timestamp": 1589248740,
            "txt_content": "鼠标悬停太棒了，支持！"
        },
        {
            "author": "MC_Muji",
            "timestamp": 1593503940,
            "txt_content": "原帖并没有写兼容1.15.2\n但你写了\n那问题是我听谁的？\n我开的1.15.2服务器到底要不要加这个插件"
        },
        {
            "author": "MC_Muji",
            "timestamp": 1593504660,
            "txt_content": "MC_Muji 发表于 2020-6-30 15:59\n原帖并没有写兼容1.15.2\n但你写了\n那问题是我听谁的？\n是在下错了\n亲测在1.15.2能运行\n楼主牛逼"
        },
        {
            "author": "799489684",
            "timestamp": 1593669720,
            "txt_content": "楼主，打开链接的话链接里面有符号&会被替换成另一个符号§，请问有什么解决办法吗"
        },
        {
            "author": "3441785369",
            "timestamp": 1593673140,
            "txt_content": "471581557 发表于 2017-5-15 16:36\n自杀回城没毛病\n公告很香"
        },
        {
            "author": "Leechunhung",
            "timestamp": 1595842260,
            "txt_content": "急急急急急"
        },
        {
            "author": "lingdidi",
            "timestamp": 1599051120,
            "txt_content": "插件可以在1.12.2cat端上使用~\n"
        }
    ]
}