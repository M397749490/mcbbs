{
    "title": "[管理|综合]BukkitMonitor-获取服务器内部状态HTTP接口",
    "author": "微尘",
    "replyCount": 17,
    "timestamp": 1489908300,
    "txt_content": " 本帖最后由 1582952890 于 2017-9-16 12:29 编辑 \n\n开发动机：\n唔，这个插件主要是给基于服务器进行二次开发的人用的。为什么要开发插件，主要是我在实际开发中碰到过这样的问题，比如分析服务器当前在线玩家，得分析一下list命令的输出。最蛋疼的有一些插件会改变list命令输出的样式或者内容，这对于代码来说是很烦的，于是我就开发了这么一个插件。\n\n它能干啥：\n总的来讲，这个插件会在13375端口(你没看错，现在是写死的)提供一个HTTP服务的API服务，现在有这样一些接口(其实用途就一个)：\n\n获取在线玩家   GET /bukkit/players/online/获取所有玩家(包括在线和离线)    GET /bukkit/players/offline/\n这两个接口返回的数据都是一个json格式：{\n\nerrno, detail\n\nonlines: [player1, player2]\n\nofflines: [player1, player2, player3]\n\n}复制代码\n另外本项目还可以作为一个bukkit插件的入门教程，因为它现在实在太简短了\n运行环境：\n1. 本插件需要java8，因为我使用了java8新引入的lambda表达式。\n\nPS: 原帖地址是项目代码仓库地址，项目由一个叫fantastyboys(幻徒)的开发者团伙维护，这个团伙正在开发一些很酷的项目，如果你想做一些很酷的事情，欢迎PM\n\n不知道怎么直接跟评分处的人回复，使用HTTP是因为这样最方便呀，同时接口可以设计地符合RESTful\n\n",
    "replies": [
        {
            "author": "微尘",
            "timestamp": 1489908600,
            "txt_content": "缔梦工作室 发表于 2017-3-19 15:37\n= =我觉得你应该在做一些附加功能\n现在就这么一个功能没什么引导的话很少有人会下载用上...\n毕竟打算二次开 ...\n呀哈。。有道理，不过我就只是把自己开发的插件分享出来，有人用便用，没有人便罢，国内的大环境大家也都清楚"
        },
        {
            "author": "迷失★夜空",
            "timestamp": 1489908600,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "缔梦工作室",
            "timestamp": 1489909020,
            "txt_content": "= =我觉得你应该在做一些附加功能\n现在就这么一个功能没什么引导的话很少有人会下载用上...\n毕竟打算二次开发的人很少！大多数腐竹思想都是直接拿现成的23333"
        },
        {
            "author": "缔梦工作室",
            "timestamp": 1489911720,
            "txt_content": "微尘 发表于 2017-3-19 15:30\n呀哈。。有道理，不过我就只是把自己开发的插件分享出来，有人用便用，没有人便罢，国内的大环境大家也都 ...\n要开发什么鬼东西合作开发好了毕竟我这边也有工作室的今天刚注册的打算来这边看看"
        },
        {
            "author": "微尘",
            "timestamp": 1489913820,
            "txt_content": "缔梦工作室 发表于 2017-3-19 16:22\n要开发什么鬼东西合作开发好了毕竟我这边也有工作室的今天刚注册的打算来这边看看 ...\n来呀。。一起搞事情"
        },
        {
            "author": "缔梦工作室",
            "timestamp": 1490018160,
            "txt_content": "微尘 发表于 2017-3-19 16:57\n来呀。。一起搞事情\n留个QQ给我？"
        },
        {
            "author": "微尘",
            "timestamp": 1490025360,
            "txt_content": "缔梦工作室 发表于 2017-3-20 21:56\n留个QQ给我？\n595136879 胡尔摩斯"
        },
        {
            "author": "liucx",
            "timestamp": 1490323380,
            "txt_content": "好东西，服务器上的qq机器人利用这东西加点代码就能在群里看服务器状态了"
        },
        {
            "author": "liucx",
            "timestamp": 1490323740,
            "txt_content": " 本帖最后由 liucx 于 2017-3-24 10:54 编辑 \nliucx 发表于 2017-3-24 10:43\n好东西，服务器上的qq机器人利用这东西加点代码就能在群里看服务器状态了 ...\n不对。。。我服务器上有点不正常。。。\n\n\n后台：\n[10:44:57 WARN]: [BukkitMonitor] Task #337 for BukkitMonitor v0.0.2-SNAPSHOT gen\nerated an exception\njava.lang.NoSuchMethodError: org.bukkit.Server.getOnlinePlayers()[Lorg/bukkit/en\ntity/Player;\n        at com.uranome.fbs.bukkitmonitor.MonitorThread$PlayersHandler$2.call(Buk\nkitMonitor.java:128) ~[?:?]\n        at com.uranome.fbs.bukkitmonitor.MonitorThread$PlayersHandler$2.call(Buk\nkitMonitor.java:125) ~[?:?]\n        at org.bukkit.craftbukkit.v1_10_R1.scheduler.CraftFuture.run(CraftFuture\n.java:89) ~[patched_1.10.2.jar:git-Paper-916.2]\n        at org.bukkit.craftbukkit.v1_10_R1.scheduler.CraftScheduler.mainThreadHe\nartbeat(CraftScheduler.java:355) [patched_1.10.2.jar:git-Paper-916.2]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.D(MinecraftServer.java:\n798) [patched_1.10.2.jar:git-Paper-916.2]\n        at net.minecraft.server.v1_10_R1.DedicatedServer.D(DedicatedServer.java:\n404) [patched_1.10.2.jar:git-Paper-916.2]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.C(MinecraftServer.java:\n740) [patched_1.10.2.jar:git-Paper-916.2]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.run(MinecraftServer.jav\na:639) [patched_1.10.2.jar:git-Paper-916.2]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_121]\n[10:44:57 WARN]: [BukkitMonitor] Task #338 for BukkitMonitor v0.0.2-SNAPSHOT gen\nerated an exception\njava.lang.NoSuchMethodError: org.bukkit.Server.getOnlinePlayers()[Lorg/bukkit/en\ntity/Player;\n        at com.uranome.fbs.bukkitmonitor.MonitorThread$PlayersHandler$2.call(Buk\nkitMonitor.java:128) ~[?:?]\n        at com.uranome.fbs.bukkitmonitor.MonitorThread$PlayersHandler$2.call(Buk\nkitMonitor.java:125) ~[?:?]\n        at org.bukkit.craftbukkit.v1_10_R1.scheduler.CraftFuture.run(CraftFuture\n.java:89) ~[patched_1.10.2.jar:git-Paper-916.2]\n        at org.bukkit.craftbukkit.v1_10_R1.scheduler.CraftScheduler.mainThreadHe\nartbeat(CraftScheduler.java:355) [patched_1.10.2.jar:git-Paper-916.2]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.D(MinecraftServer.java:\n798) [patched_1.10.2.jar:git-Paper-916.2]\n        at net.minecraft.server.v1_10_R1.DedicatedServer.D(DedicatedServer.java:\n404) [patched_1.10.2.jar:git-Paper-916.2]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.C(MinecraftServer.java:\n740) [patched_1.10.2.jar:git-Paper-916.2]\n        at net.minecraft.server.v1_10_R1.MinecraftServer.run(MinecraftServer.jav\na:639) [patched_1.10.2.jar:git-Paper-916.2]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_121]\n>\n\n\n不过还好，http://127.0.0.1:13375/bukkit/players/offline/能用就行23333\n不对。。。刚刚测试，这货显示的东西根本不会变"
        },
        {
            "author": "微尘",
            "timestamp": 1490541300,
            "txt_content": "liucx 发表于 2017-3-24 10:49\n不对。。。我服务器上有点不正常。。。\n你的minecraft服务器版本是多少？"
        },
        {
            "author": "liucx",
            "timestamp": 1490583120,
            "txt_content": "微尘 发表于 2017-3-26 23:15\n你的minecraft服务器版本是多少？\n1.10.2 纸龙头\n要不你把获取玩家个数的代码给我呗2333，我加到我的服务器/QQ群联动插件里面"
        },
        {
            "author": "微尘",
            "timestamp": 1490587500,
            "txt_content": "liucx 发表于 2017-3-27 10:52\n1.10.2 纸龙头\n要不你把获取玩家个数的代码给我呗2333，我加到我的服务器/QQ群联动插件里面 ...\n哈。。我的代码是开源的呀，在gitosc上，见原帖地址"
        },
        {
            "author": "tallmoon",
            "timestamp": 1490591220,
            "txt_content": "楼主给你提醒下，这个必须用java8载入，我这 java7不行，希望在到帖子里"
        },
        {
            "author": "liucx",
            "timestamp": 1490591760,
            "txt_content": "微尘 发表于 2017-3-27 12:05\n哈。。我的代码是开源的呀，在gitosc上，见原帖地址\n然后我发现我看不懂java的复杂语法\n尴尬"
        },
        {
            "author": "微尘",
            "timestamp": 1490614320,
            "txt_content": "tallmoon 发表于 2017-3-27 13:07\n楼主给你提醒下，这个必须用java8载入，我这 java7不行，希望在到帖子里\n好哒（凑满十个字符吧）"
        },
        {
            "author": "微尘",
            "timestamp": 1490703420,
            "txt_content": "liucx 发表于 2017-3-27 13:16\n然后我发现我看不懂java的复杂语法\n尴尬\n现已支持1.7.10以上的服务器"
        },
        {
            "author": "liucx",
            "timestamp": 1490756340,
            "txt_content": "微尘 发表于 2017-3-28 20:17\n现已支持1.7.10以上的服务器\n谢谢了啊\n不过我已经解决了。。\n                                                String result=\"\";\n                                                for(Player p : Bukkit.getOnlinePlayers())\n                                                {\n                                                        result+=p.getName()+\",\";\n                                                }"
        }
    ]
}