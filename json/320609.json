{
    "title": "sender.sendmessage问题",
    "author": "修改器很好玩",
    "replyCount": 29,
    "timestamp": 1407907620,
    "txt_content": "我想编一个插件，目的是输入/suicide时自杀，很简单。写完主类之后写命令执行器，代码如下：\n\n\n\npackage com.outlook.vincenthan2009;\n\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\n\npublic class Command {       //声明类\n        \n        public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args){ //OnCommand\n                if (((CommandSender) cmd).getName().equalsIgnoreCase(\"suicide\")){                     //判断命令\n                        if (!(sender instanceof Player)) {                                                //判断是否为玩家\n                                sender.sendMessage(\"该命令只能被玩家执行！\");\n                           return true;\n                        }else{\n                                Player player=(Player) sender;\n                                player.setHealth(0.0);\n                                return true;\n                        }                                                                                 //判断是否为玩家\n                }                                                                                     //判断命令\n                return false;                                     \n        }                                                                                         //OnCommand\n\n}                          //声明类\n\n\n\n以上为命令执行器的代码，不过我在服务端内输入/suicide时没有提示“该命令只能被玩家执行”，这是怎么回事？IDE\n也没有报错。\n",
    "replies": [
        {
            "author": "1292029552",
            "timestamp": 1407908100,
            "txt_content": "难道不能用/kill来自杀么？"
        },
        {
            "author": "y55151124",
            "timestamp": 1407908460,
            "txt_content": "1292029552 发表于 2014-8-13 13:35\n难道不能用/kill来自杀么？\n正解，/kill 或 kill XXX"
        },
        {
            "author": "john180",
            "timestamp": 1407908640,
            "txt_content": "发给后台的话用\ngetLogger().info(\"\");复制代码"
        },
        {
            "author": "修改器很好玩",
            "timestamp": 1407908940,
            "txt_content": "john180 发表于 2014-8-13 13:44\n发给后台的话用\n不行，后台报错，给出的解决方法是新创建一个类getlogger"
        },
        {
            "author": "john180",
            "timestamp": 1407909180,
            "txt_content": "修改器很好玩 发表于 2014-8-13 13:49\n不行，后台报错，给出的解决方法是新创建一个类getloggerpublic class Command extends JavaPlugin复制代码"
        },
        {
            "author": "a8105",
            "timestamp": 1407920760,
            "txt_content": "plugin.yml文件截图"
        },
        {
            "author": "修改器很好玩",
            "timestamp": 1407946620,
            "txt_content": "810587921 发表于 2014-8-13 17:06\nplugin.yml文件截图\n"
        },
        {
            "author": "shukui06",
            "timestamp": 1408020780,
            "txt_content": "john180 发表于 2014-8-13 13:53\n你的Command类为啥要extends JavaPlugin。难道不是implements Command`````。忘了叫啥了"
        },
        {
            "author": "john180",
            "timestamp": 1408022220,
            "txt_content": "shukui06 发表于 2014-8-14 20:53\n你的Command类为啥要extends JavaPlugin。难道不是implements Command`````。忘了叫啥了 ...\n因为要\ngetlogger().info()\n所以得extends JavaPlugin\n大不了这样呗\npublic class Commands extends JavaPlugin implements CommandExecutor 复制代码"
        },
        {
            "author": "shukui06",
            "timestamp": 1408023240,
            "txt_content": "john180 发表于 2014-8-14 21:17\n因为要\ngetlogger().info()\n所以得extends JavaPlugin\n可是他这不是主类啊，如果是主类，两个void呢"
        },
        {
            "author": "尘曲",
            "timestamp": 1408106880,
            "txt_content": "((CommandSender) cmd)改成cmd"
        },
        {
            "author": "修改器很好玩",
            "timestamp": 1408120800,
            "txt_content": "尘曲 发表于 2014-8-15 20:48\n((CommandSender) cmd)改成cmd\n必须这样，不然报错"
        },
        {
            "author": "尘曲",
            "timestamp": 1408166100,
            "txt_content": "public class Command extends JavaPlugin {"
        },
        {
            "author": "尘曲",
            "timestamp": 1408166220,
            "txt_content": "plugin.yml里也需要添加你的指令"
        },
        {
            "author": "修改器很好玩",
            "timestamp": 1408167720,
            "txt_content": "尘曲 发表于 2014-8-16 13:17\nplugin.yml里也需要添加你的指令\n当然添加了"
        },
        {
            "author": "尘曲",
            "timestamp": 1408171680,
            "txt_content": "修改器很好玩 发表于 2014-8-16 13:42\n当然添加了\n报错信息截图？"
        },
        {
            "author": "zero28",
            "timestamp": 1408189080,
            "txt_content": "尘曲 发表于 2014-8-16 14:48\n报错信息截图？\n你居然还在这里！！快到碗里来！！打算开个生存玩玩了！！"
        },
        {
            "author": "zero28",
            "timestamp": 1408189260,
            "txt_content": "这个。首先Command类是不能强制转换成CommandSender类的╮(╯▽╰)╭所以你就会得到一个空的指针，所以你整个命令都是废的。\n像尘曲说的一样，将强制转换的(CommandSender)删掉，做好注册，将Command类加 implements CommandExecutor 应该就没啥问题了"
        },
        {
            "author": "尘曲",
            "timestamp": 1408198680,
            "txt_content": "zero28 发表于 2014-8-16 19:38\n你居然还在这里！！快到碗里来！！打算开个生存玩玩了！！\n我送你RPG插件要么= =都不记得这里有什么插件了"
        },
        {
            "author": "zero28",
            "timestamp": 1408200420,
            "txt_content": "尘曲 发表于 2014-8-16 22:18\n我送你RPG插件要么= =都不记得这里有什么插件了\n什么叫送。。我的都是自己开发的。。"
        },
        {
            "author": "修改器很好玩",
            "timestamp": 1408208820,
            "txt_content": "zero28 发表于 2014-8-16 19:41\n这个。首先Command类是不能强制转换成CommandSender类的╮(╯▽╰)╭所以你就会得到一个空的指针，所以你整 ...\n知道了，谢谢!"
        },
        {
            "author": "修改器很好玩",
            "timestamp": 1408209960,
            "txt_content": "zero28 发表于 2014-8-16 19:41\n这个。首先Command类是不能强制转换成CommandSender类的╮(╯▽╰)╭所以你就会得到一个空的指针，所以你整 ...\n您看一下，谢谢\n\n\n\n\nQQ截图20140816102239.png (195.78 KB, 下载次数: 0)\n\n下载附件\n\n2014-8-17 01:26 上传\n\n\n\n\n\n\n\n假如写下implements CommandExecutor的话，报错\n\n假如写下cmd.getname也报错\n"
        },
        {
            "author": "zero28",
            "timestamp": 1408231200,
            "txt_content": " 本帖最后由 zero28 于 2014-8-17 07:21 编辑 \n修改器很好玩 发表于 2014-8-17 01:26\n您看一下，谢谢\n额，是这样的。你的Command类跟Bukkit的Command类重复了，你将你的类名改成CommandHeal，然后将需要的Command导入进来即可。你的cmd类型是Command,编辑器以为是你自己的Command，当然找不到getName()方法咯."
        },
        {
            "author": "尘曲",
            "timestamp": 1408238040,
            "txt_content": "zero28 发表于 2014-8-16 22:47\n什么叫送。。我的都是自己开发的。。\n给= =我又不参与服务器，也就只能丢插件了。。。"
        },
        {
            "author": "尘曲",
            "timestamp": 1408238100,
            "txt_content": "zero28 发表于 2014-8-17 07:20\n额，是这样的。你的Command类跟Bukkit的Command类重复了，你将你的类名改成CommandHeal，然后将需要的Comm ...\n不需要implements= =应该是extends JavaPlugin"
        },
        {
            "author": "zero28",
            "timestamp": 1408242360,
            "txt_content": "尘曲 发表于 2014-8-17 09:15\n不需要implements= =应该是extends JavaPlugin\n不imp executor 怎么注册╮(╯▽╰)╭"
        },
        {
            "author": "尘曲",
            "timestamp": 1408243260,
            "txt_content": "zero28 发表于 2014-8-17 10:26\n不imp executor 怎么注册╮(╯▽╰)╭\n他的插件只有一个类= =这个就一定是主类了。。。extends JavaPlugin后不需要imp executor，你可以试试= ="
        },
        {
            "author": "zero28",
            "timestamp": 1408243680,
            "txt_content": "尘曲 发表于 2014-8-17 10:41\n他的插件只有一个类= =这个就一定是主类了。。。extends JavaPlugin后不需要imp executor，你可以试试= = ...\n是两个类。。你看他给我发的截图。。"
        },
        {
            "author": "尘曲",
            "timestamp": 1408243920,
            "txt_content": "zero28 发表于 2014-8-17 10:48\n是两个类。。你看他给我发的截图。。\n眼瞎= =         "
        }
    ]
}