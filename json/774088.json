{
    "title": "关于修改其他实体的面向...",
    "author": "⊙v⊙",
    "replyCount": 13,
    "timestamp": 1515050040,
    "txt_content": "单人游戏\n\n比如红点为玩家，\n如何作到，把圆圈范围内的实体，例如盔甲架，的面向始终朝向玩家。\n\n(1.12的时候)本来计划是获取玩家rx,ry。穷举数值反过来entitydata回实体，\n但是发现这样做明显不行...\n比如，玩家面向A1，在B4和E2的实体就不是意义上的面向玩家了...\n\n之后我想到的是生成蓝绿点检测那一行/列的实体，把检测到的实体给上标签。\n然后穷举各个标签的rotation/pose...\n\n然后在码这些的时候想到，可不可以通过1.13的^ ^ ^\n以玩家范围内的实体执行，让实体探测其面向是否有玩家，\"否\"则实体朝向角度改变，重复探测...\n如果是在function里，是能作到1tick的时间内找到并面向玩家的对吧...\n\n所以...来问下大佬们哪个做法更好，或者有没有更好的操作",
    "replies": [
        {
            "author": "pineapple_",
            "timestamp": 1515050040,
            "txt_content": "⊙v⊙ 发表于 2018-1-5 09:36\n突然想到是不是可以用tp facing。\n然后把rotation的第二个值store进scoreboard\n最后根据分数-90~90穷举，en ...\nexecute的store的entity子命令也可以把get得到的rotation的值返回给实体pose(吧……)\ntp facing\nexecute as 盔甲架 store entity @s Pose.Head[0] float run data get entity Rotation[1] 1\n\n\n说起开根\n\nchyx好像发过一个有关的视频教程\n\n2 p\n\nhttps://m.bilibili.com/video/av17932394.html"
        },
        {
            "author": "pca006132",
            "timestamp": 1515062640,
            "txt_content": "获取Pose，相减，相除，穷举atan数值\n自然那精度需要点处理。\n第一个方法精度难以太高\n第二个方法实体多点的时候卡的要死\n\n不过倒是想到第二个方法的优化，就是反转让玩家为中心四周做raycast，碰到的实体设置特定rotation。不用穷举而且速度应该可以接受，也不会因为太多实体而卡"
        },
        {
            "author": "chyx",
            "timestamp": 1515067500,
            "txt_content": "不能用tp的facing吗？"
        },
        {
            "author": "pineapple_",
            "timestamp": 1515072540,
            "txt_content": "18w01a\n\ntp 的facing模式\n\n但是貌似只是会看着玩家所在的坐标\n\n应该得execute转移一下执行坐标\n\n没想出什么不用穷举的办法"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1515115020,
            "txt_content": "pca006132 发表于 2018-1-4 00:44\n获取Pose，相减，相除，穷举atan数值\n自然那精度需要点处理。\n第一个方法精度难以太高\n@chyx @pineapple_ \n原来快照有最新操作啊...还以为是单纯bugfix\n\n但是那个facing只转rotation，\nAS头部的动作并不会往上下看，因为是Pose的Head\n又不能把rotation的值转到pose下...\n\n然后scoreboard又没有开根...所以真的只能穷举了吗..."
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1515116160,
            "txt_content": "突然想到是不是可以用tp facing。\n然后把rotation的第二个值store进scoreboard\n最后根据分数-90~90穷举，entitydata回到Pose{Head:[穷举数值,0f,0f]}\n\n至少这样比雪球靠谱..."
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1515126300,
            "txt_content": "pineapple_ 发表于 2018-1-4 17:50\nexecute的store的entity子命令也可以把get得到的rotation的值返回给实体pose(吧……)\ntp facing\nexecute  ...\n原来是Pose.Head吗...\n基本工不好...想哭\n这样就做到免穷举了吧\n\n这个可以的话就不去找开根了...让人头大\n\n有空我去试试..."
        },
        {
            "author": "pineapple_",
            "timestamp": 1515145800,
            "txt_content": "⊙v⊙ 发表于 2018-1-5 12:25\n原来是Pose.Head吗...\n基本工不好...想哭\n这样就做到免穷举了吧\nPose.Head是我瞎懵的\n\n待会我去试一下"
        },
        {
            "author": "pineapple_",
            "timestamp": 1515150240,
            "txt_content": "⊙v⊙ 发表于 2018-1-5 12:25\n原来是Pose.Head吗...\n基本工不好...想哭\n这样就做到免穷举了吧\n我测试了一下\ndata get之后反馈这个Pose.Head不是带数值tag，无法获取，所以说store不能修改这个\n或许只能穷举了[摊手.jpg]"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1515187740,
            "txt_content": "pineapple_ 发表于 2018-1-5 01:04\n我测试了一下\ndata get之后反馈这个Pose.Head不是带数值tag，无法获取，所以说store不能修改这个\n或许只 ...\n之前我还在想那个Pose怎么写，Pose{Head:[0]}，Pose{Head[0]}...\n你想的没错，免穷举成功了...好开心\n\n两条高频\nexecute as @e[type=armor_stand] at @s run teleport @s ~ ~ ~ facing @p\nexecute as @e[type=armor_stand] store result entity @s Pose.Head[0] float 1 run data get entity @s Rotation[1] 1复制代码\n"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1515285960,
            "txt_content": "pineapple_ 发表于 2018-1-5 01:04\n我测试了一下\ndata get之后反馈这个Pose.Head不是带数值tag，无法获取，所以说store不能修改这个\n或许只 ...\n补充一句，store这玩意好坑\n\n不像手动摆放的AS那样Pose Head有小幅旋转\nsummon出来的AS的Pose下什么数据都没有\n导致store不到东西\n\n所以summon出来的要预先给个数值..."
        },
        {
            "author": "pineapple_",
            "timestamp": 1515297600,
            "txt_content": "⊙v⊙ 发表于 2018-1-7 08:46\n补充一句，store这玩意好坑\n\n不像手动摆放的AS那样Pose Head有小幅旋转\n1.13更新特性里好像写了只能修改已有的值\n确实是个大坑……\n\n我也补充一下……那个倍数写1好像不是太精准了，最好是execute as @e[type=armor_stand] store result entity @s Pose.Head[0] float 1 run data get entity @s Rotation[1] 100000"
        },
        {
            "author": "pineapple_",
            "timestamp": 1515297600,
            "txt_content": "写错了execute as @e[type=armor_stand] store result entity @s Pose.Head[0] float 0.00001 run data get entity @s Rotation[1] 100000复制代码"
        }
    ]
}