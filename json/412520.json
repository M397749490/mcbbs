{
    "title": "[1.7.10][forge]mod在单人可以执行，在服务器上会崩溃",
    "author": "-IS-",
    "replyCount": 2,
    "timestamp": 1424397360,
    "txt_content": " 本帖最后由 -IS- 于 2015-2-20 11:32 编辑 \n\n我目的是搜索当前世界的某个玩家的坐标，在单人世界可以执行，在服务器世界上执行就会崩溃且跳出游戏，请问各位有何解决方法？\n\n版本是：forge-1.7.10-10.13.2.1236\n\n以下是部分代码：\n<p>public class GuiTeleportTicket extends GuiContainer \n{        ....略\n        protected void actionPerformed(GuiButton guibutton)\n         {        \n                //每当执行这一行都会在Server崩溃\n   EntityPlayer goToPlayer=MinecraftServer.getServer()\n   .getEntityWorld().getPlayerEntityByName(this.text.getText().toString());\n   \n   Minecraft.getMinecraft().thePlayer.sendChatMessage(this.text.getText().toString()+\" coordinate at:\"+goToPlayer.posX+\",\"+goToPlayer.posY+\",\"+goToPlayer.posZ);\n        }\n        \n        ....略\n}\n</p>复制代码\n\n以下是崩溃的资讯：\n---- Minecraft Crash Report ----\n// There are four lights!\n\nTime: 15-2-20 上午11:28\nDescription: Updating screen events\n\njava.lang.ArrayIndexOutOfBoundsException: 0\n        at net.minecraft.server.MinecraftServer.func_130014_f_(MinecraftServer.java:1166)\n        at tw.iscraft.mod1forrealmanserver.container.GuiTeleportTicket.func_146284_a(GuiTeleportTicket.java:96)\n        at net.minecraft.client.gui.GuiScreen.func_73864_a(GuiScreen.java:225)\n        at net.minecraft.client.gui.inventory.GuiContainer.func_73864_a(GuiContainer.java:326)\n        at tw.iscraft.mod1forrealmanserver.container.GuiTeleportTicket.func_73864_a(GuiTeleportTicket.java:83)\n        at net.minecraft.client.gui.GuiScreen.func_146274_d(GuiScreen.java:296)\n        at net.minecraft.client.gui.GuiScreen.func_146269_k(GuiScreen.java:268)\n        at net.minecraft.client.Minecraft.func_71407_l(Minecraft.java:1629)\n        at net.minecraft.client.Minecraft.func_71411_J(Minecraft.java:962)\n        at net.minecraft.client.Minecraft.func_99999_d(Minecraft.java:887)\n        at net.minecraft.client.main.Main.main(SourceFile:148)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:483)\n        at net.minecraft.launchwrapper.Launch.launch(Launch.java:135)\n        at net.minecraft.launchwrapper.Launch.main(Launch.java:28)\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- Head --\nStacktrace:\n        at net.minecraft.server.MinecraftServer.func_130014_f_(MinecraftServer.java:1166)\n        at tw.iscraft.mod1forrealmanserver.container.GuiTeleportTicket.func_146284_a(GuiTeleportTicket.java:96)\n        at net.minecraft.client.gui.GuiScreen.func_73864_a(GuiScreen.java:225)\n        at net.minecraft.client.gui.inventory.GuiContainer.func_73864_a(GuiContainer.java:326)\n        at tw.iscraft.mod1forrealmanserver.container.GuiTeleportTicket.func_73864_a(GuiTeleportTicket.java:83)\n        at net.minecraft.client.gui.GuiScreen.func_146274_d(GuiScreen.java:296)\n        at net.minecraft.client.gui.GuiScreen.func_146269_k(GuiScreen.java:268)\n\n-- Affected screen --\nDetails:\n        Screen name: tw.iscraft.mod1forrealmanserver.container.GuiTeleportTicket\n\n-- Affected level --\nDetails:\n        Level name: MpServer\n        All players: 1 total; [EntityClientPlayerMP['is100602'/161, l='MpServer', x=-113.99, y=66.62, z=-188.48]]\n        Chunk stats: MultiplayerChunkCache: 420, 420\n        Level seed: 0\n        Level generator: ID 00 - default, ver 1. Features enabled: false\n        Level generator options: \n        Level spawn location: World: (0,64,0), Chunk: (at 0,4,0 in 0,0; contains blocks 0,0,0 to 15,255,15), Region: (0,0; contains chunks 0,0 to 31,31, blocks 0,0,0 to 511,255,511)\n        Level time: 108824 game time, 96801 day time\n        Level dimension: 0\n        Level storage version: 0x00000 - Unknown?\n        Level weather: Rain time: 0 (now: true), thunder time: 0 (now: false)\n        Level game mode: Game mode: creative (ID 1). Hardcore: false. Cheats: false\n        Forced entities: 98 total; [EntityChicken['雞'/0, l='MpServer', x=-181.59, y=66.00, z=-180.38], EntitySpider['蜘蛛'/1, l='MpServer', x=-187.63, y=66.00, z=-189.41], EntityChicken['雞'/2, l='MpServer', x=-182.53, y=72.00, z=-176.41], EntityEnderman['終界使者'/261, l='MpServer', x=-173.50, y=36.00, z=-258.50], EntitySkeleton['骷髏'/262, l='MpServer', x=-130.50, y=36.00, z=-212.50], EntitySkeleton['骷髏'/263, l='MpServer', x=-129.94, y=36.00, z=-223.47], EntitySquid['烏賊'/7, l='MpServer', x=-174.50, y=55.13, z=-147.69], EntityZombie['殭屍'/264, l='MpServer', x=-133.50, y=38.00, z=-214.50], EntityPig['豬'/265, l='MpServer', x=-142.53, y=65.00, z=-214.56], EntityItem['item.item.arrow'/266, l='MpServer', x=-142.75, y=65.13, z=-215.44], EntityCreeper['苦力怕'/10, l='MpServer', x=-169.41, y=25.00, z=-176.94], EntityItem['item.item.bone'/267, l='MpServer', x=-142.38, y=65.13, z=-215.16], EntityChicken['雞'/11, l='MpServer', x=-171.56, y=64.00, z=-181.38], EntitySpider['蜘蛛'/268, l='MpServer', x=-133.81, y=64.00, z=-218.84], EntityChicken['雞'/12, l='MpServer', x=-171.59, y=64.00, z=-177.53], EntityCreeper['苦力怕'/269, l='MpServer', x=-135.34, y=64.00, z=-219.09], EntityCreeper['苦力怕'/13, l='MpServer', x=-170.44, y=26.00, z=-175.91], EntityPig['豬'/270, l='MpServer', x=-135.78, y=64.00, z=-215.91], EntitySquid['烏賊'/14, l='MpServer', x=-166.16, y=61.38, z=-157.63], EntityCreeper['苦力怕'/271, l='MpServer', x=-100.94, y=30.00, z=-264.34], EntityZombie['殭屍'/15, l='MpServer', x=-163.25, y=21.00, z=-109.44], EntitySkeleton['骷髏'/272, l='MpServer', x=-107.56, y=40.00, z=-260.03], EntitySkeleton['骷髏'/273, l='MpServer', x=-114.13, y=36.00, z=-267.50], EntityItem['item.item.beefRaw'/274, l='MpServer', x=-94.69, y=65.13, z=-222.47], EntityCreeper['苦力怕'/275, l='MpServer', x=-87.09, y=25.00, z=-236.78], EntityItem['item.item.arrow'/276, l='MpServer', x=-95.66, y=65.13, z=-239.50], EntityCow['乳牛'/20, l='MpServer', x=-137.44, y=65.00, z=-183.50], EntityCow['乳牛'/277, l='MpServer', x=-78.31, y=64.00, z=-204.53], EntityCow['乳牛'/21, l='MpServer', x=-135.13, y=63.00, z=-160.97], EntityCreeper['苦力怕'/278, l='MpServer', x=-97.41, y=15.00, z=-192.00], EntityCow['乳牛'/22, l='MpServer', x=-134.50, y=63.92, z=-165.50], EntitySkeleton['骷髏'/279, l='MpServer', x=-92.44, y=15.00, z=-194.94], EntityItem['item.tile.cactus'/23, l='MpServer', x=-112.28, y=65.13, z=-187.44], EntityCow['乳牛'/24, l='MpServer', x=-127.41, y=69.00, z=-169.25], EntityBat['蝙蝠'/281, l='MpServer', x=-86.13, y=17.44, z=-250.03], EntityItem['item.item.bone'/282, l='MpServer', x=-80.87, y=73.13, z=-244.88], EntityItem['item.item.arrow'/283, l='MpServer', x=-80.53, y=73.13, z=-244.44], EntityCow['乳牛'/30, l='MpServer', x=-125.84, y=63.00, z=-111.16], EntityCreeper['苦力怕'/287, l='MpServer', x=-66.50, y=18.00, z=-252.50], EntitySkeleton['骷髏'/35, l='MpServer', x=-102.44, y=15.00, z=-189.94], EntityCow['乳牛'/36, l='MpServer', x=-101.97, y=66.00, z=-184.03], EntityCow['乳牛'/37, l='MpServer', x=-96.31, y=72.00, z=-134.47], EntityBat['蝙蝠'/38, l='MpServer', x=-90.91, y=57.10, z=-186.44], EntityCreeper['苦力怕'/39, l='MpServer', x=-91.00, y=57.00, z=-184.44], EntityCow['乳牛'/40, l='MpServer', x=-85.22, y=66.00, z=-165.47], EntityCow['乳牛'/41, l='MpServer', x=-84.03, y=65.00, z=-165.50], EntityCow['乳牛'/42, l='MpServer', x=-88.25, y=71.00, z=-157.22], EntityCow['乳牛'/43, l='MpServer', x=-91.66, y=76.00, z=-119.28], EntityCow['乳牛'/44, l='MpServer', x=-88.03, y=76.00, z=-117.03], EntityCow['乳牛'/45, l='MpServer', x=-96.81, y=65.00, z=-119.44], EntityCow['乳牛'/52, l='MpServer', x=-78.78, y=64.00, z=-195.63], EntityCow['乳牛'/53, l='MpServer', x=-68.81, y=63.00, z=-118.81], EntityCow['乳牛'/54, l='MpServer', x=-74.47, y=67.00, z=-122.63], EntityCow['乳牛'/55, l='MpServer', x=-74.78, y=63.00, z=-116.31], EntityCow['乳牛'/56, l='MpServer', x=-66.03, y=66.00, z=-124.09], EntityCreeper['苦力怕'/67, l='MpServer', x=-49.91, y=43.00, z=-136.28], EntityCow['乳牛'/68, l='MpServer', x=-61.72, y=63.00, z=-117.28], EntityCow['乳牛'/69, l='MpServer', x=-49.50, y=72.00, z=-114.50], EntityCow['乳牛'/71, l='MpServer', x=-58.97, y=64.00, z=-111.88], EntitySpider['蜘蛛'/78, l='MpServer', x=-45.88, y=36.00, z=-112.50], EntityClientPlayerMP['is100602'/161, l='MpServer', x=-113.99, y=66.62, z=-188.48], EntityPig['豬'/162, l='MpServer', x=-155.06, y=67.00, z=-204.91], EntityPig['豬'/163, l='MpServer', x=-147.59, y=67.00, z=-206.81], EntityBat['蝙蝠'/165, l='MpServer', x=-78.59, y=27.73, z=-256.31], EntityCreeper['苦力怕'/166, l='MpServer', x=-90.66, y=34.00, z=-265.50], EntityBat['蝙蝠'/167, l='MpServer', x=-81.25, y=37.10, z=-262.25], EntityCreeper['苦力怕'/168, l='MpServer', x=-160.50, y=21.00, z=-229.50], EntitySkeleton['骷髏'/169, l='MpServer', x=-96.69, y=15.00, z=-194.69], EntitySkeleton['骷髏'/170, l='MpServer', x=-98.69, y=15.00, z=-193.44], EntityBat['蝙蝠'/171, l='MpServer', x=-121.25, y=37.10, z=-205.47], EntityZombie['殭屍'/172, l='MpServer', x=-116.50, y=37.00, z=-203.97], EntityItem['item.item.rottenFlesh'/173, l='MpServer', x=-107.31, y=64.13, z=-212.13], EntityItem['item.item.leather'/174, l='MpServer', x=-109.44, y=65.13, z=-210.53], EntityItem['item.item.beefRaw'/175, l='MpServer', x=-109.09, y=65.13, z=-210.94], EntityZombie['殭屍'/176, l='MpServer', x=-118.44, y=36.00, z=-213.00], EntityCreeper['苦力怕'/177, l='MpServer', x=-127.69, y=36.00, z=-219.28], EntityCreeper['苦力怕'/178, l='MpServer', x=-126.28, y=36.00, z=-211.59], EntitySkeleton['骷髏'/179, l='MpServer', x=-154.50, y=24.00, z=-234.50], EntityZombie['殭屍'/180, l='MpServer', x=-145.06, y=36.00, z=-234.56], EntityCreeper['苦力怕'/200, l='MpServer', x=-164.50, y=25.00, z=-207.50], EntityBat['蝙蝠'/201, l='MpServer', x=-132.25, y=37.10, z=-230.75], EntityBat['蝙蝠'/202, l='MpServer', x=-120.88, y=34.00, z=-235.28], EntityItem['item.item.rottenFlesh'/203, l='MpServer', x=-130.34, y=70.13, z=-233.13], EntitySkeleton['骷髏'/210, l='MpServer', x=-124.88, y=33.00, z=-232.72], EntityZombie['殭屍'/214, l='MpServer', x=-155.78, y=39.00, z=-252.69], EntityZombie['殭屍'/215, l='MpServer', x=-112.88, y=25.00, z=-263.78], EntityBat['蝙蝠'/216, l='MpServer', x=-116.31, y=24.86, z=-261.44], EntityPig['豬'/218, l='MpServer', x=-189.16, y=69.00, z=-259.66], EntityBat['蝙蝠'/220, l='MpServer', x=-124.63, y=39.10, z=-240.53], EntityCreeper['苦力怕'/221, l='MpServer', x=-129.00, y=38.00, z=-250.44], EntityCreeper['苦力怕'/222, l='MpServer', x=-122.50, y=32.00, z=-246.50], EntitySkeleton['骷髏'/223, l='MpServer', x=-121.50, y=32.00, z=-241.50], EntityZombie['殭屍'/224, l='MpServer', x=-186.13, y=33.00, z=-249.28], EntityPig['豬'/225, l='MpServer', x=-181.31, y=70.00, z=-243.53], EntityPig['豬'/226, l='MpServer', x=-182.81, y=69.00, z=-245.94], EntitySpider['蜘蛛'/239, l='MpServer', x=-152.38, y=36.00, z=-263.94], EntitySkeleton['骷髏'/240, l='MpServer', x=-157.50, y=47.00, z=-268.50], EntityBat['蝙蝠'/241, l='MpServer', x=-126.16, y=32.45, z=-263.63]]\n        Retry entities: 0 total; []\n        Server brand: fml,forge\n        Server type: Non-integrated multiplayer server\nStacktrace:\n        at net.minecraft.client.multiplayer.WorldClient.func_72914_a(WorldClient.java:373)\n        at net.minecraft.client.Minecraft.func_71396_d(Minecraft.java:2433)\n        at net.minecraft.client.Minecraft.func_99999_d(Minecraft.java:908)\n        at net.minecraft.client.main.Main.main(SourceFile:148)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:483)\n        at net.minecraft.launchwrapper.Launch.launch(Launch.java:135)\n        at net.minecraft.launchwrapper.Launch.main(Launch.java:28)\n\n-- System Details --\nDetails:\n        Minecraft Version: 1.7.10\n        Operating System: Windows 7 (amd64) version 6.1\n        Java Version: 1.8.0_25, Oracle Corporation\n        Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation\n        Memory: 85858912 bytes (81 MB) / 343695360 bytes (327 MB) up to 1060372480 bytes (1011 MB)\n        JVM Flags: 6 total; -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump -Xmx1G -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:-UseAdaptiveSizePolicy -Xmn128M\n        AABB Pool Size: 0 (0 bytes; 0 MB) allocated, 0 (0 bytes; 0 MB) used\n        IntCache: cache: 0, tcache: 0, allocated: 13, tallocated: 95\n        FML: MCP v9.05 FML v7.10.85.1236 Minecraft Forge 10.13.2.1236 4 mods loaded, 4 mods active\n        mcp{9.05} [Minecraft Coder Pack] (minecraft.jar) Unloaded->Constructed->Pre-initialized->Initialized->Post-initialized->Available->Available->Available->Available->Available->Available\n        FML{7.10.85.1236} [Forge Mod Loader] (forge-1.7.10-10.13.2.1236.jar) Unloaded->Constructed->Pre-initialized->Initialized->Post-initialized->Available->Available->Available->Available->Available->Available\n        Forge{10.13.2.1236} [Minecraft Forge] (forge-1.7.10-10.13.2.1236.jar) Unloaded->Constructed->Pre-initialized->Initialized->Post-initialized->Available->Available->Available->Available->Available->Available\n        mod1forrealmanserver{v0.1} [Mod1 For Realman Server] (Mod1 For Realman Server-v0.1.jar) Unloaded->Constructed->Pre-initialized->Initialized->Post-initialized->Available->Available->Available->Available->Available->Available\n        Launched Version: 1.7.10-Forge10.13.2.1236\n        LWJGL: 2.9.1\n        OpenGL: GeForce GTX 650/PCIe/SSE2 GL version 4.4.0, NVIDIA Corporation\n        GL Caps: Using GL 1.3 multitexturing.\nUsing framebuffer objects because OpenGL 3.0 is supported and separate blending is supported.\nAnisotropic filtering is supported and maximum anisotropy is 16.\nShaders are available because OpenGL 2.1 is supported.\n\n        Is Modded: Definitely; Client brand changed to 'fml,forge'\n        Type: Client (map_client.txt)\n        Resource Packs: []\n        Current Language: 繁體中文 (台灣)\n        Profiler Position: N/A (disabled)\n        Vec3 Pool Size: 0 (0 bytes; 0 MB) allocated, 0 (0 bytes; 0 MB) used\n        Anisotropic Filtering: Off (1)复制代码",
    "replies": [
        {
            "author": "myminecraft",
            "timestamp": 1425572760,
            "txt_content": " 本帖最后由 myminecraft 于 2015-3-6 00:27 编辑 \n\n看错误写的是数组的索引超过了界限，0，会不会是因为没有获取到对应的玩家实体呢？我不清楚，getPlayerEntityByName返回的是数组还是单个玩家实体。可能服务器里面没有这个名字的玩家。貌似调试的时候，玩家名都是player后面跟一串随机数字的，如果是这样，下一句输出消息之前，加一个非空判断，应该就不会报错了。如果不是这个原因的话。。。我也不清楚了，刚接触mod不久，也不是很熟悉，嘿嘿（话说其他地方我也没看到数组的影子....）"
        },
        {
            "author": "-IS-",
            "timestamp": 1425604440,
            "txt_content": "myminecraft 发表于 2015-3-6 00:26\n看错误写的是数组的索引超过了界限，0，会不会是因为没有获取到对应的玩家实体呢？我不清楚，getPlayerEnti ...\nok我會試試看的謝謝你，我看了其他文章是說不能直接取得server世界的資料，不過具體解決方法還不知道，如果解決了會再把方法貼上！"
        }
    ]
}