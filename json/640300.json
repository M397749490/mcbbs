{
    "title": "[以解决]怎么看玩家是否在地面上",
    "author": "tigerbi",
    "replyCount": 9,
    "timestamp": 1475823420,
    "txt_content": " 本帖最后由 tigerbi 于 2016-10-8 13:42 编辑 \n\n以解决\n\n\n                        boolean isOnLand = false;                        while (isOnLand = false) {                                teleportLocation = new Location(player.getWorld(), x, y, z);\n                                if (teleportLocation.getBlock().getType() != Material.AIR) {                                        isOnLand = true;                                }else y--;                        }\n",
    "replies": [
        {
            "author": "TimmyOVO",
            "timestamp": 1475840820,
            "txt_content": "player下面有一个方法叫\nisOnGround()"
        },
        {
            "author": "tigerbi",
            "timestamp": 1475842140,
            "txt_content": "星燚 发表于 2016-10-7 19:47\nplayer下面有一个方法叫\nisOnGround()\n我去试试看"
        },
        {
            "author": "tigerbi",
            "timestamp": 1475843580,
            "txt_content": "星燚 发表于 2016-10-7 19:47\nplayer下面有一个方法叫\nisOnGround()\n具体应该怎么用呢？使用的时候是显示是deprecated"
        },
        {
            "author": "TimmyOVO",
            "timestamp": 1475843820,
            "txt_content": "tigerbi 发表于 2016-10-7 20:33\n具体应该怎么用呢？使用的时候是显示是deprecated\n那只是过时了并不代表不能用"
        },
        {
            "author": "tigerbi",
            "timestamp": 1475845140,
            "txt_content": "星燚 发表于 2016-10-7 20:37\n那只是过时了并不代表不能用\n我现在这样子写还是会传送到天空中\n\nboolean isOnLand = false;\nwhile (isOnLand == false) {\nteleportLocation = new Location(player.getWorld(), x, y, z);\nif (player.isOnGround()) {\nisOnLand = true;\n}else y--;\n}"
        },
        {
            "author": "q549365815",
            "timestamp": 1475852280,
            "txt_content": ".....\nif(Player.onGround())\n{\n  //onGround return true\n  //Not onground return false\n}复制代码\n\n"
        },
        {
            "author": "a8105",
            "timestamp": 1475855460,
            "txt_content": "World类有getHighestBlockAt方法:\nBlock block=world.getHighestBlockAt(location);\nLocation loc=block.getLocation();\nloc.setBlockY(loc.getBlockY()+2);\ngetHighestBlockAt方法是获取到非空气方块,也就是地面方块(大概)"
        },
        {
            "author": "tigerbi",
            "timestamp": 1475889300,
            "txt_content": "q549365815 发表于 2016-10-7 22:58\n.....\n试了下，还是没有用"
        },
        {
            "author": "q549365815",
            "timestamp": 1475903640,
            "txt_content": "tigerbi 发表于 2016-10-8 09:15\n试了下，还是没有用\n真有意思\n\ngetServer().getScheduler().runTask(plugin,new Runnable()\n{\n  public void run()\n  (\n    int x,y,z;\n    x = new Random().next(int a);\n    //y z;\n    if(Player.getWorld().getBlockAt(x,y-1,z).type.equals(Material.AIR))\n    {\n      return;\n     }\n  )\n})复制代码"
        }
    ]
}