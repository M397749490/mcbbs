{
    "title": "◆科普扫雷(mang)帖◇论DDoS和压测的内容与区别以及服务器的选择◆",
    "author": "战鹰12138",
    "replyCount": 15,
    "timestamp": 1489672200,
    "txt_content": " 本帖最后由 战鹰12138 于 2017-3-16 22:47 编辑 \n\n咳咳，\n话说我这个MCBBS号除了顶帖没什么用，\n那么我就来给大家介绍下关于DDoS和小学*压测的内容吧。\n\n我的服务器已经开了快一年了吧，从去年开的到现在，\n当时刚开始的是CS1.6服务器，人数只有1-6个人在一起打打CS什么的。\n渐渐地我的CS服务器宣传出去了，来玩的人渐渐多起来，网络攻击也就接踵而至。?从当初的55Mbps的攻击流量，发展到现在的10.56Gbps，老衲感慨万分。\n\n先从我开的CS服务器开始说起吧，大家都对CS1.6这个游戏很熟悉（众人：废话- -），\n但是我要说的是CS1.6这个游戏和其他游戏（比如说MC）不太一样，它使用的是UDP协议。\n在互联网中，UDP协议是不可靠、不稳定的，也就是说UDP没有TCP这样的三次握手的过程，但是是传输速率最快的。\n所以在互联网中，UDP协议的攻击是最有效也是最难防御的（几乎可以说是没有任何防御方法能抵御UDP Flood）。根据最新统计（2017年3月16日 10:30:00），互联网上遭受到的最高攻击流量已经超过Tbps级别（1T=1024G，1G=1024M），这次超过Tbps级别的攻击目标是法国最大的云端服务与主机代管供应商OVH。\n提示下：我国一座中小型城市的总带宽一般在500Gbps左右，而那个Tbps级别的流量如果打到我国某个城市上，估计那个城市就直接断网了。\n\n所以每次我的CS服务器遭受攻击的时候，Tab键里的Ping值会忽然上升，然后直接Connected Problem。\n再就是提醒大家如果想开服务器的话，我个人建议不要去阿里云、TX云这样的大型IDC提供商，因为他们的流量黑洞时间过长，\n我现在服务器的流量黑洞时间只有30分钟，而且提供的防御峰值和阿里云、TX云一样（版主：你丫的是在发广告吗？ 本人：改了哥）。\n\n好了我们现在说说关于MC的问题。\nMC全称Minecraft，是一款风靡全球的游戏（众人：废话，你TM能不能别bb些废话）（版主：哎对了论坛的删帖键在哪里来着？）\nMC和其他大部分网游一样，使用的是TCP协议，\nTCP协议的有点是可靠，原因是双方在建立连♂接♂的时候要进行三次握手，即TCP的发送方发送的数据包中带有序号，对方收到包之后要给一个反馈才能继续。如果再建立握手的时候，客户端因为某些原因忽然掉线的话，服务器会等待客户端的重连（也就是SYN_RECV状态），重进建立可靠地连接。\n黑客利用TCP协议的SYN_RECV漏洞发明出了SYN Flood攻击。\n\n总而言之：UDP Flood最有效也是最难防御的。SYN Flood对服务器的破坏力比UDP Flood强的多，UDP Flood只是堵塞掉服务器的入口带宽，而SYNFlood却是撑爆服务器的CPU和内存。\n\n在我创建MC服务器之后，遭到过不少小学*的压测和DDoS，\nDDoS和压测的区别就是：\nDDoS的来势凶猛，瞬间就可以击垮一台服务器，而且大部分都是来自国外的IP，防御很难，而且如果想要去追根溯源可以说是难上加难。\n压测只是单台或多台机器同时利用MC的漏洞进行卡服务器的行为，大部分被捕捉到的压测IP都是国内的IP，而且70%是来自熊孩子的家庭PC，30%是来自熊孩子所拥有的VPS服务器。\n我曾经见过有熊孩子压测服务器，被腐竹捕捉到家庭IP之后直接被腐竹的黑客朋友给人肉了= =姓名、年龄、家庭住址、电话、性别等等一大堆个人内容全部暴露。\n\n关于DDoS和压测的防御措施：\n　DDoS：\n1.目前除了购买流量清洗设备或购买高级防御服务器外（据说能清洗掉99.99%的攻击流量），无治本的办法。\n2.封闭不需要的端口，或者限制端口的使用协议，比如说3389端口只接收TCP协议的数据包，拒绝UDP协议的数据包。\n3.只能看着服务器被小学*攻击，却没有任何办法，“让这**玩去吧，等他玩累了就停了”，这个是最好但也是最危险的办法。\n\n　压测：\n1.使用MCBBS里的抗压测插件就可以起到防御效果，这种小事儿简单搞定。\n2.在服务器内安装安全狗等软防，一般的，当服务器被熊孩子压测的时候，安全狗会提示“检测到TCP半连接攻击”，那么你打开安全狗就会看到熊孩子的IP，哈哈，拿着那个IP随便玩吧，想怎么攻击就怎么攻击。\n\n好了，BB了这么多，DDoS和压测的区别也大致介绍完了。如果我上面说的有不对或有瑕疵的地方，请不要喷我，指出来我会改正的=w=\n\n\n\n\n\n\n肉鸡模拟图.jpg\n(49.18 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2017-3-16 22:05 上传\n\n\n\n\n\n\n\n\n网络DDoS攻击傀儡机拟真图\n\n\n\n\n\n\n\n\n\n\n\nTCP连接.png\n(21.13 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2017-3-16 22:05 上传\n\n\n\n\n\n\n\n\nTCP连接\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "Belanga",
            "timestamp": 1489673700,
            "txt_content": "解释得很清楚，好评！"
        },
        {
            "author": "战鹰12138",
            "timestamp": 1489673880,
            "txt_content": "Belanga 发表于 2017-3-16 22:15\n解释得很清楚，好评！\n感谢~！"
        },
        {
            "author": "Redbeanw",
            "timestamp": 1489676340,
            "txt_content": "我来补充一下。其实不管是什么压测防御插件都无法有效阻止压测，只能阻止这个压测包进入服务器，就拿假人压测来讲，压测软件创建1000个假人，一般的压测插件能防御998个，另外2个进去了，但是这998个也把门给挤成x样了？另外，我认为楼主有一句话（最后那几句）说的不对，首先我看了这个贴第一反应就是【楼主对熊孩子不了解！】，现在的防御方式升级换代，压测软件就静止不动？现在的集群压测不知道把服务器整成啥样，集群压测是利用多线程+代理IP压测，获取到几个代理就创建多少线程，这样的话估计ip都看不到了，只有一群莫名其妙的IP在攻击；另外，我总结一下。防御压测最好的办法是装安全狗，防御ddos最好的办法是买流量。安全狗和流量就像铁傀儡，压测包就像怪物，反压测插件只能等怪物到门前了再杀，安全狗和流量能在院子里杀。？。。。。"
        },
        {
            "author": "。—。",
            "timestamp": 1489678440,
            "txt_content": "开个服搞得跟要打仗了一样"
        },
        {
            "author": "战鹰12138",
            "timestamp": 1489707000,
            "txt_content": "Redbeanw 发表于 2017-3-16 22:59\n我来补充一下。其实不管是什么压测防御插件都无法有效阻止压测，只能阻止这个压测包进入服务器，就拿假人压 ...\n我是学计算机网络技术专业的，所以对DDoS攻击比较感兴趣，\n我看着现在最大规模的压测就是某熊吧对梦世界的一次集群压测，梦世界貌似没安装抗压测插件。\n再就是现在一个VPN特别贵，应该不会有人为了去压崩一个服务器而去购买价格昂贵的VPN吧。\n还有那个超过Tbps级别的流量攻击来自于全球各地的iot网络摄像头设备，物联网设备已经成为了新的肉鸡源，这么高的流量连英国IDC都无法阻挡，能有什么设备能做到被攻击的瞬间发现并清洗呢？"
        },
        {
            "author": "乔柚",
            "timestamp": 1489707420,
            "txt_content": "挺好的...大佬还玩过cs1.6..."
        },
        {
            "author": "LRual",
            "timestamp": 1489708500,
            "txt_content": "可以可以，原来都有S了\n我才刚学到B\n这里还有个C：http://www.mcbbs.net/thread-597532-1-1.html\n\n\n\n\n\n搜狗截图_2017-03-16_19-50-45.png (55.95 KB, 下载次数: 0)\n\n下载附件\n\n2017-3-17 07:54 上传\n\n\n\n\n\n"
        },
        {
            "author": "战鹰12138",
            "timestamp": 1490417400,
            "txt_content": "吕乐乐 发表于 2017-3-25 11:58\n解释细致，这下终于不用担心每天QQ私信一堆人问我：\n为啥安装了我的插件之后又被D死了\n我简直欲哭无泪啊 ...\ndalao你好。"
        },
        {
            "author": "战鹰12138",
            "timestamp": 1490418240,
            "txt_content": " 本帖最后由 战鹰12138 于 2017-3-25 13:06 编辑 \n1026833619 发表于 2017-3-17 07:55\n可以可以，原来都有S了\n我才刚学到B\n这里还有个C：http://www.mcbbs.net/thread-597532-1-1.html\n我不怕DDOC，就怕DDoS233"
        },
        {
            "author": "lovekasumi",
            "timestamp": 1490440860,
            "txt_content": "好吧很6\n有熊孩子自然是要干回去了"
        },
        {
            "author": "43729417@qq.com",
            "timestamp": 1490441100,
            "txt_content": "马这么多字的份上,必须好评一个"
        },
        {
            "author": "a929480035",
            "timestamp": 1490442900,
            "txt_content": "大家一起想反对熊孩子的方法。熊兄弟们 他们又开始防我们了0.0 大家快想别的熊办法  滑稽"
        },
        {
            "author": "jnworld",
            "timestamp": 1490498880,
            "txt_content": "目前的“集群压测”理应属于DDoS\n因为确确实实属于基于TCP协议的分布式拒绝服务攻击。\n（也就是说来自单源的压力测试攻击就应该属于DoS攻击了）\n\n另外强调“UDP协议是不可靠、不稳定的”没太大意义吧。。。你只需要说UDP的数据包能瞎杰宝伪造（虽然TCP也能？）而且包还可以很大所以很容易堵塞带宽。"
        },
        {
            "author": "jnworld",
            "timestamp": 1490498940,
            "txt_content": "Redbeanw 发表于 2017-3-16 22:59\n我来补充一下。其实不管是什么压测防御插件都无法有效阻止压测，只能阻止这个压测包进入服务器，就拿假人压 ...\n安全狗针对性不强。单源的攻击还好，复杂起来又不是给MC设计的防火墙漏掉的很多。\n而且这些话你应该对乐乐说。。。让他的AAT吸收一下你的意见。\n\n“这样的话估计ip都看不到了”这啥？"
        },
        {
            "author": "七海八千代",
            "timestamp": 1490502120,
            "txt_content": "CYQ Attack你值得拥有 #滑稽"
        }
    ]
}