{
    "title": "APC基础教程1",
    "author": "yuxuanchiadm",
    "replyCount": 17,
    "timestamp": 1384833360,
    "txt_content": " 本帖最后由 yuxuanchiadm 于 2014-9-30 15:07 编辑 \n\n主贴：http://www.mcbbs.net/thread-197233-1-1.html\n\nAPC是个以汇编语言、VCPU-32虚拟机为基础的MOD。其实其用起来并没有想象中的复杂，只要入门了就很容易学会。此MOD开发时就是个编（触）程（手）普（退）及（散）向的MOD。所以其指令集的设计也尽量简单化。\n\n1.基础MOD知识\nAPC中有两大设备：\n计算机\n\n\n\n\nvcpu-32.png (22.05 KB, 下载次数: 6)\n\n下载附件\n\n2013-11-19 11:04 上传\n\n\n\n\n\n其中的计算机的前面按钮用于打开和关闭计算机。\n侧面的机箱盖右键可以往里面放置CMOS芯片。\n和：\n外设\n\n\n\n\n无标题.png (57.8 KB, 下载次数: 7)\n\n下载附件\n\n2014-9-30 14:45 上传\n\n\n\n\n\n（从左到右分别是300Bytes储存器、显示器、键盘、数值显示器、控制台文本显示器、红石控制器）\n（其中“控制台文本显示器”可以用“扩展控制台文本显示器”来扩展）\n其分别用\n数据线和数据接口\n\n\n\n\n233.png (55.56 KB, 下载次数: 8)\n\n下载附件\n\n2013-11-19 11:10 上传\n\n\n\n\n\n连接。\n可以用：\n外设端口分配器\n\n\n\n\n2.png (2.3 KB, 下载次数: 4)\n\n下载附件\n\n2013-11-19 11:14 上传\n\n\n\n\n\n来分配设备的端口（右键外设）\n\n\n\n\nYY截图20131119111334.png (54.2 KB, 下载次数: 3)\n\n下载附件\n\n2013-11-19 11:14 上传\n\n\n\n\n\n如果两个设备外设端口相同则后来的会被忽略。\n虚拟机需要自行编写程序运行（以后会加一个默认的简单的操作系统）\n编写程序没有想象中那么复杂，拿着：\n电擦写BIOS设备\n\n\n\n\nYY截图20131119111808.png (1.65 KB, 下载次数: 2)\n\n下载附件\n\n2013-11-19 11:19 上传\n\n\n\n\n\n右键打开GUI：\n\n\n\n\nYY截图20131119111917.png (55.16 KB, 下载次数: 2)\n\n下载附件\n\n2013-11-19 11:20 上传\n\n\n\n\n\n右边可以放入\nCMOS芯片\n\n\n\n\nYY截图20131119112111.png (4.79 KB, 下载次数: 3)\n\n下载附件\n\n2013-11-19 11:22 上传\n\n\n\n\n\n如果芯片内有数据则可以点击反编译，反编译芯片中的数据到可识别的文本。\n当写好程序后依次点击汇编、写入来写入程序到CMOS芯片。\n\n2.基础程序知识\n虚拟机本身有三个部分能存储数据：寄存器、内存和函数栈。\n1.寄存器\n寄存器是高效、便捷的储存数据的方式。所有寄存器都是线程独立的（线程间不共享）。虚拟机每个线程拥有8个通用寄存器（无其他特定用处的寄存器）:A、B、C、X、Y、Z、I、J。可以存放任何自己想存放的数据。有3个特殊寄存器：O、PC、SP。O寄存器用于在特定指令出现错误后读取其数值来确定发生了什么。PC寄存器问程序指针，指向一个特定内存位置，表示线程当前程序目前执行到的位置。改变其数值可以跳转程序。SP寄存器是函数栈的指针，用于确定当前函数栈顶在哪，其值是可变的。\n2.内存\n内存是虚拟机中最大的存储器，其中存放着程序、BIOS程序（CMOS芯片内的数据）、静态数据和用户数据：\n\n内存 说明   0 - 3071 代码段 存放程序代码 3072 - 7167 静态储存区 储存字符串和其他数据，由编译器编译时修改其中的内容，不应该对其进行修改 7168 - 8191 BIOS预留 BIOS（前512为只读BIOS程序，后512为BIOS设置储存区） 8192 - 65534 自由内存 程序可以自由使用的内存，还可以映射IO端口\n其访问方式为[address]例如[8192]为访问8192号内存。也可以用[register]的方式通过先从寄存器获取值，然后再通过寄存器所指定的地址来访问内存，例如[A]、[B]、[C]、[X]、[PC]、[O]等。\n3.函数栈：\n函数栈用于在两个函数间交换数据，栈是一种先进后出的结构：\n\n\n\n\na.png (2.03 KB, 下载次数: 3)\n\n下载附件\n\n2013-11-19 11:43 上传\n\n\n\n\n\n关于栈的内容会在以后讲解。\n3.第一个程序\n任何程序猿的第一个程序几乎都是“Hello World!”。但在这之前，我们先来看看第一个最简单的指令：SET\nSET用于设置虚拟机的一个存储器为特定值。\n输入：\nSET A,233\n\n\n\n\n2323232.png (55.83 KB, 下载次数: 3)\n\n下载附件\n\n2013-11-19 11:55 上传\n\n\n\n\n\n编译、写入程序到芯片，然后放入虚拟机运行。观察Debug信息（控制台输出）就会发现A寄存器被设置为了233~。\n\n\n\n\n23232313123.png (5.62 KB, 下载次数: 1)\n\n下载附件\n\n2013-11-19 11:56 上传\n\n\n\n\n\n\n\n下一教程：基础教程2\n\n",
    "replies": [
        {
            "author": "qake",
            "timestamp": 1384833540,
            "txt_content": "人生的第一个沙发{:10_492:}"
        },
        {
            "author": "七由理",
            "timestamp": 1384833660,
            "txt_content": "不懂，但不明觉历！帮楼主人工置顶吧！{:10_523:}\n@53"
        },
        {
            "author": "1847291366",
            "timestamp": 1384834320,
            "txt_content": "完全弄不懂····"
        },
        {
            "author": "Aikawastep",
            "timestamp": 1384835400,
            "txt_content": "支持一 个{:10_566:}"
        },
        {
            "author": "黄凯航",
            "timestamp": 1384836900,
            "txt_content": "国外应该要有类似ComputerCraft却用C++代替Lua的MOD。"
        },
        {
            "author": "星空骑士",
            "timestamp": 1384838940,
            "txt_content": "编程渣在此表示不懂，但楼主还是很用心的"
        },
        {
            "author": "1730840486",
            "timestamp": 1384839540,
            "txt_content": "不是浏览器模组，也不知有何用"
        },
        {
            "author": "tsubasa56",
            "timestamp": 1384879620,
            "txt_content": "希望真的有有心的玩家去研究这个mod"
        },
        {
            "author": "ijnokmsc",
            "timestamp": 1387040280,
            "txt_content": "作为一个程序猿，当我看到最后的时候，我才发现，这他妈的不是汇编么？可惜我不会汇编！"
        },
        {
            "author": "huanghongxun",
            "timestamp": 1387195380,
            "txt_content": "黄凯航 发表于 2013-11-19 12:55 \n国外应该要有类似ComputerCraft却用C++代替Lua的MOD。\nc++不方便吧\n脚本语言方便的。"
        },
        {
            "author": "1343",
            "timestamp": 1387195860,
            "txt_content": "不明觉厉！{:10_523:}"
        },
        {
            "author": "jhzh01",
            "timestamp": 1389261960,
            "txt_content": "...楼主还是用MOV的好啊~毕竟汇编语言比较常见一点~~还有就是最好能够契合8086CPU，还有各种的寄存器，改成AX，BX，CX，DX，SS，SP，CS，IP，。。。\n希望改进~"
        },
        {
            "author": "yuxuanchiadm",
            "timestamp": 1389280080,
            "txt_content": "jhzh01 发表于 2014-1-9 18:06 \n...楼主还是用MOV的好啊~毕竟汇编语言比较常见一点~~还有就是最好能够契合8086CPU，还有各种的寄存器，改成 ...\n本身就不是一个指令集和构架，有必要抄80x86么"
        },
        {
            "author": "jhzh01",
            "timestamp": 1389342840,
            "txt_content": " 本帖最后由 jhzh01 于 2014-1-10 16:42 编辑 \nyuxuanchiadm 发表于 2014-1-9 23:08 \n本身就不是一个指令集和构架，有必要抄80x86么\n感觉MOV爽一点~"
        },
        {
            "author": "yuxuanchiadm",
            "timestamp": 1389343140,
            "txt_content": "jhzh01 发表于 2014-1-10 16:34 \n感觉MOV爽一点~\nmov原指移动的意思，而这命令并不破坏原地址的数据，所以当初就该改成set或者copy，为何要沿用错误的命名方法？熊也得有限度"
        },
        {
            "author": "lzlniu",
            "timestamp": 1434087000,
            "txt_content": "然而它可以用来干嘛呢，不明觉厉，如果弄上一些用此mod可以实现的有趣功能说不定会让该mod得到更好的推广。印象中像是cc和oc这俩mod都提供了比较强的生存模式的使用途径。而且和很多mod的联动也不错，像是oc的自动收割等等，编程向的模组总觉得如果不提供实质性游戏内容会让玩家摸不清头脑的，在此还是给触跪了，教程制作的很详细。"
        },
        {
            "author": "wyq555",
            "timestamp": 1434876360,
            "txt_content": "问一下：是不是开机后就会执行程序？  那么哪里显示Debug信息？（知道是控制台可是在哪里？里面的外设显示器可以用来显示吗？）"
        }
    ]
}