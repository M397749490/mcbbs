{
    "title": "[管理|安全]CommandBlockingManager——屏蔽玩家特定命令[InfStudio][1.10.2-1.12.2]",
    "author": "土球球",
    "replyCount": 22,
    "timestamp": 1518762600,
    "txt_content": " 本帖最后由 ustc_zzzz 于 2018-8-30 14:15 编辑 \n\nCommand Blocking Manager\n命令屏蔽检查器\n\n命令屏蔽检查器是一个基于Java7编写的服务端插件，可以同时作用于Sponge 1.10-1.12的服务端，也可当作BungeeCord插件使用。\n\n为什么这不是一个Bukkit插件？原因很简单，因为我不会写x\n\n事情起因\n\n有一天我在Hypixel国际服玩的时候，突发奇想，想输入几个常见命令， 不过很快我就发现Hypixel把绝大多数命令屏蔽了，但是我在尝试输入/w，然后按下Tab键时，Hypixel哗啦啦地为我提供了一大堆命令提示：\n\n\n通过不断地触发这种提示，我甚至可以猜测出来Hypixel装了哪些插件。这对服务器的安全不得不说是一种影响。一个念头就在我脑袋里渐渐成型了——我要做一个屏蔽命令的插件，这个插件不止能屏蔽命令的使用，还可以屏蔽命令提示，而且配置还要足够简单。\n\n然后这个插件诞生了。\n\n使用方法\n\n扔BC端的plugins/目录底下，或者Sponge端的mods/目录底下。\n\n启动后会在配置文件目录底下出现一个commandblockingmanager.conf的文件。这个文件既不是BC常用的YAML格式，也不是Sponge常用的HOCON格式，是一个我自己写的插件自己负责解析的文本格式。\n\n默认的BC端配置文件格式长这样：\n\n- \\?\n- help复制代码\n这代表禁止玩家使用/?和/help两个命令。\n\n默认的Sponge端配置文件格式长这样：\n\n- \\?\n- help\n- sp\n- sponge\n- sponge:\\?\n- sponge:help\n- sponge:sp\n- sponge:sponge复制代码\n这代表禁止玩家使用上面出现的八个命令。\n\n功能配置\n\n这插件用不着权限也没命令，只有一个配置文件需要修改。\n\n配置文件中所有“#”开头的行为注释，暂时不支持为其他行加注释。\n\n配置文件中所有“-”开头的行代表玩家被禁止使用其后的命令。  \n\n支持子命令，比如说可以这么写： \n\n- time add\n- time set复制代码\n这将禁用这两个子命令。\n\n支持?和*作为通配符，比如说“- time *”代表禁用/time命令的所有子命令，而- t???将同时禁用/tell和/time所有命令。\n\n配置文件中所有“+”开头的行代表玩家被允许使用其后的命令。这可以用于白名单模式，比如：\n\n- *\n+ home\n+ back复制代码\n这将禁用所有除/home和/back之外的命令。再比如：\n\n- weather\n+ weather clear复制代码\n这将禁用所有/weather的子命令，但/weather clear除外。\n\n使用诸如\\?和\\*这样的转义方式表示这两个字符，比如说- \\?表示禁用/?这一命令（通常是/help的简写），而- ?这样的写法就禁用了所有一个字符的命令，一些诸如/w（和/tell等价）的命令就也被禁用了。\n\n当配置文件为空时，默认玩家可以使用所有命令。\n\n此外，可以根据不同的权限分配不同的命令，比如：\n\n- *\n+ home\n\n[nucleus.back.base]\n+ back复制代码\n上面的配置文件的意思是默认情况下所有玩家只看得到/home指令，但是如果玩家拥有nucleus.back.base权限，那么他还可以看得到/back指令。\n\n插件截图\n\n这真没啥好截图的。。。我放个BC控制台的截图好了：\n\n\n下载链接\n\n帖子的开头有。\n\n更新日志\n\n暂时没有。\n\n原创声明\n\n本插件所用所有代码均为原创，不存在借用/抄袭等行为\nMarkdown备份\n\n整个主题帖使用Markdown编写，并使用相关工具转换为BBCode。该部分内容为备份，和主题正文无关。\n\n[align=center][size=4][b]Command Blocking Manager  \n命令屏蔽检查器[/b][/font][/align]\n\n命令屏蔽检查器是一个基于Java7编写的服务端插件，可以同时作用于Sponge 1.10-1.12的服务端，也可当作BungeeCord插件使用。\n\n为什么这不是一个Bukkit插件？原因很简单，因为我不会写x\n\n### 事情起因\n\n有一天我在Hypixel国际服玩的时候，突发奇想，想输入几个常见命令， 不过很快我就发现Hypixel把绝大多数命令屏蔽了，但是我在尝试输入`/w`，然后按下Tab键时，Hypixel哗啦啦地为我提供了一大堆命令提示：  \n![](https://i.loli.net/2018/02/16/5a866dcae46a9.png)\n\n通过不断地触发这种提示，我甚至可以猜测出来Hypixel装了哪些插件。这对服务器的安全不得不说是一种影响。一个念头就在我脑袋里渐渐成型了——我要做一个屏蔽命令的插件，这个插件不止能屏蔽命令的使用，还可以屏蔽命令提示，而且配置还要足够简单。\n\n然后这个插件诞生了。\n\n### 使用方法\n\n扔BC端的`plugins/`目录底下，或者Sponge端的`mods/`目录底下。\n\n启动后会在配置文件目录底下出现一个`commandblockingmanager.conf`的文件。这个文件既不是BC常用的YAML格式，也不是Sponge常用的HOCON格式，是一个我自己写的插件自己负责解析的文本格式。\n\n默认的BC端配置文件格式长这样：\n```\n- \\?\n- help\n```\n这代表禁止玩家使用`/?`和`/help`两个命令。\n\n默认的Sponge端配置文件格式长这样：\n```\n- \\?\n- help\n- sp\n- sponge\n- sponge:\\?\n- sponge:help\n- sponge:sp\n- sponge:sponge\n```\n这代表禁止玩家使用上面出现的八个命令。\n\n### 功能配置\n\n这插件用不着权限也没命令，只有一个配置文件需要修改。\n\n配置文件中所有“`#`”开头的行为注释，暂时不支持为其他行加注释。\n\n配置文件中所有“`-`”开头的行代表玩家被禁止使用其后的命令。  \n\n支持子命令，比如说可以这么写： \n```\n- time add\n- time set\n```\n这将禁用这两个子命令。\n\n支持`?`和`*`作为通配符，比如说“`- time *`”代表禁用`/time`命令的所有子命令，而`- t???`将同时禁用`/tell`和`/time`所有命令。\n\n配置文件中所有“`+`”开头的行代表玩家被允许使用其后的命令。这可以用于白名单模式，比如：\n```\n- *\n+ home\n+ back\n```\n这将禁用所有除`/home`和`/back`之外的命令。再比如：\n```\n- weather\n+ weather clear\n```\n这将禁用所有`/weather`的子命令，但`/weather clear`除外。\n\n使用诸如`\\?`和`\\*`这样的转义方式表示这两个字符，比如说`- \\?`表示禁用`/?`这一命令（通常是`/help`的简写），而`- ?`这样的写法就禁用了所有一个字符的命令，一些诸如`/w`（和`/tell`等价）的命令就也被禁用了。\n\n当配置文件为空时，默认玩家可以使用所有命令。\n\n此外，可以根据不同的权限分配不同的命令，比如：\n```\n- *\n+ home\n\n[nucleus.back.base]\n+ back\n```\n上面的配置文件的意思是默认情况下所有玩家只看得到`/home`指令，但是如果玩家拥有`nucleus.back.base`权限，那么他还可以看得到`/back`指令。\n\n### 插件截图\n\n这真没啥好截图的。。。我放个BC控制台的截图好了：  \n![](https://i.loli.net/2018/02/16/5a8673974dad6.png)\n\n### 下载链接\n\n帖子的开头有。\n\n### 更新日志\n\n暂时没有。\n\n### 原创声明\n\n> 本插件所用所有代码均为原创，不存在借用/抄袭等行为\n\n### Markdown备份\n\n整个主题帖使用Markdown编写，并使用相关工具转换为BBCode。该部分内容为备份，和主题正文无关。复制代码\n\n[groupid=534]InfinityStudio[/groupid]",
    "replies": [
        {
            "author": "dark7",
            "timestamp": 1520406960,
            "txt_content": "支持大佬，如果可以添加不同世界不同禁用更加实用"
        },
        {
            "author": "土球球",
            "timestamp": 1520514840,
            "txt_content": "dark7 发表于 2018-3-7 15:16\n支持大佬，如果可以添加不同世界不同禁用更加实用\n你可以针对不同的世界使用不同的权限，比如说如果你在用LuckPerms的话，你可以：\n/lp group default permission set permission.you.like world=world_nether复制代码"
        },
        {
            "author": "dark7",
            "timestamp": 1520580120,
            "txt_content": "ustc_zzzz 发表于 2018-3-8 21:14\n你可以针对不同的世界使用不同的权限，比如说如果你在用LuckPerms的话，你可以：\n ...\n懂了，谢谢大佬"
        },
        {
            "author": "hyzgzz",
            "timestamp": 1525515360,
            "txt_content": "连接炸了兄弟"
        },
        {
            "author": "土球球",
            "timestamp": 1525516980,
            "txt_content": "bhyzgzz 发表于 2018-5-5 18:16\n连接炸了兄弟\n指啥链接。。。？下载链接没炸啊"
        },
        {
            "author": "hyzgzz",
            "timestamp": 1525527960,
            "txt_content": "ustc_zzzz 发表于 2018-5-5 18:43\n指啥链接。。。？下载链接没炸啊\n我打不开..."
        },
        {
            "author": "Tollainmear",
            "timestamp": 1530285300,
            "txt_content": " 本帖最后由 Tollainmear 于 2018-6-29 23:23 编辑 \n @Listener\n    public void onReload(GameReloadEvent event)\n    {\n        this.rulePermissionPairs = this.getRulePermissionPairs();\n        this.logger.info(\"{} rule(s) loaded in total.\", this.rulePermissionPairs.size());\n    }复制代码\n\n只能这么重载么，这会导致一些。。。。。。小问题。。。"
        },
        {
            "author": "草原能跳绳",
            "timestamp": 1530504900,
            "txt_content": " 本帖最后由 草原能跳绳 于 2018-7-2 12:22 编辑 \n\n我原封不动复制：\n- *\n+ home\n\n[nucleus.back.base]\n+ back\n并使用，似乎并不能实现有这个权限就有back指令这个功能\n\n建议直接设置成：不限制op使用指令，不然对于管理服务器很不方便\n\n还有就是，mcbbs里的那个@插件，也被限制了，不止能否修改，使用插件后，@+玩家ID首字母+tab键不能快捷补充玩家名称，产生不便\n\n另外，亲测如果编辑如+tpa后，客户端输入/tpa +玩家ID首字母+tab键可以快捷补充玩家名称，这个是好的"
        },
        {
            "author": "a65w46a",
            "timestamp": 1532690520,
            "txt_content": "啥意思没看懂怎么用"
        },
        {
            "author": "1062447360",
            "timestamp": 1535595780,
            "txt_content": "能不能支持下大小写....比如要禁用/minecraft:me这个指令,玩家只要把任意字母改成大写就还可以使用。。。这个太坑啦"
        },
        {
            "author": "土球球",
            "timestamp": 1535609760,
            "txt_content": "1062447360 发表于 2018-8-30 10:23\n能不能支持下大小写....比如要禁用/minecraft:me这个指令,玩家只要把任意字母改成大写就还可以使用。。。这 ...\n已于 v0.1.1 修复。"
        },
        {
            "author": "situfangjian",
            "timestamp": 1555921980,
            "txt_content": "这个命令禁止是彻底不能使用了吗？其实我也有同样的源头遭遇， 一个tab一堆命令会出现。如果是彻底禁止了命令无法使用，给管理者会带来很大困难。 \n个人建议，最好还是设置一个权限，这个权限内的用户无法操作tab 补全命令，但是可以手动打全命令。这样就可以避免一些麻烦"
        },
        {
            "author": "Maotong_qwq",
            "timestamp": 1561341780,
            "txt_content": "啥意思没看懂怎么用"
        },
        {
            "author": "lrc123250",
            "timestamp": 1561431780,
            "txt_content": "我这里好像连op都用不了指令了"
        },
        {
            "author": "An-xin",
            "timestamp": 1570178580,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "king北辰",
            "timestamp": 1577277060,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "king北辰",
            "timestamp": 1577277120,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "抱枕丶蓝晨",
            "timestamp": 1586251800,
            "txt_content": "为啥我按照你的改了之后没用"
        },
        {
            "author": "小依扬",
            "timestamp": 1594983480,
            "txt_content": "阿巴阿巴，加油，奥利给qwq"
        },
        {
            "author": "MC_Xian_Dou_Bao",
            "timestamp": 1596705360,
            "txt_content": "插件非常不错 能禁止指令 但是无法防tab补全"
        },
        {
            "author": "MC_Xian_Dou_Bao",
            "timestamp": 1596897540,
            "txt_content": " 本帖最后由 MC_Xian_Dou_Bao 于 2020-8-8 23:15 编辑 \n\n请作者尽快修复插件 插件问题很明显 只有白名单模式才能防止tab补全"
        },
        {
            "author": "ReLei520",
            "timestamp": 1598934360,
            "txt_content": "比较不错的插件"
        }
    ]
}