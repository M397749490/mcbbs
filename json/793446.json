{
    "title": "mod怎么实现获取服务器玩家对象",
    "author": "453299227@qq.co",
    "replyCount": 2,
    "timestamp": 1525435920,
    "txt_content": "我制作的药水光环mod，当时的打算是：判定一个玩家如果有某种药水效果就进行一个渲染\n但是在多人游戏的时候，没办法获取别的玩家的药水效果，导致别的玩家不管有没有药水都\n不会进行渲染，求大佬帮忙解决一下。。。。",
    "replies": [
        {
            "author": "神崎长闲",
            "timestamp": 1525447980,
            "txt_content": "可以在上面发部分源码吗，不知道什么情况如何解决..."
        },
        {
            "author": "453299227@qq.co",
            "timestamp": 1525488480,
            "txt_content": " 本帖最后由 453299227@qq.co 于 2018-5-5 10:49 编辑 \nKanzaki·神崎 发表于 2018-5-4 23:33\n可以在上面发部分源码吗，不知道什么情况如何解决...\npublic class RenderSacred  extends RenderPlayer{\n        \n    private IModelCustom model;\n    int i = 0;\n    private ResourceLocation texture= new ResourceLocation(\"ornaments:textures/buff2.png\");\n        ResourceLocation M = new ResourceLocation(\"ornaments:textures/buff2.obj\");\n    \n          public void doRender(Entity par1Entity, double x, double y, double z, float f, float f1)\n          {\n            doRender((AbstractClientPlayer)par1Entity, x, y, z, f, f1);\n            Minecraft.getMinecraft().theWorld.getPlayerEntityByName(((EntityPlayer)par1Entity).getCommandSenderName());\n            EntityLivingBase Player = (EntityLivingBase)par1Entity;\n           if(Player.getActivePotionEffect(PotionLoader.SacredBuff)!=null)\n            RenderVs(par1Entity, x, y, z, f, f1);\n          }\n\n          private void RenderVs(Entity entity, double x, double y, double z, float f, float f1) {\n                IModelCustom t = AdvancedModelLoader.loadModel(M);; //获取实例\n                TextureManager renderEngine = Minecraft.getMinecraft().renderEngine; //获取渲染引擎（读作TextureManager 233）\n            int PersonView = Minecraft.getMinecraft().gameSettings.thirdPersonView;\n                renderEngine.bindTexture(texture); //绑定贴图\n                GL11.glPushMatrix(); //推栈\n                GL11.glTranslated(x, y-1.5, z); //位移到Entity位置\n                GL11.glScaled(0.75, 0.75, 0.75);\n                if(((EntityPlayer)entity).getCommandSenderName()!=Minecraft.getMinecraft().thePlayer.getCommandSenderName()) {\n                GL11.glTranslated(0, 1.5, 0); //位移到Entity位置\n                GL11.glScaled(1.33, 1.33, 1.33);\n                        }\n我是通过红字判定当前渲染玩家的药水效果 单人测试有效 有药水效果就渲染 没药水效果就没渲染\n但是多人游玩的时候   别人有药水的时候，自己的客户端不会渲染别人的光环\n也就是只有在自己有药水效果的时候才能看见自己的光环\n别人不管有没有药水效果都没有光环\n我要让别人有药水效果也会看见别人的光环。\n"
        }
    ]
}