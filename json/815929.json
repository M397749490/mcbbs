{
    "title": "如何获取PlayerInteractEvent放置的方块位置",
    "author": "‮rehctaCykS‭",
    "replyCount": 4,
    "timestamp": 1534762020,
    "txt_content": " 本帖最后由 针织薄外套 于 2018-8-20 18:48 编辑 \n\n因为是用来修复某PlaceEvent导致的bug，所以需要用InteractEvent，提前获取将要放置方块的位置。\n比如InteractEvent下 loc = evt.getBlock 获取的是被点击方块的位置，如果能获取交互方向，\n那么玩家对地面放置的方块位置为 loc.getY() + 1 ， 对天花板放置的方块位置为 loc.getY() - 1\n另外还有四个面就需要 getX±1 或 getZ±1。\n\n所以有什么办法可以获取放置方块的位置，\n或者怎么获取玩家的交互方向？\n\n我感觉我表达的好乱..",
    "replies": [
        {
            "author": "erry64",
            "timestamp": 1534763100,
            "txt_content": "好好的BlockPlaceEvent 为什么不用\nBlockPlaceEvent.getBlock()多好。\n如果说你是要在玩家防止方块前事先停止的话玩家ui也会渲染出方块被放置，这是因为mc的渲染特性(先在本地世界里把方块放上 -> 发送包 ->接受服务器的包)"
        },
        {
            "author": "‮rehctaCykS‭",
            "timestamp": 1534768560,
            "txt_content": "已经解决了\nfinal Block clickBlock = e.getClickedBlock();\nfinal BlockFace face = e.getBlockFace();\nfinal Location loc = new Location(clickBlock.getWorld(), clickBlock.getX() + face.getModX(), clickBlock.getY() + face.getModY(), clickBlock.getZ() + face.getModZ());"
        },
        {
            "author": "defoliation_h",
            "timestamp": 1534829820,
            "txt_content": "针织薄外套 发表于 2018-8-20 20:36\n已经解决了\nfinal Block clickBlock = e.getClickedBlock();\nfinal BlockFace face = e.getBlockFace();\n已经无力吐槽， clickBlock.getLocation() 哪里不好了，是长的太难看还是这个方法名称太长了"
        },
        {
            "author": "‮rehctaCykS‭",
            "timestamp": 1534835520,
            "txt_content": " 本帖最后由 针织薄外套 于 2018-8-21 15:21 编辑 \nh22391386 发表于 2018-8-21 13:37\n已经无力吐槽， clickBlock.getLocation() 哪里不好了，是长的太难看还是这个方法名称太长了 ...\n这个获取的是被点击方块的位置，不是将放置方块的位置，请仔细审题谢谢你了"
        }
    ]
}