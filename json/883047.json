{
    "title": "【阶乘计算器|内置音乐|持续更新至 双阶乘 运算|Sky】在MC中实现n!",
    "author": "Tap[b2]",
    "replyCount": 13,
    "timestamp": 1562637240,
    "txt_content": " 本帖最后由 Tap[b2] 于 2019-7-11 16:00 编辑 \n\n本帖仅用于了解Operaion逻辑数据处理\n\n 普通阶乘运算\n\n一个正整数的阶乘（factorial）是所有小于及等于该数的正整数的积，并且0的阶乘为1。自然数n的阶乘写作n!。1808年，基斯顿·卡曼引进这个表示法。\n在讲述原理之前的必要不充分内容：\n任何大于等于1 的自然数n 阶乘表示方法：\n 或  \n例如10!=10*9*8*7*6*5*4*3*2*1=3628800\n\n\n同时，对于编程界而言，最简单的实现阶乘的算法为使用函数[fact]（Windows系统的计算器也采用这一方法运算）\npy:\ndef factorial(n)\n    if(n<=1):\n        return 1\n    else:\n        return factorial(n-1) * n复制代码C:\n#include<stdio.h>\nint main()\n{\n    int n, x;\n     \n    for(n = x = 1; n <= 10; ++n) {\n        x *= n;\n        printf(\"%d\\t%d\\n\", n, x);\n    }        \n     \n    return 0;\n}复制代码C++:\n#include<iostream>\nusing namespace std;\nlong long f(int n)\n{\n    long long e=1;\n    if(n>0)\n    e=n*f(n-1);\n    cout<<n<<\"！=\"<<e<<endl;\n    return e;\n}\nint main()\n{\n    int m=20;\n    f(m);\n    return 0;\n}复制代码你我同知：在MC中用命令实现某一效果时，可以采用阅览编程代码以寻求逻辑思路，也可灵活运用游戏本身的机制。\n是的，起初在实现过程中，我翻看了以上三种实现思路，也想过如何运用循环体来做到，但是当我想到编程也可以用函数时，以及MC的语言并不支持编程开发环境的那种高级语言时，确实，我选择了后者，灵活运用游戏本身机制来实现效果，毕竟通往罗马的路不止一条嘛！\nhttps://www.bilibili.com/video/av58430986\n\n原理及思路分析：\n思路：既然不能够一次性计算出结果，那又何妨分步计算呢？\n//k=1,n'=1\nInput n=>m=n=n',\nn'=n'*(n-k),\nif n=1,\nstop.\n\n\n\n[前提]\n/scoreboard players set @a k 1\n/scoreboard players set @a n' 1\n\n[Input n]\n/trigger n set ?\n/scoreboard players operation @a m = @a n\n\n[循环体]\n/scoreboard players operation @a n' *= @a n\n/scoreboard players operation @a n -= @a k\n\n[stop]\n/testfor @a[score_n=1,score_n_min=1]\n/tellraw @a [[\"检测到n=1,循环完毕！\"],{\"score\":{\"name\":\"*\",\"objective\":\"m\"}},[\"的阶乘=\"],{\"score\":{\"name\":\"*\",\"objective\":\"n'\"}}]复制代码\n符号定义:\n用于玩家输入待求阶乘的数字，trigger类型变量。\nn\n用于储存每一次运算后的值，最终得出n!类型为dummy。\nn'\n定值，等于1，以得到(n-1)，类型为dummy。\nk\ndummy类型，用于储存玩家一开始输入的n，便于tellraw结果。\nm\n\n是的，这样摆脱了原版MC的指令局限性，\n例如5!变成了:\n5!=5*(5-1)=20*(4-1)=60*(3-1)=120*(2-1)[这一步在实际MC命令运算中省去，因为n=2-1=1,命令中也写出，n=1时停止循环]=120\n\n\n\n\n然而——\n感到可惜的是,1.12.2版本计分板变量储存的最高位数为9位。T^T\n故此阶乘运算最高数字为12,也就是fact(12)=479001600\n\nhttps://afdian.net/@MTDPS\n2019年7月9日\n\n双阶乘运算\n\n双阶乘是一个数学概念，用n!!表示。正整数的双阶乘表示不超过这个正整数且与它有相同奇偶性的所有正整数乘积。前6个正整数的双阶乘分别为：1!!=1，2!!=2，3!!=3，4!!=8，5!!=15和6!!=48。\n同样是在讲述原理之前的必要不充分内容：\n\n当n是自然数时，表示不超过n且与n有相同奇偶性的所有正整数的乘积。如：\n\n\n\n\n示例：\n3!!=1×3=3\n5!!=1×3×5=15\n6!!=2×4×6=48\n8!!=2× 4×6×8=384\n另0!!=1!!=1\n当n是负奇数时，根据递推公式\n，可知n!!的绝对值等于绝对值小于它的绝对值的所有负奇数的绝对值积的倒数，且正负交替出现。如：\n\n\n示例：\n(-5)!!=1/(|-1| × |-3|)=1/3\n(-7)!!=-1/(|-1| × |-3| × |-5|)=-1/15\n(-9)!!=1/(|-1| × |-3| × |-5| × |-7|)=1/105\n另(-1)!!=1\n当n是负偶数时，由递推公式知(-2)!!=0!!/0无意义，故当n是负偶数时，n!!不存在。\n\n\n故此，要实现双阶乘，首先必须知道玩家输入的数字的奇偶！\n奇偶性判断\n在上述必要不充分内容中，奇数与偶数均链接至其[ruby=百度]百科[/ruby]页面。\n奇数的定义为不能被2整除的（代）数，相反，偶数则为能被2整除或是2的倍数的数。\n是的，我一开始便是从奇数偶数的性质上在MC中区别——\n\n\n\n关于偶数和奇数，有下面的性质：\n（1）两个连续整数中必是一个奇数一个偶数；\n（2）奇数与奇数的和或差是偶数；偶数与奇数的和或差是奇数；任意多个偶数的和都是偶数；单数个奇数的和是奇数；双数个奇数的和是偶数；\n（3）两个奇（偶）数的和或差是偶数；一个偶数与一个奇数的和或差一定是奇数；\n（4）除2外所有的正偶数均为合数；\n（5）相邻偶数最大公约数为2，最小公倍数为它们乘积的一半；\n（6）奇数与奇数的积是奇数；偶数与偶数的积是偶数；奇数与偶数的积是偶数；\n（7） 偶数的个位一定是0、2、4、6或8；奇数的个位一定是1、3、5、7或9；\n（8）任何一个奇数都不等于任何一个偶数；若干个整数的连乘积，如果其中有一个偶数，乘积必然是偶数；\n（9）偶数的平方被4整除，奇数的平方被8除余1。\n上述性质可通过对奇数和偶数的代数式进行相应运算得出。\n如证明：两个奇数的和为偶数.\n可令两奇数\n；\n（其中\n,\n皆为整数）。\n则\n，\n由于括号内的多项式\n是整数，从而原命题得证。\n\n\nVB(1):\nDim A\nDo\n    A = InputBox(\"请输入一个整数\")\nLoop While IsNumeric(A) = False Or   Val(A) <> Int(A)\nIf A Mod 2 = 1 Then\n    MsgBox A & \"奇数\"\nElse\nMsgBox A & \"偶数\"\nEnd I\n复制代码VB(2):\ndim A as integer\nA=val(inputbox(\"输入一个数\"))\ndim B as single\nB=a/2\nif B=int(B) then\n   msgbox \"偶数\"\nelse\n   msgbox \"奇数\"\nEnd if \n<font color=\"SeaGreen\">'我认为这个很好</font>复制代码VB(3):\ndim i as integer\ni=text1.text\nif i mod 2 =0 then\n   msgbox \"偶数\"\nelse\n   msgbox \"奇数\"\n复制代码Py:\nwhile True: \n        try: \n                num=int(input('输入一个整数：')) #判断输入是否为整数 \n        except ValueError: #不是纯数字需要重新输入 \n                print(\"输入的不是整数！\") \n                continue \n        if num%2==0: \n                print('偶数') \n        else: \n                print('奇数') \n        break\n复制代码C++：\n#include<iostream>\nusing namespace std;\nvoid f(int n)\n{\nif(n%2==0)\n{\ncout<<n<<\"偶数\"<<endl;\n}\nelse\n{\ncout<<n<<\"奇数\"<<endl;\n}\n}\nvoid main()\n{\nint n;\ncin>>n;\nf(n);\n} 复制代码然而——\n前面讲这么多没用的是干什么的= =\n切入正题：如何在MC中判断数字奇偶性？\n既然我们都知道，奇数不能被2整除，而偶数可以，那就试试呗。\n符号定义:\n #Input,玩家输入n,类型trigger     n #常量,类型dummy     k  \n\n/scoreboard players operation @a n %= @a k复制代码假装假设n=13好了，k=2，执行命令后n=1,那么n原先就是奇数，\n反之亦然，n输出为0，就是偶数。\n\n完整实例:\n#启用n\n/scoreboard players enable @a n\n\n#通知\n/tellraw @a [\"\\u00a7a已启动判断\"]\n\n#初始化\n/scoreboard players set @a n' 1\n/scoreboard players operation @a m = @a n\n\n#运算\n/scoreboard players operation @a n %= @a k\n\n#判断\n/testfor @a[score_n=1,score_n_min=1]\n/scoreboard players operation @a n = @a m\n/tellraw @a [\"是奇数\"]\n\n/testfor @a[score_n=0,score_n_min=0]\n/scoreboard players operation @a n = @a m\n/tellraw @a [\"是偶数\"]复制代码https://www.bilibili.com/video/av58567928\n2019年7月10日\n\n\npartI 真正的双阶乘运算——奇数双阶乘\n请先脑补算法逻辑思路...\n\nhttps://www.bilibili.com/video/av58602815\n\n\nPartII 真正的双阶乘运算——偶数双阶乘\n也请先脑补算法逻辑思路...\nhttps://www.bilibili.com/video/av58731862\n\n\n2019年7月11日\n\n\n\n\n\n\n\n\n\n\nn!阶乘运算.zip\n\n\n2019-7-9 10:46 上传\n点击文件名下载附件\n\n\n\n\n120.64 KB, 下载次数: 0\n\n\n阶乘运算地图，版本1.12.2\n\n\n\n\n\n\n\n\n\n\nn！！-判断奇偶性-.nbt\n\n\n2019-7-10 08:13 上传\n点击文件名下载附件\n\n\n\n\n3.93 KB, 下载次数: 0\n\n\n奇偶性判断nbt,版本1.12.2\n\n\n",
    "replies": [
        {
            "author": ":spgbigfan:",
            "timestamp": 1562638560,
            "txt_content": "伽马函数好"
        },
        {
            "author": "Tap[b2]",
            "timestamp": 1562639160,
            "txt_content": "kakagou12 发表于 2019-7-9 10:16\n伽马函数好\n无法解决9位数障碍！——除非拼凑数字tellraw？"
        },
        {
            "author": "丢人素学姐",
            "timestamp": 1562648100,
            "txt_content": "你有这功夫不如直接打表。。。"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1562681640,
            "txt_content": "Vinogradov 发表于 2019-7-9 12:55\n你有这功夫不如直接打表。。。\n哈哈12个，直接打表完事"
        },
        {
            "author": "1041159637",
            "timestamp": 1562686860,
            "txt_content": "突破2^31的限制也不是没有办法……可以考虑写一个高精度乘法\n但是多个数字拼在一起显示似乎没有太好的解决方案……只能穷举？"
        },
        {
            "author": "Ma_Yun",
            "timestamp": 1562692260,
            "txt_content": "好听 真心的好听     "
        },
        {
            "author": "Ma_Yun",
            "timestamp": 1562692260,
            "txt_content": "音乐不错 不得不服   "
        },
        {
            "author": "Tap[b2]",
            "timestamp": 1562712480,
            "txt_content": "1041159637 发表于 2019-7-9 23:41\n突破2^31的限制也不是没有办法……可以考虑写一个高精度乘法\n但是多个数字拼在一起显示似乎没有太好的解决 ...\nemm,高精度乘法怕是MC不能像py那样简洁，也不能。。。呃，处理的过程可能过于复杂，总之，努力实现以下看看吧w"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1562720460,
            "txt_content": " 本帖最后由 Teenager_Yang 于 2019-7-10 09:17 编辑 \n\n一张表：\n0!=0\n1!=1\n2!=2\n3!=6\n4!=24\n5!=120\n6!=720\n7!=5 040\n8!=40 320\n9!=362 880\n10!=3 628 800\n11!=39 916 800\n12!=479 001 600\n拼凑数字 tellraw 是可行的，\n数字的位数取决于计分板的个数。\n个人认为在 MC 计算阶乘用处不大，\n还不如直接掏出计算器。 \n当然楼主的想法还是值得肯定的。\n\nemmm……\n还有一件事……\n不考虑用函数吗"
        },
        {
            "author": "Tap[b2]",
            "timestamp": 1562722620,
            "txt_content": "Teenager_Yang 发表于 2019-7-10 09:01\n一张表：\n\n拼凑数字 tellraw 是可行的，\nemm，帖子只是为了给Operation数据处理做一个示范哒，当然！函数嘛，要等等了= =个人认为用CB做比用函数做更加有成就感w"
        },
        {
            "author": "1919220719",
            "timestamp": 1562729460,
            "txt_content": "看的我瑟瑟发抖"
        },
        {
            "author": "Tap[b2]",
            "timestamp": 1562737500,
            "txt_content": "Ma_Yun 发表于 2019-7-10 01:11\n好听 真心的好听\nw!当然啦，音乐可以改变人的心情哦"
        },
        {
            "author": "hengxue",
            "timestamp": 1562739960,
            "txt_content": "        神乎其技，不服不行！"
        }
    ]
}