{
    "title": "如何生成实体？赋予特定AI",
    "author": "纸月亮",
    "replyCount": 4,
    "timestamp": 1593045240,
    "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽",
    "replies": [
        {
            "author": "天辉胡萝卜",
            "timestamp": 1593046680,
            "txt_content": " 本帖最后由 疾风暗影 于 2020-6-25 08:59 编辑 \n\n很麻烦\n\n1. npc行动，自己用PathfinderGoal写GoalSelector，参考net.minecraft.server.<version>.EntityCreature\n2. npc挖矿，参考net.minecraft.server.<version>.EntityVillager，自己实现相应的behavior controller参考：\nbehaviorcontroller.a(Activity.WORK, Behaviors.b(villagerprofession, f), (Set<Pair<MemoryModuleType<?>, MemoryStatus>>)ImmutableSet.of(Pair.of(MemoryModuleType.JOB_SITE, MemoryStatus.VALUE_PRESENT)));复制代码\n第二点仍存疑，因为我没有测试过"
        },
        {
            "author": "纸月亮",
            "timestamp": 1593047160,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1593047460,
            "txt_content": "纸月亮 发表于 2020-6-25 09:06\n农民 （自动收半径内的小麦，胡萝卜，马铃薯等）\n捕鱼者 （捕机器人前面的鱼）\n卖家 （出售机器人前面的 ...\n农民有现成的behavior，net.minecraft.server.<version>.BehaviorFarm\n其他的没有要自己写\n\n你可以参考BehaviorFarm#a的写法，自己写一个类继承BehaviorFarm，并重载a\n\n  protected boolean a(WorldServer worldserver, EntityVillager entityvillager) {\n    if (!worldserver.getGameRules().getBoolean(GameRules.MOB_GRIEFING))\n      return false; \n    if (entityvillager.getVillagerData().getProfession() != VillagerProfession.FARMER)\n      return false; \n    this.b = entityvillager.eM();\n    this.c = false;\n    InventorySubcontainer inventorysubcontainer = entityvillager.getInventory();\n    int i = inventorysubcontainer.getSize();\n    for (int j = 0; j < i; j++) {\n      ItemStack itemstack = inventorysubcontainer.getItem(j);\n      if (itemstack.isEmpty()) {\n        this.c = true;\n        break;\n      } \n      if (itemstack.getItem() == Items.WHEAT_SEEDS || itemstack.getItem() == Items.BEETROOT_SEEDS) {\n        this.c = true;\n        break;\n      } \n    } \n    BlockPosition.MutableBlockPosition blockposition_mutableblockposition = new BlockPosition.MutableBlockPosition(entityvillager);\n    this.f.clear();\n    for (int k = -1; k <= 1; k++) {\n      for (int l = -1; l <= 1; l++) {\n        for (int i1 = -1; i1 <= 1; i1++) {\n          blockposition_mutableblockposition.c(entityvillager.locX() + k, entityvillager.locY() + l, entityvillager.locZ() + i1);\n          if (a(blockposition_mutableblockposition, worldserver))\n            this.f.add(new BlockPosition(blockposition_mutableblockposition)); \n        } \n      } \n    } \n    this.a = a(worldserver);\n    return ((this.b || this.c) && this.a != null);\n  }复制代码"
        },
        {
            "author": "纸月亮",
            "timestamp": 1593047460,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        }
    ]
}