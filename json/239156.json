{
    "title": "【傻瓜版】服务器信息获取为图片【绝对简单易懂】",
    "author": "799669332",
    "replyCount": 36,
    "timestamp": 1392309960,
    "txt_content": " 本帖最后由 799669332 于 2014-2-20 00:37 编辑 \n\n我知道已经有人搬过好几次了= =\n可是相信绝对有人看不懂之前的\n于是乎做了个超傻瓜版的\n只要做几个填空题就可以了\n代码如下，只要复制然后另存为.php结尾的文件就可以了\n至于乱码，推荐你把编码弄成UTF-8，如果不会= =\n那么用记事本就可以了= =<?php\n\nfunction QueryMinecraft( $IP, $Port, $Timeout = 2 )\n{\n$Socket = Socket_Create( AF_INET, SOCK_STREAM, SOL_TCP );\n\nSocket_Set_Option( $Socket, SOL_SOCKET, SO_SNDTIMEO, array( 'sec' => (int)$Timeout, 'usec' => 0 ) );\nSocket_Set_Option( $Socket, SOL_SOCKET, SO_RCVTIMEO, array( 'sec' => (int)$Timeout, 'usec' => 0 ) );\n\nif( $Socket === FALSE || @Socket_Connect( $Socket, $IP, (int)$Port ) === FALSE )\n{\nreturn FALSE;\n}\n\nSocket_Send( $Socket, \"\\xFE\\x01\", 2, 0 );\n$Len = Socket_Recv( $Socket, $Data, 512, 0 );\nSocket_Close( $Socket );\n\nif( $Len < 4 || $Data[ 0 ] !== \"\\xFF\" )\n{\nreturn FALSE;\n}\n\n$Data = SubStr( $Data, 3 );\n$Data = iconv( 'UTF-16BE', 'UTF-8', $Data );\n\nif( $Data[ 1 ] === \"\\xA7\" && $Data[ 2 ] === \"\\x31\" )\n{\n$Data = Explode( \"\\x00\", $Data );\nreturn Array(\n'HostName'   => $Data[ 3 ],\n'Players'=> IntVal( $Data[ 4 ] ),\n'MaxPlayers' => IntVal( $Data[ 5 ] ),\n'Protocol'   => IntVal( $Data[ 1 ] ),\n'Version'=> $Data[ 2 ],\n);\n}\n\n$Data = Explode( \"\\xA7\", $Data );\nreturn Array(\n'HostName'   => SubStr( $Data[ 0 ], 0, -1 ),\n'Players'=> isset( $Data[ 1 ] ) ? IntVal( $Data[ 1 ] ) : 0,\n'MaxPlayers' => isset( $Data[ 2 ] ) ? IntVal( $Data[ 2 ] ) : 0,\n'Protocol'   => 0,\n'Version'=> '1.3',\n);\n}\n    \n$query = QueryMinecraft(\"【你的服务器IP】\",【端口】);\n\n$im = imagecreate(3000,50);\n//上面的3000和50分别是图片宽和高\n$white = imagecolorallocate($im,56,180,218);\n\n$black = imagecolorallocate($im,255, 255,255);\nimagettftext($im,26,0,0,40,$black,\"C:\\windows\\Fonts\\SIMHEI.TTF\",\"服务器当前人数：\".$query[Players].\"/\".$query[MaxPlayers].\"服务器版本：\".$query[Version].\"服务器标语：\".$query[HostName]);\nheader(\"Content-type:image/png\");\nimagepng($im);\n//记得把C:\\windows\\Fonts\\SIMHEI.TTF替换为你的字体文件路径\n?>复制代码把上面的【你的服务器IP】和【端口】替换掉就行了\n注意端口的冒号要是英文字符\n然后扔到个有PHP的服务器（别和我说你这也不知道，那就去用APMServ把）\n访问就可以显示了= =\n\n如果想换字体，或者字体显示错误\n把上面的C:\\windows\\Fonts\\SIMHEI.TTF\n替换成你的字体路径就可以了\n演示：\n\n\n然后修改一下，就变成华丽丽的了：\n\n最后吐槽一下，如果服务器宽带差的话还是别用高清图了\n我刚刚弄了个1080P的= =。然后服务器30M小水管就爆掉了\n\n\n\n然后又做了个可以自定义的http://zd.ldream.net:8080/404/getinfo0.php?ip=zd.ldream.net&name=梦想岛&port=25565复制代码把上面的zd.ldream.net替换成你的服务器IP,25565替换成你的服务器端口\n例如（这里暂用一下不知道是谁从梦梦那里租的服务器= =）：http://zd.ldream.net:8080/404/getinfo0.php?ip=four.mengcraft.com&name=服务器&port=25565复制代码效果图：\n\n对了，这里补充一句，如果图片加载时间太长，那么肯定是你服务器延迟太大了，趁早升级把\n\n\n=A=我什么也没发\nhttp://zd.ldream.net:8080/404/getinfo0.php?ip=four.mengcraft.com&name=%E6%A2%A6%E6%A2%A6\n[groupid=537]梦想岛[/groupid]",
    "replies": [
        {
            "author": "zxc2001824",
            "timestamp": 1392310080,
            "txt_content": "大晚上发帖。。。\n看不懂。。\n要他们信息干嘛。。\n没必要吧。。"
        },
        {
            "author": "西瓜太郎",
            "timestamp": 1392310680,
            "txt_content": "......好象有点问题诶"
        },
        {
            "author": "799669332",
            "timestamp": 1392310860,
            "txt_content": "西瓜太郎 发表于 2014-2-14 00:58\n......好象有点问题诶\n没问题的= =\n不推荐用免费空间\n限制了某些功能"
        },
        {
            "author": "799669332",
            "timestamp": 1392310920,
            "txt_content": "zxc2001824 发表于 2014-2-14 00:48\n大晚上发帖。。。\n看不懂。。\n要他们信息干嘛。。\n纯属某些服主用来秀人数的 = ="
        },
        {
            "author": "799669332",
            "timestamp": 1392310980,
            "txt_content": "西瓜太郎 发表于 2014-2-14 00:58\n......好象有点问题诶\n没问题的\n不推荐用免费空间\n禁用了PHP的一些功能"
        },
        {
            "author": "zxc2001824",
            "timestamp": 1392310980,
            "txt_content": "799669332 发表于 2014-2-14 01:02\n纯属某些服主用来秀人数的 = =\n。。。。哦\n还是看不懂"
        },
        {
            "author": "rexfield",
            "timestamp": 1392311040,
            "txt_content": "膜拜PHP高手。。。。"
        },
        {
            "author": "799669332",
            "timestamp": 1392311100,
            "txt_content": "zxc2001824 发表于 2014-2-14 01:03\n。。。。哦\n还是看不懂\n不需要看懂啦\n填完空扔服务器上就可以了"
        },
        {
            "author": "799669332",
            "timestamp": 1392311220,
            "txt_content": "rexfield 发表于 2014-2-14 01:04\n膜拜PHP高手。。。。\n我其实只是搬运了下加了几个填空而已= ="
        },
        {
            "author": "connection_lost",
            "timestamp": 1392315240,
            "txt_content": " 本帖最后由 connection_lost 于 2014-5-14 00:20 编辑 \n799669332 发表于 2014-2-14 01:02\n纯属某些服主用来秀人数的 = =\n我也秀一下\n"
        },
        {
            "author": "799669332",
            "timestamp": 1392315720,
            "txt_content": "connection_lost 发表于 2014-2-14 02:14\n我也秀一下\n话说有个插件你愿意改一下么\n高频检测\n不是bukkit上那个\n是我花200大洋买的一个，可以自动检测&清理高频\n原先史前大陆用的= =\n但是由于新版更新和红石块，导致出现某种0tick的高频无法检测\n可以帮忙反编译&修改下么？（作者说源码他弄丢了，然后没有打乱过源码）"
        },
        {
            "author": "799669332",
            "timestamp": 1392315960,
            "txt_content": "799669332 发表于 2014-2-14 02:22\n话说有个插件你愿意改一下么\n高频检测\n不是bukkit上那个\n顺便@fyxridd\n你的服务器也有这个漏洞"
        },
        {
            "author": "尘曲",
            "timestamp": 1393052520,
            "txt_content": "799669332 发表于 2014-2-14 02:22\n话说有个插件你愿意改一下么\n高频检测\n不是bukkit上那个\n172有不同？插件发我试试：admin@mcraft.cn"
        },
        {
            "author": "799669332",
            "timestamp": 1393073520,
            "txt_content": "尘曲 发表于 2014-2-22 15:02\n172有不同？插件发我试试：\n不是，162就不行了\n因为某个红石块做成的高频无法检测"
        },
        {
            "author": "尘曲",
            "timestamp": 1393074360,
            "txt_content": "799669332 发表于 2014-2-22 20:52\n不是，162就不行了\n因为某个红石块做成的高频无法检测\n=。=高频截图下，我看下我自己的插件有没有事"
        },
        {
            "author": "799669332",
            "timestamp": 1393074480,
            "txt_content": "尘曲 发表于 2014-2-22 15:02\n172有不同？插件发我试试：\n话说尘曲你服务器官网用的是html5UP啊"
        },
        {
            "author": "799669332",
            "timestamp": 1393074600,
            "txt_content": "尘曲 发表于 2014-2-22 21:06\n=。=高频截图下，我看下我自己的插件有没有事\n已经发给你了\n截图什么的加我QQ私聊吧"
        },
        {
            "author": "尘曲",
            "timestamp": 1393074840,
            "txt_content": "799669332 发表于 2014-2-22 21:08\n话说尘曲你服务器官网用的是html5UP啊\n官网不是我做的=。=我只做了皮肤站、状态图什么的"
        },
        {
            "author": "799669332",
            "timestamp": 1393074900,
            "txt_content": "尘曲 发表于 2014-2-22 21:14\n官网不是我做的=。=我只做了皮肤站、状态图什么的\n去掉作者信息什么的可是不好的哦"
        },
        {
            "author": "尘曲",
            "timestamp": 1393075500,
            "txt_content": "799669332 发表于 2014-2-22 21:15\n去掉作者信息什么的可是不好的哦\n之前有保留，后来被某人删了= =不过貌似只用了一个界面，其它的图片包括输入、转码啥的自己做的"
        },
        {
            "author": "799669332",
            "timestamp": 1393078620,
            "txt_content": "尘曲 发表于 2014-2-22 21:25\n之前有保留，后来被某人删了= =不过貌似只用了一个界面，其它的图片包括输入、转码啥的自己做的 ...\n但是人家的源码就一个页面啊\nCSS是你自己写的？"
        },
        {
            "author": "尘曲",
            "timestamp": 1393078860,
            "txt_content": "799669332 发表于 2014-2-22 22:17\n但是人家的源码就一个页面啊\nCSS是你自己写的？\n= =你确定它的源码就是一个页面？但是我确实只用了那个主页面而已"
        },
        {
            "author": "799669332",
            "timestamp": 1393079520,
            "txt_content": "尘曲 发表于 2014-2-22 22:21\n= =你确定它的源码就是一个页面？但是我确实只用了那个主页面而已\n源码我还是有的= =\n就一个index.html\n其他都是css和js"
        },
        {
            "author": "尘曲",
            "timestamp": 1393080660,
            "txt_content": "799669332 发表于 2014-2-22 22:32\n源码我还是有的= =\n就一个index.html\n其他都是css和js\n我木有源码，我是自己写的，所以除了输入的界面，就完全不一样了= =我只是懒得写输入界面而已，浪费时间啊"
        },
        {
            "author": "尘曲",
            "timestamp": 1393080780,
            "txt_content": "799669332 发表于 2014-2-22 22:32\n源码我还是有的= =\n就一个index.html\n其他都是css和js\n估计你是没有点进去看。。。进去就知道任何东西都不一样。。。所以这几个月来你还是第一个这么说的人"
        },
        {
            "author": "799669332",
            "timestamp": 1393083420,
            "txt_content": "尘曲 发表于 2014-2-22 22:53\n估计你是没有点进去看。。。进去就知道任何东西都不一样。。。所以这几个月来你还是第一个这么说的人 ...\n我说的就是index.html啊= =\n就是改了一下模板"
        },
        {
            "author": "尘曲",
            "timestamp": 1393083600,
            "txt_content": "799669332 发表于 2014-2-22 23:37\n我说的就是index.html啊= =\n就是改了一下模板\n我还以为你说的是整套= =我美感一直很差劲，做出来的很难看。。"
        },
        {
            "author": "799669332",
            "timestamp": 1393083780,
            "txt_content": "尘曲 发表于 2014-2-22 23:40\n我还以为你说的是整套= =我美感一直很差劲，做出来的很难看。。\n问题是你网站就一个页面啊= =\n而且你戳一下左下角第二个图标就知道了= =\n还有你用的是digitalocean的服务器？"
        },
        {
            "author": "尘曲",
            "timestamp": 1393083900,
            "txt_content": "799669332 发表于 2014-2-22 23:43\n问题是你网站就一个页面啊= =\n而且你戳一下左下角第二个图标就知道了= =\n还有你用的是digitalocean的服务 ...\n= =我勒个去，感情我们说的不是同一个东西？\n\n主页不是我做的，和我没有半毛钱关系。。。那个做的人估计是直接套用模板了"
        },
        {
            "author": "尘曲",
            "timestamp": 1393083960,
            "txt_content": "799669332 发表于 2014-2-22 23:43\n问题是你网站就一个页面啊= =\n而且你戳一下左下角第二个图标就知道了= =\n还有你用的是digitalocean的服务 ...\n服务器是私人服务器= ="
        },
        {
            "author": "799669332",
            "timestamp": 1393098900,
            "txt_content": "尘曲 发表于 2014-2-22 23:46\n服务器是私人服务器= =\n那最好吧左下角的改了\n话说插件能改么？"
        },
        {
            "author": "colding",
            "timestamp": 1393119600,
            "txt_content": "厉害啊{:10_512:}"
        },
        {
            "author": "尘曲",
            "timestamp": 1393149840,
            "txt_content": "799669332 发表于 2014-2-23 03:55\n那最好吧左下角的改了\n话说插件能改么？\n=。=那玩意不归我管，所以我都无视的\n\n没看到回复。。。？代码太多太乱，看着都花，果断放弃了\n\n= =其实我只是想知道到底是什么高频不能检测到，我想看看我自己写的有没有问题"
        },
        {
            "author": "pangys",
            "timestamp": 1409136240,
            "txt_content": "请问一下是怎么自定义背景的A.A"
        },
        {
            "author": "1204074991",
            "timestamp": 1462446120,
            "txt_content": "=-=不管用啊"
        },
        {
            "author": "晓龍123",
            "timestamp": 1462460400,
            "txt_content": "好难看懂= ={:10_514:}"
        }
    ]
}