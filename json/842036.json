{
    "title": "求解这两条命令哪错了（拿出全部家产的萌新）",
    "author": "ole123",
    "replyCount": 9,
    "timestamp": 1549094340,
    "txt_content": "我是想弄个可以检测玩家射箭然后在箭后面生成粒子效果的 版本1.13.2\n\n\n第一条：\n命令方块类型：循环 不受制约 保持开启\n/execute as @a[name=eloole] run tag @e[type=arrow,nbt={inGround:1b}] add LD\n这个是检测玩家然后给所有没落地的箭LD标签\n\n\n第二条：\n命令方块类型：循环 不受制约 保持开启\n/execute as @e[tag=!LD,type=arrow] at @s run particle minecraft:angry_villager ~ ~ ~ 0 0 0 1 100 force\n这个是给所有没有LD标签的箭粒子效果\n\n\n现在的情况是我和小白射的箭都有粒子效果 求大佬帮我看看哪里错了？能不能帮我再弄一个判定机制或者有没有表示所属实体的nbt标签？谢谢各位大佬啦",
    "replies": [
        {
            "author": "SPGoding",
            "timestamp": 1549094340,
            "txt_content": "ole123 发表于 2019-2-2 16:29\n谢谢大佬 顺便能问问原理吗\n就是标记 tag=foo 的玩家附近（距离小于 5 格，即 distance=..5）的没被其他人标记过的箭为该玩家的（\n\n可以看看 https://minecraft-zh.gamepedia.com/命令 和 https://minecraft-zh.gamepedia.com/1.13#命令格式_2【跑"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1549094760,
            "txt_content": " 本帖最后由 ⊙v⊙ 于 2019-2-1 22:08 编辑 \n\n第一条，前面execute的意义何在。\n你的思路比较歪。应该是这样的\n\npickup 1b的箭可以被玩家捡到，小白的箭为pickup 0b。\n那么只要选取所有非落地且有pickup的箭就完事了。\n\nexecute as @e[type=minecraft:arrow,nbt={inGround:0b,pickup:1b}] at @s run particle minecraft:angry_villager ~ ~ ~ 0 0 0 1 100 force复制代码\n\n习惯性的as at连用，其实这样应该也可以。\nexecute at @e[type=minecraft:arrow,nbt={inGround:0b,pickup:1b}] run particle minecraft:angry_villager ~ ~ ~ 0 0 0 1 100 force复制代码"
        },
        {
            "author": "ole123",
            "timestamp": 1549095360,
            "txt_content": " 本帖最后由 ole123 于 2019-2-2 16:28 编辑 \n⊙v⊙ 发表于 2019-2-2 16:06\n第一条，前面execute的意义何在。\n你的思路比较歪。应该是这样的\n然鹅这个命令必须at @s啊 不然就会在命令方块上生成粒子效果这个命令的本意是在服务器里检测不同玩家的箭 并给予不同粒子效果（领域服无插件）单人只是为了测试下，如果有方法能解决弹射物的归属问题就OK"
        },
        {
            "author": "SPGoding",
            "timestamp": 1549096020,
            "txt_content": "ole123 发表于 2019-2-2 16:16\n这个命令的本意是在服务器里检测不同玩家的箭 并给予不同粒子效果（领域服无插件）单人只是为了测试下， ...\nexecute as @a[tag=foo] at @s run tag @e[type=arrow,distance=..5,tag=!marked] add foo_arrow\nexecute as @a[tag=foo] at @s run tag @e[type=arrow,distance=..5,tag=!marked] add marked\nexecute as @e[tag=foo_arrow,nbt={inGround:0b}] at @s run particle minecraft:angry_villager ~ ~ ~ 0 0 0 1 100 force\n\n所有有 tag=foo 的玩家射出的箭会有这个粒子效果（某些特例下不会很准确）"
        },
        {
            "author": "ole123",
            "timestamp": 1549096140,
            "txt_content": " 本帖最后由 ole123 于 2019-2-2 16:33 编辑 \nSPGoding 发表于 2019-2-2 16:27\nexecute as @a[tag=foo] at @s run tag @e[type=arrow,distance=..5,tag=!marked] add foo_arrow\nexecute ...\n谢谢大佬 顺便能问问原理吗我主要不懂上面的distance和tag=!marked是什么意思\n测距吗?"
        },
        {
            "author": "ole123",
            "timestamp": 1549096500,
            "txt_content": "SPGoding 发表于 2019-2-2 16:33\n就是标记 tag=foo 的玩家附近（距离小于 5 格，即 distance=..5）的没被其他人标记过的箭为该玩家的（\n\n ...\n我主要不懂上面的distance和tag=!marked是什么意思\n测距吗?"
        },
        {
            "author": "SPGoding",
            "timestamp": 1549096620,
            "txt_content": "ole123 发表于 2019-2-2 16:35\n我主要不懂上面的distance和tag=!marked是什么意思\n测距吗?\ndistance 就是限制箭到玩家的距离\ntag=!marked 是防止把已经被标记为别的玩家的箭给标记成自己的"
        },
        {
            "author": "ole123",
            "timestamp": 1549096680,
            "txt_content": "ole123 发表于 2019-2-2 16:35\n我主要不懂上面的distance和tag=!marked是什么意思\n测距吗?\n然鹅小白射的箭在身体5格范围内还是有粒子 怎么办啊 急求啦"
        },
        {
            "author": "SPGoding",
            "timestamp": 1549168380,
            "txt_content": "ole123 发表于 2019-2-2 16:38\n然鹅小白射的箭在身体5格范围内还是有粒子 怎么办啊 急求啦\n上面那个 dalao 说过，小白的箭有 pickup:0b，所以可以这么写\nexecute as @a[tag=foo] at @s run tag @e[type=arrow,distance=..5,tag=!marked] add foo_arrow\nexecute as @a[tag=foo] at @s run tag @e[type=arrow,distance=..5,tag=!marked] add marked\nexecute as @e[tag=foo_arrow,nbt={inGround:0b,pickup:1b}] at @s run particle minecraft:angry_villager ~ ~ ~ 0 0 0 1 100 force"
        }
    ]
}