{
    "title": "如何制作大型整合包：使用GitHub制作整合包的一些心得",
    "author": "-木羽-",
    "replyCount": 12,
    "timestamp": 1571855460,
    "txt_content": " 本帖最后由 无名黄鳝 于 2020-1-24 00:53 编辑 \n\n如何制作大型整合包：使用GitHub制作整合包\n\n前言\n\n在论坛也混了挺久的了，不久之前还整了个元老勋章（笑）。一直都没为论坛做什么贡献，之前做了一个整合包（EnigTech）反响还不错，然后现在正在制作它的续作：EnigTech2。在做ET2的过程中延续了我写程序时的思路，将整合包以一个程序来看待，将它放在GitHub上来方便我和整合包的另外一个作者，五四，来持续开发这个整合包。\n\n在使用Git来做远程版本控制之前，合作制作整合包通常需要大量的文件传输和手动合并代码，但是使用了GitHub Desktop（Git的一种Remote实现方案）之后，合并开发组成员的进度成为了一件非常简单的事情：单击同步就可以同步所有人的所有进度。\n\n1.配置GitHub远程端\n\n一开始，大家需要先注册一个GitHub账号。注册账号是完全免费的，但可能需要一些小小的英文基础。网站：github.com\n\nGitHub在墙内是完全可以访问的，注册完之后需要验证邮箱，推荐大家使用除QQ邮箱外的邮箱地址，因为QQ邮箱有时候可能收不到来自GitHub的邮件。\n\n2.配置GitHub Desktop\n\n在注册完GitHub账号之后，你需要下载一个软件，作为本地端的仓库管理器\n\nGitHub Desktop下载地址： https://desktop.github.com/ \n\n这里也推荐大家同时下载Git，来方便之后的一些操作\n\nGit下载地址：https://git-scm.com/download/win\n\n安装\n\n下载完GitHub Desktop之后，点开安装程序：\n\n1.键入自己的GitHub账号和密码\n\n2.键入自己的GitHub用户名 和  https://github.com/settings/emails 里\n\nPrimary email address标签下看到的格式为\n\nXXX+用户名@users.noreply.github.com\n\n的邮箱地址\n\n3.恭喜你，成功的配置了GitHub Desktop的基本设置。\n\n使用\n\n- 首先，按下GitHub Desktop软件中的 “create new repository” 按钮，并指定一个目录为目的地\n\n- 输入你的整合包的名字作为仓库名，建议简易描述一下\n\n- 现在我们还不需要管Git ignore和License，这些东西都可以之后再慢慢配置。\n\n- 创建完之后，你会发现在你指定的目录之下多了一个命名为你的整合包的文件夹，这就是你以后需要开发的地方了。\n\n- 将一个 MMC实例/Twitch实例/HMCL版本 文件夹复制到你的仓库里，并将MMC实例路径/HMCL版本路径设置为你的仓库目录。\n\n- 测试是否可以正常启动游戏。\n\n- 如果可以成功启动游戏，删除.minecraft目录下所有冗余文件/文件夹，仅保留你需要上传的自定义部分文件夹，通常来说，这包括：\n  - minecraft/config\n  - minecraft/resources\n  - minecraft/scripts\n\n- 在仓库根目录下编辑.gitignore文件,添加以下代码：/*\n/XXXX/*\n!/XXXX/minecraft\n/XXXX/minecraft/*\n!/XXXX/minecraft/scripts\n!/XXXX/minecraft/config\n!/XXXX/minecraft/resources复制代码\n    - 需要将XXXX替换为对应的文件夹名字    - 若使用HMCL，请将minecraft替换为.minecraft\n    - 这段代码将会告诉版本控制系统忽视除了选定文件夹内文件以外的所有变化，让版本控制系统不会将你的个人存档变化视作版本改动\n\n- 返回GitHub Desktop，在左下角的Commit标题里写上init commit后点击commit\n  - commit相当于你将本地的文件变化记录在了版本控制里，每个commit都可以回溯\n\n- 随后打开游戏，同时观察GitHub Desktop内的文件改动\n\n- 将所有config文件夹内会随着游戏开关而改变的文件加入忽视名单，在清单里右键该文件并单击第二个选项即可将其忽视。\n  - 有的时候单击忽视后文件并不会从清单里消失，因为忽视名单不会忽视特定已纳入版本控制系统的文件的改动，所以这时候你就需要把那个文件先删除并commit，当它再度生成时，版本控制系统便不会记录它了。\n\n- 恭喜，在这些步骤做完之后，你已经成功的将一个整合包纳入了版本控制系统！\n\n- 不要忘记在每次开发了新内容后commit\n\n上传\n\n有些同学可能已经注意到了右上角的小箭头，这个按钮代表的是将你的仓库上传到你的GitHub账号里。在发布你的仓库之前，你的仓库只存留于本地。\n作为21世纪的云整合包作者，我们当然需要将我们的整合包发布在云端，单击publish。\n- 我们可以选择私密发布或是公开发布，若公开发布的话，所有人都可以看到你的仓库并抛出issue\n\n发布之后，大家就可以上GitHub来观看你的commit和历史了，也可以抛出ISSUE来报错；我推荐将整合包的相关设定档使用GitHub的wiki功能存档，这样方便大家游玩的时候翻阅。\n\n无论是私密还是公开仓库，仓库的所有人都可以在仓库的Setting-Collaborator里添加合作者，合作者拥有仓库的编辑权，可以在他的本地端克隆你的仓库，并commit，以及将commit推到云端。想要同步所有合作者的进度，只需在GitHub Desktop里单击右上角的fetch online然后再Pull Commit即可。\n\n3.关于发布\n本人深恶痛绝百度云盘，所以推荐直接将启动器导出来的整合包压缩包以release的形式发布在GitHub上，并写一些简单的更新日志，譬如修复ISSUE#10 添加高级火箭进度，然后直接将GitHub的发布网址写在发布贴里。GitHub issue不仅提供了一个绝佳的报错平台，它同时也可以胜任一个任务清单的功能：\n\n\n\n\n捕获.PNG (62.79 KB, 下载次数: 0)\n\n下载附件\n\n2019-10-24 02:35 上传\n\n\n\n\n\n将未实现功能以ISSUE的形式写就，不仅可以理清思绪，还可以使用GitHub Issue的里程碑功能和GitHub的Project band功能来分配任务，以及分类处理。\nGitHub提速教程：https://blog.csdn.net/w958660278/article/details/81161224\n4.后记\n我觉得使用GitHub来制作整合包是整合包制作走向正规化的一步，更希望论坛的整合包板块能有更加透明的作品产生，也希望这篇帖子能够为新的整合包作者提供一些思路。\n\n愿论坛越来越好\nAMEN+\n\n\n\n\n\n[groupid=1645]Nuclear Fusion[/groupid]",
    "replies": [
        {
            "author": "3TUSK",
            "timestamp": 1571875800,
            "txt_content": "非常有趣的经验分享，下面补充一点好了：\n\n1. commit message 里写 Fix #xx 或者 Close #xx（xx 是 issue 编号）可以自动关闭对应的 issue ticket。\n2. 你可以直接把某一分支当前的内容直接以 zip 的形式下载下来，这个功能可以用作所谓的“开发版本”。这个按钮就在仓库首页右侧的 Clone or Download 里。\n3. coremods 目录只在 1.5 及以前的版本的 Minecraft+Forge 的组合中才会用到。\n4. 不是很建议上传 coremods 目录和 mods 目录，理由如下：\n  - 某些 Mod 单个文件可能会非常巨大，上传（git push）及同步（git fetch/pull）费时，超规格的文件可能需要 Git Large File System（LFS）（不过应该不会有需要用到 LFS 的单个 mod 文件吧……）\n  - Git 对于二进制文件的版本管理不是非常好\n  - 如此行为构成分发（redistribute）Mod，有少数情况下 Mod 作者会禁止分发（redistribution）\n5. 善用 git 的分支管理——你可以在新的分支上测试你的新想法，而不用担心会干扰到主要分支上已经正常工作的内容；多人合作的情况下每个人都可以有一堆分支互不影响（直到合并的时候全部互相冲突（merge conflict）然后傻眼了）\n6. 版本标记（git tag）。楼主已经提及了 GitHub 的 release 功能，而 release 功能则是建立在 tag 之上的——每一个 release 都会创建一个 git tag。https://git-scm.com/book/zh/v2/G ... 3%E6%A0%87%E7%AD%BE\n\n一个比较典型的在 GitHub 上托管的整合：SevTech Ages https://github.com/DarkPacks/SevTech-Ages"
        },
        {
            "author": "-木羽-",
            "timestamp": 1571876880,
            "txt_content": "3TUSK 发表于 2019-10-24 08:10\n非常有趣的经验分享，下面补充一点好了：\n\n1. commit message 里写 Fix #xx 或者 Close #xx（xx 是 issue  ...\n感谢补充，这里首先是考虑到多人开**况下单个成员修改模组列表导致的同步问题，才将mods文件纳入仓库中的。且这只是一个供论坛大众参阅的帖子，分支的内容涉及merge的概念，在某些特殊情况（如修改模组源码）下会造成不可预知的后果。至于redistribution的问题，在仓库私有的情况下并不违反，但在仓库公开的情况下确实需要顾及。\n\n这么早就登论坛啊hhh"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1571880000,
            "txt_content": "gayhub放release，是托管在aws的服务器上的，国内用户下载还能下得动？"
        },
        {
            "author": "-木羽-",
            "timestamp": 1571880300,
            "txt_content": " 本帖最后由 无名黄鳝 于 2019-11-8 07:27 编辑 \n\n与下同内容"
        },
        {
            "author": "-木羽-",
            "timestamp": 1571880540,
            "txt_content": "森林蝙蝠 发表于 2019-10-24 09:20\ngayhub放release，是托管在aws的服务器上的，国内用户下载还能下得动？\n由于上个回复掺杂地址被审了\n我想问问AWS PEK和AWS NINGXIA是用来烧水发电还是用来当矿机集群用的？\n山栋某用户下载GH RELEASE百兆下到了5MBPS，我想问问你为啥觉得国内用户下不动？这比百度云不是快了十倍？"
        },
        {
            "author": "3TUSK",
            "timestamp": 1571880660,
            "txt_content": "无名黄鳝 发表于 2019-10-24 08:28\n感谢补充，这里首先是考虑到多人开**况下单个成员修改模组列表导致的同步问题，才将mods文件纳入仓库中的 ...供论坛大众参阅的帖子\n说得也是……团队沟通好的话只用一个 branch 未尝不可。\n讲 merge 就会扯出一堆莫名其妙的东西，fetch merge pull stash rebase reset……\n\ngit - the stupid content tracker - $ man git"
        },
        {
            "author": "-木羽-",
            "timestamp": 1571880780,
            "txt_content": "3TUSK 发表于 2019-10-24 09:31\n说得也是……团队沟通好的话只用一个 branch 未尝不可。\n讲 merge 就会扯出一堆莫名其妙的东西，fetch m ...\n哈哈哈哈虽然GIT很shi但是还是得用啊，毕竟SVN... 算了不提了，云端服务器过期一个星期才发现没有备份版本历史的过往还历历在目（"
        },
        {
            "author": "6B不止铅笔",
            "timestamp": 1571884440,
            "txt_content": "无名黄鳝 发表于 2019-10-24 09:29\n由于上个回复掺杂地址被审了\n我想问问AWS PEK和AWS NINGXIA是用来烧水发电还是用来当矿机集群用的？\n山栋 ...\n蓝鲸某用户表示下载在GitHub里的文件只有30kb/s，科学上网后就正常了"
        },
        {
            "author": "-木羽-",
            "timestamp": 1571884740,
            "txt_content": "6B不止铅笔 发表于 2019-10-24 10:34\n蓝鲸某用户表示下载在GitHub里的文件只有30kb/s，科学上网后就正常了\n你可能需要手动重定位GH URL，ip可以由IPADRESS.COM查询"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1571885520,
            "txt_content": "\n\n\n\n\nQQ图片20191024104750.png (41.29 KB, 下载次数: 0)\n\n下载附件\n\n2019-10-24 10:52 上传\n\n\n\n\n\n把梯子关了再说话。\n\n\n\n"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1571887860,
            "txt_content": "那你至少应该说一个应该把host改成什么的教程，相信一般人不会知道aws在北0京和宁0夏的CDN是多少。"
        },
        {
            "author": "-木羽-",
            "timestamp": 1571888940,
            "txt_content": "森林蝙蝠 发表于 2019-10-24 11:31\n那你至少应该说一个应该把host改成什么的教程，相信一般人不会知道aws在北0京和宁0夏的CDN是多少。 ...\n...说的蛮有道理的\n明早再加吧 睡觉了 最近要猝死"
        }
    ]
}