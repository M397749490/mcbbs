{
    "title": "如何获取玩家在线时间",
    "author": "孤独的校长",
    "replyCount": 11,
    "timestamp": 1528535280,
    "txt_content": " 本帖最后由 孤独的校长 于 2018-6-9 17:39 编辑 \n\n如题，如何获取玩家在线时间呀？\n就是获取玩家在线时间!!!!\n",
    "replies": [
        {
            "author": "SevenC",
            "timestamp": 1528536600,
            "txt_content": "错版了_(:з」∠)_"
        },
        {
            "author": "孤独的校长",
            "timestamp": 1528537200,
            "txt_content": "SevenC 发表于 2018-6-9 17:30\n错版了_(:з」∠)_\n没有吧，我是想在Bukkit中获取玩家在线时间没错版吧"
        },
        {
            "author": "星",
            "timestamp": 1528537560,
            "txt_content": "孤独的校长 发表于 2018-6-9 17:40\n没有吧，我是想在Bukkit中获取玩家在线时间没错版吧\nBukkit中应该是没有给出方法的\n你可以尝试自己写个插件来储存玩家的在线时间"
        },
        {
            "author": "孤独的校长",
            "timestamp": 1528537560,
            "txt_content": "小星啊啊啊 发表于 2018-6-9 17:46\nBukkit中应该是没有给出方法的\n你可以尝试自己写个插件来储存玩家的在线时间 ...\n可以给一些具体的吗2333333"
        },
        {
            "author": "星",
            "timestamp": 1528537800,
            "txt_content": "孤独的校长 发表于 2018-6-9 17:46\n可以给一些具体的吗2333333\n具体的话 你可以用调度器设置一个间隔 比如10s或者1min之类的\n然后保存到一个配置文件里边"
        },
        {
            "author": "孤独的校长",
            "timestamp": 1528537860,
            "txt_content": "小星啊啊啊 发表于 2018-6-9 17:50\n具体的话 你可以用调度器设置一个间隔 比如10s或者1min之类的\n然后保存到一个配置文件里边 ...\n有个问题，我每隔1min保存的话，2min后在配置文件里面会不会有2条一模一样的保存信息？"
        },
        {
            "author": "a8105",
            "timestamp": 1528542780,
            "txt_content": "Map<String,Long> totalTime=new HashMap<>();\nMap<String,Long> time=new HashMap<>();\nPlayerJoinEvent e:\nlong time=System.currentTimeMillis();\nthis.time.put(e.getPlayer().getName(),time);\nPlayerQuitEvent e 或 其他相关操作需要获取在线时间:\nLong totalTime=this.totalTime.get(e.getPlayer().getName());\nif(totalTime==null)\n  totalTime=0;\nlong nowTime=System.currentTimeMillis()-time.get(e.getPlayer.getName());\nnowTime=nowTime/1000;\ntotalTime+=nowTime;\ntotalTime就是总在线时间\n接下来储存totalTime\n玩家加入或开服时读取totalTime,put到totalTime的Map里\n除以1000=秒\n不除以1000=毫秒"
        },
        {
            "author": "SevenC",
            "timestamp": 1528542780,
            "txt_content": "小星啊啊啊 发表于 2018-6-9 17:50\n具体的话 你可以用调度器设置一个间隔 比如10s或者1min之类的\n然后保存到一个配置文件里边 ...\n这不是累计时间么... 那要是每次在线时间怎么算？"
        },
        {
            "author": "一个老baby",
            "timestamp": 1528543740,
            "txt_content": "我现在是每次玩家下线时 储存他的在线时间紧到sql  这玩意是游戏刻  要除以20"
        },
        {
            "author": "mmmmm_ccccc",
            "timestamp": 1556774520,
            "txt_content": "Minecraft 自带的统计信息里不是有 游玩时间 吗\n为什么不试试获取统计信息呢"
        },
        {
            "author": "_諵城`Tr)L",
            "timestamp": 1563986040,
            "txt_content": "mmmmm_ccccc 发表于 2019-5-2 13:22\nMinecraft 自带的统计信息里不是有 游玩时间 吗\n为什么不试试获取统计信息呢 ...\n那个是属于客户端的时间  \n包括单机和联机"
        }
    ]
}