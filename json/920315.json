{
    "title": "[付费][管理]CraftEconomy——支持Mysql和跨服使用的高效基础经济插件[1.8-1.16]",
    "author": "Moziyu",
    "replyCount": 28,
    "timestamp": 1571104800,
    "txt_content": " 本帖最后由 Moziyu 于 2020-7-29 14:03 编辑 \n\n\n 前言\n\n ESS的经济不支持Mysql，没法跨服CMI的经济同步方面存在问题，且不能异服支取Spigot上转了一圈，唯一符合需求的Aconomy关服时会卡死没办法只能自己写一款，同时在之前的其他插件基础上优化\n本插件为专为BC服和使用Mysql优化，普通服务器可直接飘过在BC状态下，玩家余额变动会自动发BC消息到其他服务器以达到自动更新缓存的作用，余额信息在玩家进服后即缓存读取速度极快，以适应PAPI等高频读取插件的需求对金币排行榜进行了专门的优化采用请求才刷新，定义有效期、请求挂起并异步返回机制\n\n\n\n 功能\n\n基础经济插件，支持BC多服同步、Mysql存储支持在线和离线模式的服务器玩家进服、需操作余额时自动进行缓存，读取效率极高BC多服同步实现了玩家在A服，B服对他进行扣费/支付时A服也能实时更新，此更新无需轮询数据库，而是通过BC消息实现\n插件未用到新版本中的特性API，理论上1.8-1.14通用。欢迎回复更多功能建议、BUG反馈\n\n\n\n 命令与权限以及配置文件\n\n玩家命令:\n/balance                                      查看自己的余额\n/balance <name>                      查看其他玩家的余额\n/pay <name> <amount>         将你的余额付给其他玩家\n/balancetop                    查看玩家余额排行榜\nOP命令:\n/money take <name> <amount>    减少某个玩家的余额\n/money give <name> <amount>    增加某个玩家的余额\n/money set <name> <amount>      设置某个玩家的余额\n/money reload                                    重载插件配置文件\n权限:   \n无\n配置文件：\n\n#提示信息前缀\nprompt-prefix: '&6基础经济'\n\n#存储配置\nstorage:\n  mysql:\n    #是否使用Mysql\n    use: false\n    #连接信息\n    host: localhost\n    port: 3306\n    username: username\n    password: password\n    database: minecraft\n    parameter: 'characterEncoding=utf-8&useSSL=false&autoReconnect=true'\n    table_perfix: 'ce_'\n    #如果设置为true，下次启动自动从Yaml导入数据到Mysql\n    convert: false\n\n#基本配置\nsetting:\n  #在线模式，开启后将依据玩家UUID进行操作\n  #如果使用了BC，所有子服应保证设置相同\n  online-mode: false\n  #玩家第一次进服时的初始余额\n  initial-balance: 500.00\n  #排行榜有效时间（单位：秒）\n  ranking-validity: 300\n\n#提示信息\nmessage:\n  reload-success: '&e配置信息重载成功'\n  console-cant: '&e控制台无法执行此指令'\n  invalid-page: '&e页码无效, 请重新输入'\n  balance-sorting: '&e正在排序所有玩家的余额, 请稍等...'\n  ranking-format: '&e{place}: {player} - {balance}'\n  balance-other: '&e玩家 &b{player} &e的余额: &6{balance}'\n  invalid-player: '&e目标玩家不存在'\n  balance-self: '&e你的余额: &6{balance}'\n  payment-sent: '&e你支付了 &6{money} &e给 &b{player}'\n  payment-received: '&e你收到了 &b{player} &e的 &6{money}'\n  you-nomoney: '&e你的余额不足，支付失败'\n  take-success: '&e成功从 &b{player} &e取走 &6{money}'\n  target-nomoney: '&e目标玩家余额不足'\n  give-success: '&e成功将 &6{money} &e给予 &b{player}'\n  invalid-amount: '&e金额无效, 请重新输入'\n<blockquote>  bungee-withdraw: '&e你支出了 &6{money}'复制代码#帮助信息\nhelp:\n  balance: '&e查看你自己的余额'\n  balance-other: '&e查看其他玩家的余额'\n  pay: '&e将你的余额付给其他玩家'\n  balancetop: '&e查看玩家余额排行榜'\n  money-take: '&e减少某个玩家的余额'\n  money-give: '&e增加某个玩家的余额'\n  money-set: '&e设置某个玩家的余额'\n  reload: '&e重载插件配置文件'\n\n\n\n 截图\n\n\n\n\n\n 更新日志\n\n2019-10-15：插件发布\n2020-04-15：1.消息前缀现在可进行完全配置，默认不带有括号，需要原有样式的请将配置文件改为'&7[&6基础经济&7] &3: &r' ；2.现在玩家可以收到发生于其他服务器的余额变动消息\n\n\n\n\n 下载地址\n\n链接：https://afdian.net/@DanielLee\n\n\n 服务条款\n\n1.如果您遇到任何问题，请在发表负面评价前与我联系，我们可以共同解决2.如果您是通过付费获得的插件，说明您已同意全部条款3.不接受任何理由的退款4.禁止以任何方式向他人转售本插件，如向他人推荐，请附带本帖链接5.完整的售后服务仅提供给付费用户，一旦付费，未来的更新全部免费提供6.本人有权随时对此条款的细节进行修改\n\n\n\n 感谢支持\n\n\n\n\n",
    "replies": [
        {
            "author": "没有未来",
            "timestamp": 1571105400,
            "txt_content": "支持中文名字储存吗？"
        },
        {
            "author": "Moziyu",
            "timestamp": 1571110320,
            "txt_content": "没有未来 发表于 2019-10-15 10:10\n支持中文名字储存吗？\n肯定支持呀"
        },
        {
            "author": "mazd666",
            "timestamp": 1571208180,
            "txt_content": "原本使用cmi mysql数据 他经济跨服问题真的困扰蛮大的\n\n有方法可以导出cmi的经济数据 导入到此插件内吗\n\n还是可以跟着cmi经济一起搭配使用?   目前数据儲存都使用cmi mysql 包含Economy功能 \n\n不太懂能不能配合CMI一同使用(原本使用CMI经济了\n\n也能支持QS商店等不同服经济吗同步吗?  \n\n抱歉问题有点多  看到此插件让我真的很开心\n\n"
        },
        {
            "author": "Moziyu",
            "timestamp": 1571215260,
            "txt_content": " 本帖最后由 Moziyu 于 2020-2-21 17:49 编辑 \n\n执行以下SQL即可将CMI中的经济数据导入到本插件中：\ninsert into ce_player (name,balance)select a.username,a.Balance from cmi_users as a where not exists(select 1 from cmi_users as b where a.username = b.username and a.Balance < b.Balance) group by a.username;复制代码执行以下SQL即可将Aconomy中的经济数据导入到本插件中：\ninsert into ce_player (name,balance)select Name,Balance from econnomy;复制代码配合CMI使用请关闭CMI的经济功能，并在CMI的Alias配置中将money、balance、balancetop、pay指令设置为false。\nQuickShop、BossShopPro、YourAuction等一切使用Vault作为经济API的插件均支持，且可实现余额变动实时跨服同步，避免差异引起的错误。\n欢迎进行对比测试，测试思路：一个玩家在A服B服均创建一个箱子商店，另两个玩家分别同时在这两个服购买，查看余额变动是否正确。\n目前我已测试：CMI、Aconomy均会导致余额异常、钱收不到的问题，由于TheNewEconomy过于重量级，没有测试，也不会选用。"
        },
        {
            "author": "隔壁柴先生",
            "timestamp": 1578286260,
            "txt_content": "已购买，关于前缀 可否更新完全自定义 而非现在这样的强制加边框和："
        },
        {
            "author": "Moziyu",
            "timestamp": 1578497700,
            "txt_content": "隔壁柴先生 发表于 2020-1-6 12:51\n已购买，关于前缀 可否更新完全自定义 而非现在这样的强制加边框和：\nemmm...可以改"
        },
        {
            "author": "2803907628",
            "timestamp": 1579360800,
            "txt_content": "隔壁柴先生 发表于 2020-1-6 12:51\n已购买，关于前缀 可否更新完全自定义 而非现在这样的强制加边框和：\n请问这个跨服经济怎么使用你能教教我不？"
        },
        {
            "author": "Mark666",
            "timestamp": 1580795460,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "7_yan",
            "timestamp": 1581058920,
            "txt_content": "为我们年轻的小提莫点个赞√"
        },
        {
            "author": "没有未来",
            "timestamp": 1581876240,
            "txt_content": "我有一个疑问 BC 模式的 我生存 空岛 分开来的但都是用到这个插件 不会冲突吧 \nmysql 是分开来的\n还有这个购买的方式多少是永久 还是没有永久选择的"
        },
        {
            "author": "Moziyu",
            "timestamp": 1582040640,
            "txt_content": "没有未来 发表于 2020-2-17 02:04\n我有一个疑问 BC 模式的 我生存 空岛 分开来的但都是用到这个插件 不会冲突吧 \nmysql 是分开来的\n还有这个 ...\n没问题的。\n购买即为永久。"
        },
        {
            "author": "没有未来",
            "timestamp": 1582040880,
            "txt_content": "Moziyu 发表于 2020-2-18 23:44\n没问题的。\n购买即为永久。\n怎么把AEconomy 数据导入CraftEconomy 我看不懂\n"
        },
        {
            "author": "重载",
            "timestamp": 1582041060,
            "txt_content": "这个插件真的是解决了很多服得燃眉之急"
        },
        {
            "author": "1329047132",
            "timestamp": 1582078380,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Moziyu",
            "timestamp": 1582268640,
            "txt_content": "没有未来 发表于 2020-2-18 23:48\n怎么把AEconomy 数据导入CraftEconomy 我看不懂\n我帮你写个SQL吧，你私信我"
        },
        {
            "author": "Rusko",
            "timestamp": 1585850400,
            "txt_content": "支持ess经济吗？"
        },
        {
            "author": "SR_踮脚",
            "timestamp": 1586745660,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Dragontrail",
            "timestamp": 1586764500,
            "txt_content": "谢谢分享 bc福利 ！！"
        },
        {
            "author": "2483104595",
            "timestamp": 1593091260,
            "txt_content": "能加个去小数的变量不 插件已经购买了 但是我的变量有小数很奇怪"
        },
        {
            "author": "Moziyu",
            "timestamp": 1593246660,
            "txt_content": "2483104595 发表于 2020-6-25 21:21\n能加个去小数的变量不 插件已经购买了 但是我的变量有小数很奇怪\n变量有小数？你是指PAPI的变量吗？"
        },
        {
            "author": "2483104595",
            "timestamp": 1593256800,
            "txt_content": "Moziyu 发表于 2020-6-27 16:31\n变量有小数？你是指PAPI的变量吗？\n嗯  %vault_eco_balance%"
        },
        {
            "author": "浪子c",
            "timestamp": 1593259320,
            "txt_content": "\n感谢大佬的分享!"
        },
        {
            "author": "chw霖酱喵~",
            "timestamp": 1594714860,
            "txt_content": "玩家可以向不存在的人打钱 并且还会打过去 而且服务器还会卡顿一下 这个咋回事\n而且如果希望关闭这个玩家不在服务器可以打钱的功能。。。。至少想要一个开关啊。。。"
        },
        {
            "author": "2483104595",
            "timestamp": 1595598780,
            "txt_content": "用了CraftEconomy 然后在mm掉落物加上money的 怪物死亡会有延迟 有办法解决吗"
        },
        {
            "author": "wangdiandao",
            "timestamp": 1604924220,
            "txt_content": "好贵啊……"
        },
        {
            "author": "wangdiandao",
            "timestamp": 1604924220,
            "txt_content": "wangdiandao 发表于 2020-11-9 20:17\n好贵啊……\n不过值得"
        },
        {
            "author": "王宇辉",
            "timestamp": 1610709900,
            "txt_content": "下来研究研究"
        },
        {
            "author": "小冰最帅",
            "timestamp": 1610714700,
            "txt_content": "不错的插件，感谢楼主的分享"
        }
    ]
}