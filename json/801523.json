{
    "title": "PlaceholderAPI注册和使用变量",
    "author": "狡诈师",
    "replyCount": 5,
    "timestamp": 1530092520,
    "txt_content": " 本帖最后由 爱国民主 于 2018-6-27 17:44 编辑 \n\n恕我直言：站内教程，@*&%$......\n原贴教程：https://www.spigotmc.org/wiki/hooking-into-placeholderapi/\n\n现在我用简单讲述下，让大家简单易懂（我怕我也忘了）\n\n\n注册方法\n\n首先创建一个类（专门是PlaceholderAPI变量）\n\npublic class 类 extends EZPlaceholderHook {\n    // 这里注意了，上面类和下面类的名一样（小心报错）\n    // 变量自己命名吧\n    public 类 (main 变量) {\n            super(变量, \"变量前缀\");\n    }\n\n        @Override\n        public String onPlaceholderRequest(Player p, String var) {\n                // 如果是 %变量前置_变量后缀1\n                if (var.equals(\"变量后缀1\")) {\n            return String.valueOf(XXX); // XXX = 要将变量变成的东西，如文本，数字等\n        }\n                // 如果是 %变量前置_变量后缀2\n                if (var.equals(\"变量后缀2\")) {\n            return String.valueOf(XXX);\n        }\n        // 如果玩家不在线\n        if (p == null) {\n            return \"\";\n        }\n        return null;\n        }\n}\n\n复制代码\n在主类的onEnable写\n\n                if ( Bukkit.getPluginManager().isPluginEnabled(\"PlaceholderAPI\") ) {\n                        new regPapi(this).hook();\n                }\n\n复制代码\n最后\n很重要，需要写入依赖，否则无效\n在plugin.yml写\n\nsoftdepend: [PlaceholderAPI]\n复制代码\n\n如何使用PlaceholderAPI变量（如%player_name%）\nPlaceholderAPI提供方法API了：PlaceholderAPI.\n// 把文本含有变量变出来（不知道怎么说）\n// 如果类型Player指向 名字为\"A\"玩家\n// 如果文本（如config.yml）中含有%player_name%\n// 那么 %player_name% 就变成 A\n// 剩下字符不会变\n// 最后输出了\nPlaceholderAPI.setPlaceholders(类型Player, 类型String)\n复制代码\n\n教程到此结束\n什么？这么简单你还不懂？别告诉我你没有Java基础\n有了Java基础还看不懂？\n那...，赠上图片\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "我爱侬",
            "timestamp": 1530104100,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "狡诈师",
            "timestamp": 1530107400,
            "txt_content": "Mgazul 发表于 2018-6-27 21:28\n此方法在高版本已弃用，楼主最好写出最新的方法 以免新人无法理解\n没啊，我这里用得正常恨呢"
        },
        {
            "author": "狡诈师",
            "timestamp": 1530108180,
            "txt_content": "Mgazul 发表于 2018-6-27 21:54\npublic class PFPapiHook extends PlaceholderHook{\n\n        private static final String hook_name = \"pf\";\n绝对不是我变量问题，可能是你执行的那些吧（比如getMaxHealth这类东西被弃用）"
        },
        {
            "author": "gxy1127",
            "timestamp": 1530229260,
            "txt_content": "能帮我写个VIPNAME插件变量吗》？"
        },
        {
            "author": "苏丶小沫",
            "timestamp": 1531121580,
            "txt_content": "楼主，我像你这样写，发现 自定义的占位符 仍然不会显示在 支持Papi的计分板插件 中！\n怎么办？"
        }
    ]
}