{
    "title": "[视频教程]针对无公网IP、动态IP地址的服务器端口映射方法",
    "author": "nikoniko_ni",
    "replyCount": 21,
    "timestamp": 1447404840,
    "txt_content": " 本帖最后由 1421312987 于 2015-11-13 18:56 编辑 \n\n前言前一段时间我在论坛发布的一篇同名教程为文字版\n次帖是 改进版+视频版\n\n\nhttp://www.mcbbs.net/thread-495758-1-1.html第一帖在这里\n\n上一篇教程使用的端口映射方法是通过VPN远程连接到云服务器上并配置端口映射此方法较为简单，但是有几大问题1.      经过如此一番转发，玩家的源IP地址丢失（所有玩家的登录IP地址都是云服务器的IP）导致BAN IP等功能成为无用命令2.      相比普通机房托管的服务器延迟较高3.      并不稳定，大概每隔1-0.5小时就会全服玩家掉线一次（可能为软件问题）因此此方法并不能投入到正规服务器中，较适合朋友之间联机、娱乐、研究\n后来经过我一段时间的研究终于找到了最合适的解决方法特别感谢论坛会员、版主：SkyCatcher 提出的方法\n原理鄙人的方法十分简单，稍微懂得一些网络基础的朋友都能看懂\n上图Minecraft服务器运行“Minecraft服务端”Minecraft通过VPN服务器搭建的“VPN服务”连接到VPN服务器的内网里VPN服务器通过“NAT”将Minecraft在VPN服务器里的虚拟IP映射出去玩家们访问VPN服务器“开始游戏”优缺点\n\n优点1.      连接十分可靠（搭配VPN断线重播食用效果更佳）2.      玩家的真实IP地址都跟着数据包转发，这是其他映射软件所不具备的（如有请无视这句话）3.      NAT相比端口映射软件延迟降低2ms-15ms缺点1.      需要购买云服务器2.      家用宽带带宽需求较高（楼主家用的是长城宽带，上传不限速）3.      访问云服务器的延迟不能太高比如我家访问在北京阿里云机房的延迟为21ms你访问你的云服务器延迟*2（往返路程）=实际延迟那么这个服务器最低延迟为21*2=42ms（加上转发响应时间和服务端响应大概为60ms左右）教程这个视频在学校录制的，教程视频没有我的声音，但是屏幕上已经加上了字，不影响观看[bili=3214105]1[/bili]\n",
    "replies": [
        {
            "author": "SkyCatcher",
            "timestamp": 1447477260,
            "txt_content": "用软件转发不可能保留源IP的，除非是专门有协议来兼容，例如bungeecord。\n建议用MSTSC而不是VNC，VNC一卡一卡的录出来效果很不好，RDP协议很明显快很多"
        },
        {
            "author": "SkyCatcher",
            "timestamp": 1447477560,
            "txt_content": " 本帖最后由 SkyCatcher 于 2015-11-14 13:17 编辑 \n\nMC走的都是TCP，不需要做UDP协议的NAT\n用了VPN以后会让所有流量都走VPN通道，所以如果是单独想加某一条BGP线路接入服务器的话看样子是不行的"
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1447485360,
            "txt_content": "SkyCatcher 发表于 2015-11-14 13:06\nMC走的都是TCP，不需要做UDP协议的NAT\n用了VPN以后会让所有流量都走VPN通道，所以如果是单独想加某一条BGP ...\n不过阿里云已经有多线接入，一般情况的话恐怕不需要再单独接入了呢。"
        },
        {
            "author": "Craftwolves",
            "timestamp": 1447552980,
            "txt_content": "没有路由器的家用机可以固定ip么？不是内网，是朋友进入服务器的。"
        },
        {
            "author": "RuiFen",
            "timestamp": 1447557420,
            "txt_content": "无公网ip可以打电话给运营商投诉的，然后再在路由器上搞个ddns动态域名，解决。如果路由器不支持这个功能，那就用电脑版的每步，然后把自己的域名映射到每步的域名上。就是公网ip比较麻烦，我打了3个电话,电信QQ客服问了2次才联系到技术部。给我分配了一个动态ip"
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1447570980,
            "txt_content": "RuiFen 发表于 2015-11-15 11:17\n无公网ip可以打电话给运营商投诉的，然后再在路由器上搞个ddns动态域名，解决。如果路由器不支持这个功能， ...\n 但是这样的话就没有多线接入的成分在里面了，而且地址租期到期后，动态域名解析切换地址时肯定会有服务中断的时候，你说的这个方法比较适合朋友之间联机（假如你家办理的是第三方的宽带那么恐怕怎么联系客服也没有公网IP地址的）"
        },
        {
            "author": "SkyCatcher",
            "timestamp": 1447596360,
            "txt_content": "1421312987 发表于 2015-11-14 15:16\n不过阿里云已经有多线接入，一般情况的话恐怕不需要再单独接入了呢。\n我指的是如果可以同时使用原IP和VPN服务器的IP连入服务器的话，就能对一些单线服务器进行改造了，毕竟BGP线路流量太贵"
        },
        {
            "author": "txh727770491",
            "timestamp": 1447659000,
            "txt_content": "好一些的路由器才正常使用的，不好的话会有点问题导致路由器假死。"
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1447723800,
            "txt_content": "txh727770491 发表于 2015-11-16 15:30\n好一些的路由器才正常使用的，不好的话会有点问题导致路由器假死。\n这个方法跟路由器优劣没有关系，本贴里的路由远程访问是WindowsServer系统自带的管理组件，跟你所说的路由器不是一样的，你所说的路由器是网络设备，而我说的是系统服务，并不会影响路由器，请注意"
        },
        {
            "author": "。—。",
            "timestamp": 1448971860,
            "txt_content": "重新画了个我的认识，这个转发方法其实很多大公司内部也在用...\n\n\n然后咱要吐槽视频画质!→_→\n"
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1449189720,
            "txt_content": "a6809936 发表于 2015-12-1 20:11\n重新画了个我的认识，这个转发方法其实很多大公司内部也在用...\n论全屏的重要性"
        },
        {
            "author": "1920294124",
            "timestamp": 1449229980,
            "txt_content": "为什么连了vpn外网还是进不来自己可以进"
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1449307560,
            "txt_content": "1920294124 发表于 2015-12-4 19:53\n为什么连了vpn外网还是进不来自己可以进\n你做了NAT了吗？"
        },
        {
            "author": "1920294124",
            "timestamp": 1450482660,
            "txt_content": "按照步骤来了，电脑就是连不上vpn。。。"
        },
        {
            "author": "2414721123",
            "timestamp": 1450483860,
            "txt_content": "{:10_492:}"
        },
        {
            "author": "2414721123",
            "timestamp": 1450483860,
            "txt_content": "[diamond_helmet]"
        },
        {
            "author": "2414721123",
            "timestamp": 1450483980,
            "txt_content": "[diamond_sword]"
        },
        {
            "author": "973453711",
            "timestamp": 1455466140,
            "txt_content": "=-=搭建好连接不上的  看自己路由器   反正我折腾一天 2003 2008 2012全部试过错误800\n然后直接用网线拨号就解决了（用的是长城  别的运营商不知道）"
        },
        {
            "author": "Play丶MC",
            "timestamp": 1455499800,
            "txt_content": "路由和远程访问我怎么找不到"
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1456237500,
            "txt_content": "973453711 发表于 2016-2-15 00:09\n=-=搭建好连接不上的  看自己路由器   反正我折腾一天 2003 2008 2012全部试过错误800\n然后直接用网线拨号 ...\n路由器中的SSTP安全套接字隧道协议要打开，否则是连接不上VPN的"
        },
        {
            "author": "nikoniko_ni",
            "timestamp": 1456237500,
            "txt_content": "Play丶MC 发表于 2016-2-15 09:30\n路由和远程访问我怎么找不到\n2003上以上版本的系统需要手动添加“路由和远程访问”详细方法请参考百度\n"
        }
    ]
}