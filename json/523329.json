{
    "title": "有玩家随机传送后 tps降到15 - 16",
    "author": "88158488",
    "replyCount": 9,
    "timestamp": 1447823280,
    "txt_content": "rt\n如果5个玩家一起传送的话 tps 降到8\n怎么解决？\n是不是cpu主频问题？\n还是服务端问题？\n服务器1.8.8paperspigot\n",
    "replies": [
        {
            "author": "md_5",
            "timestamp": 1447823280,
            "txt_content": "88158488 发表于 2015-11-18 19:35\nWorldBorder\n貌似没这功能\n而且 这会占超大内存 没个32G 几乎不可能/wb [世界名] fill [freq] [pad]  - 填充所有边界内未探索的区块. freq 值为每秒检查/生成的区块数量 (默认20). 服务器有玩家在线时, 你或许应该遵从这个默认值或更小的值. 如果你想尽快完成, 试试 1000 或更高. pad 值为边界外的缓冲区域大小 (默认 208, 或许应该填写更大值以防止额外区块由玩家生成). 点击查看更多信息.\n只是生成出来而已,占用的是磁盘空间并不是内存.\n生成完毕以后玩家随机传送的时候只需要读取地图而不是生成地图,就不会卡了."
        },
        {
            "author": "Aishideru",
            "timestamp": 1447823700,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "鸭蛋只吃黄",
            "timestamp": 1447824600,
            "txt_content": "玩家传送以后新的地方的区块都需要重新加载，有这么几个方法可以减小延迟\n1，减小每个玩家加载的区块。方法：引用jiongjionger的帖子server.properties中可以优化性能的参数：\n\n* view-distance，视距，默认值是10。含义是玩家的视距也就是加载的区块范围，默认是10个区块，视距10加载的区块是视距5的四倍。加载更多的区块则需要更多的内存和运算能力。推荐将这个值设置在5或者6，如果在线人数非常多可以设置为4。降低视距可以有效减少内存的占用，也能有效提高TPS，还可以减少宽带的使用量。这个参数对性能提升是立竿见影的。复制代码\n2，增加随机传送的冷却时间\n3，减小随机传送的距离\n4，提升CPU的运算速度\n\n这个跟内存没关系，因为玩家离开那里那个区块就会被卸载掉，增加内存没什么用的"
        },
        {
            "author": "绅士囧",
            "timestamp": 1447830120,
            "txt_content": "view-distance设置小一点，例如5\n之所以随机传送卡，是因为传送目的地区块没有生成，生成是与主线程在一个线程内的，会导致TPS降低。\n可以考虑使用边界插件预先生成整个世界的地图"
        },
        {
            "author": "88158488",
            "timestamp": 1447842480,
            "txt_content": "凋灵兔子 发表于 2015-11-18 13:30\n玩家传送以后新的地方的区块都需要重新加载，有这么几个方法可以减小延迟\n1，减小每个玩家加载的区块。方法 ...\n都是废话 我视距设置是4"
        },
        {
            "author": "md_5",
            "timestamp": 1447845780,
            "txt_content": "用WorldBorder把地图边界范围内的地图全部生成出来就行了."
        },
        {
            "author": "88158488",
            "timestamp": 1447846500,
            "txt_content": "md_5 发表于 2015-11-18 19:23\n用WorldBorder把地图边界范围内的地图全部生成出来就行了.\nWorldBorder\n貌似没这功能\n而且 这会占超大内存 没个32G 几乎不可能"
        },
        {
            "author": "鸭蛋只吃黄",
            "timestamp": 1447851540,
            "txt_content": "88158488 发表于 2015-11-18 18:28\n都是废话 我视距设置是4\n没用也是我给你的解决办法，觉得没用不理便是，为什么要恶语伤人？\n素质捉急"
        },
        {
            "author": "Stupidbanana666",
            "timestamp": 1448081400,
            "txt_content": "传送本来就会卡嘛。要么你增加传送CD，3秒后传送\n"
        }
    ]
}