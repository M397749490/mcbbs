{
    "title": "Asm使用时报错",
    "author": "弱鸡绿毛怪",
    "replyCount": 9,
    "timestamp": 1507975920,
    "txt_content": " 本帖最后由 MagicLocyDragon 于 2017-10-22 18:44 编辑 \n\n老哥我要删帖你咋给恢复了\n\n\n\n\n\n\n\n\n\nQQ图片20171014180641.png\n(39.55 KB, 下载次数: 4)\n\n\n\n\n下载附件\n\n\n2017-10-14 18:10 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "ddyy163",
            "timestamp": 1508203080,
            "txt_content": "你根本就贴错代码了\n\n按你贴的代码,你意思是asm有bug喽?"
        },
        {
            "author": "ddyy163",
            "timestamp": 1508203140,
            "txt_content": " 本帖最后由 ddyy163 于 2017-10-18 00:58 编辑 \nddyy163 发表于 2017-10-17 09:18\n你根本就贴错代码了\n\n按你贴的代码,你意思是asm有bug喽?\n别玩asm了 回去学好基础吧\n\n以下回复不针对楼主：\nasm作为一个被广泛使用,功能强大的开源库,在这里判断是楼主的代码有问题,我觉得OK\n\n而且我并没有什么别人开源库都一定没bug的感觉,真的没有\n如果你在用别人开源库时出了bug,你能上来就先赖开源库?你不把自己代码贴出来啊?\n\n我觉得我回复可能惹到某个群体的人了，但是，\n看个机儿，我在讨论这个帖子，你跟我说我回复之前还要先看别人作品了，我累不累啊？\n"
        },
        {
            "author": "Yaossg",
            "timestamp": 1508249700,
            "txt_content": "糟糕的木匠总是嫌工具不好\n错误从不是独立存在的，只贴asm不贴自己的代码，你也是真自信\n先检查自己的参数错了没有，在看看上下文，是不是在不该调用的时候调用了\n如果真是bug就去找作者汇报，前提是你足够确信\n\n(如果你这态度玩c++早就完了，几乎所有error出现在库里，而错在自己身上)"
        },
        {
            "author": "ddyy163",
            "timestamp": 1508262780,
            "txt_content": " 本帖最后由 ddyy163 于 2017-10-18 09:39 编辑 \nddyy163 发表于 2017-10-17 09:19\n别玩asm了 回去学好基础吧\n\n以下回复不针对楼主：\n\n既然楼主不是新手，我可以正经的说一句,可以多尝试几个accept的int参数，就是ClassReader里的几个静态常量"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1508491260,
            "txt_content": " 本帖最后由 MagicLocyDragon 于 2017-10-20 17:36 编辑 \nddyy163 发表于 2017-10-17 09:19\n别玩asm了 回去学好基础吧\n\n以下回复不针对楼主：\n如果你要代码的话我给你给你\n我只是忘记贴出来了而已 对于你的什么“认为ASM有bug之类的话” 我觉得你只是自作多情\n如果我根本是在瞎说 你可以无视\n顺便来说 我只是来问问题的 我确实不会用asm 我才来这里问 要是我会我用得着来冒着被你们骂的风险来这里问？\n  @Override\n         public void visitInsn(int codes) {\n                 mv.visitTryCatchBlock(l0, l1, l2, \"java/lang/Exception\");\n                 mv.visitLabel(l0);\n                 mv.visitLineNumber(5, l0);\n                 mv.visitLdcInsn(packetName);\n                 mv.visitMethodInsn(Opcodes.INVOKESTATIC, \"java/lang/Class\", \"forName\", \"(Ljava/lang/String;)Ljava/lang/Class;\", false);\n                 mv.visitLdcInsn(methodName);\n                 mv.visitInsn(Opcodes.ICONST_0);\n                 mv.visitTypeInsn(Opcodes.ANEWARRAY, \"java/lang/Class\");\n                 mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, \"java/lang/Class\", \"getMethod\", \"(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;\", false);\n                 mv.visitInsn(Opcodes.ACONST_NULL);\n                 mv.visitInsn(Opcodes.ICONST_0);\n                 mv.visitTypeInsn(Opcodes.ANEWARRAY, \"java/lang/Object\");\n                 mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, \"java/lang/reflect/Method\", \"invoke\", \"(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;\", false);\n                 mv.visitInsn(Opcodes.POP);\n                 mv.visitLabel(l1);\n                 mv.visitLineNumber(6, l1);\n                 Label l3 = new Label();\n                 mv.visitJumpInsn(Opcodes.GOTO, l3);\n                 mv.visitLabel(l2);\n                 mv.visitFrame(Opcodes.F_SAME1, 0, null, 1, new Object[] {\"java/lang/Exception\"});\n                 mv.visitVarInsn(Opcodes.ASTORE, 1);\n                 mv.visitLabel(l3);\n                 mv.visitLineNumber(7, l3);\n                 mv.visitFrame(Opcodes.F_SAME, 0, null, 0, null);\n                 mv.visitInsn(Opcodes.RETURN);\n                 Label l4 = new Label();\n                 mv.visitLabel(l4);\n                 mv.visitLocalVariable(\"args\", \"[Ljava/lang/String;\", null, l0, l4, 0);\n                 mv.visitMaxs(5, 2);\n                 mv.visitEnd();\n                 super.visitInsn(codes);\n         }\n核心代码\n            ClassReader r = new ClassReader(className);\n             ClassWriter w = new ClassWriter(r, 0);\n             \n             ClassVisitor v = new ClassAdapterVisit(w);\n             \n             r.accept(v, ClassReader.SKIP_DEBUG);\n以及调用"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1508491320,
            "txt_content": " 本帖最后由 MagicLocyDragon 于 2017-10-20 17:24 编辑 \n姚氏帅哥 发表于 2017-10-17 22:15\n糟糕的木匠总是嫌工具不好\n错误从不是独立存在的，只贴asm不贴自己的代码，你也是真自信\n先检查自己的参数 ...\n阿？\n我是用过C++\n咋了\n只会吐槽别人而不仔细看看代码帮帮忙只会喷人的人\n你也是“真够自信”"
        },
        {
            "author": "耗子",
            "timestamp": 1508492460,
            "txt_content": "ClassWriter w = new ClassWriter(ClassWriter.COMPUTE_FRAMES);"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1508492700,
            "txt_content": "耗子 发表于 2017-10-20 17:41\nClassWriter w = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\n谢谢"
        },
        {
            "author": "Yaossg",
            "timestamp": 1508504040,
            "txt_content": "MagicLocyDragon 发表于 2017-10-20 17:22\n阿？\n我是用过C++\n咋了\n最终代码是你的代码的问题，而你一开始就帖ASM代码，这是事实吧。\n直到我回复时，我都没看见你发自己的代码，所以我都不可能知道你错在什么地方\n就好比你没有问别人问题就要别人回答一样，到头来还是我的问题，那么我也无能为力了，\n现在你已经给出了你自己的代码，的确有人为你解答了，所以我不想多说了"
        }
    ]
}