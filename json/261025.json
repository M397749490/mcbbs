{
    "title": "反作弊的一些个人思路，希望有帮助",
    "author": "gamerteam",
    "replyCount": 53,
    "timestamp": 1396824240,
    "txt_content": "首先，一般来说腐竹自己做的启动器都是采用的命令行的方式，而不是JSON获取文件获取参数的方式，这样有一个好处就是可以你不按套路出牌，改变文件夹的规则，比如移动部分需要启动的jar文件，同时删除掉一些json文件，达到防止他们使用其他启动器非法启动\n然后我们就要重点监视mods文件夹了，首先你需要一个服务器，每次启动时先下载当前服务器mods文件夹的md5码，然后开始比对，如果有不匹配的就进行报错即可。\n还有个办法就是把一些小的核心文件删除，然后每次游戏打开前就下载，这个搭配上面的方法效果更佳\n当然，这个还是不能防止透明资源包材质的，如果你要连资源包文件也限制就另当别论",
    "replies": [
        {
            "author": "jjxxz2",
            "timestamp": 1396824480,
            "txt_content": "好高级表示看不懂"
        },
        {
            "author": "小析",
            "timestamp": 1396825200,
            "txt_content": "把资源包的文件给隐藏起来"
        },
        {
            "author": "gamerteam",
            "timestamp": 1396825320,
            "txt_content": "小析 发表于 2014-4-7 07:00\n把资源包的文件给隐藏起来\n隐藏太好破解了，而且资源包是可以随时游戏时添加的，我的思路就是启动器后台常驻检测，不过这个有些不太人性化，限制资源包的使用也有点缺德"
        },
        {
            "author": "LOAWD",
            "timestamp": 1396828800,
            "txt_content": "好复杂啊"
        },
        {
            "author": "1277832129",
            "timestamp": 1396840500,
            "txt_content": "为什么我看不懂"
        },
        {
            "author": "xunyanglin",
            "timestamp": 1396842720,
            "txt_content": "可不可以吧更换材质包的按钮设置为禁用。。我找过但是没找到相关代码"
        },
        {
            "author": "gamerteam",
            "timestamp": 1396850160,
            "txt_content": "xunyanglin 发表于 2014-4-7 11:52\n可不可以吧更换材质包的按钮设置为禁用。。我找过但是没找到相关代码\n这个禁用貌似就要改游戏核心了"
        },
        {
            "author": "gamerteam",
            "timestamp": 1396850160,
            "txt_content": "LOAWD 发表于 2014-4-7 08:00\n好复杂啊\n也不是很复杂，就是验证他们有没有在MODS文件里添加不该有的东西"
        },
        {
            "author": "799669332",
            "timestamp": 1396858200,
            "txt_content": "LZ这些思路早就有了= =\n你可以看我的客户端= =\n连minecraft.jar你都找不到，修改任何一个MOD都会无法启动，因为某些MOD对lib文件版本是有依赖的，就是说只要用特定的lib文件版本搭配起来，删除或添加任何一个MOD都会崩溃\n透视材质包检测基本没必要\n因为用萤石什么的本身就能透视"
        },
        {
            "author": "xunyanglin",
            "timestamp": 1396867080,
            "txt_content": "799669332 发表于 2014-4-7 16:10\nLZ这些思路早就有了= =\n你可以看我的客户端= =\n连minecraft.jar你都找不到，修改任何一个MOD都会无法启动， ...\n通过任务管理器查看java.exe的启动方式就可以知道文件在哪里了"
        },
        {
            "author": "799669332",
            "timestamp": 1396869120,
            "txt_content": "xunyanglin 发表于 2014-4-7 18:38\n通过任务管理器查看java.exe的启动方式就可以知道文件在哪里了\n对啊\n               "
        },
        {
            "author": "xunyanglin",
            "timestamp": 1396871460,
            "txt_content": "799669332 发表于 2014-4-7 19:12\n对啊\n他们也可以吧java替代javaw来显示命令行\n不过，你可以单独吧库文件放一个地方，单独吧核心jar放一个地方"
        },
        {
            "author": "RecursiveG",
            "timestamp": 1396874400,
            "txt_content": "799669332 发表于 2014-4-7 19:12\n对啊\nJava.exe也不过是对Java虚拟机的一个包装，理论上可以直接调用JVM.dll。这样在任务管理器里也找不到进程了"
        },
        {
            "author": "472950041",
            "timestamp": 1396881240,
            "txt_content": "防透视资源包也比较简单\n把透视资源包解压缩 然后挑选关键文件 查询md5\n只要有超过3个文件md5与云黑名单相同 即报错\n这种思路应该有效"
        },
        {
            "author": "Sansi丶XL",
            "timestamp": 1396943580,
            "txt_content": "半懂不懂，不明觉历QAQ"
        },
        {
            "author": "天堂TT",
            "timestamp": 1396946520,
            "txt_content": "作弊只要不是太严重不管也无所谓，但是骂人和熊就不能忍了"
        },
        {
            "author": "StevenNight",
            "timestamp": 1396950000,
            "txt_content": "{:10_493:} 表示一般服务器不用做得这么狠\n超大的服务器另当别论了！"
        },
        {
            "author": "ygujyh",
            "timestamp": 1396966020,
            "txt_content": " 本帖最后由 ygujyh 于 2014-4-8 22:08 编辑 \n472950041 发表于 2014-4-7 22:34\n防透视资源包也比较简单\n把透视资源包解压缩 然后挑选关键文件 查询md5\n只要有超过3个文件md5与云黑名单相 ...\n\n捕抓47一只(我觉得引进一些客户端式的反作弊很有必要;)"
        },
        {
            "author": "xenoxue",
            "timestamp": 1397199600,
            "txt_content": "反作弊我觉得在客户端本地做文章是不够的。。\n\n你的服务器ip在那里。。 只要换一个客户端启动器不就搞定了嘛。。\n\n我的反作弊思路是 客户端 和服务器端都做一些文章。 效果蛮不错的。。 想要破解编程功底要厚的多，也不是百度就能解决的。。\n\n我的帖子：\n客户端和服务器端部分：http://www.mcbbs.net/thread-220983-1-1.html\n\n还可以自己搭建一个山寨的正版验证服务器，然后逼迫玩家注册。这样玩家就会比较珍惜自己的id。也避免了国内玩家很多舍不得买正版的问题。\n\n正版服务器搭建思路：http://www.mcbbs.net/thread-232936-1-1.html\n\nPS：以上是我个人的思路。 而且我也已经做到了。。 实现起来很简单的。"
        },
        {
            "author": "mikuand",
            "timestamp": 1397212920,
            "txt_content": "思路不错"
        },
        {
            "author": "472950041",
            "timestamp": 1397225280,
            "txt_content": "xenoxue 发表于 2014-4-11 15:00\n反作弊我觉得在客户端本地做文章是不够的。。\n\n你的服务器ip在那里。。 只要换一个客户端启动器不就搞定了 ...\n+1 墙内假矿+距离型假矿完虐各种透视"
        },
        {
            "author": "xenoxue",
            "timestamp": 1397232900,
            "txt_content": "472950041 发表于 2014-4-11 22:08\n+1 墙内假矿+距离型假矿完虐各种透视\n假矿吃宽带。吃cpu。。\n还可能出现各种bug。。。\n\n玩开小服的别在这里瞎说好么。。。 \n墙内假矿你要设置的多近效果才好你知道么。。 做到那种程度服务器要消耗多少宽带和cpu你懂么。。\n更不用说各种各样的作弊手段了。。\n\n只有从根本上强制使用指定启动器，再利用启动器只允许允许指定的mod和客户端，才能做到真正的反作弊。服务器端的负载反而可以减轻。"
        },
        {
            "author": "472950041",
            "timestamp": 1397266140,
            "txt_content": "xenoxue 发表于 2014-4-12 00:15\n假矿吃宽带。吃cpu。。\n还可能出现各种bug。。。\n要知道minecraft的自由性\n目前最好的反作弊只能假矿，在客户端做手脚没啥用的，针对方法有很多，下面就是几种\n1.MD5验证=>换客户端\n2.客户端绑定=>抓包提交\n3.客户端装防透视mod=>删mod\n4.服务端强制客户端使用防作弊mod=>mod版本信息污染\n\n以上乃反作弊的一些破解方法，不仅如此，黑掉服务器也是可以的\n1.服务器有论坛=>XSS拿掉论坛+提权下服务器主机(成功率65%)\n2.服务器有自写官网=>SQL注入爆数据库写shell搞掉服务器主机(成功率30%)\n3.管理员有QQ=>社工库跑密码尝试登陆后台(成功率10%)\n4.服务器使用与数据库有关联的插件=>尝试SQL注入(成功率30%)\n5.腐竹是插件控=>提权木马插件(成功率90%)\n\n甚至是还有更多的方法，此贴不是作弊贴。。不说了\n关键是服务器安全，在客户端做的一切在精心破解下都是浮云"
        },
        {
            "author": "mingtfarc",
            "timestamp": 1397271180,
            "txt_content": "文件夹的md5码抓不住\n唯一的办法只有用mysql云验证\n比较麻烦\n要修改服务器端在线验证内核，改成验证账号的服务器的ip\n然后打开在线验证，只有客户端能进去"
        },
        {
            "author": "472950041",
            "timestamp": 1397290500,
            "txt_content": "mingtfarc 发表于 2014-4-12 10:53\n文件夹的md5码抓不住\n唯一的办法只有用mysql云验证\n比较麻烦\n在客户端进行mysql连接来实现云验证就等于给黑客白送mysql密码\n简单脱壳+c32asm十六进制编辑 秒爆mysql密码 拿服务器\n不过如果是http读php或者是服务器连接mysql的话就完全不用担心这个了"
        },
        {
            "author": "mingtfarc",
            "timestamp": 1397293620,
            "txt_content": "472950041 发表于 2014-4-12 16:15\n在客户端进行mysql连接来实现云验证就等于给黑客白送mysql密码\n简单脱壳+c32asm十六进制编辑 秒爆mysql密 ...\n在网页链接mysql（phpadmin？）进行操作么"
        },
        {
            "author": "472950041",
            "timestamp": 1397294640,
            "txt_content": "mingtfarc 发表于 2014-4-12 17:07\n在网页链接mysql（phpadmin？）进行操作么\n写个php 用php进行数据库查询 然后按照一定的格式输出\n客户端只需要http读文件 然后解析即可\n总之客户端不能含有mysql密码成分 否则等于送服务器"
        },
        {
            "author": "mingtfarc",
            "timestamp": 1397295960,
            "txt_content": "472950041 发表于 2014-4-12 17:24\n写个php 用php进行数据库查询 然后按照一定的格式输出\n客户端只需要http读文件 然后解析即可\n总之客户端 ...\n是不是抓包就可以得到mysql密码？"
        },
        {
            "author": "654188164",
            "timestamp": 1397385960,
            "txt_content": "APIHook无视一切"
        },
        {
            "author": "Neubulaeko",
            "timestamp": 1397387100,
            "txt_content": "mingtfarc 发表于 2014-4-12 17:46\n是不是抓包就可以得到mysql密码？\nHeartBleed漏洞也是在4月8日……（4月8日使用Optifine会有Happy Birthday！Optifine）"
        },
        {
            "author": "xenoxue",
            "timestamp": 1397402400,
            "txt_content": "472950041 发表于 2014-4-12 09:29\n要知道minecraft的自由性\n目前最好的反作弊只能假矿，在客户端做手脚没啥用的，针对方法有很多，下面就是 ...\n假矿太吃宽带了。 尤其是你设想的墙内1格的。\n服务器人一多你没G口根本别玩了。\n何况国内G口贵的跟茶叶蛋似的。。 \n\n我说的客户端做手脚主要是利用mc正版中用到的一些代码。\n这样主要是2个好处，\n第一，强制要求使用专业启动器，然后启动器可以检测那些可以作弊的手段，并禁止掉。就是你说的那些。\n第二，这个才是最重要的，配合修改过后的服务器端，和山寨后的验证服务器，可以使注册账号变得困难一些。让玩家珍惜账号。\n\n黑掉服务器方面就别说了。 服主尽量做好服务器安全工作就可以的。 有本事能黑掉服务器的人还需要去作弊么？ 还会来玩这游戏么？\n有本事黑的掉，跑来黑你服务器的，要不是和你有仇，要不就是人家无聊。。 不会为了作弊而特地黑你服务器的。\n\n而你说的客户端破解也差不多的道理。。 有本事破解的也就自己破解了。没几个会发到网上到处都是。 就算他发了，你难道不会完善客户端，防止被破译么。。 这本来就是这行的人一直在做的，又不是就单单mc是这个问题。 技术手段用技术解决。。\n\n从根本上来说，所有的防作弊手段主要是为了防止国内特色的熊孩子小学生们作弊。 只要能让他们无法作弊就行了。。 有技术手段的人你再怎么搞他都一样能绕过去。。"
        },
        {
            "author": "xenoxue",
            "timestamp": 1397402640,
            "txt_content": "mingtfarc 发表于 2014-4-12 17:07\n在网页链接mysql（phpadmin？）进行操作么\n他的意思是 你写一个web页面，一般都是php的。百度一下一大片。。\n\n你的客户端把需要查询的md5码发送到这个 web页面。由这个页面来查询mysql数据库。。\n\n然后再返回数据。。 \n\n就好像客户端程序自动访问一个页面，然后自动输入账号和密码。。 再由这个页面来告诉你，你刚才输入的账号和密码是否正确。\n\n这样就避免了mysql数据库的账号密码被破译的尴尬了。。\n\n毕竟只要你的客户端里面有的任何数据，都是可以被找出来的。。 而且不需要有太高的技术水平，只要有懂得一些基础，就可以靠万能的百度找一大堆教程出来的。"
        },
        {
            "author": "jjj201200",
            "timestamp": 1397552520,
            "txt_content": "从根本上，在本地防透明材质的方式是加载透明材质识别模块文件。该模块会检测材质中相关图片的指定坐标序列，该序列指定图片中的一个区域，通过代码判断颜色是否为透明。使用该方法不需要做其他任何限制，同时建议将该模块与源程序放在一块儿。\n注：该模块还在我脑子里。233"
        },
        {
            "author": "SR_踮脚",
            "timestamp": 1397553060,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "gamerteam",
            "timestamp": 1397566140,
            "txt_content": "jjj201200 发表于 2014-4-15 17:02\n从根本上，在本地防透明材质的方式是加载透明材质识别模块文件。该模块会检测材质中相关图片的指定坐标序列 ...\n这个占用资源该有多大……"
        },
        {
            "author": "xunyanglin",
            "timestamp": 1397567940,
            "txt_content": "gamerteam 发表于 2014-4-15 20:49\n这个占用资源该有多大……\n因该不会很大，因为只要检查一次就够了。但是这个却能让你的登陆器看上去很友好"
        },
        {
            "author": "xunyanglin",
            "timestamp": 1397568000,
            "txt_content": "RecursiveG 发表于 2014-4-7 20:40\nJava.exe也不过是对Java虚拟机的一个包装，理论上可以直接调用JVM.dll。这样在任务管理器里也找不到进程 ...\n我想过，但是如何做到就真不知道了，貌似这是个非常good的想法，希望你继续研究下去"
        },
        {
            "author": "xunyanglin",
            "timestamp": 1397568660,
            "txt_content": "472950041 发表于 2014-4-7 22:34\n防透视资源包也比较简单\n把透视资源包解压缩 然后挑选关键文件 查询md5\n只要有超过3个文件md5与云黑名单相 ...\nmd5差异性太大，要是被抓到了 我加一个像素md5就会变化很大了"
        },
        {
            "author": "xunyanglin",
            "timestamp": 1397569980,
            "txt_content": "让我整理一下论坛内的想法：\n1.把资源包的文件给隐藏起来（必须的）\n2.在可能的话吧更换材质包的按钮设置为禁用\n3.利用部分mod对lib有依赖来反加载mod\n4.直接调用JVM.dll 跳过java.exe 这样就隐藏了游戏核心的位置\n5.反hook，选择用2个程序互相监控的方式来实现进程保护。。我是在启动器启动的时候后台运行一个程序，然后tcp连接到后台的程序。（我觉得可以在有异常的时候不关闭游戏，而是向服务器发送警告，若警告过多就。。。）\n6.修改服务器端在线验证内核，改成验证账号的服务器的ip\n然后打开在线验证，只有客户端能进去（见25～29楼）\n7.吧服务器设置成白名单。每次用专用启动器登录的时候自动控制服务器添加白名单。该用户一下线就取消白名单。这也是个好办法。\n9反高级熊：多进程守护，加壳，启动时检查调试器有无运行，启动后禁止加载驱动。（这行是凑数的）（能做到的大师，干脆重写mc好了）\n10.道德的光芒，感悟熊孩子，让他们不再作弊。\n11.在服务器做工作“http://www.mcbbs.net/forum.php?m ... D%E4%BD%9C%E5%BC%8A”\n12.这个 http://www.mcbbs.net/forum.php?m ... D%E4%BD%9C%E5%BC%8A但无法下载了\n希望对大家有帮助！！！[light_gray_dye]"
        },
        {
            "author": "⭐✔️",
            "timestamp": 1397570520,
            "txt_content": "表示纯文字突然不想看了"
        },
        {
            "author": "gamerteam",
            "timestamp": 1397570760,
            "txt_content": "贰逼 发表于 2014-4-15 22:02\n表示纯文字突然不想看了\n难道还能做成视频……"
        },
        {
            "author": "ears",
            "timestamp": 1397572440,
            "txt_content": " 本帖最后由 bears 于 2014-4-15 22:35 编辑 \n\n咱们服务器采用专业登入器，我说说我的反作弊思路\n\n1、服务器的结构比较复杂采用登入器登入帐号进游戏，且一台电脑只能注册一个帐号，所以帐号较珍贵\n\n2、当用户进入多人游戏之后登入器会首次检测电脑情况，以下情况视为作弊\n  1、存在两个相同的Javaw（判断方式比较复杂我就不说了）\n       [相同的标准]\n       1、MC文件路径一样\n       2、昵称与编号一样\n       3、某些特定文件一样\n  2、当前客户端文件与进入服务器之前的客户端文件不相同\n  3、非法软件导致MC不协调\n\n3、欢迎大家来 lalaMeow 服务器观光！"
        },
        {
            "author": "ears",
            "timestamp": 1397572680,
            "txt_content": "JSON参数对应的文件能改吗，而且改了那文件能起到作弊吗，我就是读取JSON参数的"
        },
        {
            "author": "gamerteam",
            "timestamp": 1397572860,
            "txt_content": "bears 发表于 2014-4-15 22:38\nJSON参数对应的文件能改吗，而且改了那文件能起到作弊吗，我就是读取JSON参数的 ...\n可以改啊，甚至你如果是不才用JSON的方式启动删了都可以（当然部分还是不能删比如因为文件夹里的）"
        },
        {
            "author": "ears",
            "timestamp": 1397572980,
            "txt_content": "gamerteam 发表于 2014-4-15 22:41\n可以改啊，甚至你如果是不才用JSON的方式启动删了都可以（当然部分还是不能删比如因为文件夹里的） ...\n不写个类那每次客户端改了参数都要手动改，多麻烦"
        },
        {
            "author": "jjj201200",
            "timestamp": 1402631100,
            "txt_content": "xunyanglin 发表于 2014-4-15 21:20\n我想过，但是如何做到就真不知道了，貌似这是个非常good的想法，希望你继续研究下去 ...\n啊，最近一直在研究mcskin的皮肤分类和识别，技术上是做得到的呢~但是看我心情和时间了~~~=W="
        },
        {
            "author": "2206256214",
            "timestamp": 1402631400,
            "txt_content": "好复杂，看不懂"
        },
        {
            "author": "xunyanglin",
            "timestamp": 1402637760,
            "txt_content": "jjj201200 发表于 2014-6-13 11:45\n啊，最近一直在研究mcskin的皮肤分类和识别，技术上是做得到的呢~但是看我心情和时间了~~~=W= ...\n统计淡色像素点的百分比"
        },
        {
            "author": "jjj201200",
            "timestamp": 1402638780,
            "txt_content": "xunyanglin 发表于 2014-6-13 13:36\n统计淡色像素点的百分比\n对地，就是这个思路，想统计什么都行，主要是alpha值，其实很简单233"
        },
        {
            "author": "太郎酱",
            "timestamp": 1402645860,
            "txt_content": "表示没看懂，需要作弊就作弊吧，反正服务器有矿物回收机制"
        },
        {
            "author": "xunyanglin",
            "timestamp": 1402662480,
            "txt_content": "jjj201200 发表于 2014-6-13 13:53\n对地，就是这个思路，想统计什么都行，主要是alpha值，其实很简单233\n很期待哦"
        },
        {
            "author": "manageryzy",
            "timestamp": 1402663920,
            "txt_content": "799669332 发表于 2014-4-7 16:10\nLZ这些思路早就有了= =\n你可以看我的客户端= =\n连minecraft.jar你都找不到，修改任何一个MOD都会无法启动， ...\n萤石透视已经被取消了"
        },
        {
            "author": "ylmars",
            "timestamp": 1405824600,
            "txt_content": "表示相当感兴趣，最近也在研究启动器"
        }
    ]
}