{
    "title": "timings报告和玩家进不去",
    "author": "Daleynf",
    "replyCount": 8,
    "timestamp": 1588434060,
    "txt_content": " 本帖最后由 Daleynf 于 2020-5-2 23:42 编辑 \n\nhttps://timings.aikar.co/?id=ed9e1d5aa28e42b0af58044cce95218f\n报告链接，今天换了个备份插件并且删除了扫地大妈插件用命令方块替代，并且刚刚有玩家进不去服务器，结果重进了下就好了，后台显示这个，并且后台报错超载6000ms多，麻烦可以看下是区块还是实体过多？具体是哪个实体有多少呢\n\n\n\n\n\n\nIMG_20200502_234049__01__01.jpg\n(61.86 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-5-2 23:41 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "もぺもぺ",
            "timestamp": 1588434060,
            "txt_content": "但是 timings 里看 tps 是 20 。\n\n主要的是僵尸，其次是活塞和漏斗。\n\n别的话，还有一个建议里换启动参数的提示https://aikar.co/2018/07/02/tuni ... lags-for-minecraft/\n\n站内的译文大概是这个 https://www.mcbbs.net/thread-867786-1-1.html\n\n内容是\njava -Xms10G -Xmx10G -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1 -Dusing.aikars.flags=https://mcflags.emc.gs -Daikars.new.flags=true -jar paperclip.jar nogui"
        },
        {
            "author": "Daleynf",
            "timestamp": 1588434420,
            "txt_content": "もぺもぺ 发表于 2020-5-2 23:45\n但是 timings 里看 tps 是 20 。\n\n主要的是僵尸，其次是活塞和漏斗。\n\n区块多吗，需要装插件吗还，这个参数直接按照他的修改就行吧"
        },
        {
            "author": "もぺもぺ",
            "timestamp": 1588434540,
            "txt_content": "Daleynf 发表于 2020-5-2 23:47\n区块多吗，需要装插件吗还，这个参数直接按照他的修改就行吧\n是的，但是有两个地方要稍微改下 -Xms10G -Xmx10G ，首先服务器上得有 10g 的内存，paperclip.jar 改成你服务端核心的文件名\n\n区块还好，占用只有 8% 左右，没有什么优化的必要\n\njava -Xms10G -Xmx10G -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1 -Dusing.aikars.flags=https://mcflags.emc.gs -Daikars.new.flags=true -jar paperclip.jar nogui"
        },
        {
            "author": "Daleynf",
            "timestamp": 1588434600,
            "txt_content": "もぺもぺ 发表于 2020-5-2 23:49\n是的，但是有两个地方要稍微改下 -Xms10G -Xmx10G ，首先服务器上得有 10g 的内存，paperclip.jar 改成你 ...\n服务器没有10g内存唉，这个参数需要更改？还有其它优化的必要吗，以后服务器一般会有10-20个玩家的"
        },
        {
            "author": "もぺもぺ",
            "timestamp": 1588434780,
            "txt_content": "Daleynf 发表于 2020-5-2 23:50\n服务器没有10g内存唉，这个参数需要更改？还有其它优化的必要吗，以后服务器一般会有10-20个玩家的 ...\n-Xms10G -Xmx10G 改成 -Xms5G -Xmx5G 就是分配 5g 的内存\n\n从目前的 timings 来看 10~20个玩家应该是没问题的。\n\n对于实体，之后可以安装这个，https://www.mcbbs.net/thread-874306-1-1.html\n\n现在没必要"
        },
        {
            "author": "Daleynf",
            "timestamp": 1588434840,
            "txt_content": "もぺもぺ 发表于 2020-5-2 23:53\n-Xms10G -Xmx10G 改成 -Xms5G -Xmx5G 就是分配 5g 的内存\n\n从目前的 timings 来看 10~20个玩家应该是没问 ...\n好的谢谢已最佳"
        },
        {
            "author": "xiao_yuer",
            "timestamp": 1588522200,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "黎子柒",
            "timestamp": 1588578240,
            "txt_content": "提示: 该帖被管理员或版主屏蔽\n"
        }
    ]
}