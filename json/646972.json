{
    "title": "[娱乐|机制|角色][开源]ShiftCommand —— 用Shift来执行指令吧![1.7-1.8？]",
    "author": "602723113",
    "replyCount": 37,
    "timestamp": 1478410680,
    "txt_content": " 本帖最后由 1582952890 于 2017-9-16 18:03 编辑 \n(萌萌的服主) (蜜汁大叔)\n：这是什么?\n\n：这个啊，一个用Shift来运行指令的插件\n\n：(黑人问号脸)？？？\n\n：在某服务器看到的一截图，于是捣鼓捣鼓就这样了233\n\n：哦...\n\n插件例程-大角虫就当听听歌了\n[bili=6981878]0[/bili]\n\n\n\n特性：\n支持变量(%player%-玩家名)可自定义的Pitch(Shift面朝角度)支持多行命令\nBug：\n暂无欢迎提出\n\n\n未来计划：\n可能会加上面向地面后按Shift多少秒后再进行指令运行\n\n\n图片(Gif 1.31M)：\n\n\n\nConfig文件配置:\n#isdown是指是设定是想要Shift后面向地面的开关,false的话就是面朝向上\nisdown: true\n#这个是面朝向上时达到这个数值就会触发指令\nupPitch: -75\n#这个是面朝向下时达到这个数值就会触发指令\ndownPitch: 75\n#这个是指令的发送者 true就是player false就是控制台\nsender: true\n#命令行\ncommand: \n  - \"say hello\"\n  - \"say i'm %player%\"复制代码\n源码：写得有点渣，望大角虫别责怪QAQ\npackage com.mayspeed.shiftcommand;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerToggleSneakEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class Main extends JavaPlugin implements Listener{\n        public void onEnable() {\n                //判断是否拥有插件文件夹\n                if(!getDataFolder().exists()) {\n                          getDataFolder().mkdir();\n                }\n                File file = new File(getDataFolder(),\"config.yml\");\n                //判断是否存在config.yml\n                if (!(file.exists())) {\n                        saveDefaultConfig();\n                }\n                saveConfig();\n                reloadConfig();\n                getLogger().info(\"[蹲下指令]ShiftCommand 已加载 Power By May_Speed\");\n                Bukkit.getPluginManager().registerEvents(this, this);\n        }\n        @EventHandler\n        public void onShift(PlayerToggleSneakEvent e) {\n                //因为这个事件是包含了 从走路到潜行再到潜行到走路的一个事件所以要判断一下\n                if(!e.isSneaking()) {\n                        return;\n                }\n                Player player = (Player) e.getPlayer();\n                double pitch = player.getLocation().getPitch(); //取玩家当前的面向角度\n                double downpitch = getConfig().getDouble(\"downPitch\");\n                double uppitch = getConfig().getDouble(\"upPitch\");\n                boolean isdown = getConfig().getBoolean(\"isdown\");\n                if(isdown) {\n                        if(pitch >= downpitch) { //经过我测试 ，只要角度大于75都差不多是面朝向下\n                                List <String> command = new ArrayList <String> ();\n                                command = getConfig().getStringList(\"command\");\n                                //解释一下 这里定义i为0 之后判断i是否小于List类型的command大小，是的话则i自加1\n                                for(int i = 0;i < getConfig().getStringList(\"command\").size();i++) {\n                                        if(getConfig().getBoolean(\"sender\")) { //这里是判断发送者 true为玩家 false为服务器\n                                                Bukkit.dispatchCommand(player, command.get(i).replace(\"&\", \"§\").replace(\"%player%\", player.getName()));\n                                                System.out.println(command.get(i));\n                                        }else {\n                                                Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command.get(i).replace(\"&\", \"§\").replace(\"%player%\", player.getName()));\n                                        }\n                                }\n                        }\n                }else {\n                        if(pitch <= uppitch) { //经过我测试 ，只要角度大于75都差不多是面朝向下\n                                List <String> command = new ArrayList <String> ();\n                                command = getConfig().getStringList(\"command\");\n                                //解释一下 这里定义i为0 之后判断i是否小于List类型的command大小，是的话则i自加1\n                                for(int i = 0;i < getConfig().getStringList(\"command\").size();i++) {\n                                        if(getConfig().getBoolean(\"sender\")) { //这里是判断发送者 true为玩家 false为服务器\n                                                Bukkit.dispatchCommand(player, command.get(i).replace(\"&\", \"§\").replace(\"%player%\", player.getName()));\n                                                System.out.println(command.get(i));\n                                        }else {\n                                                Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command.get(i).replace(\"&\", \"§\").replace(\"%player%\", player.getName()));\n                                        }\n                                }\n                        }\n                }\n                return;\n        }\n}\n复制代码\n\n\n\n\n\n\n\n\n\n\n[蹲下指令]ShiftCommand.jar\n\n\n2016-11-6 13:37 上传\n点击文件名下载附件\n\n\n\n\n3.28 KB, 下载次数: 341\n\n\n欢迎下载~\n\n\n",
    "replies": [
        {
            "author": "602723113",
            "timestamp": 1478411340,
            "txt_content": "XJue_DaDa 发表于 2016-11-6 13:55\n噗 ud标志呢\n手动滑稽"
        },
        {
            "author": "寂静人心",
            "timestamp": 1478411640,
            "txt_content": "这个和 脚本方块  命令方块 有什么区别吗。。"
        },
        {
            "author": "幻境雲達達",
            "timestamp": 1478411700,
            "txt_content": "噗 ud标志呢"
        },
        {
            "author": "602723113",
            "timestamp": 1478412000,
            "txt_content": "寂静人心 发表于 2016-11-6 13:54\n这个和 脚本方块  命令方块 有什么区别吗。。\n唯一不同的是这个是靠Shift来触发指令，不是脚本方块的那个/sbwalk，也就是说你可以在世界各地都使用这些指令，而不用走到某个方块上，但是这个插件最多也就能执行执行些买卖啊传送什么的\n\n命令方块的话也就不多说了吧，我不知道能不能用命令方块实现..."
        },
        {
            "author": "寂静人心",
            "timestamp": 1478412660,
            "txt_content": "602723113 发表于 2016-11-6 14:00\n唯一不同的是这个是靠Shift来触发指令，不是脚本方块的那个/sbwalk，也就是说你可以在世界各地都使用这些 ...\n那。。这个触发的命令是无视权限的还是要识别权限的"
        },
        {
            "author": "602723113",
            "timestamp": 1478413380,
            "txt_content": "寂静人心 发表于 2016-11-6 14:11\n那。。这个触发的命令是无视权限的还是要识别权限的\n需要识别权限 因为是以玩家的角度来发送命令 或者可以用控制台来发送"
        },
        {
            "author": "下面好舒服",
            "timestamp": 1478414520,
            "txt_content": "等这插件多久了 好人一生平安"
        },
        {
            "author": "a2055799522",
            "timestamp": 1484304000,
            "txt_content": "莫老,可以帮忙加个识别手上是否没有物品然后shift+右键进行输入命令"
        },
        {
            "author": "Fisherman_wcz",
            "timestamp": 1484304960,
            "txt_content": "shift打开菜单"
        },
        {
            "author": "MC小白桑",
            "timestamp": 1485958620,
            "txt_content": "我让执行cmds指令不行啊\ncmds是我打开菜单用的指令"
        },
        {
            "author": "行天下的猪",
            "timestamp": 1486729320,
            "txt_content": "MC小白桑 发表于 2017-2-1 22:17\n我让执行cmds指令不行啊\ncmds是我打开菜单用的指令\n或许你没有权限，菜单指令的权限"
        },
        {
            "author": "123飞",
            "timestamp": 1486732320,
            "txt_content": "梦某的回城插件，准确来说是炼某，其他的我没看过，那啥，版主知道梦某的那个回城怎么做到的吗，每个人都有自己的不同的出生地，还有消息提示"
        },
        {
            "author": "602723113",
            "timestamp": 1486732560,
            "txt_content": "123飞 发表于 2017-2-10 21:12\n梦某的回城插件，准确来说是炼某，其他的我没看过，那啥，版主知道梦某的那个回城怎么做到的吗，每个人都有 ...\n这个需要yml去记录就好了。。"
        },
        {
            "author": "123飞",
            "timestamp": 1486747380,
            "txt_content": "能不能支持同时可以使用向上指令或者向下指令"
        },
        {
            "author": "MC小白桑",
            "timestamp": 1487067120,
            "txt_content": "行天下的猪 发表于 2017-2-10 20:22\n或许你没有权限，菜单指令的权限\n玩家拥有这个权限\n但是OP也不行\n提示unknown type"
        },
        {
            "author": "尊主",
            "timestamp": 1489769580,
            "txt_content": "求解楼主  我在配置文件里设置指令 cmd  之类的开cc菜单的指令   按的时候都无法识别"
        },
        {
            "author": "lianqiuchen",
            "timestamp": 1490943300,
            "txt_content": "为什么我一直加载不了 1.7.2spogit"
        },
        {
            "author": "kkk154",
            "timestamp": 1490959920,
            "txt_content": "这好像是梦边里有的功能，向上抬头然后按下Shift就可以打开菜单"
        },
        {
            "author": "z1298701681",
            "timestamp": 1491041340,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "2039661878abc",
            "timestamp": 1493696100,
            "txt_content": "找了很久了我去\n一直在别人服务器看到 而在mcbbs看不到 今天来翻了一下\n找到了QAQ 感谢楼主"
        },
        {
            "author": "迷の十六",
            "timestamp": 1498124460,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "暴君大帥哥",
            "timestamp": 1498133100,
            "txt_content": "製作者真是太贊了 太喜歡你的作品了"
        },
        {
            "author": "may28js",
            "timestamp": 1499045220,
            "txt_content": "楼主，插件在服务器和本地都测试过，貌似只支持服务器JAVA版本8，java7无法加载。\n 楼主有可能解决java版本通用的问题吗 ？"
        },
        {
            "author": "gwfblank1",
            "timestamp": 1506526500,
            "txt_content": "求解楼主  我在配置文件里设置指令 cmd  之类的开cc菜单的指令   按的时候都无法识别"
        },
        {
            "author": "zykool",
            "timestamp": 1512678840,
            "txt_content": "向上支持到1.11.2吗？"
        },
        {
            "author": "498525451",
            "timestamp": 1513137180,
            "txt_content": "为什么不写成潜行右击玩家带变量 执行指令？"
        },
        {
            "author": "Kavintion",
            "timestamp": 1542524460,
            "txt_content": "说实话这么好的插件居然排在这么下面？"
        },
        {
            "author": "BlackGsp",
            "timestamp": 1542917160,
            "txt_content": "感谢分享 先收藏！在支持原创"
        },
        {
            "author": "193645",
            "timestamp": 1543042740,
            "txt_content": "感谢分享 支持原创"
        },
        {
            "author": "Tommer",
            "timestamp": 1546652580,
            "txt_content": "那玩家不就不可以蹲下了吗emmm支持原创"
        },
        {
            "author": "IFEN1993",
            "timestamp": 1563492600,
            "txt_content": "Mark一下，看看能不能在1.14.1用。????┌"
        },
        {
            "author": "qq1759824979",
            "timestamp": 1563497760,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "qq1759824979",
            "timestamp": 1563497820,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "IFEN1993",
            "timestamp": 1563540060,
            "txt_content": " 本帖最后由 IFEN1993 于 2019-7-19 20:42 编辑 \n\n1.14.1可以用。配合sunlight-core的菜单让玩家按shift能够打开系统菜单(注意最好设置冷却时间)简直是完美。基本上可以把chestcommand删了。非常好！上个图\n\n\n\n\n\n\nTIM截图20190719214024.png\n(127.51 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-7-19 20:41 上传\n\n\n\n\n\n\n\n\n调整角度\n\n\n\n\n\n\n\n\n\n\n\nTIM截图20190719214046.png\n(66.73 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-7-19 20:41 上传\n\n\n\n\n\n\n\n\n按下shift\n\n\n\n\n\n\n"
        },
        {
            "author": "IFEN1993",
            "timestamp": 1563540180,
            "txt_content": " 本帖最后由 IFEN1993 于 2019-7-19 20:57 编辑 \nTommer 发表于 2019-1-5 09:43\n那玩家不就不可以蹲下了吗emmm支持原创\n确实= = 可以设置角度，比如看着地面的角度，这样就不是很影响潜行。已经操作过了"
        },
        {
            "author": "晨曦曦",
            "timestamp": 1563794880,
            "txt_content": "插件不错就是害怕蹲的时候还要等"
        },
        {
            "author": "Kavintion",
            "timestamp": 1579783800,
            "txt_content": "很好的一款插件啊，收下了~"
        }
    ]
}