{
    "title": "[18w31a]新指令/chunk的一些特性（更新至18w32a）",
    "author": "秋一",
    "replyCount": 29,
    "timestamp": 1533246840,
    "txt_content": " 本帖最后由 acordome 于 2018-8-9 02:12 编辑 \n[afd]akinoyuiko[/afd]\n\n\n\n\n\n　　大家好这里是秋一，好久不见。\n　　这次我们来聊聊1.13.1的快照18w31a中新增的指令/chunk，首先是它的格式/chunk force <x> <z>\n/chunk in <dimension> (force|unforce)\n/chunk unforce <x> <z>复制代码\n　　通过 /chunk force 强制某个区块保持加载，其中的 <x> <z> 表示 区块坐标。\n　　什么？你不知道什么是区块坐标？\n　　打开F3,看这里。\n\n\n\n\n\n\nSnipaste_2018-08-03_05-16-49.png (20.85 KB, 下载次数: 2)\n\n下载附件\n\n2018-8-3 05:18 上传\n\n\n\n\n\n　　现在你应该知道了。\n\n　　而 /chunk unforce 的功能顾名思义就是取消掉某个区块的强加载。\n　　in <dimension> 就是指定维度，可选的值有 minecraft:overworld, minecraft:the_end, minecraft:the_nether 三个。\n\n\n\n　　上面都是废话，接下来开始进入主题。\n\n　　1. 指令等级\n\n　　/chunk 指令涉及文件的修改，使用不当会严重影响服务器性能，因此被  SB MOJANG 定为4级OP才可以执行。　什么你说严重影响性能？食我 4 execute　\n\n　　2. 强加载区块列表\n\n　　我们通过 /chunk force 指定某个区块为强加载，通过 /chunk unforce 将其从列表中删除，那么这个列表保存在哪里呢？\n　　答案是存档目录下的data文件夹里，有一个chunk.dat的文件。是的，你可以通过NBTExplorer之类的软件打开它。\n\n　　在此之前，我强加载了5个区块，分别是<0,0>,<1,0>,<0,1>,<1,1>,<0,2>\n\n　　打开后可以看到这样的结构：\n\n\n\n\n\n\n\nSnipaste_2018-08-03_05-25-07.png (8.61 KB, 下载次数: 2)\n\n下载附件\n\n2018-8-3 05:26 上传\n\n\n\n\n\n　　这里直接给结论吧，一个数字代表一组坐标，其值为 x+z*4294967296。这里的 4294967296=2^32。\n\n　　3. 区块特性\n\n　　被指定为强加载的区块，需要 手动加载一次 。换言之，如果原先它是一个没有加载的区块，那么它 不会自动加载 ，需要你手动将其加载一遍，具体方法这里就不多说了。\n　　加载后，如果没有遇到特殊情况，那么这个区块会一直保持加载。什么是特殊情况呢？\n我们知道，当玩家进入末地/下界后，主世界如果没有人，那么就算是出生地区块，在经过 最多 900 游戏刻 后，也会卸载掉，这是出于性能的考虑。被 /chunk 指令强加载的区块也同样遵循这个原则。\n　　这里，当玩家重新回到主世界时。情况则不一样了。\n　　前面我们说到，通过指令强加载的区块，不会自动进入加载状态，而是需要手动加载一次后才能保持加载。而出生地区块则会自动加载。\n\n　　我甚至怀疑这个 不会自动加载 是个  特性  bug，未来版本可能修复。\n\n　　18w32a 中，MOJANG 宣称已修复这个特性，见MC-135387\n\n　　4. 应对手段\n\n　　通过对任意一个强加载区块（含出生地区块）进行循环加载操作，可以保持当前维度的加载。常见的操作如 向地狱门定时丢东西、/spreadplayers 加载器 等等……\n　　是的，你不一定需要对出生地进行这种操作，只要是  上了名单  进了区块列表的被加载区块，都是行得通的。\n\n\n\n　　以上就是通过对照实验得出的一些结论，希望对大家，尤其是地图制作者有所帮助！置顶是个人的爱发电名片，感兴趣的小伙伴可以打赏一下噢~\n　　 这个名片显示有点问题啊（小声bb）\n\n\n　　\n[groupid=546]Command Block Logic[/groupid]",
    "replies": [
        {
            "author": "Belanga",
            "timestamp": 1533255000,
            "txt_content": "还要手动加载一遍....希望这是个特性 bug"
        },
        {
            "author": "SMFX阜星",
            "timestamp": 1533259260,
            "txt_content": "手动加载是最骚的XD\n虽然出生点区块那么大已经足够需要了，但还是希望这个可能的特性能改掉XD"
        },
        {
            "author": "BlackCB.",
            "timestamp": 1533260940,
            "txt_content": "往地狱门丢东西是什么骚操作XD\nruhua:这是应该大喊mjsb就对了"
        },
        {
            "author": "秋一",
            "timestamp": 1533261420,
            "txt_content": "SMFX阜星 发表于 2018-8-3 09:21\n手动加载是最骚的XD\n虽然出生点区块那么大已经足够需要了，但还是希望这个可能的特性能改掉XD ...\n其实不太够。硬说的话就是做在外面的场地，最好的情况是能保持一直加载，这样子反而负荷会小很多"
        },
        {
            "author": "1204942617",
            "timestamp": 1533687840,
            "txt_content": "手动加载指令？？？？不能自动加载了吗？？？"
        },
        {
            "author": "xuan_heng",
            "timestamp": 1533792360,
            "txt_content": "手动？？？？？这个特性最好改了"
        },
        {
            "author": "26号猪肉",
            "timestamp": 1533849540,
            "txt_content": "手动有什么不好，你们为什么都不喜欢这个特性，多麻烦，多好[b]"
        },
        {
            "author": "MR爱MC",
            "timestamp": 1534313280,
            "txt_content": "XD...emmm我觉得出生点区域.."
        },
        {
            "author": "creeprs",
            "timestamp": 1534314180,
            "txt_content": "bhqbbqwydbwynwqdwun"
        },
        {
            "author": "creeprs",
            "timestamp": 1534314840,
            "txt_content": "MCBBS有你更精彩"
        },
        {
            "author": "洫无飘渺丶",
            "timestamp": 1534762980,
            "txt_content": "MCBB有你更精彩哦"
        },
        {
            "author": "MC北辰",
            "timestamp": 1534778100,
            "txt_content": " 大神教程，造福小白"
        },
        {
            "author": "洫无飘渺丶",
            "timestamp": 1534819620,
            "txt_content": "mcbbs有你更精彩"
        },
        {
            "author": "洫无飘渺丶",
            "timestamp": 1534819680,
            "txt_content": "mcbbs有你更精彩"
        },
        {
            "author": "2801804052",
            "timestamp": 1535008620,
            "txt_content": "111111111111111111111111111111111"
        },
        {
            "author": "舞血大大",
            "timestamp": 1535257140,
            "txt_content": "\n\nMCBBS有你更精彩~"
        },
        {
            "author": "沫雨丶",
            "timestamp": 1535698080,
            "txt_content": "mcbbs有你更精彩"
        },
        {
            "author": "Minecraft_Nb",
            "timestamp": 1535764800,
            "txt_content": "可以修复特性，XD"
        },
        {
            "author": "2185982997",
            "timestamp": 1536894960,
            "txt_content": "大佬大佬，mcbbs有你更精彩~"
        },
        {
            "author": "koufg",
            "timestamp": 1537592820,
            "txt_content": "出生点了解一下\n\n\n\n"
        },
        {
            "author": "wyh1662418286",
            "timestamp": 1537598280,
            "txt_content": "可以很厉害6666666"
        },
        {
            "author": "1305929616",
            "timestamp": 1537683900,
            "txt_content": "emmm,出生点，特性？？？emmm.区块加载"
        },
        {
            "author": "Mortimer_G",
            "timestamp": 1537837860,
            "txt_content": "我个人是很喜欢这个指令强加载的，方便许多"
        },
        {
            "author": "池鱼852",
            "timestamp": 1538026500,
            "txt_content": "感谢楼主~~·"
        },
        {
            "author": "inghuoyu",
            "timestamp": 1538360940,
            "txt_content": "666666666666666"
        },
        {
            "author": "inghuoyu",
            "timestamp": 1538360940,
            "txt_content": "6666666666666666666"
        },
        {
            "author": "15985924492",
            "timestamp": 1539091860,
            "txt_content": "这个就很强了"
        },
        {
            "author": "大刘哥",
            "timestamp": 1566884820,
            "txt_content": "支持顶楼主，谢谢"
        },
        {
            "author": "2645411216",
            "timestamp": 1566898800,
            "txt_content": "23333333333"
        }
    ]
}