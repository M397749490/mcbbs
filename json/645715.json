{
    "title": "请问怎么获取玩家跳跃事件",
    "author": "鬼兼定",
    "replyCount": 9,
    "timestamp": 1477887780,
    "txt_content": "想让玩家跳跃时 setCancelled(true)\n\n找了半天    发现有个  PlayerAnimationEvent    似乎没用\n\n难道要非要用PlayerMoveEvet ",
    "replies": [
        {
            "author": "星",
            "timestamp": 1477907040,
            "txt_content": "PlayerAnimationEvent 是监听玩家动作的 比如手臂摆动-.-\n\n监听跳跃的话只能用PlayerMoveEvent了"
        },
        {
            "author": "602723113",
            "timestamp": 1477916640,
            "txt_content": "使用PlayerMoveEvent\n之后就判断移动前和移动后的Y轴\npublic void onPlayerMove(PlayerMoveEvent e)\n{\n     boolean jump=false;\n     Location to=e.getTo();\n     Location from=e.getFrom();\n     if(to.getY()!=from.getY()) {复制代码"
        },
        {
            "author": "鬼兼定",
            "timestamp": 1477920300,
            "txt_content": "syn614211648 发表于 2016-10-31 13:27\n那个0.7 推荐在 0.5 ~ 1.0 之间\n因为玩家上一个台阶会认为是一次运动且y轴上升 0.5D,\n还有就是需要考虑玩 ...\n谢谢"
        },
        {
            "author": "syn614211648",
            "timestamp": 1477920300,
            "txt_content": "602723113 发表于 2016-10-31 20:24\n使用PlayerMoveEvent\n之后就判断移动前和移动后的Y轴\n层主你貌似代码没发全, 借鉴3个月前梨子批评我的话:\n\n玩家挪动视角就new三个变量, 服务器人多了不卡死就怪了"
        },
        {
            "author": "syn614211648",
            "timestamp": 1477920360,
            "txt_content": "小星啊啊啊 发表于 2016-10-31 17:44\nPlayerAnimationEvent 是监听玩家动作的 比如手臂摆动-.-\n\n监听跳跃的话只能用PlayerMoveEvent了 ...\n层主求眼熟, 认识我不 ( 蛋黄 ) \n\n"
        },
        {
            "author": "syn614211648",
            "timestamp": 1477920420,
            "txt_content": "@EventHandler(ignoreCancelled=false,priority=EventPriority.MONITOR)\n        public void onMove(PlayerMoveEvent evt)\n        {\n                if(evt.getTo().getY()-evt.getFrom().getY()>0.7)\n                {\n                        evt.setCancelled(true);\n                }\n        }复制代码\n那个0.7 推荐在 0.5 ~ 1.0 之间\n因为玩家上一个台阶会认为是一次运动且y轴上升 0.5D,\n还有就是需要考虑玩家爬梯子和被tnt炸飞等原因。\n这是个简单的范例， 还望能抛砖引玉"
        },
        {
            "author": "jiongjionger",
            "timestamp": 1477921380,
            "txt_content": "6楼的方法就不错。不过我以前判断跳跃的值是0.419.\n另外判断Y轴改变的时候记得判断是不是同一个世界。避免跨越地狱门等情况产生的BUG。"
        },
        {
            "author": "602723113",
            "timestamp": 1477921800,
            "txt_content": "syn614211648 发表于 2016-10-31 21:25\n层主你貌似代码没发全, 借鉴3个月前梨子批评我的话:\n诶哟那你就自己想一想啦，估计是某些蜜汁因素导致了代码没全啥的233"
        },
        {
            "author": "syn614211648",
            "timestamp": 1477922040,
            "txt_content": "602723113 发表于 2016-10-31 21:50\n诶哟那你就自己想一想啦，估计是某些蜜汁因素导致了代码没全啥的233\n蛤蛤"
        }
    ]
}