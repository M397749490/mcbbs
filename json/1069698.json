{
    "title": "Bukkit插件开发 关于NMS、数据包与反射的问题",
    "author": "aa0307bb",
    "replyCount": 7,
    "timestamp": 1593417060,
    "txt_content": "①NMS有什么用途？需要哪些Java知识作为基础？有相关教程？（英文也行...②反射对于Bukkit插件开发有哪些作用？\n③Protocolib好像与服务器数据包有关，这个又该如何入门？（先得有Java的网络编程基础？）\n（插一句，为什么论坛上搜NMS与反射的帖子绝大多数都是这样\n\n\n\n\n360截图20200629154810904.jpg (17.39 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-29 15:48 上传\n\n\n\n\n，而且版区置顶帖索引唯一跟NMS有关的教程贴也是被关闭的……）\n\n",
    "replies": [
        {
            "author": "William_Shi",
            "timestamp": 1593421140,
            "txt_content": "nms是mc的底层源代码\n没有系统教程，你只能按照自己需要的功能搜索对应教程\n反射该有什么作用就有什么作用，你学JAVA了吗？问这种问题挺奇怪的\nplib教程在编程开发区有 这是对于nms的数据包的封装，你发包收包不需要web基础因为plib搞定一切，多翻mc protocol\n\n锁帖不做评价"
        },
        {
            "author": "aa0307bb",
            "timestamp": 1593425580,
            "txt_content": " 本帖最后由 aa0307bb 于 2020-6-29 18:15 编辑 \nWilliam_Shi 发表于 2020-6-29 16:59\nnms是mc的底层源代码\n没有系统教程，你只能按照自己需要的功能搜索对应教程\n反射该有什么作用就有什么作用 ...你只能按照自己需要的功能搜索对应教程\nemmm，关键是只听“nms是mc的底层源代码”仍然理解不了它是能干嘛的，然后站内检索NMS 帖子全锁了\n可以理解“用NMS”就是 “如果Bukkit标准API没提供一些功能时，借助反射来使用底层代码实现自己想要的功能”吗（或者说，就是魔改服务端吗？）\n\n多翻mc protocol\n还是锁帖的问题，我能找到的教程就https://www.mcbbs.net/forum.php?mod=viewthread&tid=568714\n看完之后有一种“前不着村后不着店”的感觉——\n看的时候感觉全文的语境是需要一定基础知识的，但关键是我也不知道自己欠缺哪些知识才看不懂\n看完之后也不知道跟自己要实现的目的有什么关联"
        },
        {
            "author": "轻光233",
            "timestamp": 1593426960,
            "txt_content": "aa0307bb 发表于 2020-6-29 18:13\nemmm，关键是只听“nms是mc的底层源代码”仍然理解不了它是能干嘛的，然后站内检索NMS 帖子全锁了\n可以理 ...\n这里并不为你的奇思妙想保驾护航\n类似于\"我也不知道自己欠缺哪些知识才看不懂\"、\"看完之后也不知道跟自己要实现的目的有什么关联\"的话我们无法为你解答，也浪费了我们看问题的时间\n那么关于nms，这里可以给出一个例子\n在1.14持久化数据内存API(https://www.mcbbs.net/thread-918325-1-1.html)还未出现的时候，我们在物品或者方块上记录数据通常使用记录物品或方块uid然后在数据文件里写数据，或者使用nbt之类的方法，前面一种不是重点，不讨论，而nbt，bukkitapi自始至终并没有给出任何的标准api供我们操作\n但是，nms包里面(也就是以net.minecraft.server开头的包)有关于nbt的操作(NBTBase及其子类)，这个时候我们就需要使用nms(关于如何使用nms对nbt进行操作，莫老写过一篇教程(https://www.mcbbs.net/thread-697478-1-1.html)，想知道如何操作请自行翻阅)\n由于恶心的版本号问题，我们需要用某些歪门邪道来支持多版本，现在主流的有使用反射和多版本分包写实现(citizens使用)，这里也不多说，我用的不是很多，请其他看见的dalao来回复解答或自行另开贴寻求更好的帮助\n\n如果我的回答出现任何的错误请一定要回帖暴打我("
        },
        {
            "author": "aa0307bb",
            "timestamp": 1593430800,
            "txt_content": " 本帖最后由 aa0307bb 于 2020-6-29 19:42 编辑 \n轻光233 发表于 2020-6-29 18:36\n这里并不为你的奇思妙想保驾护航\n类似于\"我也不知道自己欠缺哪些知识才看不懂\"、\"看完之后也不知道跟自己 ...\n\n谢谢，这是我想要的\n另外，这里并不为你的奇思妙想保驾护航\n如果是因为我的问题不够详细而无法回答请直说:) 不必使用这种辞藻"
        },
        {
            "author": "William_Shi",
            "timestamp": 1593434520,
            "txt_content": "aa0307bb 发表于 2020-6-29 18:13\nemmm，关键是只听“nms是mc的底层源代码”仍然理解不了它是能干嘛的，然后站内检索NMS 帖子全锁了\n可以理 ...\nnms的功能及其繁杂，包括了几乎所有的东西\nbukkitAPI是在其基础上进行的添加\n比如说mc源码没有什么事件监听这种东西，bukkit通过obc eventfactory进行了各种修改\n\n站内检索NMS 帖子全锁了？？？\n我的教程\nhttps://www.mcbbs.net/thread-1067279-1-1.html\nhttps://www.mcbbs.net/thread-1024853-1-1.html\n都是关于nms的，锁了？？？？？？\n\n但关键是我也不知道自己欠缺哪些知识才看不懂\n学一下Java基础，理解事件监听循环可能有帮助，我想\n\n看完之后有一种“前不着村后不着店”的感觉——\n我看完基本就会了\n主要是mc protocol，通俗的说：mc数据包的格式"
        },
        {
            "author": "aa0307bb",
            "timestamp": 1593435960,
            "txt_content": "William_Shi 发表于 2020-6-29 20:42\nnms的功能及其繁杂，包括了几乎所有的东西\nbukkitAPI是在其基础上进行的添加\n比如说mc源码没有什么事件监 ...\n抱歉抱歉，日常不看签名档是我眼瞎，但检索“NMS”是真的找不到（可能是我姿势不对？\n一直还想着监听器是个什么原理，原来这是基础……这就滚去补"
        },
        {
            "author": "RE_OVO",
            "timestamp": 1593439320,
            "txt_content": "NMS: 指的是 net.minecraft.server 包，我们通常写插件只需要使用Bukkit API, 只有需要用一些Bukkit没有的东西时才会去调用NMS。那么NMS怎么调用呢，分为直接调用和反射。\n  --> 直接调用: 由于NMS包名里面是有版本号的，于是如果你直接调用，你就需要为不同的版本NMS分别写一个适配类（通常是写一个NMS操作接口，然后为每个版本写一个适配类，这些类实现这个操作接口，插件启动的时候判断下NMS版本，实例化对应的适配类）\n  --> 反射: 这个是Java基础的知识，就不赘述了，就是动态的调用NMS方法\n\nProtocolLib简单来说就是对数据包协议的封装，有了ProtocolLib，你可以很容易的监听数据包，发送数据包。它实现了许多包装类型，你可以很方便的创建一个数据包并且写入数据，并且，使用ProtocolLib并不需要任何网络编程基础。（当然，没有ProtocolLib也是可以的，只是你需要向上面一样进行复杂的NMS操作才能操作数据包）\n"
        }
    ]
}