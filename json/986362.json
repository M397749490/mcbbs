{
    "title": "[综合|管理]Dynasy —— 一款基础的国家插件[1.12+]",
    "author": "南柯郡守",
    "replyCount": 18,
    "timestamp": 1584207180,
    "txt_content": " 本帖最后由 南柯郡守 于 2020-6-20 14:12 编辑 \n\n简介/废话\n注意！\n重制版未经过大量多人测试\n可能存在我单人测试中未出现的不可预知的bug\n请不要直接应用到服务器！\n如果遇到问题可以选择在贴内回复\n或者加入该插件交流群:89122774\n\n\n经过一个月的努力\n\n国家-重制版\n重磅面世\n\n\n(这里重制指我自己重写了一遍)\n这次重写耗时久是因为\n\n工(wo)程(rén)量(hěn)大(lǎn)\n\n\n重制之后的插件相对旧版有更高的内聚性和更低的耦合性\n对底层的重写使得插件的运行效率更高且对服务器的负担更小\n\n总之一句话：牛批嗷\n\n\n\n旧版↓\n\n是什么促使一个刚接触插件的小白要去写一款功能这么多的插件呢\n哦~\n原来是因为一只蝙蝠\n最近正在重写该插件预计完成后可以一定幅度提升插件效率减少服务器负担同时新增三四五六七个功能\n目前进度缓慢\n\n现有功能介绍/特色\n支持消耗金币/物品来创建一个国家可以给自己的国家设置介绍信息完全自定义权限等级及权限对应称号国家需要每天消耗金币来维护(国家向服务器交保护费)交不起保护费是否解散/降级国家支持消耗金币/声望/物品来升级国家可以设置升级时不消耗 只需要拥有以上条件即可无限扩展的国家等级自定义每个等级的国家能收多少人自定义每个等级的国家每天获得的声望上限自定义当前等级国家的国民每天获得的声望上限国家金融系统 即国家银行玩家可以向国家银行存款(目前不可取出)玩家存款可以为国家和自己增加声望值可以自定义存款与声望值的比例国家银行可以负债 且可以分别设定每个等级的负债金额国家银行每天会向国内玩家收税可以设定每个等级该国家可以收的最高税可以设定当前等级的国家是否可以自己设定向玩家征收的税额国家自定义是否踢出交不起税的玩家玩家主动退出国家会获得冷却时间 一定时间内不能加入任何国家被国家踢出的玩家会自动被加入该国黑名单黑名单中的玩家无法再次申请加入该国国家可以设定两个传送点 home 和visit国内玩家可以传送到home 和 visit 非本国玩家只能传送到visit点黑名单玩家无法传送到该国的visit点90%的可视化界面操作 且可以100%自定义界面大部分界面中的每个按钮都可以附加指令 玩家点击后执行国家可以自己领取国家领地 以区块为单位可以设定每个等级的国家最多拥有多少领土允许对未认领的领土设置规则国家领土不会与Residence的领地重叠可以消耗金币/声望来购买可认领的领土数量国家可以自己设定领土上的规则目前规则有 建造、交互、PVP、生怪、爆炸、治愈百分九十九以上可自定义的语言文件删除或放空语言节点即不发送该信息通过语言文件来自定义帮助信息国内聊天频道支持多频段 即一定权限以上玩家可以接收到你的信息可以自定义聊天频道格式可以自定义国家的标识是什么 即国家列表中显示的图标(支持除空气外任何物品)新增开发者接口 开放了九个Event支持Mysql方式储存数据(即支持跨服)\n\n\n旧版↓\n1.建立一个国家2.90%以上的可视化界面3.每日中午十二点向国家征收保护费4.可以花费50声誉在国家商店中购买一面国家旗帜5.是的，可以自定义国家的旗帜6.可以通过可视化界面升降一个玩家的职位7.附带一个单挑功能8.现在有国家聊天频道了9.支持PlaceholderAPI变量10.可以由国王或宰辅占领国家领土11.可以自由更改国家领土上的规则12.钱庄可以用欠款额度消费，但国家因此被解散就亏大了(仅限服务器允许钱庄欠款时)13.国家领土不会与已有的Residence领地重叠，反之亦然\n\n权限/变量/领土规则\n权限\n节点名描述备注dynasty.*插件所有权限\ndynasty.user.*适用于玩家的所有权限其实目前只有create这一个节点dynasty.user.create允许玩家获得创建国家的权限可以在配置文件中设置是否需要该节点dynasty.bypass.*所有与冷却黑名单有关的特殊权限\ndynasty.bypass.manor.*无视领地规则仅适用以下两点dynasty.bypass.manor.build.*无视所有国家的领地建造等级要求例如该领地需要国内玩家才能建造 \n拥有该权限的国外玩家也可以建造 \n同时忽略等级要求dynasty.bypass.manor.interact.*无视所有国家的领地交互等级要求原理同上 \n这两点可以将 .*更换成.国家名\n来指定特定国家的权限\n例dynasty.bypass.manor.build.tangdynasty.bypass.teleport.*无视所有国家传送限制甚至可以传送到别国的home点dynasty.bypass.teleport.home.*无视传送到别国home点的限制可以将.*改成.国家名来指定国家dynasty.bypass.teleport.blacklist.*无视黑名单传送到别国visit点同上dynasty.admin.*所有高级管理权限不是国家管理等级的那个权限 是插件dynasty.admin.prestige对玩家或国家的声望值进行操作增加/减少/设置声望值dynasty.admin.dismiss强制解散一个国家拥有该权限可以解散任何国家\n如果只是配置中的权限等级\n那个只能解散自己国家dynasty.admin.demote降级一个国家\ndynasty.admin.reload重新加载插件\n\n\n\n领土规则\n规则名解释备注pvp玩家间斗殴就是那种不管你在不在这个领地\n你就是不能打在我领地上的玩家spawn是否让敌对生物刷新只要是敌对生物就不让刷新\n不影响友好生物和中立生物explod领地是否允许爆炸伤害还是有的 就是不会破坏地形\ntrue是允许爆炸破坏地形heal领地是否会缓慢治愈玩家在该领地上的玩家会缓慢回血build\n当前领地允许建造的最低等级默认非本国玩家无法建造\ninteract\n\n当前领地允许交互的最低等级默认非本国玩家无法交互\noutside\n是否允许非本国玩家交互允许后不会参考该玩家的权限等级\n也就是所有国外玩家都可以交互 \n不管他有没有国家 不管几级\n\n\n\n\n\n目前可用的PlaceholderAPI变量变量名变量内容\n%dynasty_player_level_name%玩家在国家内的权限等级叫啥%dynasty_player_level%玩家在国家内的权限等级%dynasty_player_prestige%玩家在国家内的声望值%dynasty_player_prestige_today%玩家今天获得了多少声望值%dynasty_player_country_name%玩家所在国家名%dynasty_player_country_king%玩家所在国家的国王%dynasty_player_country_level%  玩家所在国家的等级%dynasty_player_country_level_name%玩家所在国家当前等级叫啥%dynasty_player_country_prestige%玩家所在国家有多少声望%dynasty_player_country_tax%玩家所在国家每天向玩家征多少税%dynasty_player_country_saving%玩家所在国家有多少存款%dynasty_player_country_debt%玩家所在国家负债多少%dynasty_player_country_money%玩家所在国家有多少可用资金%dynasty_player_country_mates%\n玩家所在国家一共有多少成员\n%dynasty_player_country_mates_max%\n玩家所在国家最多可以收多少成员%dynasty_player_country_mates_online%玩家所在国家现在有多少在线玩家更多占位符等待更新后补充……\n\n\n旧版↓\n\n唯一需要手动给予的权限创建国家Dynasty.country.create注：可以在配置文件中手动修改\n目前可用的PlaceholderAPI变量变量名变量内容\n%dynasty_player_fame%玩家在国家中的声誉%dynasty_player_country%玩家所在的国家%dynasty_player_position%玩家在国家中的职位%dynasty_player_country_rank%玩家所在国家的规模等级%dynasty_player_country_debt%玩家所在国家的钱庄欠债%dynasty_player_country_king%玩家所在国家的国王%dynasty_player_country_tax%  玩家所在国家每天要收玩家多少税费%dynasty_player_country_money%玩家所在国家的钱庄有多少存款%dynasty_player_country_membernum%玩家所在国家一共有多少成员\n领土规则pvp玩家间斗殴mobs怪物生成(理论上不影响友好生物生成)explosions实体爆炸(苦力怕/TNT等)heal生命恢复(每2秒恢复1滴(半颗心))trade外贸区(功能未完善)；\n配置文件在更新后可能会失去注释 可以删除或备份现有配置文件后重启服务器以加载默认配置(仅限config.yml)\n\n\n指令\n 指令作用备注/dysnaty打开一个包含所有国家的列表Gui可以缩写为/ds/ds help [page.]显示帮助信息 []为选填内容 <>为必填内容/ds <name>打开指定国家的信息面板只能打开自己国家的面板/ds create <name>创建一个国家 /ds dismiss <name> 解散一个国家 /ds chat [level]进入国家聊天频道 /ds join <name>申请加入一个国家 /ds accept <name>接受一个玩家的加入申请  /ds deny <name>拒绝一个玩家的加入申请 /ds kick <name>踢出一个国内玩家并加入黑名单 /ds ban <name>将一个玩家加入黑名单 /ds unban <name>将一个玩家从黑名单中移出 /ds leave主动离开当前国家 /ds update为所在国家升级 /ds icon <set/reset>为所在国家设置国家标识 /ds deposit <amount>向所在国家银行存钱 /ds kickunpaid <true/false>设置是否自动踢出没交钱玩家 /ds manor help显示领土相关帮助信息 /ds manor remove放弃一个已经认领的领土 /ds manor buy <amount>为国家购买<amount>个可认领区块购买时花钱  使用/ds claim时不花钱 只是扣除可认领数量/ds manor flag [this/all] <flag> <boolean>\n更改领土的规则仅限pvp/spawn/explod/heal/ds manor level [all/this] <flag> <Integer>更改领土的规则仅限build和interact/ds claim领取脚下区块作为领土 /ds player help显示玩家相关帮助信息 /ds player level <player> <level>设置玩家的权限等级 /ds  player prestige add/take/set <player> <amount> [-n]设置玩家的声望-n 表示不将此次增加值计入该玩家的每日获取上限(不加则相反)/ds demote <name> [-n] 降级一个国家-n 表示将按比例退回该国升级时缴纳的金币和声望(不加则相反)/ds prestige add/take/set <country> <amount> [-n]修改一个国家的声望值-n 表示不将此次增加值进入改国的每日获取上限(不加则相反)/ds tax <amount>修改自己所在国家向玩家征收的税 /ds home [name]传送到国家的Home点不加[name]则传送到自己国家的home点/ds tp <name>传送到国家的Visit点 /ds reload重新加载插件 \n\n\n\n旧版↓\n\n指令作用备注/dynasty打开国家列表/dynasty 可以缩写成/ds/dynasty create [CountryName]创建一个国家创建国家的花费可以在配置文件中修改/dynastychat进入/离开国家聊天频道缩写为/dschat/dynasty join [CountryName]向一个国家发送加入申请\n/dynasty deposit [Amount]向国家银行存入金钱目前存入国家银行的钱无法取出/dynasty area claim占领脚下的区块作为国家领土area三个指令只有国王或者宰辅才能使用/dynasty area set [all/this] [flags] [true/false]修改全部/当前领土区块的规则flags可以为trade/pvp/mobs/explosions/heal/dynasty area delete放弃已经占领的脚下区块\n/dynasty dismiss [CountryName]由管理员解散一个国家需要OP权限/solo [PlayerName]向一个玩家发起单挑是的 这个功能我都不知道他存在的意义/solo accept [PlayerName]接受一个玩家的单挑/solo 可以缩写成/sl/solo deny [PlayerName]拒绝一个玩家的单挑\n/dynasty reload重新加载配置文件需要OP权限/dynasty save保存配置文件需要OP权限\n\n\n一些骚操作/介绍视频\n\n新版还没搞图片/视频呢\n关于开发者文档 晚亿点一起搞害\n\n旧版↓\n\nhttps://www.bilibili.com/video/av96742652\n\n腐竹或技术人员可以通过修改后台文件进行玩家的声誉给予或扣除(也许下个版本会加一个指令来实现)\n\n未来计划\n支持DynMap把联动插件JiangHu写出来其他计划都会放在JiangHu里了\n\n旧版↓\n1. 增加国家BUFF，全体国民可享受2. 国王和宰辅可以在国家商店购买/升级国家BUFF3. 可以由国王和宰辅规划国家领土，领土类似于领地插件且不会与领地插件的领地重叠4. 在国家领土上可以圈定外贸区，非国民可以有交互权限5. 添加国家象征(不可移动的实体)6. 添加国战功能，以进攻方击杀国家象征或防守方击杀一定数量的进攻方来结束国战7. 国家可以自定义向国民征收多少税费8. 国家可以升级规模，以便购买更高级的国家BUFF(即将支持由规模限制国家领土区块上限)9. 国家间可以设置敌国盟国中立、击杀对方国民获得相应声誉值10. 国王及宰辅可以将国家钱庄中的钱取出或奖励给国民11. 国王可以修改国家领土内的生物群系(仅限平原、沙漠、雪地)12. 添加任务系统来增加声誉的获取途径13. 添加PAPI占位符支持2020.4.29 ↓14. 可自定义程度达90%+15. 外置语言文件，可以自行修改文本16. 增加普通商店，国家管理员可以自行上架商品17. 更换旗帜可以收费18. 引入PlayerPoint点券系统19. 自定义国内聊天频道的格式20. 自定义打开各个界面的权限21. 界面支持翻页22. Waiting....\n\n下载相关\n\n前置插件(Valut)：这里是搬运贴\n前置插件(ProtocolLib): 这里是搬运贴\n\n插件本体：\n\n\n\nDynasty-Remark.jar\n(397.22 KB, 下载次数: 26)\n\n\n\n2020-6-20 14:01 上传\n点击文件名下载附件\n重制版本体\n\n\n\n\nPAPI扩展：\n\n\n\nDynasty-Remark-PAPI.jar\n(4.57 KB, 下载次数: 24)\n\n\n\n2020-6-20 13:49 上传\n点击文件名下载附件\n重制版变量扩展\n\n\n\n\n\n旧版↓\n前置插件(Valut)：这里是搬运贴插件本体：\n\n\n\nDynasty.jar\n(119.74 KB, 下载次数: 25)\n\n\n\n2020-3-21 01:15 上传\n点击文件名下载附件\n基础功能\n\n\n\n\n插件变量：\n\n\n\nDynasty-PAPI.jar\n(4.6 KB, 下载次数: 12)\n\n\n\n2020-3-20 11:25 上传\n点击文件名下载附件\n插件变量\n\n\n\n\n\n\n将Dynasty-PAPI.jar放到Plugins/PlaceholderAPI/expansions/文件夹里面然后/papi reload 就可以使用变量啦\n\n你会在配置文件中看到许多无用配置那是我准备实现还未实现的功能参数\n要是你觉得还可以希望你能给我评个分肯定一下我感谢！如果遇到BUG希望能在贴子里看到你们的反馈\n\n更新日志\n2020.6.20     V1.4     重大更新           对插件进行了完全重写 大幅度提升运行效率；           实现向高版本进行兼容；           对部分功能进行删改、删除了单挑功能；           完全自定义的权限等级和称号；           对语言文件进行细分，每个功能都有独立的语言节点；           增加了对野外领土的管控功能；           增加了更多的创建国家条件；           增加了更多的国家升级条件；           现在支持Mysql数据库方式储存数据了；           玩家主动退出国家后一定时间无法加入任何国家；           增加了更多的领土规则；           细化了权限等级的划分；           优化插件底层代码，增强插件运行的稳定性；           增加了九个Event，方便开发者使用；2020.3.20     V1.2           修改了退出国家按钮的位置 防止误触；           增加了认领国家领土功能及完成国家领土规则的更改；           国王或宰辅可以在国家商店中购买领土区块；           领土无法与Residence领地重叠，会提示玩家这里已经被占领；2020.3.19     V1.1           玩家存款到钱庄时会先将钱庄的欠款偿还掉           增加了国家聊天频道           每天中午十二点收保护费即使玩家不在线也会向国家缴纳税费2020.3.16     V1.0           发布第一个版本\n\n已知BUG\n\n*v1.2*[已修复] 不支持将玩家声望修改为小数[已修复] 当PAPI变量所指定的玩家为离线玩家时后台会报错[已修复] 当某国玩家数量或者国家数量超过54个之后无法打开界面并且后台会报错\n\n\n\n声明 本插件所用所有代码均为原创,不存在借用/抄袭等行为\n禁止二次发布及修改后声称是自己作品的行为\n",
    "replies": [
        {
            "author": "十六少主",
            "timestamp": 1584327600,
            "txt_content": "可以支持！！！！我现在已经运用到我的服务器了qwq蛮好的支持快速更新！"
        },
        {
            "author": "V无梦",
            "timestamp": 1584328380,
            "txt_content": "支持作者，最近就在寻找一款国家插件。(希望尽快更新）"
        },
        {
            "author": "秋韵",
            "timestamp": 1584898440,
            "txt_content": "很用心的作品，加油"
        },
        {
            "author": "洛乙未",
            "timestamp": 1585078740,
            "txt_content": "您好，希望可以跟您联系下交流插件。"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1585115400,
            "txt_content": "洛乙未 发表于 2020-3-25 03:39\n您好，希望可以跟您联系下交流插件。\n我ID就是QQ  可以加我"
        },
        {
            "author": "七彩君SC",
            "timestamp": 1585278060,
            "txt_content": "支持作者，一直在找国家插件"
        },
        {
            "author": "二哈大魔王",
            "timestamp": 1585465260,
            "txt_content": "有国家的称号吗？\n还有一个国家的人之间可以pvp吗？\n占领土地要钱吗？\n建议 单挑加入 金钱堵住 发起挑战 提交 100金币挑战 接受者也要上交100金币  获胜者 拿走全部的钱。。"
        },
        {
            "author": "lucien寓言",
            "timestamp": 1585577100,
            "txt_content": "你这是蝙蝠期间刚刚接触？应该是有java基础的吧？卧槽"
        },
        {
            "author": "老程这么帅",
            "timestamp": 1586628780,
            "txt_content": "那我先占楼了，蟹蟹"
        },
        {
            "author": "ceilvv",
            "timestamp": 1591196520,
            "txt_content": "跪求更新qwq"
        },
        {
            "author": "wangdejion",
            "timestamp": 1591419540,
            "txt_content": "很棒的一个国家插件"
        },
        {
            "author": "灼热小太阳",
            "timestamp": 1591505640,
            "txt_content": "超棒的插件！！支持支持"
        },
        {
            "author": "iceBear67",
            "timestamp": 1591699260,
            "txt_content": "考虑开源吗\n[del]顺便问一下你说的蝙蝠是不是森林蝙蝠呢[/del]"
        },
        {
            "author": "dalaobbs",
            "timestamp": 1591942320,
            "txt_content": "感觉比towny插件简化了好多，但又比towny插件少了很多趣味"
        },
        {
            "author": "阿翔翔",
            "timestamp": 1602307620,
            "txt_content": "放进去后报错了,内容如下\n[13:11:11] [Craft Scheduler Thread - 49/WARN]: [Dynasty] Plugin Dynasty v1.4 generated an exception while executing task 45\njava.util.ConcurrentModificationException: null\n        at java.util.ArrayList$Itr.checkForComodification(Unknown Source) ~[?:1.8.0_261]\n        at java.util.ArrayList$Itr.next(Unknown Source) ~[?:1.8.0_261]\n        at top.themeda.dynasty.Utility.Civilian.inWhichManor(Civilian.java:46) ~[?:?]\n        at top.themeda.dynasty.Runnable.ManorHealTask.run(ManorHealTask.java:19) ~[?:?]\n        at org.bukkit.craftbukkit.v1_15_R1.scheduler.CraftTask.run(CraftTask.java:84) ~[patched_1.15.2.jar:git-Paper-67]\n        at org.bukkit.craftbukkit.v1_15_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:54) ~[patched_1.15.2.jar:git-Paper-67]\n        at com.destroystokyo.paper.ServerSchedulerReportingWrapper.run(ServerSchedulerReportingWrapper.java:22) ~[patched_1.15.2.jar:git-Paper-67]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [?:1.8.0_261]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [?:1.8.0_261]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]"
        },
        {
            "author": "cfの小寒风",
            "timestamp": 1603113720,
            "txt_content": "很好的国家插件，i了i了"
        },
        {
            "author": "cfの小寒风",
            "timestamp": 1603113720,
            "txt_content": "很好的国家插件，i了"
        },
        {
            "author": "老笛罚",
            "timestamp": 1611455100,
            "txt_content": "什么时候更新到1.16"
        }
    ]
}