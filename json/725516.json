{
    "title": "Java SQL该如何获取整行",
    "author": "清华儒墨",
    "replyCount": 6,
    "timestamp": 1503912180,
    "txt_content": " 本帖最后由 s091424 于 2017-8-28 19:47 编辑 \n\n小弟对SQL的认知不大\n如果其他SQL代码也有错误的话请指出\n代码:\n<blockquote>public void addPlayerKill(Player player, int amount){复制代码public int getPlayerKill(Player player){\n  int value = -1;\n  try {\n    Connection conn;\n    conn = DriverManager.getConnection(\"jdbc:mysql://\"+getConfig().getString(\"mysql.ip\")+\"/\" + getConfig().getString(\"mysql.dbname\"), getConfig().getString(\"mysql.dbuser\"), getConfig().getString(\"mysql.dbpass\"));\n    Statement statement = conn.createStatement();\n    String key = \"select * from PlayerKill where player='\" + player.getName() + \"'\";;\n    ResultSet rs = statement.executeQuery(key);\n    if(!rs.next()){\n      key = \"INSERT INTO PlayerKill VALUES ('\"+player.getName()+\"','0')\";\n      statement.executeUpdate(key);\n      key = \"select * from PlayerKill where player='\" + player.getName() + \"'\";\n      rs = statement.executeQuery(key);\n      rs.next();\n    }\n    value = rs.getInt(\"kill\");\n    conn.close();\n  }catch (SQLException $) {}\n  return value;\n        }复制代码public List<String> getPlayers(){\n  //传回SQL中的PlayerKill的所有player\n}复制代码问题: getPlayers()如何/传回SQL中的PlayerKill的所有player",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1503917220,
            "txt_content": "←_←最简单粗暴的方法:\nselect * from XXXXXX\n然后缓存到内存中,每次增加数据删除数据等等同时对缓存里的列表进行增删\n如果是多个服删除增加数据那建议写个BC插件配合一下或无脑select * from XXXX\n数据如果不多还是很快的←_←,但我建议别这么做"
        },
        {
            "author": "清华儒墨",
            "timestamp": 1503917940,
            "txt_content": "810587921 发表于 2017-8-28 18:47\n←_←最简单粗暴的方法:\nselect * from XXXXXX\n然后缓存到内存中,每次增加数据删除数据等等同时对缓存里的 ...\n如果要进行跨服资料共用的话\n这个办法不太行吧\n\nselect * from XXXXXX\nResultSet中没有List的Method啊"
        },
        {
            "author": "a8105",
            "timestamp": 1503919020,
            "txt_content": "s091424 发表于 2017-8-28 18:59\n如果要进行跨服资料共用的话\n这个办法不太行吧\n一般情况下根本不需要获取全部玩家数据的\n如果只获取在线完全可以在Join时载入Quit时删除\nselect后的ResultSet遍历一次自己添加到List"
        },
        {
            "author": "清华儒墨",
            "timestamp": 1503919920,
            "txt_content": "810587921 发表于 2017-8-28 19:17\n一般情况下根本不需要获取全部玩家数据的\n如果只获取在线完全可以在Join时载入Quit时删除\nselect后的Resu ...\n这个方法我也考虑过了\n因为这个是跨服的资料\n不同服务器而做不到Join时载入Quit时删除 (可能有方法?)\n而且也要读取非在线玩家 \n目前就是要读取所有玩家的资料"
        },
        {
            "author": "清华儒墨",
            "timestamp": 1503921060,
            "txt_content": " 本帖最后由 s091424 于 2017-8-28 20:03 编辑 \n810587921 发表于 2017-8-28 19:17\n一般情况下根本不需要获取全部玩家数据的\n如果只获取在线完全可以在Join时载入Quit时删除\nselect后的Resu ...\n换个问题一下,有没有方法让Spigot插件连接Bungee插件\n就是Bungee插件里有一个Map\n那我在Spigot插件中能不能用到\n就是要能把所有资料合在一起比较"
        },
        {
            "author": "a8105",
            "timestamp": 1503923880,
            "txt_content": "s091424 发表于 2017-8-28 19:51\n换个问题一下,有没有方法让Spigot插件连接Bungee插件\n就是Bungee插件里有一个Map\n那我在Spigot插件中能不 ...\n写一个BC插件监听PluginMessage后监听到传递XXX回去\n具体可以参考下那些全服聊天"
        }
    ]
}