{
    "title": "Day'水桶插件开发教程 第三章 命令",
    "author": "whatafcukday",
    "replyCount": 68,
    "timestamp": 1430439720,
    "txt_content": " 本帖最后由 whatafcukday 于 2015-5-3 09:22 编辑 \nDay’s 水桶插件开发教程第三章 命令\n※讲的不好欢迎指正\n在一个插件中，我们要创建一个能被玩家使用的命令，需要以下步骤：1.在plugin.yml中注册我们的命令，注意不要与市面上插件重复。2.创建一个命令执行器 （可以单独新建一个类，推荐新手直接在主类中创建）。3.在命令执行器中写你需要的代码，处理各种情况，如：有权限，无权限等。\n\n1.在plugin.yml中创建命令老样子打开plugin.yml 后，在最下面进行编辑。[]为两个空格任何一点错水桶都不读。\ncommands:[]主命令名: (如msg,ban,kick,gamemode等 不带斜杠)[][]description: 描述[][]usage: 用法[][]permission: 需要的权限 (需要在下面权限部分注册，当然在命令执行器中手动判断也可以)[][]permission-message: 无权提示#权限部分：permissions:[]权限名:[][]default: (op/true)  #default是默认谁有，true为所有人，op为默认只有OP有。最后我们就得到了如下的plugin.yml：name: Pluginname\nmain: com.github.jiaocheng\nversion: 1.0\nauthor: Day\ncommands:\n  day:\n    description: day\n    usage: /day\n    permission: day.day\n    permission-message: §c无权执行！\npermissions: \n  day.day: \n    default: op \n复制代码\n\n2，创建一个命令执行器在主类中创建一个方法：public boolean onCommand(CommandSender sender,Command cmd,String label,String[] args)  {}他在玩家输入命令时被调用！参数说明 看好了！其中,sender是发送者，可以为一个Player类型的变量也可以为控制台Cmd是指其中的命令 你可以吧label理解为也是的。字符串数组args为后带参数 如/Ban day’s 1d其中day’s就是第一个参数，1d是第二个 需要注意的是java数组下标从0开始。\n\n这个方法必须使用return返回一个boolean值，当返回为false时会对发送者输出plugin.yml中你定义的usage栏，为真时什么也不做。 在这个方法的末尾加上return false是良好的习惯。使用return后直接退出本方法。\n\n\n3.在命令执行器中写代码 (实在不会下面有提示 其实我也没指望你们看懂。。)\n密密麻麻的，考验你们的耐心咯~\n\n在这里我们将传送以及私聊作为一个例子。 设计命令：\n/day tp 玩家名 以及 /day msg 玩家名 内容\n首先我们要先判断这个命令是不是我们管的 \nIf (label.equalsIgnoreCase(“day”)) {}\nequalsIgnoreCase方法为判断字符串label与参数String 长度是否一致，内容是否一致(忽略英文字母大小写)\n然后，要是输入的命令是归我们管的，那我们就要做事了\n先判断到底是跟着tp参数还是msg参数\nIf (args[0].equalsIgnoreCase(“tp”)) {} else \n  If (args[0].equalsIgnoreCase(“msg”)) {}\n我们先做传送的 在判断传送的if中写\n因为控制台是不可能传送的，所以我们要判断特殊情况：\nIf (!(sender instanceof Player)) {} else {getLogger().info(“控制台无法使用此命令”)};\ninstanceof 关键字判断sender是否为Player类的一个实例 是则返回true 否则返回false 或null\n个人不推荐使用太多的return,他打乱了我们程序的设计结构。\n然后Player p = (Player)sender; 强制转换类型 因为已经确定了sender是Player类的一个实例。\n接着，我们还要判断一下他要传送的人是否存在\nBukkit.getServer().getPlayer(String name)是获得名称为name的玩家， 不在线就返回null\np.sendMessage(String msg)   是给玩家p发送信息 当然也可以用这个方法发送给后台，即\n当sender为后台时，getLogger().info(String msg); 的效果差不多相当于 \nsender.sendMessage(String msg);\nIf (Bukkit.getServer().getPlayer(args[1])!=null) {} else {p.sendMessage(“该玩家不存在”)}\n然后跟着在if 中写\nPlayer p2 = Bukkit.getServer().getPlayer(args[1]);\n然后定义一个位置 取玩家p2的 \n位置就是取xyz坐标啊，世界啊，角度啊什么的。\n对了提一句，Player类是要导入的，位置类也是要导入的，还有几个也要，注意别导入错了，是org.bukkit开头的\nLocation wz = p2.getLocation(); \np2.getLocation就是取玩家p2的位置\n然后让p飞起传送吧\np.teleport(wz); teleport方法将Player实例传送到一个位置去。\n然后给他发送一条消息:\np.sendMessage(“传送成功”);\n好了一个简单的传送功能就写好了\n再总结一下 [大多数小伙伴反应看不懂，好吧，把内容整理归总一下]首先使用If (label.equalsIgnoreCase(“day”)) 判断命令是否归我们管 然后判断这命令是归那个部分管的，是传送部分还是msg部分If (args[0].equalsIgnoreCase(“tp”)) 就继续执行，else ....确定了归哪一个部分管的话，就在里面写代码吧！ 但是如何能创建一个无报错，安全的命令呢？ 举栗子： 一个特殊情况 假如控制台使用了传送命令，那肯定会报错，因为控制台不算一个玩家，甚至连实体都不算。无法传送。所以我们就需要先判断一下是否玩家发出的传送命令 if (!(sender instanceof Player) 假如不是玩家，就。。。。 否则继续执行然后，我们判断一下参数的长度，正常来说应该是/day tp 玩家名 参数长度应该为2  if (args.length!=2) 要是不等于2，那么就。。。 好了，发送命令的人是玩家，而命令又是完全正确的，但是要是输入的玩家名不对呢？ 或者不在线呢？ 所以我们就要判断一下args[1]的正确性了 看上面好了都判断完了 那么就传送吧。。先取输入的玩家名的位置，再把命令发送者传送到那个位置就可以了 看上面。本来想再写个私聊的示范，发现太简单了。。\n所以，\n作业：\n写出/day msg命令 并实现私聊\n提示 \n请判断参数长度是否等于3 args.length==3 (0,1,2)\n请判断想私聊的玩家是否存在 \n请判断发送者是否有day.msg权限 \n使用 p.hasPermission(“day.msg”) 来判断玩家p是否有day.msg权限，有返回true\nday.msg权限不需要在plugin.yml中注册算了直接撒tp代码框架提示吧： （记得回帖! 我不欢迎伸手党 这是改过的！ 正确的！） \npackage com.github.jiaocheng;\n\n\n\n\nimport org.bukkit.Location;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.plugin.java.JavaPlugin;\n\n\n\n\npublic class pluginname extends JavaPlugin{\n  public void onEnable() {\n    getLogger().info(\"启用完毕！\");\n  }\n  \n  public void onDisable() {\n    getLogger().info(\"卸载完毕！\");\n  }\n  \n  public boolean onCommand(CommandSender sender,Command cmd,String label,String[] args)  {\n    if (label.equalsIgnoreCase(\"day\")) {\n      if (如果是第一个参数为tp) {\n        if (如果是玩家发出的) {\n            强制转换sender为player类的实例p 就是把发送者转换为一个玩家实例\n            根据参数2.——玩家名得到玩家p2；\n            如果p2不为null {\n            得到玩家p2的位置\n            将玩家p传送到玩家p2的位置\n            p.sendMessage(\"§a传送成功！\");\n          } else 玩家不存在\n        } else {sender.sendMessage(\"控制台不允许使用此命令\");}\n        \n      }\n      return true;\n    }\n    return false;\n  }\n}\n\n\n\n撒下金币 人气吧！ 我才1级。。。QAQ有问题就直接回帖问，什么叫不耻上问~\n \n\n回到索引\n\n\n\n",
    "replies": [
        {
            "author": "914554688wyt",
            "timestamp": 1430556720,
            "txt_content": "[at]有些地方好像错了，内个代码框架提示那里 别告诉我你是特意的[/at]"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1430559000,
            "txt_content": " 本帖最后由 whatafcukday 于 2015-5-2 20:14 编辑 \n\n程序框架  收着收着\n[attach]756860[/attach\n\n\n\n\n\n\n\n\n\n第三章提示.txt\n\n\n2015-5-2 20:13 上传\n点击文件名下载附件\n\n\n\n\n1.06 KB, 下载次数: 354\n\n\n\n\n"
        },
        {
            "author": "wodeshijieglq",
            "timestamp": 1430562180,
            "txt_content": "为啥么只有这个帖子有回到索引."
        },
        {
            "author": "whatafcukday",
            "timestamp": 1430562300,
            "txt_content": " 本帖最后由 whatafcukday 于 2015-5-2 18:26 编辑 \nwodeshijieglq 发表于 2015-5-2 18:23\n为啥么只有这个帖子有回到索引.\n。。其他懒得改了，审核又得一天多{:10_512:} 更新的话 第四章已经写了一半了，预计今晚更新{:10_494:} 不过你们就等着审核吧 你觉得我教程如何？ 看懂了吗？"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1430562420,
            "txt_content": "914554688wyt 发表于 2015-5-2 16:52\n[at]有些地方好像错了，内个代码框架提示那里 别告诉我你是特意的[/at] ...\n。。我真的是特意的{:10_492:} 真的"
        },
        {
            "author": "wodeshijieglq",
            "timestamp": 1430562420,
            "txt_content": "whatafcukday 发表于 2015-5-2 18:25\n。。其他懒得改了，审核又得一天多 更新的话 第四章已经写了一半了，预计今晚更新 不 ...\n我没发过贴.为啥么这么慢.汗！"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1430562480,
            "txt_content": "wodeshijieglq 发表于 2015-5-2 18:27\n我没发过贴.为啥么这么慢.汗！\n开发板不知道什么时候要审核了。。。{:10_494:}"
        },
        {
            "author": "wodeshijieglq",
            "timestamp": 1430562540,
            "txt_content": "whatafcukday 发表于 2015-5-2 18:25\n。。其他懒得改了，审核又得一天多 更新的话 第四章已经写了一半了，预计今晚更新 不 ...\n问LZ一个问题.craftbukkit库.是只有1.7.2版本才能使用这个插件.那我想1.6.2到1.7.2的版本都可以使用呢{:10_512:}"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1430562660,
            "txt_content": " 本帖最后由 whatafcukday 于 2015-5-2 18:42 编辑 \nwodeshijieglq 发表于 2015-5-2 18:29\n问LZ一个问题.craftbukkit库.是只有1.7.2版本才能使用这个插件.那我想1.6.2到1.7.2的版本都可以使用呢{:1 ...\n要是只使用1.72bukkit库的话，是1.6~1.7通用，不排除例外，当然1.5 1.4神马的你也可以试一试，1.8新特性较多，不一定能支持"
        },
        {
            "author": "wodeshijieglq",
            "timestamp": 1430568120,
            "txt_content": "我也是醉了...看了半天..请发框架和提示给我吧"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1430568480,
            "txt_content": " 本帖最后由 whatafcukday 于 2015-5-2 20:14 编辑 \nwodeshijieglq 发表于 2015-5-2 20:02\n我也是醉了...看了半天..请发框架和提示给我吧\n我就知道会这样的 就是为了烦死你们而存在 看沙发还是板凳"
        },
        {
            "author": "914554688wyt",
            "timestamp": 1430569080,
            "txt_content": "whatafcukday 发表于 2015-5-2 17:30\n程序框架  收着收着\n[attach]756860[/attach\n已懂。"
        },
        {
            "author": "wyhyrf123",
            "timestamp": 1433940120,
            "txt_content": "whatafcukday 发表于 2015-5-2 09:31\n要是只使用1.72bukkit库的话，是1.6~1.7通用，不排除例外，当然1.5 1.4神马的你也可以试一试，1.8新特性较 ...\n长姿势了{:10_492:}"
        },
        {
            "author": "ExplodingCreepr",
            "timestamp": 1436087580,
            "txt_content": "Commandsender如果是命令方块会怎么样，求详细解释"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1436400180,
            "txt_content": "ExplodingCreepr 发表于 2015-7-5 17:13\nCommandsender如果是命令方块会怎么样，求详细解释\n命令方块的命令实际上就是控制台执行的"
        },
        {
            "author": "SmartZombie",
            "timestamp": 1436408040,
            "txt_content": "这个帖子比我看过的教程帖中最好懂得一个"
        },
        {
            "author": "zyguyi",
            "timestamp": 1436409780,
            "txt_content": "楼主，你用的那个版本的bukkit，为什么我用的1.7.10的，里面提示getSever.getPlayer（）,这个getPlayer（）被弃用了？"
        },
        {
            "author": "zyguyi",
            "timestamp": 1436409900,
            "txt_content": "zyguyi 发表于 2015-7-9 10:43\n楼主，你用的那个版本的bukkit，为什么我用的1.7.10的，里面提示getSever.getPlayer（）,这个getPlayer（） ...\n或者楼主有没有1.7.10的API文档，我在网上找不到bukkit的API文档了，也不暴利现在getPlayer()可以用哪个去实现"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1436414160,
            "txt_content": "zyguyi 发表于 2015-7-9 10:43\n楼主，你用的那个版本的bukkit，为什么我用的1.7.10的，里面提示getSever.getPlayer（）,这个getPlayer（） ...\nPlayer        getPlayer(String name)\nDeprecated. \nUse getPlayer(UUID) as player names are no longer guaranteed to be unique\n\n\nPlayer        getPlayer(UUID id)\nGets the player with the given UUID.\n\n\n他没有被取消 只是换成使用UUID了而已"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1436414340,
            "txt_content": " 本帖最后由 whatafcukday 于 2015-7-9 12:14 编辑 \nzyguyi 发表于 2015-7-9 10:45\n或者楼主有没有1.7.10的API文档，我在网上找不到bukkit的API文档了，也不暴利现在getPlayer()可以用哪个 ...\n那个单词不是弃用的意思，而是不建议使用的意思\n\nstatic UUID        fromString(String name)\nCreates a UUID from the string standard representation as described in the toString() method.\n你可以尝试使用这个方法获取UUID\nUUID uid = UUID.fromString(玩家名)\n因为是静态的所以可以直接调用不用new"
        },
        {
            "author": "zyguyi",
            "timestamp": 1436416980,
            "txt_content": "whatafcukday 发表于 2015-7-9 11:59\n那个单词不是弃用的意思，而是不建议使用的意思\n\nstatic UUID        fromString(String name)\n我试试，"
        },
        {
            "author": "ExplodingCreepr",
            "timestamp": 1436447400,
            "txt_content": "whatafcukday 发表于 2015-7-9 08:03\n命令方块的命令实际上就是控制台执行的\n明白了，谢谢                                                     "
        },
        {
            "author": "小神PP",
            "timestamp": 1437002520,
            "txt_content": "2333{:10_512:}不错"
        },
        {
            "author": "tskdsb",
            "timestamp": 1437015960,
            "txt_content": "我用的是1.8.7spigot API 出现了错误\npublic boolean onCommand(CommandSender sender,Command cmd,String lable,String[] args){\n                if(lable.equalsIgnoreCase(\"fly\")){\n                        {                                \n                                if(sender instanceof Player){\n                                        if (Bukkit.getServer().getPlayer(args[0])!=null) {\n                                                Player p=Bukkit.getServer().getPlayer(args[0]);\n                                                if(p.getAllowFlight()==false){\n                                                        p.setAllowFlight(true);\n                                                        p.sendMessage(\"§2你现在可以飞了\");\n                                                }\n                                                else {\n                                                        p.setAllowFlight(false);\n                                                        p.sendMessage(\"§c你已被取消飞行\");\n                                                }\n                                        }\n                                        else {\n                                                getLogger().info(\"=null\");\n                                                Player p=(Player)sender;\n                                                if(p.getAllowFlight()==false){\n                                                        p.setAllowFlight(true);\n                                                        p.sendMessage(\"§2你现在可以飞了\");\n                                                }\n                                                else {\n                                                        p.setAllowFlight(false);\n                                                        p.sendMessage(\"§c你已被取消飞行\");\n                                                }\n                                        }                                                                                \n                                }\n                                else{\n                                        if (Bukkit.getServer().getPlayer(args[0])!=null) {\n                                                Player p=Bukkit.getServer().getPlayer(args[0]);\n                                                if(p.getAllowFlight()==false){\n                                                        p.setAllowFlight(true);\n                                                        p.sendMessage(\"§2你现在可以飞了\");\n                                                }\n                                                else {\n                                                        p.setAllowFlight(false);\n                                                        p.sendMessage(\"§c你已被取消飞行\");\n                                                }\n                                        }\n                                        else {                \n                                                getLogger().info(\"控制台无法使用此命令\");\n                                        }                                        \n                                }\n                        }\n                        return true;\n                }\n                return false\n}复制代码\n\n当在控制台或游戏中输入flyde时候,就是没有args[0]的时候 , 就会报null的错误,错误如下:\n\n>fly\n[10:59:19 WARN]: Unexpected exception while parsing console command \"fly\"\norg.bukkit.command.CommandException: Unhandled exception executing command 'fly'\n in plugin tskplug1 v1.0\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:46) ~[spi\ngot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:14\n1) ~[spigot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.dispatchCommand(CraftServe\nr.java:642) ~[spigot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.dispatchServerCommand(Craf\ntServer.java:628) [spigot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.aO(DedicatedServer.java:\n404) [spigot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:3\n68) [spigot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:6\n57) [spigot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java\n:560) [spigot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_45]\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 0\n        at com.github.tskdsb.tskplug1.onCommand(tskplug1.java:69) ~[?:?]\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:44) ~[spi\ngot-1.8.7-R0.1-SNAPSHOT.jar:git-Spigot-44c59bf-25554dc]\n        ... 8 more\n\n我的插件名叫tsk1,还请大哥解答"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1437022920,
            "txt_content": "tskdsb 发表于 2015-7-16 11:06\n我用的是1.8.7spigot API 出现了错误\n所以说你要判断参数长度啊\nif (args.length > 1) {\n  .....\n}"
        },
        {
            "author": "tskdsb",
            "timestamp": 1437045360,
            "txt_content": "whatafcukday 发表于 2015-7-16 13:02\n所以说你要判断参数长度啊\nif (args.length > 1) {\n  .....\n谢谢,已解决\n顺便请教一下,怪物头顶血量和所受伤害的显示怎么做?用到哪些方法?如果大神有空请教教我"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1437186480,
            "txt_content": "tskdsb 发表于 2015-7-16 19:16\n谢谢,已解决\n顺便请教一下,怪物头顶血量和所受伤害的显示怎么做?用到哪些方法?如果大神有空请教教我 ...\n怪物头顶血量？ 。。。。 有这东西吗。。  那是插件/ MOD的效果吧"
        },
        {
            "author": "Little_Grass",
            "timestamp": 1440214980,
            "txt_content": " 本帖最后由 Little_Grass 于 2015-8-22 11:44 编辑 \n\n3.在命令执行器中写代码 (实在不会下面有提示 其实我也没指望你们看懂。。)\n密密麻麻的，考验你们的耐心咯~\n\n下面的隐藏内容里你的英文双引号全是中文双引号\n    如：            if (label.equalsIgnoreCase(\"day\")) {\n这个day旁边的双引号你的是中文的\n\n我人懒直接复制，我说怎么报错大半天"
        },
        {
            "author": "MIP_COMMOM",
            "timestamp": 1451020920,
            "txt_content": "插件无法加载的原因有哪一些？"
        },
        {
            "author": "情已死",
            "timestamp": 1452097020,
            "txt_content": "没看明白，那么如何获取被tp的人的名字？"
        },
        {
            "author": "plgkm6",
            "timestamp": 1452495900,
            "txt_content": "name: MC_Test\nmain: com.github.plgkm6.MC_Test\nversion: 1.0\nauthor: plgkm6\ncommands: \n mct:\n  description: Print a message.\n  usage: \"Usage:'/mct goto 玩家名' 或者 '/mct msg 玩家名 消息'\"\n  permission: MC_Test.player\n  permission-message: You have no permission.\npermission: \n MC_Test.player: \n  default: true\n\n但是无论是命令行还是游戏里都提示权限不够，就算是改成op也不行"
        },
        {
            "author": "yanjiaqin",
            "timestamp": 1452516720,
            "txt_content": "制作插件，这简直就是技术玩家的梦想啊！帖子别删！我好好学学！"
        },
        {
            "author": "mopolun520",
            "timestamp": 1456066800,
            "txt_content": "作业:\n\n\n\n\nQQ截图20160221230043.png (9.18 KB, 下载次数: 0)\n\n下载附件\n\n2016-2-21 23:01 上传\n\n\n\n\n\n\n\n\nQQ截图20160221230008.png (51.18 KB, 下载次数: 2)\n\n下载附件\n\n2016-2-21 23:00 上传\n\n\n\n\n\n"
        },
        {
            "author": "呵呵呵哈aa",
            "timestamp": 1458988500,
            "txt_content": "楼主,其他的触发器有的看吗"
        },
        {
            "author": "360导航",
            "timestamp": 1459747080,
            "txt_content": "在if(!(sender instanceof Player))\n                                {\n                                        Player p=(Player)sender;\n                                }else\n                                {\n                                        getLogger().info(\"你tm在逗我，控制台能传送？\");\n                                }\n这里的Player p=(Player)sender;有错误警报，应该点哪一个，老师"
        },
        {
            "author": "jipok之王",
            "timestamp": 1460884560,
            "txt_content": "楼主真帅！！！楼主真帅！！！楼主真帅！！！楼主真帅！！！"
        },
        {
            "author": "孤独的帅逼",
            "timestamp": 1460884680,
            "txt_content": "大爱楼楼谢教程了"
        },
        {
            "author": "飞泉瀑布",
            "timestamp": 1460885040,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "空88200",
            "timestamp": 1460967780,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "923100020",
            "timestamp": 1461260640,
            "txt_content": "参考我的作业呵呵达\nimport org.bukkit.Bukkit;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.Location;\n\npublic class myno1plugin extends JavaPlugin {\n        public void onEnable() {\n                getLogger().info(\"§amyno1plugin插件加载\");\n        }\n\n        public void onDisable() {\n                getLogger().info(\"§cmyno1plugin插件卸载\");\n        }\n\n        public boolean onCommand(CommandSender sender, Command command, java.lang.String label, java.lang.String[] args) {\n                if (label.equalsIgnoreCase(\"tes\")) {\n                        if (args[0].equalsIgnoreCase(\"tp\")) {\n                                if (sender instanceof Player) {\n                                        Player me = (Player) sender;\n                                        Player ta = Bukkit.getServer().getPlayer(args[1]);\n                                        Location xyz = ta.getLocation();\n                                        me.teleport(xyz);\n                                        me.sendMessage(\"您的命令使用成功，你成功飞到了\" + ta.getName() + \"的身边\");\n                                } else {\n                                        sender.sendMessage(\"操你吗B！你是玩家了吗？控制台想传送....\");\n                                }\n                        }\n                        if(args[0].equalsIgnoreCase(\"msg\")){\n                                if (sender instanceof Player) {\n                                        Player me = (Player) sender;\n                                        Player ta = Bukkit.getServer().getPlayer(args[1]);\n                                        String Msg=args[2];\n                                        me.sendMessage(\"你对\"+ta.getName()+\"说:\"+Msg);\n                                        ta.sendMessage(me.getName()+\"对你说:\"+Msg);\n                                }else{\n                                        Player ta = Bukkit.getServer().getPlayer(args[1]);\n                                        String Msg=args[2];\n                                        ta.sendMessage(\"控制台对你说:\"+Msg);\n                                }\n                        }\n                }\n                return false;\n        }\n}"
        },
        {
            "author": "小0w0卡",
            "timestamp": 1462155240,
            "txt_content": "教程很棒！但有些地方看不懂，不知道怎么编哎。。\n在获取p2那里，到底应该用什么命令，什么意思？\n求解答！"
        },
        {
            "author": "whatafcukday",
            "timestamp": 1462607580,
            "txt_content": "小0w0卡 发表于 2016-5-2 10:14\n教程很棒！但有些地方看不懂，不知道怎么编哎。。\n在获取p2那里，到底应该用什么命令，什么意思？\n求解答！ ...\nPlayer p2 = Bukkit.getServer().getPlayer(args[1]);\n根据String name获取玩家实例"
        },
        {
            "author": "小0w0卡",
            "timestamp": 1462625340,
            "txt_content": "whatafcukday 发表于 2016-5-7 15:53\nPlayer p2 = Bukkit.getServer().getPlayer(args[1]);\n根据String name获取玩家实例\n谢谢，刚发完这个回复我就懂了。。。。不好意思打扰到了\n不过我getlacotion的时候却出错，不知为何，也没有导入的地方"
        },
        {
            "author": "747051577",
            "timestamp": 1469265180,
            "txt_content": "没事回帖。发完收工..."
        },
        {
            "author": "yanjiaqin",
            "timestamp": 1469265240,
            "txt_content": "楼主 我自己写的插件完全没有被读取，求检查哪里出错了(总之输入/ns就直接提示未知指令)\nPlugins文件内容:\n\nname: APL\nmain: com.github.alls.APL\nversion: 1.0\nAuthor: anice\ncommands:\n  ns:\n    description: APL\n    usage: /ns\n    permission: ns.use\n    permission-message: 您没有权限这样做！\npermissions:\n  ns.use:\n    default: op\n\n\n其中 anice , ns , /ns , op 被Ecplise画了波浪线并注明： the word 'XX' is not correctly spelled\n\n我的java项目名:APL  包名:com.github.alls  类名:APL.java  plugin.yml的编码: UTF-8"
        },
        {
            "author": "yanjiaqin",
            "timestamp": 1469265360,
            "txt_content": "yanjiaqin 发表于 2016-7-23 17:14\n楼主 我自己写的插件完全没有被读取，求检查哪里出错了(总之输入/ns就直接提示未知指令)\nPlugins文件内容:\n ...\nAPL.java如果出错了应该不会导致插件读取的吧？如果会，我附加上代码"
        },
        {
            "author": "yanjiaqin",
            "timestamp": 1469282880,
            "txt_content": "360导航 发表于 2016-4-4 13:18\n在if(!(sender instanceof Player))\n                                {\n                                        Player p=(Player)sender;\nsender instanceof Player 如果的是实例不是输出true吗 true的话就执行Player p=(Player)sender\n但是!(sender instanceof Player)就反过来了，如果不是实例就执行Player p=(Player)sender\n岂不是就报错了......[我也不确定的，仅供参考=.=]"
        },
        {
            "author": "yanjiaqin",
            "timestamp": 1469283180,
            "txt_content": "情已死 发表于 2016-1-7 00:17\n没看明白，那么如何获取被tp的人的名字？\n被tp的人的名字是你输入进去的  你输入的参数在字符串组args[]中，所以调用args[玩家名所在的下标]就可以了"
        },
        {
            "author": "yanjiaqin",
            "timestamp": 1469344920,
            "txt_content": "yanjiaqin 发表于 2016-7-23 17:14\n楼主 我自己写的插件完全没有被读取，求检查哪里出错了(总之输入/ns就直接提示未知指令)\nPlugins文件内容:\n ...\n\n已经找到原因了,我只想问问我的plugin.yml到底哪错了(绝对是UTF-8格式)"
        },
        {
            "author": "yanjiaqin",
            "timestamp": 1469346660,
            "txt_content": "yanjiaqin 发表于 2016-7-23 17:14\n楼主 我自己写的插件完全没有被读取，求检查哪里出错了(总之输入/ns就直接提示未知指令)\nPlugins文件内容:\n ...\n呼，在自己的摸索下解决了问题，也为后辈们说一句：unsupported major.minor version 52.0\n如果出现这个错误，把Ecplise的jre和jdk都降低版本= ="
        },
        {
            "author": "七海八千代",
            "timestamp": 1469351100,
            "txt_content": "yanjiaqin 发表于 2016-7-23 17:14\n楼主 我自己写的插件完全没有被读取，求检查哪里出错了(总之输入/ns就直接提示未知指令)\nPlugins文件内容:\n ...\n表示没看懂。。。"
        },
        {
            "author": "360导航",
            "timestamp": 1469718360,
            "txt_content": "yanjiaqin 发表于 2016-7-23 22:08\nsender instanceof Player 如果的是实例不是输出true吗 true的话就执行Player p=(Player)sender\n但是!(se ...\n嗯，谢谢"
        },
        {
            "author": "2571612311",
            "timestamp": 1469871540,
            "txt_content": "[17:31:48 ERROR]: Could not load 'plugins\\demo.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPlug\ninLoader.java:164) ~[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager\n.java:133) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.loadPlugins(CraftServer.ja\nva:291) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.reload(CraftServer.java:74\n0) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.Bukkit.reload(Bukkit.java:534) [spigot-1.8.7.jar:git-Spigo\nt-b3c0272-7723b90]\n        at org.bukkit.command.defaults.ReloadCommand.execute(ReloadCommand.java:\n25) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:14\n1) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.dispatchCommand(CraftServe\nr.java:642) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.craftbukkit.v1_8_R3.CraftServer.dispatchServerCommand(Craf\ntServer.java:628) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.aO(DedicatedServer.java:\n404) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:3\n68) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:6\n57) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java\n:560) [spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_91]\nCaused by: org.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInp\nutException: Input length = 1\n        at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:200)\n~[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.yaml.snakeyaml.reader.StreamReader.<init>(StreamReader.java:60) ~\n[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.yaml.snakeyaml.Yaml.load(Yaml.java:381) ~[spigot-1.8.7.jar:git-Sp\nigot-b3c0272-7723b90]\n        at org.bukkit.plugin.PluginDescriptionFile.<init>(PluginDescriptionFile.\njava:232) ~[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPlug\ninLoader.java:159) ~[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        ... 13 more\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\n        at java.nio.charset.CoderResult.throwException(Unknown Source) ~[?:1.8.0\n_91]\n        at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_91]\n        at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_91]\n        at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_91]\n        at org.yaml.snakeyaml.reader.UnicodeReader.read(UnicodeReader.java:123)\n~[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at java.io.Reader.read(Unknown Source) ~[?:1.8.0_91]\n        at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:184)\n~[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.yaml.snakeyaml.reader.StreamReader.<init>(StreamReader.java:60) ~\n[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.yaml.snakeyaml.Yaml.load(Yaml.java:381) ~[spigot-1.8.7.jar:git-Sp\nigot-b3c0272-7723b90]\n        at org.bukkit.plugin.PluginDescriptionFile.<init>(PluginDescriptionFile.\njava:232) ~[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        at org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPlug\ninLoader.java:159) ~[spigot-1.8.7.jar:git-Spigot-b3c0272-7723b90]\n        ... 13 more\n这是报错，为什么不能加载"
        },
        {
            "author": "沙瘪列夫斯",
            "timestamp": 1469880780,
            "txt_content": "很受用，很好"
        },
        {
            "author": "梓铭君~",
            "timestamp": 1475193300,
            "txt_content": "不明白的地方是  args后面跟着的参数 什么时候是[0] 什么时候是[1]   求解答。。。"
        },
        {
            "author": "hdswr",
            "timestamp": 1475199000,
            "txt_content": "请问LZ 如果想在传送的后面让接受传送的人输入/accept才能接受传送该如何做到呢"
        },
        {
            "author": "Emp丶海岸线",
            "timestamp": 1475206680,
            "txt_content": "写的很好，加油，挺你"
        },
        {
            "author": "IFEN1993",
            "timestamp": 1479115380,
            "txt_content": "权限给所有人怎么写呢？*吗？"
        },
        {
            "author": "wodeshijieglq",
            "timestamp": 1480583880,
            "txt_content": "package com.yc.huya;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.Location;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class JC extends JavaPlugin{\n        public void onEnable()\n        {\n                getLogger().info(\"启动了!\");\n        }\n        public boolean onCommand(CommandSender sender,Command cmd,String label,String[] args){\n                if (args.length == 0){\n                        sender.sendMessage(\"§c/hyp msg 玩家 悄悄话\");\n                        sender.sendMessage(\"§c/hyp tp 玩家\");\n                        return true;\n                }\n                if (cmd.getName().equalsIgnoreCase(\"hyp\")){\n                        if(args[0].equalsIgnoreCase(\"msg\")){\n                                if (args.length != 3){\n                                        sender.sendMessage(\"§c请输入/hyp msg 玩家 悄悄话\");\n                                        return true;\n                                }else {\n                                            if (Bukkit.getServer().getPlayer(args[1]) != null){\n                                                   Player me = (Player)sender;\n                                                   String msg = args[2];\n                                                    Player ta = Bukkit.getServer().getPlayer(args[1]);\n                                                   me.sendMessage(\"§c你对\"+ta+\"说了悄悄话\");\n                                                   ta.sendMessage(me+\"§c对你说了悄悄话:\"+msg);\n                                                   } else {\n                                                           sender.sendMessage(\"§c你要说悄悄话的人已经下线啦!\");\n                                                           return true;\n                                                           }\n                                }\n                        }\n\n                }\n                if (cmd.getName().equalsIgnoreCase(\"hyp\")){\n                        if (args[0].equalsIgnoreCase(\"tp\")){\n                                if (args.length != 2){\n                                        sender.sendMessage(\"§c请输入/hyp tp 玩家\");\n                                        return true;\n                                } else {\n                                        if (sender instanceof Player) {\n                                               Player p = (Player)sender;\n                                               Player p2 = Bukkit.getServer().getPlayer(args[1]);\n                                               if (Bukkit.getServer().getPlayer(args[1]) != null){\n                                                       Location wz = p2.getLocation();\n                                                       p.teleport(wz);\n                                                       p.sendMessage(\"§c传送成功\");\n                                                       return true;\n                                                       }\n                                        } else {\n                                                sender.sendMessage(\"§c控制台不可以输入\");\n                                                return true;\n                                        }\n                                }\n                                \n                        }\n                        return true;\n                }\n                return true;\n        }\n               }\n复制代码\n做了许久的作业，你们参考吧，有些没讲的"
        },
        {
            "author": "莲华酱",
            "timestamp": 1486395480,
            "txt_content": " 本帖最后由 619815617 于 2018-11-30 19:43 编辑 \n\n1111111111111111111"
        },
        {
            "author": "931052301@qq.co",
            "timestamp": 1495375860,
            "txt_content": "楼主亮色+小字体=看着眼睛疼"
        },
        {
            "author": "931052301@qq.co",
            "timestamp": 1495377120,
            "txt_content": "yanjiaqin 发表于 2016-7-23 22:08\nsender instanceof Player 如果的是实例不是输出true吗 true的话就执行Player p=(Player)sender\n但是!(se ...\n因为楼主写这句话的时候有些误导\n（因为控制台是不可能传送的，所以我们要判断特殊情况：\nIf (!(sender instanceof Player)) {} else {getLogger().info(“控制台无法使用此命令”)};）\nif(sender instanceof Player){}是玩家发送的时候会判断为true，走括号中的代码，但是如果加了一个!的话，反而为false了，也就是说玩家输入指令反而不会执行If (!(sender instanceof Player)) {}大括号中的代码，控制台输入指令才会执行因为!false=true或者null，这种情况下null基本不可能，所以反而控制台输入变成true了。"
        },
        {
            "author": "kqn3",
            "timestamp": 1498354380,
            "txt_content": "为什么很多if的判断句要加取反号，比如说   If (!(sender instanceof Player)) {} else {getLogger().info(“控制台无法使用此命令”)};"
        },
        {
            "author": "fuzu_anxue",
            "timestamp": 1498484940,
            "txt_content": "wodeshijieglq 发表于 2015-5-2 18:23\n为啥么只有这个帖子有回到索引.\n这个是什么啊!"
        },
        {
            "author": "Soul-Tude",
            "timestamp": 1508764320,
            "txt_content": "我来交一下作业，希望楼主帮我看下有没有语法错误，我用的else if 吧 tp的也写进来了，不知道有没有错误= =package tubbti.tubbti;\n\n\nimport org.bukkit.*;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.plugin.java.JavaPlugin;\n\n\npublic class text extends JavaPlugin {\n    public void onEnable() {\n\n        getLogger().info(\"Text插件已加载!\");\n    }\n\n    public void onDisable() {\n\n        getLogger().info(\"Text插件已卸载!\");\n    }\n\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n\n        if (label.equalsIgnoreCase(\"text\")) {\n\n\n            if (args[0].equalsIgnoreCase(\"tp\")) {\n\n\n                if ((sender instanceof Player)) {\n\n\n                    Player p = (Player) sender;\n\n                    if (args.length != 2) {\n\n                        p.sendMessage(\"命令使用错误!\");\n\n\n                    } else {\n\n                        if (Bukkit.getServer().getPlayer(args[1]) != null) {\n\n                            Player p2 = Bukkit.getServer().getPlayer(args[1]);\n                            Location wz = p2.getLocation();\n                            p.teleport(wz);\n                            p.sendMessage(\"传送成功!\");\n\n                        } else { p.sendMessage(\"该玩家不存在\"); }\n\n                    }\n\n                } else { getLogger().info(\"控制台无法使用\"); }\n\n            }\n            else if (args[0].equalsIgnoreCase(\"msg\")) {\n\n\n                if ((sender instanceof Player)){\n\n                    Player p = (Player)sender;\n\n                    if(p.hasPermission(\"text.msg\")) {\n                        if (args.length == 3) {\n\n                            if (Bukkit.getServer().getPlayer(args[1]) != null) {\n\n                                String player1 = sender.getName();\n                                String player2 = args[1];\n                                Player p1= Bukkit.getPlayer(player1);\n                                Player target=Bukkit.getPlayer(player2);\n                                String mes= args[2];\n                                target.sendMessage(p1+\"→ me :\"+mes);\n\n\n\n                            } else {\n                                p.sendMessage(\"玩家不存在\");\n                            }\n\n\n                        } else {\n                            p.sendMessage(\"命令错误！请使用/text msg 玩家名 说的话\");\n                        }\n\n\n                    }\n                }else {getLogger().info(\"我不想让控制台私聊人233\");}\n\n\n\n\n            }\n\n        }\n        return false;\n    }\n}复制代码\n\n\n\n"
        },
        {
            "author": "tang_wenqi",
            "timestamp": 1533009840,
            "txt_content": "弃坑了？还是支持作者的文风的:-)"
        },
        {
            "author": "Fang_Mengshi",
            "timestamp": 1589849760,
            "txt_content": "学习ing......神奇的知识增加了awa!"
        },
        {
            "author": "7548854987",
            "timestamp": 1589849820,
            "txt_content": "eeeeeeeeeeeeeeee"
        }
    ]
}