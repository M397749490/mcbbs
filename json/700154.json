{
    "title": "[编程][PCD]DeepMoney——一款轻量级的前置经济插件! [全版本]",
    "author": "帅比小樊",
    "replyCount": 2,
    "timestamp": 1498270260,
    "txt_content": " 本帖最后由 1582952890 于 2017-9-16 10:00 编辑 \n\n ★介绍★ hello~我是帅比小樊,这是我的第一个前置插件贴,因为Vault用着实在太麻烦,所以自己整了个小的经济插件\n注意！这个插件单独使用将没有任何功能!\n以后我发布的有关金钱的插件将都会使用这个前置插件!\n\n ★插件教程★  如果你是一名开发者:\n首先你需要导入本插件到你的插件库中,就像你导入BukkitAPI一样，别告诉你不知道BukkitAPI是什么,如果真不知道右上角不送\n然后本插件提供了4个方法\ngetPlayerMoney(OfflinePlayer);复制代码\n获取玩家的金钱值,这里返回的是一个Double!Double!Double重要的事情说三遍!\nsetPlayerMoney(OfflinePlayer,Double)复制代码\n设置玩家的金钱值,这需要一个Double值,比如50就是50.0!\naddPlayerMoney(OfflinePlayer,Double);复制代码\n和设置玩家金钱同理!\ntakePlayerMoney(OfflinePlayer,Double);复制代码\n拿走玩家指定的金额,当然金额也是Double!\n如果你是一名辅助:\n那么你可以暂时关闭了,这个插件对你没有任何好处，除非你自己编写，或者等待我更新关联这个插件\n\n ★下载地址★  DeepMoneyv1.0 测试端1.7.10Bukkit完美运行无报错:\n\n\n\nDeepMoney.jar\n(2.97 KB, 下载次数: 41)\n\n\n\n2017-6-24 10:56 上传\n点击文件名下载附件\n1.0\n\n\n\n\n",
    "replies": [
        {
            "author": "海螺螺",
            "timestamp": 1498271700,
            "txt_content": "提一些建议：\n你的这个插件，使用的是 Player 而不是 OfflinePlayer，那么处理离线玩家怎么办\n以下个人观点，不喜勿喷：\nVault 使用相当方便，并且货币是全插件通用的，你的这个金钱账户，其他插件都无法使用\n按照Vault 官方的用法private static Economy econ = null;复制代码private boolean setupEconomy() {\n        if (getServer().getPluginManager().getPlugin(\"Vault\") == null) {\n            return false;\n        }\n        RegisteredServiceProvider<Economy> rsp = getServer().getServicesManager().getRegistration(Economy.class);\n        if (rsp == null) {\n            return false;\n        }\n        econ = rsp.getProvider();\n        return econ != null;\n    }复制代码执行这两段之后，你就可以使用(Double) econ.getBalance(OfflinePlayer) 获得金钱数\n(Boolean) econ.withdrawPlayer(OfflinePlayer, double).transcationSuccess()  拿走玩家金钱\n(Boolean) econ.depositPlayer(OfflinePlayer, double).tanscationSuccess()   添加存款复制代码\n\n\n"
        },
        {
            "author": "帅比小樊",
            "timestamp": 1498272900,
            "txt_content": "754503921 发表于 2017-6-24 10:35\n提一些建议：\n你的这个插件，使用的是 Player 而不是 OfflinePlayer，那么处理离线玩家怎么办\n以下个人观点 ...\n感谢您的建议,我会尽量改进不过,Vault,这样之后,如果还要做到能先经济插件一样显示出来的话，还得做一些指令查看什么的，这样就挺麻烦的\n"
        }
    ]
}