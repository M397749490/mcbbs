{
    "title": "discuz中如何设置注册用户名只能为英文大小写、数字与下划线？",
    "author": "ailiyixi",
    "replyCount": 8,
    "timestamp": 1579750860,
    "txt_content": "但又不能是纯数字。我找到个通配符可以禁用中文<td><input type=\"text\" id=\"{$this->setting['reginput']['username']}\" name=\"\" class=\"px\" tabindex=\"1\" value=\"{echo dhtmlspecialchars($_GET[defaultusername])}\" autocomplete=\"off\" size=\"25\" maxlength=\"15\" onkeyup=\"this.value=this.value.replace(/[^\\a-\\z|A-Z]/g,'')\" onblur=\"this.value=this.value.replace(/[^\\a-\\z|A-Z]/g,'')\" required /></td>复制代码但似乎同时禁用了数字与下划线，怎么改求解",
    "replies": [
        {
            "author": "xmdhs",
            "timestamp": 1579750860,
            "txt_content": "bailiyixi 发表于 2020-1-23 12:34\n能进去了，但无论输入什么都只会提示：只允许用字母数字注册\n这样\n                        if (!preg_match(\"/^([a-zA-Z0-9_])+$/u\",$_GET['username'])) {\n                                showmessage(\"只允许用字母数字注册\");\n                                }       "
        },
        {
            "author": "xmdhs",
            "timestamp": 1579751760,
            "txt_content": "找到一个这个\nhttps://www.zjpro.com/discuz-register-limitation.html\n\n里面的代码换成\nif (!preg_match(“/^([a-zA-Z0-9]+_)+$/u”,$_GET[‘username’])) {\nshowmessage(“只允许用字母数字注册”);\n}\n\n试试"
        },
        {
            "author": "ailiyixi",
            "timestamp": 1579753260,
            "txt_content": "xmdhs 发表于 2020-1-23 11:56\n找到一个这个\nhttps://www.zjpro.com/discuz-register-limitation.html\n不大会用啊大佬\n                } else {\n                        if (!preg_match(“/^([a-zA-Z0-9]+_)+$/u”,$_GET[‘username’])) {\n                                showmessage(“只允许用字母数字注册”);\n                        }复制代码\n这样改完后注册页面进不去了"
        },
        {
            "author": "xmdhs",
            "timestamp": 1579753560,
            "txt_content": "bailiyixi 发表于 2020-1-23 12:21\n不大会用啊大佬\n\n这样改完后注册页面进不去了\n服了，为什么那个人的是中文标点\n\n                if (!preg_match(\"/^([a-zA-Z0-9]+/_)+$/u\",$_GET['username'])) {\n                        showmessage(\"只允许用字母数字注册\");\n                        }                        \n\n如果还不行，就把 source\\class\\class_member.php 上传让我看看"
        },
        {
            "author": "ailiyixi",
            "timestamp": 1579754040,
            "txt_content": " 本帖最后由 bailiyixi 于 2020-1-23 12:36 编辑 \nxmdhs 发表于 2020-1-23 12:26\n服了，为什么那个人的是中文标点\n\n                if (!preg_match(\"/^([a-zA-Z0-9]+/_)+$/u\",$_GET['username'])) {\n能进去了，但无论输入什么都只会提示：只允许用字母数字注册\n\n\n\n\n\n\n\nlang_template.zip\n\n\n2020-1-23 12:36 上传\n点击文件名下载附件\n\n\n\n\n1.37 KB, 下载次数: 1\n\n\n\n\n"
        },
        {
            "author": "ailiyixi",
            "timestamp": 1579754820,
            "txt_content": "xmdhs 发表于 2020-1-23 12:40\n这样\n                        if (!preg_match(\"/^([a-zA-Z0-9_])+$/u\",$_GET['username'])) {\n                                showmessage(\"只允许用字母 ...\n可以了  不过还有个问题，我的一些插件不支持纯数字ID的玩家，可以设置成禁止纯数字嘛\n或者换个思路，必须以字母开头也行"
        },
        {
            "author": "xmdhs",
            "timestamp": 1579755840,
            "txt_content": "bailiyixi 发表于 2020-1-23 12:47\n可以了  不过还有个问题，我的一些插件不支持纯数字ID的玩家，可以设置成禁止纯数字嘛\n或者换个思 ...\n你怎么还中途加要求的？\n\n                        if (preg_match('/\\b[0-9]+\\b/',$_GET['username'])) {\n                                showmessage(\"不允许纯数字\");\n                                }\n                        if (!preg_match(\"/^([a-zA-Z0-9_])+$/u\",$_GET['username'])) {\n                                        showmessage(\"只允许用字母数字下划线注册\");\n                        }               "
        },
        {
            "author": "ailiyixi",
            "timestamp": 1579756320,
            "txt_content": "xmdhs 发表于 2020-1-23 13:04\n你怎么还中途加要求的？\n\n                        if (preg_match('/\\b[0-9]+\\b/',$_GET['username'])) {\n其实一开始要求就有说啦"
        }
    ]
}