{
    "title": "【bukkit】求助。。读取YML文件发生错误。。。",
    "author": "mc能吃吗",
    "replyCount": 3,
    "timestamp": 1578316500,
    "txt_content": " 本帖最后由 mc能吃吗 于 2020-1-6 21:18 编辑 \n\n[10:43:10] [Server thread/ERROR]: Cannot load plugins\\BlockCommands\\block.yml org.bukkit.configuration.InvalidConfigurationException: unacceptable character '?' (0xFFFD) special characters are not allowed in \"\", position 109\n         at org.bukkit.configuration.file.YamlConfiguration.loadFromString(YamlConfiguration.java:57) ~[craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.bukkit.configuration.file.FileConfiguration.load(FileConfiguration.java:226) ~[craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.bukkit.configuration.file.FileConfiguration.load(FileConfiguration.java:169) ~[craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.bukkit.configuration.file.YamlConfiguration.loadConfiguration(YamlConfiguration.java:180) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at qq2159116373.BlockCommands.load_blockYml(BlockCommands.java:42) [BlockCommands.jar:?]\n         at qq2159116373.BlockCommands.onEnable(BlockCommands.java:21) [BlockCommands.jar:?]\n         at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:316) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:324) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]         at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:404) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.bukkit.craftbukkit.v1_7_R4.CraftServer.loadPlugin(CraftServer.java:455) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.bukkit.craftbukkit.v1_7_R4.CraftServer.enablePlugins(CraftServer.java:389) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at net.minecraft.server.v1_7_R4.MinecraftServer.n(MinecraftServer.java:352) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at net.minecraft.server.v1_7_R4.MinecraftServer.g(MinecraftServer.java:326) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at net.minecraft.server.v1_7_R4.MinecraftServer.a(MinecraftServer.java:282) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at net.minecraft.server.v1_7_R4.DedicatedServer.init(DedicatedServer.java:189) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at net.minecraft.server.v1_7_R4.MinecraftServer.run(MinecraftServer.java:436) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at net.minecraft.server.v1_7_R4.ThreadServerApplication.run(SourceFile:628) [craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks] Caused by: org.yaml.snakeyaml.reader.ReaderException: special characters are not allowed\n         at org.yaml.snakeyaml.reader.StreamReader.checkPrintable(StreamReader.java:70) ~[craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.yaml.snakeyaml.reader.StreamReader.(StreamReader.java:50) ~[craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.yaml.snakeyaml.Yaml.load(Yaml.java:399) ~[craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         at org.bukkit.configuration.file.YamlConfiguration.loadFromString(YamlConfiguration.java:55) ~[craftbukkit-1.7.10-R0.1-20140808.005431-8.jar:git-Bukkit-1.7.9-R0.2-20-g0b2ed13-b3108jnks]\n         ... 16 more\n\n以上是报错内容。下面是我加载文件的代码：\npublic void load_blockYml() {\n        File f = new File(this.getDataFolder(), \"block.yml\");\n        if (f.exists()) {\n                Bukkit.getLogger().info(\"block.yml成功载入\");\n                new ConfigGet().Configblock = YamlConfiguration.loadConfiguration(f); /* 怀疑是这里有问题 */\n                }\n                else {\n                      Bukkit.getLogger().info(\"没有block.yml,正在创建\");\n                      this.saveResource(\"block.yml\", true);\n                      new ConfigGet().Configblock = YamlConfiguration.loadConfiguration(f); /* 同上 */\n                }\n}复制代码\n\n急。。或许，还有什么更好加载自定义配置文件的方法？欢迎指出",
    "replies": [
        {
            "author": "a1294790523",
            "timestamp": 1578318300,
            "txt_content": " 本帖最后由 a1294790523 于 2020-1-6 21:50 编辑 \n\n0xFFFD是UTF-8的标志（BOM头，标记此文件为UTF8编码），只在存储为UTF8-BOM格式时发生，将配置文件存储为UTF-8无BOM格式即可"
        },
        {
            "author": "asfdweas",
            "timestamp": 1578554160,
            "txt_content": "321111111111111111111111"
        },
        {
            "author": "a1294790523",
            "timestamp": 1578622860,
            "txt_content": "a1294790523 发表于 2020-1-6 21:45\n0xFFFD是UTF-8的标志（BOM头，标记此文件为UTF8编码），只在存储为UTF8-BOM格式时发生，将配置文件存储为UT ...\n请确定将jar内和文件夹内的文件（block.yml）存储为UTF-8无BOM格式\n这个的确是BOM头"
        }
    ]
}