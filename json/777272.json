{
    "title": "玩家右键后如何检测并获得鼠标实体？",
    "author": "摇摇车",
    "replyCount": 2,
    "timestamp": 1517044800,
    "txt_content": "RT,不知道这种能不能做出来：\n\n监听玩家右键，然后获得玩家指针是否有实体，并获得这个实体\n",
    "replies": [
        {
            "author": "a103060",
            "timestamp": 1517048760,
            "txt_content": "PlayerInteractAtEntityEvent"
        },
        {
            "author": "Ir.Nep",
            "timestamp": 1517052480,
            "txt_content": "public Entity getCursorTarget(Player p, double range){\n                Block block;\n                Entity target;\n                Iterator<Entity> entities;\n            Location loc = p.getEyeLocation();\n            Vector vec = loc.getDirection().multiply(0.15);\n            while((range-=0.1)>0 && ((block = loc.getWorld().getBlockAt(loc)).isLiquid() || block.isEmpty())){\n                    entities = loc.getWorld().getNearbyEntities(loc.add(vec), 0.001, 0.001, 0.001).iterator();\n                while(entities.hasNext()){\n                        if((target = entities.next()) != p){\n                                return target;\n                        }\n                }\n            }\n            return null;\n        }复制代码"
        }
    ]
}