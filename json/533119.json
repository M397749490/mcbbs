{
    "title": "Tiger的插件开发  配置文件（5） 从入门到精通",
    "author": "tiger999",
    "replyCount": 16,
    "timestamp": 1450623720,
    "txt_content": " 本帖最后由 tiger999 于 2016-8-15 12:40 编辑 \n\n上节课，我们做了一个插件，我们今天学习如何做配置文件，话说，我上次忘记给大家布置作业了。。。别打我\n\n\n5.配置文件\n知道服务器的人都知道配置文件吧，就是Config，今天我来教大家如何创建首先创建一个空的插件(详细)\n然后和创建plugin.yml一样的方式弄一个config.yml\nOK，我们开始写代码了，首先我们先认识Enable和Disable，enable就是在启动时执行的东西，disable就是卸载插件的时候执行的东西\n用法是:\npublic void onEnable() {\n//启动时执行XXX\n}\n和\npublic void onDisable() {\n//卸载是执行XXX\n}\n注意，这2个是放在命令执行器的上面\n一般加载配置是这样的(注意，加载不是读取)\n\n                  if(!getDataFolder().exists()) {\n                    getDataFolder().mkdir();\n                  }\n                  File file=new File(getDataFolder(),\"config.yml\");\n                  if (!(file.exists())) {saveDefaultConfig();}\n                  reloadConfig();\n\n\n\n所以，比较常用的话是和onEnable进行搭配\n\n        public void onEnable() {\n                  if(!getDataFolder().exists()) {\n                    getDataFolder().mkdir();\n                  }\n                  File file=new File(getDataFolder(),\"config.yml\");\n                  if (!(file.exists())) {saveDefaultConfig();}\n                  reloadConfig();\n                  getLogger().info(\"启用完毕！\");\n                }\n这里就是首先先创建一个工作文件夹，然后再创建默认的配置(就是，你创建的那个config.yml，因为你刚刚弄出来的Jar里面是没有config.yml的，所以得saveDefaultConfig();才是保存默认)\n还有一个就是，这里的getLogger().info(\"启动完毕！\");就是在后台发信息\n\n\nOK，我们加载了是加载了，可是又不能读取又不能写入，怎么办呢？\n别急，别急，我们先了解一下config.yml里面的东西是什么\n比如说config.yml里面是\na:123\nb:123456\nc:123456789\n那么要读取123就得到路径a\n要读取123456就得到路径b\n要读取123456789就得到路径c\n\n\n读写配置最基本的方法\n\n读\ngetConfig().get变量类型(\"路径\");\n比如说我要读取路径a里面的东西，是一个int类型的，那么就是\ngetConfig().getInt(\"a\");\n假如我要读取路径b里面的东西，是一个String类型的，那么就是\ngetConfig().getString(\"b\");\n当然，有些人就迷惑了，我怎么把这个东西放到变量里面？\n很简单，比如说\nString a=getConfig().getString(\"c\");\n这样子\n\n\n写\ngetConfig().set(路径, 内容) 内容可以为String int List什么的自定义配置文件照葫芦画瓢吧！set为null表示删除此节点以及他的所有子节点记得要保存 保存方法:File file=new File(getDataFolder(),\"config.yml\");try{getConfig().save(file);}\n          catch\n          (IOException e){e.printStackTrace();} 要捕捉异常，因为有可能保存不成功当然也有一个直接保存默认config的方法:savaConfig();\n\n\n\n\n这次不忘记布置作业了——\n当玩家输入/tiger msg的时候，读取路径为a的String，并发送给那个玩家\n\n\n我才几级啊你们看懂了的有金币有人气的都撒起来吧！ 没看懂的跟帖问完之后继续金币人气撒起来吧！\n\n\n回到索引贴\n",
    "replies": [
        {
            "author": "CMD丶BLOCK_",
            "timestamp": 1452396540,
            "txt_content": " 本帖最后由 CMD丶BLOCK_ 于 2016-1-10 11:39 编辑 \n\n楼主，你的教程写的很好，通俗易懂，我最近想开发一个插件，能加个qq好友么，我qq:1056293351，等级没法给人气，抱歉哈~"
        },
        {
            "author": "tiger999",
            "timestamp": 1452402360,
            "txt_content": "CMD丶BLOCK_ 发表于 2016-1-10 11:29\n楼主，你的教程写的很好，通俗易懂，我最近想开发一个插件，能加个qq好友么，我qq:1056293351，等级没法给 ...\n谢谢支持！好的，我的qq名是tiger，号是2624183401，你同意就行了"
        },
        {
            "author": "seesaw_233",
            "timestamp": 1453108620,
            "txt_content": "你这个和Day有什么区别"
        },
        {
            "author": "tiger999",
            "timestamp": 1453126920,
            "txt_content": "seesaw_233 发表于 2016-1-18 17:17\n你这个和Day有什么区别\n区别很大啊！当然，知识就是那么多，讲的方法和深度的区别"
        },
        {
            "author": "494308843",
            "timestamp": 1453731120,
            "txt_content": "{:10_522:}\n你只讲了 例如读取 a:\nb:\nc:\n你没讲这么读取类似\na:\n-\n-\n- \n还有物品\n还有路径的格式。。。\n完全。。。不懂"
        },
        {
            "author": "tiger999",
            "timestamp": 1453784580,
            "txt_content": "494308843 发表于 2016-1-25 22:12\n你只讲了 例如读取 a:\nb:\nc:\n。。。。假如不懂可以加qq2624183401"
        },
        {
            "author": "494308843",
            "timestamp": 1453791780,
            "txt_content": "tiger999 发表于 2016-1-26 13:03\n。。。。假如不懂可以加qq2624183401\n{:10_494:}我选择撞死"
        },
        {
            "author": "1441151179",
            "timestamp": 1467710100,
            "txt_content": "输出节点和读取节点的教程能不能写出来啊=。=，还有路径冒号后面好像还要空一个格才能写数值。"
        },
        {
            "author": "lyyxy",
            "timestamp": 1468843380,
            "txt_content": "tiger999 发表于 2016-1-18 22:22\n区别很大啊！当然，知识就是那么多，讲的方法和深度的区别\n至少你后面抄的day的    连错的地方都一样   直接保存默认config的方法是saveConfig（）; \nday的帖子：http://www.mcbbs.net/forum.php?m ... p;extra=#pid8113285\n而day的帖子是2015-5-2 19:49:51发布的 你的是2015-12-20 23:02:10发布的\n明显的抄袭"
        },
        {
            "author": "lyyxy",
            "timestamp": 1468843620,
            "txt_content": "只不过写的也挺好的"
        },
        {
            "author": "tiger999",
            "timestamp": 1469187600,
            "txt_content": "lyyxy 发表于 2016-7-18 20:03\n至少你后面抄的day的    连错的地方都一样   直接保存默认config的方法是saveConfig（）; \nday的帖子：ht ...\n确实这里是抄袭，主要是，知识点差不多，都是那个样子，不过谢谢鼓励"
        },
        {
            "author": "lyyxy",
            "timestamp": 1469431620,
            "txt_content": "tiger999 发表于 2016-7-22 19:40\n确实这里是抄袭，主要是，知识点差不多，都是那个样子，不过谢谢鼓励\n不过你至少先改一下很容易误导人\nsavaConfig;()改成saveConfig();"
        },
        {
            "author": "tiger999",
            "timestamp": 1469446620,
            "txt_content": "lyyxy 发表于 2016-7-25 15:27\n不过你至少先改一下很容易误导人\nsavaConfig;()改成saveConfig();\n嗯，不过最近没时间"
        },
        {
            "author": "tiger999",
            "timestamp": 1471235460,
            "txt_content": "lyyxy 发表于 2016-7-25 15:27\n不过你至少先改一下很容易误导人\nsavaConfig;()改成saveConfig();\n改了，ok!"
        },
        {
            "author": "Zhe_Learn",
            "timestamp": 1548637440,
            "txt_content": "那个 好像没有getConfig这个函数啊？"
        },
        {
            "author": "猿汐",
            "timestamp": 1552198200,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        }
    ]
}