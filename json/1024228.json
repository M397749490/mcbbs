{
    "title": "forceload 相关问题",
    "author": "tineseack_bk",
    "replyCount": 5,
    "timestamp": 1587370140,
    "txt_content": " 本帖最后由 tineseack_bk 于 2020-4-20 16:12 编辑 \n\n    1. 想知道游戏是如何处理玩家加入的 forceload 区块的，比如有没有最大处理上限（单次最大添加 256 个，然而可以多次添加，但我不知道是不是全部都有效，即有没有可能它只是添加到加载列表里但实际没有加载的情况出现）\n    2. 一个实际问题：（服务器内）实体 A 在一个距离玩家较远的已经强加载的区块里面运动，我让玩家 B 坐上矿车，然后把矿车高频 tp 到实体 A，然而有几率会出现这样的问题：玩家 B 的视角是自己在空中抽搐而且周围看起来像是一个区块还没有加载的样子，但是坐标的确是在实体 A 的位置，而比如我让玩家 C 来看玩家 B 则会发现玩家 B 确实是在实体 A 处的。在这种情况下玩家无法按 Shift 退出矿车，但可以用暴力方法脱离，并且通常第二/第三次就可以正常 run。原因不明，不知各位有没有遇到类似情况可以分享一下经验\n    为什么会有问题 1：我在没有用 forceload 加载区块之前就发现了抽搐现象（但是当时的确是应该已经加载到实体 A 了否则系统也选不到它），然后我在用 forceload 对这些破区块一顿操作之后发现还是有类似问题……所以我不确定到底是哪个环节有问题？\n\n谢谢茄子\n",
    "replies": [
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1587370140,
            "txt_content": "标题: 上限问题.....放过硬件吧 代码上可能没限制 但是硬件性能是有的 本帖最后由 阴阳师元素祭祀 于 2020-4-20 16:28 编辑 \n\n区块加载\n应该只是服务器强加载\n保持那个区块不会被卸载\n至少我使用情况是这样的\n\n>>>我使用情况:\n>>>地狱交通冰道区块全部强加载 -> 每次交通不会服务器加载区块卡了\n\n\n既然是服务器强加载区块\n跟客户端没有关系\n\ntp一个玩家到另外一个地方\n玩家需要从服务器加载这个区块\n因为各种原因可能导致卡顿\n\n另 高频tp本身会有渲染问题 这点我在单人的时候就遇到过(也可能不是)\n你需要代码层面分析么对了 记得考虑一下这个游戏的特性系统\n\n\n建议先试试不forceload加载那个区块 而是叫一个玩家人工加载那\n然后高频tp试试看\n"
        },
        {
            "author": "tineseack_bk",
            "timestamp": 1587370620,
            "txt_content": " 本帖最后由 tineseack_bk 于 2020-4-20 16:27 编辑 \n阴阳师元素祭祀 发表于 2020-4-20 16:12\n区块加载\n应该只是服务器强加载\n保持那个区块不会被卸载\n我还是没懂，所以那个抽搐只是渲染问题？那玩家在这种情况下为什么不能用 Shift 退出矿车呢（甚至可以正常操作地图里的其他内容，比如检测 F 键和检测右键\n-\n好的，这个测试我稍后去试试√\n\n\n-\ntp 的是矿车，玩家只是正常坐在上面\n量 子 矿 车\n\n-\n\n感谢解答，那个 tp 部分我想个替换方法吧，应该高频 tp 玩家没问题（？\ntp 矿车是因为，tp 玩家的时候，会出现很多玩家运动时造成的鬼问题（比如玩家按一下 w 被 tp 回来但是因为有动量就会开始来回抖动什么的"
        },
        {
            "author": "chixvv",
            "timestamp": 1587370620,
            "txt_content": "可能是高频tp本身的bug。另外注意：加载≠客户端渲染。"
        },
        {
            "author": "tineseack_bk",
            "timestamp": 1587370680,
            "txt_content": "chixvv 发表于 2020-4-20 16:17\n可能是高频tp本身的bug。另外注意：加载≠客户端渲染。\n这个的意思是我可能已经加载了区块但是客户端没有渲染然后 tp 过去的时候就还得再在客户端“加载”一次吗？"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1587370680,
            "txt_content": " 本帖最后由 阴阳师元素祭祀 于 2020-4-20 16:24 编辑 \ntineseack_bk 发表于 2020-4-20 16:17\n我还是没懂，所以那个抽搐只是渲染问题？那玩家在这种情况下为什么不能用 Shift 退出矿车呢（甚至可以正 ...\n高频tp本身有问题\n\n然后...\ntp的是玩家还是矿车？\n这边建议看看mojang的bug追踪器\n可能服务器认为你下了矿车 但客户端认为你没下\n导致了一些奇怪的特性\n我遇到过客户端认为我着火 服务器认为我没火的情况\n\n\ntp的矿车啊\n为什么要玩那么危险的操作X\n\n不管怎么样 你要知道 这个游戏特性很多\n\n上限问题.....放过硬件吧\n代码上可能没限制 但是硬件性能是有的\n\n"
        }
    ]
}