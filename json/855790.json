{
    "title": "[1.13.X][随机数模块]借助战利品报表生成随机数",
    "author": "Chelover_C60",
    "replyCount": 9,
    "timestamp": 1554547800,
    "txt_content": " 本帖最后由 CHElover_C60 于 2019-4-6 19:03 编辑 \n\n       灵感来源为一次我在写战利品表时的偶然想法\n       原理：借助战利品表来生成随机损坏值的工具，来生成随机数。\n\n\n\n模块功能\n       本模块适用于随机数的生成，并可加权生成随机数值；自带调试功能，防止出现错误\n\n使用方法\n初始化：\n1、下载并解压文件，并将所得文件夹放进存档里的datapacks文件夹内；2、进入游戏，即可正常加载；\n3、若无法正常加载，尝试输入/reload；\n4、加载完成后输入/function ran:start建立必要的计分板。\n\n生成随机数：\n1、修改需要生成随机数的实体的ran_min与ran_max分数，确定一个范围；\n2、输入/execute as <目标实体> at @s run function ran:random即可在指定范围内生成随机数；\n3、最终的分数会保存至该实体的ran分数(显示为random)中。\n\n\n\n\n2019-04-06_15.51.55.png (127.48 KB, 下载次数: 2)\n\n下载附件\n\n2019-4-6 18:43 上传\n\n\n\n\n\n\n\n\n2019-04-06_15.51.57.png (133.46 KB, 下载次数: 2)\n\n下载附件\n\n2019-4-6 18:43 上传\n\n\n\n\n\n\n\n\n2019-04-06_15.51.58.png (139.35 KB, 下载次数: 2)\n\n下载附件\n\n2019-4-6 18:43 上传\n\n\n\n\n\n\n生成加权随机数：\n1、输入/function ran:setweight建立一个加权随机数组；\n2、根据所得反馈值（只有函数的执行者能看见），编辑该实体的ran_min、ran_max、ran_weight分数；\n     示例：/scoreboard players set @e[scores={ran_weightid=0}] ran_min 1\n3、所有数组设置完毕后，输入/execute as <目标实体> at @s run function ran:weight即可加权随机生成数值；\n4、所有数组的存在形式是拥有ran_weight标签的盔甲架，若需要清空数组只需输入/kill @e[tag=ran_weight]即可。\n\n\n\n\n2019-04-06_15.48.33.png (174.02 KB, 下载次数: 2)\n\n下载附件\n\n2019-4-6 18:44 上传\n\n\n\n\n\n\n调试模式：1、若无法生成随机数或生成的随机数有误，可以在函数后加debug（示例：/function ran:randomdebug）来进入调试模式；2、进入调试模式后，我们会检查目前模块的分数设置情况，一旦发现错误，我们会向你汇报。\n\n\n\n\n2019-04-06_15.45.25.png (254.13 KB, 下载次数: 2)\n\n下载附件\n\n2019-4-6 18:44 上传\n\n\n\n\n\n\n\n\n2019-04-06_15.49.39.png (149.56 KB, 下载次数: 2)\n\n下载附件\n\n2019-4-6 18:44 上传\n\n\n\n\n\n\n\n\n代码解析\n\n战利品表：random.json\n{        \"pools\":\n        [{\n                \"rolls\":1,\n                \"entries\":\n                [{\n                        \"type\":\"item\",\n                        \"name\":\"minecraft:stone\",\n                        \"weight\":1,\n                        \"conditions\": \n                        [{\n                                \"condition\":\"random_chance\",\n                                \"chance\":0.5\n                        }]\n                }]\n        },{\n                \"rolls\":3,\n                \"entries\":\n                [{\n                        \"type\":\"item\",\n                        \"name\":\"minecraft:diamond_sword\",\n                        \"weight\":1,\n                        \"functions\": \n                        [{\n                                \"function\":\"set_damage\",\n                                \"damage\":{\"min\":0.34423,\"max\":1.0}\n                        }]\n                }]\n        }]\n}复制代码随机生成3个Damage为0~1023的钻石剑，并有1/2的概率生成一个石头\n\n函数ran:start 用于建立计分板\nscoreboard objectives add ran dummy \"random\"\nscoreboard objectives add ran_min dummy\nscoreboard objectives add ran_max dummy\nscoreboard objectives add ran_delta dummy\nscoreboard objectives add ran_weight dummy\nscoreboard objectives add ran_weightid dummy复制代码\n\n函数ran:random 用于产生随机数\ntag @s add ran_creating\nsummon armor_stand ~ -10 ~ {Tags:[\"ran\"]}\n\nsummon chest_minecart ~ -10 ~ {LootTable:\"ran:random\"}\nexecute positioned ~ -10 ~ run kill @e[sort=nearest,type=chest_minecart,limit=1]\n#激活战利品表\nscoreboard players set @e[tag=ran] ran 1024\nexecute positioned ~ -10 ~ as @e[sort=nearest,type=item,nbt={Item:{id:\"minecraft:diamond_sword\"}},limit=3] store result score @s ran run data get entity @s Item.tag.Damage\nexecute positioned ~ -10 ~ as @e[sort=nearest,type=item,nbt={Item:{id:\"minecraft:diamond_sword\"}},limit=1] store success entity @s Item.Count byte 0 run scoreboard players operation @e[tag=ran_creating] ran = @s ran\nscoreboard players operation @e[tag=ran_creating] ran *= @e[scores={ran=1024}] ran\nexecute positioned ~ -10 ~ as @e[sort=nearest,type=item,nbt={Item:{id:\"minecraft:diamond_sword\"}},limit=1] store success entity @s Item.Count byte 0 run scoreboard players operation @e[tag=ran_creating] ran += @s ran\nscoreboard players operation @e[tag=ran_creating] ran *= @e[scores={ran=1024}] ran\nexecute positioned ~ -10 ~ as @e[sort=nearest,type=item,nbt={Item:{id:\"minecraft:diamond_sword\"}},limit=1] store success entity @s Item.Count byte 0 run scoreboard players operation @e[tag=ran_creating] ran += @s ran\n#采用1024进制（？？？），随机生成一个0~1073741823的随机数\nscoreboard players operation @e[tag=ran_creating] ran += @e[tag=ran_creating] ran\nexecute positioned ~ -10 ~ as @e[sort=nearest,type=item,nbt={Item:{id:\"minecraft:stone\"}},limit=1,distance=..1] store success entity @s Item.Count byte 0 run scoreboard players add @e[tag=ran_creating] ran 1\n#将最初的随机数翻倍，并随机决定是否加上1，得到0~2147483647之间的随机数\n\nscoreboard players operation @s ran_delta = @s ran_max\nscoreboard players operation @s ran_delta -= @s ran_min\nscoreboard players add @s ran_delta 1\n#确定随机数的生成范围\nscoreboard players set @e[tag=ran,limit=1] ran 2147483647\nscoreboard players operation @e[tag=ran,limit=1] ran /= @e[tag=ran_creating] ran_delta\nscoreboard players operation @e[tag=ran_creating] ran /= @e[tag=ran,limit=1] ran\n#将2147483647分成数个组，根据所得随机数落在哪一个组来决定随机数的大小\nscoreboard players operation @s ran += @s ran_min\n#得到指定范围内的随机数\n\nexecute positioned ~ -10 ~ run kill @e[sort=nearest,limit=1,type=armor_stand,tag=ran]\ntag @s remove ran_creating\n\nexecute if score @s ran > @s ran_max run function ran:random\n#检查随机数是否落在指定范围内，若不是则重新生成随机数\n\n函数ran:setweight 用于生成随机数组\nsummon armor_stand ~ ~ ~ {Marker:1,Invisible:1,NoGravity:1}\nexecute store result score @e[sort=nearest,limit=1,type=armor_stand,tag=!ran_weight] ran_weightid if entity @e[type=armor_stand,tag=ran_weight]\ntag @e[sort=nearest,limit=1,type=armor_stand,tag=!ran_weight,scores={ran_weightid=0..}] add ran_weight\ntellraw @s [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u5DF2\\u751F\\u6210\\u65B0\\u7684\\u52A0\\u6743\\u968F\\u673A\\u6570\\u7EC4\\uFF0C\\u5F53\\u524D\\u6570\\u7EC4\\u7684ran_weightid\\u4E3A\\uFF1A\",\"color\":\"green\"},{\"score\":{\"name\":\"@e[sort=nearest,limit=1,tag=ran_weight]\",\"objective\":\"ran_weightid\"},\"color\":\"green\"}]\n#生成盔甲架并确定编号，通知生成者该盔甲架的id复制代码\n\n函数ran:weight 用于随机选取加权数组并生成随机数\nsummon armor_stand ~ -10 ~ {Tags:[\"ran_weighting\"]}\n\nexecute as @e[type=armor_stand,tag=ran_weight] run scoreboard players operation @e[type=armor_stand,tag=ran_weighting,limit=1] ran_max += @s ran_weight\nscoreboard players set @e[type=armor_stand,tag=ran_weighting,limit=1] ran_min 1\nexecute as @e[type=armor_stand,tag=ran_weighting,limit=1] run function ran:random\n#将权重求和，并设置辅助盔甲架的随机生成权重范围，生成随机权重\n\nscoreboard players set @e[type=armor_stand,tag=ran_weighting,limit=1] ran_weightid 0\nexecute as @e[type=armor_stand,tag=ran_weighting,limit=1] run function ran:inputfunction1\n#借助ran:inputfunction1的循环结构，确定最终选取哪一个数组\n\nexecute as @e[type=armor_stand,tag=ran_weighting,limit=1] run function ran:random\nscoreboard players operation @s ran = @e[type=armor_stand,tag=ran_weighting,limit=1] ran\n#让指定数组生成随机数，并保存至目标实体的ran中\n\nkill @e[type=armor_stand,tag=ran_weighting]复制代码\n\n函数ran:inputfunction1 用于辅助ran:weight函数选取合适的数组\nexecute as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid run scoreboard players operation @e[tag=ran_weighting,limit=1] ran -= @s ran_weight\n#让辅助盔甲架读取与它的ran_weightid相等的盔甲架的ran_weight并做差\nexecute if score @s ran matches ..0 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid run scoreboard players operation @e[tag=ran_weighting] ran_max = @s ran_max\nexecute if score @s ran matches ..0 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid run scoreboard players operation @e[tag=ran_weighting] ran_min = @s ran_min\n#若此时权重小于等于0，说明最终选取的是这个数组，读取该盔甲架的ran_min与ran_max\nexecute if score @s ran matches 1.. run scoreboard players add @s ran_weightid 1\nexecute if score @s ran matches 1.. if score @s ran_weightid matches ..100 run function ran:inputfunction1\n#若权重大于0，说明选取的不是这个盔甲架。则ran_weightid加1并读取下一个盔甲架的数据复制代码\n\n函数ran:randomdebug 用于分析是否能将ran:random在某个实体上应用\nexecute if entity @s[tag=!ran_weight] run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u8FDB\\u5165\\u8C03\\u8BD5\\u6A21\\u5F0F\\uFF0C\\u6211\\u4EEC\\u5728\\u4E3A\\u60A8\\u5206\\u6790\\u5F53\\u524D\\u6A21\\u5757\\u7684\\u8FD0\\u884C\\u72B6\\u6001\\u3002\",\"color\":\"green\"}]\nexecute unless score @s ran_max matches -2147483648..2147483647 run tag @s add ran_error\nexecute unless score @s ran_max matches -2147483648..2147483647 run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u9519\\u8BEF\\uFF1A \",\"color\":\"red\"},{\"selector\":\"@s\",\"color\":\"reset\"},{\"text\":\" \\u5B9E\\u4F53\\u7F3A\\u5C11\\u5206\\u6570\\uFF1Aran_max\",\"color\":\"red\"}]\nexecute unless score @s ran_min matches -2147483648..2147483647 run tag @s add ran_error\nexecute unless score @s ran_min matches -2147483648..2147483647 run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u9519\\u8BEF\\uFF1A \",\"color\":\"red\"},{\"selector\":\"@s\",\"color\":\"reset\"},{\"text\":\" \\u5B9E\\u4F53\\u7F3A\\u5C11\\u5206\\u6570\\uFF1Aran_min\",\"color\":\"red\"}]\n#检测实体是否拥有ran_min与ran_max\n\nexecute if entity @s[tag=!ran_error] if score @s ran_max > @s ran_min run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u5B9E\\u4F53 \",\"color\":\"green\"},{\"selector\":\"@s\",\"color\":\"reset\"},{\"text\":\" \\u7684\\u5206\\u6570\\u72B6\\u51B5\\uFF1A\\nran_min:\",\"color\":\"green\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_min\"},\"color\":\"green\"},{\"text\":\"\\nran_max:\",\"color\":\"green\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_max\"},\"color\":\"green\"}]\nexecute if entity @s[tag=!ran_error] unless score @s ran_max > @s ran_min run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u5B9E\\u4F53 \",\"color\":\"red\"},{\"selector\":\"@s\",\"color\":\"reset\"},{\"text\":\" \\u7684\\u5206\\u6570\\u72B6\\u51B5\\uFF1A\\nran_min:\",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_min\"},\"color\":\"red\"},{\"text\":\"\\nran_max:\",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_max\"},\"color\":\"red\"},{\"text\":\"\\n[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u9519\\u8BEF\\uFF1A\\u5B9E\\u4F53 \",\"color\":\"red\"},{\"selector\":\"@s\",\"color\":\"reset\"},{\"text\":\" \\u5206\\u6570\\u8BBE\\u7F6E\\u9519\\u8BEF\\uFF0C\\u8BF7\\u786E\\u4FDD\\u8BE5\\u5B9E\\u4F53\\u7684ran_max\\u5927\\u4E8Eran_min\",\"color\":\"red\"}]\nexecute if entity @s[tag=!ran_error] unless score @s ran_max > @s ran_min run tag @s add ran_error\n#若实体拥有ran_min与ran_max，则比较两者大小\n\nexecute if entity @s[tag=!ran_error] run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u8C03\\u8BD5\\u5B8C\\u6BD5\\uFF0C\\u672A\\u53D1\\u73B0\\u9519\\u8BEF\\u3002\",\"color\":\"green\"}]\ntag @s remove ran_error\n#若无问题，则输出无问题复制代码\n\n函数ran:weightdebug 用于检测是否能将ran:weight应用在目标实体上\ntellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u8FDB\\u5165\\u8C03\\u8BD5\\u6A21\\u5F0F\\uFF0C\\u6211\\u4EEC\\u5728\\u4E3A\\u60A8\\u5206\\u6790\\u5F53\\u524D\\u6A21\\u5757\\u7684\\u8FD0\\u884C\\u72B6\\u6001\\u3002\",\"color\":\"green\"}]\nsummon armor_stand ~ -10 ~ {Tags:[\"ran_weighting\"]}\n\nscoreboard players set @e[type=armor_stand,tag=ran_weighting,limit=1] ran_weightid 0\nexecute as @e[type=armor_stand,tag=ran_weighting,limit=1] run function ran:inputfunction2\n#借助循环函数ran:inputfunction2来逐个检查每个随机数组的数量\n\nexecute unless entity @e[tag=ran_error] run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u8C03\\u8BD5\\u5B8C\\u6BD5\\uFF0C\\u672A\\u53D1\\u73B0\\u9519\\u8BEF\\u3002\",\"color\":\"green\"}]\nkill @e[tag=ran_weighting]\ntag @e remove ran_error\n#若无问题，则输出无问题复制代码\n\n函数ran:inputfunction2 用于协助ran:weightdebug 来检查每个随机数组的数值\ntag @e[tag=ran_weight,tag=ran_continue] remove ran_continue\n\nscoreboard players set @e[type=armor_stand,tag=ran_weighting,limit=1] ran_delta 0\nexecute as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid run scoreboard players add @e[type=armor_stand,tag=ran_weighting,limit=1] ran_delta 1\nexecute unless score @s ran_delta matches 1 run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u9519\\u8BEF\\uFF1A\\u53D1\\u73B0 \",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_delta\"},\"color\":\"red\"},{\"text\":\" \\u4E2Aweightid\\u4E3A\",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_weightid\"},\"color\":\"red\"},{\"text\":\"\\u7684\\u968F\\u673A\\u6570\\u7EC4\\u3002\",\"color\":\"red\"}]\nexecute unless score @s ran_delta matches 1 run tag @s add ran_error\n#检查该数组的数量\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid if score @s ran_weight matches 1.. run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"weightid\\u4E3A \",\"color\":\"green\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_weightid\"},\"color\":\"green\"},{\"text\":\" \\u7684\\u968F\\u673A\\u6570\\u7EC4\\u7684\\u6743\\u91CD\\u4E3A\",\"color\":\"green\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_weight\"},\"color\":\"green\"}]\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid if score @s ran_weight matches ..0 run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"weightid\\u4E3A \",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_weightid\"},\"color\":\"red\"},{\"text\":\" \\u7684\\u968F\\u673A\\u6570\\u7EC4\\u7684\\u6743\\u91CD\\u4E3A\",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_weight\"},\"color\":\"red\"}]\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid if score @s ran_weight matches ..0 run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u9519\\u8BEF\\uFF1Aweight\\u5FC5\\u987B\\u5927\\u4E8E\\u6216\\u7B49\\u4E8E1\\u3002\",\"color\":\"red\"}]\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid if score @s ran_weight matches ..0 run tag @e[tag=ran_weighting,limit=1] add ran_error\n#检查该数组的权重\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid unless score @s ran_max matches -2147483648..2147483647 run tag @s add ran_error\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid unless score @s ran_max matches -2147483648..2147483647 run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u9519\\u8BEF\\uFF1A \",\"color\":\"red\"},{\"selector\":\"@s\",\"color\":\"reset\"},{\"text\":\" \\u5B9E\\u4F53\\u7F3A\\u5C11\\u5206\\u6570\\uFF1Aran_max\",\"color\":\"red\"}]\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid unless score @s ran_min matches -2147483648..2147483647 run tag @s add ran_error\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid unless score @s ran_min matches -2147483648..2147483647 run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u9519\\u8BEF\\uFF1A \",\"color\":\"red\"},{\"selector\":\"@s\",\"color\":\"reset\"},{\"text\":\" \\u5B9E\\u4F53\\u7F3A\\u5C11\\u5206\\u6570\\uFF1Aran_min\",\"color\":\"red\"}]\n#检查该数组是否存在ran_min与ran_max\n\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid if entity @s[tag=!ran_error] if score @s ran_max >= @s ran_min run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u8BE5\\u6570\\u7EC4\\u7684\\u5206\\u6570\\u72B6\\u51B5\\uFF1A\\nran_min:\",\"color\":\"green\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_min\"},\"color\":\"green\"},{\"text\":\"\\nran_max:\",\"color\":\"green\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_max\"},\"color\":\"green\"}]\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid if entity @s[tag=!ran_error] if score @s ran_max < @s ran_min run tellraw @a [{\"text\":\"[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u8BE5\\u6570\\u7EC4\\u7684\\u5206\\u6570\\u72B6\\u51B5\\uFF1A\\nran_min:\",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_min\"},\"color\":\"red\"},{\"text\":\"\\nran_max:\",\"color\":\"red\"},{\"score\":{\"name\":\"@s\",\"objective\":\"ran_max\"},\"color\":\"red\"},{\"text\":\"\\n[\\u968F\\u673A\\u6570\\u6A21\\u5757] \",\"color\":\"aqua\"},{\"text\":\"\\u9519\\u8BEF\\uFF1A\\u5B9E\\u4F53 \",\"color\":\"red\"},{\"selector\":\"@s\",\"color\":\"reset\"},{\"text\":\" \\u5206\\u6570\\u8BBE\\u7F6E\\u9519\\u8BEF\\uFF0C\\u8BF7\\u786E\\u4FDD\\u8BE5\\u5B9E\\u4F53\\u7684ran_max\\u5927\\u4E8Eran_min\",\"color\":\"red\"}]\nexecute if score @s ran_delta matches 1 as @e[tag=ran_weight] if score @s ran_weightid = @e[tag=ran_weighting,limit=1] ran_weightid if entity @s[tag=!ran_error] if score @s ran_max < @s ran_min run tag @s add ran_error\n#检查该数组是的ran_min与ran_max的大小关系\n\nexecute as @e[tag=ran_weight] if score @s ran_weightid > @e[tag=ran_weighting,limit=1] ran_weightid run tag @s add ran_continue\nexecute if entity @e[tag=ran_continue] run scoreboard players add @s ran_weightid 1\nexecute if entity @e[tag=ran_continue] run function ran:inputfunction2\n#检查是否还有更多数组，并循环复制代码\n\n\n\n想说的话\n       其实如果能看懂我的这个方法的大体思路之后，或许就可以不使用我的模块，自制战利品表来生成随机数。自制战利品表可以通过掉落的概率很轻松地控制每个随机数的可能性大小。但我之所以要把这个作品放出来，也是想给大家提供一个新思路（因为暂未看到bbs内有借助战利品表做随机数的先例（至少我没发现））。这也是我的第一个作品吧，希望能得到大家的认可。不会用图床，图片只能用附件来上传了。\n\n原链接：[随机模块]一个借助战利品表生成随机数的模块 （现该模块已更名为随机数模块）\n下载地址：https://pan.baidu.com/s/16KkMV76-ikDwxxTuTCkLXA 提取码：q6iq\n此为作者自转\n\n\n",
    "replies": [
        {
            "author": "！！！~~~",
            "timestamp": 1555218840,
            "txt_content": "。。。"
        },
        {
            "author": "不笑君",
            "timestamp": 1562916840,
            "txt_content": "好东西.研究一下就是我的了"
        },
        {
            "author": "南京扛把子",
            "timestamp": 1562921460,
            "txt_content": "干货教程"
        },
        {
            "author": "ppk0009",
            "timestamp": 1562938740,
            "txt_content": "啊哈哈哈哈学到了！"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1562942640,
            "txt_content": "set_damage可以，但是没必要。用set_attribute可以设置浮点数的范围内的随机数，比整数肯定更好使，不用做进制转换。\n"
        },
        {
            "author": "旧梦迷恋",
            "timestamp": 1562946300,
            "txt_content": "自己动手丰衣足食"
        },
        {
            "author": "油条星人",
            "timestamp": 1562955180,
            "txt_content": "大神就是大神，大神的世界我们永远不懂"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1563095520,
            "txt_content": "ruhuasiyu 发表于 2019-7-12 22:44\nset_damage可以，但是没必要。用set_attribute可以设置浮点数的范围内的随机数，比整数肯定更好使，不用做 ...\n目前深入研究cb一年左右，对一些东西了解的还不是太多。不过感谢大佬指教，确实没想到这个时候float数据能起到这种作用\n话说这是几个月之前的帖子，当时没人回复，要不是最近莫名其妙被挖出来，我都忘了发过这个帖子了"
        },
        {
            "author": "qsc125478",
            "timestamp": 1563782820,
            "txt_content": "6666666666666666666666666"
        }
    ]
}