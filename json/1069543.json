{
    "title": "AdvancedAchievements 启动报错",
    "author": "幽冥冥灬",
    "replyCount": 3,
    "timestamp": 1593384240,
    "txt_content": " 本帖最后由 幽冥冥灬 于 2020-6-29 06:45 编辑 \n[06:42:42] [Server thread/INFO]: [AdvancedAchievements] Enabling AdvancedAchievements v5.13.1\n[06:42:43] [Server thread/INFO]: [AdvancedAchievements] Loading and backing up configuration files...\n[06:42:43] [Server thread/WARN]: [AdvancedAchievements] Overriding configuration: disabling PetMasterGive and PetMasterReceive categories.\n[06:42:43] [Server thread/WARN]: [AdvancedAchievements] Ensure you have placed Pet Master with a minimum version of 1.4 in your plugins folder or add PetMasterGive and PetMasterReceive to the DisabledCategories list in config.yml.\n[06:42:43] [Server thread/WARN]: [AdvancedAchievements] Overriding configuration: disabling RaidsWon category.\n[06:42:43] [Server thread/WARN]: [AdvancedAchievements] Raids are not available in your server version, please add RaidsWon to the DisabledCategories list in config.yml.\n[06:42:43] [Server thread/WARN]: [AdvancedAchievements] Overriding configuration: disabling Riptides category.\n[06:42:43] [Server thread/WARN]: [AdvancedAchievements] Riptides are not available in your server version, please add Riptides to the DisabledCategories list in config.yml.\n[06:42:43] [Server thread/INFO]: [AdvancedAchievements] Loaded 235 achievements in 44 categories.\n[06:42:43] [Server thread/INFO]: [AdvancedAchievements] 6 disabled categories: [Commands, RaidsWon, PetMasterReceive, PetMasterGive, Riptides, PlayerCommands]\n[06:42:43] [Server thread/INFO]: [AdvancedAchievements] Registering event listeners...\n[06:42:43] [Server thread/INFO]: [AdvancedAchievements] Initialising database...\n[06:42:44] [Server thread/ERROR]: [AdvancedAchievements] Error while attempting to retrieve a connection to the database:\norg.h2.jdbc.JdbcSQLNonTransientException: General error: \"java.lang.IllegalStateException: Unable to read the page at position 138104158007737865 [1.4.200/6]\" [50000-200]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:505) ~[?:?]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[?:?]\n        at org.h2.message.DbException.get(DbException.java:194) ~[?:?]\n        at org.h2.message.DbException.convert(DbException.java:347) ~[?:?]\n        at org.h2.engine.Database.openDatabase(Database.java:333) ~[?:?]\n        at org.h2.engine.Database.<init>(Database.java:301) ~[?:?]\n        at org.h2.engine.Engine.openSession(Engine.java:74) ~[?:?]\n        at org.h2.engine.Engine.openSession(Engine.java:192) ~[?:?]\n        at org.h2.engine.Engine.createSessionAndValidate(Engine.java:171) ~[?:?]\n        at org.h2.engine.Engine.createSession(Engine.java:166) ~[?:?]\n        at org.h2.engine.Engine.createSession(Engine.java:29) ~[?:?]\n        at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:340) ~[?:?]\n        at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:173) ~[?:?]\n        at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:152) ~[?:?]\n        at org.h2.Driver.connect(Driver.java:69) ~[?:?]\n        at java.sql.DriverManager.getConnection(Unknown Source) ~[?:1.8.0_241]\n        at java.sql.DriverManager.getConnection(Unknown Source) ~[?:1.8.0_241]\n        at com.hm.achievement.db.AbstractFileDatabaseManager.createSQLConnection(AbstractFileDatabaseManager.java:70) ~[?:?]\n        at com.hm.achievement.db.AbstractDatabaseManager.getSQLConnection(AbstractDatabaseManager.java:161) ~[?:?]\n        at com.hm.achievement.db.AbstractDatabaseManager.initialise(AbstractDatabaseManager.java:103) ~[?:?]\n        at com.hm.achievement.lifecycle.PluginLoader.loadAdvancedAchievements(PluginLoader.java:141) ~[?:?]\n        at com.hm.achievement.AdvancedAchievements.onEnable(AdvancedAchievements.java:50) ~[?:?]\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:316) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:405) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:395) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:344) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.t(MinecraftServer.java:442) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.l(MinecraftServer.java:403) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.a(MinecraftServer.java:341) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:289) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:616) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\nCaused by: java.lang.IllegalStateException: Unable to read the page at position 138104158007737865 [1.4.200/6]\n        at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:950) ~[?:?]\n        at org.h2.mvstore.MVStore.readPage(MVStore.java:2213) ~[?:?]\n        at org.h2.mvstore.MVMap.readPage(MVMap.java:672) ~[?:?]\n        at org.h2.mvstore.MVMap.readOrCreateRootPage(MVMap.java:688) ~[?:?]\n        at org.h2.mvstore.MVMap.setRootPos(MVMap.java:682) ~[?:?]\n        at org.h2.mvstore.MVStore.openMap(MVStore.java:576) ~[?:?]\n        at org.h2.mvstore.MVStore.openMap(MVStore.java:535) ~[?:?]\n        at org.h2.mvstore.MVStore.openMap(MVStore.java:516) ~[?:?]\n        at org.h2.mvstore.MVStore.removeMap(MVStore.java:2742) ~[?:?]\n        at org.h2.engine.Database.handleUpgradeIssues(Database.java:866) ~[?:?]\n        at org.h2.engine.Database.open(Database.java:742) ~[?:?]\n        at org.h2.engine.Database.openDatabase(Database.java:307) ~[?:?]\n        ... 28 more\nCaused by: java.lang.IllegalStateException: Unsupported type 17 [1.4.200/3]\n        at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:950) ~[?:?]\n        at org.h2.mvstore.type.ObjectDataType.newType(ObjectDataType.java:165) ~[?:?]\n        at org.h2.mvstore.type.ObjectDataType.read(ObjectDataType.java:229) ~[?:?]\n        at org.h2.mvstore.type.ObjectDataType.read(ObjectDataType.java:114) ~[?:?]\n        at org.h2.mvstore.Page.read(Page.java:605) ~[?:?]\n\n        at org.h2.mvstore.Page.read(Page.java:239) ~[?:?]\n\n        at org.h2.mvstore.MVStore.readPage(MVStore.java:2211) ~[?:?]\n\n        at org.h2.mvstore.MVMap.readPage(MVMap.java:672) ~[?:?]\n\n        at org.h2.mvstore.MVMap.readOrCreateRootPage(MVMap.java:688) ~[?:?]\n\n        at org.h2.mvstore.MVMap.setRootPos(MVMap.java:682) ~[?:?]\n\n        at org.h2.mvstore.MVStore.openMap(MVStore.java:576) ~[?:?]\n\n        at org.h2.mvstore.MVStore.openMap(MVStore.java:535) ~[?:?]\n\n        at org.h2.mvstore.MVStore.openMap(MVStore.java:516) ~[?:?]\n\n        at org.h2.mvstore.MVStore.removeMap(MVStore.java:2742) ~[?:?]\n\n        at org.h2.engine.Database.handleUpgradeIssues(Database.java:866) ~[?:?]\n\n        at org.h2.engine.Database.open(Database.java:742) ~[?:?]\n\n        at org.h2.engine.Database.openDatabase(Database.java:307) ~[?:?]\n\n        ... 28 more\n\n[06:42:44] [Server thread/ERROR]: [AdvancedAchievements] A non recoverable error was encountered while loading the plugin, disabling it:\n\ncom.hm.achievement.exception.PluginLoadError: Failed to establish database connection. Please verify your settings in config.yml.\n\n        at com.hm.achievement.db.AbstractDatabaseManager.initialise(AbstractDatabaseManager.java:106) ~[?:?]\n\n        at com.hm.achievement.lifecycle.PluginLoader.loadAdvancedAchievements(PluginLoader.java:141) ~[?:?]\n\n        at com.hm.achievement.AdvancedAchievements.onEnable(AdvancedAchievements.java:50) ~[?:?]\n\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:316) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:405) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:395) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:344) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at net.minecraft.server.v1_12_R1.MinecraftServer.t(MinecraftServer.java:442) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at net.minecraft.server.v1_12_R1.MinecraftServer.l(MinecraftServer.java:403) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at net.minecraft.server.v1_12_R1.MinecraftServer.a(MinecraftServer.java:341) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:289) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:616) ~[PaperSpigot-1.12.2.jar:git-Paper-1618]\n\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\n\n[06:42:44] [Server thread/INFO]: [AdvancedAchievements] Disabling AdvancedAchievements v5.13.1\n\n[06:42:44] [Server thread/INFO]: [AdvancedAchievements] Remaining requests sent to the database, plugin successfully disabled.复制代码",
    "replies": [
        {
            "author": "天辉胡萝卜",
            "timestamp": 1593385680,
            "txt_content": "h2数据库格式错误\n将插件配置目录中的achievements.db和achievements.mv.db移到别处"
        },
        {
            "author": "幽冥冥灬",
            "timestamp": 1593421380,
            "txt_content": "疾风暗影 发表于 2020-6-29 07:08\nh2数据库格式错误\n将插件配置目录中的achievements.db和achievements.mv.db移到别处\n然后重新生成？\n以及玩家成就数据有办法保留吗"
        },
        {
            "author": "幽冥冥灬",
            "timestamp": 1593559860,
            "txt_content": "已自行解决。\n\n我服务器装有 FurnitureLib，之前卸载后出现该问题，重新装回去后恢复正常。\n\n（所以... 这俩插件有什么关联）"
        }
    ]
}