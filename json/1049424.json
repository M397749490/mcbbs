{
    "title": "你们服务器怎么写自动重启的",
    "author": "这里小雨.",
    "replyCount": 23,
    "timestamp": 1589901420,
    "txt_content": "我应该是写崩溃自动重启最草率的吧c语言写的\n\n\n#include <studio.h>\n#include <stdlib.h>\n\nint main{\n    for(;;){\n        java -jar 各种参数 核心名.jar;\n}\n    return 0;\n}\n\n最后放到linux里gcc一下\n\n./start\n\n结束了，我就可以睡觉去了\n拜拜",
    "replies": [
        {
            "author": "深拥v",
            "timestamp": 1589901480,
            "txt_content": "直接写了个插件。。自动执行restart指令。。。"
        },
        {
            "author": "-xiao_kai-",
            "timestamp": 1589901540,
            "txt_content": "用的插件"
        },
        {
            "author": "晴天娃娃_",
            "timestamp": 1589901660,
            "txt_content": "。？这东西直接关闭进程的吧，不会造成数据丢失吗？"
        },
        {
            "author": "mohui666",
            "timestamp": 1589901720,
            "txt_content": "这也太短了"
        },
        {
            "author": "这里小雨.",
            "timestamp": 1589901720,
            "txt_content": "晴天娃娃_ 发表于 2020-5-19 23:21\n。？这东西直接关闭进程的吧，不会造成数据丢失吗？\n这个for是让服务器无限重启的\n服务器一关他就会重启\n和丢数据没关系吧"
        },
        {
            "author": "晴天娃娃_",
            "timestamp": 1589901780,
            "txt_content": "LaoguaB 发表于 2020-5-19 23:22\n这个for是让服务器无限重启的\n服务器一关他就会重启\n和丢数据没关系吧\n。？不是，你这样不会让电脑直接炸掉吗？进程直接关闭会有数据没保存的"
        },
        {
            "author": "RINNDA",
            "timestamp": 1589901840,
            "txt_content": "c语言可以直接这样吗 woc"
        },
        {
            "author": "这里小雨.",
            "timestamp": 1589901900,
            "txt_content": "晴天娃娃_ 发表于 2020-5-19 23:23\n。？不是，你这样不会让电脑直接炸掉吗？进程直接关闭会有数据没保存的 ...\n？没关进程啊\nfor是让进程无限重复运行啊"
        },
        {
            "author": "晴天娃娃_",
            "timestamp": 1589901960,
            "txt_content": "LaoguaB 发表于 2020-5-19 23:25\n？没关进程啊\nfor是让进程无限重复运行啊\n我的意思就是宕机，你这个一直循环我感觉电脑会爆炸的"
        },
        {
            "author": "熊猫黑小白",
            "timestamp": 1589902020,
            "txt_content": " 本帖最后由 熊猫黑小白 于 2020-5-19 23:28 编辑 \n@echo OFF\n:start\n        java -Xms8G -Xmx8G -Xincgc -XX:+AggressiveOpts -XX:+UseCompressedOops -jar spigot-1.15.2.jar nogui\ngoto start复制代码"
        },
        {
            "author": "这里小雨.",
            "timestamp": 1589902080,
            "txt_content": "晴天娃娃_ 发表于 2020-5-19 23:26\n我的意思就是宕机，你这个一直循环我感觉电脑会爆炸的\n不会的\njava命令让服务器开了\n等stop了for才会继续执行"
        },
        {
            "author": "金木年华",
            "timestamp": 1589902140,
            "txt_content": "只要能释放内存就行"
        },
        {
            "author": "这里小雨.",
            "timestamp": 1589902140,
            "txt_content": "mohui666 发表于 2020-5-19 23:22\n这也太短了\n我就是短\n懒就完了"
        },
        {
            "author": "这里小雨.",
            "timestamp": 1589902200,
            "txt_content": "熊猫黑小白 发表于 2020-5-19 23:27\n最大444mb了解一下"
        },
        {
            "author": "熊猫黑小白",
            "timestamp": 1589902620,
            "txt_content": "LaoguaB 发表于 2020-5-19 23:30\n最大444mb了解一下\n没有，我就发给你参考一下"
        },
        {
            "author": "Daleynf",
            "timestamp": 1589902680,
            "txt_content": "用插件重启的，倒是自己写了个崩溃自动重启"
        },
        {
            "author": "晴天娃娃_",
            "timestamp": 1589903340,
            "txt_content": " 本帖最后由 晴天娃娃_ 于 2020-5-19 23:52 编辑 \n\n话说你是怎么做到直接在c里运行java的。反正我知道c++不可以这么做。我甚至没能看出来你这是用c还是c++写的"
        },
        {
            "author": "快乐小方",
            "timestamp": 1589903400,
            "txt_content": " 本帖最后由 快乐小方 于 2020-5-19 23:51 编辑 \n\n\n\n\n @echo off\n set n=0\n :start\n title 第 %n% 次重启\n if %n%==5 goto stop\n java -server -Xincgc -Xmx2G -Xms512M -Xss512K -XX:+AggressiveOpts -XX:+UseCompressedOops -XX:+UseCMSCompactAtFullCollection -XX:+UseFastAccessorMethods -XX:ParallelGCThreads=4 -XX:+UseConcMarkSweepGC -XX:CMSFullGCsBeforeCompaction=2 -XX:CMSInitiatingOccupancyFraction=70 -XX:-DisableExplicitGC -XX:TargetSurvivorRatio=90 -jar spigot1.12.2.jar\n set /a n=n+1\n goto start\n\n :stop\n pause\n复制代码\n"
        },
        {
            "author": "玉溪梦华",
            "timestamp": 1589903400,
            "txt_content": "不会写，靠别人的"
        },
        {
            "author": "1378495772",
            "timestamp": 1589904660,
            "txt_content": "[url=home.php?mod=space&uid=39305]@echo[/url] off\nset ram=2048\nset restart=0\n:restart\ncls\ntitle [3000] 1.12.2 Test @ 重启次数 %restart%\n:java -Xmx%ram%M -XX:+UseConcMarkSweepGC -XX:+AggressiveOpts -XX:+UseCompressedOops -javaagent:../authlib-injector-1.1.18-daa6fb4.jar=https://skin.oa.com/api/yggdrasil -jar paper.jar\njava -Xmx%ram%M -XX:+UseConcMarkSweepGC -XX:+AggressiveOpts -XX:+UseCompressedOops -jar spigot-1.12.2.jar\nset /a restart+=1\npause\ngoto restart复制代码\n"
        },
        {
            "author": "huangzihai0",
            "timestamp": 1589907180,
            "txt_content": "用一个定时关闭插件，再加一个关闭后自动重启的指令"
        },
        {
            "author": "Dana_Iclucia",
            "timestamp": 1589939100,
            "txt_content": "我的自动重启：\nscreen -dr mc -X stuff \"say 服务器将在30S后例行重启！\\n\"\nsleep 30\nscreen -dr mc -X stuff \"stop\\n\"\nsleep 50\nscreen -dmS mc java -Xms1G -Xmx1450M -javaagent:/home/minecraft/authlib-injector.jar=https://mcskin.littleservice.cn/api/yggdrasil -XX:+AggressiveOpts -jar /home/minecraft/server.jar\n至于崩溃重启，我们服务器用paper端崩服会自动重开。。。"
        },
        {
            "author": "这里小雨.",
            "timestamp": 1589984640,
            "txt_content": "晴天娃娃_ 发表于 2020-5-19 23:49\n话说你是怎么做到直接在c里运行java的。反正我知道c++不可以这么做。我甚至没能看出来你这是用c还是c++ ...\n**了\n漏了system了\n抱歉抱歉"
        }
    ]
}