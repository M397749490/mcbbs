{
    "title": "[不定期更新] Minecraft 1.11.2 Mod开发教程",
    "author": "2398003522",
    "replyCount": 5,
    "timestamp": 1497075000,
    "txt_content": " 本帖最后由 2398003522 于 2017-6-29 15:56 编辑 \n\nMinecraft 1.11.2 Mod开发教程（注：本帖不定期更新）我给大家带来的是 Minecraft 1.11.2 的 Mod开发教程。原因（可以跳过 →_→，就只是废话）看了版主大大 ustc_zzzz 的 Minecraft FML 1.8.9 Mod开发教程，自己动手试了下 1.11.2 的开发，发现有不同之处，编译不通过，又看见本版好像没有 1.11.2 的教程，就想发个帖。（其中的一些资源来自 ustc_zzzz 的 Minecraft FML 1.8.9 Mod开发教程 ，并稍有修改，在此感谢版主大大）\n（注：本帖代码都参考自 MCreator）\n废话不多说，目录：1：开发前准备1、一台电脑，还有人脑（两“脑”合作）2、学习 Java 语言（因为 Minecraft 是 Java 开发的）3、下载 Mdk Minecraft Forge 官网 截图：\n\n\n\n\nMinecraft Forge官网.png (35.82 KB, 下载次数: 0)\n\n下载附件\n\nMinecraft Forge官网\n2017-6-10 13:24 上传\n\n\n\n\n4、解压 Mdk ，我是解压到 D:\\Mods 文件夹中（建议用英文命名，因为用中文可能出错）。解压后图片\n\n\n\n\n解压后.png (104.16 KB, 下载次数: 0)\n\n下载附件\n\n2017-6-10 13:32 上传\n\n\n\n\n5、打命令提示符，先输入 D: 进入D盘，再输入 cd Mods 进入 Mods 文件夹，如图\n\n\n\n\n命令提示符1.png (17.26 KB, 下载次数: 0)\n\n下载附件\n\n2017-6-10 13:39 上传\n\n\n\n\n\n6、接着在命令提示符中输入 gradlew.bat setupDecompWorkspace ，然后耐心等待（这是在安装环境），直至出现 BUILD SUCCESSFUL ，这就表明安装好了。（若安装失败，请重新安装，因为国外资源下载很慢，有时会失败）7、然后在命令提示符中输入 gradlew.bat eclipse ，然后耐心等待（这是在安装 eclipse 的工作目录），直至出现 BUILD SUCCESSFUL ，这就表明安装好了。（若安装失败，请重新安装，因为国外资源下载很慢，有时会失败）8、到 eclipse官网 上下载 Eclipse IDE for Java Developers 并安装（因为是国外网站，所以网速比较慢）。9、安装完 eclipse ，打开，把工作空间设定为 D:\\Mods\\eclipse ，如图\n\n\n\n\nEclipse1.png (21.94 KB, 下载次数: 0)\n\n下载附件\n\n2017-6-10 14:05 上传\n\n\n\n\n。打开后，应该是这样的\n\n\n\n\nEclipse2.png (69.79 KB, 下载次数: 0)\n\n下载附件\n\n2017-6-10 14:07 上传\n\n\n\n\n，然后第一部分完成。\n2：前期配置展开 MDKExample ，再展开 src/main/java ，会看见一个包叫 com.example.examplemod ，这个是自带的例子mod，把它删掉即可。然后双击 build.gradle 。打开后看到里面有很多代码，找到这三行：version = \"1.0\"\ngroup = \"com.yourname.modid\"\narchivesBaseName = \"modid\"复制代码其中 version 是mod的版本，这里因为是教程，就不管了。group 就是组，后面的值改成 \"com.xiao___sun.fmltutor\" 。archivesBaseName 是基本名称，后面的值就改成 \"fmltutor\" 就行。最终这三行应是：version = \"1.0\"\ngroup = \"com.xiao___sun.fmltutor\"\narchivesBaseName = \"fmltutor\"复制代码 然后第二部分完成\n3：建立主类等基础鼠标右击 src/main/java ，新建 -> 包，在 名称 中输入 com.xiao___sun.fmltutor ，点击 完成 按钮。鼠标右击 com.xiao___sun.fmltutor ，新建 -> 类，在 名称 中输入 FMLTutor ，点击 完成 按钮。然后界面应该是这样的：\n\n\n\n\n\nEclipse3.png (117.54 KB, 下载次数: 2)\n\n下载附件\n\n2017-6-29 11:45 上传\n\n\n\n\n\n然后将下面的代码复制进去package com.xiao___sun.fmltutor;\n\nimport net.minecraftforge.fml.relauncher.Side;\nimport net.minecraftforge.fml.common.registry.GameRegistry;\nimport net.minecraftforge.fml.common.network.NetworkRegistry;\nimport net.minecraftforge.fml.common.network.IGuiHandler;\nimport net.minecraftforge.fml.common.event.FMLServerStartingEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.SidedProxy;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.Instance;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.IWorldGenerator;\nimport net.minecraftforge.fml.common.IFuelHandler;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.client.model.obj.OBJLoader;\n\nimport net.minecraft.world.chunk.IChunkProvider;\nimport net.minecraft.world.chunk.IChunkGenerator;\nimport net.minecraft.world.World;\nimport net.minecraft.item.ItemStack;\nimport net.minecraft.entity.player.EntityPlayer;\n\nimport java.util.Random;\n\n@Mod(modid = FMLTutor.MODID, version = FMLTutor.VERSION)\npublic class FMLTutor implements IFuelHandler, IWorldGenerator {\n\n        public static final String MODID = \"fmltutor\";\n        public static final String VERSION = \"1.0.0\";\n\n        @SidedProxy(clientSide = \"com.xiao___sun.fmltutor.ClientProxy\", serverSide = \"com.xiao___sun.fmltutor.CommonProxy\")\n        public static CommonProxy proxy;\n\n        @Instance(MODID)\n        public static FMLTutor instance;\n\n        @Override\n        public int getBurnTime(ItemStack fuel) {\n                return 0;\n        }\n\n        @Override\n        public void generate(Random random, int chunkX, int chunkZ, World world, IChunkGenerator chunkGenerator, IChunkProvider chunkProvider) {\n\n                chunkX = chunkX * 16;\n                chunkZ = chunkZ * 16;\n\n        }\n\n        @EventHandler\n        public void load(FMLInitializationEvent event) {\n\n                GameRegistry.registerFuelHandler(this);\n                GameRegistry.registerWorldGenerator(this, 1);\n                if (event.getSide() == Side.CLIENT) {\n                        OBJLoader.INSTANCE.addDomain(\"\");\n                }\n                MinecraftForge.EVENT_BUS.register(new GlobalEvents());\n                NetworkRegistry.INSTANCE.registerGuiHandler(this, new GuiHandler());\n                proxy.registerRenderers(this);\n\n        }\n\n        @EventHandler\n        public void serverLoad(FMLServerStartingEvent event) {\n        }\n\n        @EventHandler\n        public void preInit(FMLPreInitializationEvent event) {\n\n        }\n\n        public static class GuiHandler implements IGuiHandler {\n                @Override\n                public Object getServerGuiElement(int id, EntityPlayer player, World world, int x, int y, int z) {\n                        return null;\n                }\n\n                @Override\n                public Object getClientGuiElement(int id, EntityPlayer player, World world, int x, int y, int z) {\n                        return null;\n                }\n        }\n\n}复制代码然后会提示一些问题，不过不用担心，接下来的步骤会解决的。\n新建一个类 CommonProxy ，代码：\npackage com.xiao___sun.fmltutor;\n\npublic class CommonProxy {\n        public void registerRenderers(FMLTutor ins) {\n        }\n}\n复制代码新建一个类 ClientProxy 并继承 CommonProxy 类，代码\npackage com.xiao___sun.fmltutor;\n\npublic class ClientProxy extends CommonProxy {\n\n        @Override\n        public void registerRenderers(FMLTutor ins) {\n\n        }\n}\n复制代码接着新建类 GlobalEvents ，代码\npackage com.xiao___sun.fmltutor;\n\npublic class GlobalEvents {\n\n}\n复制代码如果 FMLTutor.java 中的问题解决了，那么恭喜您第三部分完成了，下面就可以开始创作mod了。此时的 Eclipse 应该是这样的：\n\n\n\n\n\nEclipse4.png (176.91 KB, 下载次数: 1)\n\n下载附件\n\n2017-6-29 12:21 上传\n\n\n\n\n\n4：第一个物品终于到了最令人期盼的一步了——第一个物品，我相信各位已经期待已久了~\n先在 com.xiao___sun.fmltutor 中新建类 GoldenEgg 。没错就是金蛋。代码：package com.xiao___sun.fmltutor;\n\nimport net.minecraftforge.fml.relauncher.Side;\nimport net.minecraftforge.fml.common.registry.GameRegistry;\nimport net.minecraftforge.fml.common.event.FMLServerStartingEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\n\nimport net.minecraft.world.World;\nimport net.minecraft.util.math.BlockPos;\nimport net.minecraft.util.EnumHand;\nimport net.minecraft.util.EnumFacing;\nimport net.minecraft.util.EnumActionResult;\nimport net.minecraft.util.ActionResult;\nimport net.minecraft.item.ItemStack;\nimport net.minecraft.item.Item;\nimport net.minecraft.init.Items;\nimport net.minecraft.entity.player.EntityPlayer;\nimport net.minecraft.creativetab.CreativeTabs;\nimport net.minecraft.client.renderer.block.model.ModelResourceLocation;\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.block.state.IBlockState;\nimport net.minecraft.block.Block;\n\nimport java.util.Random;\nimport java.util.List;\n\n@SuppressWarnings(\"unchecked\")\npublic class GoldenEgg {\n\n        public GoldenEgg() {\n        }\n\n        public static Item item;\n        public static Object instance;\n\n        public void load(FMLInitializationEvent event) {\n                if (event.getSide() == Side.CLIENT)\n                        Minecraft.getMinecraft().getRenderItem().getItemModelMesher()\n                                        .register(item, 0, new ModelResourceLocation(\"fmltutor:goldenegg\", \"inventory\"));\n\n                GameRegistry.addRecipe(\n                                new ItemStack(item, 1),\n                                new Object[]{\"012\", \"345\", \"678\", Character.valueOf('0'), Items.GOLD_NUGGET, Character.valueOf('1'), Items.GOLD_NUGGET,\n                                                Character.valueOf('2'), Items.GOLD_NUGGET, Character.valueOf('3'), Items.GOLD_NUGGET, Character.valueOf('4'), Items.EGG,\n                                                Character.valueOf('5'), Items.GOLD_NUGGET, Character.valueOf('6'), Items.GOLD_NUGGET, Character.valueOf('7'),\n                                                Items.GOLD_NUGGET, Character.valueOf('8'), Items.GOLD_NUGGET,});\n        }\n\n        public void generateNether(World world, Random random, int chunkX, int chunkZ) {\n        }\n\n        public void generateSurface(World world, Random random, int chunkX, int chunkZ) {\n        }\n\n        public int addFuel(ItemStack fuel) {\n                return 0;\n        }\n\n        public void serverLoad(FMLServerStartingEvent event) {\n        }\n\n        public void preInit(FMLPreInitializationEvent event) {\n        }\n\n        public void registerRenderers() {\n        }\n\n        static {\n                item = (new ItemGoldenEgg());\n\n        }\n\n        static class ItemGoldenEgg extends Item {\n\n                public ItemGoldenEgg() {\n                        setMaxDamage(0);\n                        maxStackSize = 16;\n                        setUnlocalizedName(\"GoldenEgg\");\n                        setRegistryName(\"GoldenEgg\");\n                        GameRegistry.register(this);\n                        setCreativeTab(CreativeTabs.MATERIALS);\n                }\n\n                @Override\n                public int getItemEnchantability() {\n                        return 0;\n                }\n\n                @Override\n                public int getMaxItemUseDuration(ItemStack par1ItemStack) {\n                        return 0;\n                }\n\n                @Override\n                public float getStrVsBlock(ItemStack par1ItemStack, IBlockState par2Block) {\n                        return 1.0F;\n                }\n\n                @Override\n                public void addInformation(ItemStack par1ItemStack, EntityPlayer par2EntityPlayer, List list, boolean par4) {\n                        list.add(\"It's an golden egg.\");\n                }\n\n        }\n}复制代码>代码部分解析：在 load 中有if (event.getSide() == Side.CLIENT)\n    Minecraft.getMinecraft().getRenderItem().getItemModelMesher()\n        .register(item, 0, new ModelResourceLocation(\"fmltutor:GoldenEgg\", \"inventory\"));复制代码这是注册物品，在客户端中注册一个标识名为 fmltutor:GoldenEgg 的物品，就是我所说的金蛋。\nGameRegistry.addRecipe(\n    new ItemStack(item, 1),\n    new Object[]{\"012\", \"345\", \"678\", Character.valueOf('0'), Items.GOLD_NUGGET, Character.valueOf('1'), Items.GOLD_NUGGET,\n    Character.valueOf('2'), Items.GOLD_NUGGET, Character.valueOf('3'), Items.GOLD_NUGGET, Character.valueOf('4'), Items.EGG,\n    Character.valueOf('5'), Items.GOLD_NUGGET, Character.valueOf('6'), Items.GOLD_NUGGET, Character.valueOf('7'),\n    Items.GOLD_NUGGET, Character.valueOf('8'), Items.GOLD_NUGGET,});复制代码这是添加注册的物品的合成方式：中间一个鸡蛋，周围一圈（8个）金粒。\n在继承 Item 类的 ItemGoldenEgg 中有构造函数 ItemGoldenEgg ，代码是：public ItemGoldenEgg() {\n    setMaxDamage(0);\n    maxStackSize = 16;\n    setUnlocalizedName(\"GoldenEgg\");\n    setRegistryName(\"GoldenEgg\");\n    GameRegistry.register(this);\n    setCreativeTab(CreativeTabs.MATERIALS);\n}复制代码其中 setMaxDamage 是设置物品最大伤害； maxStackSize 是设置最大堆叠数量； setUnlocalizedName 和 setRegistryName 是设置游戏中物品ID名称，建议写一样，否则容易出错； GameRegistry.register(this); 就是注册物品； setCreativeTab 是设置物品在创造模式中的标签，这里是放在 材料 标签中。public void addInformation(ItemStack par1ItemStack, EntityPlayer par2EntityPlayer, List list, boolean par4) {\n    list.add(\"It's an golden egg.\");\n}复制代码这是设置物品在物品栏中显示的详细信息（以灰色表示），例如：\n\n\n\n\n详细信息.png (2.86 KB, 下载次数: 0)\n\n下载附件\n\n2017-6-29 13:12 上传\n\n\n\n\n\n\n这里是 \"It's an golden egg.\" 。\n现在写好了金蛋的类，还需要在主类中调用。主类 FMLTutor 修改后的代码：package com.xiao___sun.fmltutor;\n\nimport net.minecraftforge.fml.relauncher.Side;\nimport net.minecraftforge.fml.common.registry.GameRegistry;\nimport net.minecraftforge.fml.common.network.NetworkRegistry;\nimport net.minecraftforge.fml.common.network.IGuiHandler;\nimport net.minecraftforge.fml.common.event.FMLServerStartingEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.SidedProxy;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.Instance;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.IWorldGenerator;\nimport net.minecraftforge.fml.common.IFuelHandler;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.client.model.obj.OBJLoader;\n\nimport net.minecraft.world.chunk.IChunkProvider;\nimport net.minecraft.world.chunk.IChunkGenerator;\nimport net.minecraft.world.World;\nimport net.minecraft.item.ItemStack;\nimport net.minecraft.entity.player.EntityPlayer;\n\nimport java.util.Random;\n\n@Mod(modid = FMLTutor.MODID, version = FMLTutor.VERSION)\npublic class FMLTutor implements IFuelHandler, IWorldGenerator {\n\n        public static final String MODID = \"fmltutor\";\n        public static final String VERSION = \"1.0.0\";\n\n        @SidedProxy(clientSide = \"com.xiao___sun.fmltutor.ClientProxy\", serverSide = \"com.xiao___sun.fmltutor.CommonProxy\")\n        public static CommonProxy proxy;\n\n        @Instance(MODID)\n        public static FMLTutor instance;\n\n        GoldenEgg IGoldenEgg = new GoldenEgg();\n\n        @Override\n        public int getBurnTime(ItemStack fuel) {\n                if (IGoldenEgg.addFuel(fuel) != 0)\n                        return IGoldenEgg.addFuel(fuel);\n                return 0;\n        }\n\n        @Override\n        public void generate(Random random, int chunkX, int chunkZ, World world, IChunkGenerator chunkGenerator, IChunkProvider chunkProvider) {\n\n                chunkX = chunkX * 16;\n                chunkZ = chunkZ * 16;\n                if (world.provider.getDimension() == -1)\n                        IGoldenEgg.generateNether(world, random, chunkX, chunkZ);\n                if (world.provider.getDimension() == 0)\n                        IGoldenEgg.generateSurface(world, random, chunkX, chunkZ);\n\n        }\n\n        @EventHandler\n        public void load(FMLInitializationEvent event) {\n\n                GameRegistry.registerFuelHandler(this);\n                GameRegistry.registerWorldGenerator(this, 1);\n                if (event.getSide() == Side.CLIENT) {\n                        OBJLoader.INSTANCE.addDomain(\"fmltutor\");\n                }\n                MinecraftForge.EVENT_BUS.register(new GlobalEvents());\n                NetworkRegistry.INSTANCE.registerGuiHandler(this, new GuiHandler());\n                IGoldenEgg.load(event);\n                proxy.registerRenderers(this);\n\n        }\n\n        @EventHandler\n        public void serverLoad(FMLServerStartingEvent event) {\n                IGoldenEgg.serverLoad(event);\n        }\n\n        @EventHandler\n        public void preInit(FMLPreInitializationEvent event) {\n                IGoldenEgg.instance = this.instance;\n                IGoldenEgg.preInit(event);\n\n        }\n\n        public static class GuiHandler implements IGuiHandler {\n                @Override\n                public Object getServerGuiElement(int id, EntityPlayer player, World world, int x, int y, int z) {\n                        return null;\n                }\n\n                @Override\n                public Object getClientGuiElement(int id, EntityPlayer player, World world, int x, int y, int z) {\n                        return null;\n                }\n        }\n\n}复制代码再修改 ClientProxy 类：package com.xiao___sun.fmltutor;\n\npublic class ClientProxy extends CommonProxy {\n\n        @Override\n        public void registerRenderers(FMLTutor ins) {\n                ins.IGoldenEgg.registerRenderers();\n                \n        }\n}\n复制代码\n然后类是实现了，还需要材质。首先打开 D:\\Mods\\src\\main\\resources ，找到里面的 mcmod.info ，用记事本打开，修改成以下代码：[\n{\n  \"modid\": \"fmltutor\",\n  \"name\": \"FMLTutor\",\n  \"description\": \"FMLTutor mod.\",\n  \"version\": \"${version}\",\n  \"mcversion\": \"${mcversion}\",\n  \"url\": \"\",\n  \"updateUrl\": \"\",\n  \"authorList\": [\"xiao___sun\"],\n  \"credits\": \"xiao___sun\",\n  \"logoFile\": \"\",\n  \"screenshots\": [],\n  \"dependencies\": []\n}\n]\n复制代码接着下载该压缩文件：\n\n\n\nassets.rar\n(1.58 KB, 下载次数: 8)\n\n\n\n2017-6-29 15:11 上传\n点击文件名下载附件\n\n\n\n\n\n解压到 D:\\Mods\\src\\main\\resources 下面。此时，该目录下应该是这样的文件结构：resources\n├assets\n│└fmltutor\n│　├blockstates\n│　├lang\n│　│├en_US.lang\n│　│└zh_CN.lang\n│　├models\n│　│├block\n│　│└item\n│　│　└goldenegg.json\n│　├textures\n│　│├blocks\n│　│├items\n│　││└golden_egg.png\n│　│└models\n│　│　└armor\n│　└sounds.json\n└mcmod.info复制代码然后执行 /gradlew.bat runClient 即可组建、测试了。第四部分完成。效果示意图：\n\n\n\n\n2017-06-29_15.49.05.png (205.6 KB, 下载次数: 0)\n\n下载附件\n\n2017-6-29 15:49 上传\n\n\n\n\n\n\n\n\n\n\n2017-06-29_15.49.27.png (283.63 KB, 下载次数: 1)\n\n下载附件\n\n2017-6-29 15:49 上传\n\n\n\n\n\n\n\n\n\n\n2017-06-29_15.50.20.png (152.09 KB, 下载次数: 0)\n\n下载附件\n\n2017-6-29 15:49 上传\n\n\n\n\n\n（未完待更。。。）本帖如有错误，请指出，谢谢。\n打这么多字很不容易的，所以给下人气吧~谢谢！\n\n\n\n\n",
    "replies": [
        {
            "author": "堕落男",
            "timestamp": 1497964800,
            "txt_content": "十天后.............依旧坐等更新的我"
        },
        {
            "author": "2398003522",
            "timestamp": 1498647000,
            "txt_content": "堕落男 发表于 2017-6-20 21:20\n十天后.............依旧坐等更新的我\n抱歉，最近较忙请谅解"
        },
        {
            "author": "sjx",
            "timestamp": 1498654800,
            "txt_content": " 本帖最后由 sjx 于 2017-6-28 21:05 编辑 \n\n其实呢... Forge 已经更到 1.12 - 14.21.0.2382 了\n建议把第 8 步移到第 2 步后面因为有些人会在每次安装 mdk 之后重新安装一次 ide。"
        },
        {
            "author": "2398003522",
            "timestamp": 1498703640,
            "txt_content": "sjx 发表于 2017-6-28 21:00\n其实呢... Forge 已经更到 1.12 - 14.21.0.2382 了\n建议把第 8 步移到第 2 步后面因为有些人会在每次安 ...\nBeta版的Forge，不太稳定，会有BUG"
        },
        {
            "author": "User:guest",
            "timestamp": 1498827120,
            "txt_content": "代码方面还行。主要是不会加mod贴图"
        }
    ]
}