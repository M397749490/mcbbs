{
    "title": "RandomForge插件报错问题！求解!",
    "author": "98976431",
    "replyCount": 7,
    "timestamp": 1565934960,
    "txt_content": " 本帖最后由 98976431 于 2019-8-16 13:59 编辑 \n\n[14:04:36 ERROR]: null\norg.bukkit.command.CommandException: Unhandled exception executing command 'forg\ne' in plugin RandomForge v1.1.0\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:46) ~[RPG\n.jar:git-Spigot-7754231-94b0980]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:14\n1) ~[RPG.jar:git-Spigot-7754231-94b0980]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.dispatchCommand(CraftServ\ner.java:651) ~[RPG.jar:git-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.PlayerConnection.handleCommand(PlayerCo\nnnection.java:1392) [RPG.jar:git-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.PlayerConnection.a(PlayerConnection.jav\na:1227) [RPG.jar:git-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.PacketPlayInChat.a(PacketPlayInChat.jav\na:45) [RPG.jar:git-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.PacketPlayInChat.a(PacketPlayInChat.jav\na:1) [RPG.jar:git-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.PlayerConnectionUtils$1.run(SourceFile:\n13) [RPG.jar:git-Spigot-7754231-94b0980]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [\n?:1.8.0_66]\n        at java.util.concurrent.FutureTask.run(Unknown Source) [?:1.8.0_66]\n        at net.minecraft.server.v1_12_R1.SystemUtils.a(SourceFile:46) [RPG.jar:g\nit-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:\n748) [RPG.jar:git-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:\n406) [RPG.jar:git-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:\n679) [RPG.jar:git-Spigot-7754231-94b0980]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.jav\na:577) [RPG.jar:git-Spigot-7754231-94b0980]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_66]\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range:\n 11\n        at java.lang.String.charAt(Unknown Source) ~[?:1.8.0_66]\n        at com.willzcode.RandomForge.makeLevelReplacement(RandomForge.java:125)\n~[?:?]\n        at com.willzcode.RandomForge.onCommand(RandomForge.java:53) ~[?:?]\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:44) ~[RPG\n.jar:git-Spigot-7754231-94b0980]\n        ... 15 more",
    "replies": [
        {
            "author": "a1294790523",
            "timestamp": 1565934960,
            "txt_content": "98976431 发表于 2019-8-16 18:40\nversion: 110\noptions:\n  global-unbreakable: false\nstrength-color: '8fa956c4'\n请将这个东西的个数设置为10\n因为原作者并没有上协议，我并不能进行修复\n这个东西如果大了或者小了都会引起问题\n（备注，Java在int运算中是截断小数部分的，所以这里的运算结果会将小数截断：https://stackoverflow.com/questi ... the-result-of-1-3-0）\n颜色代码取值区间为[0,100/这个东西的个数）\n这里你设置为8，区间为[0,12)，超出了随机的个数，出现你这样的问题\n如果设置为11，区间为[0,9)，又随机不到后面的颜色代码"
        },
        {
            "author": "skyliye",
            "timestamp": 1565935140,
            "txt_content": "根据你给出的报错，可能是配置文件忘记转码，格式错误，或是插件版本不支持你服务端导致的。\n\n首先可尝试转码配置文件，仍然报错的话考虑升级/降级插件"
        },
        {
            "author": "98976431",
            "timestamp": 1565935260,
            "txt_content": "skyliye 发表于 2019-8-16 13:59\n根据你给出的报错，可能是配置文件忘记转码，格式错误，或是插件版本不支持你服务端导致的。\n\n首先可尝试转 ...\n转码我转了,Randomforge支持spigot哇！"
        },
        {
            "author": "a1294790523",
            "timestamp": 1565940960,
            "txt_content": "从堆栈的方法看来是做替换的时候StringIndexOutOfBounds了\n然而作者已经退圈了。。。。\nhttps://www.mcbbs.net/thread-792279-1-1.html\n最重要的话\n已退圈，勿扰\n请前往 这里 下载源代码复制代码\n源代码来看的话，通过反编译的定位，应该是\nhttps://github.com/cnwillz/Rando ... ndomForge.java#L140这行\n查看了一下生成的过程，应该是没有考虑到随机的index到超出颜色String的情况\n能给出你的配置文件吗？\n"
        },
        {
            "author": "98976431",
            "timestamp": 1565952000,
            "txt_content": "a1294790523 发表于 2019-8-16 15:36\n从堆栈的方法看来是做替换的时候StringIndexOutOfBounds了\n然而作者已经退圈了。。。。\nhttps://www.mcbbs. ...\nversion: 110\noptions:\n  global-unbreakable: false\n  result-gui: true\n  strength-color: '8fa956c4'\nitems:\n  lbyxldj:\n    id: 267\n    data: 0\n    display: '§a练兵营训练短剑'\n    lores:\n    - ''\n    - '§f§l◆§e §8§l§m=====----§8§l[§f §a§l物品信息§8 §l]§m----=====§e §f§l◆'\n    - '§7品质§f: §a优良'\n    - '§7限制职业§f: §c<限制职业>'\n    - '§7限制等级§f: §c10'\n    - '§7耐久度§f: §c<耐久度>/500'\n    - '§7回收价格§f: §c<回收价格>'\n    - '§7物品类型§f: §c<物品类型>'\n    - '§f§l◆§e §8§l§m=====----§8§l[§f §a§l物品属性§8 §l]§m----=====§e §f§l◆'\n    - '§7攻击力§f: §c10-20'\n    - '§7暴击几率§f: §c3%'\n    - '§7暴击伤害§f: §c20%'\n    - '§f§l◆§e §8§l§m=====----§8§l[§f §a§l鉴定属性§8 §l]§m----=====§e §f§l◆'\n    - '§7攻击力§f: §c<攻击力1>-<攻击力2>'\n    - '§7暴击几率§f: §c<暴击几率>%'\n    - '§7暴击伤害§f: §c<暴击伤害>%'\n    - '§f§l◆§e §8§l§m=====----§8§l[§f §a§l物品介绍§8 §l]§m----=====§e §f§l◆'\n    - '§e练兵营中初级军士的标配武器'\n    - '§f§l◆§e §8§l§m=====----§8§l[§f §a§l物品镶嵌§8 §l]§m----=====§e §f§l◆'\n    - '§7符文镶嵌§f§l*> §8§l『§7无§8§l』'\n    - '<雕纹孔>'\n    - '§8§l< §7未镶嵌红宝石 §8§l>'\n    - '§f§l◆§e §8§l§m=====----§8§l[§f §a§l鉴定信息§8 §l]§m----=====§e §f§l◆'\n    - '§7鉴定品质§f:§c <等级>'\n    - '§7鉴定强度§f:§c §3[<strength>&3]'\n    - '§7鉴定玩家§f:§c <player>'\n    levels:\n      至臻:\n        weight: 3\n        等级:\n          type: fixed\n          value: '§4至臻'\n        暴击几率:\n          type: random\n          value1: 8\n          value2: 9\n        耐久度:\n          type: random\n          value1: 300\n          value2: 500\n        暴击伤害:\n          type: random\n          value1: 80\n          value2: 90\n        回收价格:\n          type: random\n          value1: 90\n          value2: 100\n        攻击力1:\n          type: strength\n          base: 80\n          add: 70\n        攻击力2:\n          type: strength\n          base: 100\n          add: 90\n        物品类型:\n          type: lores\n          value:\n          - 主武器\n          - 副武器\n        限制职业:\n          type: lores\n          value:\n          - 剑刀卫\n          - 牧师\n        雕纹孔:\n          type: lores\n          value:\n          - §3§l[§7§4<红雕纹>§3§l]§f无\n          - §7雕纹孔破损\n      远古:\n        weight: 8\n        等级:\n          type: fixed\n          value: '§c远古'\n        暴击几率:\n          type: random\n          value1: 7\n          value2: 8\n        耐久度:\n          type: random\n          value1: 300\n          value2: 500\n        暴击伤害:\n          type: random\n          value1: 70\n          value2: 80\n        回收价格:\n          type: random\n          value1: 80\n          value2: 90\n        攻击力1:\n          type: strength\n          base: 70\n          add: 60\n        攻击力2:\n          type: strength\n          base: 90\n          add: 80\n        物品类型:\n          type: lores\n          value:\n          - 主武器\n          - 副武器\n        限制职业:\n          type: lores\n          value:\n          - 剑刀卫\n          - 牧师\n        雕纹孔:\n          type: lores\n          value:\n          - §3§l[§7§4<红雕纹>§3§l]§f无\n          - §7雕纹孔破损\n      传说:\n        #概率权重，必须大于0\n        weight: 15\n        等级:\n          #数值类型，fixed固定内容, random随机整数(value1必须小于value2)，\n          #strength强度类型，lores随机文本，float随机小数(start必须小于bound)\n          type: fixed\n          value: '§6传说'\n        暴击几率:\n          type: random\n          value1: 6\n          value2: 7\n        耐久度:\n          type: random\n          value1: 300\n          value2: 500\n        暴击伤害:\n          type: random\n          value1: 60\n          value2: 70\n        回收价格:\n          type: random\n          value1: 70\n          value2: 80\n        攻击力1:\n          type: strength\n          base: 60\n          add: 50\n        攻击力2:\n          type: strength\n          base: 80\n          add: 70\n        物品类型:\n          type: lores\n          value:\n          - 主武器\n          - 副武器\n        限制职业:\n          type: lores\n          value:\n          - 剑刀卫\n          - 牧师\n        雕纹孔:\n          type: lores\n          value:\n          - §3§l[§7§4<红雕纹>§3§l]§f无\n          - §7雕纹孔破损\n      史诗:\n        #概率权重，必须大于0\n        weight: 30\n        等级:\n          #数值类型，fixed固定内容, random随机整数(value1必须小于value2)，\n          #strength强度类型，lores随机文本，float随机小数(start必须小于bound)\n          type: fixed\n          value: '§5史诗'\n        暴击几率:\n          type: random\n          value1: 5\n          value2: 6\n        耐久度:\n          type: random\n          value1: 300\n          value2: 500\n        暴击伤害:\n          type: random\n          value1: 50\n          value2: 60\n        回收价格:\n          type: random\n          value1: 60\n          value2: 70\n        攻击力1:\n          type: strength\n          base: 50\n          add: 40\n        攻击力2:\n          type: strength\n          base: 70\n          add: 60\n        物品类型:\n          type: lores\n          value:\n          - 主武器\n          - 副武器\n        限制职业:\n          type: lores\n          value:\n          - 剑刀卫\n          - 牧师\n        雕纹孔:\n          type: lores\n          value:\n          - §3§l[§7§4<红雕纹>§3§l]§f无\n          - §7雕纹孔破损\n      稀有:\n        #概率权重，必须大于0\n        weight: 40\n        等级:\n          #数值类型，fixed固定内容, random随机整数(value1必须小于value2)，\n          #strength强度类型，lores随机文本，float随机小数(start必须小于bound)\n          type: fixed\n          value: '§9稀有'\n        暴击几率:\n          type: random\n          value1: 4\n          value2: 5\n        耐久度:\n          type: random\n          value1: 300\n          value2: 500\n        暴击伤害:\n          type: random\n          value1: 40\n          value2: 50\n        回收价格:\n          type: random\n          value1: 50\n          value2: 60\n        攻击力1:\n          type: strength\n          base: 40\n          add: 30\n        攻击力2:\n          type: strength\n          base: 60\n          add: 50\n        物品类型:\n          type: lores\n          value:\n          - 主武器\n          - 副武器\n        限制职业:\n          type: lores\n          value:\n          - 剑刀卫\n          - 牧师\n        雕纹孔:\n          type: lores\n          value:\n          - §3§l[§7§4<红雕纹>§3§l]§f无\n          - §7雕纹孔破损\n      优良:\n        #概率权重，必须大于0\n        weight: 50\n        等级:\n          #数值类型，fixed固定内容, random随机整数(value1必须小于value2)，\n          #strength强度类型，lores随机文本，float随机小数(start必须小于bound)\n          type: fixed\n          value: '§a优良'\n        暴击几率:\n          type: random\n          value1: 3\n          value2: 4\n        耐久度:\n          type: random\n          value1: 300\n          value2: 500\n        暴击伤害:\n          type: random\n          value1: 30\n          value2: 40\n        回收价格:\n          type: random\n          value1: 40\n          value2: 50\n        攻击力1:\n          type: strength\n          base: 30\n          add: 20\n        攻击力2:\n          type: strength\n          base: 50\n          add: 40\n        物品类型:\n          type: lores\n          value:\n          - 主武器\n          - 副武器\n        限制职业:\n          type: lores\n          value:\n          - 剑刀卫\n          - 牧师\n        雕纹孔:\n          type: lores\n          value:\n          - §3§l[§7§4<红雕纹>§3§l]§f无\n          - §7雕纹孔破损\n      普通:\n        #概率权重，必须大于0\n        weight: 90\n        等级:\n          #数值类型，fixed固定内容, random随机整数(value1必须小于value2)，\n          #strength强度类型，lores随机文本，float随机小数(start必须小于bound)\n          type: fixed\n          value: '§f普通'\n        暴击几率:\n          type: random\n          value1: 2\n          value2: 3\n        耐久度:\n          type: random\n          value1: 300\n          value2: 500\n        暴击伤害:\n          type: random\n          value1: 20\n          value2: 30\n        回收价格:\n          type: random\n          value1: 30\n          value2: 40\n        攻击力1:\n          type: strength\n          base: 20\n          add: 10\n        攻击力2:\n          type: strength\n          base: 40\n          add: 30\n        物品类型:\n          type: lores\n          value:\n          - 主武器\n          - 副武器\n        限制职业:\n          type: lores\n          value:\n          - 剑刀卫\n          - 牧师\n        雕纹孔:\n          type: lores\n          value:\n          - §3§l[§7§4<红雕纹>§3§l]§f无\n          - §7雕纹孔破损\n      粗糙:\n        weight: 100\n        等级:\n          type: fixed\n          value: '§8粗糙'\n        暴击几率:\n          type: random\n          value1: 1\n          value2: 2\n        耐久度:\n          type: random\n          value1: 300\n          value2: 500\n        暴击伤害:\n          type: random\n          value1: 10\n          value2: 20\n        回收价格:\n          type: random\n          value1: 2\n          value2: 30\n        攻击力1:\n          type: strength\n          base: 10\n          add: 1\n        攻击力2:\n          type: strength\n          base: 30\n          add: 20\n        物品类型:\n          type: lores\n          value:\n          - 主武器\n          - 副武器\n        限制职业:\n          type: lores\n          value:\n          - 剑刀卫\n          - 牧师\n        雕纹孔:\n          type: lores\n          value:\n          - §3§l[§7§4<红雕纹>§3§l]§f无\n          - §7雕纹孔破损"
        },
        {
            "author": "98976431",
            "timestamp": 1566004080,
            "txt_content": "a1294790523 发表于 2019-8-16 22:15\nstrength-color: '8fa956c4'\n请将这个东西的个数设置为10\n因为原作者并没有上协议，我并不能进行修复\n啊...不用了....我看了看别人的配置.data那里需要改成fujia"
        },
        {
            "author": "a1294790523",
            "timestamp": 1566015180,
            "txt_content": "98976431 发表于 2019-8-17 09:08\n啊...不用了....我看了看别人的配置.data那里需要改成fujia\n和其他配置没有关系，是随机算法的问题\n因为这个是随机数，所以不一定100%出现\n你更改其他内容一样有可能出现这个错误的"
        }
    ]
}