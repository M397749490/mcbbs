{
    "title": "BC子服连接端口",
    "author": "MCLink",
    "replyCount": 35,
    "timestamp": 1598010660,
    "txt_content": "麻烦看下此日志，开服时候子服1015端口没问题\n等服务器完全打开后，玩家进服就变成了随机端口\n并且只有这一个子服有问题，其他可以正常进入，大佬看看是啥问题\n如果logs看不出的话欢迎留言提问\n\n\n\n\n\n\n\n错误日志.log\n\n\n2020-8-21 19:50 上传\n点击文件名下载附件\n\n\n\n\n102.8 KB, 下载次数: 6\n\n\n\n\n",
    "replies": [
        {
            "author": "MCLink",
            "timestamp": 1598010780,
            "txt_content": " 本帖最后由 MCLink 于 2020-8-21 19:56 编辑 \n\n另外再补上一个可以正常进入的日志\n希望可以找到问题所在https://cowtransfer.com/s/5741987d91624c取件码m3ybmdBC核心的话已经更换了好几款了，另外只有这一个子服进不去\n应该可以排除核心的问题"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598011440,
            "txt_content": "MCLink 发表于 2020-8-21 19:53\n另外再补上一个可以正常进入的日志\n希望可以找到问题所在https://cowtransfer.com/s/5741987d91624c取件码m ...\n子服是否开启了bc模式？"
        },
        {
            "author": "Xiaoxinzhi",
            "timestamp": 1598011500,
            "txt_content": "把BC配置搬上来吧"
        },
        {
            "author": "MCLink",
            "timestamp": 1598011500,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:04\n子服是否开启了bc模式？\n开启了的"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598011560,
            "txt_content": "MCLink 发表于 2020-8-21 20:05\n开启了的\n请上传一下spigot.yml以及bc的config.yml文件\n以便分析错误并帮你修改"
        },
        {
            "author": "MCLink",
            "timestamp": 1598011560,
            "txt_content": " 本帖最后由 MCLink 于 2020-8-21 20:08 编辑 \nXiaoxinzhi 发表于 2020-8-21 20:05\n把BC配置搬上来吧\nBC配置https://cowtransfer.com/s/83a246257a7d44取件码w9gr6m/Spigot配置https://cowtransfer.com/s/8a4e288051264f取件码q6b835\n麻烦大佬看看！"
        },
        {
            "author": "MCLink",
            "timestamp": 1598011680,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:06\n请上传一下spigot.yml以及bc的config.yml文件\n以便分析错误并帮你修改\nBC配置https://cowtransfer.com/s/83a246257a7d44取件码w9gr6m/Spigot配置https://cowtransfer.com/s/8a4e288051264f取件码q6b835\n麻烦大佬看看！"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598012040,
            "txt_content": "MCLink 发表于 2020-8-21 20:08\nBC配置https://cowtransfer.com/s/83a246257a7d44取件码w9gr6m/Spigot配置https://cowtransfer.com/s/8a4 ...\n有没有动过server.properties让query.port默认为25565\nrcon.port默认为25575\n"
        },
        {
            "author": "MCLink",
            "timestamp": 1598012100,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:14\n有没有动过server.properties\nserver基本和其他子服相同，不太会是这个问题https://cowtransfer.com/s/3983c61d7b4f4d取件码ypkc63"
        },
        {
            "author": "Xiaoxinzhi",
            "timestamp": 1598012100,
            "txt_content": " 本帖最后由 Xiaoxinzhi 于 2020-8-21 20:18 编辑 \nMCLink 发表于 2020-8-21 20:08\nBC配置https://cowtransfer.com/s/83a246257a7d44取件码w9gr6m/Spigot配置https://cowtransfer.com/s/8a4 ...\nhostname can't be null，server-ip那里可能有问题，你尽量改吧，127.0.0.1或者0.0.0.0随便试试https://dev.bukkit.org/projects/compatnocheatplus-cncp，mcmmo和nocheatplus搭配得需要这个好东西来防止误报和不兼容\n"
        },
        {
            "author": "MCLink",
            "timestamp": 1598012220,
            "txt_content": "Xiaoxinzhi 发表于 2020-8-21 20:15\nhostname can't be null，server-ip那里可能有问题，你尽量改吧，127.0.0.1或者0.0.0.0随便试试 ...\n这个我都有试过了，你可以看到错误那个的问题的端口的问题\n进子服的端口找不到具体的主机名称，因为设置的是1015，但是他进服时候就随机了...\n就很离谱"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598012280,
            "txt_content": "MCLink 发表于 2020-8-21 20:15\nserver基本和其他子服相同，不太会是这个问题https://cowtransfer.com/s/3983c61d7b4f4d取件码ypkc63 ...#Minecraft server properties\n#Fri Aug 21 19:16:45 CST 2020\nspawn-protection=0\nquery.port=25565\nserver-name=Unknown Server\ngenerator-settings=\nforce-gamemode=false\nallow-nether=false\ngamemode=0\nbroadcast-console-to-ops=true\nenable-query=false\nplayer-idle-timeout=0\ndifficulty=2\nspawn-monsters=true\nop-permission-level=4\nresource-pack-hash=\npvp=true\nsnooper-enabled=true\nlevel-type=DEFAULT\nhardcore=false\nenable-command-block=false\nmax-players=30\nnetwork-compression-threshold=256\nresource-pack-sha1=\nmax-world-size=29999984\nserver-port=1015\ndebug=false\nserver-ip=\nspawn-npcs=true\nallow-flight=false\nlevel-name=world\nview-distance=4\nresource-pack=\nspawn-animals=true\nwhite-list=false\ngenerate-structures=true\nmax-build-height=256\nonline-mode=false\nlevel-seed=\nprevent-proxy-connections=false\nuse-native-transport=true\nmotd=A Minecraft Server\nenable-rcon=false\n复制代码\n复制粘贴进去，然后重启服务器。看效果如何"
        },
        {
            "author": "Xiaoxinzhi",
            "timestamp": 1598012340,
            "txt_content": "MCLink 发表于 2020-8-21 20:17\n这个我都有试过了，你可以看到错误那个的问题的端口的问题\n进子服的端口找不到具体的主机名称，因为设置 ...\n行，bungeecord的config.yml里服务器地址和server设置的server-ip全部换成127.0.0.1或者全部换成0.0.0.0试试"
        },
        {
            "author": "恹猫_",
            "timestamp": 1598012340,
            "txt_content": "  Loginhall:\n    motd: '&1Just another Waterfall - Forced Host'\n    address: localhost:25566\n    restricted: false\n  ZDZXSC:\n    motd: '&1Just another Waterfall - Forced Host'\n    address: localhost:25567\n    restricted: false\n  JJPJSC:\n    motd: '&1Just another Waterfall - Forced Host'\n    address: localhost:25568\n    restricted: false复制代码\n把端口改成这样（建议）\n然后修改server.properties的配置\n例如\nLoginhall的server.properties端口改成25566\n由此类推"
        },
        {
            "author": "MCLink",
            "timestamp": 1598012400,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:18\n复制粘贴进去，然后重启服务器。看效果如何\n因为现在还有玩家在线，并且这个问题不是一直存在的，是时而好时而坏（这也是我最忐忑的）\n所以只能等凌晨测试了可用才可以给您最佳"
        },
        {
            "author": "MCLink",
            "timestamp": 1598012520,
            "txt_content": "恹猫_ 发表于 2020-8-21 20:19\n把端口改成这样（建议）\n然后修改server.properties的配置\n例如\n这个是有什么说法吗，还有上面的host咋设置"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598012520,
            "txt_content": "MCLink 发表于 2020-8-21 20:20\n因为现在还有玩家在线，并且这个问题不是一直存在的，是时而好时而坏（这也是我最忐忑的）\n所以只能等凌 ...\numm...只是重启子服即可"
        },
        {
            "author": "MCLink",
            "timestamp": 1598012580,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:22\numm...只是重启子服即可\n目前也就这个子服有玩家在玩，不然我也不会这么着急这个问题了\n就突然就坏了，就很担心"
        },
        {
            "author": "恹猫_",
            "timestamp": 1598012640,
            "txt_content": "MCLink 发表于 2020-8-21 20:22\n这个是有什么说法吗，还有上面的host咋设置- query_port: 1012\n  motd: '&1Another Bungee server'\n  tab_list: GLOBAL_PING\n  query_enabled: false\n  proxy_protocol: false\n  forced_hosts:\n    pvp.md-5.net: pvp\n  ping_passthrough: false\n  priorities:\n  - Loginhall\n  bind_local_address: true\n  host: 0.0.0.0:1012复制代码\n像你之前一样配置就行了"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598012700,
            "txt_content": "MCLink 发表于 2020-8-21 20:23\n目前也就这个子服有玩家在玩，不然我也不会这么着急这个问题了\n就突然就坏了，就很担心 ...\n也就是说，偶尔会出现端口随机的现象咯？\n估计是BUGJUMP整的新花样"
        },
        {
            "author": "MCLink",
            "timestamp": 1598012820,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:25\n也就是说，偶尔会出现端口随机的现象咯？\n估计是BUGJUMP整的新花样\n啥bugjump\n确实是偶尔那个情况"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598013120,
            "txt_content": "MCLink 发表于 2020-8-21 20:27\n啥bugjump\n确实是偶尔那个情况\nbugjump = mojang，是一个梗\n如果是偶尔出现的话那就很蹊跷"
        },
        {
            "author": "MCLink",
            "timestamp": 1598013240,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:32\nbugjump = mojang，是一个梗\n如果是偶尔出现的话那就很蹊跷\n一般我在线更新重载插件之类，莫名其妙就进不去了\n然后凌晨自动重启的话，也会进不去（这个几乎100%）"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598013300,
            "txt_content": "MCLink 发表于 2020-8-21 20:27\n啥bugjump\n确实是偶尔那个情况\n另外我查看你的日志时，发现你有使用NoCheatPlus\n那个旧版的3.16.x版本有很多数不清的误报与漏洞\n我建议你使用这个版本https://ci.codemc.io/job/Updated ... pdated-NoCheatPlus/\n或更换至AAC、Matrix等反作弊插件"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598013360,
            "txt_content": "MCLink 发表于 2020-8-21 20:34\n一般我在线更新重载插件之类，莫名其妙就进不去了\n然后凌晨自动重启的话，也会进不去（这个几乎100%）\n ...\n会不会是这个插件导致的呢？\n尝试删除试试嘞？"
        },
        {
            "author": "MCLink",
            "timestamp": 1598013480,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:36\n会不会是这个插件导致的呢？\n尝试删除试试嘞？\n不会的，在安装这个之前就存在这个问题的"
        },
        {
            "author": "MCLink",
            "timestamp": 1598013540,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:35\n另外我查看你的日志时，发现你有使用NoCheatPlus\n那个旧版的3.16.x版本有很多数不清的误报与漏洞\n我建议 ...\nncp的话倒是没有弄踢出，误报倒是没啥\n应该和这个端口没什么太大的影响"
        },
        {
            "author": "MCLink",
            "timestamp": 1598025900,
            "txt_content": "恹猫_ 发表于 2020-8-21 20:19\n把端口改成这样（建议）\n然后修改server.properties的配置\n例如\n尝试了下，依旧是有问题存在"
        },
        {
            "author": "恹猫_",
            "timestamp": 1598026080,
            "txt_content": "MCLink 发表于 2020-8-22 00:05\n尝试了下，依旧是有问题存在\n可以qq帮你远程试试吗"
        },
        {
            "author": "MCLink",
            "timestamp": 1598031240,
            "txt_content": "SakuraTao 发表于 2020-8-21 20:25\n也就是说，偶尔会出现端口随机的现象咯？\n估计是BUGJUMP整的新花样\n突然发现假设在线卸载安装插件的话也会造成这个问题\n好离谱"
        },
        {
            "author": "MCLink",
            "timestamp": 1598060760,
            "txt_content": "应该是在线加载插件导致的，测试发现在线加载插件后bc就会转发失败\n有大佬遇到过嘛，这个该咋解决"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598062440,
            "txt_content": "MCLink 发表于 2020-8-22 09:46\n应该是在线加载插件导致的，测试发现在线加载插件后bc就会转发失败\n有大佬遇到过嘛，这个该咋解决 ...\n据我推测，很有可能是插件导致的\n至于那个插件，得你自己想想\n我提供的思路\n1.何时开始出现，那天装了什么插件\n2.一个一个插件排查\n3.删除热加载尝试"
        },
        {
            "author": "MCLink",
            "timestamp": 1598062680,
            "txt_content": "SakuraTao 发表于 2020-8-22 10:14\n据我推测，很有可能是插件导致的\n至于那个插件，得你自己想想\n我提供的思路\n可以确定是在线load插件导致的\n另外测试了asw和plugman在线加载\nload后都会导致端口转发失败\n有没有什么推荐的在线加载，没有了感觉好不方便"
        },
        {
            "author": "SakuraTao",
            "timestamp": 1598062800,
            "txt_content": "MCLink 发表于 2020-8-22 10:18\n可以确定是在线load插件导致的\n另外测试了asw和plugman在线加载\nload后都会导致端口转发失败\nplugman本身就是一个不错的选择\n但是我不太推荐热加载插件，有些插件如果没写加载注册类的话会失效"
        },
        {
            "author": "MCLink",
            "timestamp": 1598068200,
            "txt_content": "经过一个个插件的筛选，发现是AnimatedScoreboard的问题"
        }
    ]
}