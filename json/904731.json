{
    "title": "[1.14.4]在玩家准心所指坐标处执行命令",
    "author": "破损的鞘翅",
    "replyCount": 5,
    "timestamp": 1566149940,
    "txt_content": " 本帖最后由 破损的鞘翅 于 2019-8-19 01:46 编辑 \n\n如何在玩家准心所指方块坐标处执行命令？\n例如，玩家看着一个距离玩家9格距离之内的方块，于是以玩家身份在该方块处执行命令\n若看着的方块在离玩家9格范围之外则在玩家准心所指的方向9格远的位置执行命令\n\n\n将方块替换成实体（如羊，牛），能否做到？\n自己鼓捣了半天，没想出比较好的解决办法，有请大佬登场\n另外，命令行数越少越好",
    "replies": [
        {
            "author": "xmdhs",
            "timestamp": 1566149940,
            "txt_content": "破损的鞘翅 发表于 2019-8-19 10:02\n能逐行解释下吗？看得不是很懂\n其实我想要的就是获取F3中Looking at block那一行的坐标 ...\n具体用的是这里的方法 https://www.mcbbs.net/thread-771638-1-1.html\n\n你可以去看一看。具体解释我嘴有点笨，自己也不是很懂，说不出来。。\n\n应该是利用 positioned  和局部坐标，每次把执行坐标向前推进 0.2 格，如果推进的位置是石头，就执行相应的指令，然后如果执行坐标离玩家超过了9格就停止循环。同时执行相应的指令。\n\n记分板是用来记录在9格内有没有执行过指令，如果没执行过，就可以在9格的位置执行指令。"
        },
        {
            "author": "xmdhs",
            "timestamp": 1566174540,
            "txt_content": " 本帖最后由 xmdhs 于 2019-8-19 11:26 编辑 \n\nexecute unless entity @s[distance=..9] run setblock ~ ~1 ~ stone\nexecute if entity @s[distance=..9] if block ~ ~1 ~ stone run setblock ~ ~1 ~ stone destroy \nexecute if entity @s[distance=..9] positioned ^ ^ ^0.2 run function b:b复制代码\n要用到函数，就像上面那样。不过方块放的位置比预期的要低一点，所以我就加了1\n\n实体的话，就是\n\nexecute if entity @s[distance=..9] if entity @e[distance=..2,type=pig] run setblock ~ ~ ~ stone\n\n好吧，有个小问题。\n现在可以了，但是不准我没办法。。\nexecute unless entity @s[distance=..9] if entity @s[scores={1=0}] run setblock ~ ~ ~ stone destroy\nexecute unless entity @s[distance=..9] run scoreboard players set @s 1 0\nexecute if entity @s[distance=..9] store success score @s 1 if block ~ ~ ~ stone run setblock ~ ~ ~ stone destroy\nexecute if entity @s[distance=..9] positioned ^ ^ ^0.2 run function b:b复制代码\n要用到函数，就像上面那样，还要新建一个记分板。\n\n好吧，按照楼下所说，应该这样执行，现在非常准了。。\n\n/execute as @a at @s positioned ~ ~1.62 ~ run function b:b"
        },
        {
            "author": "破损的鞘翅",
            "timestamp": 1566180120,
            "txt_content": "xmdhs 发表于 2019-8-19 08:29\n现在可以了，但是不准我没办法。。\n\n要用到函数，就像上面那样，还要新建一个记分板。\n能逐行解释下吗？看得不是很懂\n其实我想要的就是获取F3中Looking at block那一行的坐标"
        },
        {
            "author": "chyx",
            "timestamp": 1566182040,
            "txt_content": " 本帖最后由 chyx 于 2019-8-19 10:37 编辑 \nxmdhs 发表于 2019-8-19 10:11\n具体用的是这里的方法 https://www.mcbbs.net/thread-771638-1-1.html\n\n你可以去看一看。具体解释我嘴有点 ...\n我觉得我的帖子里没用到记分板。你这里也没必要用\n\n而且我的帖子里没有不准的问题，你抄过来就有了，显然是你自己的问题"
        },
        {
            "author": "chyx",
            "timestamp": 1567680180,
            "txt_content": "xmdhs 发表于 2019-8-19 08:29\n现在可以了，但是不准我没办法。。\n\n要用到函数，就像上面那样，还要新建一个记分板。\n画蛇添足"
        }
    ]
}