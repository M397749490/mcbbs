{
    "title": "问一个关于渲染文字的问题",
    "author": "psqissb",
    "replyCount": 7,
    "timestamp": 1551038580,
    "txt_content": "如题，我做了一个方块，想在上面渲染文字（像告示牌那样），我参照告示牌的TileEntitySpecialRenderer的写法，用fontrenderer渲染了一个“0”，但是发现它并没有被渲染到方块上去，而是一直显示在玩家的下方（如图所示）\n所以这是怎么回事？我觉得我写的和告示牌差不多啊……\n\n\n\n\n\n\n\nfile_1551038514000.jpg\n(345.79 KB, 下载次数: 1)\n\n\n\n\n下载附件\n\n\n2019-2-25 04:01 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "psqissb",
            "timestamp": 1551039600,
            "txt_content": "其实我不太确定我是不是看懂了告示牌上的文字是怎么渲染的……感觉TileEntitySignRenderer这个类里面只看到了渲染GUI的文字和告示牌的模型的部分，并没看到渲染告示牌上的文字到底在哪里……"
        },
        {
            "author": "3TUSK",
            "timestamp": 1551052320,
            "txt_content": "文字是通过 FontRenderer 渲染出来的。\n你这个问题看上去像是变换（GLStateManager.translate、GLStateManager.rotate、GLStateManager.scale）出错了。"
        },
        {
            "author": "psqissb",
            "timestamp": 1551075120,
            "txt_content": "u.s.knowledge 发表于 2019-2-25 07:52\n文字是通过 FontRenderer 渲染出来的。\n你这个问题看上去像是变换（GLStateManager.translate、GLStateMana ...\n谢谢回复。但是如果只是translate，rotate，scale出错的话，文字只会渲染在错误的位置，但还是应该是和方块的相对位置是固定的，而不应该会跟着玩家走啊，为什么做出来它是跟着玩家在走呢……是不是有什么渲染方式我没有正确选择"
        },
        {
            "author": "SilverMing",
            "timestamp": 1551096120,
            "txt_content": "你应当贴出renderer代码以便查出问题来源"
        },
        {
            "author": "psqissb",
            "timestamp": 1551101040,
            "txt_content": "public void render(TileEntityKiloPost te, double x, double y, double z, float partialTicks, int destroyStage, float alpha)\n        {\n                FontRenderer fontrenderer = this.getFontRenderer();\n                \n                //GlStateManager.enableRescaleNormal();\n        GlStateManager.pushMatrix();\n                GlStateManager.translate(0.0F, 0.33333334F, 0.36666667F);\n        GlStateManager.scale(0.1F, 0.1F, 0.1F);\n        //GlStateManager.glNormal3f(0.0F, 0.0F, -0.010416667F);\n        GlStateManager.depthMask(false);\n                String s = String.valueOf(te.getKilo());\n                fontrenderer.drawString(s, -fontrenderer.getStringWidth(s) / 2, 0, 0);\n                GlStateManager.depthMask(true);\n                //GlStateManager.depthMask(true);\n        //GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);\n        GlStateManager.popMatrix();\n        }\n}"
        },
        {
            "author": "psqissb",
            "timestamp": 1551101100,
            "txt_content": "lin212 发表于 2019-2-25 20:02\n你应当贴出renderer代码以便查出问题来源\n谢谢回复。因为我也说了我基本把告示牌的renderer直接复制过来了所以没发……现在发到6楼了"
        },
        {
            "author": "psqissb",
            "timestamp": 1551105120,
            "txt_content": "最后我自己发现是忘了加一个translate(x+0.5, y+0.5, z+0.5)……加上以后就不会跟着玩家走了。所以默认的渲染坐标中心是玩家（摄像机）吗……\n\n\n\n\n\n2019-02-25_23.29.25.png\n(200.47 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2019-2-25 22:31 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        }
    ]
}