{
    "title": "SEUS 10.1 体积云設定,凹凸水,網格bug已修復",
    "author": "mot321",
    "replyCount": 31,
    "timestamp": 1400670480,
    "txt_content": " 本帖最后由 mot321 于 2014-9-3 17:30 编辑 \n\n請修改shader文件之前先查看聲明聲明:http://www.mcbbs.net/thread-258242-1-1.html\n所以我不會發放任何修改版本,或希望不會有人發佈其他版本\n你可以使用和修改SEUS为自己个人使用\n你可以发布SEUS的截图和视频，前提是帶有SEUS連結[http://www.minecraftforum.net/topic/940974-175sonic-ethers-unbelievable-shaders-v101/]\n您不得以任何方式散布SEUS ，因为它是没有我明确的书面许可，或任何修改版本\n您不得声称自己是SEUS的作者或发布在您的名字或我的名字来源自SEUS shaderpacks\n安装或使用SEUS將您同意所有的条款和条件\n\n\n\n\n\nSEUS10.1 原帖:http://www.minecraftforum.net/topic/940974-175sonic-ethers-unbelievable-shaders-v101/\nweb shader:https://www.shadertoy.com/view/XslGRr\n修改範本:virtuaconker85  Youtube:http://www.youtube.com/channel/UCMfMijfvrzE0YAq6inF_CAA\n\nStandard:https://www.mediafire.com/?gdd8462tqzio1qc\nUltra:https://www.mediafire.com/?1kswtit8wdnykv2\n\n只適用於SEUS10.1 正式版\n建議使用Ultra取得最佳效果\n建議使用進階的筆記本\nnotepad++/notepad2\n去哪一行?快捷鍵ctrl+g\n\nUltra版\n\nCLOUD FIX FOR SEUS 10.1\n打開composite.fsh\n複製以下文字取代1422至1637行vec4 CloudColor(in vec4 worldPosition, in float sunglow, in vec3 worldLightVector)\n{\n\n        float cloudHeight = 230.0f;\n        float cloudDepth  = 90.0f;\n        float cloudUpperHeight = cloudHeight + (cloudDepth / 2.0f);\n        float cloudLowerHeight = cloudHeight - (cloudDepth / 2.0f);\n\n        if (worldPosition.y < cloudLowerHeight || worldPosition.y > cloudUpperHeight)\n                return vec4(0.0f);\n        else\n        {\n\n                vec3 p = worldPosition.xyz / 150.0f;\n\n                        \n\n                float t = frameTimeCounter * 1.0f;\n                          //t *= 0.001;\n                p.x -= t * 0.01f;\n\n                // p += (Get3DNoise(p * 1.0f + vec3(0.0f, t * 0.01f, 0.0f)) * 2.0f - 1.0f) * 0.3f;\n\n                vec3 p1 = p * vec3(1.0f, 0.5f, 1.0f)  + vec3(0.0f, t * 0.01f, 0.0f);\n                float noise  =         Get3DNoise(p * vec3(1.0f, 0.5f, 1.0f) + vec3(0.0f, t * 0.01f, 0.0f));        p *= 3.0f;        p.x -= t * 0.057f;        vec3 p2 = p;\n                          noise += (1.0f - abs(Get3DNoise(p) * 3.0f - 1.0f)) * 0.20f;                                p *= 3.0f;        p.xz -= t * 0.05f;        vec3 p3 = p;\n                          noise += (1.0f - abs(Get3DNoise(p) * 3.0f - 1.0f)) * 0.075f;                                p *= 3.0f;        p.xz -= t * 0.05f;\n                          noise += (1.0f - abs(Get3DNoise(p) * 3.0f - 1.0f)) * 0.05f;\n                          noise /= 1.2f;\n\n\n\n                const float lightOffset = 0.35f;\n\n\n                float heightGradient = clamp(( - (cloudLowerHeight - worldPosition.y) / (cloudDepth * 1.0f)), 0.0f, 1.0f);\n                float heightGradient2 = clamp(( - (cloudLowerHeight - (worldPosition.y + worldLightVector.y * lightOffset * 30.0f)) / (cloudDepth * 1.0f)), 0.0f, 1.0f);\n\n                float cloudAltitudeWeight = 1.0f - clamp(distance(worldPosition.y, cloudHeight) / (cloudDepth / 2.0f), 0.0f, 1.0f);\n                          cloudAltitudeWeight = pow(cloudAltitudeWeight, mix(0.2f, 0.6f, rainStrength));\n                          cloudAltitudeWeight *= 1.0f - heightGradient;\n\n                float cloudAltitudeWeight2 = 1.0f - clamp(distance(worldPosition.y + worldLightVector.y * lightOffset * 30.0f, cloudHeight) / (cloudDepth / 2.0f), 0.0f, 1.0f);\n                          cloudAltitudeWeight2 = pow(cloudAltitudeWeight2, mix(0.2f, 0.6f, rainStrength));\n                          cloudAltitudeWeight2 *= 1.0f - heightGradient2;\n\n                noise *= cloudAltitudeWeight;\n\n                //cloud edge\n                float coverage = 0.745f;\n                          coverage = mix(coverage, 1.05f, rainStrength);\n                float density = 0.66f;\n                noise = clamp(noise - (1.0f - coverage), 0.0f, 1.0f - density) / (1.0f - density);\n                //noise = GetCoverage(coverage, density, noise);\n\n                //float sunProximity = pow(sunglow, 1.0f);\n                //float propigation = mix(15.0f, 9.0f, sunProximity);\n\n\n                // float directLightFalloff = pow(heightGradient, propigation);\n                //           directLightFalloff += pow(heightGradient, propigation / 2.0f);\n                //           directLightFalloff /= 2.0f;\n\n\n\n\n\n\n                //float sundiff = -Get3DNoise(p1 + worldLightVector.xyz * lightOffset) * cloudAltitudeWeight2;\n                          //sundiff += -(1.0f - abs(Get3DNoise(p2 + worldLightVector.xyz * lightOffset) * 1.0f - 0.5f)) * 0.4f * cloudAltitudeWeight2;\n                          //sundiff += -(1.0f - abs(Get3DNoise(p3 + worldLightVector.xyz * lightOffset) * 3.0f - 1.0f)) * 0.035f * cloudAltitudeWeight2;\n                float sundiff = Get3DNoise(p1 + worldLightVector.xyz * lightOffset);\n                          sundiff += (1.0f - abs(Get3DNoise(p2 + worldLightVector.xyz * lightOffset) * 1.0f - 0.5f)) * 0.4f;\n                          sundiff *= 1.1f;\n                          sundiff *= cloudAltitudeWeight2;\n                          //sundiff += (1.0f - abs(Get3DNoise(p3 + worldLightVector.xyz * lightOffset) * 3.0f - 1.0f)) * 0.075f * cloudAltitudeWeight2;\n                          sundiff = -GetCoverage(coverage * 1.0f, 0.0f, sundiff);\n                float firstOrder         = pow(clamp(sundiff * 1.0f + 1.15f, 0.0f, 1.0f), 56.0f);\n                          //firstOrder         *= pow(clamp(1.3f - noise, 0.0f, 1.0f), 12.0f);\n                float secondOrder         = pow(clamp(sundiff * 1.0f + 1.1f, 0.0f, 1.0f), 11.0f);\n\n                          //directLightFalloff *= mix(        clamp(pow(noise, 1.2f) * 1.0f, 0.0f, 1.0f),         clamp(pow(1.0f - noise, 10.3f), 0.0f, 0.5f),         pow(sunglow, 1.2f));\n\n\n\n\n                float directLightFalloff = mix(firstOrder, secondOrder, 0.5f);\n                //float directLightFalloff = firstOrder;\n                float anisoBackFactor = mix(clamp(pow(noise, 1.6f) * 2.5f, 0.0f, 1.0f), 1.0f, pow(sunglow, 1.0f));\n\n                          directLightFalloff *= anisoBackFactor;\n                           directLightFalloff *= mix(11.5f, 1.0f, pow(sunglow, 0.5f));\n                \n\n\n\n                vec3 colorDirect = colorSunlight * 1.55f;\n                         colorDirect = mix(colorDirect, colorDirect * vec3(0.5f, 0.7f, 1.0f), timeMidnight);\n                //colorDirect *= 1.0f + pow(sunglow, 10.0f) * 0.0f * pow(directLightFalloff, 1.0f);\n                colorDirect *= 1.0f + pow(sunglow, 2.0f) * 100.0f * pow(directLightFalloff, 1.1f) * (1.0f - rainStrength);\n                //colorDirect *= mix(1.0f, (clamp(pow(1.1f - noise, 50.09f) * 1.0f, 0.0f, 1.0f)) * 5.0f + 1.0f, pow(sunglow, 1.5f));\n\n\n                vec3 colorAmbient = mix(colorSkylight, colorSunlight * 2.0f, vec3(heightGradient * 0.0f)) * 0.03f;\n                         //colorAmbient *= vec3(0.5f, 0.7f, 1.0f);\n                         colorAmbient *= mix(1.0f, 0.3f, timeMidnight);\n                         colorAmbient = mix(colorAmbient, colorAmbient * 3.0f + colorSunlight * 0.05f, vec3(clamp(pow(1.0f - noise, 12.0f) * 1.0f, 0.0f, 1.0f)));\n                         colorAmbient *= heightGradient * heightGradient + 0.1f;\n\n                 vec3 colorBounced = colorBouncedSunlight * 0.1f;\n                          colorBounced *= pow((1.0f - heightGradient), 8.0f);\n\n\n                directLightFalloff *= 1.0f - rainStrength * 0.7f;\n\n                // //cloud shadows\n                // vec4 shadowPosition = shadowModelView * (worldPosition - vec4(cameraPosition, 0.0f));\n                // shadowPosition = shadowProjection * shadowPosition;\n                // shadowPosition /= shadowPosition.w;\n\n                // float dist = sqrt(shadowPosition.x * shadowPosition.x + shadowPosition.y * shadowPosition.y);\n                // float distortFactor = (1.0f - SHADOW_MAP_BIAS) + dist * SHADOW_MAP_BIAS;\n                // shadowPosition.xy *= 1.0f / distortFactor;\n                // shadowPosition = shadowPosition * 0.5f + 0.5f;\n\n                // float sunlightVisibility = shadow2D(shadow, vec3(shadowPosition.st, shadowPosition.z)).x;\n                // directLightFalloff *= sunlightVisibility;\n\n                vec3 color = mix(colorAmbient, colorDirect, vec3(min(1.0f, directLightFalloff)));\n                         //color += colorBounced;\n                     //color = colorAmbient;\n                     //color = colorDirect * directLightFalloff;\n                         //color *= clamp(pow(noise, 0.1f), 0.0f, 1.0f);\n\n                color *= 1.0f;\n\n                //color *= mix(1.0f, 0.4f, timeMidnight);\n\n                vec4 result = vec4(color.rgb, noise);\n\n                return result;\n        }\n}\n\nvoid         CalculateClouds (inout vec3 color, inout SurfaceStruct surface)\n{\n        //if (texcoord.s < 0.5f && texcoord.t < 0.5f)\n        //{\n                surface.cloudAlpha = 0.0f;\n\n                vec2 coord = texcoord.st * 2.0f;\n\n                vec4 worldPosition = gbufferModelViewInverse * surface.screenSpacePosition;\n                         worldPosition.xyz += cameraPosition.xyz;\n\n                float cloudHeight = 150.0f;\n                float cloudDepth  = 60.0f;\n                float cloudDensity = 1.0f;\n\n                float startingRayDepth = far - 5.0f;\n\n                float rayDepth = startingRayDepth;\n                          //rayDepth += CalculateDitherPattern1() * 0.09f;\n                          //rayDepth += texture2D(noisetex, texcoord.st * (viewWidth / noiseTextureResolution, viewHeight / noiseTextureResolution)).x * 0.1f;\n                          //rayDepth += CalculateDitherPattern2() * 0.1f;\n                float rayIncrement = far / 11.0f;\n\n                          rayDepth += CalculateDitherPattern1() * rayIncrement;\n\n                int i = 0;\n\n                vec3 cloudColor = colorSunlight;\n                vec4 cloudSum = vec4(0.0f);\n                         cloudSum.rgb = colorSkylight * 0.2f;\n                         cloudSum.rgb = color.rgb;\n\n                float sunglow = CalculateSunglow(surface);\n\n                float cloudDistanceMult = 400.0f / far;\n\n\n                float surfaceDistance = length(worldPosition.xyz - cameraPosition.xyz);\n\n                while (rayDepth > 0.0f)\n                {\n                        //determine worldspace ray position\n                        vec4 rayPosition = GetCloudSpacePosition(texcoord.st, rayDepth, cloudDistanceMult);\n\n                        float rayDistance = length((rayPosition.xyz - cameraPosition.xyz) / cloudDistanceMult);\n\n                        vec4 proximity =  CloudColor(rayPosition, sunglow, surface.worldLightVector);\n                                 proximity.a *= cloudDensity;\n\n                                 //proximity.a *=  clamp(surfaceDistance - rayDistance, 0.0f, 1.0f);\n                                 if (surfaceDistance < rayDistance * cloudDistanceMult && !surface.mask.sky)\n                                         proximity.a = 0.0f;\n\n                        //cloudSum.rgb = mix( cloudSum.rgb, proximity.rgb, vec3(min(1.0f, proximity.a * cloudDensity)) );\n                        //cloudSum.a += proximity.a * cloudDensity;\n                        color.rgb = mix(color.rgb, proximity.rgb, vec3(min(1.0f, proximity.a * cloudDensity)));\n\n                        surface.cloudAlpha += proximity.a;\n\n                        //Increment ray\n                        rayDepth -= rayIncrement;\n                        i++;\n\n                         // if (rayDepth * cloudDistanceMult  < ((cloudHeight - (cloudDepth * 0.5)) - cameraPosition.y))\n                         // {\n                         //         break;\n                         // }\n                }\n\n                //color.rgb = mix(color.rgb, cloudSum.rgb, vec3(min(1.0f, cloudSum.a * 20.0f)));\n                //color.rgb = cloudSum.rgb;\n}复制代码去2256行刪除\"//\"         [CalculateClouds(finalComposite.rgb, surface);]\n\n\n打開composite1.fsh\n去1234行加入\"//\"         [//CloudPlane(surface);]\n\n\n\n凹凸水[以U版為準]\n\n打開gbuffers_water.fsh\n去3行設定水深度[1-9度內,個人為3,太大河面波幅大,太少海面波幅少]\n#define WAVE_HEIGHT 0.15f\n去293行刪除\"//\"  [position = GetWaterParallaxCoord(position, viewVector);]\n\n\n\n其他設定\n\n陰影精準度:\n去composite.fsh\n38行:const int                 shadowMapResolution         = [可改動,不要超過10000];\n\n\n[快賽錢,沒錢了QAQ]",
    "replies": [
        {
            "author": "zjr_516635864",
            "timestamp": 1400670600,
            "txt_content": "这惊艳的画面吓哭我了TwT\n32位玩不起"
        },
        {
            "author": "q981536105",
            "timestamp": 1400671080,
            "txt_content": "真是雪中送炭！刚好下午在找！"
        },
        {
            "author": "moonshell",
            "timestamp": 1400671200,
            "txt_content": "zjr_516635864 发表于 2014-5-21 19:10\n这惊艳的画面吓哭我了TwT\n32位玩不起\nSEUS 10.1 吃內存很少 倒是顯卡重要 GTX460 可行中等20~30FPS"
        },
        {
            "author": "mot321",
            "timestamp": 1400671320,
            "txt_content": "moonshell 发表于 2014-5-21 19:20\nSEUS 10.1 吃內存很少 倒是顯卡重要 GTX460 可行中等20~30FPS\n32位也有CPU性能上的差異"
        },
        {
            "author": "RAY5DHao",
            "timestamp": 1400672760,
            "txt_content": "效果很不错啊!\n收藏!"
        },
        {
            "author": "wzy13101311456",
            "timestamp": 1400672940,
            "txt_content": "下不了，补下网址"
        },
        {
            "author": "mot321",
            "timestamp": 1400673060,
            "txt_content": "wzy13101311456 发表于 2014-5-21 19:49\n下不了，补下网址\nStandard和Ultra就是折叠内容"
        },
        {
            "author": "凛",
            "timestamp": 1400673060,
            "txt_content": "我的眼睛！！！！！！！！！！！！！\n这画面太惊艳了........\n我的显卡"
        },
        {
            "author": "wzy13101311456",
            "timestamp": 1400673240,
            "txt_content": "mot321 发表于 2014-5-21 19:51\nStandard和Ultra就是折叠内容\n那怎么下，"
        },
        {
            "author": "mot321",
            "timestamp": 1400673720,
            "txt_content": "wzy13101311456 发表于 2014-5-21 19:54\n那怎么下，\n會不會看字\n都說了不得以任何方式散布SEUS\n這是教程,只是修改原本檔案"
        },
        {
            "author": "wzy13101311456",
            "timestamp": 1400673960,
            "txt_content": "mot321 发表于 2014-5-21 20:02\n會不會看字\n都說了不得以任何方式散布SEUS\n這是教程,只是修改原本檔案\n你能直接给我吗，\nqq297331172"
        },
        {
            "author": "mot321",
            "timestamp": 1400674380,
            "txt_content": "wzy13101311456 发表于 2014-5-21 20:06\n你能直接给我吗，\nqq297331172\n說了不可以,不會用不要用"
        },
        {
            "author": "暗夜之猫",
            "timestamp": 1400675400,
            "txt_content": "= -=这画面，碉堡了"
        },
        {
            "author": "轻松的",
            "timestamp": 1400676060,
            "txt_content": "效果不赖哈！"
        },
        {
            "author": "hukk",
            "timestamp": 1400717760,
            "txt_content": "其实我比较不喜欢seus的云和水面"
        },
        {
            "author": "jill",
            "timestamp": 1403427180,
            "txt_content": "求整合.  弄了好多次都没成功."
        },
        {
            "author": "363820184",
            "timestamp": 1403609580,
            "txt_content": "哪，能教一下你的云是怎么改的吗..."
        },
        {
            "author": "mot321",
            "timestamp": 1403615220,
            "txt_content": "363820184 发表于 2014-6-24 19:33\n哪，能教一下你的云是怎么改的吗...\n請看主帖"
        },
        {
            "author": "1061948186",
            "timestamp": 1405739880,
            "txt_content": "我家的电脑凑来带不起光影"
        },
        {
            "author": "mot321",
            "timestamp": 1405747620,
            "txt_content": "1061948186 发表于 2014-7-19 11:18\n我家的电脑凑来带不起光影\n拆了即可"
        },
        {
            "author": "0045568",
            "timestamp": 1410173880,
            "txt_content": "楼主的凹凸水怎么搞出来的，我修改到9都是平的"
        },
        {
            "author": "mot321",
            "timestamp": 1410192060,
            "txt_content": "0045568 发表于 2014-9-8 18:58\n楼主的凹凸水怎么搞出来的，我修改到9都是平的\n先去293行刪除\"//\""
        },
        {
            "author": "0045568",
            "timestamp": 1410577560,
            "txt_content": "mot321 发表于 2014-9-9 00:01\n先去293行刪除\"//\"\n然后呢，后面的要不要删？"
        },
        {
            "author": "mot321",
            "timestamp": 1410582120,
            "txt_content": "0045568 发表于 2014-9-13 11:06\n然后呢，后面的要不要删？\n不用……"
        },
        {
            "author": "Dragontrail",
            "timestamp": 1411646580,
            "txt_content": "mot321 发表于 2014-9-13 12:22\n不用……\n奇怪咧，为啥我的bguffers_water.bsh没有293行？116行就结束了"
        },
        {
            "author": "leae",
            "timestamp": 1432660800,
            "txt_content": "ultra_dof版本可以吗"
        },
        {
            "author": "mot321",
            "timestamp": 1432678200,
            "txt_content": "bbleae 发表于 2015-5-27 01:20\nultra_dof版本可以吗\n可以的,不過行數可能有1-2行差距"
        },
        {
            "author": "逆达",
            "timestamp": 1440240840,
            "txt_content": "不错哦，修改去！"
        },
        {
            "author": "栗籽i",
            "timestamp": 1440286380,
            "txt_content": "很好的效果，估计要烧显卡了"
        },
        {
            "author": "art657",
            "timestamp": 1446704940,
            "txt_content": "怎么去处动态模糊啊"
        },
        {
            "author": "FLY_EnderDragon",
            "timestamp": 1551878040,
            "txt_content": "哇 厉害了"
        }
    ]
}