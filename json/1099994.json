{
    "title": "服务器突然tps降到0，然后玩家全部失去连接",
    "author": "kkplayer305",
    "replyCount": 12,
    "timestamp": 1597224780,
    "txt_content": "挺突然的，前一秒还很流畅的，后一秒就卡死了。服务器端spigot 1.12.2\n\n附卡死时抢救出来的timings：https://timings.spigotmc.org/?url=omibasekuq\n\n",
    "replies": [
        {
            "author": "yaoraoxiaosa",
            "timestamp": 1597224780,
            "txt_content": "服务器负载 Server Load: 18,089.70%\n一   太恐怖了，怎么搞的啊，首先是 ChunkI\n1.使用插件NoSpawnChunks\n2.在server.properties中设置view-distance(视野距离)为3～5\n3.在paper.yml中，降低这些数值到\nmax-chunk-gens-per-tick: 3(每tick新生成的区块数)\n  max-auto-save-chunks-per-tick: 10(每tick保存的区块数)\nmax-chunk-sends-per-tick: 35(每tick发送给玩家的区块数)\n4.减少服务器内的漏斗数，或漏斗尽量不要放在区块的边缘(因为漏斗会把它指向的区块也给加载，这样会增加区块数量\n二 卡服务器主要因为Structures和ChunkMap\n快把这个删了，太吓人了\n三 实体也很多，建议\n1.使用插件\nLagAssist(付费)\nLaggRemoverPlus\n2.Bukkit.yml中将ticks-per中的\nmonster-spawns: 2 或更高(不建议高于5，否则游戏中可能找不到怪)\n3.Bukkit.yml中的spawn-limits(限制玩家周围能刷多少生物)\nmonsters: 45\nanimals: 10\n4.将Spigot.yml中的entity-activation-range(限制实体被激活的距离，\n但这可能导致某些需要玩家挂机的机器失效)\nanimals: 15\nmonsters: 24\n与entity-tracking-range(限制玩家在多少距离内才能看到实体)\nanimals: 18\nmonsters: 24"
        },
        {
            "author": "Jesenv5",
            "timestamp": 1597224780,
            "txt_content": "有服务端日志吗？ 来一个呗"
        },
        {
            "author": "HK_Wallace",
            "timestamp": 1597225080,
            "txt_content": "server.properties View Distance 改做5"
        },
        {
            "author": "PercyDan",
            "timestamp": 1597226940,
            "txt_content": "  ChangeHotbar插件有问题"
        },
        {
            "author": "kkplayer305",
            "timestamp": 1597228260,
            "txt_content": "yaoraoxiaosa 发表于 2020-8-12 18:00\n服务器负载 Server Load: 18,089.70%\n一   太恐怖了，怎么搞的啊，首先是 ChunkI\n1.使用插件NoSpawnChunks\n好的，感谢指导，我马上改进"
        },
        {
            "author": "kkplayer305",
            "timestamp": 1597228320,
            "txt_content": "PercyDan 发表于 2020-8-12 18:09\nChangeHotbar插件有问题\n服务器没有这个插件呀=-="
        },
        {
            "author": "kkplayer305",
            "timestamp": 1597228320,
            "txt_content": "HK_Wallace 发表于 2020-8-12 17:38\nserver.properties View Distance 改做5\n已经调成4了"
        },
        {
            "author": "PercyDan",
            "timestamp": 1597228380,
            "txt_content": "NPC插件占用挺大的"
        },
        {
            "author": "HK_Wallace",
            "timestamp": 1597228920,
            "txt_content": "你有動作是右鍵NPC的嗎?"
        },
        {
            "author": "kkplayer305",
            "timestamp": 1597229040,
            "txt_content": "HK_Wallace 发表于 2020-8-12 18:42\n你有動作是右鍵NPC的嗎?\n是的，右键npc打开商店"
        },
        {
            "author": "HK_Wallace",
            "timestamp": 1597229340,
            "txt_content": "kkplayer305 发表于 2020-8-12 18:44\n是的，右键npc打开商店\n你可以改用Citizens CMD 我建議你不要用內置的右鍵NCP指令\n因為沒有冷卻時間\n\n一些Citizens CMD用法:\n一開始就選擇NPC /npc sel\n/npcmd cooldown <時間(秒數)>\n/npcmd add <console | message | none | permission | server | sound> <指令>\n\nhttps://www.spigotmc.org/resources/citizens-cmd.30224/"
        },
        {
            "author": "kkplayer305",
            "timestamp": 1597230300,
            "txt_content": "HK_Wallace 发表于 2020-8-12 18:49\n你可以改用Citizens CMD 我建議你不要用內置的右鍵NCP指令\n因為沒有冷卻時間\n嗯嗯，好的，我是直接把商店绑定在npc上的/trait shop,然后给加添加一页商店/shop citizen page"
        }
    ]
}