{
    "title": "[HundunStarのMod开发教程for 1.7.10]漫天神矿，在世界上生成矿物",
    "author": "yanggexuyang",
    "replyCount": 14,
    "timestamp": 1440585060,
    "txt_content": "似乎我更新的速度有点慢的离谱了（虽然有那么多人明摆着永远不更新了）。。。不管了，你们不要再纠结这件无关紧要的小事了（明明是你自己提出来的好不好？？？{:10_497:}），只要在更新就行！\n\n\n好了，切入正题！\n\n这次我们要讲的是在世界上生成矿物的问题\n首先，要讲的是Minecraft的坑爹世界有个坑爹编号   叫  做   （~木~鱼~）  world.provider.dimensionId\nworld.provider.dimensionId是指世界的编号（似乎说过了）\n当它的值是0时，代表着这个世界是主世界\n当它的值是-1时，代表着这个世界是地狱\n当它的值是1时，代表着这个世界是末地\n\nIn fact，就算你自己生成一个世界出来，也同样有一个编号！\n比如，半条命mod里面的半条命世界的编号值似乎就是4（似乎而已，我没偷窥过源码，所以有待考证）\n\n好啦，我们继续讲\n有了编号，我们就能指定矿物生成在哪个世界上\n既然是生成矿物，就一定要用到这个接口：IWorldGenerator\n（如果你想自己麻烦的要死的去继承WorldGenerator类我也不反对，神一样的孩子，大胆去干吧！）\n我的习惯是弄一个这样的坑爹类：\npublic abstract class GenBase implements IWorldGenerator {\n        @Override\n        public void generate(Random rand, int chunkX, int chunkZ, World world, IChunkProvider chunkGenerator, IChunkProvider chunkProvider) {\n                switch(world.provider.dimensionId){\n                case -1:\n            generateNether(world, rand, chunkX * 16, chunkZ * 16);\n            break;\n        case 0:\n            generateSurface(world, rand, chunkX * 16, chunkZ * 16);\n            break;\ncase 1:\n            generateEnd(world, rand, chunkX * 16, chunkZ * 16);\n            break;\n                }\n        }\n        \n        protected abstract void generateEnd(World world, Random rand, int chunkX, int chunkZ);\n\n        protected abstract void generateSurface(World world, Random rand, int chunkX, int chunkZ);\n\n        protected abstract void generateNether(World world, Random rand, int chunkX, int chunkZ);\n}\n复制代码然后再弄一个这样的坑爹类：\npublic class OreGenerator extends GenBase{\n\n        @Override\n        protected void generateEnd(World world, Random rand, int chunkX, int chunkZ) {\n                // TODO 自动生成的方法存根\n                \n        }\n\n        @Override\n        protected void generateSurface(World world, Random rand, int chunkX,\n                        int chunkZ) {\n                \n        }\n\n        @Override\n        protected void generateNether(World world, Random rand, int chunkX,\n                        int chunkZ) {\n                // TODO 自动生成的方法存根\n                \n        }\n\n}复制代码创建完这样两个类以后，我们就要开始正式生成矿物啦！\n首先你得有一个方块（废话，没有方块你去生成啥？）+一个主类（废话，没有主类你这个mod都是不存在的）\n再假想你的方块的注册在主类里，方块名为FirstOre，主类名FirstMod\n再再假想你要在主世界里面创建矿物\n于是，我们的OreGenerator类里面的generateSerface函数变成了这样：\n        @Override\n        protected void generateSurface(World world, Random rand, int chunkX,\n                        int chunkZ) {\n                for(int k = 0; k <= rand.nextInt(8); k++){\n                int posX = chunkX + rand.nextInt(16);\n                int posY = rand.nextInt(36) + 20;\n                int posZ = chunkZ + rand.nextInt(16);\n                \n                (new WorldGenMinable(FirstMod.FirstOre, 2 + rand.nextInt(7))).generate(world, rand, posX, posY, posZ);\n        }\n                \n        }复制代码我们来解析一下这段程序：\nposX和posZ那两句不要改\nfor(int k = 0; k <= rand.nextInt(8); k++)里面的rand.nextInt(8)，其中的8的那个位置的数字越大，矿物越多\nint posY = rand.nextInt(36) + 20;里面的rand.nextInt(36)+20是指这个矿物是在高度（从基岩往上面算）20~56的范围内生成\n\n(new WorldGenMinable(FirstMod.FirstOre, 2 + rand.nextInt(7))).generate(world, rand, posX, posY, posZ);是生成语句，2 + rand.nextInt(7)是矿物数量（应该看得懂吧）\n好啦，矿物生成问题到此结束！\n顺带提一下上文说到的WorldGenerator，那个一般是用来生成地形、树木之类用的，这块比较烦\n照例留下QQ\n[qq]648377563[/qq]\n\n\n",
    "replies": [
        {
            "author": "天蝎_心殇",
            "timestamp": 1440994740,
            "txt_content": "太感动了{:10_503:}\n终于有教矿石生成的教程了"
        },
        {
            "author": "彪悍的新手",
            "timestamp": 1440995820,
            "txt_content": "回复好少啊\n编程区人太少了"
        },
        {
            "author": "Kirito刀剑神域",
            "timestamp": 1441113120,
            "txt_content": "赞赞赞！！"
        },
        {
            "author": "生化豆豆",
            "timestamp": 1441113180,
            "txt_content": "混沌加油，我下次也去写教程吧"
        },
        {
            "author": "天蝎_心殇",
            "timestamp": 1442122680,
            "txt_content": " 本帖最后由 天蝎_心殇 于 2015-9-13 13:40 编辑 \n\n是不是这样写？不过我感觉还是没有生成，能帮我看看嘛？@yanggexuyang \npackage noStarveToDeath;\n\nimport java.util.Random;\n\nimport wkt.IWorldGenerator.GenBase;\n\nimport cpw.mods.fml.common.IWorldGenerator;\n\nimport net.minecraft.init.Blocks;\nimport net.minecraft.world.World;\nimport net.minecraft.world.chunk.IChunkProvider;\nimport net.minecraft.world.gen.feature.WorldGenMinable;\n\npublic class AluminiumGen {\n        public abstract class GenBase implements IWorldGenerator {\n        @Override\n        public void generate(Random rand, int chunkX, int chunkZ, World world, IChunkProvider chunkGenerator, IChunkProvider chunkProvider) {\n                switch(world.provider.dimensionId){\n                case -1:\n            generateNether(world, rand, chunkX * 16, chunkZ * 16);\n            break;\n        case 0:\n            generateSurface(world, rand, chunkX * 16, chunkZ * 16);\n            break;\ncase 1:\n            generateEnd(world, rand, chunkX * 16, chunkZ * 16);\n            break;\n                }\n        }\n        \n        protected abstract void generateEnd(World world, Random rand, int chunkX, int chunkZ);\n\n        protected abstract void generateSurface(World world, Random rand, int chunkX, int chunkZ);\n\n        protected abstract void generateNether(World world, Random rand, int chunkX, int chunkZ);\n}\n        public class OreGenerator extends GenBase{\n\n        @Override\n        protected void generateEnd(World world, Random rand, int chunkX, int chunkZ) {\n                // TODO 自动生成的方法存根\n                \n        }\n\n        @Override\n        protected void generateSurface(World world, Random rand, int chunkX,\n                        int chunkZ) {\n                \n        }\n\n        @Override\n        protected void generateNether(World world, Random rand, int chunkX,\n                        int chunkZ) {\n                // TODO 自动生成的方法存根\n                \n        }\n\n}\n\n    protected void generateSurface(World world, Random rand, int chunkX,\n                    int chunkZ) {\n            for(int k = 0; k <= rand.nextInt(8); k++){\n            int posX = chunkX + rand.nextInt(16);\n            int posY = rand.nextInt(36) + 20;\n            int posZ = chunkZ + rand.nextInt(16);\n            \n            (new WorldGenMinable(NoStarveToDeath.cheese_block, 2 + rand.nextInt(7))).generate(world, rand, posX, posY, posZ);\n    }\n            \n    }\n}复制代码\n"
        },
        {
            "author": "yanggexuyang",
            "timestamp": 1442125800,
            "txt_content": "天蝎_心殇 发表于 2015-9-13 13:38\n是不是这样写？不过我感觉还是没有生成，能帮我看看嘛？@yanggexuyang\n不对\n你需要两个类（最好不要是嵌套类把。。。）\n假设分别叫A、B\n那么\nA implements IWorldGenerator\nB extends A"
        },
        {
            "author": "时透无一年",
            "timestamp": 1442231220,
            "txt_content": "天蝎_心殇 发表于 2015-9-13 13:38\n是不是这样写？不过我感觉还是没有生成，能帮我看看嘛？@yanggexuyang\n需要在preInit里注册生成器\nGameRegistry.registerWorldGenerator(new XXX(), 优先级);复制代码"
        },
        {
            "author": "天蝎_心殇",
            "timestamp": 1442232240,
            "txt_content": "C似水流年 发表于 2015-9-14 19:47\n需要在preInit里注册生成器\n一语惊醒梦中人，还是大触厉害啊\n话说你编程这么厉害为何不去开发>_O"
        },
        {
            "author": "时透无一年",
            "timestamp": 1442232780,
            "txt_content": "天蝎_心殇 发表于 2015-9-14 20:04\n一语惊醒梦中人，还是大触厉害啊\n话说你编程这么厉害为何不去开发>_O\n实际只是初学者"
        },
        {
            "author": "zjp741480780",
            "timestamp": 1450757100,
            "txt_content": "这个在主类要怎么注册"
        },
        {
            "author": "zjp741480780",
            "timestamp": 1450757160,
            "txt_content": "这个在主类要怎么注册"
        },
        {
            "author": "x岁月成风x",
            "timestamp": 1454214840,
            "txt_content": "楼主给个例子呗，弄不好啊（java文件）_(:з」∠)_"
        },
        {
            "author": "hkpxt1588",
            "timestamp": 1454828820,
            "txt_content": "想请问一下注册语句是这样的吗                GameRegistry.registerWorldGenerator(new OreGenerator(), 0);复制代码第二个参数是什么意思？"
        },
        {
            "author": "hkpxt1588",
            "timestamp": 1454855100,
            "txt_content": "hkpxt1588 发表于 2016-2-7 15:07\n想请问一下注册语句是这样的吗第二个参数是什么意思？\n喔。。。米事了，注释上有写"
        }
    ]
}