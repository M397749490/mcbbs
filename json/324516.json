{
    "title": "1.7.2版本，MCPC服务端，20人以上服务器很卡，求分析。",
    "author": "jjx559",
    "replyCount": 22,
    "timestamp": 1408417920,
    "txt_content": " 本帖最后由 jjx559 于 2014-8-22 17:38 编辑 \n\n问题描述：\n服务器是在阿里云租的，资源监视器的各项明显十分充足，也就是说，服务器完全是够用的。\n但就是卡，20人以下的时候延迟特别低，一旦玩家数到了20，就发生很严重的卡顿。\n但延迟的数值一直不高，从40ms到80ms之间。\n\n\n\n\n\nQQ图片20140819110403.jpg (170.45 KB, 下载次数: 7)\n\n下载附件\n\n资源监视器\n2014-8-19 11:08 上传\n\n\n\n\n\n\n\nbat文件的设置应该是没有问题的：\n@echo OFF\njava -Xmx7G -Xms1G -jar cauldron-1.7.2-1.1147.04.123-server.jar\nPAUSE\n\n\n服务端jar使用的是：\ncauldron-1.7.2-1.1147.04.123-server\n\n服务器配置：\n双核2.2GHz处理器，8G内存，5M带宽。\n服务器系统：\nwindows 2012。\n\n可以确定的是，肯定不是服务器的问题。\n希望有人能够解答。\n完美解决的话，我会送上我所有的金粒。\n\n\n谢谢。\n\n\n",
    "replies": [
        {
            "author": "雪月霜落",
            "timestamp": 1408417980,
            "txt_content": "jjx559 发表于 2014-8-20 18:18\nTPS确实降低了，平时是20，卡的时候已经10以下了。\n按你所说，我已经加钱升级了CPU，没有效果。 ...\n我把我Q号私聊发你。。。Q上说方便。。"
        },
        {
            "author": "jjx559",
            "timestamp": 1408418280,
            "txt_content": "服务端MOD：\n\n\n\n\nQQ截图20140819111316.png (19.37 KB, 下载次数: 4)\n\n下载附件\n\n2014-8-19 11:16 上传\n\n\n\n\n\n\n服务端插件：\n\n\n\n\nQQ截图20140819111444.png (41.78 KB, 下载次数: 1)\n\n下载附件\n\n2014-8-19 11:17 上传\n\n\n\n\n\n\n\n\n\n\nQQ截图20140819111513.png (29.04 KB, 下载次数: 1)\n\n下载附件\n\n2014-8-19 11:17 上传\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "我的世界asd",
            "timestamp": 1408418400,
            "txt_content": "额你去贴吧早1.7.2一件开服器吧"
        },
        {
            "author": "shuaohao38",
            "timestamp": 1408418580,
            "txt_content": "网速太慢\n或插件太多"
        },
        {
            "author": "雪月霜落",
            "timestamp": 1408419960,
            "txt_content": "从图片上看，，你的CPU明显不够，，都飙到100%了"
        },
        {
            "author": "雪月霜落",
            "timestamp": 1408420320,
            "txt_content": "服务端的要求必要条件就是，CPU，内存，以及带宽。\n这3个基本缺一不可。。你的内存和带宽都够了。。。但是，CPU效率太低了。需要更换。\n\nMC需要的是小数据块的处理，一般市场上都是都是偏向大数据块处理的CPU。（PS：理论仅供参考。）"
        },
        {
            "author": "雪月霜落",
            "timestamp": 1408420440,
            "txt_content": "而且，你提供的jar以及bat都无法做参考依据。一点参考价值都没有。\n\n话说你这个CPU配置，不建议安装暮色。\n暮色MOD卡服严重！"
        },
        {
            "author": "mmlmml1",
            "timestamp": 1408420680,
            "txt_content": "我也在云服务器开服的，用云服务器一定要注意带宽问题。\nmc联机平均一人0.3兆每秒，加载地图时耗带宽更大，20*0.3都6兆了，你才5兆，能不卡吗？cpu高请检查一下有没有假矿一类的插件，这种人多容易卡，也用可能是带宽不够引起的。建议升级一下带宽（ps：云服务带宽很贵{:10_501:}。"
        },
        {
            "author": "jjx559",
            "timestamp": 1408422360,
            "txt_content": "雪月霜落 发表于 2014-8-19 11:54\n而且，你提供的jar以及bat都无法做参考依据。一点参考价值都没有。\n\n话说你这个CPU配置，不建议安装暮色。\nCPU始终没有满负荷，图中可见，负荷在百分之70到80之间，刚开服的时候单核CPU，那个真的是飙到百分之百，完全是满的，但卡顿现象也不像现在这样严重。所以我感觉问题应该不是在CPU上，请帮我想想有没有其他可能性因素，我综合所有答案，如果是CPU问题的话，我马上花钱升级。"
        },
        {
            "author": "jjx559",
            "timestamp": 1408422480,
            "txt_content": "mmlmml1 发表于 2014-8-19 11:58\n我也在云服务器开服的，用云服务器一定要注意带宽问题。\nmc联机平均一人0.3兆每秒，加载地图时耗带宽更大， ...\n资源管理器显示，带宽占用一直在2Mbps以下，而且阿里云你也知道，5M以上带宽升级的话，1M就多加将近一百块钱啊，也就是说，我要是想升级到10M带宽，就得多花400块钱。带宽上，我已经无能为力了。"
        },
        {
            "author": "jjx559",
            "timestamp": 1408422660,
            "txt_content": "雪月霜落 发表于 2014-8-19 11:54\n而且，你提供的jar以及bat都无法做参考依据。一点参考价值都没有。\n\n话说你这个CPU配置，不建议安装暮色。\n发jar的目的是想看看有没有人知道这个版本MCPC有没有这方面的缺陷。\n发bat的目的是表名我的最大内存设置无误。"
        },
        {
            "author": "黜梓",
            "timestamp": 1408422780,
            "txt_content": "你还是换个地方租吧...租个VPS都比阿里云好...."
        },
        {
            "author": "黜梓",
            "timestamp": 1408423260,
            "txt_content": "jjx559 发表于 2014-8-19 12:41\n已经租了很多家了。。别的地方确实经济点，但是不靠谱，要不就是卡顿，要不就是延迟高。 ...\n租国外的"
        },
        {
            "author": "jjx559",
            "timestamp": 1408423260,
            "txt_content": "黜梓 发表于 2014-8-19 12:33\n你还是换个地方租吧...租个VPS都比阿里云好....\n已经租了很多家了。。别的地方确实经济点，但是不靠谱，要不就是卡顿，要不就是延迟高。"
        },
        {
            "author": "雪月霜落",
            "timestamp": 1408424100,
            "txt_content": "卡顿体现在什么情况？？\n你可以看下你TPS的情况，如果20人TPS掉到10以下。。那就是服务端整合问题。。\n如果是TPS在20的出现卡顿情况，很有可能是网络问题。。"
        },
        {
            "author": "jjx559",
            "timestamp": 1408445160,
            "txt_content": "黜梓 发表于 2014-8-19 12:41\n租国外的\n国外的延迟高啊。"
        },
        {
            "author": "黜梓",
            "timestamp": 1408450920,
            "txt_content": "jjx559 发表于 2014-8-19 18:46\n国外的延迟高啊。\nLinode的就不高啊。东京机房！"
        },
        {
            "author": "653224281",
            "timestamp": 1408453620,
            "txt_content": "20人1G根本不够"
        },
        {
            "author": "jjx559",
            "timestamp": 1408529880,
            "txt_content": "653224281 发表于 2014-8-19 21:07\n20人1G根本不够\n什么1G。"
        },
        {
            "author": "jjx559",
            "timestamp": 1408529880,
            "txt_content": "雪月霜落 发表于 2014-8-19 12:55\n卡顿体现在什么情况？？\n你可以看下你TPS的情况，如果20人TPS掉到10以下。。那就是服务端整合问题。。\n如果 ...\nTPS确实降低了，平时是20，卡的时候已经10以下了。\n按你所说，我已经加钱升级了CPU，没有效果。"
        },
        {
            "author": "653224281",
            "timestamp": 1408530540,
            "txt_content": "jjx559 发表于 2014-8-20 18:18\n什么1G。\n好吧看错了"
        },
        {
            "author": "雪月霜落",
            "timestamp": 1408547820,
            "txt_content": " 本帖最后由 雪月霜落 于 2014-8-20 23:21 编辑 \njjx559 发表于 2014-8-20 18:18\nTPS确实降低了，平时是20，卡的时候已经10以下了。\n按你所说，我已经加钱升级了CPU，没有效果。 ...\n好的，我问下，你后台是否有警告信息刷日志？\n可以的话，你把后台的日志分几部分复制发上来。。我简单的看下。"
        }
    ]
}