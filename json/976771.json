{
    "title": "Lp权限组插件，怎么删除离线玩家的权限",
    "author": "白可乐",
    "replyCount": 17,
    "timestamp": 1583334840,
    "txt_content": "RT\n我需要删除服务器所有玩家的某条权限\n或者是删除有这条权限的玩家（玩家可能会离线）\n\n请勿回答：找到配置文件单独删除",
    "replies": [
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1583334840,
            "txt_content": "lp user 用户名 permission set ..\n玩家不在一个用户组么？"
        },
        {
            "author": "白可乐",
            "timestamp": 1583334960,
            "txt_content": "阴阳师元素祭祀 发表于 2020-3-4 23:14\nlp user 用户名 permission set ..\n玩家不在一个用户组么？\n是的，不在一个用户组\n可能，玩家A在builder组，玩家B在Derautl组"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1583335080,
            "txt_content": " 本帖最后由 阴阳师元素祭祀 于 2020-3-4 23:21 编辑 \n白可乐 发表于 2020-3-4 23:16\n是的，不在一个用户组\n可能，玩家A在builder组，玩家B在Derautl组\nbuilder组和default组\n是否有继承关系？\n\n一般操作组即可\n\n因为 你不可能精准单独给所有玩家(包括之后新进来玩家)权限 而不通过组\n如果没有继承关系\n创建一个组 root\nbuilder和default都继承root\n然后修改root权限即可"
        },
        {
            "author": "白可乐",
            "timestamp": 1583335680,
            "txt_content": "阴阳师元素祭祀 发表于 2020-3-4 23:18\nbuilder组和default组\n是否有继承关系？\n新建一个root组，然后让玩家A和B所在的组，同时继承root的组，然后，直接删除root的权限，就可以了对吧"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1583335800,
            "txt_content": "白可乐 发表于 2020-3-4 23:28\n新建一个root组，然后让玩家A和B所在的组，同时继承root的组，然后，直接删除root的权限，就可以了对吧\n ...\n对\n\n权限组记得留着\n"
        },
        {
            "author": "白可乐",
            "timestamp": 1583337120,
            "txt_content": "阴阳师元素祭祀 发表于 2020-3-4 23:30\n对\n\n权限组记得留着\n方法虽然可行，但是如果玩家A是在玩家B后面获取的这个权限\n这样该怎么办？"
        },
        {
            "author": "白可乐",
            "timestamp": 1583337540,
            "txt_content": "阴阳师元素祭祀 发表于 2020-3-4 23:30\n对\n\n权限组记得留着\n或者，怎么从组里面删除掉所有玩家"
        },
        {
            "author": "Fur_Xia",
            "timestamp": 1583338380,
            "txt_content": "看了一下，可以开一个组，假设它叫A\n/lp creategroup A\n然后把所有有这个权限（假设为x）都加进这个权限组，\n然后/lp group A permission set X false\n就可以了"
        },
        {
            "author": "Fur_Xia",
            "timestamp": 1583338740,
            "txt_content": " 本帖最后由 Fur_Xia 于 2020-3-5 00:20 编辑 \n白可乐 发表于 2020-3-4 23:59\n或者，怎么从组里面删除掉所有玩家\n如果想要保留这个组（假设为A）的权限节点设置，可以使用：\n/lp group A clone x(随便命名一个）\n/lp deletegroup A\n/lp group x rename A这样就既保留了组A，又清理了组A成员"
        },
        {
            "author": "白可乐",
            "timestamp": 1583339040,
            "txt_content": "Fur_Xia 发表于 2020-3-5 00:19\n如果想要保留这个组（假设为A）的权限节点设置，可以使用：\n/lp group A clone x(随便命名一个）\n/lp dele ...\n大概构思：\n玩家加入这个组，然后，到时间以后，我需要把这个组的玩家全部移除，就是让玩家不继承这个组\n这个要怎么做"
        },
        {
            "author": "Fur_Xia",
            "timestamp": 1583339160,
            "txt_content": "白可乐 发表于 2020-3-5 00:24\n大概构思：\n玩家加入这个组，然后，到时间以后，我需要把这个组的玩家全部移除，就是让玩家不继承这个组\n ...\n到时间以后是指固定一段时间吗？那可以在加入权限组的时候做文章，\n/lp user <player id> parent addtemp <group name> <duration>"
        },
        {
            "author": "白可乐",
            "timestamp": 1583339580,
            "txt_content": "Fur_Xia 发表于 2020-3-5 00:26\n到时间以后是指固定一段时间吗？那可以在加入权限组的时候做文章，\n/lp user  parent addtemp   ...\n我想过，给玩家加入组的时间，但是这个方式的话，但是这个方法行不通"
        },
        {
            "author": "Fur_Xia",
            "timestamp": 1583339640,
            "txt_content": "白可乐 发表于 2020-3-5 00:33\n我想过，给玩家加入组的时间，但是这个方式的话，但是这个方法行不通\n那可以再详细解释一下吗"
        },
        {
            "author": "白可乐",
            "timestamp": 1583340600,
            "txt_content": "Fur_Xia 发表于 2020-3-5 00:34\n那可以再详细解释一下吗\n想到一个可以用js写的办法，但是我写不出来\n\n\n通过判断从现在到周一有几天，然后在通过LP加权限，加几天"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1583368140,
            "txt_content": "白可乐 发表于 2020-3-4 23:52\n方法虽然可行，但是如果玩家A是在玩家B后面获取的这个权限\n这样该怎么办？ ...\n我没有读懂你的意思\n如果你想表示还要下掉A B（都是下权限） 的权限\n那么root应该会覆盖\n\n如果你希望之后玩家通过一些手段获得这个权限\n那么你可以设置这个单独获得的时候 覆盖 root的weight\n\n权限组和玩家和权限组之间权限冲突的时候 取权值最大的作为最终情况"
        },
        {
            "author": "Fur_Xia",
            "timestamp": 1583369580,
            "txt_content": " 我可能理解无能了）真没法理解到底是要啥样））"
        },
        {
            "author": "GiNYAi",
            "timestamp": 1583694720,
            "txt_content": " 本帖最后由 GiNYAi 于 2020-3-9 03:14 编辑 \n\n我看了半天也没有看懂你要做什么\n感觉是一个AB问题\n\n\n批量编辑的话\nhttps://github.com/lucko/LuckPerms/wiki/Bulk-Editing\n\n比如说删除所有玩家的`thatPermission` 权限 从控制台执行\n/lp bulkupdate users delete \"permission == thatPermission\"\n\n\n执行具有破坏力的操作之前记得备份数据\n\n\nLP的一个用户/用户组是可以有多个父用户组的\n\n用户组实际上是用权限节点group.<groupName> 存储的\n那么 批量删除权限组就是 把上例中的 thatPermission 改成 group.thatGourp\n\n"
        }
    ]
}