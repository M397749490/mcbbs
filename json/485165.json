{
    "title": "Spigot插件开发教程-事件监听器",
    "author": "彪悍的新手",
    "replyCount": 18,
    "timestamp": 1439301720,
    "txt_content": " 本帖最后由 彪悍的新手 于 2015-8-13 16:50 编辑 \n\n\n2、事件监听器监听器，顾名思义就是用来监视服务器的。\n\n1、制作一个空白的插件\n首先，你先要制作一个空白的插件，前几章都有讲就不用多说了。\npackage 包名;\n\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class 类名 extends JavaPlugin {\n        \n    @Override\n    public void onEnable() {\n            //启用插件时自动发出\n            getLogger().info(\"已成功加载WelCome插件.\");\n    }\n\n    @Override\n    public void onDisable() {\n            //关闭插件时自动发出\n            getLogger().info(\"已成功卸载WelCome插件.\");\n    }\n\n}\n复制代码\n\n\n\n\n2、创建一个新类并让它实现Listener接口\n\n\n在原来的包上\n名字随意\n然后需要：\n要import的类：\nimport org.bukkit.event.Listener;复制代码\n然后我们需要让这个类实现Listener这个接口\nimplements Listener复制代码这时候是这样的：\npackage 包;\n\nimport org.bukkit.event.Listener;\n\npublic class 类 implements Listener{  //实现接口\n\n}\n复制代码\n\n\n\n\n\n3、注册这个监听器\n\n我们现在必须要注册这个监听器以传达信息给插件。\n在主类的onEnable方法添加：\ngetServer().getPluginManager().registerEvents(new 刚才的类(), this);复制代码例如我刚才的类名是WS\ngetServer().getPluginManager().registerEvents(new WS(), this);复制代码就是这样\n现在就可以继续制作监听器了！\n\n\n4、监听服务器事件\n\n我们要在之前新建的那个类里面添加一个方法\n    @EventHandler\n    public void onPlayerJoin(PlayerJoinEvent event)\n    {\n\n    }复制代码\n并且要import这些类：\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.Bukkit;复制代码\n解释：\nPlayerJoinEvent event复制代码\n是玩家加入事件\n在方法里添加：\n         Bukkit.broadcastMessage(\"Welcome to the server!\");复制代码\n就是发送全服公告：\"Welcome to the server!\"\n但是还是不够完美，我们要让它显示玩家名字：\n变成这样：\n        Bukkit.broadcastMessage(\"Welcome \"+event.getPlayer().getName()+\" to the server!\");复制代码\n\n5、效果图\n\n\n\n\n\n效果.jpg (14.99 KB, 下载次数: 26)\n\n下载附件\n\n2015-8-13 16:46 上传\n\n\n\n\n\n\nps:我的服务器抽了不能显示效果谁帮我试试截个图发给我QAQ服务器好了！\n@123645525 更新了\n要不要发索引呢？\n\n[groupid=659]【DawnWork】[/groupid]",
    "replies": [
        {
            "author": "123645525",
            "timestamp": 1439775240,
            "txt_content": "特来支持"
        },
        {
            "author": "xiangnian",
            "timestamp": 1441383420,
            "txt_content": "4.监听服务器事件没看懂，LZ可以发下全部吗？"
        },
        {
            "author": "彪悍的新手",
            "timestamp": 1441541460,
            "txt_content": "xiangnian 发表于 2015-9-5 00:17\n4.监听服务器事件没看懂，LZ可以发下全部吗？\n签名档个人索引\n深夜党你好"
        },
        {
            "author": "Skey",
            "timestamp": 1448527020,
            "txt_content": "请继续更新~"
        },
        {
            "author": "kjkj2173135",
            "timestamp": 1456108200,
            "txt_content": "请问能不能getServer().getPluginManager().registerEvents(this, this);\n听别人说这样也行"
        },
        {
            "author": "q513902026",
            "timestamp": 1456188360,
            "txt_content": " 本帖最后由 q513902026 于 2016-2-23 08:47 编辑 \nkjkj2173135 发表于 2016-2-22 10:30\n请问能不能getServer().getPluginManager().registerEvents(this, this);\n听别人说这样也行\nthis指代当前类的实例\n如果当前类实现了Listener接口和Plugin接口 则可以\n(JavaPlugin已实现Plugin接口 如果继承则可认为当前类实现Plugin接口)"
        },
        {
            "author": "Agent_Ten",
            "timestamp": 1458975540,
            "txt_content": "\n\n\n\n\n{K4G]Q`QALU1TZN~TZ2{9{Y.png (107.55 KB, 下载次数: 3)\n\n下载附件\n\n2016-3-26 14:58 上传\n\n\n\n\n\n"
        },
        {
            "author": "芒果酱i",
            "timestamp": 1503650520,
            "txt_content": "在主类的onEnable方法添加 是什么意思"
        },
        {
            "author": "457725806",
            "timestamp": 1504071900,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "plgkm6",
            "timestamp": 1510196460,
            "txt_content": "为什么没有在游戏里收到数据呀？是不是已经没有这个事件了？1.12.2版本，spigot"
        },
        {
            "author": "神崎长闲",
            "timestamp": 1510379460,
            "txt_content": "984111216 发表于 2015-8-21 22:17\n如何判断一个玩家是不是OP\n抄他家，问他有没有OP"
        },
        {
            "author": "梦樱似雪",
            "timestamp": 1522646460,
            "txt_content": "请问一下其他事件如何监听？比如右键，还有监听玩家手中物品qwq"
        },
        {
            "author": "陈宇浩",
            "timestamp": 1522928040,
            "txt_content": "66666666666666"
        },
        {
            "author": "轻光233",
            "timestamp": 1556970240,
            "txt_content": "984111216 发表于 2015-8-21 22:17\n如何判断一个玩家是不是OP\nPlayer.isOp();"
        },
        {
            "author": "BellTune",
            "timestamp": 1556970900,
            "txt_content": "需要索引来查阅目录！：）"
        },
        {
            "author": "mcbzhu",
            "timestamp": 1560396420,
            "txt_content": " 本帖最后由 mcbzhu 于 2019-6-13 11:30 编辑 \npublic void onMyEvent(ProjectileHitEvent event1,CreatureSpawnEvent evnent2){}复制代码\n\n请问可以这样子写吗？？？\n"
        },
        {
            "author": "zhangh998",
            "timestamp": 1583800020,
            "txt_content": "wtf，这是什么鬼\n\n\n\n\n\n\na.png\n(3.63 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-3-10 08:28 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "xingxing520",
            "timestamp": 1586403540,
            "txt_content": "挖坟了，抱歉 我想问现在这个事件还有用吗？插件一直没用"
        }
    ]
}