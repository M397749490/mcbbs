{
    "title": "[管理|传送]SignCrowdController —— 限制传送区域人数 [全版本]",
    "author": "erry64",
    "replyCount": 31,
    "timestamp": 1529928540,
    "txt_content": " 本帖最后由 1582952890 于 2018-8-17 09:12 编辑 \n\nSign CrowdControl\n原名SignClickLimiter\n\n\n介绍: 写给服务器的一个简易控制插件，我语言能力不好求人帮忙简化：通过判断一个区域内的玩家数量来决定是否允许一个玩家使用牌子传送进此区域 （可以当作小游戏/副本大厅使用)\n如果你看到这里没看懂很正常，因为我自己也没懂，不过没关系，接着看\n指令&权限:/scd set [名称] [半径] [最大人数]在当前位置创建一个新的监测点/scd del [名称]删除一个已有监测点/scd list列出所有监测点并没有权限，指令都是必须op\n\n使用介绍&截图:\n首先我们使用指令/scd set 创建一个合适的传送（监测）点，为了方便我在传送点周围造了一个3格的参考边框\n\n\n\n\nset.png (188.98 KB, 下载次数: 0)\n\n下载附件\n\n2018-6-25 19:52 上传\n\n\n\n\n\n这时候插件提示我们右键牌子，所以先放一个牌子（插件不会更改第一行&第四行所以可以随意写）\n\n\n\n\nputsign.png (294.65 KB, 下载次数: 1)\n\n下载附件\n\n2018-6-25 19:52 上传\n\n\n\n\n\n绑定成功！可以看到牌子已经变了，这时候我们右键牌子可以传送到刚刚输入指令的位置（也就是检测范围中央）\n\n\n\n\nbindsign.png (172.21 KB, 下载次数: 0)\n\n下载附件\n\n2018-6-25 19:52 上传\n\n\n\n\n\n这时候我们尝试加入。。。传送了！\n\n\n\n\njoin.png (287.34 KB, 下载次数: 1)\n\n下载附件\n\n2018-6-25 19:52 上传\n\n\n\n\n\n那么再试试圈内有人的情况下右键牌子？\n\n\n\n\nQQ截图20180625193639.png (333.92 KB, 下载次数: 0)\n\n下载附件\n\n2018-6-25 19:52 上传\n\n\n\n\n大概就酱紫~ \n配置文件:\nautoRefresh:         #自动刷新\n  enabled: false         #是否开启（会定时检测所有玩家位置有可能对性能造成一定影响）\n  interval: 180           #检测间隔（秒）\nheightIncrement: 1.3    #传送时给y轴增加的高度，用于解决延迟导致玩家卡到地里\nsaves: {}       #储存信息，这里不碰都可以\n复制代码\n\n一些提示:本插件的工作原理是服务器内玩家受否在范围内，并不会阻止玩家自行进入或者离开范围，并且不会储存有多少玩家通过牌子进入或者离开区域，也就是说如果玩家自己走进区域的话那么人数可以超过上限。当然，这也会对性能多少造成一些影响。\n牌子被op破坏时会移除传送点\n更新日志=w=:\nv2.0.1-publicobf\n- 在bbs放出的第一个版本\n\nv2.0.2-publicobf\n- 修复多世界bug\n- 把y轴传送增加的值放到配置文件\n- 修复玩家点击牌子后牌子数字不会变的bug\nv2.0.3-publicobf- 修复玩家点击牌子后会修改传送点的bug, 感谢@asdf1234 \n下载在这里：听说给人气不会花费任何东西哦，下载之前考虑给下人气不？\n\n\n\nSignCrowdControl - 2.0.3.jar\n(10.62 KB, 下载次数: 31)\n\n\n\n2018-7-2 18:49 上传\n点击文件名下载附件\n阅读权限: 20\n\n\n\n\n\n历史版本： \n\n\n\nSignCrowdControl-V2.0.2public.jar\n(10.61 KB, 下载次数: 14)\n\n\n\n2018-6-27 22:52 上传\n点击文件名下载附件\n阅读权限: 20\n\n\n\n\n\n\n\nSignCrowdControl.jar\n(10.29 KB, 下载次数: 15)\n\n\n\n2018-6-25 20:07 上传\n点击文件名下载附件\n阅读权限: 20\n\n\n\n\n\nP.S. 求人帮我重新组织帖子语言\n本插件所用所有代码均为原创,不存在借用/抄袭等行为",
    "replies": [
        {
            "author": "神奈川归尘",
            "timestamp": 1529930460,
            "txt_content": "哇，失踪人口回归  支持"
        },
        {
            "author": "1419488686",
            "timestamp": 1529931900,
            "txt_content": "ANSI和UTF8的1.7.10CK版本都支持吗？"
        },
        {
            "author": "erry64",
            "timestamp": 1529932260,
            "txt_content": "1419488686 发表于 2018-6-25 21:05\nANSI和UTF8的1.7.10CK版本都支持吗？\n并不存在ANSI和utf8的问题, CK如果是KCauldron的话是支持的"
        },
        {
            "author": "@TGL",
            "timestamp": 1530016680,
            "txt_content": "如何具体的观察区域的大小范围"
        },
        {
            "author": "1419488686",
            "timestamp": 1530021480,
            "txt_content": "版本你这个插件有个问题\n如果在X点设置了5范围的人数显著侦查点\n把牌子放在Y点那么右键过去，牌子的人数标明没有变动\n这又是个什么问题,(X,Y只是比喻地点)\n而且每次传送过去有时候会从空中落下，有时候不会"
        },
        {
            "author": "@TGL",
            "timestamp": 1530059040,
            "txt_content": "希望能加个冷却时间, 有些副本限制一天打一次"
        },
        {
            "author": "小兵gk",
            "timestamp": 1530067740,
            "txt_content": "我的天，找了很久啊，这个可以做团本啊"
        },
        {
            "author": "8QQTUDOU",
            "timestamp": 1530070080,
            "txt_content": "有BUG啊\n楼主咋办啊"
        },
        {
            "author": "8QQTUDOU",
            "timestamp": 1530070140,
            "txt_content": "牌子传送 自己过一段时间就会自动失效OP可以玩家就不能传送了"
        },
        {
            "author": "erry64",
            "timestamp": 1530109860,
            "txt_content": "@TGL 发表于 2018-6-26 20:38\n如何具体的观察区域的大小范围\n插件算法是 (（玩家x坐标-目的x）^2 + （玩家z-目的z）^2)^0.5如果小于设置半径就代表在范围内，具体观察嘛。。。。自己画个圈圈？"
        },
        {
            "author": "erry64",
            "timestamp": 1530109920,
            "txt_content": "1419488686 发表于 2018-6-26 21:58\n版本你这个插件有个问题\n如果在X点设置了5范围的人数显著侦查点\n把牌子放在Y点那么右键过去，牌子的人数标 ...\n有时会从空中落下有时不会是因为网络延迟，正常0延迟应该会传送到位置Y+2的地方这样有延迟的玩家可以稍微掉落一点没关系延迟稍微高一点的时候就不会掉落\n\n感谢提供更新人数的bug我下个版本修复"
        },
        {
            "author": "erry64",
            "timestamp": 1530109980,
            "txt_content": "@TGL 发表于 2018-6-27 08:24\n希望能加个冷却时间, 有些副本限制一天打一次\n谢谢建议，可以考虑\n（全程在看雷姆）"
        },
        {
            "author": "erry64",
            "timestamp": 1530109980,
            "txt_content": "8QQTUDOU 发表于 2018-6-27 11:29\n牌子传送 自己过一段时间就会自动失效OP可以玩家就不能传送了\n请具体一点，大约多久有没有什么其他触发条件"
        },
        {
            "author": "@TGL",
            "timestamp": 1530146160,
            "txt_content": "我还有个建议，可以选择和领地插件联用，直接检测领地内是否有玩家存在"
        },
        {
            "author": "烟雨郎君",
            "timestamp": 1530255840,
            "txt_content": "能不能和领地插件联动？\n\n检测传送完毕后该区域boss击杀后多少秒之后自动把所有人传送回主城"
        },
        {
            "author": "1419488686",
            "timestamp": 1530262680,
            "txt_content": "版主，还有个BUG，就是左键破坏牌子的时候,就会移除传送点，但是并没有移除完全，传送点scd list依然能够查到传送点的名称，必须需要scd del 名称再次删除才能重新创建这个传送点（我不知道算不算是个BUG，但是如果想重复创建时候以这种方式进行的时候，不知道会不会给一些人造成麻烦）"
        },
        {
            "author": "erry64",
            "timestamp": 1530326100,
            "txt_content": "1419488686 发表于 2018-6-29 16:58\n版主，还有个BUG，就是左键破坏牌子的时候,就会移除传送点，但是并没有移除完全，传送点scd list依然能够查 ...\n感谢提出，这个是bug不过问题不大而且懒得修复就算了"
        },
        {
            "author": "erry64",
            "timestamp": 1530326160,
            "txt_content": "烟雨郎君 发表于 2018-6-29 15:04\n能不能和领地插件联动？\n\n检测传送完毕后该区域boss击杀后多少秒之后自动把所有人传送回主城 ...\nemmmmmmmmmm  想法不错可惜我太懒"
        },
        {
            "author": "ttc_V",
            "timestamp": 1530444540,
            "txt_content": "楼主可不可以更新一个固定的传送位置和限制每个玩家的进入时间？不然弄副本都要传送到正中央？？玩家可以挂机在里面其他玩家就进不来副本了"
        },
        {
            "author": "1419488686",
            "timestamp": 1530462360,
            "txt_content": "楼主，我又发现一个BUG，这个BUG非常严重，那就是如果你tpXXX离开这个区域\n或者走出这个区域，那么牌子的数量依然不会变动，也就是你进去这个区域，就算退出服务器，或者离开tp离开这个区域，这个牌子只会显示进入后玩家的数量\n\n\n"
        },
        {
            "author": "erry64",
            "timestamp": 1530507780,
            "txt_content": "1419488686 发表于 2018-7-2 00:26\n楼主，我又发现一个BUG，这个BUG非常严重，那就是如果你tpXXX离开这个区域\n或者走出这个区域，那么牌子的数 ...\n这个只是牌子没有更新而已，点一下牌子就更新了"
        },
        {
            "author": "asdf1234",
            "timestamp": 1530523320,
            "txt_content": "發現bug\n告示牌點越多次傳送進去區域的地點會越來越高(曾經一直點到高度200xd)\n這插件真的很棒希望樓主可以更新它"
        },
        {
            "author": "8QQTUDOU",
            "timestamp": 1530523680,
            "txt_content": "就是你创建个牌子传送人数限制 他自己过一段时间就会失效进不去了"
        },
        {
            "author": "_幻_",
            "timestamp": 1530523800,
            "txt_content": "插件很好 好评 特别好用"
        },
        {
            "author": "erry64",
            "timestamp": 1530528360,
            "txt_content": "asdf1234 发表于 2018-7-2 17:22\n發現bug\n告示牌點越多次傳送進去區域的地點會越來越高(曾經一直點到高度200xd)\n這插件真的很棒希望樓主可以 ...\n怕不是传送位置有bug，谢谢反馈马上修复"
        },
        {
            "author": "1419488686",
            "timestamp": 1530721740,
            "txt_content": "楼主说明一下，2.0.3版本更新了什么内容"
        },
        {
            "author": "什么约",
            "timestamp": 1533995700,
            "txt_content": "楼主请问可以转载吗@berry64"
        },
        {
            "author": "帅锅做的鱼",
            "timestamp": 1534403280,
            "txt_content": "太好了，一直都想要这个插件"
        },
        {
            "author": "红人丶云浩",
            "timestamp": 1534955520,
            "txt_content": "bug提交：\n\n服务器版本 1.11.2 pr\n\n刚开始弄的中文传送点名字，重启服务器后传送点会消失\n我还以为是中文的原因，设置了英文传送点\n但是重启服务器后传送点又会自动删除！\n希望楼主修复下！emmmm~"
        },
        {
            "author": "红人丶云浩",
            "timestamp": 1535338620,
            "txt_content": " 本帖最后由 红人丶云浩 于 2018-8-27 11:03 编辑 \n\n如果能giu显示就比较牛逼了emmmm\n牌子点着麻烦\n1.11.2 pr 报错\n之前无法传送的问题可能是这个\n\n[11:00:19 ERROR]: Could not pass event PlayerTeleportEvent to Multiverse-Core v2.5.0-b727\norg.bukkit.event.EventException\n        at org.bukkit.plugin.EventExecutor$1.execute(EventExecutor.java:46) ~[patched_1.11.2.jar:git-Paper-1011]\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:78) ~[patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:517) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:502) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.craftbukkit.v1_11_R1.entity.CraftPlayer.teleport(CraftPlayer.java:569) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.craftbukkit.v1_11_R1.entity.CraftEntity.teleport(CraftEntity.java:254) [patched_1.11.2.jar:git-Paper-1011]\n        at net.berry64.mccity.mod.SCL.SCL.onSignClick(Unknown Source) [%5B限制传送区域人数%5DSignCrowdControl%20-%202.0.3.jar:?]\n        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor39.execute(Unknown Source) [?:?]\n        at org.bukkit.plugin.EventExecutor$1.execute(EventExecutor.java:44) [patched_1.11.2.jar:git-Paper-1011]\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:78) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:517) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:502) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.craftbukkit.v1_11_R1.event.CraftEventFactory.callPlayerInteractEvent(CraftEventFactory.java:233) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PlayerInteractManager.a(PlayerInteractManager.java:444) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PlayerConnection.a(PlayerConnection.java:907) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PacketPlayInUseItem.a(PacketPlayInUseItem.java:37) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PacketPlayInUseItem.a(PacketPlayInUseItem.java:5) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PlayerConnectionUtils$1.run(SourceFile:13) [patched_1.11.2.jar:git-Paper-1011]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [?:1.8.0_181]\n        at java.util.concurrent.FutureTask.run(Unknown Source) [?:1.8.0_181]\n        at net.minecraft.server.v1_11_R1.SystemUtils.a(SourceFile:46) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.MinecraftServer.D(MinecraftServer.java:821) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.DedicatedServer.D(DedicatedServer.java:403) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.MinecraftServer.C(MinecraftServer.java:749) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.MinecraftServer.run(MinecraftServer.java:648) [patched_1.11.2.jar:git-Paper-1011]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_181]\nCaused by: java.lang.NullPointerException\n        at com.onarandombox.MultiverseCore.listeners.MVPlayerListener.playerTeleport(MVPlayerListener.java:178) ~[?:?]\n        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor144.execute(Unknown Source) ~[?:?]\n        at org.bukkit.plugin.EventExecutor$1.execute(EventExecutor.java:44) ~[patched_1.11.2.jar:git-Paper-1011]\n        ... 27 more\n[11:00:19 ERROR]: Could not pass event PlayerInteractEvent to SignCrowdController v2.0.3-PUBLICobf\norg.bukkit.event.EventException\n        at org.bukkit.plugin.EventExecutor$1.execute(EventExecutor.java:46) ~[patched_1.11.2.jar:git-Paper-1011]\n        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:78) ~[patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:517) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:502) [patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.craftbukkit.v1_11_R1.event.CraftEventFactory.callPlayerInteractEvent(CraftEventFactory.java:233) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PlayerInteractManager.a(PlayerInteractManager.java:444) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PlayerConnection.a(PlayerConnection.java:907) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PacketPlayInUseItem.a(PacketPlayInUseItem.java:37) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PacketPlayInUseItem.a(PacketPlayInUseItem.java:5) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.PlayerConnectionUtils$1.run(SourceFile:13) [patched_1.11.2.jar:git-Paper-1011]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [?:1.8.0_181]\n        at java.util.concurrent.FutureTask.run(Unknown Source) [?:1.8.0_181]\n        at net.minecraft.server.v1_11_R1.SystemUtils.a(SourceFile:46) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.MinecraftServer.D(MinecraftServer.java:821) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.DedicatedServer.D(DedicatedServer.java:403) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.MinecraftServer.C(MinecraftServer.java:749) [patched_1.11.2.jar:git-Paper-1011]\n        at net.minecraft.server.v1_11_R1.MinecraftServer.run(MinecraftServer.java:648) [patched_1.11.2.jar:git-Paper-1011]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_181]\nCaused by: java.lang.NullPointerException\n        at org.bukkit.craftbukkit.v1_11_R1.entity.CraftPlayer.teleport(CraftPlayer.java:585) ~[patched_1.11.2.jar:git-Paper-1011]\n        at org.bukkit.craftbukkit.v1_11_R1.entity.CraftEntity.teleport(CraftEntity.java:254) ~[patched_1.11.2.jar:git-Paper-1011]\n        at net.berry64.mccity.mod.SCL.SCL.onSignClick(Unknown Source) ~[?:?]\n        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor39.execute(Unknown Source) ~[?:?]\n        at org.bukkit.plugin.EventExecutor$1.execute(EventExecutor.java:44) ~[patched_1.11.2.jar:git-Paper-1011]\n        ... 18 more复制代码\n"
        },
        {
            "author": "丁帅淇",
            "timestamp": 1539411060,
            "txt_content": "推荐弄领地的，两个一起"
        }
    ]
}