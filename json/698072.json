{
    "title": "今天看了看MC1.12里边的进度",
    "author": "GTH2000",
    "replyCount": 0,
    "timestamp": 1497441360,
    "txt_content": " 本帖最后由 GTH2000 于 2017-6-14 19:59 编辑 \n<div>public class UserAdvancement \n{\n        public enum Frame\n        {\n                challenge,goal,task\n        };\n        \n        private JsonObject advancementJson                 = new JsonObject();\n        private JsonObject advancementDisplay         = new JsonObject();\n        private JsonObject advancementIcon                 = new JsonObject();\n        private JsonObject advancementCriteria         = new JsonObject();\n        \n        public UserAdvancement()\n        {\n                advancementDisplay.add(\"icon\", advancementIcon);\n                \n                advancementJson.add(\"display\", advancementDisplay);\n                advancementJson.add(\"criteria\", advancementCriteria);\n        }\n        \n        @SuppressWarnings(\"deprecation\")\n        public void addToServer(Plugin plugin, String name)\n        {\n                NamespacedKey nm = new NamespacedKey(plugin, name);\n                Server mcServer = plugin.getServer();\n\n                mcServer.getUnsafe().loadAdvancement(nm, advancementJson.toString());\n        }\n        \n        //图标物品ID\n        public void setIconItem(String item)\n        {\n                advancementIcon.addProperty(\"item\", item);\n        }\n        \n        //图标物品的损坏值\n        public void setIconData(short data)\n        {\n                advancementIcon.addProperty(\"data\", data);\n        }\n        \n        //进度的名称\n        public void setTitle(String title)\n        {\n                advancementDisplay.addProperty(\"title\", title);\n        }\n        \n        //JSON版进度的名称\n        public void setTitle(JsonObject jsonTitle)\n        {\n                advancementDisplay.add(\"title\", jsonTitle);\n        }\n        \n        //图标边框\n        public void setFrame(Frame frame)\n        {\n                advancementDisplay.addProperty(\"frame\", frame.name());\n        }\n        \n        //进度标签背景（仅根进度）\n        public void setBackground(String filePath)\n        {\n                advancementDisplay.addProperty(\"background\", filePath);\n        }\n        \n        //进度的描述\n        public void setDescription(String description)\n        {\n                advancementDisplay.addProperty(\"description\", description);\n        }\n        \n        //JSON版进度的描述\n        public void setDescription(JsonObject jsonTitle)\n        {\n                advancementDisplay.add(\"description\", jsonTitle);\n        }\n        \n        //是否在完成此进度后显示提示信息，默认为true\n        public void setShowToast(boolean isShowToast)\n        {\n                advancementDisplay.addProperty(\"show_toast\", isShowToast);\n        }\n        \n        //是否在完成此进度后广播此信息，默认为true\n        public void setAnnounceaToChat(boolean isAnnounceaToChat)\n        {\n                advancementDisplay.addProperty(\"announce_to_chat\", isAnnounceaToChat);\n        }\n        \n        //是否在完成进度后才显示进度\n        public void setHidden(boolean isHidden)\n        {\n                advancementDisplay.addProperty(\"hidden\", isHidden);\n        }\n        \n        //父目录（对根目录无效）\n        public void setParent(String parent)\n        {\n                advancementJson.addProperty(\"parent\", parent);\n        }\n        \n        //必须达成的条件的触发器\n        public void addTrigger(String triggerName, String triggerType, JsonObject triggerData)\n        {\n                JsonObject advancementTrigger = new JsonObject();\n                advancementTrigger.addProperty(\"trigger\", triggerType);\n                \n                if (triggerData != null)\n                        advancementTrigger.add(\"conditions\", triggerData);\n                \n                advancementCriteria.add(triggerName, advancementTrigger);\n        }\n        \n        //条件列表\n        public void setRequirements(JsonArray requirements)\n        {\n                advancementJson.add(\"requirements\", requirements);\n        }\n        \n        //可选，任务完成后的奖励\n        public void setRewards(JsonObject rewards)\n        {\n                advancementJson.add(\"rewards\", rewards);\n        }</div><div>}\n</div>复制代码不是特别会JAVA随便写了一个（</div>是mcbbs搞得不管了。。。）\n\n",
    "replies": []
}