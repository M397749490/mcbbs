{
    "title": "如何才能屏蔽指定玩家的发言",
    "author": "3079655185",
    "replyCount": 6,
    "timestamp": 1587739680,
    "txt_content": "比如说A玩家不想再看到B玩家发出的消息，A玩家可以将B玩家拉黑，（将B记录到A玩家的拉黑列表里），但是其他玩家还是可以看到B玩家的发言。\n就是和QQ群内的屏蔽某个人的功能一样。\n\nBukkit有没有现成的方法啊，好像没有（我没找到...）\n\n是不是要利用发包侦听，求大佬们回答",
    "replies": [
        {
            "author": "1378495772",
            "timestamp": 1587740880,
            "txt_content": "你知道 Essentials 有个叫 ignore 的命令吧\n参考(抄)一下它的源码和幕后原理"
        },
        {
            "author": "1139365029",
            "timestamp": 1587741480,
            "txt_content": "@EventHandler\n  public void AsyncPlayerChatEvent (AsyncPlayerChatEvent e) {\n    //e.getRecipients();//可以看到这条消息的玩家的集合\n    e.getRecipients().clear();//使所有人都看不到此消息\n    e.getRecipients().add(player);//添加可以看到此消息的人\n  }复制代码"
        },
        {
            "author": "3079655185",
            "timestamp": 1587741840,
            "txt_content": "1139365029 发表于 2020-4-24 23:18\n获取到可以看到消息的玩家的集合，然后遍历集合，删除符合\"条件\"的玩家，可以吗\n如果可以的话，那把这个集合处理完了，怎么set回去呢，还是不用set"
        },
        {
            "author": "1139365029",
            "timestamp": 1587742320,
            "txt_content": "3079655185 发表于 2020-4-24 23:24\n获取到可以看到消息的玩家的集合，然后遍历集合，删除符合\"条件\"的玩家，可以吗\n如果可以的话，那把这个 ...\n直接e.getRecipients().remove(Player);就可以了，不需要set回去"
        },
        {
            "author": "3079655185",
            "timestamp": 1587742680,
            "txt_content": "1139365029 发表于 2020-4-24 23:32\n直接e.getRecipients().remove(Player);就可以了，不需要set回去\nList<String> players = 不想看到此消息的玩家名的列表;\nfor(String s : players){\n e.getRecipients().remove(Bukkit.getPlayer(s));\n}\n复制代码\n这样就可以了对吗.\n我就可以理解为getRecipients()其实是返回了一个List<Player>,我操作这个List就行了,对吗"
        },
        {
            "author": "1139365029",
            "timestamp": 1587742860,
            "txt_content": "3079655185 发表于 2020-4-24 23:38\n这样就可以了对吗.\n我就可以理解为getRecipients()其实是返回了一个List,我操作这个List就行了,对吗 ...\n你自己查API研究嘛，\nhttps://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/player/AsyncPlayerChatEvent.html#getRecipients--\n返回的是Set<Player>，遍历屏蔽列表，判断一下是否在集合里面，在就删除"
        }
    ]
}