{
    "title": "关于AE2中合成运算模拟时间过长问题的解决方案",
    "author": "q522461078",
    "replyCount": 14,
    "timestamp": 1567439160,
    "txt_content": " 本帖最后由 q522461078 于 2019-9-2 23:48 编辑 \n\n一、概念定义：1、乘法模拟：AE2的自动合成中，如果合成产物中不包含配方中的物品，即N合1的模式，AE合成运算模拟中是进行乘法运算，该类的合成运算模 拟会较快，通常千级别的合成数量可以在10秒内计算完成（比如9个铜锭合成1个铜块）。\n\n\n\n\n图片1.png (16.35 KB, 下载次数: 1)\n\n下载附件\n\n2019-9-2 23:44 上传\n\n\n\n\n2、加法模拟：如果合成产物中会返还部分配方中的物品，即N+A合成1+A，AE合成运算模拟中是进行加法运算，该类的合成运算模拟在合成数目较 多时会运算较长时间，有时候甚至需要100~500秒（比如IC中铜锭+锻造锤合成铜板+锻造锤）。\n\n\n\n\n图片2.png (30.55 KB, 下载次数: 1)\n\n下载附件\n\n2019-9-2 23:44 上传\n\n\n\n\n3、ME接口制作样板：即储存在ME接口中的制作样板，在AE网络中显示该合成配方。4、装配室合成样板：储存在分子装配室中的合成样板，单个分子装配室仅可放一个合成样板，在AE网络中不显示该合成配方。\n二、问题简介，AE2合成中大量进行加法模拟的时候会出现模拟若干时间才能点开始，如果要合成大量物品，然后不确定材料是否足够，很可能点 一次模拟花等了五分钟然后发现材料不够的痛苦情形。\n\n\n\n\n图片3.png (49.17 KB, 下载次数: 1)\n\n下载附件\n\n2019-9-2 23:44 上传\n\n\n\n\n\n三、解决方案1、利用装配室合成样板不在AE网络中的特性，我们可以制作一个（铜锭+锻造锤→铜板+锻造锤）的合成样板放入分子装配室中。\n\n\n\n\n图片4.png (12.51 KB, 下载次数: 1)\n\n下载附件\n\n2019-9-2 23:44 上传\n\n\n\n\n然后在分子装配 室旁放一个ME接口，接口中放入一个改造的制作样板（铜锭→铜板）。此时相当于ME接口向分子装配式输出铜锭，并等待一个铜板返回，该合成 属于乘法模拟，所以计算起来会很快。\n\n\n\n\n图片5.png (57.8 KB, 下载次数: 1)\n\n下载附件\n\n2019-9-2 23:44 上传\n\n\n\n\n\n2、其次我们需要在ME接口中储存物品的位置标记上我们的固定物品A（例子中的锻造锤），并在ME接口中放入合成卡（你得在AE网络中其他的接 口放一个能合成锻造锤的配方），这样保证ME接口中的锻造锤不会用完。然后我们用其他的物流模组，从ME接口中提取锻造锤，输入到相邻的这 个分子装配室中。 （你也可以直接用AE的输出总线贴到分子装配室，使得分子装配室中总有锻造锤，记得放上合成卡、加速卡。不过这样会多占 用一个AE频道）。\n\n\n\n\n图片6.png (39.46 KB, 下载次数: 1)\n\n下载附件\n\n2019-9-2 23:44 上传\n\n\n\n\n3、总结，分子装配室中是正常的合成样板，ME接口为其不断的提供材料，然后用其他的另外某个方式，向分子装配室提供会原配方中会返还的材料。这样使得AE在运算模拟时的速度得到极大提升。\n四、注意事项及其他1、若合成配方中返还的物品具有无限使用次数，则可直接将该物品放入分子装配室内。无需进行三-2中的操作。（例子：魔法作物中使用终极注 入之石合成精华，只需要把合成样板（4个初级精华+极注入之石）跟终极注入之石放入分子装配室，然后给装配室输入4个初级精华（制作样板为 4个初级精华=1个中级精华），就可以合成中级精华了）\n2、ME接口的输出物品规则：ME接口会按照其模板中包含的全部物品数量，一次性全部输出到同一个容器里（瞬间），如果容器空间不够配方物品 全部进去，则不进行输出。比如1个锻造锤可以合成80次，理论上应该是可以做一个1个锻造锤+80铜锭=80铜板制作样板的，但是实际操作过程发 现这个ME接口会卡住，因为分子装配室装不下这么多东西（实际上合成铜板的分子装配室只能放得下锻造锤+1个铜锭这2个物品）。\n3、拓展1：上述提到可以做一个1个锻造锤+80铜锭=80铜板制作样板，那么其实可以在ME接口旁放一个容器，足以容纳制作样板中的所有物品，然 后再用物流将物品运输到分子装配室中，也可以进行正常的合成。但是由于不同模组物流运输的速度不同，对分子装配室合成的效率也有影响。 目前笔者测试的输入分子装配室的速度顺序是（皆为速度升级堆满）：ME接口【AE2】≥运输节点（物品）【更多实用设备】＞输出总线【AE2】 ＞物品导管【EIO】。其余模的物流组暂未做测试。\n4、拓展2：合成装置也可以用非AE的设备，比如热力膨胀的循环装配台，植物魔法的机巧箱等自动合成的设备，不过需要额外增加供能管路及物 流反回管路。\n5、拓展3：上述提到可以在ME接口旁放一个容器，那么在考虑额外供能及物流的情况下。可以做到把该容器中的物品分流到多个合成装置中，进 一步提升合成效率。【比如我要用100个熔炉烧1000个矿物，那么用AE用ME接口把1000个原矿输到容器里，再用物流从这个容器里把1000个矿物分 流到100个熔炉里。这个应该大部分AE玩家都会，毕竟合成非工作台物品，大部分都是用这种模式的】\n6、合成卡的功能介绍：合成卡可在ME接口（针对第一行标记的物品）、输出总线（针对标记的输出物品）中发挥作用。其工作机制为：检测目标容器是否可以放入该标记物品（如果是ME接口，是在第一行有标记且第二行为空的情况下）；如果可以，则检测AE中是否有该物品，有则输出，没有物品的话则检测AE是否可以合成该物品（放有合成卡的输出总线可以切换输出模式）；如果可以合成该物品，则向AE的合成处理器发送合成请求。合成的数量与输出总线中的加速卡数量有关（1张加速卡提升4倍，初始数量为1.输出总线有4个槽，1个合成卡3个加速卡，最大可一次提交64个物 品合成申请），如果是ME接口，则与接口第一栏标记的数量有关（标30个物品就合30个物品）。\n7、分子装配室的特性：分子装配室贴在ME接口的情况下不占用频道；样板只能放入合成样板，无法放入制作样板（即非工作台配方无法进入）；可以有5个加速卡升级；在合成样板为空的情况下，左边9格无法放入任何东西；在有合成样板的情况下，根据合成样板可以放入对应配方的物品；合成完毕后，会将产物尝试从分子装配室的6个面弹出（能塞就弹，不能塞则不输出），所以如果2分子装配室A跟B贴在一起，A装配室的产物是B 装配室的配方，那么A合成之后可以直接弹给B，B再继续进行合成。因为这个特性，可能会出现分子装配室A的产物不返回网络（造成AE合成处理 器中提示该物品合成中），直接参与B装配室的合成，然后AE合成网络有可能会卡住。建议尽量避免2个分子贴着放的情况发生。分子装配室只需要供AE电及合成样板即可工作，无需频道（所以其实可以供能+1个能源接收器+N个分子装配室连成一片工作，而且因为分子装配 室可以当导线，你只需要给能源接收器供电即可。）\n",
    "replies": [
        {
            "author": "森林蝙蝠",
            "timestamp": 1567473720,
            "txt_content": "楼主也是有心，不过对于这种不消耗（例如血魔宝珠，神秘农业水晶）合成的物品，我不用AE，而是用rftools的合成机，直接输入原材料进去，等产物出来即可。"
        },
        {
            "author": "坏2333",
            "timestamp": 1567482540,
            "txt_content": " 看完帖子 我觉得我应该重新思考下我家ae的安放了"
        },
        {
            "author": "q522461078",
            "timestamp": 1567505640,
            "txt_content": "森林蝙蝠 发表于 2019-9-3 09:22\n楼主也是有心，不过对于这种不消耗（例如血魔宝珠，神秘农业水晶）合成的物品，我不用AE，而是用rftools的 ...\n这种的话我基本就是用制作样板标记初始材料跟最终产物在ME接口里。然后ME接口经过若干合成到最终产物之后输回AE。（比如512个精华合成2个终极精华）"
        },
        {
            "author": "mlfl",
            "timestamp": 1596006540,
            "txt_content": "回来走走..."
        },
        {
            "author": "Eudu",
            "timestamp": 1596017220,
            "txt_content": "q522461078 发表于 2019-9-3 18:14\n这种的话我基本就是用制作样板标记初始材料跟最终产物在ME接口里。然后ME接口经过若干合成到最终产物之后 ...\n我觉的用ae的合成终端直接操作也挺快的（指锻造锤）"
        },
        {
            "author": "FrantGwo",
            "timestamp": 1596023700,
            "txt_content": "要不是AE服务器资源占用太恐怖我也好好研究AE了"
        },
        {
            "author": "Em_k",
            "timestamp": 1596767220,
            "txt_content": "ae属实的方便 ae怎么摆放都行其实"
        },
        {
            "author": "Em_k",
            "timestamp": 1596767760,
            "txt_content": "坏2333 发表于 2019-9-3 11:49\n看完帖子 我觉得我应该重新思考下我家ae的安放了\n我觉得怎么放都行 只要不是瞎放"
        },
        {
            "author": "Em_k",
            "timestamp": 1596767820,
            "txt_content": "q522461078 发表于 2019-9-3 18:14\n这种的话我基本就是用制作样板标记初始材料跟最终产物在ME接口里。然后ME接口经过若干合成到最终产物之后 ...\n多谢大神 有多学到了"
        },
        {
            "author": "Em_k",
            "timestamp": 1596767820,
            "txt_content": "mlfl 发表于 2020-7-29 15:09\n回来走走...\n多谢大神 有多学到了"
        },
        {
            "author": "Em_k",
            "timestamp": 1596767820,
            "txt_content": "Eudu 发表于 2020-7-29 18:07\n我觉的用ae的合成终端直接操作也挺快的（指锻造锤）\n多谢大神 有多学到了"
        },
        {
            "author": "Em_k",
            "timestamp": 1596767880,
            "txt_content": "FrantGwo 发表于 2020-7-29 19:55\n要不是AE服务器资源占用太恐怖我也好好研究AE了\n多谢大神 有多学到了"
        },
        {
            "author": "Em_k",
            "timestamp": 1596767880,
            "txt_content": "森林蝙蝠 发表于 2019-9-3 09:22\n楼主也是有心，不过对于这种不消耗（例如血魔宝珠，神秘农业水晶）合成的物品，我不用AE，而是用rftools的 ...\n多谢大神 有多学到了"
        },
        {
            "author": "1529527731",
            "timestamp": 1608031020,
            "txt_content": "学到了学到了"
        }
    ]
}