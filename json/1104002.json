{
    "title": "请求macOS/Linux下Minecraft启动参数",
    "author": "RarityEG",
    "replyCount": 5,
    "timestamp": 1597644780,
    "txt_content": "因我对macOS/Linux下的启动参数及Java程序结构不熟，烦请使用macOS或Linux的同志帮我一下：使用任何启动器生成启动参数（例如HMCL或官方启动器）并回复给出非常感谢！（主要是懒得分析源码）\n\n",
    "replies": [
        {
            "author": "xmdhs",
            "timestamp": 1597644780,
            "txt_content": "光看启动参数其实用处不大。\n-Dminecraft.client.jar=/home/shell/minecraft/versions/1.16.2/1.16.2.jar -XX:+UseG1GC -Xmx2048m -XX:-UseAdaptiveSizePolicy -XX:-OmitStackTraceInFastThrow -Dfml.ignoreInvalidMinecraftCertificates=true -Dfml.ignorePatchDiscrepancies=true -Djava.library.path=/home/shell/minecraft/versions/1.16.2/natives -Dminecraft.launcher.brand=GML -Dminecraft.launcher.version=1.2.5 -cp /home/shell/minecraft/libraries/com/mojang/patchy/1.1/patchy-1.1.jar:/home/shell/minecraft/libraries/oshi-project/oshi-core/1.1/oshi-core-1.1.jar:/home/shell/minecraft/libraries/net/java/dev/jna/jna/4.4.0/jna-4.4.0.jar:/home/shell/minecraft/libraries/net/java/dev/jna/platform/3.4.0/platform-3.4.0.jar:/home/shell/minecraft/libraries/com/ibm/icu/icu4j/66.1/icu4j-66.1.jar:/home/shell/minecraft/libraries/com/mojang/javabridge/1.0.22/javabridge-1.0.22.jar:/home/shell/minecraft/libraries/net/sf/jopt-simple/jopt-simple/5.0.3/jopt-simple-5.0.3.jar:/home/shell/minecraft/libraries/io/netty/netty-all/4.1.25.Final/netty-all-4.1.25.Final.jar:/home/shell/minecraft/libraries/com/google/guava/guava/21.0/guava-21.0.jar:/home/shell/minecraft/libraries/org/apache/commons/commons-lang3/3.5/commons-lang3-3.5.jar:/home/shell/minecraft/libraries/commons-io/commons-io/2.5/commons-io-2.5.jar:/home/shell/minecraft/libraries/commons-codec/commons-codec/1.10/commons-codec-1.10.jar:/home/shell/minecraft/libraries/net/java/jinput/jinput/2.0.5/jinput-2.0.5.jar:/home/shell/minecraft/libraries/net/java/jutils/jutils/1.0.0/jutils-1.0.0.jar:/home/shell/minecraft/libraries/com/mojang/brigadier/1.0.17/brigadier-1.0.17.jar:/home/shell/minecraft/libraries/com/mojang/datafixerupper/4.0.26/datafixerupper-4.0.26.jar:/home/shell/minecraft/libraries/com/google/code/gson/gson/2.8.0/gson-2.8.0.jar:/home/shell/minecraft/libraries/com/mojang/authlib/1.6.25/authlib-1.6.25.jar:/home/shell/minecraft/libraries/org/apache/commons/commons-compress/1.8.1/commons-compress-1.8.1.jar:/home/shell/minecraft/libraries/org/apache/httpcomponents/httpclient/4.3.3/httpclient-4.3.3.jar:/home/shell/minecraft/libraries/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:/home/shell/minecraft/libraries/org/apache/httpcomponents/httpcore/4.3.2/httpcore-4.3.2.jar:/home/shell/minecraft/libraries/it/unimi/dsi/fastutil/8.2.1/fastutil-8.2.1.jar:/home/shell/minecraft/libraries/org/apache/logging/log4j/log4j-api/2.8.1/log4j-api-2.8.1.jar:/home/shell/minecraft/libraries/org/apache/logging/log4j/log4j-core/2.8.1/log4j-core-2.8.1.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl/3.2.2/lwjgl-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-jemalloc/3.2.2/lwjgl-jemalloc-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-openal/3.2.2/lwjgl-openal-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-opengl/3.2.2/lwjgl-opengl-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-glfw/3.2.2/lwjgl-glfw-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-stb/3.2.2/lwjgl-stb-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-tinyfd/3.2.2/lwjgl-tinyfd-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl/3.2.2/lwjgl-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-jemalloc/3.2.2/lwjgl-jemalloc-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-openal/3.2.2/lwjgl-openal-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-opengl/3.2.2/lwjgl-opengl-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-glfw/3.2.2/lwjgl-glfw-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-tinyfd/3.2.2/lwjgl-tinyfd-3.2.2.jar:/home/shell/minecraft/libraries/org/lwjgl/lwjgl-stb/3.2.2/lwjgl-stb-3.2.2.jar:/home/shell/minecraft/libraries/com/mojang/text2speech/1.11.3/text2speech-1.11.3.jar:/home/shell/minecraft/libraries/com/mojang/text2speech/1.11.3/text2speech-1.11.3.jar:/home/shell/minecraft/versions/1.16.2/1.16.2.jar net.minecraft.client.main.Main --username xmdhs --version GML 1.2.5 --gameDir /home/shell/minecraft/versions/1.16.2 --assetsDir /home/shell/minecraft/assets --assetIndex 1.16 --uuid 19b7ef004270ac2b06006d9d588e50f4 --accessToken 19b7ef004270ac2b06006d9d588e50f4 --userType mojang --versionType GML 1.2.5复制代码\n\n需要注意的是，linux 和 mac 下，库文件的连接符是 : 而非 ; ，此外还有一个坑是游戏的 json 文件中，比如这段内容是有用的，得想办法解析其中的逻辑\n        \"jvm\": [\n            {\n                \"rules\": [\n                    {\n                        \"action\": \"allow\",\n                        \"os\": {\n                            \"name\": \"osx\"\n                        }\n                    }\n                ],\n                \"value\": [\n                    \"-XstartOnFirstThread\"\n                ]\n            },\n            {\n                \"rules\": [\n                    {\n                        \"action\": \"allow\",\n                        \"os\": {\n                            \"name\": \"windows\"\n                        }\n                    }\n                ],\n                \"value\": \"-XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump\"\n            },\n            {\n                \"rules\": [\n                    {\n                        \"action\": \"allow\",\n                        \"os\": {\n                            \"name\": \"windows\",\n                            \"version\": \"^10\"\n                        }\n                    }\n                ],\n                \"value\": [\n                    \"-Dos.name=Windows 10\",\n                    \"-Dos.version=10.0\"\n                ]\n            },\n            {\n                \"rules\": [\n                    {\n                        \"action\": \"allow\",\n                        \"os\": {\n                            \"arch\": \"x86\"\n                        }\n                    }\n                ],\n                \"value\": \"-Xss1M\"\n            },\n            \"-Djava.library.path=${natives_directory}\",\n            \"-Dminecraft.launcher.brand=${launcher_name}\",\n            \"-Dminecraft.launcher.version=${launcher_version}\",\n            \"-cp\",\n            \"${classpath}\"\n        ]\n    },复制代码\n\n当然你动态语言解析这段 json 很舒服了，静态语言解析这种 json 只想骂人\n\n这里的含义是 mac 的启动参数中必须额外加上 -XstartOnFirstThread ，否则就崩溃咯。"
        },
        {
            "author": "洞穴夜莺",
            "timestamp": 1597653780,
            "txt_content": " 本帖最后由 洞穴夜莺 于 2020-8-17 17:38 编辑 \n\n/usr/lib/jvm/java-11-openjdk/bin/java -Xdebug \"-Dminecraft.client.jar=.minecraft/versions/1.14.4/1.14.4.jar\" \"-Duser.home=null\" -XX:+UnlockExperimentalVMOptions -XX:+UseG1GC \"-XX:G1NewSizePercent=20\" \"-XX:G1ReservePercent=20\" \"-XX:MaxGCPauseMillis=50\" \"-XX:G1HeapRegionSize=16M\" -XX:-UseAdaptiveSizePolicy -XX:-OmitStackTraceInFastThrow -Xmn128m -Xmx1920m \"-Dfml.ignoreInvalidMinecraftCertificates=true\" \"-Dfml.ignorePatchDiscrepancies=true\" \"-Djava.library.path=/home/billy/.config/hmcl/.minecraft/versions/1.14.4/natives\" \"-Dminecraft.launcher.brand=HMCL\" \"-Dminecraft.launcher.version=3.2.SNAPSHOT\" -cp /home/billy/.config/hmcl/.minecraft/libraries/com/mojang/patchy/1.1/patchy-1.1.jar:/home/billy/.config/hmcl/.minecraft/libraries/oshi-project/oshi-core/1.1/oshi-core-1.1.jar:/home/billy/.config/hmcl/.minecraft/libraries/net/java/dev/jna/jna/4.4.0/jna-4.4.0.jar:/home/billy/.config/hmcl/.minecraft/libraries/net/java/dev/jna/platform/3.4.0/platform-3.4.0.jar:/home/billy/.config/hmcl/.minecraft/libraries/com/ibm/icu/icu4j-core-mojang/51.2/icu4j-core-mojang-51.2.jar:/home/billy/.config/hmcl/.minecraft/libraries/com/mojang/javabridge/1.0.22/javabridge-1.0.22.jar:/home/billy/.config/hmcl/.minecraft/libraries/net/sf/jopt-simple/jopt-simple/5.0.3/jopt-simple-5.0.3.jar:/home/billy/.config/hmcl/.minecraft/libraries/io/netty/netty-all/4.1.25.Final/netty-all-4.1.25.Final.jar:/home/billy/.config/hmcl/.minecraft/libraries/com/google/guava/guava/21.0/guava-21.0.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/apache/commons/commons-lang3/3.5/commons-lang3-3.5.jar:/home/billy/.config/hmcl/.minecraft/libraries/commons-io/commons-io/2.5/commons-io-2.5.jar:/home/billy/.config/hmcl/.minecraft/libraries/commons-codec/commons-codec/1.10/commons-codec-1.10.jar:/home/billy/.config/hmcl/.minecraft/libraries/net/java/jinput/jinput/2.0.5/jinput-2.0.5.jar:/home/billy/.config/hmcl/.minecraft/libraries/net/java/jutils/jutils/1.0.0/jutils-1.0.0.jar:/home/billy/.config/hmcl/.minecraft/libraries/com/mojang/brigadier/1.0.17/brigadier-1.0.17.jar:/home/billy/.config/hmcl/.minecraft/libraries/com/mojang/datafixerupper/2.0.24/datafixerupper-2.0.24.jar:/home/billy/.config/hmcl/.minecraft/libraries/com/google/code/gson/gson/2.8.0/gson-2.8.0.jar:/home/billy/.config/hmcl/.minecraft/libraries/com/mojang/authlib/1.5.25/authlib-1.5.25.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/apache/commons/commons-compress/1.8.1/commons-compress-1.8.1.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/apache/httpcomponents/httpclient/4.3.3/httpclient-4.3.3.jar:/home/billy/.config/hmcl/.minecraft/libraries/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/apache/httpcomponents/httpcore/4.3.2/httpcore-4.3.2.jar:/home/billy/.config/hmcl/.minecraft/libraries/it/unimi/dsi/fastutil/8.2.1/fastutil-8.2.1.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/apache/logging/log4j/log4j-api/2.8.1/log4j-api-2.8.1.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/apache/logging/log4j/log4j-core/2.8.1/log4j-core-2.8.1.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/lwjgl/lwjgl/3.2.2/lwjgl-3.2.2.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/lwjgl/lwjgl-jemalloc/3.2.2/lwjgl-jemalloc-3.2.2.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/lwjgl/lwjgl-openal/3.2.2/lwjgl-openal-3.2.2.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/lwjgl/lwjgl-opengl/3.2.2/lwjgl-opengl-3.2.2.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/lwjgl/lwjgl-glfw/3.2.2/lwjgl-glfw-3.2.2.jar:/home/billy/.config/hmcl/.minecraft/libraries/org/lwjgl/lwjgl-stb/3.2.2/lwjgl-stb-3.2.2.jar:/home/billy/.config/hmcl/.minecraft/libraries/com/mojang/text2speech/1.11.3/text2speech-1.11.3.jar:/home/billy/.config/hmcl/.minecraft/versions/1.14.4/1.14.4.jar net.minecraft.client.main.Main --username TESTTEST --version \"HMCL 3.2.SNAPSHOT\" --gameDir /home/billy/.config/hmcl/.minecraft --assetsDir /home/billy/.config/hmcl/.minecraft/assets --assetIndex 1.14 --uuid 4fcc634716653f40a6c6c8c73c5d4f43 --accessToken ed9458677db9484aa685bd7cb16e987e --userType mojang --versionType \"HMCL 3.2.SNAPSHOT\" --width 854 --height 480\nManjaro Linux\n上面的登录信息是HMCL的TESTTEST离线登录\n/home/billy是主文件夹路径\n/home/billy/.config/hmcl是HMCL运行位置\n\n/usr/lib/jvm/java-11-openjdk/bin/java是全局Java 11（OpenJDK HotspotVM）路径\n/usr/lib/jvm是全局JDK/JRE安装路径，习惯上所有的全局JDK/JRE均安装在此处，例如OpenJDK 11安装在此目录的java-11-openjdk文件夹中，OpenJDK 8安装在此目录的java-8-openjdk文件夹中，此目录下的default文件和default-runtime文件是指向全局默认Java的链接"
        },
        {
            "author": "RarityEG",
            "timestamp": 1597658160,
            "txt_content": "xmdhs 发表于 2020-8-17 17:36\n光看启动参数其实用处不大。\njson是js亲儿子啊\n我想知道的是java的路径……不完全是参数"
        },
        {
            "author": "xmdhs",
            "timestamp": 1597658340,
            "txt_content": "Ponyville 发表于 2020-8-17 17:56\njson是js亲儿子啊\n我想知道的是java的路径……不完全是参数\n直接无脑调用 java 命令即可，有谁装 java 连环境都没设置好的（\n\n如果要查找反而就麻烦了，不同的 linux 发行版的软件安装的位置不一定相同。"
        },
        {
            "author": "洞穴夜莺",
            "timestamp": 1597658400,
            "txt_content": "Ponyville 发表于 2020-8-17 17:56\njson是js亲儿子啊\n我想知道的是java的路径……不完全是参数\n看我的回复\njava命令直接调用全局默认java\n其余的在/usr/lib/jvm找\n\n"
        }
    ]
}