{
    "title": "CatServer优化教程 —— 超实用的优化教程",
    "author": "落花雨喵",
    "replyCount": 26,
    "timestamp": 1595588400,
    "txt_content": "首先要确保使用的是最新的稳定版, 最新版已经进行大量优化和加入部分稳定的多线程功能 (当然不怕半个小时崩一次和一堆BUG可以用多线程版, 不过某些情况优化还不如最新的稳定版)\n最新稳定版下载地址: http://catserver.moe/download/universal\n\n1.修改启动参数开启G1GC和优化GC\n在原有基础参数上增加:\n-XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90\n(千万不要参照其他教程设置Xss参数!会崩服!!)\n\n2.配置spigot.yml\n将max-tick-time下的参数适当改小\ntile 每个世界的机器每tick运行毫秒限制\nentity 每个世界的实体每tick运行毫秒限制\nMC服务端每秒最多20次tick, 如果每个tick耗时超过50毫秒, TPS则会降低\n\n将entity-activation-range下的参数适当改小\nanimals 动物离玩家多少距离开始活跃\nmonsters 怪物离玩家多少距离开始活跃\nmisc 其他实体(掉落物等)离玩家多少距离开始活跃\n\n3.配置catserver.yml\n将keepSpawnInMemory设置为false 关闭所有世界出生点加载减少加载区块数量\n将enableSkipEntityTick设置为true 降低无人区块实体运行速度\n将enableSkipTileEntityTick设置为true 降低无人区块机器运行速度\n将worldGenMaxTick改为15或更低 限制跑图玩家每tick的生成区块占用毫秒\n将enableRealtime设置为true 保证TPS降低时方块挖掘和世界时间等不受影响\n\n如果服务器连接国外速度慢建议开启disableUpdateGameProfile, 避免连接超时造成卡顿, 副作用是可能无法显示部分头颅皮肤\n\n4.关闭PlaceholderAPI经济附属的排行榜\n如果安装了PlaceholderAPI的经济附属, 在插件的config.yml找到baltop, 将选项下的enabled设置为false\n\n5.将EssentialsAntiBuild更换为其他插件\nEssentialsAntiBuild作用是阻止玩家放置使用设置的物品, 但对MOD服性能优化较差. 如果有玩家有大量的科技自动化机器, 建议删除更换同类插件(例如BanItem With NBT)",
    "replies": [
        {
            "author": "sszq",
            "timestamp": 1595590560,
            "txt_content": "Lhynblhynb"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1595591220,
            "txt_content": "正愁优化，感谢大佬！"
        },
        {
            "author": "a1294790523",
            "timestamp": 1595595000,
            "txt_content": "关于启动参数，可以参考Aikar的优化参数（虽然不知道为什么楼主与他的启动参数高度相似）：https://aikar.co/2018/07/02/tuni ... lags-for-minecraft/\njava -Xms10G -Xmx10G -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1 -Dusing.aikars.flags=https://mcflags.emc.gs -Daikars.new.flags=true -jar 你的jar名称.jar nogui复制代码\n调整Xmx和Xms和jar的名称就可以了， @幻境雲達達 的帖子还没更新：https://www.mcbbs.net/thread-867786-1-1.html"
        },
        {
            "author": "小海鸥欧哦_",
            "timestamp": 1595598840,
            "txt_content": "求1.12.2核心啊！！！！！！！！！"
        },
        {
            "author": "小海鸥欧哦_",
            "timestamp": 1595599140,
            "txt_content": "小海鸥欧哦_ 发表于 2020-7-24 21:54\n求1.12.2核心啊！！！！！！！！！\n没有人吗？"
        },
        {
            "author": "2311976798",
            "timestamp": 1595599500,
            "txt_content": "小海鸥欧哦_ 发表于 2020-7-24 21:59\n没有人吗？\n这不就是CatServer1.12.2核心吗。。。你在求个什么鬼"
        },
        {
            "author": "小海鸥欧哦_",
            "timestamp": 1595599620,
            "txt_content": "2311976798 发表于 2020-7-24 22:05\n这不就是CatServer1.12.2核心吗。。。你在求个什么鬼\n这是吗？我下载了这不是核心啊！"
        },
        {
            "author": "2311976798",
            "timestamp": 1595599800,
            "txt_content": "小海鸥欧哦_ 发表于 2020-7-24 22:07\n这是吗？我下载了这不是核心啊！\n下载的文件名是CatServer-11c12cd-universal.jar\n这就是核心jar包鸭\n直接在bat里写入启动代码就完事了= ="
        },
        {
            "author": "小海鸥欧哦_",
            "timestamp": 1595599860,
            "txt_content": "2311976798 发表于 2020-7-24 22:10\n下载的文件名是CatServer-11c12cd-universal.jar\n这就是核心jar包鸭\n直接在bat里写入启动代码就完事了= = ...\n好的！谢谢大佬！我还不知道这是核心哈哈见笑了"
        },
        {
            "author": "Super_小智",
            "timestamp": 1595770080,
            "txt_content": "EssentialsAntiBuild没了  整个游戏都没有建筑权限  怎么玩?"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1596175980,
            "txt_content": "Super_小智 发表于 2020-7-26 21:28\nEssentialsAntiBuild没了  整个游戏都没有建筑权限  怎么玩?\n不啊 装上之后才没有建筑权限的 删掉之后就都不限制了"
        },
        {
            "author": "Super_小智",
            "timestamp": 1596186420,
            "txt_content": "NothingnessVoid 发表于 2020-7-31 14:13\n不啊 装上之后才没有建筑权限的 删掉之后就都不限制了\n那就很奇怪了    我没有安装这个  然后游戏也没有建筑权限\n添加命令的时候  也没有build补全\n我是安装后  用lp来添加ess.build权限的"
        },
        {
            "author": "uisi_1",
            "timestamp": 1597203000,
            "txt_content": "感谢感谢，服务器太卡了，正好需要！"
        },
        {
            "author": "魅惑之音",
            "timestamp": 1598794020,
            "txt_content": "这个bat优化能用在paperspigot上吗?还是仅只能在forge端上优化?不敢乱用2333"
        },
        {
            "author": "S_iver",
            "timestamp": 1604555940,
            "txt_content": "如此多的启动参数 确定不会适得其反？"
        },
        {
            "author": "孤殇北",
            "timestamp": 1604665620,
            "txt_content": "666666666666666"
        },
        {
            "author": "孤殇北",
            "timestamp": 1604665680,
            "txt_content": "优化之后变的更好了"
        },
        {
            "author": "孤殇北",
            "timestamp": 1604665680,
            "txt_content": "优化之后变的更好了"
        },
        {
            "author": "孤殇北",
            "timestamp": 1604665680,
            "txt_content": "优化之后变得更好了"
        },
        {
            "author": "孤殇北",
            "timestamp": 1604665740,
            "txt_content": "优化之后变的更好了"
        },
        {
            "author": "孤殇北",
            "timestamp": 1604665740,
            "txt_content": "优化之后变得更好了"
        },
        {
            "author": "minecraftchy666",
            "timestamp": 1606215000,
            "txt_content": "666666666666666666666"
        },
        {
            "author": "雨晨Rain",
            "timestamp": 1606742160,
            "txt_content": "谢谢分享\n"
        },
        {
            "author": "阿莎蕊雅同学",
            "timestamp": 1609614120,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "m63485322",
            "timestamp": 1611019380,
            "txt_content": "感谢感谢，太好了"
        },
        {
            "author": "梦落老司机",
            "timestamp": 1611020580,
            "txt_content": "感谢大佬 有学到！"
        }
    ]
}