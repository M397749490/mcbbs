{
    "title": "生成矿石代码有问题",
    "author": "Wilderness Rgr",
    "replyCount": 5,
    "timestamp": 1431789240,
    "txt_content": "写了个生成矿石的代码：\npackage mod.mymod.main;import java.util.Random;import cpw.mods.fml.common.IWorldGenerator;import cpw.mods.fml.common.registry.GameRegistry;import net.minecraft.block.Block;import net.minecraft.world.World;import net.minecraft.world.chunk.IChunkProvider;import net.minecraft.world.gen.ChunkProviderHell;import net.minecraft.world.gen.feature.WorldGenMinable;public class WorldGen implements IWorldGenerator {        @Override        public void generate(java.util.Random random, int chunkX, int chunkZ, World world, IChunkProvider chunkGenerator, IChunkProvider chunkProvider) {                if (world.provider.dimensionId==0) {//在主世界生成                        for(int i = 0; i < 8; i++){//稀有度——每个区块8个矿脉                                int blockX = chunkX + random.nextInt(16);                                int blockY = random.nextInt(24)+8;//高度为8~24格                                int blockZ = chunkZ + random.nextInt(16);                                new WorldGenMinable(Main.MyOre.blockID, 4).generate(world, random, blockX, blockY, blockZ);//一组矿脉最多生成四个矿                        }                        System.out.println(\"成功生成矿石\");                }        }}\n\n\n自己看起来没什么问题，但实际上生成的矿石都在x=0,z=0那个区块上，估计是chunkX和chunkZ有问题，求给正确写法！\n不知道你问我答区不能编辑帖子了之前发了个草稿还浪费了40金粒……",
    "replies": [
        {
            "author": "时透无一年",
            "timestamp": 1431789240,
            "txt_content": "你这写法怪怪的...这是我写的\npublic class aluminiumGen implements IWorldGenerator {\n    @Override\n    public void generate(Random random, int chunkX, int chunkZ, World world, IChunkProvider chunkGenerator, IChunkProvider chunkProvider) {\n\n        switch (world.provider.dimensionId) {\n            case -1:\n                generateNether(world, random, chunkX * 16, chunkZ * 16);\n                break;\n            case 0:\n                generateSurface(world, random, chunkX * 16, chunkZ * 16);\n                break;\n            case 1:\n                generateEnd(world, random, chunkX * 16, chunkZ * 16);\n                break;\n        }\n    }\n\n    private void generateNether(World world, Random random, int i, int j) {\n                \n        }\n\n        private void generateSurface(World world, Random random, int i, int j) {\n                \n                for (int k = 0; k < 10; k++) {\n            int x = i + random.nextInt(16);\n            int y = random.nextInt(64);\n            int z = j + random.nextInt(16);\n            (new WorldGenMinable(meteortech.aluminiumOre, 0, 10, Blocks.stone)).generate(world, random, x, y, z);\n        }\n        }\n\n        private void generateEnd(World world, Random random, int i, int j) {\n                \n        }\n        \n}复制代码\n你可以参考下"
        },
        {
            "author": "时光如年i",
            "timestamp": 1431794040,
            "txt_content": "金粒完全不值钱啊。。。你这个开发大手....这个是PE插件？感觉轻质量啊"
        },
        {
            "author": "SPE__HaiKuo",
            "timestamp": 1431830700,
            "txt_content": "public class RockGeneration implements net.minecraftforge.fml.common.IWorldGenerator{\n\n        public void generate(Random random, int chunkX, int chunkZ, World world,IChunkProvider chunkGenerator, IChunkProvider chunkProvider) {\n                switch(world.provider.getDimensionId())\n                {\n                case -1:\n                        this.generateNether(world, random, chunkX, chunkZ);\n                        break;\n                case 0:\n                        this.generateOverworld(world, random, chunkX, chunkZ);\n                        break;\n                case 1:\n                        this.generateEnd(world, random, chunkX, chunkZ);\n                        break;\n                }\n        }\n\n        public void generateNether(World world, Random rand, int x, int z) {\n                \n        }\n        \n        public void generateOverworld(World world, Random rand, int x, int z) {\n                this.generateOre(ModBlocks.SoulOre.getDefaultState(), world, rand, x, z, 6, 18, 10, 0, 20);\n        }\n        \n        public void generateEnd(World world, Random rand, int x, int z) {\n                \n        }\n\n        public void generateOre(IBlockState block, World world, Random random, int chunkX, int chunkZ, int minVienSize, int maxVienSize, int chance, int minY, int maxY){\n                int vienSize = minVienSize + random.nextInt(maxVienSize - minVienSize);\n                int heightRange = maxY - minY;\n                WorldGenMinable gen = new WorldGenMinable(block, vienSize);\n                for (int i = 0; i < chance; i++){\n                        int xRand = chunkX * 16 + random.nextInt(16);\n                        int yRand = random.nextInt(heightRange) + minY;\n                        int zRand = chunkZ * 16 + random.nextInt(16);\n                        BlockPos bp = new BlockPos(xRand, yRand, zRand);\n                        gen.generate(world, random, bp);\n                }\n        }\n        \n}复制代码\n以上为1.8，不过版本之间改动不大"
        },
        {
            "author": "Wilderness Rgr",
            "timestamp": 1431837780,
            "txt_content": "SPE__HaiKuo 发表于 2015-5-17 10:45\n以上为1.8，不过版本之间改动不大\n哦，谢谢，我试试"
        },
        {
            "author": "Wilderness Rgr",
            "timestamp": 1431838200,
            "txt_content": "C似水流年 发表于 2015-5-17 09:57\n你这写法怪怪的...这是我写的\n\n你可以参考下\n貌似能用……写了"
        }
    ]
}