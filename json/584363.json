{
    "title": "如何输入指令？",
    "author": "叁只技术宅",
    "replyCount": 2,
    "timestamp": 1463297100,
    "txt_content": "\n\n我想当用户输入指令back时，我可以帮他输入其他插件指令。\n\n\n类似命令牌子的功能。\n\n\npublic boolean onCommand(CommandSender sender, Command command,\n   String label, String[] args) {\n  // TODO Auto-generated method stub\n  System.out.println(\"label 的信息：\" + label);\n  System.out.println(\"args 1 的信息\" + args[0]);\n  if (args[0].equals(\"back\")) {\n   Player p = (Player)sender;\n   p.chat(\"/server dating\");\n  }\n  \n  return super.onCommand(sender, command, label, args);\n }\n\n\n上面使用chat方法不可以实现，perfrom方法也不能实现。\n\n跪求解决办法。\n\n",
    "replies": [
        {
            "author": "Paindar",
            "timestamp": 1463470260,
            "txt_content": "if(command.getName().equalsIgnoreCase(\"back\"))\n{\n    sender.sendMessage(\"get back message!\");\n    return true;\n}复制代码"
        },
        {
            "author": "q513902026",
            "timestamp": 1463475420,
            "txt_content": " 本帖最后由 q513902026 于 2016-5-17 17:02 编辑 \n\n推荐使用事件来监控命令\nPlayerCommandPreprocessEvent 这个事件 \n\n@EventHandler\npublic void onCommandPreprocess(PlayerCommandPreprocessEvent event)\n{\n   String message;\n   if((message = event.getMessage()).toLowCase().startsWith(\"/back\"))\n   {\n         Player pl = event.getPlayer();\n         //在这里对玩家进行操作\n         //比如 pl.performCommand(\"/server xx\");\n         //推荐取消掉back事件 这样不会发送两次传送数据包 \n   }\n\n}"
        }
    ]
}