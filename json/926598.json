{
    "title": "破坏农作物方块时如何获得掉落的实体列表？",
    "author": "伞剑",
    "replyCount": 4,
    "timestamp": 1573891680,
    "txt_content": "block.getDrops()拿到的Collection<ItemStack>的好像不行,我明明掉了两个，可是itemstack.getAmount()输出的是 1，不知道是不是我用法错误，代码如下：\n@EventHandler\npublic void harvestCrop(BlockBreakEvent event){\n    Block block = event.getBlock();\n    Player player = event.getPlayer();\n    if(block.getType().getData() == Material.CROPS.getData()){\n        Collection<ItemStack> drops = block.getDrops();\n        List<ItemStack> itemList = new ArrayList(drops);\n        player.sendMessage(\"§2CropExpert §总共获得：\"+itemList.toString());\n        player.sendMessage(\"获得的物品:\");\n        for(ItemStack i :itemList){\n            player.sendMessage(\"=========>§a\"+i.getData()+\"§f:§a\"+i.getAmount()+\"§f个\");\n            CropDataUtil.save(player,i,i.getAmount());\n        }\n    }\n}\n\n\n\n\n\n",
    "replies": [
        {
            "author": "吕易天",
            "timestamp": 1573893360,
            "txt_content": "block.getDrops只是获取一般情况下它会掉的物品，而不是实际掉的物品，如果要获取实际掉落的物品你需要用ItemSpawnEvent"
        },
        {
            "author": "我的锅",
            "timestamp": 1573897440,
            "txt_content": "e.getBlock()是玩家在服务端破坏方块这一动作发生之前就确定的，故其无法获得服务端还未计算的的掉落物品信息。"
        },
        {
            "author": "伞剑",
            "timestamp": 1574058120,
            "txt_content": "吕易天 发表于 2019-11-16 16:36\nblock.getDrops只是获取一般情况下它会掉的物品，而不是实际掉的物品，如果要获取实际掉落的物品你需要用It ...\n明白了，谢谢"
        },
        {
            "author": "957426124",
            "timestamp": 1574064420,
            "txt_content": "\n吕易天 发表于 2019-11-16 16:36\n block.getDrops只是获取一般情况下它会掉的物品，而不是实际掉的物品，如果要获取实际掉落的物品你需要用It ...\n\n明白了，谢谢"
        }
    ]
}