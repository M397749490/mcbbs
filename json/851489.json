{
    "title": "[19w11a-19w11b]通过nbt来控制生物的睡觉状态",
    "author": "Chelover_C60",
    "replyCount": 16,
    "timestamp": 1552955700,
    "txt_content": " 本帖最后由 CHElover_C60 于 2019-3-21 22:23 编辑 \n\n一些题外话\n        此帖的内容来源于命令方块吧里我和@Ruainbow_ 的讨论。在他的鼓励下，我决定在这里发一个帖子，分享一下我们的成果\n        在技巧版的第一个帖子\n\n\n在村民上的测试\n        目前已经确定与村民睡觉有关的nbt是SleepingX, SleepingY, SleepingZ和Brain.memories里面的\"minecraft:home\"。控制村民是否睡觉以及睡觉状态的是前三个标签。这三个标签对应一个床的坐标。第四个标签用于保存床的位置。\n        SleepingX, SleepingY, SleepingZ仅在正在睡觉的村民中发现，没有睡觉的村民中没有发现此nbt。当使用data命令修改这三个nbt时，村民会被传送至修改后的坐标。如果此坐标下有一个床，村民就会在这个床上睡觉，并且朝向会以这个床的朝向为基准。但是村民依然认为他的床是Brain里的坐标指定的床，因此如果把这个坐标调为别的床的坐标，村民会在调整后的床上躺下，但是会躺着移动到原来的床附近。此时查看村民的nbt，仍然会发现SleepingX，SleepingY,SleepingZ这三个nbt，并且指向的是你设定的坐标\n\n\n\n结论\n        目前可以判断直接控制村民是否睡觉以及睡觉时的状态的因素就是SleepingX, SleepingY, SleepingZ这三个标签以及这三个标签对应坐标的床的方向。只要这三个标签存在且对应坐标的床也存在，村民就会呈现睡觉的姿势，并且睡觉时的朝向由这个床的朝向来决定。\n\n\n\n修改村民的睡觉状态\n        如果要通过编辑这些nbt来控制村民睡觉与否以及睡觉姿势，首先要避免村民自身的因素干扰（因为村民有起床的判定），就是说，需要将村民的NoAI设置为1。然后需要编辑村民的SleepingX, SleepingY, SleepingZ标签，使这三个标签指向一个床。编辑好之后，村民就会在这个床上睡觉。然后使用/tp命令，将村民传送至任意地点。这时原本的三个标签的内容并不会改变（只要床不被破坏），因此村民仍然呈睡觉的状态。这样就可以做到让村民睡在任意地点了。\n\n\n\n\nfile_1552984344000.jpg (427.44 KB, 下载次数: 1)\n\n下载附件\n\n2019-3-19 16:32 上传\n\n\n\n\n\n\n\n\n在其他生物上的应用\n        此标签在其他的生物身上同样适用。不过，不同的是，其他生物没有睡觉与起床的设定，因此，如果不设置为NoAI，生物虽然能够入睡，但是仍然会四处移动，甚至表现出攻击性。比如，你可以将一个爬行者加上SleepingX, SleepingY, SleepingZ以及NoAI，让爬行者入睡。\n\n\n\n\nfile_1552984989000.jpg (331.05 KB, 下载次数: 1)\n\n下载附件\n\n2019-3-19 16:43 上传\n\n\n\n\n\n\n\n\n命令示例\n        鉴于可能会有一些人对命令不是很懂，或者不想看那么长篇大论的文章，我就在这个部分直接给出一个命令示例，大家在使用时稍作修改即可。\n        假设一个情况，我们想让一个爬行者睡在坐标（100,75,100）处。\n        假设在坐标（110,75,100）处有一个床，我们就可以编辑爬行者的SleepingX, SleepingY, SleepingZ以及NoAI标签（假设此时游戏中有一个爬行者）。\n/data merge entity @e[type=creeper,limit=1] {SleepingX:110,SleepingY:75,SleepingZ:100,NoAI:1}复制代码       此时爬行者就会在移动至坐标为（110,75,100）的床上并进入睡觉状态。然后使用tp命令\n/tp @e[type=creeper,nbt={NoAI:1b}] 100 75 100复制代码       现在爬行者就乖乖地躺在我们指定的坐标上了。\n\n\n\n补充说明\n        以上测试均在19w11b中进行，但实测在19w08a里就可以使用这些命令来修改生物的睡觉状态了（19w08a和19w09a里没有Brain标签，不过不影响对村民睡觉状态的编辑）。\n        在生物中的测试里，除了末影龙无法睡觉（当然，也可能是方法不对）以外，其他的所有生物均可使用此方法入眠（只是一些生物的睡姿可能会比较怪）。绝大部分生物在睡觉时都会90°后仰，但是在对鱿鱼的测试中，没有发现明显的后仰。查看其nbt时，能够发现这三个标签的存在，因此对鱿鱼的睡眠的主观判断没有其他生物那么明显。\n        如果在使用summon命令刷出生物的同时为其加上这些nbt，生物会在在床上生成，过一段时间后就会自动传送至原命令指定的地点，无需额外使用tp命令。\n\n\n",
    "replies": [
        {
            "author": "依然冰奈斯",
            "timestamp": 1552959120,
            "txt_content": "所以问题是能不能再生存模式以移动床的方式更改这个NBT...\n\n省着我家村民总是扎一堆··"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1552959900,
            "txt_content": " 本帖最后由 CHElover_C60 于 2019-3-19 09:47 编辑 \n依然冰奈斯 发表于 2019-3-19 09:32\n所以问题是能不能再生存模式以移动床的方式更改这个NBT...\n\n省着我家村民总是扎一堆·· ...\n\n我做的研究都是使用命令进行的，生存还不太清楚。已确认可以通过更改memories里的\"minecraft:home\"标签来改变村民的床的位置"
        },
        {
            "author": "依然冰奈斯",
            "timestamp": 1552960560,
            "txt_content": "CHElover_C60 发表于 2019-3-19 09:45\n我做的研究都是使用命令进行的，生存还不太清楚。已确认可以通过更改memories里的\"minecraft:home\"标签来 ...\n感觉1.14之后村庄系统有点像牧场物语了……\n\n我倒是更好奇使用治愈好的僵尸村民组成的人造的村庄里，村民们会怎么发展……\n目前知道的应该是村民变成无业（因为毕竟需要特殊的方块）……然后重新选择职业，选择的职业应该根据你搭建的房屋内的摆设……"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1552966500,
            "txt_content": "依然冰奈斯 发表于 2019-3-19 09:56\n感觉1.14之后村庄系统有点像牧场物语了……\n\n我倒是更好奇使用治愈好的僵尸村民组成的人造的村庄里，村民 ...\n以后的人工村庄估计会根据玩家的意愿定向发展，想让村民是什么职业，村民就是什么职业"
        },
        {
            "author": "粘兽",
            "timestamp": 1552987680,
            "txt_content": "昏 睡 nbt"
        },
        {
            "author": "Sairos",
            "timestamp": 1552992300,
            "txt_content": "简单建议：\n我jio得你可以最后直接了当的的给出一个完整的例子来....别人一看就懂了...\n说话太多反而看着累......"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1552992960,
            "txt_content": "Sairos 发表于 2019-3-19 18:45\n简单建议：\n我jio得你可以最后直接了当的的给出一个完整的例子来....别人一看就懂了...\n说话太多反而看着累 ...\n确实，这部分没有考虑到。晚上有空的时候再改吧"
        },
        {
            "author": "Ruainbow_",
            "timestamp": 1553006580,
            "txt_content": "从此睡苦力怕成为了可能\n我们需要娘化Mod\n(〃'▽'〃)"
        },
        {
            "author": "Ruainbow_",
            "timestamp": 1553006940,
            "txt_content": "话说这个特性似乎是在前几个版本更新的，06a还是07a还是08来着。。"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1553007840,
            "txt_content": "Ruainbow_ 发表于 2019-3-19 22:49\n话说这个特性似乎是在前几个版本更新的，06a还是07a还是08来着。。\n08a更新的，已确认在08a版本里可以使用"
        },
        {
            "author": "银龙斩月",
            "timestamp": 1553139720,
            "txt_content": " 本帖最后由 银龙斩月 于 2019-3-22 02:57 编辑 \n\n感觉1.14的村庄挺好玩的…"
        },
        {
            "author": "雨",
            "timestamp": 1571750040,
            "txt_content": " （凋零"
        },
        {
            "author": "14074497",
            "timestamp": 1572946620,
            "txt_content": "雨 发表于 2019-10-22 21:14\n（凋零\n你是魔鬼吗"
        },
        {
            "author": "临郢夏望",
            "timestamp": 1573185840,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "qq1124248709",
            "timestamp": 1573186200,
            "txt_content": "666666tai太厉害了"
        },
        {
            "author": "Ju__Hao",
            "timestamp": 1578592920,
            "txt_content": "wa4d546as5da"
        }
    ]
}