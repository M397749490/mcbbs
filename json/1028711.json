{
    "title": "[安全]MoveLimit —— 移动速度与跑图限制[1.7.10-1.15.2]",
    "author": "296394065",
    "replyCount": 5,
    "timestamp": 1587780000,
    "txt_content": " 本帖最后由 296394065 于 2020-4-25 19:01 编辑 \n\n一、插件简介在你的MOD服中，是否存在各式各样可以叠加的奇怪加速物品，并且ESS设置里的移动速度限制根本无法限制他们？玩家只要同时使用多种加速物品即可变身闪电侠，一跑图服务器瞬间爆炸，后台全是xxxx moved wrongly。并且在战斗中来无影去无踪，根本打不到人。本插件提供两项功能：跑图玩家公示与移动速度限制。根据玩家加载的区块数多少进行排名，对第一名进行公示，并且在服务器卡顿时对第一名进行惩罚。在玩家移动速度过快时，计算出新的基础移动速度，将移动速度限制在合理范围内。\n二、配置文件与算法介绍# 跑图检测间隔\n# 由于本人不会操作封包，判定一个玩家加载了某个区块的算法是直接找一个最近的玩家背锅。\n# 请注意，如果你的服务器规模大至千人，这个跑图检测会造成较为严重的性能损耗\nCheckInterval: 120\n\n# 当服务器Tps小于MinTps，并且第一名加载区块数多于MaxChunk时，会进行全服公告并赋予第一名持续时间为SlowTime的缓慢2\nMinTps: 15\nMaxChunk: 1000\nSlowTime: 30\n\n# 单次Move事件在xz平面上移动距离平方的最大值，高于此值的话会被限速。\n# 原版跑步约为0.3，连跳最大为0.9，ESS的Speed 5后跑步约为2.43\n# 原版迅捷2跑步约为0.6\n# Speed 1飞行最大速度约为1.17\nMaxSpeed: 1.3\n# 调试选项，打开此选项后，当玩家移动会在后台输出「单次Move事件在xz平面上移动距离平方」\nPrintSpeed: false\n\n# 速度保底，避免玩家被我口胡的算法限制的无法移动\nMinSpeed: 0.005\n# 算法参数，设NowSpeed为「单次Move事件在xz平面上移动距离平方」\n# 则新速度为 NumA / (NowSpeed / NumB)\nNumA: 0.55\nNumB: 0.3\n\n# 为了防止玩家被攻击时击退也会触发限速，当一个玩家被攻击后DamageCoolDown秒不会触发限速。\nDamageCoolDown: 3\n\n# 对不平衡的加速物品的最终手段\n# 当一个玩家连续多次触发限速时，这次的基础速度会直接设为上次的0.9倍。\n# 因此可以调大NumA，调小NumB来让这个算法自适应地计算基础移速。\n# 然而如果你用背包编辑器调一个+2速度，你会发现调整基础速度根本无法限制他。\n# 于是在玩家的基础速度被设为0.000001以下时，会被直接上一个持续时间很长的 SlowAmplifier级的缓慢，来制裁这种加速物品。\nSlowAmplifier: 50复制代码\n\n\n三、指令/mlreload 重载插件配置文件未设置权限节点，只有OP与后台可以使用。\n\n四、下载\n\n\n\nMoveLimit v2.61.jar\n(7.82 KB, 下载次数: 90)\n\n\n\n2020-4-25 19:01 上传\n点击文件名下载附件\n\n\n\n\n\n本插件理论上可以适配1.7.10+的任何版本，但只在Thermos-1.7.10-1614-58进行过测试。并且这个移动速度算法未经过广泛测试，无法保证任何mod的加速物品都会适用默认参数，最好还是能自己调整一下参数。如果您有bug、报错、改进意见，希望您能回复在这个帖子下。最后无耻地求下金粒（已更新至v2.6，修复了击退会被减速的bug。\n\n\n\n\nQQ图片20200425092958.png (54.76 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-25 09:31 上传\n\n\n\n\n\n\n\n\n\n\nQQ截图20200425101718.jpg (15.73 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-25 10:17 上传\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "子德",
            "timestamp": 1587780840,
            "txt_content": "你还是too young too navie啊，学习魔法的路还有很长要走"
        },
        {
            "author": "操蛋小青年",
            "timestamp": 1587854160,
            "txt_content": " 本帖最后由 操蛋小青年 于 2020-4-26 06:37 编辑 \n\n这插件不错啊 很好需要\n如果支持mysql就好了。这样就能跨服使用了。。"
        },
        {
            "author": "q996495551",
            "timestamp": 1588072620,
            "txt_content": "移动数值我都全部调100多了 还是不管用 移动数值怎么调？ 不然模组的东西一穿疯狂显示限制跑图"
        },
        {
            "author": "kkplayer305",
            "timestamp": 1594139820,
            "txt_content": "主城放了一个跳板，玩家一跳就被疯狂判定移速过快，速度降到接近走不动，改配置改了半天还是那样，最后玩家的移速改不回来，还是加了个移速系统才一个一个的调回来的"
        },
        {
            "author": "哆啦king",
            "timestamp": 1594146240,
            "txt_content": "支持一下哦"
        }
    ]
}