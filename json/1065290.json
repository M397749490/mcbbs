{
    "title": "Authme使用Mysql模式下，玩家进入服务器时提示错误",
    "author": "幽冥冥灬",
    "replyCount": 5,
    "timestamp": 1592734380,
    "txt_content": " 本帖最后由 幽冥冥灬 于 2020-6-21 18:15 编辑 \n\n事实上并不影响服务器和玩家登录，只是看着烦 (\n是否是 Mysql 版本过低或是其他原因？\n\nAuthme版本 5.6.0，Mysql版本 5.6.2.4（远古存在了）\n\n后台信息：\n[06:50:47] [Server thread/WARN]: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\n[06:50:48] [Server thread/WARN]:         at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[06:50:48] [Server thread/WARN]:         at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.Util.getInstance(Util.java:408)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4071)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4040)\n[06:50:48] [Server thread/WARN]:         at me.tintanick.SQL.hasLoggedBefore(SQL.java:67)\n[06:50:48] [Server thread/WARN]:         at me.tintanick.Main.PlayerJoinEvent(Main.java:37)\n[06:50:48] [Server thread/WARN]:         at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor11.execute(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:70)\n[06:50:48] [Server thread/WARN]:         at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:78)\n[06:50:48] [Server thread/WARN]:         at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62)\n[06:50:48] [Server thread/WARN]:         at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:515)\n[06:50:48] [Server thread/WARN]:         at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:500)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.PlayerList.onPlayerJoin(PlayerList.java:370)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.PlayerList.a(PlayerList.java:183)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.LoginListener.b(LoginListener.java:175)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.LoginListener.e(LoginListener.java:65)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.NetworkManager.a(NetworkManager.java:254)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.ServerConnection.c(ServerConnection.java:150)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:940)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:426)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:767)\n[06:50:48] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:665)\n[06:50:48] [Server thread/WARN]:         at java.lang.Thread.run(Unknown Source)\n[06:50:48] [Server thread/WARN]: Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 40,272,325 milliseconds ago.  The last packet sent successfully to the server was 40,272,326 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n[06:50:48] [Server thread/WARN]:         at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[06:50:48] [Server thread/WARN]:         at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3746)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2484)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966)\n[06:50:48] [Server thread/WARN]:         at me.tintanick.SQL.hasLoggedBefore(SQL.java:69)\n[06:50:48] [Server thread/WARN]:         ... 18 more\n[06:50:48] [Server thread/WARN]: Caused by: java.net.SocketException: Software caused connection abort: socket write error\n[06:50:48] [Server thread/WARN]:         at java.net.SocketOutputStream.socketWrite0(Native Method)\n[06:50:48] [Server thread/WARN]:         at java.net.SocketOutputStream.socketWrite(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at java.net.SocketOutputStream.write(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at java.io.BufferedOutputStream.flushBuffer(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at java.io.BufferedOutputStream.flush(Unknown Source)\n[06:50:48] [Server thread/WARN]:         at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728)\n[06:50:49] [Server thread/WARN]:         ... 24 more\n[06:50:49] [Server thread/WARN]: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\n[06:50:49] [Server thread/WARN]:         at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[06:50:49] [Server thread/WARN]:         at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[06:50:49] [Server thread/WARN]:         at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[06:50:49] [Server thread/WARN]:         at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.Util.getInstance(Util.java:408)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1184)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1179)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4071)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4040)\n[06:50:49] [Server thread/WARN]:         at me.tintanick.SQL.setNickPlayer(SQL.java:80)\n[06:50:49] [Server thread/WARN]:         at me.tintanick.Main.PlayerJoinEvent(Main.java:46)\n[06:50:49] [Server thread/WARN]:         at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor11.execute(Unknown Source)\n[06:50:49] [Server thread/WARN]:         at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:70)\n[06:50:49] [Server thread/WARN]:         at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:78)\n[06:50:49] [Server thread/WARN]:         at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62)\n[06:50:49] [Server thread/WARN]:         at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:515)\n[06:50:49] [Server thread/WARN]:         at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:500)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.PlayerList.onPlayerJoin(PlayerList.java:370)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.PlayerList.a(PlayerList.java:183)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.LoginListener.b(LoginListener.java:175)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.LoginListener.e(LoginListener.java:65)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.NetworkManager.a(NetworkManager.java:254)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.ServerConnection.c(ServerConnection.java:150)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:940)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:426)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:767)\n[06:50:49] [Server thread/WARN]:         at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:665)\n[06:50:49] [Server thread/WARN]:         at java.lang.Thread.run(Unknown Source)\n[06:50:49] [Server thread/WARN]: Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 40,272,325 milliseconds ago.  The last packet sent successfully to the server was 40,272,326 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n[06:50:49] [Server thread/WARN]:         at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[06:50:49] [Server thread/WARN]:         at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[06:50:49] [Server thread/WARN]:         at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[06:50:49] [Server thread/WARN]:         at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3746)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2484)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n[06:50:49] [Server thread/WARN]:         at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966)\n[06:50:50] [Server thread/WARN]:         at me.tintanick.SQL.hasLoggedBefore(SQL.java:69)\n[06:50:50] [Server thread/WARN]:         at me.tintanick.Main.PlayerJoinEvent(Main.java:37)\n[06:50:50] [Server thread/WARN]:         ... 17 more\n[06:50:50] [Server thread/WARN]: Caused by: java.net.SocketException: Software caused connection abort: socket write error\n[06:50:50] [Server thread/WARN]:         at java.net.SocketOutputStream.socketWrite0(Native Method)\n[06:50:50] [Server thread/WARN]:         at java.net.SocketOutputStream.socketWrite(Unknown Source)\n[06:50:50] [Server thread/WARN]:         at java.net.SocketOutputStream.write(Unknown Source)\n[06:50:50] [Server thread/WARN]:         at java.io.BufferedOutputStream.flushBuffer(Unknown Source)\n[06:50:50] [Server thread/WARN]:         at java.io.BufferedOutputStream.flush(Unknown Source)\n[06:50:50] [Server thread/WARN]:         at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728)\n[06:50:50] [Server thread/WARN]:         ... 24 more复制代码\n",
    "replies": [
        {
            "author": "wjwrh",
            "timestamp": 1592734380,
            "txt_content": "幽冥冥灬 发表于 2020-6-21 19:31\n数据库连接正常，TintaNick启动时没有问题\n这个错就是DoNotNickChange报的\n没必要 authme已经内置了这种功能\n直接删掉就好了"
        },
        {
            "author": "wjwrh",
            "timestamp": 1592734560,
            "txt_content": " 本帖最后由 wjwrh 于 2020-6-21 18:18 编辑 \n\nme.tintanick.SQL.hasLoggedBefore\n看这架势好像不是authme自身的问题\n\n是否有安装一个插件叫TintaNick \n将其卸载掉"
        },
        {
            "author": "wjwrh",
            "timestamp": 1592734740,
            "txt_content": "刚看了一下\n这个插件应该是叫\nDoNotNickChange\n直接将其删掉就好了\n或者看一下它的数据库配置有没有配置正确"
        },
        {
            "author": "幽冥冥灬",
            "timestamp": 1592739060,
            "txt_content": "wjwrh 发表于 2020-6-21 18:19\n刚看了一下\n这个插件应该是叫\nDoNotNickChange\n数据库连接正常，TintaNick启动时没有问题"
        },
        {
            "author": "幽冥冥灬",
            "timestamp": 1592739180,
            "txt_content": "wjwrh 发表于 2020-6-21 19:32\n这个错就是DoNotNickChange报的\n没必要 authme已经内置了这种功能\n直接删掉就好了 ...\n好的\n（话说您这回复效率有点高啊...）"
        }
    ]
}