{
    "title": "【转载】游戏制作从入门到精通",
    "author": "nbmahe",
    "replyCount": 5,
    "timestamp": 1355745540,
    "txt_content": " 本帖最后由 Sky、果冻 于 2012-12-17 21:27 编辑 \n\n\n从零开始学习、制作属于您的游戏，需要以下几步：\n1、选择制作工具 （一般需要10-60分钟）\n2、下载安装制作工具 （一般需要5-20分钟）\n3、跟着教程进行学习 （《彩虹文字游戏制作精灵》需30分钟上手，《RPG制作大师》系列需半天学习才能上手）\n4、开工，制作自己的游戏，边做边学直到完工 （自己的第一个超短篇小游戏一般需1-2小时才能做出来）\n\n目前我们支持的主要制作工具有：《RPG制作大师XP》、《RPG制作大师VX》、《RPG制作大师VX ACE》。这几个工具都有着不需要编程基础、不需要美术基础即可学会上手的特点。\n\n\n\n\n工具1、《RPG制作大师XP》（RPG Maker XP | RMXP）\n\n简介：由Enterbrain公司于2004年推出的RPG制作工具，是创始初期便开始使用的游戏制作引擎，至今沉淀了丰厚的教学资源以及相关素材。\n\n下载：http://dl.vmall.com/c03dj98mwz\n\n资源现状：软件：官方已不再更新；教程：储备量巨大，仍在不断增加；素材：比较多；难度：中等\n\n\n\n\n工具3、《RPG制作大师VX》（RPG Maker VX | RMVX）\n\n简介：由Enterbrain公司于2007年底推出的RPG制作工具，具有成熟的素材、脚本体系，地图绘制上比RMXP更简单、画面更精美，但素材的使用也受到一定限制。\n\n下载：http://dl.vmall.com/c0spzm10ti\n\n资源现状：软件：官方已不再更新；教程：储备量中等，仍在不断增加；素材：略少；难度：中低\n\n\n\n\n工具4、《RPG制作大师VX ACE》（RPG Maker VX ACE | RMVA | RMACE）\n\n简介：由Enterbrain公司于2011年底推出的RPG制作工具，新一代的脚本体系潜力巨大，地图绘制上融汇了RMXP和RMVX的优点，但软件较新、积累的东西较少。\n\n下载：http://dl.vmall.com/c0warjycfm\n\n资源现状：软件：官方可能会更新；教程：储备量少；素材：中等；难度：中等，需要摸索，如果有RMXP、RMVX的经验最好\n\n1-1 新建工程本章跟着做预计需要10分钟，学完后能对RMXP有一个感性的初步认识咳，那么安装RMXP的部分我就跳过了，大家应该都知道怎么安装吧- -||| 如果找不到软件，请在《入门指南》找下载地址。打开RMXP之后，可以在左上角看到一个白纸图标，它代表新建一个RMXP工程，也就是你制作的的游戏。当然，你也可以通过“文件”菜单里面的“新建工程”来完成这个功能：选择了新建工程之后，就会弹出这样的窗口：其中，“文件夹名”代表你放游戏的那个文件的名称，可以随意自己取一个，方便自己找就行了，不过建议是和你游戏的名字一样比较好。然后，“标题”代表你这个游戏的名字，比如《勇者大冒险》之类的……= =||| 你也可以自己定义一个比较容易找的工程位置（使用右边那个“...”的按钮来设定路径）。建好的新工程大概就是这样子：新建工程之后，就会出现这样的界面。当你在游戏工程里做了设置之后，可以单击左数第三个图标——“保存”你的设定。当然，在“文件”菜单下选择保存，或按快捷键ctrl+s也可以。制作游戏过程中，请养成经常保存工程的好习惯。当你新建了你的工程以后，就可以在设定好的路径下看到你的游戏文件夹了，如下图：其中，画红圈的那个Game.exe文件是你的游戏执行程序，只要打开它就可以直接进行游戏。而蓝圈的那个是你的工程文件，当你需要编辑这个游戏工程的时候，就打开这个。不过，你不需要每次都通过点击Game.exe文件测试你做好的游戏，因为RMXP自带游戏测试功能——你只要按图标面板上最右边那个绿色三角形就可以测试游戏（快捷键F12）。（在测试游戏的时候，无法编辑工程。但是如果是直接点击Game.exe进行测试就可以。）新建完工程，测试游戏的时候，你会发现角色在一片小小的空空的草地上晃来晃去，什么都没有发生-。-虽然按下ESC可以调出菜单，但是也仅此而已……不用着急，因为这只是个开始而已。接下来我会教大家怎么绘制比较基本的地图，然后通过数据库、事件等，将你们的第一个游戏丰满起来，成为一个真正的游戏。教程1-1到此结束，目前你已经完成教学的 4%1-2 绘制地图本章跟着做预计需要20分钟，学完后请自行摸索半个小时，掌握分图层绘制的技巧后，你已经是合格的游戏地图美术了。接下来，我们开始画出RPG游戏里的地图（本教程只使用默认图块）。在工程左下角的区域你能够看到你所有的地图文件，当然现在只有一张- -|||。想添加新的地图或者更改当前的地图，只要在上面单击右键就能看到选择菜单。当你选择了“新建地图（快捷键Insert）”指令的时候，就会弹出这样的窗口。你可以在里面随意给新的地图起名字方便查找。比如说，我们给它命名为“主角的家”，作为游戏最开始的场景，如下图所示：地图的宽和高决定整个地图的大小，最大可以绘制出500格*500格的地图（每格为32*32像素），但地图太大会很拖慢游戏速度，所以不建议太大。然后，由于是家，所以不能选择“草原”作为绘制地图的图块，所以我们要在“背景”里面选择一个有室内图块的来采用，如图中选择的“016：森林小镇 内部”。顺道解释一下，“图块”就是在左边那些树啊花啊房子啊的图片——类似积木这样的东西，绘制地图就是用这些积木来拼出一张地图。于是，我们选择了“森林小镇 内部”作为画主角家的房子的图块。在下面有个“自动切换BGM”和“自动切换BGS”的选项，这是一个辅助设定，当进入这张地图的时候是否自动播放你设定好的背景音乐和背景音效，即使是不设定也可以，因为在后面的事件操作里，我会教大家怎么播放BGM。注：BGM是“背景音乐”（比如一段钢琴曲），BGS是“背景音效”（比如风声雨声）右边是一个“遇敌列表”，也就是设置在这张地图上会出现的“地雷”式敌人，由于主角在家一般不太可能遇到敌人，所以这个我们也暂时不管- -|||，等2-2教完大家如何在数据库里设置敌人队伍之后，再来补教一下这里的部分。当你新建好了地图之后，就能够看见上面的那些图块随着你选择了“森林小镇 内部”而变成室内的陈设了。然后是比较重点的部分：我们要利用地图的层和绘制工具来画出一个房间。工具栏就是这些：这些图标就是画地图所需要用到的。从左开始的前四个图标为地图层的切换。整体来讲，一张地图被分为四层，第一层常用来画地面、河流、天花板和墙壁等，第二层则用来画墙壁、陈设，如果是野外的地图可能还需要画一些遮蔽。第三层添加最后的点缀，比如花草树木、放在第二层物品之上的物品（如桌子上的茶杯），或者一些需要挡住第二层东西的设施，而第四层则是设置事件的层，放一些人物或者宝箱等。现在我们暂时不需要用到事件层，所以将它略过。整个地图层的优先级是：第三层>第二层>第一层，也就是说第三层的东西将在最前面显示，遮住下面两层。接下来的五个图标是绘制地图的工具，铅笔、方形、圆形、填充和选择（一般情况下，只需要用铅笔就可以了）。它们的应用法则和正常的画图程序很相像，只不过笔刷变成了左边那些图块罢了。右边三个放大镜表示地图的比例尺，分别有1：1、1：2、和1：4三种——只是用来预览，都不是很常用的功能。好，现在我们来看左边的图块。首先是最上面一排，这些图块比较特殊，它们是被称为自动元件的东西，也就是不同的地图图块可以“公用”的部分。一般情况下，它们可以是地图的天花板、地面、草地、水面、瀑布等，而且在不同的图块里可以通用。另外，画地图的时候自动元件也有一些技巧，这个在后面我会给出别人的教程让大家参考。当前被选中的这个空白部分等同你的地图的橡皮擦，当你绘制出错的时候，可以用这个图块将它们擦去。要注意的是，只有左上角这个图块才是橡皮，别的空白部分都不是，如果用那些来擦，可能会出现通行错误。（上面这张，左上角那个图块，才是橡皮）（这个就不是橡皮，虽然它看上去也是个空白图块= =）开始正式绘制吧。选择第二个图块（天花板），将整个地图都涂上这个图块。现在你看到屏幕变成一片漆黑了。制作游戏开头的时候，有时有些人也会用这种效果来制造黑幕- -使用第二排的第一个图块（木地板），利用矩形工具和铅笔工具即可勾勒出整个房子的大概轮廓。当然你也可以用自动元件里面的地毯来绘制地面，不过这里主角不是有钱人，住不起那么奢侈的房子- -所以只是用木地板画就好。记得要给房子留一个门（通常会留在下面，如这张图就是，注意到房子下方有一个格子的凸出，那就是门）。接下来，绘制墙壁。这里注意一个绘画小技巧：当你需要将两个或者多个格子的图块一起画上去的时候，只要在选择图块的时候按住鼠标左键并且拖动，就可以选定矩形范围的图块画上去了，如下图所示。此时图块的单位就以你选定的那个范围为一单位，画的时候也是如此。但是，在绘制边缘墙壁的时候，会出现这样的问题，某些图块有一部分空白，让地图上也出现了空白，怎么办呢？这时候就要利用不同层的叠加来解决这个问题。解决办法是——切换到上一层（比如此例中可以切换到第二层），将此图块绘制在同样的位置，而第一层里面可保持原来的木地板图块。按一下F4预览看看吧，这样这个问题就能解决了。此为运用层的优先级画地图的基本技能，需要能够熟练掌握。 上面的左图是出现的绘制问题，右图是解决之后的效果。（方法：运用不同层的优先级）地板画完后，在第二层绘制部分，加上处在“下方”的陈设。所以大家可能看到这张地图的一些图块上有不少缺口，没关系，在第三层我们可以慢慢补上。简而言之，凡是你觉得应该会被遮挡住的东西，都可以画在第二层。然后切换到第三层，添置细节：挡住凳子的桌子边角，放在桌子上面的茶壶，床头柜上的圣经（- -），以及灶台前面的柴薪等等。F4可以切换暗淡显示（区分层用），一般情况下可以使用F4来预览最后绘制完成的效果。这样主角的房子就算绘制完成了。当然本人不是美工- -也不能画得那么漂亮……只是告诉大家一些基本用法。至于不同图块的运用，在这里推荐张永的地图教学，可以通过学习它们来绘制不同的地图，如野外、城市、乡村、洞穴等。教程1-2到此结束，目前你已经完成教学的 12%\n请在看完这部分之后，自己画几张室内、室外地图找找感觉，用三层绘制地图虽然看似简单，但已经能画出很漂亮的地图了～2-1 角色相关本章跟着做预计需要20-30分钟，学完后你对游戏内部数据的设置已经有基本的了解。数据库是RPG游戏的重头，角色、物品、武器、敌人等东西都要预先在这里设定好，之后再做剧情的时候就可以直接从这里调用。其实在默认的新工程里面，角色的数据都是被设定过了一个默认数值的，但是如果你不想让你的主角是万年阿尔西斯的话，就要在数据库里自行调整。那么首先我们就用F9或者在“工具”里面打开数据库吧。现在在数据库里面点选第一个标签“角色”，即可设定我方角色的名字以及各项数值。接下来我们从左到右慢慢解释，并且你也可以跟着我一起来设定属于自己的角色。首先，学会设置角色的数量，也就是说有些RPG里面角色不需要8个那么多，而有些游戏里面，角色需要十几个。那么我们可以点选左下角的那个“更改最大值”，比如我这个这个游戏只想要4个角色，那么就在里面改为4。点击确认之后，你就会发现从第四个角色开始，下面的那些多出来的角色都被删掉了。而如果你选择了10个或者更多个，你会发现多出来了几个没有名字的空白角色。然后就是关于每个角色的详细设定了，拿第一个主角为例，在名称里面可以直接修改为你喜欢的人名。名称下面有个职业选择，这是关系到你这个角色可以拿什么武器可以学习什么技能的设置，我们待会儿在“职业”部分会详细讲到，现在先放在这里。然后是这个角色的初期等级和最终等级，也就是他的升级范围，比如你希望他登场时是10级，最高只能练到80级，那么就分别填上10和80。然后就是EXP曲线了——它是你这个角色升级需求经验的一个对照表。点击那个向右的小三角，你就能看到这样的窗口，通过微调左右两边的数值，来得到一个你认为比较合适的升级曲线。比如说，希望他每次升级要很多经验，就把数值调高，反之则调低，如下图所示：接下来是关于角色行走图和战斗图的设定。行走图就是在游戏执行的时候在地图上跑来跑去的那种小娃娃= =（众：废话……）设置行走图，只要在“角色脸谱”下面那个原本的行走图上双击即可打开选择窗口。在这里我们就随便选一个好了。战斗图同样方法来设置，不过要记住，选择的战斗图要尽量和行走图的样子一致，否则在走路时一个样子战斗时突然成另一个人会很囧（美少女战士变身？OTZ||||||） 接下来我们看右边的那些五颜六色的三角形，它们其实是角色能力增幅的曲线设置。那么，我只拿其中MAXHP（最大生命）的设置做说明，其他的设置方法和这个是一样的。双击MAXHP的三角曲线打开设置窗口，可以看到左边有ABCDE五个按钮，这个是系统默认给你预置的五个等级，点击可以让系统自行给你设定一个范围。一般来说，E设定的是最平缓的，也就是最小生命和最大生命差值比较小，增幅也比较小的。而A则是个大陡坡，1级是700到了99级就变成7000那种- -。所以数据方面自己也要学会均衡，以免让游戏难度出现问题。而如果你希望自己来设置，可以点击“生成曲线”然后在弹出的窗口里设置1级的最大生命和99级的最大生命，然后让系统帮你制造出增值曲线。那个“早熟”与“晚熟”的设定是你增幅快慢的先后顺序，比如说，如果你比较“早熟”，可能在游戏前几十级的时候你的MAXHP升级增长特别快，每升一级1可以增加100多那样子，但是到了后期升一级可能只有30多。“晚熟”就是相反的效果。追加一点：你也可以自己用鼠标在上面画出你觉得合适的能力曲线，比如可以制造出在中间一段时间升级突然很快到后期越升级生命反而越低之类的角色……那么，除了MAXHP之外其他的参数也同样可以设定。角色可增长的四种能力参数为力量、灵巧、速度和魔力，力量决定了物理攻击和物理技能的强弱，灵巧决定回避率和逃跑成功率，速度决定行动顺序和逃跑成功率，魔力决定魔法特技的威力，这些在设定技能的时候我会详细讲到。接下来是关于角色的初期装备，这个很简单，只要到时候在职业和武器装备里面设定好即可。右边那个“固定”是设置要不要让这个装备不能够卸下来（毕竟裸奔总是不好的-w-），但是即使是在这里固定了装备，游戏里依然能用事件操作将其更换。接下来我们说关于角色职业设定的问题。从最左边开始，最大数值的设定和职业名字的设定都和角色一样，就无需赘述了，你可以给你的角色职业命名为“间谍”或者“卖白菜的”之类的，随你喜欢- -通常情况下，有几个角色就设置几个职业与其对应，但是也可以一对多——也就是说，想设置“同行”的角色也是没问题的。但是要注意，同一个职业的话可装备的武器、属性状态影响以及以及可学习的技能都会是一模一样的，如果两个角色在这些方面有微妙差异，还是建议另开一个职业填上相同名字即可。然后是职业位置——分为前卫、中卫、后卫三种（怎么像足球……|||），它们代表战斗中角色挨打的概率，简而言之就是战斗时的“站位”，比较靠前的角色自然挨打的频率比较高。所以如果是不耐打的角色，建议给他安排“后卫”的职业。（注：用处不大，不设置也没关系）然后是关于装备和武器的设定，这个很容易懂，当你勾选上一些装备之后，它们就能被这个职业的角色所装备。右边是属性状态的有效度问题，这个我们在后面讲到属性和状态部分的时候我再详细说，此时可以暂时略过。右下角就是设置角色可以学习的特技了，按delete可以删除现有特技，而在空白处双击一下即可打开下面的窗口，然后就能增加新的可学习的特技以及习得该特技的等级，那么当该职业的角色升级到这个等级时，就能掌握相应的技能。接下来我们说说特技的设定。它是无论角色和敌人都会使用到的，所以如果你有一些技能敌我皆用，数据一定要调试平衡。左边最大值和名称更改略过不提，从右边开始我们继续挨个讲。图标——这个是在游戏的技能窗口中显示出来的，一般情况下一个直观的图标可以让人对这个技能的属性有所了解，比如这个技能的图标是一把剑，那么可能就是物理攻击的技能，如果是一团火，可能是魔法，如果是十字架，可能是治疗……等。按右边的小三角就可以在弹出的窗口中选择合适的技能图标了，这个步骤就不截图了，很简单。接下来是技能说明，这个也是自己随便写，不用多说。不过注意100个字的字数限制，超过字数它会自动提示你。效果范围——这个决定了技能的作用对象，在下拉菜单里我们可以看到有对敌、对己、对己（HP为0）等范围。如果将技能作用于敌方，多半是攻击技能，作用为自己的时候，多半是治疗系技能。不过要注意，如果己方死亡，那么只有“己方单体（HP 0）”的技能才对其发挥作用。所以多半设定了该范围技能的被看作复活的技能。其实怎么说呢……默认的技能里面把各个范围的技能都涉及到了，可以通过研究它们来掌握不同技能的设定。可能使用时——这个决定技能的使用时机，如果是“平时”，那么无论战斗还是非战斗场合都可以自由使用该技能。如果设定为“战斗中”，则只能战斗中使用。而“菜单中”则是非战斗场合使用的技能。当然，你也可以设计“不能使用”的技能……虽然能用到的可能很小= =使用方、对象方的动画——这个也很直观，首先在“动画”那里画好你的技能动画，然后在这里设置，使用方是发动技能的那个人显示的动画，而对象方则是被技能作用的那个人。战斗时，会先播放使用方的动画，然后是对象方的动画。菜单画面使用的SE——对于默认无法在战斗中使用的技能，在菜单里直接使用没有动画，如果想表现技能使用了一下的效果，可以在这里设置一个音效。按下右边的小三角，然后在SE列表中选择即可。你也可以通过“音量”和“音调”将默认的音效改动一些。“播放”可以预览你调整好的音效，选择好之后按确定即可。接下来就是重点的数据方面的设置了，没有它们你的技能动画再华丽也只能打出数字零。那么首先，消耗SP……这个不用我说了吧- -，设置技能的SP损耗。“威力”是技能的一个基本数值，在这里比较重要的是，如果你要设置治疗技能，除了在上面把攻击范围设置为我方之外，这里的威力值要设置为负数。否则就成了攻击我方队员的自杀技能了= =|||然后是那个攻击力F……唉，这个我都不想罗嗦了，“帮助”里面就有详细说明，所以照搬过来吧。（再次小贴士：请善用右上角的小问号或者右键单击那些文字选择“帮助”）下面的力量F灵巧F之类的也都以此类推，不过要区分一下“命中率”和“回避F”的区别：命中率指代的是你这个技能本身发动的成功率，它与敌人的系数毫无关系，也就是说这代表你自己角色念咒发招的失败可能，如果设置为100%，那么就绝对能发动成功。而“回避F”则是基于技能已经打出去的前提下，是否考虑敌人的速度和回避能力的影响，如果是0，那么就无视敌方的闪避能力直接命中，如果加上系数，可能高敏捷和速度的敌人就会有概率躲过你的技能攻击。分散度指代的是该技能的一个最终威力浮动，也就是说，如果一个技能的攻击力计算完之后是100，那么如果加上10分散度，最终可能是110-90之间的数值。右边有个属性和状态的设置，这个依然，等讲到属性状态的时候我再来说。顺便提醒一下：按F1的话，可以在“帮助”的目录里找到战斗和技能相关的计算式，可以利用它们帮助你计算游戏数值来调节平衡度。说完了技能说物品吧，这个只能为角色所使用的东西设定起来容易多了，只要针对己方的数值来设定即可。当然这并不绝对，因为物品也可以设置为攻击敌人的道具。接下来我们就分别说说好了。最大数值名称说明动画等等这些和技能设定一样的东西我们都可以不用说了，直接看下面的那些数据设定。价格是指该物品在商店出售的时候的价格，也可以根据你自己的剧情随意设定。“消耗”与“不消耗”也是很直观的设置，如果吃完就没了，那就是消耗品。可以反复使用的，那是不消耗品。再右边的是个能力值增长，也就是说使用该物品之后会使己方的数值上升多少多少。具体数值在选择了上升项目之后，填在数字框即可。下面有个HP回复率、回复量，也很直观，一个是代表可以回复角色当前最大生命的百分比，另一个可以直接设定数量。要注意的是它们的效果是“叠加”的，而不是“代替”的，也就是说如果你设置了回复率25，然后又设置了回复量500，那么这个药品的回复数目就是“当前角色最大HP的25% + 500点”数值。SP也是同理的。需要注意的是——回复量、回复率这些东西都是可以设为负数的，也就是说，你可以利用它们做出服用之后补HP但是减少SP的药品，也可以将作用范围设置为敌方，然后制作出攻击敌人的道具——这种时候，“对象方动画”就会作用于敌人身上了。然后是“命中率”的设置，同样决定该物品使用的成功率。多半会用在设置攻击类道具上吧，平时吃药一般都该100%命中……或者你也可以设置更低的命中率以体现战斗中慌慌张张容易把药弄洒的情况= =（误）。其他的功能也都和技能差不多，状态属性依然放在后面说。然后我们来说说比较重要的武器和防具部分。先说武器……其实这都很简单，唯一要提到的是“攻击力”，这个代表你发动物理攻击的最基本伤害值，也就是说如果角色没有“攻击力”，他的力量再大，所有的物理攻击都会是0……所以一定要让角色的武器有攻击力，并且要保证角色装备着武器进行战斗。当然，你如果想制造武器没有攻击力纯依靠魔法作战的角色也可以……= =防具这里，首先看种类，一共有四种防具来设置，默认地是盾、头盔、衣服和装饰品，但是这些东西的名称是可以改变的。必须要设定的数值是物理防御和魔法防御。它们是属于由防具赋予的系数，也不会随着角色等级提升而变动，但是敌人战斗和技能伤害又会直接与其挂钩，所以最好设置多个逐步强化的装备，以防角色在后期被打得太惨。另外这里有个“自动状态”，表示在装备该防具的时候，会给角色自动附加一个状态。具体状态的设置部分，我们很快就会讲到。教程2-1到此结束，目前你已经完成教学的 20%2-2 敌人相关本章跟着做预计需要20分钟，学完后你对角色扮演游戏设置敌人的方法已基本了解。角色设置完毕了，接下来就是角色的死对头——敌人部分了。首先点击“敌人”标签，切换到敌人的设置界面。最大值敌人名称战斗图什么的都一目了然可以自己设置，在此不多罗嗦，右边那一串数值也是和角色设置差不多的东西，你可以自己调整，注意敌我实力平衡即可。测试战斗的方法后面我会讲到。随后我们可以看到设置打败这个敌人能够获得的“EXP”、“金钱”和“宝物”，在“宝物”的设置里我们可以设置该敌人掉落的战利品，并且在“出现”的数字栏里面填上掉落物品的概率。接下来比较重要的部分是设置敌人的“行动”，这也是是战斗增加乐趣的重要环节。按Del或者点击右键删除都可以去掉你不喜欢的行动。双击空白处打开设置行动的窗口。在这里我一个一个讲：首先是条件——这个如果不设置的话，就会默认为该行动只要一进入战斗就有可能被用，而具体概率在下方就可以设置。然后我们来分别说说这四种条件：回合——设定固定的回合数让这个敌人有一定概率做出该行动。固定会采用a+bx的形式（学过一元一次方程的都该懂这个吧- -）也就是说，如果将第一个数字填上2，第二个数字填上3，敌人的行动回合就是2+3x，也就是第2回合（x=0），第5回合（x=1），第8回合（x=2）……等这些回合行动，直到战斗结束为止。HP多少以下——这个也很好理解，当该敌人的生命在多少百分比之下的时候，做出行动。可以用这个制作当敌人觉得自己快不行了的时候的垂死一击，或者补血行动之类的- -等级多少以上——这个不是指敌人，而是指我方的等级。可以利用这个做出当我方等级很低的时候，敌人很暴虐用很厉害的大招虐主角；而当角色等级很高的时候，敌人会逃离战斗之类的……开关XXX为ON——这个……呃，涉及到开关的运用，一般情况下来说制定一些特殊的情况，这个我们在讲开关用法的时候会顺便提及。设置完条件，就可以设置行动了。基本行动有攻击、防御、逃跑、什么也不做四种，这个也很明白不用多说。特技方面，你就可以从事先设定好的特技列表里面选择出你需要让敌人使用的特技就可以了。概率的数字大概是按照多少成的可能来算的，比如设置为7的话，就是七成可能。属性状态部分依旧放在后面说，接下来我们看看敌人“队列”的设置。好，现在选择“队列”标签即可打开这个比较关键的部分了，它是一切战斗的基础。首先看到这个画面，左手边依然可以设置最大队伍数量这个不用多说，从中间的设置部分来看起。名称，可以自己定也可以让电脑给你自定（自动生成名称），它会根据你调入队伍的敌人数目和种类自动为你生成队伍的名字方便记住。参考默认的队伍就能明白了，图中有两只幽灵，那么就是幽灵*2。再右边的“战斗背景”是在你测试战斗的时候显示的背景，用来调试你把敌人的位置是不是放得对（比如森林中把敌人放在树上这样的囧事= =），和游戏的战斗背景无关，那个需要另外在“图块”选项里调整。然后再右边就是战斗测试了，只会单独测试这一场和敌人的战斗。单击“战斗测试”，可以调整当前参战的角色和角色的等级、装备等，这样即使是测试BOSS战也可以预先设定好一个合适的等级来应对。“初始化”就是将这些角色还原为数据库最一开始设置的状态。默认战斗里，队伍最多只能有四个人。（XDDD剑同学我不厚道盗用你名字了别打我）当你点选了画面中一只幽灵后，“删除”那个键就可以用了。你可以用“删除”或者“全部删除”清除当前队伍中的敌人，然后添加新的敌人进去。在右边的列表里是你设置好了的“敌人”部分，只要选择你需要添加的敌人，按“添加”就可以了。然后你就能看到敌人的战斗图出现在画面上，用鼠标排列一下合适的位置即可。如果懒得排，也可以点击“整列”让电脑自动帮你排成一条横队在画面最下方。你最多允许添加的敌人只有八名。然后，在下面有一个“战斗事件”，这个是专门安排在战斗中的一些特殊事件的，当我们讲了地图事件之后，我们再专门抽出时间来讲这个地方的设置。教程2-2到此结束，目前你已经完成教学的 25%，点此返回目录。2-3 状态、动画相关本章跟着做预计需要30分钟，学完后你对动画、状态数据库的设置会有比较初步的了解。在本章中，【动画】属于高级功能，如果你对这部分耐心不足，可以先用默认的，等以后有时间再来看。接下来就是关于状态方面的设置了，它也是增加游戏乐趣的一个重要因素之一。切换到状态页面，看左边的这些状态。名字和数量都可以自己修改，不过建议的是把“战斗不能”状态留在第一个。右边就是详细的状态设置了。由左到右看，在名字的下面有一个“动画”，这个是代表当战斗中的人物中了该状态之后，会在它的战斗图上循环显示一个动画来表示。虽然在RM做的游戏里面状态都可以叠加，但是动画只会显示最优先的那个。这个“优先”就是下方关于“定量”的设置。数值越大，该状态的优先最高。一般情况下，比较值得我方人员注意的状态会被设定比较高的定量，比如不利的异常状态。当定量数值都相等的时候，在上面的状态优先显示。“限制”里面有五种设置——“不行动”，字面意思，这个角色这一回合会直接跳过去，什么都做不了。“普通攻击同伴”也是字面意思，以普通攻击伤害同伴，包括伤害自己（所谓自杀……）。“普通攻击敌人”同理，和上面一样不受控制，自动随机攻击敌人。“不能使用魔法”是指不能够使用在特技设置里面攻击力F为0的技能，也就是不能使用魔法技能。如果你的技能攻击力F设置了（哪怕只设置了1），中了此状态也不妨碍此技能的使用。右边的五个选框可以复选。“不能抵抗”代表该状态无视有效度，无论什么时候附加都会被附加上，没有miss。“当作HP为0的状态”表示HP为0的时候自动附加该状态，或者附加上该状态时HP为0。也就是说“死亡”的状态一般会勾选这个。下面的无法获得EXP和不能回避攻击都很好理解不再多解释，“连续伤害”表示一旦中了该状态，每一回合会自动损失最大生命的10%。多用来做中毒之类的效果。此外，如果勾选这个，在中了此状态以后不光战斗损血，在地图行走的时候也会每走一步损失1%的HP，并且屏幕闪烁红光提示。下面这些数值修正就是在中了该状态以后自动调整当前你各项参数的百分比。比如中了某状态以后力量减少，可以把“力量%”设定为80，那么此刻中状态对象的力量只有平时的80%。其余的也都一样，范围要注意，0-200。然后是解除条件——战斗结束后接触勾选之后，无论是否回合数满，战斗一旦结束该状态必然解除。否则此状态依然会附加直到用别的方法解除为止。然后还有X回合后XX百分比概率解除，这个也很简单不用多说。受到物理攻击XX百分比解除，此处包括普通攻击和“攻击力F”为1以上的物理性质特技攻击。右边有个属性防御，勾选之后，表示中了该状态会对此属性的防御能力增强，此属性的伤害力一律减半。再右边的“状态变化”表示中了此状态对别的状态的影响。在那个方框里点一下，出现红色加号表示“附加该状态”，出现蓝色减号表示“减去该状态”，空白就是无关了。比如你可以制作虚弱状态和蓄力状态互克，附加一个必然会解除另一个，等等。然后需要返回去说说状态有效度的问题。在职业、敌人的设置方面有这一类的设定，表示该状态附加到身上的概率。字母ABCDEF从高到低，A代表100%，B代表80%，C代表60%，D代表40%，E代表20%，F代表0%。如果给某个职业设置毒状态有效度A，那么表示这个职业的角色100%会中毒。同样，如果给某敌人设置状态有效度F，那么该状态永远不会附加到该敌人身上。附加状态的方式可以在物品和武器那里设置，同样加号代表附加，减号代表消除。比如制作可以解除我方异常状态的药物，或者制作可以给敌人附加毒伤害的武器等。不过，有些情况下是不一定的，比如说在“防具”里面设置的自动状态。这个表示只要穿上了该防具，自动附加此状态，而且不会解除掉，除非防具脱下。而在右边有个“状态防御”的设定，勾选之后，该防具对某种状态会具备100%的抵抗能力，也就是类似于穿上了该防具的主角此状态有效度自动变为F那样子。最后，状态的附加也可以在地图事件和战斗事件中调整。这个到后面再讲。接着是动画篇（本段功能较高级，无兴趣的新手同学可以先跳过，以后再来看）。这同样是给你的游戏增色的重要环节，动画不仅仅可以在战斗中调用，也可以在地图中调用。切换到动画页面，能够看到挺复杂的东西吧。不过这些设置虽然琐碎，并不麻烦。名字、数量依旧自己控制，接下来我以一个空动画作为模子简单讲一下某个攻击动画的设置方法。首先，可以看到名字下面有个“动画图形”的选择，它代表动画图片素材的调用，点击向右箭头打开选择的位置，我以Attack02图形作为例子。下方的控制杆可以调整这张图片的色相。动画图片素材统一规格为宽192×5，高192×N的大小。你可以尽量让它高，但是宽度必须是192×5 = 960像素，这是调用自己做的动画素材的时候需要知道的，而默认素材无需担心大小问题，它都弄好了的，用就是。选好动画图片之后，选择该动画播放的“位置”——上中下分别代表单个对象的不同空间方位，并没有特别严重的不同，除非你要用特别多的动画帧，占很多地方，否则不用特别考虑。但是“画面”就要注意，它代表整个屏幕，也就是说设置为“画面”的动画会在整个屏幕范围内播放，而不会直接在对象的图片上播放。另外，如果你在技能里设置该动画为全体技能的动画，那么上中下三种设置都是“有几个敌人就放几个动画”的，而“画面”则只会播放一个动画。位置的右边是这个动画的帧数，它表示整个动画的时间长度。RM里面，一秒约等于15帧。控制好动画长度，是你把握游戏节奏的一个重要因素。战斗动画太短，有些时候会让人觉得不够看，太长了，战斗多起来又会烦。所以要自己好好斟酌。我这里只是要做一个简单的动作，所以10帧就够了。选择好帧数之后，在左边就会看到有一排从1到10的帧数表了。每一帧上都可以播放动画图形，连在一起就是一套完整的动画。在下方一排图片里面，每一个192×192的正方形单元格里都有一个小动画。选择你的动画图片，在中间黑色的动画设置区单击鼠标，把单元格放上去。然后点选第二帧，选择另外的合适的动画单元放上去。如果前一帧上面已经有了动画元件，那么这一帧会用蓝色格子为你标识之前所有动画单元的位置，方便你定位。我们要做一个从右上向左下的爪动画，那么就稍微移动一点这个单元格，让它连起来的时候能够有向下的感觉。依次类推，将10帧动画逐个做出来。当你在设置动画单元的时候，也可以在元件上双击，呼叫出具体的动画单元设置，它能够让这个动画元件的效果更丰富。其中，式样代表该动画单元在你整张动画图片里面的顺序（体现在下面那些格子里代表第几个），X坐标Y坐标代表它在动画界面上的位置（注意黑色区域右下角有坐标标识），放大率表示你可以将这个动画在原有基础上放缩一定的百分比。旋转角度也不用说，可以自由旋转你的该单元。左右反转是以垂直线轴对称反转过去，试一下你就能看出来是什么效果了。不透明度很简单，0-255的范围可以自己随意定。合成方式这个有些复杂，大致的意思是，“普通”代表正常将图片显示出来（一般会是透明底PNG），或者加法“取和背景颜色相同的部分”，所以黑底的JPEG会自动被抹掉黑底，但是动画整体感觉比较透亮。“减法”正好相反，取颜色差值部分，所以动画整体颜色会很黑。动画右边那个“ED战斗”是选择一张战斗图作为你设置动画的“靶子”，比如你的战斗图总体比较小，那么你要按照你自己的战斗图来设置动画。复制帧、清除帧都是ctrl+c和delete的具体操作，不用多说，而那个“补充帧”，多用于比较连贯的动画文件，图省事……比如你在第一帧放上式样为1的动画单元，在第10帧放上式样为10的动画单元，再使用补充帧功能，它会自动帮你把中间那些动画单元都填上，并且如果有移动的话还会均匀排好移位。但补充的帧数一定要和你中间那些动画单元数目一致才行。也就是说，不能设置20帧只补10个动画单元，那样它是不会理你的。画面右上角，是关于动画音效和画面对象闪烁的设置。在动画作用于角色身上时，一个闪烁比较能表现出“被打到了”的感觉。双击空白处打开这个设置，“帧”表示这个效果开始的帧数。SE指这个动画播放时的声音，条件可以设置“无”（什么时候都会闪烁和播放SE），“击中”（只有在打中的时候才播放SE和闪烁），“失败”（只有在Miss的时候才播放SE和闪烁）。闪烁的功能可以用于对象也可以用于画面，下方红绿蓝的三个滑块可以调整闪烁的颜色（闪红光、蓝光等），”强度”也可调整，比如闪一下特别亮或者很微弱。时间表示闪烁的持续时间，一般建议比动画长度要短些。确定之后，可以点击“播放”看看你的动画效果了。喔，似乎有些靠下？那么就用“全体滑动”来把整个动画移动一下位置。X代表水平移动，Y代表垂直移动。移动诀窍：左减右加，上减下加。如果要让动画整体靠左16单位，只要在X上写-16就可以了。那么，动画的设置也就到此。接下来只要在物品、武器、敌人或状态上调用你做好的这些动画就可以了。教程2-3到此结束，目前你已经完成教学的 32%2-4 地图图块、系统相关本章跟着做预计需要15分钟，其中图块部分较高级，可待以后有需要时再看接下来我们讲讲关于地图图块的设置部分。在之前画地图的时候我已经提过了，地图图块就是所谓的“积木”一样的东西，拿出自己需要的块来拼出地图就可以了。而具体的地图图块的调用方法和一些设置在这里就能够自行调整了。首先点击“图块”标签切换到该页面。数量名称什么的统统老样子，然后我们看右边那些密密麻麻的小格子，它们以32×32的一格子为一单元，每个单元内的设置都可以相对独立。最上面一排的是自动元件，最多可以选择七个不同的自动元件。比如草地上不光有草也可以有石头地面或者水潭之类的。最左上边那个空白的元件就是画地图的空白元件“橡皮”了。下面那些大张的树木啊房子啊什么的都是被包含在一整张“地图元件图形”里面的，按下右边那个小三角，地图元件和自动元件这两类素材的不同就一目了然了。设置完地图图块，下面还有三个其他特殊图形的设置。“全景图”的位置被压在地图的最下面，也就是说优先度比第三层的地图图块还要低。什么时候远景图会凸现出来呢，就是在一二三层都没有画元件遮盖住的地方，那么远景就会出现。举个例子，比如我现在在名为“山道”的图块那里设置了蓝天远景图：然后用山道图块把地图画成这样——可以看到一二三层都没画图块的地方是一片空白的，就算按F4预览也依然是空白一片。但是当我们进入游戏预览这张地图的时候，会看到蓝天的远景已经在地图上显示出来了。这就是远景图，在你画地图的时候是看不出来的，但是在游戏中绝对不要忽视了它在地图上发挥的作用，这对于你的游戏表现力是很重要的。远景图之下还有“雾图形”的设定，这个和远景不一样之处在于，它有更加丰富的效果——移动、叠加效果、以及透明度。而且它的优先级和远景正好相反，是覆盖在一切层之上的，包括事件层。编辑雾图形的时候，选择好图形，然后注意那个叠加的效果，为了能让雾更透明一些，我们通常用加法，当然取决于雾图形的不一样，有时也会用减法和普通，这个是需要自己试验的。透明度也是一样，最好不要数值太大，否则就什么都看不见了。SX和SY表示雾图形的自动移动，数值越大移动速度越快。同样，移动诀窍是上减下加左减右加，比如要雾图形向左上移动，那么Y值和X值都填一个负数就可以。放一张图，来区别远景图和雾图形（注意看这里，角色挡住了远景图，但是雾图形却是压在角色之上的）：接下来是战斗背景的设置，这个很简单。凡是用这套图块画的地图上发生的战斗，一律会调用在这里设置的战斗背景。也就是说，你在游戏里真正的战斗背景是在这里设置的而和那个“队伍”里面的无关。然后是图块右边的那些关于通行度的设置。第一个是直接设置整个“块”的可通行与否，圆圈代表可以通行，叉表示不可通行，很直观。不想要角色能通过的地方，画个叉的话这些图块画的区域就统统不能走了。如果要设置的细致点，就可以选第二个“4方向”，这是通过不同的方向情况下来判定通行。有箭头的就表示如果角色行走的方向是和那个箭头方向一致的，即可通行，点则表示不能通行。以画圈圈的那个山崖举例吧，角色可以在那个山崖的边缘向左右走，或者向下（山崖内部）走，但是不能向上——因为那样就走到山崖外面去了= =|||。随后是优先级，这个很好理解，就是图块谁挡谁的问题，一般情况下，优先级数字越大越靠上。只要给元件加了一颗星以上的优先级，角色就会被挡住。这可以用来制作角色被屋檐挡住或者被树梢挡住的效果。“草木繁茂处”的设定也是细节性设定，当一个图块设置为有草木繁茂特性的时候，角色走到这里下半截身体会自动半透明化，呈现出被草木遮盖的感觉。“柜台属性”则多半属于商店类设定，角色在面对着设置了该属性的图块的时候，就像隔着柜台对对面的人说话一样，紧挨着柜台的另一头的事件可以在中间夹了个桌子的情况下被触发而不需要角色再跑到他跟前按回车。参看一下“店内”那个图块的设定就能明白了。“地形标志”是给地上不同的地区编号，当角色踩到不同编号的图块上的时候，可以用变量代入当前踩着的图块的编号。当然，是属于实现一些特殊效果会用到的。接下来我们看系统部分。里面有很多东西都会被直接读取入你的游戏里。最左边的“初期同伴”代表你游戏一开始的时候登场的角色，因为队伍的最大人数只能有四人，所以这里最多只能添加四个人。当然也可以一个都不添加，然后在进入游戏之后通过事件的方法替换队员（这个方法推荐想制作开头选人的作者使用）。“初期同伴”下面的就是各种属性的设置方法了，那个最大值的更改也是针对这里的，你可以自己设置属性的数目。属性在先前的“职业”和“敌人”部分都有有效度的设置，这个和状态有些类似，也分ABCDEF，不过它代表具备该属性的特技、武器等对这个职业的角色或敌人的破坏力影响——A是200%，B是150%，C是100%，D是50%，E是0%，F则是-100%。也就是说，如果一个火焰属性有效度为A的职业角色被火焰属性技能攻击到了，那么受到的伤害是加倍的。同样，如果是F的话，不但不会受到伤害，反而会把这些攻击转化为补给（被攻击=被加血）。想要给一个技能或者武器或者道具的作用效果附加属性，在那几个页面里的“属性”上打个勾就可以了。对于“防具”和“状态”，没有附加属性只有属性防御，也就是说当被勾选了这个属性之后，该防具或者中了某状态之后，对此属性的攻击有减半作用。中间的系统图形、BGM、ME、SE的设定在游戏中也会被调用。“窗口外观图形”是指你游戏里所有的窗口的图样，比如对话的对话框、菜单窗口、战斗中显示角色名字HPSP的那个窗口等。查阅一下F1即可知道这类窗口图片的规格，在这里不再细说。“标题画面图形”就是进入了游戏之后第一眼看到的那张图片。“游戏结束图形”说白了就是Gameover图，在不允许失败的战斗中如果你战败之后会自动显示出来。“战斗渐变图形”是指当开始战斗的时候，从地图上自动切换到战斗场景。这类过渡图都是黑白的，其切换原理是从最黑的部分先开始切换过去然后到最白的地方。“标题BGM”指一开始进入游戏的时候，在显示出标题图片的时候同时播放的音乐。战斗BGM就是战斗背景音乐，这个在你测试战斗的时候也同样能听到。接下来是战斗胜利ME和战斗失败ME，它们分别表示战斗胜利和失败时，播放的效果短音乐。接下来是各类SE——也就是声效的设定，很直观，光标代表你每用方向键移动一次光标的时候播放的声效，确定表示你按下空格键选定某个选项时播放的声效，取消表示按下ESC来取消或退出菜单的时候播放声效，警告表示当前选项不可用的时候……下面的那些都一目了然，就不多描述了。其中“角色受伤”和“敌人受伤”的声效并不是指每挨打一次都会播放，而是当死亡的时候才会播放的音效（也就是被附加上类似“战斗不能”状态的时候播放的音效）。关于BGM、BGS、ME和SE的说明我会在后面自用素材的地方解释。右边那些“用语”的设定也很简单。比如你把金钱单位设置成“RMB”，在你进入游戏之后按下ESC呼唤出菜单，就能看见你的金钱窗口里不再是“G”而显示出了“RMB”的字样。注意区分里面关于“攻击”和“攻击力”的用语设定，前者是动词，指代在战斗的时候选择的那个普通攻击，你也可以用“劈砍”或者“普攻”替代。而“攻击力”则是名词，是描述先前提到的武器赋予的破坏力。“物品”和“特技”的用语在菜单里和战斗中都会同时被调用到。系统和图块部分也都讲完了。截止到目前，应该能够使用默认素材来定制一个属于自己的游戏数据库了。不过标题上那棵大树看多了谁都会产生审美疲劳，怎么样才能在游戏里使用自己的素材呢？教程2-4到此结束，目前你已经完成教学的 38%\n2-5 自定素材导入本章跟着做预计需要15分钟，本段内容较高级，在不需要自己导入素材的时候可以先跳过本章在使用自己的素材之前，让我们先来了解一下素材的规格——在这里推荐大家都去看看RM自带的帮助里面，很详细地讲述了各类图片的所在位置和其大小及样式。图片素材——它们需要是JPG和PNG格式。其中包含透明底的图片需要用PNG，否则在游戏里会出现难看的白边。在你自己的游戏目录下可以找到Graphics这个文件夹。这里面就是存放了所有的图片的文件，而根据用途还被分为各个子文件。按照字母排序依次来说一遍。首先，Animations文件夹，存放游戏里面所有的动画素材，在数据库的动画部分调用来制作动画文件。素材规格为宽192×5 = 960个像素，高也为192倍数个像素（但是最好不要太长了）。这样在导入素材之后，才会出现192×192的小方格以供使用。Autotiles文件，存放游戏里所有的自动元件图片，关于该素材的规格见下图所示，基本样式是96×128，上面三块区域分别代表『画地图时在左边显示的样子』，『和这个自动元件连接起来的图块的样子』和『紧接在地图边缘的时候四角会呈现的样子』。下方那个大方块代表用这个图块八个方向+中心的具体效果。如果想要做出水波的动画效果，可以将多个这样的自动元件并成一排（参考瀑布、水潭等默认图块）。 如果想要具体了解自动元件的画法，在绘制地图的时候在左边选择好自动元件，双击它就能打开更细致的绘画面板了。或者也可以搜索一下关于自动元件绘制的教程，这里不再拓展。Battlebacks文件夹，存放所有战斗背景文件。需要640×320或者640×480的图片。不过在默认的战斗中，640×320就够用了，因为下方的图片都会被状态窗口遮住。Battlers文件夹，存放角色或者敌人的战斗图，大小一般不限，别大过640×320就可以了……= =。需要透明去白底的PNG，不会去底请去图像技术区寻找PS魔棒路径去底教程。Characters文件夹是存放行走图的文件夹，规格大小不限，以4×4为平均规格，列数为上、左、右、下四个面向的四排，然后横排四个为停步、左踏步、停步、右踏步。标准RTP风格的行走图是128×192，每一个角色的宽高就是32×48。Fogs文件夹收录雾图形，大小没有限制，但是注意，它一定要能做成四方连续的形式，即上下左右都可以接上，因为要以平铺形式出现在游戏里面（雾图形的设置法见先前图块教程）。Gameovers放战斗失败图片，640×480。一般一个游戏只在系统里能设置一次，所以只需要一张。Icons文件夹放各类图标素材，大小为24×24的图片，不能大，否则无法完整显示（RM不会自动帮你放缩图标文件的）。Panoramas文件夹放各种远景图片素材，和雾图形要注意的是一样的。其用法在图块部分也都讲过。Pictures文件夹放所有你在游戏中通过“显示图片”这个事件指令会调用的图片，自由度比较高，这个在后面讲到显示图片功能的时候会提到。Tilesets放的就是图块素材了，注意区分它和自动元件素材。宽度32×8=256像素，高度是32的倍数可以无限延伸，但是不可以太长否则导入你画的地图时可能会卡。Titles放置标题画面图片，640×480，同样放一张就够了。Transitions代表过渡图片，一定要是灰度色阶图片（即黑白）640×480大小，过渡场景时会从最黑的地方先开始。最后是Windowskins，代表窗口图片素材。192×128大小，下图将一个标准的窗口图片分为几个区域，A区域128×128，代表窗口内的区域填充。四周会留出2像素的空白，是为了让边框能覆盖住它。B区域是边框，里面那四个小箭头是在窗口里内容过多有向上或向下滚动必要的时候会出现的。C区域代表光标，当出现窗口选项的时候会在选项上闪烁（最明显的就是一开始选择“新游戏”“继续”那里了）。四周的2像素按长宽拉伸显示，剩下的按光标的大小平铺。D区域是暂停标记，在对话框里出现，当一段话出现完之后，在等待玩家按空格键继续的时候显示出来。16×16规格，每一个标记都有一定的位置移动，作为动画效果表示。E区域则是战斗场景里选择敌人和角色的时候会出现的箭头，一般在战斗图下方出现。图片素材介绍完毕之后，我们再来说说音乐素材。打开Audio文件夹，可以看到其中有四个文件夹。它们就是游戏中会用到的各类音乐音效文件，格式可以用MP3、WMA、OGG、WAV，如果是BGM和ME的话也能用MIDI。其中BGM代表背景音乐，在游戏中默认会重复播放。BGS代表背景音效，也是重复播放（用于特殊场合的海浪声、雨声、人声等）。不过这两种没有特别区分，可以混放。要注意的是，在同一时间，BGM只能播放一首，BGS也一样；但是BGM和BGS两者却可以同时播放（也就是放着背景音乐的同时响着雨声什么的）。由于两种声音会混在一起，所以如果把两个文件夹都放上歌或者音乐并一起播放可能会很诡异= =。ME是代表效果音乐的文件，在它播放的时候，一切BGM和BGS都要停止，等它播放完毕之后再继续淡入播放。（题外话：由于ME也有“我”的含义，加上这个特质，本人曾戏称其为“我最大”=v=|||）SE代表各类音效，在游戏中最广泛能用到，除了“播放SE”的指令之外，数据库里面物品、特技、动画和系统的设置里都提到过很多次。多个不同的SE可以同时叠加。了解所有的素材规格之后，就可以将合适的素材用到自己游戏里去了。将你下载好的素材按照分类放进这些文件夹里面。你也可以用RMXP默认的媒体库功能调入素材。按下F10，或从“工具”菜单里面选择“媒体库”，即可看到下面的窗口。在素材前面有蓝点的代表目前在你默认RMXP安装目录下的文件，这些文件是只要装了RMXP的人都会有的。选定一个你希望导入素材的目录，点击“导入”按钮，找到你要导入的素材并确定。在导入某些图片文件的时候，会自动有去底功能，用鼠标左键点击图片的白边，选择该颜色为透明色，则该图片中所有的白色自动被透明处理了。如果有想弄成半透明的，在那个颜色上点击右键即可。素材导入之后，你会发现这个文件的左边有个红点，这个就是表示在你自己游戏目录下面的素材。 好，那么到现在，数据库的设定部分就全部完成了。你也学会了怎么添加自己的一些素材，当准备工作都完成之后，我们就要开始最重要的事件学习——这才是让你的RPG游戏真正能被称之为游戏的部分。教程2-5到此结束，目前你已经完成教学的 45%3-0 手把手教你入门RMXP-地图事件设置部分本章跟着做预计需要25分钟，本段内容是全部逻辑的基础，属于必修内容～在我们学习事件设置之前，先来认识一下RM里面的“事件”具体为何物。它可以用来在第四层画元件，可以是个游戏中看不到的透明的“叙述者”来操纵剧情的运行，可以放置在地图边缘作为切换场景的移动点，也可以作为NPC、BOSS、角色等看得见的人物或者物品存在。在RM里事件被分为地图事件和公共事件两类，而地图事件的设置被统一在地图的“事件层”（见红圈），也就是第四层的设置中。切换到事件层之后，该地图处于事件编辑画面，右边的那些图块就不能再被用来绘制地图了。你可以看到地图上被划分为一个个32×32的小格子，这就是地图上的每一个事件单位，你也可以理解为“人均面积”——标准RTP中，每个角色或者人物都站立在一个格子里面。在一个事件格上单击右键，就可以看到这样的选单——选择新建事件，就会在当前的事件格上新建立一个事件。当你做好一个事件之后，它可以被剪切、复制和粘贴。最后一个选项是“角色初期位置”，也就是当你选择“新游戏”之后，角色会最开始出现在什么地方。设定好了“角色初期位置”的格子会被一个写着S字母的标志占住，这个事件格将不能再被用来新建别的事件（见表示蓝圈）。选择新建事件，就可以进入事件编辑页（重点来了重点来了……）。一个事件可以包含很多页，通过不同的条件操作，让它执行不同的内容。首先，事件名称——这个你可以自己设定，因为之后一些指令操作可以调用地图上所有的事件，如果事件过多的话，可能会混乱，在这里起好一个名字比较方便查找（比如写“主角的妈妈”或“特殊NPC”之类的）。接下来是右边那一排关于事件页的操作。这也是事件操作复杂的地方，一个事件可以包含很多个页，而这些页的出现条件、执行内容、图形等都可以完全不一样。事件页也可以复制、粘贴或者删除，多用于一些在条件不同的时候，事件内容会发生微妙变化或者人物图形变得不一样的情况等。左边的“事件出现条件”和最下面右边的“事件开始条件”要严密区分开，“出现条件”指代这个事件存在于地图上与否，而“开始条件”指代当事件存在之后，什么条件能够执行你在右边的“执行内容”里编辑的东西。“事件出现条件”由开关和变量进行控制，你可以同时使用两个全局开关、一个变量和一个独立开关控制这个事件页的出现与否，比如当某开关打开，某变量为2以上的时候，该事件页会出现。这里要再次强调以后提到的事件都不是指代包含了所有事件页的整个事件，而是单独的某个事件页。关于开关、变量和独立开关的操作及事件和它的配合，我会在后面详细讲到。“角色图片”指代这个事件页在地图上的表现形式，它的图形将从行走图文件夹characters里面调用。双击即可打开，和数据库选择角色图形很类似，只不过这里可以更详细地选择出一个图形的面向状态等。移动规则里面有固定、随机、靠近和自定义四种，固定就是指这个事件会原地不动，随机则是会在能够移动的区域之内随便走，靠近则是这个事件会一直追着角色行走（用于制作追踪的敌人或者跟屁虫NPC之类的= =），自定义是可以自己来定制这个事件的移动状态，它和设置移动路线的事件操作很近似，所以也放到后面说。速度和频率可以自己设置，标注得很清楚，速度快的话事件每迈一步的速度会很快，频率高的话事件就不会停下来一直在走。左边有个“选项”来定制一些事件的特质。“移动时动画”一般都是被勾选上的，也就是说该事件如果有行走图的话，在移动中的时候就会顺次播放那个方向的四个动作（踏步），让它有在走路的感觉。如果去掉了，就会以你当前在“角色图片”选择的那个动作移动不会变化，看上去像飘= =|||。“静止时动画”类似，勾选后当这个事件不动的时候，原地踏步。“固定朝向”表示当角色触发这个事件（多用于按回车或者与其接触来触发场合）的时候，它不会自动转向那个面向角色的方向，而是会保持恒定的方向。（比如制作一个正在买菜的大婶，和她对话她不理你，自顾自讨价还价之类的……）“允许穿透”表示角色可以穿过这个事件，这个事件也能穿过别的事件——当事件有行走图的时候，默认是无法穿透的。“在最前面显示”则是将整个事件的优先级提到最高，比地图上所有元件的优先级都高（这么设置之后，图块里面你设置的地图优先级对这个事件无效了）。“事件开始条件”代表当这个事件出现的时候，你要怎么去触发右边你定制的详细内容。“决定键”很简单，对着该事件按下C键或者空格键，就会触发这个事件。“与主角接触”表示当你的主角碰到这个事件上的时候会执行，一般用在场所移动的事件上。然后是“与事件接触”——代表当事件和主角碰触的时候就会执行，无论是主角先碰上事件还是事件自己先碰上主角（这种时候事件一般会设置一个随机或追随的移动规则）。多用于追杀主角那样的敌人事件。“自动执行”表示当这个事件出现的瞬间，立刻执行。并且如果没有中断的话，会反复执行。在该事件执行过程中，主角不能移动，其他的事件也都不会再触发。“并行处理”也是和自动事件类似，会一出现就开始执行并反复执行。不过它不会妨碍主角的移动和其他事件的处理。一张地图上过多的并行处理事件会严重拖慢游戏的速度，使用的时候需要注意。设置完一个事件之后，在地图上就会显示出对应的图像来标志。不过，地图上只显示序号最小的事件页的图形。在下图便是这样——虽然你设置了三页事件，在地图层的这个界面中你只能看见第一页的图形。然而进入游戏之后，则正好相反——你会看到此时显示出来的是第三页的事件的人物。这就是事件页的优先级问题，当出现条件相同的时候，先出现的是序号最大的那个事件页，执行的也是那个事件页的内容。所以，如果要停止一个自动事件或并行事件，可以在其执行终了的时候打开一个开关，然后新建一个『空白的，出现条件为该开关ON』的事件页，这样根据这条规则，新出现的事件会替代先前的那个自动事件页，那么自动事件就停下来了。事件的基本编辑界面介绍完毕了，在执行内容的空白处右键单击一下那个菱形，就可以看到事件编辑的那个菜单。“统一输入文章”的指令和显示文章会一起讲到，当你选择“插入”之后，就会出现下面的各类事件指令了。接下来我们将要通过各个实例来详细解释关于这些事件指令里的各种功能。教程3-0到此结束，目前你已经完成教学的 48%3-1 剧情篇：显示文章、选择项、增减物品、开关变量操作、条件分歧、移动路线等本章跟着做预计需要30分钟，本段内容属于必修内容～本段教程制作实例：游戏开始，主角会自言自语介绍故事背景（……）随后主角的师父走过来让主角选择接一个任务去取5个某物品，取够之后完成任务。首先，游戏中设置好角色的初期位置（游戏刚开始的时候角色默认脸向下），然后新建一个新事件，图形设置好，将事件开始条件设置为自动执行，表示一开始进入游戏，主角就会立刻开始说话。然后选择事件指令的“显示文章”，编辑主角将要说的话。在这个显示文章的框里写字的时候要注意，不要把整个文字框写满，每一行要在还剩下两个字的时候就换行，因为RM的对话框在显示对话的时候，最后两个字是显示不完整的。写完一段话之后，可以按F2预览你当前的这段话。当然，显示文章里面还有很多特殊的代码用途，按一下F1可以看到，比如给文字加上特殊的颜色，直接显示数据库里1-N号角色的姓名或者开启金钱窗口之类的。这些在后面我们都慢慢应用。每一条事件指令都可以自由编辑，写错了的话选中按空格就能再次编辑了。主角简介之后，加一个旁白——这时主角的师傅走过来。这一段为了显示出一个旁白的效果，可以把文字从屏幕下面放到中间来并且把文字换一个颜色，同时窗口透明。使用“更改文章选项”，将位置改为“中”，然后窗口改为“不显示”，那么在游戏里就只会显示字并且位置在中间了。但是，要记得旁白完毕之后改回来，否则后面的文章都会这么显示了。旁白的字最好和正常对话的字不一个颜色，那么就在显示文章中使用“C[n]”的代码，n可以等于1-8八个不同的数字，指代八种不同的颜色。按F2就能预览出来效果了。在这个实例里我同样用了“N[n]”的代码来直接读取数据库的角色名字，用N[1]的时候，RM会自动显示数据库1号角色的名字。接下来，就要控制角色的师傅，也就是你目前设置的这个事件向角色走过来了。事件处理第二页，“设置移动路线”指令就是这样使用的。选择它以后，先在最左上角确定好要移动的对象——“角色”“本事件”或者是在下拉列表里选择其他事件。也就是说一个事件其实可以操纵另一个事件的移动。虽然这张地图上我们目前只有一个事件，但是以后会增加更多的话，也要记得别弄错了对象。然后就是具体的移动设置，右边有很多按钮操作，都很直观。每点选一次出现一个“向右移动”，就表示该对象向右移动一步。所以我们这里要他走三步，就要有三个向右移动。然后因为移动完它的脸是冲右的，为了让他和主角说话，加一个“面向主角”的指令就可以了。在移动路线里面也可以控制开关的开合，并且临时更改一个事件的移动速度、频率、以及“选项”（移动动画、静止动画等）。“更改角色图片”的设置会在后面一起讲到，更改不透明度和合成方式也很简单，如果想要让一个人突然变得透明，将不透明度改小一点就行了。“脚本”不属于此教程研究范畴，所以不再多说。左下角有个“重复移动”和“忽略不能移动的场合”，也很容易明白，当“重复动作”勾上之后，事件会一直这么走下去。“忽略不能移动的场合”可以表示为当前方有不能通行处的时候，会自动跳过剩下的那些移动指令。如果因为移动到了不能走的地方造成游戏卡死，也可以检查这里并且勾选上避免致命的bug。设置完移动路线之后，可以在事件指令第二页找到一个“等待移动结束”的命令，加上之后事件就会等移动路线里的对象走完再继续执行下面的部分——而如果事件在重复行走或者走到不能动的地方卡住了，游戏整个就会卡死。所以使用起来要稍微小心一点。然后是交代任务。主角的师傅让主角打开房间里锁住的柜子然后拿五个回复剂。主角可以选择做还是不做——做的话则接到该任务，不做的话则自动事件中断，主角的师傅在屋子里溜达，然后和他对话可以再次接任务。这里就有一个选择项的使用——它也是条件分歧类判断的一种。在第一页找到“显示选择项”，就可以看到RM里最多有四个选择项可以供设置。而事实上，分歧可以最多创造五个——右边有一个“取消的场合”，表示当你按下ESC的时候，会跳转到哪个分歧。在这个实例里如果你按下了ESC，默认为第二个选择，即和选择“呃，等我一会儿好吗？”的场合相同。而如果你想在四个选择之外多出第五个选择，就选择那个“分歧”即可。同理，如果不需要按ESC，选择“无效”，那么在出现选择项时，你按ESC就不会有任何反应了。然后根据不同的选择，师傅可能会说不同的话。接下来，就是重点，（全局）开关和独立开关操作。首先用不同的两个独立开关将自动运行的事件页终止，否则此段剧情会自动反复执行。没接任务的时候师傅会继续要求你接任务，那么打开独立开关A，新建一个事件页，设置出现条件为『独立开关A为ON』，图形等都还是原来的，开始条件为“决定键”。内容可以再次复制这个选择项的内容过去，只不过那时候就不用再打开独立开关A了。接下任务的时候师傅会等你完成任务，那么打开独立开关B，新建第三个事件页，设置出现条件为『独立开关B为ON』，图形等都还是原来的，开始条件为“决定键”。在第二个事件页的选择项里，不要忘记页添加上在接受任务的时候打开独立开关B。这样无论是你一开始就接下来，还是后来再去找师傅对话接下来，都可以自动跳转到接完任务之后的这个事件页。独立开关的数量只有四个，并且只是在单个事件里面控制页面，不能全局调用。接下来是开关的使用方法。它是整个游戏的全局操控引擎，无论在哪张地图里都可以根据判断这个开关是否为ON来执行事件内容。本实例里面的情景是，如果不接任务，虽然主角也可以溜达，但走到柜子那里是拿不到东西的。这里就需要使用开关来操作了。选择“开关操作”，可以看到单个开关的打开和关闭或者是一个范围之内所有的开关的打开和关闭。按右边的小三角，即可列出游戏里所有的开关。你可以通过更改最大值设定可用开关的数量，然后给你的开关起个名字方便管理。只要主角接了任务，这个开关就打开。接下来，设置那个“拿药”的事件。选择在柜子上的那个方格，单击打开，由于它是在接到了任务才能拿药的，所以出现条件设置为“接到拿药任务”的开关为ON。本实例要实现的效果是：主角调查柜子可以拿药，一次一个并且能看到自己有了几个。当药的数量够了5个的时候，提示拿完，不能再拿。这个步骤看似简单，实际上包含了很多个操作：“显示文章”、“增减物品”、“变量操作”和“条件分歧”等。首先，使用“变量操作”，把角色手头的回复剂数量代入一个变量，然后条件分歧，判断此变量是否大于等于5，如果是，则显示已经拿完了。如果否，则增加一个回复剂，同时显示文章提示『你得到一个回复剂，目前你的回复剂数量为X。』详细来说，首先是变量操作。它也是整个RPG游戏制作过程中的重头之一，可以用来代替开关控制你的游戏流程，用得好了能大幅节省开关数量。操作变量的时候首先也像开关一样，选择好你需要的变量并且命个名，然后对这个变量进行操作——所有能够用数字代替的数值，常理来说都可以代入变量。变量与变量之间也可以互相代入，并且也可以做加减乘除这样的运算。变量能代入的那些数值在下面都有，不一一讲解你可以自己去看，在这里我们选择代入回复剂的数量。这之后就是条件分歧，它代表某个条件满足的时候如何如何，同时你也可以设置不满足的时候如何。如图所示，我们将要判断当代入了回复剂数量的那个1号变量是否大于5（这里的大于实际上是大于等于，如果要设置大于应该选择“超过”）。然后也要勾选一个“当条件不符合的场合”表示“否则”如何如何。没拿够的场合里面，可以继续拿，那么就要使用“增减物品”的指令了，也在事件第一页。增减物品的数量可以自己设定好，也可以代入某个变量数。这里注意，由于变量可以为负数，所以得到负数个物品的时候，等于减少了该物品。然后使用显示文章的时候，因为你的物品数量变化了，所以要再次代入变量，同时在显示文章的框内用v[n]代码——显示n号变量。由于1号变量表示你的回复剂数目，所以用v[1]就可以了。整个具体的事件制作过程差不多是这样，当回复剂拿满五个的时候，可以回去找师傅——也就是那个独立开关C的事件页，判断主角是否拿够了，同样是条件分歧的操作。本实例的工程可以在下面下载，看不懂图文描述的话请结合工程理解。教程3-1到此结束，目前你已经完成教学的 56%3-2 地图事件设置地图篇：场所移动、显示图片、天气操作、渐变和画面色调、地图设置等本章跟着做预计需要20-30分钟，本段内容属于必修内容～本段教程制作实例：代表正义的勇者和法师出现抓走了主角的师傅，于是主角要出发去解救他们。出门的时候已经是黑夜，并且下着大雨，乌云密布。那么首先接续着上面的实例，在主角拿齐回复剂并且和师傅对话之后，剧情继续推进，勇者和法师出现。此处需要增加代表“勇者”和“法师”的两个事件，但是为了不让他们在剧情发生前就出现在地图上，我们要设定开关。在开关列表里新增加一个开关名为“勇者出现”，然后在两个勇者的事件上勾选它。这样如果不打开开关，他们就不会出现了。接下来，就是“出现”的画面了——在这里制作的时候，主要被应用的效果是“播放动画”“显示图片”“画面闪烁”等主要烘托地图效果的功能。选择师傅那个事件，在第三个事件页完成任务那里继续剧情。可以用“等待”功能暂时等待40帧表示停顿——在RM里20帧约等于1秒，等待期间事件不会继续，善用这个功能能够很好地控制游戏节奏。然后是两位勇者出现的剧情。为了表现出突然的效果，我们可以使用一个画面闪烁，然后播放一个光动画。这就需要用到画面闪烁和动画播放功能——事件处理第二页这里，可以看到有个“画面的闪烁...”，它就是负责处理画面一闪的效果。也就是说画面会有一瞬变成这个颜色，然后自动变回原来的色调。闪烁的颜色可以自己调整，长度也能自己调整。要注意的是画面闪烁过程中接下来的事件内容还会继续执行，所以如果只想看画面闪烁，就等待和闪烁相同的帧数吧。画面闪烁之后可以播放一个动画，伴随着动画两位勇者登场。此处就要用到“播放动画”的功能了，同样在事件处理第二页。在这里你可以选择在数据库里设定好的动画来播放，然后需要选定一个播放的对象，也就是地图上的一个事件抑或角色本身。如果事件多了，找起来非常麻烦。所以在这里给事件命名是很重要的，或者你对记住事件编号有把握的话也可以不用命名。动画播放和画面闪烁等一样，在播放的时候下面的内容会继续执行下去，所以如果想让动画播放完再执行下面的内容，就要用“等待”功能等待和动画相同长度或者更长一点的帧数。动画播放完毕之后，就可以打开让两个勇者的事件显示的开关了。接下来的剧情都是已经学过的内容，显示文章，移动路线，然后依旧用打开开关的方式让事件消失。这些内容就不再赘述，忘记了的请下载本期的范例工程研究。接下来，附加一个“显示图片”的教程，用于显示一些特殊的图片或者人物头像等。由于这个功能相对复杂一点，我一个一个来说。首先在事件处理第二页找到这个功能。然后选择1-50的序号来显示这张图片——序号代表图片的优先级，序号大的会压在序号小的图片上面。接下来，在“图片图形”里面选择好你要显示的图片（事先要把图片放在pictures文件夹下）。接下来设定显示位置，“原点”代表以什么为端点，如果是“左上”就以你那张图片的左上角端点来对齐位置，如果是“中心”就以你这张图片的对角线交点作为对齐位置。然后是X和Y的坐标，学过一点平面直角坐标系相关知识的人都应该知道它代表在平面上的横向和纵向距离，这个距离可以自己慢慢调试。对于“左上”和“中心”搞不清的同学画个直角坐标系就明白了，整个画面就是个640×480的直角坐标平面，你的图片原点代表那个点。还要不明白的……= =|||看下面这张图吧，处在同样位置的一个点，图片左上对齐和中心对齐的区别。选择好了图片的显示位置之后，可以选择“放大率”和“不透明度”等参数。X如果调整了表示横向拉宽或压瘦，Y调整了表示纵向拉长或者压扁。接下来可以调整关于“合成方式”，这个和动画一样，不用多说，自己可以看看效果。要注意的是，如果要同时显示多张图片的话，一定要排在不同的序号，否则后面的会替代前面的显示。即是说，一个编号只能显示一张图片。本实例需要制作的显示图片相关的效果是，两位勇者轮流说话，一个人说话的时候另一个人的图片半透明，轮到他的时候就不透明。这里不光要用到显示图片，也要用到“移动图片”的功能。它表示该图片“在已经显示出来的基础上的变化”，不光有移动，其实也有改变大小、透明度等等，总之只要有和原图不一样的地方，就会渐渐过渡到移动后的效果。这个功能除了前面有点不一样，后面的都是一模一样的。首先选择“移动图片”，然后选定你需要改变的图片编号，以及改变的时间。和动画一样，可以等待一下，也可以不等待。移动图片下面有个“更改图片色调”，这个也是类似的功能，只不过是将图片改变颜色。同样需要选择改变的图片序号以及图片改变颜色的时间。接下来要说的是，显示出来的图片是不会自动消失的，必须你手动让其消失。所以这里有个“图片消失”功能，可以删除特定编号的图片。在你显示完图片之后，务必记得将其消失，否则图片会一直在屏幕上留存着。主角们说完话之后，画面变黑，一阵打斗声，然后主角的师傅被抓走了。那么这段剧情需要用到的是“更改画面色调”。它和画面闪烁是不一样的，画面更改色调之后会永久维持更改后的状态。所以很适合做黑屏。当然，画面更改色调的时候也会继续执行接下来的内容，记得等待（我觉得我自己变罗嗦了- -等待的功能其实就是在这里最常用的……）等待剧情执行完毕之后，别忘了把画面色调改回原来的(0,0,0,0)。否则画面还会一直黑着。然后可以使用“播放SE”功能来播放刀剑声等，中间别忘了几帧等待。然后等画面恢复的时候，主角的师傅已经被抓走了——打开独立开关C，然后新建“独立开关C为ON”的空白事件页。记得同时也要用另外一个开关（此处就是全局开关了）把另外两个事件也用空白事件页弄消失。接下来主角恢复自由活动的状态，就可以出门去找师傅了。在门那里新建一个事件，条件为这段剧情结束之后新打开的开关ON。该事件作为移动点来使用，就不需要任何图形了，留透明就好。然后在里面编辑“场所移动”功能——同样是事件处理第二页。你可以直接指定地图的位置，也可以用变量指定地图ID和X、Y坐标，这里建议直接指定。按那个向右的箭头，就可以去选择一个落足点了，当角色接触到事件，就会被“传送”到那个你选好的点。为了能够让过渡柔和一些，我们可以在“淡入淡出”那里选择“有”，或者选择“无”然后自己加一个切换过去的渐变。这两种效果选择其一就可以了。“方向”那里可以选择角色切换过去的时候脸是朝向哪个方向的。接下来就说说这个渐变。它是为了表现两个画面之间的切换效果而使用的功能。首先，你必须“准备渐变”（事件处理第二页），也就是让当前的画面凝固住，方便切换。一旦“准备渐变”了，接下来的画面变化都将不会表现了，因为被“凝固”了。然后“执行渐变”，选择你要渐变的渐变图。它将会用渐变过渡的方式表现出你凝固的画面和变化之后的画面。在范例工程里我提供了两个不同的场景移动效果，一个是出门的采用了渐变的场景移动，一个是进门的用默认淡入淡出的场景移动。可以进行一下比对，看看具体效果。出门之后是阴天下大雨——阴天可以通过更改“画面色调”来使用，这个同样也放在出门的那个事件上，注意一定要等场所移动完毕之后，否则就是屋里下雨黑天了。然后是表现乌云密布的状态，这里需要用到“更改地图设置”，同样在事件处理第二页。这里可以临时更改一张地图的全景图、雾图形和战斗地图。其设置法和数据库的设置法大同小异。然后是天气的设置，在事件处理第二页同样能够看到。RMXP默认有风、雨、雪三种天气可以选择。同样你可以调整这些天气的强度，制造出小雨和大雨的效果。下面那个时间是表示这个天气是慢慢地开始还是一下子就开始的。在这个范例里我们为了表现一出门就发现已经下雨的效果，选择0帧，也就是立刻开始。选择完天气之后，你也可以选择播放一个雨声的BGS（背景音效），这个使用“演奏BGS”功能就能实现，很简单。截止到这里，这一章涉及的功能就都讲完了。如果有什么不懂的部分，请下载这段的最新的范例工程来帮助你理解。有问题欢迎提出。教程3-2到此结束，目前你已经完成教学的 64%3-3 地图事件设置战斗篇：战斗处理、我方和敌方的参数增减等本章跟着做预计需要15-25分钟。本篇教程集中讲解事件处理第三页中的各类事件指令。它们是比较重要的战斗相关的内容——RPG离不开战斗，你在数据库中设置好的敌人队伍需要依靠这里的战斗指令来进行调用。那么首先我们先看事件指令第三页的第一个选择：战斗处理。这就是最基本的战斗事件了，它将调用你在数据库里设置的那些“队伍”，当该时间被触发的时候，即可进入战斗状态。你可以利用它来制作明雷战斗或者BOSS战斗。如果将事件行走图设置成“无”，也可以制作暗雷战斗。在“战斗处理”里，有分出逃跑、失败等不同场合的设定，如果你不勾选那个“失败的话继续”，战斗输了之后就会自动显示Gameover的图片然后回到标题画面。而如果勾选了，则可以当作一个分歧，显示一些和胜利情况下不同的情景，比如损失金钱或物品等。我们在地图设置里也可以制作暗雷。在你画好的地图上单击右键选择编辑，然后在“遇敌率”里可以添加你的敌人队伍。队伍数量越多，平均遇到每支队伍的概率也就越低。遇敌步数指的是角色每走多少步就能碰上战斗（这个并不绝对，有一定的步数偏差），如果地图比较大，可以把步数设得高一点，否则没走几步就要战斗是很郁闷的。要注意的是这里的战斗默认无法失败后继续，而且允许玩家逃跑，所以不合适当BOSS战。战斗处理的下面有个商店处理，这个是RPG里同样比较重要的部分——在RM里的商店默认买卖皆可，当玩家进入商店界面后可以选择买或卖。如果选择了买，那么将会自动列出你在商店处理里设置好的商品清单。只要在物品、武器、防具里选择出来你希望于商店出售的货物即可。数据之类的都在数据库设定好，包括价格。要注意的是，价格为零的商品无法在商店卖出。商店处理命令下面有个名称输入处理，这是可以让玩家自主给角色命名的指令。调用该事件指令后，会自动弹出窗口让玩家给指定角色命名。不过在RM默认的此功能里，命名的文字都是日文片假名和平假名= =，所以它的用处不大，知道即可。接下来左边的这一列就都是关于角色参数的临时变动了。增减HP和SP的指令非常直观，就是直接给你的角色增加或者减少当前的HP和SP（注意，不是最大HP和SP值的变更，只是当前的HP和SP）。选择你需要增减的对象，填入数值，或者代入变量（事先要给该变量赋值）。“允许死亡”表示如果减少HP减少到了0，角色将会被附加“战斗不能”状态，如果不勾选这个，角色无论怎么减少HP，最小值都是1。SP也是同理，不再重复。然后是状态变化和完全回复。状态变化里可以强制附加和解除角色身上的状态，无视该状态原本的有效度。完全回复指代的是将角色的HP和SP恢复到最大值，并且解除一切状态（RM不会智能到判断你的状态是好是坏，所以那些有益的状态也会被一并解除掉）。接下来是增减EXP、等级、能力值和技能。EXP和等级的增减很简单，选择你需要增减的角色并填入数值即可。要注意如果当EXP增加到足够角色升级的时候，会自动升级没有提示。而如果当角色的等级达到能够学会技能的时候，会自动领悟你在数据库“职业”里为他们设置的技能。另外一点，减少等级不会自动减少技能——也就是说如果你的角色学会了20级的技能，而你用“增减等级”指令减少了10级他的等级，这个技能是不会消失的，你要使用“增减技能”手动替他去掉该技能。“增减特技”是不受职业里的限制的，无论什么特技都可以指定角色学会。增减能力值就是永久提升角色的参数了，包括最大HP和SP，力量灵巧速度魔力等。和HPSP的增减操作一样，不需要多说。 然后是变更装备、姓名、职业、图形等操作。装备的变更类似换装，你可以将指定角色的装备替换下来，这个功能是强制性不受数据库里角色的“固定装备”限制的。意即，在数据库的“角色”里设置的被固定的装备可以利用该指令手动替换。更改角色姓名和职业也很简单，注意这里要和上面那个“名称输入处理”区分开，这里的改名是让游戏制作者给角色改名，而上面那个是由玩家为角色改名。职业的更改可以让角色实现转职的功能，但是，原本职业已经学会的技能无法自动消失，转职后该等级之前的技能也无法学会。举例：剑士在20级转职成了魔法师，那么剑士20级之前学会的技能都不会消失，也没有领悟魔法师20级前的技能。这些需要用“增减技能”进行手动操作。更改图形是可以更改指定角色的行走图和战斗图，和数据库的设置大同小异不用多说。 右边这一列的上边部分是特定用于数据库“队伍”的战斗事件当中，在地图事件设置里不予细讲，请参看教程4-3的补充内容。本章节内容较为简单，就不放工程了，有什么问题欢迎提问。教程3-3到此结束，目前你已经完成教学的 70%，点此返回目录。3-4 地图事件设置其他篇：禁止&呼叫菜单和存档、BGM等相关音频播放等本章跟着做预计需要15-25分钟。接下来是地图事件的最后一个部分了，它是相对于游戏的系统做出的一些更改活动。首先，先看第一页的右边部分，有“更改窗口外观”这一功能。它是将你的游戏里默认的蓝色的窗口都改为别的windowskin，也就是窗口外观文件。关于窗口外观文件我已经在第二章讲过，如果你把别的窗口外观文件放进windowskin文件，就可以在这里直接更改了。接下来是更改战斗BGM，这个更改之后，你在下一场进入战斗的时候就会播放你改过的BGM，在特殊战斗（比如BOSS战）之前改成另外一个BGM会更便于烘托气氛。更改战斗胜利结束ME也是一样的，这些都需要事先准备好你的音乐和音效素材放进Audio的BGM和ME目录下面，才能在这里调用。详细的调整可以看下面关于BGM和BGS的播放讲解，原理大同小异。游戏里默认按下ESC键是可以呼唤出主菜单的，里面有角色的物品、装备、特技、存档、退出等选项。但是，有些场合下如果不希望按ESC呼叫出主菜单怎么办呢？我们可以使用“更改禁止菜单”这个选项，更改之后，再按下ESC就不会有任何反应了。如果什么时候需要恢复，在合适的地方把其改回成“允许”就行。“更改禁止存档”也是同样的道理，只不过它禁止的是在主菜单里使用“存档”这个命令。当你禁止了存档之后，你按ESC呼叫出主菜单，便可以看到存档两个字变成灰色了。此时就不能再使用该命令。  不过，即使是禁止了主菜单和存档，你依然可以设置一些特定场合让玩家在主菜单里调整物品、装备和存档等。要怎么做呢？切换到第三页，你可以看到有“呼叫菜单画面”和“呼叫存档画面”两个指令。它们是可以不受到你的禁止影响，只要你设置了这两个指令，那么运行的时候会自动叫出菜单画面和存档画面。值得提到的是，如果你禁止了存档，那么只是单单呼出菜单画面，依然是无法存档的。必须要直接呼叫存档画面，才能实现。事件指令的第一页还剩了一项叫做“更改禁止遇敌”，这就是和我们之前在地图上设置的暗雷敌人有关系了。当你设置了“禁止”的时候，就算那张地图上已经有了敌人，角色在上面行走的时候依然不会进入战斗。可以通过这个指令，设置一些特殊场合下能够有敌人但平时没有敌人的地图等。然后我们来看第二页。第二页剩下的部分就是音频相关了。BGM、BGS、ME和SE的播放——关于这四样音频到底是什么，我在第二章已经讲过，忘记的请看2-5部分。BGM和BGS都有“演奏”和“淡出”的两种功能，演奏很简单，只要在窗口里选择好你需要播放的音乐，按确定就可以了。右边有一些细节方面的调控，比如可以调整BGM的音量和节奏。节奏主要是用来变调（经测试，MP3和WMA格式的音乐无法变调，但OGG和WAV就可以）。善用节奏的话，同一个音效或者音乐能够有很多种不同的声音，很方便重复利用。点击“播放”可以预览你当前选定的音频以及效果，“停止”则是让它停下来——只是停止预览，并不代表在游戏里停止= =。如果在游戏里你想立刻停止当前的BGM和BGS，可以用播放“无”的方式让它停止。或者用比较温和的“淡出BGM/BGS”也是能做到的。可以选择淡出的时间，表示音乐在这段时间内渐渐地微弱下去直至停止，时间可长可短，越短的话停止得就越快。而播放SE和ME的时候没有这种淡出的方法，并且由于SE可以互相叠加，所以你只能用“停止SE”来停止当前的音效，而且，所有正在播放的音效都会停止，可谓万籁俱寂= =。有些时候给某些场合播放的音乐实在搞不清楚了，在跑到一个别的地方需要暂时停止一下这里的音乐，等回来的时候需要继续播放该怎么办？你可以使用“记忆BGM/BGS”的方法，让RM自动帮你记录下来当前播放的BGM和BGS，然后可以将它停止或者淡出或者播放别的BGM，等到需要原来音乐的时候，一个“还原BGM/BGS”就可以将记忆下来的那首BGM重新播放回来了，是个挺方便的功能。最后，说说第三页还剩下的那两个，“游戏结束”和“返回标题画面”。这个其实很简单，一个就是和你战斗失败的时候一样，播放你在数据库系统里设定好的战斗失败的ME然后慢慢显示出Gameover图，按回车才自动跳回到游戏的标题画面，一个则是直接淡出当前的音乐回到标题画面。如果懒得制作结局可以直接一个gameover了事，或者也可以显示自己的音乐和图片，然后回到标题画面。最后一个“脚本”是提供给有使用脚本能力的人使用，在此不予介绍。本章内容到此结束，因为这些功能也都很简单，就不增加工程了，如果有需要的话日后补上。教程3-4到此结束，目前你已经完成教学的 76%\n4-1 补充部分：计时器、数值输入、标签、循环本章跟着做预计需要20-30分钟。本章介绍几个在事件指令里比较特殊的功能——学习之前需要确定你已经熟悉了第三章地图事件教程里面介绍到的各项功能。因为它们一般情况下是要配合这些功能来进行使用的。首先我们介绍计时器操作。它在事件页面的第一页右边第四个，用来做一些需要计时的特殊事件设定。在计时器操作的窗口里你可以设定计时器是开始还是停止，并在下面的时间框里输入你需要操作的时间长度。如果选择了停止计时器，则直接将时间归零，无需设定什么具体的时间数值了。为了能够更好地了解这个功能，我们可以在此做个范例：角色接到一个任务，需要在30秒钟之内从宝箱里拿到一个药品，否则游戏结束——这个范例要配合地图上的并行事件来进行操作，不懂并行事件的请回头看第三章。首先是开启这个任务——在地图上建立一个新的事件（行走图随意）。按照上面的设定将计时器的时间定为30秒。然后打开一个开关，此开关作为你的并行事件的出现条件，可以随意命名（这里我将其命名为“倒数计时”）。这就是开启你这个任务的事件了。随后再建立另一个事件，设置开始条件为并行处理，然后在内容里添加判定游戏结束与否的条件分歧——在条件分歧的第一页就有关于计时器的判定，在那里你可以自行判定在什么时候执行（比如我这里判定0秒以下），然后再在条件分歧内添加计时器0秒以下出现的内容（游戏结束）。这样你的并行判定已经做完了，当开关打开（也就是所谓的“任务开始”）的时候，它会反复在地图里刷新判定，一旦计时器变成零，则立刻执行游戏结束指令。 然后是达成任务条件的那个事件——再在地图上建立一个事件，这里需要获得任务要求的物品。在这个范例里我做了一个宝箱事件，打开之后就可以获得任务要求的物品。但是获得这个物品之后计时器和并行判定还是没停下来，所以需要先将并行事件的开关关掉，然后用计时器操作把计时器停止。注意两个顺序不要搞反，因为计时器一旦归零，并行事件就会判定为符合条件然后Game Over了。这样就算完成了，可以执行游戏看看效果。或者是下载范例工程来研究：http://www.uushare.com/user/saintsky/file/2444125计时器的功能就讲到这里，接下来是数值输入指令。这并不是给制作者使用的一个功能，而是制作者给玩家使用的，可以在游戏之中让玩家自己输入数值，并且将这个数值代入某个变量来进行下一步操作及判定。比如有些时候为了增加趣味我们在宝箱上做一个密码系统，如果玩家不输入正确的数字就无法打开宝箱之类的——便可以用这个功能了。在事件指令第一页左边第三个可以看到“数值输入的处理”，打开后首先选择你需要让玩家自己输入的变量（这里我们选1号变量），然后再设置输入的数字位数（通常密码都会是4到6位不过这个都可以随意）。那么当游戏执行到这里的时候，玩家会被要求输入一串数字，而这个数字将会成为1号变量。接下来你就可以对这个变量进行其他操作或判定，比如说用条件分歧，当数字等于123456的时候发生什么事情，当数字等于444444的时候发生什么事情等等，自由度很高。（与其说这是密码系统不如说是秘籍系统……）这项指令的用法相对比较简单，就不做范例了。 然后是标签的用法。它有点类似于网页编辑中的Target，给你游戏的单个事件内部设定一些跳转点，然后再利用标签跳转的功能直接到达相应的位置。这里就要用到标签。在你需要跳转回去的地方设定一个标签（事件指令第一页倒数第二个），并给它命名（名字可以随便取但要注意后面使用跳转标签的指令的时候必须输入一模一样的名字），之后再在接下来需要执行这个跳转的地方使用“标签跳转”指令，输入这个标签的名字，就可以跳转回去了。要注意的是标签的用法只能在一个事件内部执行，不能在不同的事件里跳转。举个例子，比如我们想要做一个游戏说明，然后在游戏说明的末尾询问玩家是否要再看一遍，如果是的话就跳回到开头部分，如果否的话就继续执行接下来的内容——使用标签和标签跳转命令之后，做出的效果如下。其实也是很简单并方便的功能，掌握熟练之后基本上可以省掉复制粘贴不少重复的内容。最后再来说说循环。在事件指令第一页里可以看到“循环”和“中断循环”两个指令，在游戏里这两个功能用到的地方很少，大概是可以被看作事件里面套着的事件。在循环里的内容会被反复地执行下去，直到某些条件满足并中断循环为止。所以在利用循环的时候，多半是离不开条件分歧的，因为它起着判定循环是否可以中断的重要作用。在这里举个例子，每次摘1个苹果，然后苹果数（变量）加1，利用条件分歧判断是否摘到了5个苹果（变量数是否等于5），如果不满的话就跳回开头继续这一过程，直到苹果数等于5的时候中断循环。做成事件的样子大概如下图。（总觉得介绍这个功能的时候截图比较直观……= =|||）因为用处不是特别大，也就不放工程了。本章的内容到此结束，下一章介绍公共事件的用法。教程4-5到此结束，目前你已经完成教学的 81%4-2 补充部分：公共事件的使用法本章跟着做预计需要20分钟。在之前介绍数据库的时候，我们略过了其中一个标签的内容，就是公共事件。它和一般的地图事件不同之处在于它的全局性和随时调用性。全局性：也就是作用范围的大小。地图事件所执行的内容只能在单张地图之内，一旦离开了这张地图，这个事件的内容就再也不会作用了。但公共事件不同，它的统管范围是整个游戏，只要这个公共事件在执行中，那么无论游戏的角色在哪张地图都不会对其有影响。随时调用性：它可以用来替代一段在很多地方都会用到的内容，并且利用事件指令中的“公共事件”指令在游戏里调用它。可以有效地减少一些重复性较高的东西在游戏里的出现率，而这段内容如果需要修改的话，只要在公共事件里修改一处就可以了。我们打开数据库切换到公共事件这个部分——最大值和事件命名什么的大家都会就不再罗嗦——然后来分别讲一下这两方面的实际效果。首先是在全局事件的操纵方面。在这个界面上我们可以看到“目标”这一选项，在这个下拉菜单里会出现“无”“自动执行”和“并行处理”三个选项。因为公共事件是不会和角色与事件有接触的，所以要想它运行，只有自动执行和并行执行两种发生方式，也同样需要用开关进行控制。当你打开启动事件的开关的时候，无论角色在哪里，这个公共事件都会执行。在这里我们举个例子，比如我们想要配合4-1教过的计时器系统，做一个并行事件这样这个计时可以在所有的地图里进行测定，我们便将那个原本放在地图上的并行事件换作并行的公共事件，这样无论角色跑到哪个地图，这个事件判定都始终在运行着，直到你关闭开关为止。这就是公共事件的第一个作用，相较于单张地图的自动执行事件和并行处理事件，直接上升到整个游戏里执行。接下来是公共事件的随意调用性。这里便是将公共事件作为一段“不会自动执行但是要在很多地方用到”的事件来制作，例如游戏里的显示头像，物品和技能附带的公共事件等——制作这样的公共事件的时候，“目标”一定要设置为“无”。这样它就只是类似被放在那里的一个预设好的事件，在需要调用的时候调用它就可以了。在这里我们举两个例子，一个是特技调用的公共事件，一个是在地图上调用的显示人物头像的公共事件。之前在2-1里介绍数据库的时候我们有提到在“特技”和“物品”的设定里都有附带公共事件的这个选项，这就是为了利用公共事件补足一些在它们默认功能里实现不了的内容而存在的。比如说我们想要制作一个可以补充SP的技能，但是在特技设定页面里我们发现技能只能对HP伤害，就算设为负值也只是补HP。那么该怎么实现技能恢复SP呢？就要利用公共事件了。在公共事件页面里做一个事件，内容为我方全体SP增加9999，然后切换到特技页面，在那个你制作的恢复SP特技的设置里，找到“公共事件”这一项并在下拉菜单里选择你刚才做好的那个公共事件。这样一来在战斗过程中，主角使用了这个技能之后系统会自动执行它连带的公共事件，让我方全体SP恢复9999。物品的应用也是同样的，只要熟练了事件内容，可以利用公共事件为你的物品和技能附加上各种花样。另一方面，除了在物品和特技里调用现成的公共事件，我们也可以直接在地图事件里甚至是公共事件里调用已经做好的公共事件（前提“目标”依然要设置为“无”）。举个例子，在这里我们做一个显示主角头像的事件，它由“显示图片-透明度为零”“移动图片-透明度255”“等待20帧”三个指令组成，那么每次我们需要显示这个头像都要把这三条指令复制粘贴一遍。而如果我们中间突然发现坐标错误要重新修改而这三条指令已经被粘遍了你的游戏，你要从几百个事件里一个一个订正过来的时候——会不会觉得很抓狂？但是如果把它们做到一个公共事件里，然后每次在需要显示这个头像的时候，只要用指令“公共事件”，调用这个事件就可以了。一旦错误，也只需要在公共事件里面修改一遍就行。它可以为你节省很多时间和工夫，尤其是在你的重复调用的内容很多很冗长的时候。 最后需要说到的一点是，自动执行和并行处理的公共事件千万不要过多。尤其是不要让太多的并行处理的公共事件同时运行。那样会大幅度地拖慢你的游戏速度。而在战斗里面每次调用公共事件的时候也会减低速率，虽然通过修改脚本我们也能有效改善这一点，不过这里就不再多说了，请先掌握它的基础用法吧。教程4-5到此结束，目前你已经完成教学的 86%4-3 补充部分：数据库“队伍”里面的事件设置法本章跟着做预计需要20分钟。在RPG游戏里，分为平时冒险的地图和战斗场景两大部分，在RMXP里无论是暗雷遇敌还是使用“战斗处理”的指令都会进入战斗场景。在地图上的事件设置已经讲过了，所以本章来讲一讲同样是在数据库里进行设置，但却归属于事件类设置的“队伍”里的战斗事件。在游戏里每一场战斗都要在“队伍”里安排，然后再在“战斗处理”里调用。有些特殊的Boss战里可能会有些特殊的内容，比如在进入战斗几回合之后发生一些特殊情况，出现对话或者是额外增减参数等，这些都可以在战斗事件里设置出来。让我们先打开数据库切换到“队伍”标签，然后看右下角的“战斗事件”部分。它和地图事件的构成有些相似，都是由事件页构成，一个战斗事件里可以有多个事件页来安插不同条件之下发生的事情。不过要注意的是，当有了多个战斗事件页并且发生条件一样的时候，它是从编号较小的事件开始处理。战斗事件的发生条件比起单纯用变量和开关来控制的地图事件，有些不一样。当我们点击“条件”那个向右的小三角的时候，就会弹出设定这个事件页的事件执行条件的小窗口，并且这些条件同样可以复选。我们一个一个来介绍：首先是根据回合数来判定事件发生的时间。因为RMXP默认的战斗是回合制的，所以你可以设定在特定的回合数发生事件——在这里它的计算格式是A+BX，其中X会从零开始计数，然后依次向后推算。举个例子，如果你设定了1回合+2X回合，那么战斗里的第1回合（X=0）、第3回合（X=1）、第5回合（X=2）……都会执行这一事件。如果你只需要它在单个回合执行事件，那么就在第二个数字框里写0就可以了。接下来是敌人的HP多少以下触发此事件。这个很简单，不过一定要选择你在队伍里已经有的敌人，否则是没用的。角色同理，要选择当时参战的时候已经在队伍里的角色进行判定。最后一条是开关打开的时候执行事件，这个和地图事件一样所以不用多说。在条件右边有个“距离”，代表在战斗中此事件发生的频率。这个选项只在你设置出会多次发生的条件之后再选择才会看出效果——换句话说如果你让事件只在第一回合发生就无所谓这个了。但如果你的条件是敌人的生命30%以下或者某开关打开期间都会执行，那么你要在这里设置一个频率。在“距离”的下拉菜单里你可以看到“战斗”“回合”和“暂时”三种选项，“战斗”表示当条件满足的时候，整个战斗里该事件只会执行一次，“回合”则是每回合执行一次，“暂时”是会反复执行（所以如果不是类似循环的内容还是不要选这个……）。接下来我们看看在战斗事件里我们能安排些什么地图上没有的好东西吧。点开事件指令切换到第三页，右面画了圈的这一些指令都是在这里专用的。当然，左边那些关于角色的处理也是可以在这里用到的（右下角的结束游戏也包括在内）。增减敌人的HP、SP、状态以及完全回复等都和对角色的操作一样，只不过一定要注意弄对对象（如果你的队伍里有很多同样的敌人的话，它们的名字是一致的所以要注意它们的排序不要搞混，先被你添加的敌人序号在前面）。完全回复指令会把所有状态清除包括有益状态。然后我们重点需要说的是下面的几个指令，首先是“敌人出现”。这个指令是用来让一些在游戏开始未参战的敌人于特殊情况下突然进入战斗的类似“援兵”一样的功能。但是，半道出现的敌人必须在队伍里事先设置好，也就是说你要先确定哪些才是“援兵”。设置这个要先回到队伍的界面看到你在战斗地图里出现的那些敌人，在你想要当“援兵”的敌人的战斗图上右键单击，会出现一个小菜单，内有“中途出现”和“不死之身”两个选项。“不死之身”是让这个敌人就算HP被打为零也不会判定死亡，一般用作必败之战的选项；而当你选了“中途出现”的时候，这个敌人的战斗图会变成透明的，且在你进入战斗的时候，这个敌人也暂时不出现。然后在战斗事件里，你可以使用“敌人出现”指令，选定这个敌人让它出现。比如我们设置一个战斗事件，条件为幽灵HP降低50%以下的时候它召唤出另一只幽灵。那么当你进入战斗的时候，当你把这只幽灵的HP削减到50%以下，就会出现另一只幽灵。要注意的是，战斗的经验值和金钱获得都以你实际击杀的敌人数量为标准进行计算，换句话说即使你设置了战斗里有两个敌人其中一个为暂时不出现的援兵，但你在设置的援兵出现的条件未满足之前就打败了第一个敌人结束了战斗，那么那个敌人就不会再出来了，而你获得的经验和金钱也只按照一个敌人来计算。  接下来是“敌人变身”指令。它是个很有趣的功能，可以让你战斗中的某个敌人变身为数据库里的另外一种敌人。比如这里我们可以指令让幽灵变身为石像鬼。另外要注意的是，当敌人变身为另一种敌人的时候，它的一切状态都会保留原来那个敌人的现有状态，包括HP、SP和异常状态等。所以通常情况下在变身之后，我们也会附带一个“完全回复”指令（……对战BOSS的时候如果设置成这样还真是让人抓狂啊……），当然你并不一定非要这么做。接下来要说的是“显示动画”指令。务必要将其和第二页的那个显示动画区分开，这里的指令只是针对战斗场景里的动画显示，显示对象是战斗图而非行走图。点开这个指令可以选择是在敌人身上显示动画还是在角色身上显示，敌人那边的对象选定比较好理解，但角色这边的对象列表显示的是“1人”“2人”“3人”和“4人”，其实指的是战斗队伍里的第一个、第二个、第三个或者第四个。（在RMXP默认的战斗场景里，战斗队伍中最多只能有四个人）所以在执行这一指令的时候，如果你的队伍是不固定的，最好先确认一下队伍里在战斗里从左到右第一个人是谁，第二个人是谁，第三个人是谁……防止动画加错对象。接下来是伤害处理。它和战斗指令里的增减HP不同之处在于增减HP是隐性的，数值不会显示在屏幕上。但是伤害处理就会将数值显示出来。伤害处理的对象可以选定敌人和角色两边，同时操作的数量也可以自行设定，常量变量皆可。这里要注意的是因为数值可以为负，所以如果伤害为负的话反而是给对象加血。当你想要加很大的数值但是它限制为99999之内的时候，也可以将数值代入变量进行设定。这个功能配合上面的“显示动画”指令也可以做出伪·技能的效果来，具体可以自行研究。接下来是“强制行动”指令。用于操作战斗里的对象在设定之外的一些额外行为，比如当判定了某个敌人HP为20%以下的时候，我方某角色乘胜追击强制发动攻击技能。前面是该事件的触发条件，而后面这个行动则需要依靠“强制行动”来完成。打开这个窗口我们能看到强制行动的对象和行为，这两个都很简单不用多说，要注意的是角色依然按照你队伍里的第几个人来选定。接下来是那个“行动对象”的指定，在下拉菜单里有很多选择，“最后的目标”是指该角色会攻击他先前最后攻击过的对象，“随机”则是在队伍里随机挑选一个对象进行攻击，而下面的Index一二三四五六七则是指定队伍里的位置索引，也就是说如果你指令某角色攻击敌人队伍，那么这里Index1就代表敌人队伍里的第一号敌人（也就是你在队伍里第一个添加进去的敌人），如果作用对方是我方，那么Index的有效范围只在1-4之内（因为角色方最大只能有四个人）。另外，如果你强制勒令对象使用集体攻击的技能或者作用于使用者本人的技能，则这里的设定就无效了。“顺序”这里可以选择是按照原本的行动顺序执行（有些角色速度比较慢的话可能会被排在其他角色动作完了才会开启这个强制指令）还是立即执行（无视角色速度造成的次序落差）。强制指令会消耗指令对象的一个自由回合。最后，“战斗中断”指令是将目前的战斗强制中断掉。如果这个是在事件中由“战斗处理”调用的战斗，则会继续执行接下来的内容——有意思的是如果你设置了分歧，它会按照“逃跑的场合”进行处理（效果和暗雷战斗的逃跑很相似）。而如果不设置这个“逃跑的场合”（即此场战斗无法逃跑）但依旧在战斗过程里中断战斗的话，它既不会执行失败情况下的内容也不会执行胜利情况下的内容，而是执行分歧之外的接下来的东西。同样，就算是在战斗里击杀了敌人，如果战斗中断的话角色也无法得到金钱和经验值。那么，所有在“队伍”的战斗事件就都设置完了。现在大家应该已经学会了所有的事件设置的基本操作，它们需要被合理地统筹和穿插起来才能成为一个完整的游戏。这一点是没法手把手去教的，必须要自己来尝试摸索着进行制作，然后从实践之中获得经验。下一章我们将讲解一下如何在游戏的测试模式下进行Debug。教程4-5到此结束，目前你已经完成教学的 91%4-4 补充部分：测试游戏时候所用的Debug模式本章跟着做预计需要20-30分钟。在第一章里我们曾经提到过在RMXP制作游戏的时候，工程里有测试游戏的功能（忘记的请去回顾第一章）。按下F12之后游戏就会进入测试模式，弹出制作好的游戏窗口。另一方面，如果我们打开在游戏文件夹下的那个Game.exe文件，也同样可以执行游戏。但是，这两种方式执行的游戏是不一样的，前者是处于Debug模式下的游戏，而后者才是给玩家玩的游戏。对我们RMer而言，一般在自己玩自己做的游戏的时候，都会直接使用这个Debug模式，因为它有一些小功能可以便利地处理游戏里出现的Bug，以及跳过一些重复的内容。如上图所示，按“游戏测试”（或者F12）所执行的是Debug模式如上图所示，这是正常运行的游戏执行文件（玩家们用的）首先，我们介绍一下在这两个模式之下运行游戏的时候都会作用的功能。当你启动游戏窗口之后，按下F1键，就会看到这样一个设定窗口。在“常规”页面里的选项，“平滑模式”表示提高游戏的帧速率，让游戏以每秒40帧来显示，让游戏的画面更加平滑。不过如果电脑配置不好的话，一般不会勾选这个，这样游戏会以20帧每秒来运行，也就是说速率降低一般以保证它能够流畅运行。“抑制画面抖动”可以最低限度减少画面的细微闪烁，却会让画面出现稍微延迟的情况。选择与否，可以根据哪个更舒适，PC配置和个人的爱好决定。“播放BGM和ME”可以决定是否播放游戏里的音乐，如果去掉这个勾选的话游戏里的BGM和ME都不会播放了。“播放BGS和SE”同理。想一边听其他音乐一边测试游戏，就可以取消对勾，选择无声设置。而在“游戏手柄”和“键盘”的页面里可以自行调整游戏手柄和键盘的按钮设定（比如说惯用左手的人可能会想将确认键之类的调到左手方便的按键）。不过那里的按键对应比较奇怪，并不是游戏里的功能键对应某个键盘按键，而是反过来，已经固定了几个键盘按键然后你自己来设置它们对应哪些功能键。在RMXP里，确认键默认为C键，取消键默认为B键。所以在这里你可以看到，空格和回车对应的都是C，而ESC对应B，这样我们按下空格就是确定，ESC就是取消，以此类推。那些A、B、X、Y、Z在游戏里默认是没用的，它们分别作为一些条件分歧的按键判定的备用按键存在（有时候你想利用它们制作额外的特殊功能，比如按下除确认和取消之外的某键呼唤出一个窗口等，这里不予拓展）。至于L和R，其实是Pageup和Pagedn键，在游戏的菜单里你有多个队员时，可以在查看状态的时候按下它们翻页。所以通常情况下，并不需要特别去设置什么。如果你自己改了按键后觉得不便，按“重置”键，就可以回复为系统默认设定。除了按下F1以外，还有F12功能键是两个模式下共通的，在进入游戏之后，只要是非标题画面的场景里按F12，就会直接回到标题画面。另外，Alt+Enter是切换全屏和窗口的组合键，这些其实都可以在RMXP自带的帮助里面查阅到。接下来我们介绍只在Debug模式下出现的一些功能。首先是F2显示帧速率——在你执行游戏的时候按下F2，就能看到此时你游戏的FPS数值出现在窗口的标题栏。如果你在刚才说到的F1设定里勾选了“平滑模式”，那么FPS最大为40，否则为20。FPS值越大，说明你目前游戏的平滑度越高。反之，游戏就会变得很卡很拖沓，时断时续等。当你在游戏的一张地图上放了太多的事件，或者在战斗中用了大量全屏幕魔法，或者用了太多并行处理的公共事件，都会导致你的游戏帧速率下跌。为了不让玩家被卡机折腾到捶桌，你最好通过这个功能观测一下你游戏的速率，随时减掉一些内容然后找出拖慢游戏画面的罪魁祸首，以保障你游戏大体上能够顺利运行下去。然后在游戏界面里，只要不是在自动运行的事件和非战斗的场景里（换言之就是你可以操作角色的行走图自由活动的时候），按下F9，就能看到这样一个后台操作视窗，里面列出了你工程里所有的开关和变量的情况。你可以看到运行到这里的时候你的开关的开闭情况以及变量的数值，并在这里随意手动调整开关的开启和关闭，或者变动变量的数值。如果你的游戏进程是用变量来进行控制的，那么你可以随意跳转到游戏的不同章节进行测试，不需要每次测试的时候都从头再来。用方向键可以增减变量的数目，而按Pageup和Pagedn可以整十整十地增减，多用于你的变量设定数值很大的情况下。而开关可以直接用确定键切换开与关。最后，同样当你在可以自由操纵角色活动的时候，如果按住Ctrl键移动，就能无视地图图块的通行度，即使在无法通行的元件上也可以自由移动。当游戏地图很大而你只希望快点抵达触发剧情的地点，或者一不小心出现了不该有的不能通行的图块的时候，可以利用这个。只是如果是后者的错误，还是要记得回头改正的，否则玩家玩到这里过不去就很成问题了。好了，到目前为止我们已经从制作到测试都讲解完毕了。当你把游戏做完并测试流畅之后，就可以进行脱离RTP的工作和打包发布了。敬请期待关于发布游戏的最后一章。教程4-5到此结束，目前你已经完成教学的 96%4-5 补充部分：制作可以发布的完整游戏包本章跟着做预计需要15-25分钟。游戏做完啦！在跟能玩到的就近的亲友们欢呼庆祝尖叫撒花绕场奔跑三周半一个月（……）之后，就到了将它们发布到网上共享的时间了。RMXP制作的游戏的发布工作，大概分为以下几步：1、清点素材，归整默认素材至自己的游戏目录下在第二章我们介绍导入素材的时候曾经说过，你放在自己游戏目录下的素材是和RM默认素材区分开来的。（你放在游戏目录下的素材前面的圆点是红色，RM默认素材前面的圆点是蓝色）在玩家运行你的游戏的时候，游戏执行文件只能从游戏目录下面读取素材，而那些默认的安装在你自己电脑里的素材是不会被读到的。说得更具体些：找到你的RPG Maker XP软件本身的安装目录，里面有个“RGSS”文件，点开里面的“Standard”，就能看到Audio和Graphics两个文件，然后你可以查看这两个文件，发现里面的东西就都是RM默认的那些音乐和图片素材。在你用RM制作游戏的时候，系统都是从制作软件目录下的这两个文件里读取默认素材的。但玩家们不装RMXP，就不可能有这些素材。因此如果你用了RM默认的素材（也就是前面有蓝色圆点的那些），你就需要把这些素材都拷贝到你的游戏目录下的对应文件里面。一定要确认你在游戏里用到的所有素材都已经是前面带红点的，才能够继续下一步。否则脱离RTP之后，如果有缺失的文件就很难检查出来了。 2、脱离RTP如果到RMXP相关论坛的新手区兜一圈，大体上所有在发布上出的毛病都是基于这个“没脱离RTP的问题”。所谓RTP，就是指素材库，也就是你的游戏读取素材的路径。当你不设置素材库的时候，它会从游戏的目录里直接读取各类素材（所以上一步要求你把所有用到的素材都放到游戏目录下面）。如果不脱离RTP，而玩家的机器里又没有素材库的时候，就会显示“没有发现RGSS-RTP。”的提示，导致游戏无法运行。脱离RTP看似很复杂，设置起来却非常简单。首先如图示，点击你工程右上角“游戏”菜单，选择“选择RTP”选项，然后将三个RTP都设置为“无”。那个Standard就是上一步提到的在RMXP软件安装目录下的Standard文件夹，被软件用作素材库使用。这样设置之后，软件将不再从这个文件夹里读取素材。然后当你再次回到游戏里的时候，就会看到那些前面有蓝点的文件都不见了——因为RM已经不再会从默认目录里读取素材了，它读取的只是你游戏文件夹下的文件。  3、再次Debug检查是否漏缺文件然后，再次的Debug就是必须的了，尤其是你在制作游戏的时候如果用了很多默认素材，又不确定自己是否拷贝齐全的情况下。在Debug的过程中任何素材的缺失都会导致游戏中途报错跳出，好在它报错的时候会提供给你游戏的路径和文件名，所以你可以立刻找到并且补上。因而其实我个人推荐你在一开始做游戏的时候就注意看着自己用了哪些素材，用上的同时就拷贝过来，以防最后整理发布的时候忘记。4、添加DLL文件这一步经常被很多Rmer给漏掉（包括我一开始做游戏的时候也忘记过……= =|||）。RMXP文件夹下的那个Game.exe需要一个辅助运行的DLL文件，它叫做RGSS102J.DLL。为了确定这个文件的版本，我们需要打开你的游戏的系统信息文件来进行确认。在你的游戏目录里有个Game.ini文件，可以用记事本打开。注意看那里的第二行，Libarary= 这行字的后面，就是你需要的这个DLL（要注意的是这个文件会根据你使用的RM的版本有所变化，请务必记得你要用你自己ini文件夹下记录的那个DLL文件）。那么在哪里找到这个文件呢？一般情况下，它的路径是C:WindowsSystem32下面。如果你嫌找起来麻烦的话，可以直接下载我提供的这个。如果名字不一样的话改成同样的名字就可以了，内容没有什么实质区别：http://www.uushare.com/user/saintsky/file/2464674将这个文件放进你的游戏目录下面，确认过素材齐全，然后把你不需要发布到网上的冗赘内容都删掉（压缩数据的时候会把游戏目录下的所有内容都压缩进去所以没用的东西都要删掉），就可以开始打包了。Game.ini文件必须留着，但是工程文件可以删掉。5、压缩游戏数据其实当你按照上述步骤弄完毕之后，直接把游戏打个压缩包就可以上传了。不过如果你的电脑里没有压缩软件，或者你想要让它看上去更加正规一点的话，可以使用RM自带的压缩游戏数据功能。选择“文件”——“压缩游戏数据”，显示出压缩窗口。在这里你可以选择制作压缩包的路径，并且也能选择是否加密你的游戏内容——加密之后，你的Graphics文件夹和Data文件夹都会消失，图片及数据会被做进一个加密文件里面，可以适度保护你的游戏里的隐藏内容（比如游戏CG和不想被盗用的原创素材等）。游戏压缩之后就会在你设定好的目录下面出现一个exe的解压缩文件。玩家只要打开这个文件，就可以像安装游戏一样直接解压缩出你的游戏，然后通过运行Game.exe进行游戏了。 6、发布上传选一个好点的稳定的网盘，把你的游戏传上去然后放出地址让人下载吧=v=。如果你上传的是上面压缩出来的exe文件，最好是选择能够允许共享exe文件的网盘。7、一点补充：给游戏打补丁如果在发布游戏之后，有人找到了问题的话，也要立刻制作补丁发布上去。缺素材的话就要补素材这个不需要废话，但如果是游戏里面别处有了问题的话，就要发布数据补丁。没有加密的情况下，只要修改并保存游戏，将你的Data文件夹打包传给对方覆盖原文件夹的所有内容就行了。但若是加密的话，就必须重新压缩一次游戏数据，然后把那个包括了Graphics和Data的加密文件给对方传过去覆盖原文件。教程4-5到此结束，目前你已经完成教学的 99%5 两个常见问题的答疑本章预计需要10分钟。问题1：为何我的事件一直重复执行？回答：你当前的事件页的开始条件被设置为“自动执行”，然后又没有任何可以让这个事件页中断的内容，所以会循环执行下去。解决办法是打开一个开关or独立开关，新建一个出现条件为该开关打开，开始条件为“决定键”or“与主角接触”or“与事件接触”的事件页。这样由于事件会优先执行序号大的事件页，而第二个事件页的出现条件已经满足（开关在第一页打开了），就会跳转到第二个事件页，而那时候你不按确定键或者与此事件接触，它就不会再执行，整个事件就停下来了。范例：http://bbs.66rpg.com/UP_PIC/200801/Project1_118021442.rar问题2：如何制作宝箱？和问题1的原理很类似，是对独立开关的运用。第一个事件页是宝箱关闭的图片，内容里是获得物品、金钱等（也可以加入显示文章说明获得的物品），然后打开独立开关，第二个事件页里是宝箱打开的图片。范例：http://bbs.66rpg.com/UP_PIC/200801/宝箱范例.rar教程到此全部结束，目前你已经完成教学的 100%\nP.S:沙发有奖励",
    "replies": [
        {
            "author": "越前书亚",
            "timestamp": 1355745600,
            "txt_content": "我擦！这是什么！！"
        },
        {
            "author": "我被盗号了",
            "timestamp": 1355745600,
            "txt_content": "顶LZ一个！你终于发个好贴了"
        },
        {
            "author": "nbmahe",
            "timestamp": 1355745720,
            "txt_content": "我被盗号了 发表于 2012-12-17 20:00 \n顶LZ一个！你终于发个好贴了\n是么。。。我在搬运，格式好难弄。。。原来背景色是白色的，害得我还得放到记事本里在复制。。。话说我等级跟你一样了"
        },
        {
            "author": "dongwenjiemc",
            "timestamp": 1355745840,
            "txt_content": "大小差距"
        },
        {
            "author": "nbmahe",
            "timestamp": 1355746200,
            "txt_content": "dongwenjiemc 发表于 2012-12-17 20:04 \n大小差距\n跟你说，猫小沫的十二星辰外传就是用rpg制作大师vx做的"
        }
    ]
}