{
    "title": "iConomy的问题！急！高分求解！",
    "author": "a08381",
    "replyCount": 13,
    "timestamp": 1420337940,
    "txt_content": "我们服务器是spigot1.7.2，需要跨服共享金钱，搭好了MySQL数据库，开始正常了一段时间，然后疯狂输出\n\ncom.mysql.jdbc.exceptions.jdbc4.CommunicationsException:The driver was unable to create a connection due to an inability to establish the client portionof a socket.\n\n然后玩家的钱就飞快的从0，30，真实金钱之间跳\n感觉无法忍了，看到版主大人搬的iConomy 8，于是装上试试\n装上立刻提示\nhttps://github.com/Kekshaus/iConomy8/blob/master/libs/mysql-connector-java-bin.jar?raw=true\n无法下载\n\n刚开始使用没发现什么异常，后来发现\n卧槽，新用户进来创建不了新项！提示\nError creating / grabbing account for : ID\n什么鬼！\n\n大神们告诉我我该怎么办QAQ",
    "replies": [
        {
            "author": "fanglys",
            "timestamp": 1420341480,
            "txt_content": "贴上配置文件~"
        },
        {
            "author": "a08381",
            "timestamp": 1420343220,
            "txt_content": "fanglys 发表于 2015-1-4 11:18\n贴上配置文件~\n# iConomy 5.01 Forked 0.02\n# %author     Nijikokun <nijikokun@gmail.com>\n# %license    GPLv2\n# %copyright  Copyright AniGaiku LLC (C) 2010-2011\n##\n# Setup Notes\n#   - Default\n#     This node consists of all the 'default' data.\n#   - Formatting\n#     Allows you to control the output of how you will\n#     see the currency in-game with the major/minor features.\n#   - Banking\n#     Allows users to store money in a seperate location as\n#     well as transfer from bank to bank between users\n#     - Multiple\n#       Allows users to create multiple accounts with banks\n#     - Q & A\n#       Q: Why?\n#       A: Money on hand can be lost, money in banks should not\n#           be altered upon plugin specifictions in iConomy 5.0\n#   - Interest amount is done in seconds.\n#     - Online\n#       If only true, only one bank / account will recieve money for that player.\n#       If only false, it will go through each bank / account and deposit money.\n#     - Announce\n#       Sends message each time a player recieves money.\n#     - Amount\n#       - On\n#         Each time interest runs you can either deposit the money into a bank (Interest)\n#         or directly into a players holdings (Wage).\n#     - Interval\n#       - Seconds\n#         Basic Table:\n#           1 minute = 60 seconds\n#           1 hour = 1 minute * 60 = 3600 seconds\n#           1 day = 1 hour * 24 = 86400 seconds\n#           1 week = 1 day * 7 = 604800 seconds\n#   - Database\n#     - Type\n#       Can only be h2 or MySQL, no longer supports SQLite.\n#     - Settings\n#       If you choose h2, only the first two are needed, do not alter MySQL.\n#       - MySQL\n#         Do not use remote databases from free sites, please use either a\n#          remote database from a personal hosted VPS or DEDI or a local\n#          database. This will prevent any 'timeout' or 'invalid settings'\n#          or 'cannot connect to database' issues. Thank you :)!\n##\n\nSystem:\n    Default:\n        Currency:\n            Major: [ '刀', '刀' ]                # Major ([Major].Minor) 1.00 Dollar (With Seperate 1 Dollar)\n            Minor: [ 'Coin', 'Coins' ]                    # Minor (Major.[Minor]) 0.23 Coins  (With Seperate 0 Dollars, 23 Coins)\n        Account:\n            Holdings: 30.0                            # Default holdings on hand upon join / creation.\n        Bank:\n            Name: iConomy                             # Default Bank Name\n            Currency:\n                Major: [ '刀', '刀' ]\n                Minor: [ 'Coin', 'Coins' ]\n            Account:\n                Fee: 20.0                             # Default cost to register an account\n                Holdings: 30.0                        # Default initial account holdings\n    Formatting:\n        Minor: false                                  # Example (true) 0.23 Coins and 1.23 Dollars (false) 0.23 Dollars and 1.23 Dollars\n        Seperate: false                               # Example (true) 1 Dollar, 23 Coins (false) 1.23 Dollars (Only if Minor is true)\n    Logging:\n        Enabled: false                                # Logs transactions done inside iConomy only, other plugins must utilize the api. (Logs to SQL)\n    Banking:\n        Enabled: false\n        Accounts:\n            Multiple: true\n    Interest:\n        Enabled: false\n        Online: true                                  # Only give to players who are online?\n        Announce:\n            Enabled: false\n        Interval:\n            Seconds: 60\n        Amount:\n            Cutoff: 0.0                               # Amount limit to be met until we stop giving interest. (0.0 for no limit)\n            On: 'Players'                             # Banks or Players\n            Percent: 0.0                              # Percent of holdings to give / take (Negative to take) (Overrides Min/Max)\n            Maximum: 1                                # (Range) Maximum amount for random in between. (Make Max/Min equal for a flat-rate amount ie: 5/5)\n            Minimum: 2                                # (Range) Minimum amount for random in between.\n    Database:\n        Type: 'MySQL'                                 # SQLite or MySQL\n        Settings:\n          Name: 'iConomy'\n          Table: 'iConomy'\n          MySQL:\n              Username: 'iConomy'\n              Password: 'qazwsdfghjkl8642'\n              Hostname: 'localhost'\n              Port: 3306\n复制代码"
        },
        {
            "author": "fanglys",
            "timestamp": 1420345680,
            "txt_content": "a08381 发表于 2015-1-4 11:47\n你MYSQL数据库的用户名是：iConomy？？"
        },
        {
            "author": "a08381",
            "timestamp": 1420345740,
            "txt_content": "fanglys 发表于 2015-1-4 11:18\n贴上配置文件~\n这个是以前iConomy7的配置\n\n# iConomy 6.0.8b\n# @author     Nijikokun <nijikokun@gmail.com>\n# @license    GPLv2\n# @copyright  Copyright AniGaiku LLC (C) 2010-2011\n##\n# Setup Notes\n#   - Seconds\n#         Basic Table:\n#           1 minute = 60 seconds\n#           1 hour = 1 minute * 60 = 3600 seconds\n#           1 day = 1 hour * 24 = 86400 seconds\n#           1 week = 1 day * 7 = 604800 seconds\n#   - Database\n#           Do not use remote databases from free sites, please use either a\n#           remote database from a personal hosted VPS or DEDI or a local\n#           database. This will prevent any 'timeout' or 'invalid settings'\n#           or 'cannot connect to database' issues. Thank you :)!\n##\n\nSystem:\n  Permissions:\n    Use:\n      # Should a user have the 'iConomy.holdings' to use /money\n      # By default this is false, so that people stop complaining that\n      # iConomy doesn't work. Yes, people actually report that.\n      # If you are one of those people, leave this false.\n      Holdings: false\n\n  Default:\n    Currency:\n      # Major is the first segment [Major].Minor\n\n      # Major ([Major].Minor) 1.00 Dollar (With Seperate 1 Dollar)\n      Major: [ '刀', '刀' ]\n\n      # Minor (Major.[Minor]) 0.23 Coins  (With Seperate 0 Dollars, 23 Coins)\n      Minor: [ '分', '分' ]\n\n    Account:\n      # Default account balance when created\n      Holdings: 30.0\n\n  # Controls how money is formatted through methods\n  Formatting:\n    # Minor allows you to use the Minor amounts for amounts <1\n    # Example (true) 0.23 Coins and 1.23 Dollars (false) 0.23 Dollars and 1.23 Dollars\n    Minor: false\n\n    # Seperate allows your money to be shown in an alternative way,\n    # instead of 1.32 it will show as 1 Dollar 23 Coins\n    # !!! NOTICE: This only works if Minor is set to true !!!\n    Seperate: false                               # Example (true) 1 Dollar, 23 Coins (false) 1.23 Dollars (Only if Minor is true)\n\n    # Single shows your money in another alternative way.\n    # Instead of 1.23 Dollars you will see: 1 Dollar.\n    # If your money is 0.23 you will see 0 Dollars if Minor is false, 23 Coins if Minor is true.\n    # !!! Notice: This overrides seperate !!!\n    Single: false\n\n  # Logs all monetary transactions passed through iConomy\n  Logging:\n    Enabled: false\n\n  # Purges Default Balances at Loading\n  # Good way to keep unused accounts or default accounts wiped out and lower database usage.\n  Purging:\n    Enabled: true\n\n  # Controls amount of money gained at a set interval.\n  Interest:\n    Enabled: false\n\n    # Only give interest to players who are currently online?\n    Online: true\n\n    Announce:\n      # Send a message when the player gains interest?\n      Enabled: false\n\n    Interval:\n      #  Interval is done in seconds, here is a easy reference table for commonly set intervals:\n      #   1 minute = 60 seconds\n      #   1 hour = 1 minute * 60 = 3600 seconds\n      #   1 day = 1 hour * 24 = 86400 seconds\n      #   1 week = 1 day * 7 = 604800 seconds\n      Seconds: 60\n\n    Amount:\n      # The balance to be met where we stop giving interest.\n      # 0.0 for no limit\n      Cutoff: 0.0\n\n      # Percentage of holdings to give / take (Negative to take) (Overrides Min/Max)\n      Percent: 0.0\n\n      # This is range based, to set a \"flat\" or \"constant\" rate, set each (Maximum and Minimum) to the same number.\n      # If the two numbers are different, it will be a random amount in-between the two.\n      Maximum: 1\n      Minimum: 2\n\n  Database:\n    # Databases Supported:\n    # Flatfile, FF, mini, minidb\n    #  - These all equate to miniDB\n    ##\n    # item, items, inventory, inventoryDB\n    #  - These all equate to InventoryDB, which uses inventory for storage\n    ##\n    # xp, exp, orb, xpdb, expdb, orbdb\n    #  - These all equate to ExperienceDB, which relies on Experience for balance.\n    ##\n    # mysql, mysqldb\n    #  - These will attempt to connect to MySQL\n    ##\n    # sqlite, sqlite2, sqlite3, sqlitedb\n    #  - These will attempt to create & connect to SQLite\n    ##\n    # postgre, postgreSQL, postgreDB\n    #  - These will attempt to connect to PostgreSQL\n    Type: 'mysql'\n    \n    # These are for InventoryDB only.\n    #\n    # InventoryDB is essentially Physical Money.\n    #   It isn't logged in a database, its based on the users inventory\n    #   and the two items selected below.\n    #\n    # MajorItem is the item or block ID of the major currency\n    # MinorItem is the item or block ID of the minor currency\n    # e.g. MajorItem: 266, MinorItem: 265 for Gold/Iron\n    MajorItem: 266\n    MinorItem: 265\n\n    # This controls the database name, by default it is iConomy\n    Table: 'iConomy'\n\n    # URL is for SQL Databases Only\n    ##\n    # Path to iConomy folder is easy, it's the COMPLETE path.\n    # (Mine) G:\\MineCraft\\plugins\\iConomy\\\n    # Won't be the same as yours, but it usually looks like that.\n    ##\n    # [H2DB Default] h2:path/to/iConomy/folder/iConomy;AUTO_RECONNECT=TRUE\n    # [SQLite Default] sqlite:path/to/iConomy/folder/iConomy.db\n    ##\n    # Binary Databases use ip:port style connections.\n    # ip\n    #  - is the connection identifier (internet protocol)\n    #  - for ipv6 usually encased in brackets [::1]\n    # port\n    #  - the port that the database is listening on\n    #  - defaults: 3306 for mysql, postgre is either 5740 or 5432\n    ##\n    # [MySQL Default] mysql://localhost:3306/iConomy\n    # [Postgre Default] postgresql://localhost:5740/iConomy\n    URL: 'mysql://localhost:3306/iConomy'\n\n    # Login details for binary databases\n    Username: 'iConomy'\n    Password: 'qazwsdfghjkl8642'\n\n    ##############################################################\n    # !!! Conversion is not your database settings !!!\n    ##############################################################\n    # Conversion allows you to convert your old 5.x to the new 6.x\n    # All is currently unused.\n    ##############################################################\n    # URL is for MySQL only, H2DB doesn't use it.\n    ##############################################################\n    Conversion:\n      # Set to True, After converting, change this back to false!\n      Enabled: false\n\n      # Database Type, H2DB or MySQL\n      Type: 'MySQL'\n\n      # Database Table\n      Table: 'iConomy'\n\n      # Database URL without table at the end.\n      URL: 'mysql://localhost:3306'\n\n      # Username / Password\n      # H2DB does not use this. MySQL Only.\n      Username: 'iConomy'\n      Password: 'qazwsdfghjkl8642'\n\n      # Unused ATM.\n      All: true\n复制代码"
        },
        {
            "author": "a08381",
            "timestamp": 1420345800,
            "txt_content": "fanglys 发表于 2015-1-4 12:28\n你MYSQL数据库的用户名是：iConomy？？\n对啊，表名和用户名都是iConomy"
        },
        {
            "author": "fanglys",
            "timestamp": 1420345860,
            "txt_content": "a08381 发表于 2015-1-4 12:30\n对啊，表名和用户名都是iConomy\n你单独设置的一个MYSQL用户？"
        },
        {
            "author": "fanglys",
            "timestamp": 1420345920,
            "txt_content": "还有你是导入老数据？\n8不能从7升级哦~"
        },
        {
            "author": "fanglys",
            "timestamp": 1420346340,
            "txt_content": "建议你用ROOT用户，测试一下看还出错不。"
        },
        {
            "author": "a08381",
            "timestamp": 1420347360,
            "txt_content": "fanglys 发表于 2015-1-4 12:39\n建议你用ROOT用户，测试一下看还出错不。\nMySQL是通用的吧？能读出玩家金钱，但是不能写"
        },
        {
            "author": "a08381",
            "timestamp": 1420347360,
            "txt_content": "fanglys 发表于 2015-1-4 12:32\n还有你是导入老数据？\n8不能从7升级哦~\n说错，不是不能写，是不能增加记录"
        },
        {
            "author": "fanglys",
            "timestamp": 1420347360,
            "txt_content": "a08381 发表于 2015-1-4 12:56\nMySQL是通用的吧？能读出玩家金钱，但是不能写\n有可能就是用户权限问题，你改成ROOT用户试下吧~"
        },
        {
            "author": "a08381",
            "timestamp": 1420347420,
            "txt_content": "fanglys 发表于 2015-1-4 12:56\n有可能就是用户权限问题，你改成ROOT用户试下吧~\n好的，我试试"
        },
        {
            "author": "a08381",
            "timestamp": 1420385340,
            "txt_content": "fanglys 发表于 2015-1-4 12:56\n有可能就是用户权限问题，你改成ROOT用户试下吧~\n不行，换用ROOT用户一样，新用户永远0金钱"
        }
    ]
}