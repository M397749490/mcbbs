{
    "title": "地图回档怎么办啊？？？求救！！",
    "author": "kingyall",
    "replyCount": 16,
    "timestamp": 1499154180,
    "txt_content": "可能是因为TPS比较低的事。。。\n比如在地皮箱子里拿出来一个东西，然后去别的地图溜达一圈\n回到地皮发现箱子里的东西又出现了，身上也有一件。。\n可以复制啊，请问有什么解决办法吗？除了升级服务器。",
    "replies": [
        {
            "author": "azbh111",
            "timestamp": 1499154180,
            "txt_content": "水煮清娃 发表于 2017-7-6 18:24\n服务器数据运行在内存中，改变的方块数据也不会马上存到地图文件里，能刷物品是因为背包跟地图并不在一块 ...\n地图数据是保存在内存中，地图保存时，会把地图数据，玩家数据保存到文件；玩家退出服务器时会把玩家数据保存到文件\n其他时候，玩家做的任何修改，只要不是主动保存，都只对内存做了修改，不会保存到文件\n“出错的问题在于无法将改变的方块数据写入到地图里”   这里是修改内存数据还是保存到地图文件\n“跟什么区块物品多毫无关系”   MC地图数据是按区块保存的   一个区块文件含有32*32个区块数据，也就是512*512的面积，所以怎么可能跟区块无关\n这个问题出现时总是一个区块出问题，相邻区块都正常\n我初步猜测是区块内东西太多了，但不知道为啥太多了会导致这个问题，感觉只有熟悉MC源码的人才能解释.."
        },
        {
            "author": "水煮清娃",
            "timestamp": 1499155020,
            "txt_content": "地图回档其实就是没有保存新数据，通常是服务器硬盘不够或者是插件冲突造成。如果硬盘和插件没问题弄个定期自动保存试试看"
        },
        {
            "author": "kingyall",
            "timestamp": 1499155380,
            "txt_content": "水煮清娃 发表于 2017-7-4 15:57\n地图回档其实就是没有保存新数据，通常是服务器硬盘不够或者是插件冲突造成。如果硬盘和插件没问题弄个定期 ...\n你好，可以给个指引吗？用哪个插件，我不是很懂。"
        },
        {
            "author": "水煮清娃",
            "timestamp": 1499167860,
            "txt_content": "kingyall 发表于 2017-7-4 16:03\n你好，可以给个指引吗？用哪个插件，我不是很懂。\n通常来说不会轻易出现回档这种现象，但出现了也不好排查原因，大多都不会有日志记录。尝试使用下面这个定期保存地图的插件。\nhttp://mcbbs.tvt.im/thread-294568-1-1.html"
        },
        {
            "author": "水煮清娃",
            "timestamp": 1499170440,
            "txt_content": "才发现链接已经丢失，尝试使用这个，外网的直链下载地址，应该能正常下载\n\nhttps://dev.bukkit.org/projects/autosaveworld/files/latest\n\n原帖地址【将近四万的下载量 年初更新过】\nhttps://dev.bukkit.org/projects/autosaveworld"
        },
        {
            "author": "azbh111",
            "timestamp": 1499183640,
            "txt_content": "此贴顶上去\n我也被这个问题困扰  一年多了\n楼上说的 啥定时保存 全扯淡的  \n\n更改那个区块的方块  然后离开 再回去 发现方块并没有被更改\n也就造成了刷物品\n\n目前初步猜测是一个区块东西太多了  \n\n希望有高人知道是啥原因\n"
        },
        {
            "author": "azbh111",
            "timestamp": 1499183880,
            "txt_content": "服务器mod列表\n插件没必要发了  应该没啥插件这么厉害\n\n\n"
        },
        {
            "author": "azbh111",
            "timestamp": 1499184120,
            "txt_content": "azbh111 发表于 2017-7-4 23:54\n此贴顶上去\n我也被这个问题困扰  一年多了\n楼上说的 啥定时保存 全扯淡的  \n服务器核心 1.7.10  kcauldron"
        },
        {
            "author": "azbh111",
            "timestamp": 1499184360,
            "txt_content": "怕大佬看不到 在这里回复好了= =\n\n首先 2L说的全是扯淡的\n我也被这个问题困扰  一年多了\n\n问题描述:\n更改一个方块  然后跑远点 再回去 发现方块并没有被更改，当方块为容器时，也就造成了刷物品,或刷没物品\n服务器核心 kcauldron\n\n目前我初步猜测是一个区块东西太多了，但没得到验证，如果是，也不知道东西太多怎么导致回档的\n\n希望有高人知道是啥原因"
        },
        {
            "author": "azbh111",
            "timestamp": 1499184420,
            "txt_content": "水煮清娃 发表于 2017-7-4 15:57\n地图回档其实就是没有保存新数据，通常是服务器硬盘不够或者是插件冲突造成。如果硬盘和插件没问题弄个定期 ...\n怕大佬看不到 在这里回复好了= =\n\n首先 2L说的全是扯淡的\n我也被这个问题困扰  一年多了\n\n问题描述:\n更改一个方块  然后跑远点 再回去 发现方块并没有被更改，当方块为容器时，也就造成了刷物品,或刷没物品\n服务器核心 kcauldron\n\n目前我初步猜测是一个区块东西太多了，但没得到验证，如果是，也不知道东西太多怎么导致回档的\n\n希望有高人知道是啥原因\n\n附上此周目mod列表\n\n\nhttp://i2.kiimg.com/579681/2dbba7b4d3028451.jpg"
        },
        {
            "author": "azbh111",
            "timestamp": 1499184480,
            "txt_content": "水煮清娃 发表于 2017-7-4 15:57\n地图回档其实就是没有保存新数据，通常是服务器硬盘不够或者是插件冲突造成。如果硬盘和插件没问题弄个定期 ...\n前面对MCBBS回复机制不了解  重复发了一堆= =  \n请无视.."
        },
        {
            "author": "azbh111",
            "timestamp": 1499185920,
            "txt_content": "水煮清娃 发表于 2017-7-4 15:57\n地图回档其实就是没有保存新数据，通常是服务器硬盘不够或者是插件冲突造成。如果硬盘和插件没问题弄个定期 ...\n搜了一下类似问题 基本描述很含糊\n这问题存在许多年了 但仍没解决\nhttp://www.mcbbs.net/forum.php?m ... =%E5%9B%9E%E6%A1%A3\nhttp://www.mcbbs.net/forum.php?m ... =%E5%9B%9E%E6%A1%A3\nhttp://www.mcbbs.net/forum.php?m ... =%E5%9B%9E%E6%A1%A3\nhttp://www.mcbbs.net/forum.php?m ... =%E5%9B%9E%E6%A1%A3"
        },
        {
            "author": "wunan84",
            "timestamp": 1499223900,
            "txt_content": "azbh111 发表于 2017-7-5 00:07\n怕大佬看不到 在这里回复好了= =\n\n首先 2L说的全是扯淡的\n说白了就是服务器性能跟不上，说其他的都是扯淡。\n然而很多人都想不改变服务器配置又不改变服务器mod和插件的情况下解决这个问题，\n那么问题就来了，这根本就是不可能解决的问题，所以当然没有明确答案。\n就拿你这mod来说，我也是服， 你这服务器性能一定爆表。\n也许你会说我服务器很正常，不卡啊，也没问题，但是大家要知道服务器运行需要冗余量，\n如果这个冗余量很小，一旦信息量大了脑子转不过来就会出现遗漏，遗忘。\n这也是出现这个问题的服有但都是极少数，因为一般服务器都不会使劲往里塞东西，都会保持一个\n宽松的冗余量给服务器。看看凡是大型的或稳定的服务器，一般都不会有很多mod。\n服务器就相当于一个人，每增加一个Mod或者插件就相当于往这个人身上挂一件重物，即使是各种优化插件也是一样有重量的，只不过他会把其他物品挂整齐以便腾出疼多的空来挂物品，但是重量不会减少。就好比你身上本来乱七八糟的挂了十件物品，影响你的行动了，加个优化插件，这十件物品会挂整齐点但你身上会变成11件物品，虽然不影响你行动了，但负载量并没有下降反而增加了。\n楼主的服务器不知道原因，因为他没提供任何信息。但你的服务器mod太多了，而且不少都是大型，而且你好像也开服一年多了，你要检测你的服务器cpu的TPS，还有就是硬盘存储是否充足。"
        },
        {
            "author": "azbh111",
            "timestamp": 1499236440,
            "txt_content": "wunan84 发表于 2017-7-5 11:05\n说白了就是服务器性能跟不上，说其他的都是扯淡。\n然而很多人都想不改变服务器配置又不改变服务器mod和插 ...\n最然觉得你说的很有道理 \n但 还是上点图\n硬盘空间充足，再说硬盘不足的话 在地图保存是才会出问题\n\n服务器压力不大，截图时49人在线\n\n\n独立机\n"
        },
        {
            "author": "水煮清娃",
            "timestamp": 1499336640,
            "txt_content": "azbh111 发表于 2017-7-5 14:34\n最然觉得你说的很有道理 \n但 还是上点图\n硬盘空间充足，再说硬盘不足的话 在地图保存是才会出问题\n服务器数据运行在内存中，改变的方块数据也不会马上存到地图文件里，能刷物品是因为背包跟地图并不在一块，物品在内存中是正常状态，出错的问题在于无法将改变的方块数据写入到地图里，跟什么区块物品多毫无关系。"
        },
        {
            "author": "azbh111",
            "timestamp": 1500303720,
            "txt_content": "kingyall 发表于 2017-7-4 16:03\n你好，可以给个指引吗？用哪个插件，我不是很懂。\n我还在求解决方案呢..."
        }
    ]
}