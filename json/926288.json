{
    "title": "如何打开一个书的界面",
    "author": "凉凉丶",
    "replyCount": 2,
    "timestamp": 1573795800,
    "txt_content": "如何通过点击一个容器中的物品打开一个书的界面以及可以点击书中的选项\n和任务插件差不多类似 任务描述+选项键",
    "replies": [
        {
            "author": "弥猫うた",
            "timestamp": 1573804920,
            "txt_content": " 本帖最后由 Mucrazy 于 2019-11-15 16:06 编辑 \n#创建一个背包[容器]\nInventory inv = Bukkit.createInventory(null,InventoryType.CHEST , \"你的容器\");\np.openInventory(inv);\n#新建一个物品我就不说了\n#判断你那个物品在容器的位置\ngetRawSlot(x)\n#设置持有物品位置\nint slot = player.getInventory().getHeldItemSlot();\nItemStack itemStack = player.getItemInHand();\n#创建一本书\nItemStack book = new ItemStack(Material.WRITTEN_BOOK);\nBookMeta bookMeta = (BookMeta) book.getItemMeta();\n#添加文字并设置效果，这里举例点击和鼠标滞留\nTextComponent text\ntext.setClickEvent\ntext.setHoverEvent\n#设置玩家背包\nplayer.getInventory().setItem(slot, book);\n#发包（此处代码源于BookNews）\nByteBuf buf = Unpooled.buffer(256);\nbuf.setByte(0, 0);\nbuf.writerIndex(1);\nPacketPlayOutCustomPayload packet = new PacketPlayOutCustomPayload(\"MC|BOpen\", new PacketDataSerializer(buf));\nCraftPlayer craftPlayer = (CraftPlayer)player;\n(craftPlayer.getHandle()).playerConnection.sendPacket(packet);\nplayer.getInventory().setItem(slot, itemStack);\n"
        },
        {
            "author": "凉凉丶",
            "timestamp": 1573810260,
            "txt_content": "我又发现了另一种方法,bbs以前也有分享\n就是用BookAPI\nhttps://www.mcbbs.net/forum.php? ... etag=s_pctim_aiomsg\n这里给个地址,这个办法也挺方便的"
        }
    ]
}