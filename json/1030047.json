{
    "title": "[已解决]如何加载和使用lootTable？",
    "author": "Eric12324",
    "replyCount": 0,
    "timestamp": 1587892080,
    "txt_content": " 本帖最后由 Eric12324 于 2020-4-26 20:33 编辑 \n\n已解决：用forge加载的json文件，在pool里必须有一个\"name\"标签，原版的是没有的\n\n目前的代码：\n\nEndLootTable\npublic class EndLootTable {\n\n    public static final ResourceLocation END_ZOMBIE = LootTableRegistryHandler.create(\"endzombie\");\n\n    public static void registerLootTables(){\n        LootTableRegistryHandler.LooTTables.forEach(LootTableList::register);\n    }\n\n    public static class LootTableRegistryHandler{\n\n        public static final Set<ResourceLocation> LooTTables = new HashSet<>();\n\n        public static ResourceLocation create(String id){\n            final ResourceLocation loot = new ResourceLocation(\"zyzg\",id);\n            LootTableRegistryHandler.LooTTables.add(loot);\n            return loot;\n        }\n\n    }\n}复制代码\n\n\nEntityEndZombie 继承 EntityZombie，重写了getLootTable\npublic class EntityEndZombie extends EntityZombie {\n\n    public EntityEndZombie(World worldIn) {\n        super(worldIn);\n    }\n\n    @Override\n    protected boolean shouldBurnInDay() {\n        return false;\n    }\n\n    @Nullable\n    @Override\n    protected ResourceLocation getLootTable() {\n        return EndLootTable.END_ZOMBIE;\n    }\n}复制代码\n\npreInit的时候\n@Override\n    public void preInit(FMLPreInitializationEvent event) {\n        super.preInit(event);\n        LootTableList.register(EndLootTable.END_ZOMBIE);\n    }复制代码\n\n\nassets结构：\n》assets\n》》loot_tables\n》》》endzombie.json\n\njson是有效的，直接copy原版的还没有改，问题是现在不生效，\n\n\n",
    "replies": []
}