{
    "title": "[已解决]如何正确的发包生成实体",
    "author": "Wei_Boss",
    "replyCount": 0,
    "timestamp": 1517986260,
    "txt_content": " 本帖最后由 Wei_Boss 于 2018-2-8 14:43 编辑 \n\n代码如下:        Random random = new Random();\n        int id = random.nextInt(6666);\n        PacketContainer packet = plugin.pm.createPacket(PacketType.Play.Server.SPAWN_ENTITY_LIVING);\n        packet.getIntegers().write(0,id);\n        packet.getIntegers().write(1,54);\n        packet.getUUIDs().write(0, UUID.randomUUID());\n        packet.getDoubles().write(0,p.getLocation().getX());\n        packet.getDoubles().write(1,p.getLocation().getY());\n        packet.getDoubles().write(2,p.getLocation().getZ());\n        packet.getIntegers().write(2,0);\n        packet.getIntegers().write(3,0);\n        packet.getIntegers().write(4,0);\n        packet.getBytes().write(0,(byte)p.getLocation().getYaw());\n        packet.getBytes().write(1,(byte)p.getLocation().getPitch());\n        packet.getBytes().write(2,(byte)p.getLocation().getPitch());\n        WrappedDataWatcher watcher = new WrappedDataWatcher();\n        watcher.setEntity(p);\n        watcher.setObject(2,WrappedDataWatcher.Registry.get(String.class),\"§c§lTest\");\n        watcher.setObject(3,WrappedDataWatcher.Registry.get(Boolean.class),true);\n        watcher.setObject(7,WrappedDataWatcher.Registry.get(Float.class),(float) 20.0);\n        packet.getDataWatcherModifier().write(0,watcher);\n        try {\n            plugin.pm.sendServerPacket(p,packet);\n            Bukkit.getConsoleSender().sendMessage(String.valueOf(id));\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }复制代码\n\n",
    "replies": []
}