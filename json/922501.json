{
    "title": "制作弓箭技能",
    "author": "t1546542",
    "replyCount": 3,
    "timestamp": 1572089220,
    "txt_content": " 本帖最后由 t1546542 于 2019-10-26 22:31 编辑 \n\n版本：1.14.4\n创建一个名字为“超级弓箭手”的计分板\n设置玩家t154654的超级弓箭手分数为1\n箭矢就用普通箭（arrow）\n技能1（必需）：他射出的箭飞行8秒后爆炸，爆炸对附近3格生物造成6点伤害（无视护甲）\n箭爆炸后在爆炸位置附近6格（平面）每帧随机生成2根箭（生成持续2秒）\n技能2：他射出的箭具有火焰效果，靠近箭4格的生物（除自己）获得3秒燃烧效果\n@CHElover_C60 @SPGoding",
    "replies": [
        {
            "author": "Delamer",
            "timestamp": 1572089220,
            "txt_content": "　　过于复杂的功能我稍微做了一点修改.\n　　惯例先上图再上码.\n\n\n\n\n\n\n箭矢2.gif (462.38 KB, 下载次数: 4)\n\n下载附件\n\n2019-10-27 04:55 上传\n\n\n\n\n　　图1展示了题主要求的火焰箭\n　　　　除发射者以外火焰箭4格范围内所有生物都会受到3秒烧伤效果\n　　　　脱离箭矢范围之前烧伤时间会不断重置为3秒\n出于一些考虑我把火焰箭的存在时间调整为2.5秒,楼主可根据喜好自行调整\n\n\n\n\n\n\n箭矢1.gif (721.68 KB, 下载次数: 4)\n\n下载附件\n\n2019-10-27 04:55 上传\n\n\n\n\n　　图2是由要求1中的召唤箭矢效果拆分出来的召唤箭\n　　　　以箭矢命中地点为中心5*5的范围内,将会持续召唤箭雨,敌我不分\n　　　　召唤持续到召唤箭消失,时长亦是2.5秒,可调\n\n\n\n\n\n\n箭矢3.gif (926.02 KB, 下载次数: 4)\n\n下载附件\n\n2019-10-27 04:55 上传\n\n\n\n\n　　图3是由要求1中的爆破效果拆分出的爆破箭\n　　　　这个就是命中即爆破,没什么好解释的,依然敌我不分\n\n\n\n\n\n\n箭矢0.gif (791.6 KB, 下载次数: 4)\n\n下载附件\n\n2019-10-27 04:55 上传\n\n\n\n\n　　在实现了题主要求的基础上,我为三种箭都添加了粒子效果,并新增了切换箭种功能\n　　当右键使用萝卜钓竿时,你控制的箭种将会以火焰-爆破-召唤-火焰的顺序循环变化\n　　切换箭种时,屏幕上会有当前箭种显示\n\n　　顺便提一下,要求一被我拆分调整的原因有两个\n　　　　1.一般而言,8秒时间如果都没射中生物和建筑,箭基本已经飞出视野外了\n　　　　　就算是朝天射,再落地都不用8秒\n　　　　2.在爆炸之后即便生物没被炸死,也已经被炸飞,箭雨技能失去价值\n　　　　　此外,爆炸效果执行后如果不删除爆炸箭,将会使爆炸持续发生直到箭本身消失\n　　　　　如此一来,箭雨技能失去存在意义.\n\n\n　　下面是代码.\n\n//前方有\"//\"符号的都是注解,为方便你修改参数,我会适当的加一些解释\n//这里是只需要执行一次的指令,不需要放进命令方块\nscoreboard objectives add major minecraft.used:minecraft.carrot_on_a_stick\nscoreboard objectives add shoot minecraft.used:minecraft.bow\nscoreboard objectives add check dummy\ntag @s add shooter\n//被添加了shooter标签的玩家才能触发各式箭种\n//指令铺设好之后,要先用萝卜钓竿触发一次箭种切换才能使用箭种\n\n//这里是第一套,第一条使用循环方块,之后全部使用连锁,后方的代码块同理\n//这四条指令的作用是识别你当前的箭种并识别你的射击动作\nexecute as @e[tag=shooter,tag=fire_shooter] at @s if score @s shoot > @s check run tag @e[type=arrow,sort=nearest,limit=1] add fire_arrow\nexecute as @e[tag=shooter,tag=bomb_shooter] at @s if score @s shoot > @s check run tag @e[type=arrow,sort=nearest,limit=1] add bomb_arrow\nexecute as @e[tag=shooter,tag=summon_shooter] at @s if score @s shoot > @s check run tag @e[type=arrow,sort=nearest,limit=1] add summon_arrow\nexecute as @e[tag=shooter] at @s if score @s shoot > @s check store result score @s check run scoreboard players get @s shoot\n\n//第二套,此处为火焰箭的指令\n//二行distance决定烧伤范围,三行life决定箭的存在时间,五行Fire决定烧伤时间\nexecute as @e[tag=fire_arrow] at @s run particle minecraft:flame ~ ~ ~ 0.5 0.5 0.5 0.01 2 normal\nexecute as @e[tag=fire_arrow] at @s run tag @e[tag=!shooter,type=!arrow,tag=!fired,distance=..4] add fired\nexecute as @e[tag=fire_arrow,tag=!used] at @s run data merge entity @s {life:1150}\nexecute as @e[tag=fire_arrow,tag=!used] at @s run tag @s add used\nexecute as @e[tag=fired] at @s run data merge entity @s {Fire:60}\nexecute as @e[tag=fired] at @s run tag @s remove fired\n\n//第三套,此处为爆破箭的指令\n//范围与伤害效果我并没有细化,请见谅\nexecute as @e[tag=bomb_arrow] at @s run particle minecraft:firework ~ ~ ~ 0.25 0.25 0.25 0.01 10 normal\nexecute as @e[tag=bomb_arrow,nbt={inGround:1b}] at @s run tag @s add bomb\nexecute as @e[tag=bomb] at @s run summon tnt ~ ~ ~\nexecute as @e[tag=bomb] at @s run kill @s\n\n//第四套,此处为召唤箭的指令\n//life不多说,六行\"~ ~ 0 2\"中的2决定箭雨覆盖范围,七行\"~ ~5 ~\"中的5决定箭的生成高度\nexecute as @e[tag=summon_arrow] at @s run particle minecraft:witch ~ ~ ~ 0.5 0.5 0.5 0.01 2 normal\nexecute as @e[tag=summon_arrow,nbt={inGround:1b}] at @s run tag @s add summon\nexecute as @e[tag=summon] at @s run summon arrow ~ ~1 ~ {Tags:[\"magic_arrow\"]}\nexecute as @e[tag=summon,tag=!used] at @s run data merge entity @s {life:1150}\nexecute as @e[tag=summon,tag=!used] at @s run tag @s add used\nexecute as @e[tag=magic_arrow,tag=!used,nbt={inGround:0b}] at @s run spreadplayers ~ ~ 0 2 false @s\nexecute as @e[tag=magic_arrow,tag=!used,nbt={inGround:0b}] at @s run tp @s ~ ~5 ~\nexecute as @e[tag=magic_arrow,tag=!used] at @s run data merge entity @s {life:1150}\nexecute as @e[tag=magic_arrow,tag=!used,nbt={inGround:0b}] at @s run tag @s add used\n\n//最后四套都是控制切换功能的指令\n//第五套,这条单独放一块循环\nexecute as @e[tag=shooter] at @s if score @s major matches 4 run scoreboard players set @s major 1\n\n//第六套\nexecute as @e[tag=shooter,tag=!fire_shooter] at @s if score @s major matches 1 run title @s actionbar \"火焰\"\nexecute as @e[tag=shooter,tag=!fire_shooter] at @s if score @s major matches 1 run tag @s add fire_shooter\nexecute as @e[tag=shooter,tag=fire_shooter] at @s if score @s major matches 1 run tag @s remove summon_shooter\n\n//第七套\nexecute as @e[tag=shooter,tag=!bomb_shooter] at @s if score @s major matches 2 run title @s actionbar \"爆破\"\nexecute as @e[tag=shooter,tag=!bomb_shooter] at @s if score @s major matches 2 run tag @s add bomb_shooter\nexecute as @e[tag=shooter,tag=bomb_shooter] at @s if score @s major matches 2 run tag @s remove fire_shooter\n\n//第八套\nexecute as @e[tag=shooter,tag=!summon_shooter] at @s if score @s major matches 3 run title @s actionbar \"召唤\"\nexecute as @e[tag=shooter,tag=!summon_shooter] at @s if score @s major matches 3 run tag @s add summon_shooter\nexecute as @e[tag=shooter,tag=summon_shooter] at @s if score @s major matches 3 run tag @s remove bomb_shooter\n\n\n\n\n下面是题外话.\n\n\n楼主这个问题是真的把我累惨了.\n其他题主大多是给的细节太少让人摸不着头脑.\n但是楼主你给的要求太细了反而也有些难以实现.\n这代码量和实现的功能,我直接拿去发布原版模组都可以了.\n这个30金粒的悬赏...\n也就我这种闲的蛋疼的人会帮你做了...\n下次还请合理设置悬赏.不是每个人都象我这么闲.\n\n希望这份答案能够让你满意\n\n\n"
        },
        {
            "author": "沐风鱼",
            "timestamp": 1572137640,
            "txt_content": "楼上大哥牛逼"
        },
        {
            "author": "n839406178",
            "timestamp": 1572400200,
            "txt_content": "\n楼上大哥牛逼"
        }
    ]
}