{
    "title": "[CY] TabooMenu - 插件文档帮助",
    "author": "乔柚",
    "replyCount": 20,
    "timestamp": 1543788660,
    "txt_content": " 本帖最后由 longlongz 于 2019-7-24 12:39 编辑 \nTabooMenu插件WIKI帮助文档\n一款高自由，高效率，功能丰富的菜单插件。部分代码来自 filoghost 的开源项目 ChestCommands。\n当前版本 v2.61\nBy 坏黑\n\n\n相关信息\n插件帖地址: http://www.mcbbs.net/thread-798904-1-1.htmlGithub开源/文档地址: https://github.com/Bkm016/TabooMenu\n\n\n目录\n1. 配置文件2. 命令及权限3. 创建菜单4. 创建物品5. 触发几率6. 头颅皮肤 (进阶)7. 菜单模板8. API(未公布)And More...\n案例分析1.技能点菜单\n\n\n\n注: 该帖已获得插件作者坏黑(@583736449)的授权内容将与Github文档内容同步Prod. 583736449\n\n\n\n\n[groupid=1597]Citrus Studio[/groupid]",
    "replies": [
        {
            "author": "乔柚",
            "timestamp": 1543788780,
            "txt_content": " 本帖最后由 longlongz 于 2018-12-3 06:22 编辑 \n\n 配置文件 - Config.yml\n\n######################\n#+                  +#\n#      插件设置       #\n#+                  +#\n######################\n\nSettings:\n  # 默认颜色\n  DefaultColor:\n    Name: '&f'\n    Lore: '&7'\n  # 相似度匹配阈值（范围：0~1）\n  SimilarDegreeLimit: 0.7\n  # 物品点击间隔（单位：毫秒）\n  AntiClickApamDelay: 200\n  \n######################\n#+                  +#\n#      插件提示       #\n#+                  +#\n######################\n\nMessages:\n  no-help-permission: '&cYou don''t have permission to use this command.'\n  no-list-permission: '&cYou don''t have permission to use this command.'\n  no-reload-permission: '&cYou don''t have permission to use this command.'\n  no-open-permission: '&cYou don''t have permission &e{permission} &cto use this menu.'\n  no-open-other-permission: '&cYou don''t have permission to open menus for others.'\n  no-exp: '&cYou need {levels} XP levels for this.'\n  no-money: '&cYou need {money}$ for this.'\n  no-points: '&cYou need {points} player points for this.'\n  no-permission: '&cYou don''t have permission for this icon.'\n  no-required-item: '&cYou don''t have required item for this icon.'\n  \n######################\n#+                  +#\n#      物品别名       #\n#+                  +#\n######################\n\n# 你可以使用左边的别名来代替右边的完整名称\nAliases:\n  'iron bar': IRON_FENCE\n  'iron bars': IRON_FENCE\n  'glass pane': THIN_GLASS\n  'nether wart': NETHER_STALK\n  'nether warts': NETHER_STALK\n  'slab': STEP\n  'double slab': DOUBLE_STEP\n  'stone brick': SMOOTH_BRICK\n  'stone bricks': SMOOTH_BRICK\n  'stone stair': SMOOTH_STAIRS\n  'stone stairs': SMOOTH_STAIRS\n  'potato': POTATO_ITEM\n  'carrot': CARROT_ITEM\n  'brewing stand': BREWING_STAND_ITEM\n  'cauldron': CAULDRON_ITEM\n  'carrot on stick': CARROT_STICK\n  'carrot on a stick': CARROT_STICK\n  'cobblestone wall': COBBLE_WALL\n  'acacia wood stairs': ACACIA_STAIRS\n  'dark oak wood stairs': DARK_OAK_STAIRS\n  'wood slab': WOOD_STEP\n  'double wood slab': WOOD_DOUBLE_STEP\n  'repeater': DIODE\n  'piston': PISTON_BASE\n  'sticky piston': PISTON_STICKY_BASE\n  'flower pot': FLOWER_POT_ITEM\n  'wood showel': WOOD_SPADE\n  'stone showel': STONE_SPADE\n  'gold showel': GOLD_SPADE\n  'iron showel': IRON_SPADE\n  'diamond showel': DIAMOND_SPADE\n  'steak': COOKED_BEEF\n  'cooked porkchop': GRILLED_PORK\n  'raw porkchop': PORK\n  'hardened clay': HARD_CLAY\n  'huge brown mushroom': HUGE_MUSHROOM_1\n  'huge red mushroom': HUGE_MUSHROOM_2\n  'mycelium': MYCEL\n  'poppy': RED_ROSE\n  'comparator': REDSTONE_COMPARATOR\n  'skull': SKULL_ITEM\n  'head': SKULL_ITEM\n  'redstone torch': REDSTONE_TORCH_ON\n  'redstone lamp': REDSTONE_LAMP_OFF\n  'glistering melon': SPECKLED_MELON\n  'acacia leaves': LEAVES_2\n  'acacia log': LOG_2\n  'gunpowder': SULPHUR\n  'lilypad': WATER_LILY\n  'command block': COMMAND\n  'dye': INK_SACK复制代码\n"
        },
        {
            "author": "乔柚",
            "timestamp": 1543789260,
            "txt_content": " 本帖最后由 longlongz 于 2018-12-3 06:27 编辑 \n\n创建菜单\n所有菜单节点均可省略。\n所有菜单节点均忽略大小写判断。（NAME 同等于 name）\n菜单目录\n在路径 /plugins/TabooMenu/menu/ 内创建任意以 yml 结尾编码为 UTF-8 的文件。\n\n菜单节点\n# 总节点\nmenu-settings:\n  # 菜单标题\n  name: '测试菜单'\n  # 菜单行数\n  rows: 1\n  # 菜单打开所需要的命令（不同指令之间使用 \";\" 区分）\n  command: 'menu;help;cd'\n  # 菜单自动刷新时间（单位：秒）\n  auto-refresh: 1\n  # 菜单打开执行动作（可以使用大部分物品动作）\n  open-action: 'sound: BLOCK_CHEST_OPEN-1-1'\n  # 菜单关闭执行动作（可以使用大部分物品动作）\n  close-action: 'sound: BLOCK_CHEST_CLOSE-1-1'\n  # 菜单打开是否跳过权限判断\n  permission-bypass: true\n  # 菜单关闭时自动打开的菜单\n  previous: 'previous.yml'复制代码\n"
        },
        {
            "author": "乔柚",
            "timestamp": 1543789560,
            "txt_content": "菜单模板\n该功能需要 TabooMenu v1.7+ 以上\n命令相关命令作用示范/tmenu template create创建模板/tmenu template create 测试模板/tmenu template name更改模板名称/tmenu template name 测试模板 模板名称/tmenu template rows更改模板行数/tmenu template rows 测试模板 3/tmenu template open打开模板/tmenu open 测试模板\n创建模板通过使用命令 /tmenu template create 创建一份新的模板。\n你可以在目录 plugins/TabooMenu/template/ 中找到你之前创建的模板配置。\n编辑模板通过使用命令 /tmenu template open 打开你之前创建的模板。\n将物品直接放入菜单中后关闭界面即可保存。\n\n使用模板将生成好的模板文件复制到 plugins/TabooMenu/menu 文件内即可正常使用。\n物品展示节点以外的动作节点则需要您手动配置。\n注意事项请勿直接编辑 plugins/TabooMenu/template 模板文件夹中的源文件。模板行数减少时请提前收回即将越界的物品，否则将会被删除。该功能仅保存能够使用配置实现的数据。（不保存：烟花配方、物品属性等）\n\n\n"
        },
        {
            "author": "乔柚",
            "timestamp": 1543789920,
            "txt_content": "头颅皮肤（进阶）\n所有物品节点均忽略大小写判断。（SKULL-TEXTURE 同等于 skull-texture）\n我们拿一款 https://minecraft-heads.com 上的头颅皮肤为例。/give @p skull 1 3 {display:{Name:\"Present (red)\"},SkullOwner:{Id:\"7744f4b0-9aa1-4984-80f1-a5068e1a7fe2\",Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYmQ3YTlmNmVkMDhkZDIxN2ZkZjA5ZjQ2NTJiZjZiN2FmNjIxZTFkNWY4OTYzNjA1MzQ5ZGE3Mzk5OGE0NDMifX19\"}]}}}复制代码其中 Id 和 Value 是我们可以拿来使用的参数，直接复制到 skull-texture 节点下即可。\n0:\n  id: head:3\n  skull-texture:\n    id: 7744f4b0-9aa1-4984-80f1-a5068e1a7fe2\n    texture: eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYmQ3YTlmNmVkMDhkZDIxN2ZkZjA5ZjQ2NTJiZjZiN2FmNjIxZTFkNWY4OTYzNjA1MzQ5ZGE3Mzk5OGE0NDMifX19复制代码\n"
        },
        {
            "author": "乔柚",
            "timestamp": 1543790160,
            "txt_content": "触发几率\n1.5 版本新增特性\n你可以在物品动作的每一行添加 <change: #> 关键字来设置触发几率。0:\n  id: diamond\n  name: '随机矿石'\n  lore:\n  - ''\n  - '点击消耗 100 金币购买随机矿石'\n  - '可能出现:'\n  - '- 钻石'\n  - '- 金锭'\n  - '- 铁锭'\n  price: 100\n  command:\n  # 20% 的几率执行\n  - 'console: give {player} diamond;tell: 获得钻石 <change: 0.2>'\n  # 50% 的几率执行\n  - 'console: give {player} gold_ingot;tell: 获得金锭 <change: 0.5>'\n  # 80% 的几率执行\n  - 'console: give {player} iron_ingot;tell: 获得铁锭 <change: 0.8>'复制代码同样可以在 list 子节点内使用。\n0:\n  id: diamond\n  name: '随机矿石'\n  lore:\n  - ''\n  - '点击消耗 100 金币购买随机矿石'\n  - '可能出现:'\n  - '- 钻石'\n  - '- 金锭'\n  - '- 铁锭'\n  price: 100\n  command:\n  - type: ALL\n    list:\n    # 20% 的几率执行\n    - 'console: give {player} diamond;tell: 获得钻石 <change: 0.2>'\n    # 50% 的几率执行\n    - 'console: give {player} gold_ingot;tell: 获得金锭 <change: 0.5>'\n    # 80% 的几率执行\n    - 'console: give {player} iron_ingot;tell: 获得铁锭 <change: 0.8>'复制代码\n"
        },
        {
            "author": "乔柚",
            "timestamp": 1543865100,
            "txt_content": " 本帖最后由 longlongz 于 2018-12-5 00:27 编辑 \n创建物品\n所有物品节点均忽略大小写判断。（NAME 同等于 name）\n\nTabooMenu拥有一个独特的联想判断功能(又称抽象化判断)，这个功能会使节点判断更加的简单。用过Skript的用户应该都知道，通常一串代码可以用多种方式来表达，比如 \"[the] health of %living entities%\" 和 \"%living entities%' health\" 是一样的意思，但是不同的表达方式。而TabooMenu也实现了这个功能， 比如物品ID同时可以用\"ID\"或者\"Material\"来表达。在每个子版块中都会在最前面添加一段类似于这样的节点用法:\nPOSITION_X (\"(Position-|Location-)x\")\nPOSITION_Y (\"(Position-|Location-)y\")\n这样的节点用法，就和前面所说的抽象化判断相关。\n理解格式为 节点名称(\"(可有可无的)用法|用法二\")\n在括号中的第二个括号代表了第二个括号中的内容是可有可无的，在先前的例子中，你可以使用:\nPosition-xLocation-xX（直接使用X作为节点）\n在其中还有一个竖线“|”，代表了可以选择两个之间的一个，比如：\n在\"id|material\"中，你可以选择id作为节点或者material作为节点\n\n注: 如果实在理解不了，你可以直接使用例子中的用法\n\n\n\n序号及坐标POSITION_X (\"(Position-|Location-)x\")\nPOSITION_Y (\"(Position-|Location-)y\")\n# 序号方式\n0:\n  id: diamond\n# 坐标方式\nitem:\n  id: diamond\n  position-x: 0\n  position-y: 0复制代码坐标方式用法\n\n可以使用以上两种方式设定物品位置，用过 ChestCommands 的话肯定对第二种方式深有感触。序号图\n坐标图\n\n\n\n材料及数量ID(\"id|Material\")\n0:\n  id: iron chestplate\n1:\nMATERIAL: 276\n2:\n  id: wool:14\n  amount: 1\n3:\nmaterial: diamond\n  amount: 1\n4:\n  # 如果你使用纯数字，因为 yaml 的载入机制你需要在前后加上引号。\n  id: '160:14'复制代码\n材质节点继承了 ChestCommands 的优良传统，你可以使用数字或是英文名称，甚至是别名。\nTabooMenu 的联想判断是智能的，而不是简单的判断 golden apple 与 golden 的区别。\n你甚至可以将 diamond sword 写成 sword with diamond 都可以。0:\n  id: sword with diamond复制代码如果你记不住材质名称或是数字ID，你可以在配置文件中添加新的材质别名，但是要注意这里别名对应的材质名称必须要准确无误。Aliases:\n  钻石剑: DIAMOND_SWORD复制代码格式: 物品别名:物品ID/英文名 \n\n\n物品名称NAME(\"(display-)name\")\nLORE(\"lore(s)\")0:\n  name: '物品名称'\n  lore:\n  - '第一行描述'\n  - '第二行描述'复制代码这个不用我多讲了吧，菜单插件都能做到。\n当然你还可以使用 Yaml 的特殊格式：0:\n  name: '物品名称'\n  lore: ['第一行描述', '第二行描述']复制代码\n\n\n损伤值DATA_VALUE(\"durability|damage|data(-value)\")0:\n  id: wool:14\n1:\n  id: wool\n  data-value: 14复制代码这两种写法都是可以的，但是我不建议使用第二种，那是原插件(ChestCommand)的保留节点而且过于繁琐。\n\n\n\n\n物品克隆SLOT_COPY(\"(slot-)copy\")0:\n  id: diamond\n  slot-copy:\n  - 1\n  - 2\n  - 3\n  - 4\n  - 5\n  - 6\n  - 7\n  - 8\n9:\n  id: gold ingot\n  slot-copy: [10, 11, 13, 14, 15, 16, 17]复制代码用于将该物品克隆到其他位置，各项节点相同。\n似乎 DeluxeMenu 也有这个功能？\n\n\n\n\n物品填充\nFULL(\"(slot-)full\")0: \n  id: diamond\n  full: true复制代码用于将该物品填充到菜单的空白位置，每个菜单仅允许出现一个填充节点（多余无效）。\n\n\n\n附魔效果\nSHINY(\"shiny|glow|enchant(ed|ment)\")0:\n  id: diamond sword\n  shiny: true\n1:\n  id: diamond sword\n  enchantment: 'anything'复制代码和 CheatCommands 一样附魔内容不再显示，仅仅显示附魔特效，以至于原插件的保留字... 里面写啥都行。\n\n\n\n属性隐藏HIDE_ATTRIBUTE(\"hide-(attribute|nbt)\")\n0:\n  id: wood sword\n  hide-attribute: false复制代码和 ChestCommands 不同，TabooMenu 允许使用者决定是否隐藏物品属性，这个值默认是开启的。\n\n\n\n头颅皮肤SKULL_OWNER(\"skull(-owner)\")0:\n  id: head:3\n  skull-owner: 'Cytrus'\n1:\n  id: head:3\n  skull-owner: '%player_name%'复制代码用于给 head:3如果你的服务器安装了 PlaceholderAPI 插件，你可以在这里使用其他变量如：%XXX_top_kills_1%。\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "1723624171",
            "timestamp": 1543881180,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "fyxrim",
            "timestamp": 1551793200,
            "txt_content": "你好,有问题\n\n头颅皮肤\n\n用于给 head:3如果你的服务器安装了 PlaceholderAPI 插件，你可以在这里使用其他变量如：%XXX_top_kills_1%。\n\n这个变量怎么写？\n1:\n  id: head:3\n  skull-owner: '%player_name_top_kills_1%'\n\n\n是这样吗"
        },
        {
            "author": "shutong",
            "timestamp": 1553439180,
            "txt_content": "原CC菜单的这个功能缺失了，KEEP-OPEN: true\n如何设置一个菜单项目点击后会关闭本菜单呢？"
        },
        {
            "author": "mohuang521",
            "timestamp": 1555905840,
            "txt_content": "为什么我连配置文件都没有"
        },
        {
            "author": "a13799382",
            "timestamp": 1556063640,
            "txt_content": "缺少配置文件解決方法：重載配置TabooMenu reload"
        },
        {
            "author": "yuen27787231",
            "timestamp": 1558439460,
            "txt_content": "這個介面插件比chestcommands難用"
        },
        {
            "author": "3346084541",
            "timestamp": 1563069120,
            "txt_content": "就是不能不用那么长的指令吗我用头颅插件获得的头颅不知道他的名字怎么办希望出一个在线改的指令直接打开菜单面板直接更改不是会更好更方便希望作者会制作"
        },
        {
            "author": "3346084541",
            "timestamp": 1563072900,
            "txt_content": "怎么点开菜单需要物品啊"
        },
        {
            "author": "乔柚",
            "timestamp": 1563940620,
            "txt_content": "案例分析\n所有案例均来自于我曾今的服务器\n你可以在你的服务器里使用下方的案例\n######################\n#+                  +#\n#   MENU SETTINGS    #\n#+                  +#\n######################\n\nmenu-settings:\n\n  # name - appears as the title - REQUIRED\n  name: '&8[ &6&l生存技巧 &8]' #菜单名称\n\n  # rows - the number of rows of the chest - REQUIRED\n  rows: 2 #菜单排数\n\n  # command - OPTIONAL (you can remove this or set it to '')\n  # Bind multiple commands using ; (command: 'menu; m; me')\n  command: 'mechanics' #触发指令\n\n  # auto-refresh - OPTIONAL\n  # How frequently the menu will be refreshed. few seconds\n  auto-refresh: 1 #菜单刷新频率\n\n  # This command command will be execute when the menu is opened.\n  # Supports all the icon command types.\n  open-action: 'sound: BLOCK_CHEST_OPEN-1-1; tell: &8[ &6&l! &8] &7你打开了生存技巧面板' #打开菜单触发的效果\n  \n  # This command command will be execute when the menu is closed.\n  # Supports all the icon command types.\n  close-action: 'sound: BLOCK_CHEST_CLOSE-1-1' #关闭菜单出发的效果\n\n  # 菜单打开是否跳过权限判断\n  permission-bypass: true\n\n  \n######################\n#+                  +#\n#       ITEMS        #\n#+                  +#\n######################\n  \n0: #展示用\n  id: Stained_Glass_Pane:0\n  name: ' '\n  slot-copy:\n  - 9\n\n\n\n\n1: #物品位置\n  id: 291 #物品ID\n  name: '&8[ &6&L攀爬 &8]' #名称\n  lore:\n  - ''\n  - '&7按住空格并紧贴方块并鼠标 &6右键 &7按住方块' #Lore\n  - ''\n10: #物品位置\n  id: Stained_Glass_Pane:1\n  name: '&8[ &7&L习得技能 &8]'\n  lore:\n  - ''\n  - '&7让你能在世界中随意攀爬'\n  - ''\n  - '&E金币: &72000c &E& &E等级: &7100'\n  price: 2000 #所需要的金币\n  level: 100 #需要的等级复制代码\n\n\n\n"
        },
        {
            "author": "乔柚",
            "timestamp": 1563943080,
            "txt_content": "命令与权限TabooMenu 允许使用 ChestCommands 的 cc 指令别名。\n命令命令作用/taboomenu open [菜单] <玩家>打开菜单/taboomenu list列出菜单/taboomenu reload重载插件如果文件名为 menu - bedwars.yml 那么则需要使用 /tmenu open menu__-__bedwars.yml 来打开。\n允许使用 TAB 来自动补全 open 指令后的菜单名称。权限权限作用taboomenu.command.help查看命令帮助taboomenu.command.open使用打开菜单命令taboomenu.command.open.other使用打开菜单命令（向其他玩家）taboomenu.command.list使用列出菜单命令taboomenu.commsnd.reload使用重载插件命令taboomenu.open.文件名.yml打开菜单\n"
        },
        {
            "author": "GREEN_UNCLE",
            "timestamp": 1563948960,
            "txt_content": "1723624171 发表于 2018-12-4 07:53\n感谢教程，支持楼主\n感谢教程，支持楼主"
        },
        {
            "author": "cp666",
            "timestamp": 1572286440,
            "txt_content": "我想要实现左键出售1个，右键出售64个（钻石）\nWiki上没有给出此类示范，只给出了单个格子卖出一个的示范，具体该怎么实现"
        },
        {
            "author": "ha4617286",
            "timestamp": 1585236540,
            "txt_content": "感谢楼主非常好用"
        },
        {
            "author": "ha4617286",
            "timestamp": 1585241400,
            "txt_content": "感谢楼主呀"
        }
    ]
}