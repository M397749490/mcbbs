{
    "title": "[1.15.2]能否通过UUID检测某箭的发射者",
    "author": "无辜的村民",
    "replyCount": 9,
    "timestamp": 1582615860,
    "txt_content": "效果是单人游戏中给所有玩家射的箭添加tag\"a\"\n没有在wiki上查到思路，求解",
    "replies": [
        {
            "author": "Ph-苯",
            "timestamp": 1582615860,
            "txt_content": "data modify 目标路径 set from 源路径\n这条命令可以比较目标路径和源路径的nbt是否相同，如果相同，这条命令就会执行失败；如果不相同，就会执行成功，把目标路径的nbt设置为源路径的nbt。\n你可以用这个来一一比较箭的owner和各个实体的uuid，然后给匹配成功的实体加tag。\n比如：\n最外层内容：\ntag @e remove a\nexecute as @e[type=arrow,tag=!already] run function 函数1\ntag @e remove already\n最外层结束\n函数1内容：\ntag @s add detecting\nexecute as @e run function 函数2\ntag @s remove detecting\ntag @s add already\nexecute if entity @e[type=player,tag=owner] run tag @s add a\ntag @e remove owner\n函数1结束\n函数2内容：\ndata modify 临时路径1 set from entity @e[type=arrow,tag=detecting,limit=1] owner.M\ndata modify 临时路径2 set from entity @e[type=arrow,tag=detecting,limit=1] owner.L\nexecute store success score 记分板路径1 run data modify 临时路径1 set from entity @s UUIDMost\nexecute store success score 记分板路径2 run data modify 临时路径2 set from entity @s UUIDLeast\nexecute if score 记分板路径1 matches 1 if score 记分板路径2 matches 1 run tag @s add owner\n函数2结束"
        },
        {
            "author": "利姆露酱",
            "timestamp": 1582616520,
            "txt_content": "监听玩家射箭的计分板改动\n然后用execute以玩家的位置执行：\n用execute获取最近的箭上tag"
        },
        {
            "author": "无辜的村民",
            "timestamp": 1582616580,
            "txt_content": "雪碧最可爱 发表于 2020-2-25 15:42\n监听玩家射箭的计分板改动\n然后用execute以玩家的位置执行：\n用execute获取最近的箭上tag ...\n不太准确，如果极限情况附近有骷髅或掠夺者同时射箭会导致误判\n还是觉得UUID靠谱点"
        },
        {
            "author": "利姆露酱",
            "timestamp": 1582616700,
            "txt_content": "无辜的村民 发表于 2020-2-25 15:43\n不太准确，如果极限情况附近有骷髅或掠夺者同时射箭会导致误判\n还是觉得UUID靠谱点 ...\n1.15机制不太清楚，但是data貌似可以get到uuid？"
        },
        {
            "author": "无辜的村民",
            "timestamp": 1582616880,
            "txt_content": "雪碧最可爱 发表于 2020-2-25 15:45\n1.15机制不太清楚，但是data貌似可以get到uuid？\n尝试了一下，但是data似乎不能直接比较，只能用于提取\n想用scoreboard 间接比较发现UUID的格式不能存储进计分板\n我就没了"
        },
        {
            "author": "利姆露酱",
            "timestamp": 1582617180,
            "txt_content": "无辜的村民 发表于 2020-2-25 15:48\n尝试了一下，但是data似乎不能直接比较，只能用于提取\n想用scoreboard 间接比较发现UUID的格式不能存储进 ...\nexecute 好像还有个store你试了吗"
        },
        {
            "author": "无辜的村民",
            "timestamp": 1582617300,
            "txt_content": "雪碧最可爱 发表于 2020-2-25 15:53\nexecute 好像还有个store你试了吗\n试了\nstore存储箭的OwnerUUID和玩家的UUID，然后导入计分板比较\n问题就是有存储办法但是没有比较办法"
        },
        {
            "author": "用户名w7w7w",
            "timestamp": 1582654620,
            "txt_content": "计分板能获取到uuid？这么强大我都不知道"
        },
        {
            "author": "无辜的村民",
            "timestamp": 1582674420,
            "txt_content": "用户名w7w7w 发表于 2020-2-26 02:17\n计分板能获取到uuid？这么强大我都不知道\n不能，UUID格式不支持计分板，导致获取的值都是同一个值"
        }
    ]
}