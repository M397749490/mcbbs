{
    "title": "Function与二分法实现大规模枚举的可能性",
    "author": "yuo月儿",
    "replyCount": 6,
    "timestamp": 1505556060,
    "txt_content": " 本帖最后由 yuo月儿 于 2017-9-16 18:01 编辑 \n\n第一次发帖，表示因为一些特别奇怪的考试发挥而不得不天天向上的的我已经无力去做MC代码，于是此篇内容大多为纸上谈兵，多请见谅\n\n\n一\n咳咳，首先标题是一个平凡的想法，其出发点有二\n1，函数之间传递无延迟；\n2，因为函数是外部资源，所以方便用程序自动生成；\n这样就可以在省事且省游戏资源的情况下完成不敢想象的枚举，尤其涉及\"实体NBT\"\"玩家方向\"\"记分板\"以及其他根本无法表示的参量之间的传递\n感觉各种神们应该已经用这个想法做了不少，，我也不擅长表达，所以直接说几个Example\n\n二\n方向:\n使一个实体被玩家的方向键所操控，同时玩家也能自由移动\n做法:\n首先写一个Cpp呀java之类的小程序目的是将360度朝向用二分表示\n如这样\ncustomLdirection/000:\nfunction custom:direction/001 if @a[tag=tester,rym=0,ry=179]\nfunction custom:direction/360 if @a[tag=tester,rym=180,ry=359]\n这样依次写下去一直到底层\n如\ncustomLdirection/033\ntp @e[type=!Player,tag=tester,name=!mp] @a[tag=tester]\n#mp为之后随玩家移动的实体的名字，这里偷懒了，用tp是怕卡\ntp @e[tag=tester,name=pos1] ~0.224951 ~-0.200000 ~-0.974370\ntp @e[tag=tester,name=pos2] ~-0.224951 ~-0.200000 ~0.974370\ntp @e[tag=tester,name=pos3] ~0.974370 ~-0.200000 ~0.224951\ntp @e[tag=tester,name=pos4] ~-0.974370 ~-0.200000 ~-0.224951\n#数据为程序生成的各种sin cos\n\n然后用类似的方法根据玩家在哪个实体的r=1之内来决定mp的移动方向(当然，这一段在主函数里要放在上一段前面)\n当然，还要加上跳跃的条件，以及四个指示实体的生成\n！！！在游戏中仅执行了五十条左右的指令，而且可以优化，\n如果用正常发来写，纯枚举指令就要几千，否则会无法辨别各个方向产生误差！\n当然，你还可以复制几份，每一份写一个不同的速度，这样你控制的实体的移动速度你也可以控制了\n\n\n\n用类似的方法，你也可以实现把箭（魔法，指示实体）按玩家的朝向射出之类的奇怪的东西，只不过要枚举Motion之类的了，根据潜行时间判断箭射出去的距离，如果不用此法，在距离稍大时几乎很难控制精度\n\n三\n物品ID全掌控：\n实现在冒险地图中丢出经过处理的任意方块，都会在地上放置（当然有一点不必要，这里只是为了引出来第四点）\n实现:\n首先，对所有村民交易，怪物掉落的物品，都加上这几个假参数:binA,binB,binC,binD,binE,binF,binG,binH,binI,binJ含义是方块编码的补码从高到低，-1表示不是方块\n其次，对于每个掉在地上的实体，如果它不在某一个方块里，就按照二中的方法从binJ开始检索,到底层之后放置方块，并给玩家的相应参数+1\n\n四\n冒险/小游戏地图的信息完全规范化\n这里算是要说的重点之类的吧\n按照上文所说方法，只能将朝向等极为特别的参数二分获取，比如Motion等就是只写而不可读了\n\n那么作为特殊群体中二的一员，你竟然连个Motion都不给我，那我就完全不要你的Motion了，一切都自！己！写！\n当然，自己写所有的Motion是不太现实的，箭的Motion要是精度比较小的话就会比较无聊，而且拉弓的乐趣潜行加钓竿也取代不了（当然箭的Motion是可以玩家朝向+二分速度获得）不过对于技能，原版枪的子弹，或是小游戏里一些奇怪的东西，就可以随意摆布了，什么矢量操作之类的，改几个就好了，除了Motion之外，还有坐标，玩家是不是在看箱子之类或轻或重的原本难以控制的元素可以在模块化的基础上更方便的控制\n\n\n五\n懒人二分枚举程序，，感觉这东西要火\n\n六\n希望写下的内容能提供帮助---月儿\n\n\n",
    "replies": [
        {
            "author": "pineapple_",
            "timestamp": 1505557800,
            "txt_content": "嗯……这贴，看得懂的人不需要看，需要看的人看不懂，\n\n还有，玩家除了绕旋转还可以绕x旋转，1°穷举的话如果高频，电脑真的可以受得了吗(反正我电脑不行)"
        },
        {
            "author": "yuo月儿",
            "timestamp": 1505558580,
            "txt_content": "pineapple_ 发表于 2017-9-16 18:30\n嗯……这贴，看得懂的人不需要看，需要看的人看不懂，\n\n还有，玩家除了绕旋转还可以绕x旋转，1°穷举的话如 ...\n哪个啥，，，是二分好不好，，要不然我把存档附加上，，"
        },
        {
            "author": "pineapple_",
            "timestamp": 1505558640,
            "txt_content": "yuo月儿 发表于 2017-9-16 18:43\n哪个啥，，，是二分好不好，，要不然我把存档附加上，，\n好哇，因为我看不出来你在表达什么……"
        },
        {
            "author": "yuo月儿",
            "timestamp": 1505558760,
            "txt_content": "yuo月儿 发表于 2017-9-16 18:43\n哪个啥，，，是二分好不好，，要不然我把存档附加上，，\n然后两个是单独的，，这样的话只需要2*2*log(360)+8=42条输出再42条就好呀，，"
        },
        {
            "author": "yuo月儿",
            "timestamp": 1505561040,
            "txt_content": "pineapple_ 发表于 2017-9-16 18:44\n好哇，因为我看不出来你在表达什么……\n链接\n写了一半，直接function custom:direction/start就好了"
        },
        {
            "author": "pca006132",
            "timestamp": 1505568660,
            "txt_content": "3、4和二分的关系不大在此就不进行讨论。\n确实命令函数让我们可以方便的编写程序，对这样进行大量穷举十分方便，二分也能把命令执行量大幅减少。\n然而没法检测范围的数值就没法进行二分穷举，这是一个比较遗憾的地方。\n\n不过之前设计pcf的时候倒是忘了设计专门针对二分的语法了，我在想以下的语法如何：\nbinary rotation(lower: 0, upper: 359):\n    //其实就是一个命令函数的宏\n    //根据lower和upper和以下这最外层的if else部分生成一堆命令函数\n    //名称或许是rotation_(upper)_(lower)什么的\n    if upper - lower > 3:\n        //整数除法\n        function rotation($(lower), $(upper / 2)) if @s[rym=$(lower),ry=$(upper/2)]\n        function rotation($(upper/2+1), $(upper)) if @s[rym=$(upper/2+1),ry=$(upper)]\n    else:\n        //最后怎么处理...\n\nfunction bla:\n    //调用rotation，不容许写括号\n    function rotation复制代码\n\n我在想可以怎么改善，希望给点意见吧，顺便如果有兴趣帮忙写/给意见pcf，一个简化编写大量命令函数的语言的话，欢迎来我们这边讨论，https://discord.gg/44HWF26"
        }
    ]
}