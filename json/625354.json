{
    "title": "不一样的批处理-用批处理做的Unturned服务器部署工具(开服器)！",
    "author": "a1294790523",
    "replyCount": 35,
    "timestamp": 1471862820,
    "txt_content": " 本帖最后由 a1294790523 于 2016-11-13 11:59 编辑 \n\n功能包含:\n自动下载/更新/安装Unturned\n自动下载/更新/安装Rocket\n配置服务器\n关于该工具需要的APIKey:\n\n自动下载/更新/安装Rocket需要APIKey\n请先前往https://rocketmod.net/ucp.php?mode=register进行注册(需要翻墙)\n再前往https://rocketmod.net/api 获取APIKey\n如果不需要安装Rocket乱写APIKey即可\n\n部分代码来源于网络\n如果有bug/建议请回复告知\n因为Untruned服务器启动方式变更 请重新下载最新版本的程序！\n因为Rocket安装方式变更 请重新下载最新版本的程序！\n本部署工具不包含端口映射功能 请按照其他教程手动进行映射！\n最新版本:\n\n\n\nUnturned服务器部署工具V9.4.zip\n(121.95 KB, 下载次数: 635)\n\n\n\n2016-11-13 11:47 上传\n点击文件名下载附件\n\n\n\n\n\n\n历史版本：\n\n\n\n\nUnturned服务器部署工具V9.3.zip\n(121.99 KB, 下载次数: 67)\n\n\n\n2016-11-6 10:17 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V9.2.zip\n(121.95 KB, 下载次数: 40)\n\n\n\n2016-10-29 19:22 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V9.1.zip\n(121.97 KB, 下载次数: 113)\n\n\n\n2016-10-6 10:15 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V9.0.zip\n(121.96 KB, 下载次数: 16)\n\n\n\n2016-10-6 09:01 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V7.zip\n(91.93 KB, 下载次数: 74)\n\n\n\n2016-9-15 12:45 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V6.zip\n(91.93 KB, 下载次数: 3)\n\n\n\n2016-9-15 12:24 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V5.zip\n(91.77 KB, 下载次数: 6)\n\n\n\n2016-9-15 08:20 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V4.zip\n(91.77 KB, 下载次数: 3)\n\n\n\n2016-9-14 22:23 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V3.zip\n(91.77 KB, 下载次数: 2)\n\n\n\n2016-9-14 18:33 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具V2.zip\n(91.76 KB, 下载次数: 5)\n\n\n\n2016-9-14 18:29 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned服务器部署工具.zip\n(91.56 KB, 下载次数: 30)\n\n\n\n2016-9-11 15:27 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned开服工具V2.4.zip\n(2.83 KB, 下载次数: 78)\n\n\n\n2016-9-10 11:50 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUnturned开服工具V2.3.zip\n(2.82 KB, 下载次数: 80)\n\n\n\n2016-9-3 14:25 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUN开服工具V2.2.zip\n(2.78 KB, 下载次数: 110)\n\n\n\n2016-8-27 12:19 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUN开服工具V2.1.zip\n(2.76 KB, 下载次数: 34)\n\n\n\n2016-8-25 10:29 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUN开服工具V2.0.zip\n(2.55 KB, 下载次数: 15)\n\n\n\n2016-8-24 20:07 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\nUN开服工具.zip\n(2.36 KB, 下载次数: 88)\n\n\n\n2016-8-22 18:55 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n更新日志:\n\n1.根据Rocket的新安装方式更改代码2.修复bug\n\n会让你眼前金光闪闪的代码部分：\n\n\n@echo off\nchcp 936\necho 设置编码完成！\ntitle Unturned服务器部署工具 V9.4 by sand 图标来源于Unturned主程序\necho =========================================================================\necho               Unturned服务器更新工具 V2.7   by sand\necho            本bat仅为自动下载/安装/更新Unturned和Rocket\necho        config文件夹用于储存APIKey和安装目录(如果不需要可以手动删除)\necho             在使用过程中会自动释放扩展程序和vbs(wget.exe unzip.vbs)！\necho              在完成操作后会自动删除，请勿手动删除！\necho               请勿用作商业用途，如果有bug请告知！\necho =========================================================================\necho                          版权声明:\necho             Steam账号来源于fr34kyn01535的bat(Rocket的zip自带)\necho       解压zip代码来源于http://demon.tw/programming/vbs-unzip-file.html \necho       字符判断的代码来自http://www.bathome.net/thread-34099-1-1.html\necho        本bat原贴地址为http://www.mcbbs.net/thread-625354-1-1.html\necho =========================================================================\nif exist \"%cd%\\wget.exe\" (echo 扩展程序已发现。) Else (echo 无法找到扩展程序！请一并解压到同一文件夹！&pause&exit)\necho \"%cd%\">if\nfindstr /p /m \"&\" if>if1\nset /p if=<if1\ndel /s /q if>nul\ndel /s /q if1>nul\nif \"%if%\" == \"\" (echo 目录验证通过！) else (echo 该目录带有特殊字符！请解压到不带特殊字符的目录！&pause&exit)\nif exist \"%cd%\\config\" (echo 已创建config目录。) Else (md \"%cd%\\config\")\n::创建Config目录。\nset \"c=%cd%\"\n::当前目录留存\n:start\nif exist \"%cd%\\config\\APIKey\" (echo 发现APIkey文件，已跳过APIkey的输入。) else (goto NAPIKey)\nset /p APIKey=<\"%cd%\\config\\APIKey\"\nif \"%APIKey%\" == \"\" set APIKey=空\necho 当前APIKey为%APIKey%\nset /p CAPIKey=更改APIKey?(Y/N)\nif \"%CAPIKey%\" == \"Y\" set /p \"APIKey=请输入APIKey(如果不需要安装Rocket请直接回车):\"&goto HAPIKey\nif \"%CAPIKey%\" == \"N\" (goto HAPIKey) else (echo 你输入的字符必须为Y或N。&goto start)\n:NAPIKey\nset \"APIKey=\"\nset /p \"APIKey=请输入APIKey(如果不需要安装Rocket请直接回车):\"\nif \"%APIKey%\" == \"\" set APIKey=空\n:HAPIKey\necho \"%APIKey%\">if\nfindstr /p /m \"&\" if>if1\nset \"if=\"\nset /p if=<if1\ndel /s /q if>nul\ndel /s /q if1>nul\nif \"%if%\" == \"\" (echo APIKey格式验证通过！^(不代表可以使用^)) else (echo 错误的APIKey！&goto NAPIKey)\n>\"%cd%\\config\\APIKey\" echo %APIKey%\n:233\necho 你输入的APIKey已储存到config目录下。\nset /p APIKey=<\"%cd%\\config\\APIKey\"\nif exist \"%cd%\\config\\Steamcmd\" (echo 发现Steamcmd文件，已跳过Steamcmd安装目录的输入。) else (goto NSteamcmd)\nset /p d=<\"%cd%\\config\\Steamcmd\"\n:Ierror\necho 当前SteamCmd安装目录:%d%\nset /p CSteamcmd=更改SteamCmd安装目录?(Y/N)\nif \"%CSteamcmd%\" == \"Y\" set /p \"d=请输入SteamCmd安装目录(安装在当前目录请直接回车-同时Unturned也会安装在该SteamCmd目录下[必须为非中文且不带有&的目录]):\"&goto HSteamcmd\nif \"%CSteamcmd%\" == \"N\" (goto HSteamcmd) else (echo 你输入的字符必须为Y或N。&goto Ierror)\n:NSteamcmd\nset \"d=\"\nset /p \"d=请输入SteamCmd安装目录(安装在当前目录请直接回车-同时Unturned也会安装在该SteamCmd目录下[必须为非中文且不带有&的目录]):\"\n:HSteamcmd\nif \"%d%\" == \"\" set \"d=%cd%\\Steamcmd\"\necho \"%d%\">if\nfindstr /p /m \"&\" if>if1\nset \"if=\"\nset /p if=<if1\ndel /s /q if>nul\ndel /s /q if1>nul\nif \"%if%\" == \"\" (echo 目录验证通过！) else (echo 该目录带有特殊字符！请使用不带特殊字符的目录！&goto NSteamcmd)\n::SteamCmd默认安装目录\nif exist \"%d%\" (echo 目录\"%d%\"已存在，跳过创建目录。) Else (md \"%d%\")\ncd /d \"%d%\"\nset \"d=%cd%\"\nset \"a=%cd%\\steamapps\\common\\Unturned\"\nset \"Steamcmd=%cd%\"\n::Unturned安装目录\ncd /d \"%c%\"\n>\"%cd%\\config\\Install\" echo %a%\necho 你输入的Untruned安装目录已储存到config目录下。\n>\"%cd%\\config\\Steamcmd\" echo %Steamcmd%\necho 你输入的SteamCmd安装目录已储存到config目录下。\ncd /d \"%d%\"\ntitle 下载SteamCmd和Unturned中...\nif exist steamcmd.exe echo 检测到SteamCmd已安装，跳过下载&goto true\n::该下载SteamCmd代码来自Rocket安装文件的脚本文件夹 作者fr34kyn01535\nbitsadmin.exe /transfer \"正在下载SteamCMD\" https://steamcdn-a.akamaihd.net/client/installer/steamcmd.zip \"%d%\\steamcmd.zip\"\n::该VBS代码来自http://demon.tw/programming/vbs-unzip-file.html\n>Unzip.vbs echo UnZip \"%d%\\steamcmd.zip\", \"%d%\"\n>>Unzip.vbs echo Sub UnZip(ByVal myZipFile, ByVal myTargetDir)\n>>Unzip.vbs echo     Set fso = CreateObject(\"Scripting.FileSystemObject\")\n>>Unzip.vbs echo     If NOT fso.FileExists(myZipFile) Then\n>>Unzip.vbs echo         Exit Sub\n>>Unzip.vbs echo     ElseIf fso.GetExtensionName(myZipFile) ^<^> \"zip\" Then\n>>Unzip.vbs echo         Exit Sub\n>>Unzip.vbs echo     ElseIf NOT fso.FolderExists(myTargetDir) Then\n>>Unzip.vbs echo         fso.CreateFolder(myTargetDir)\n>>Unzip.vbs echo     End If\n>>Unzip.vbs echo     Set objShell = CreateObject(\"Shell.Application\")\n>>Unzip.vbs echo     Set objSource = objShell.NameSpace(myZipFile)\n>>Unzip.vbs echo     Set objFolderItem = objSource.Items()\n>>Unzip.vbs echo     Set objTarget = objShell.NameSpace(myTargetDir)\n>>Unzip.vbs echo     intOptions = 256\n>>Unzip.vbs echo     objTarget.CopyHere objFolderItem, intOptions\n>>Unzip.vbs echo End Sub\ncall Unzip.vbs\ndel /f/s/q Steamcmd.zip>nul\ndel /f/s/q Unzip.vbs>nul\n:true\nsteamcmd.exe +login unturnedrocksupdate force_update +app_update 304930 validate +exit\nif exist \"%d%\\steamapps\\common\\Unturned\\Unturned.exe\" (echo Unturned安装成功) else (echo Unturned安装失败，请将SteamCmd安装目录设置到非中文且不带有^&的目录下！&pause&exit)\ncd /d \"%c%\"\ngoto InstallRocket\n:error\n\necho 你输入的字符必须为Y或N。\n:InstallRocket\nset /p Rocket=是否安装Rocket？(Y/N)\nif \"%Rocket%\" == \"Y\" goto yes\nif \"%Rocket%\" == \"N\" (goto no) else (goto error)\n:yes\ntitle 下载Rocket中...\nif exist Rocket.zip del /f/s/q Rocket.zip>nul\nwget http://api.rocketmod.net/download/unturned/latest/%APIKey%/Rocket.zip\ndel /s /q wget.exe>nul\ntitle 正在安装Rocket...\ncd /d \"%a%\"\nif exist \".\\Modules\\Rocket.Unturned\" rd /s/q .\\Modules\\Rocket.Unturned\\>nul\n::该VBS代码来自http://demon.tw/programming/vbs-unzip-file.html\n>Unzip.vbs echo UnZip \"%c%\\Rocket.zip\", \"%cd%\"\n>>Unzip.vbs echo Sub UnZip(ByVal myZipFile, ByVal myTargetDir)\n>>Unzip.vbs echo     Set fso = CreateObject(\"Scripting.FileSystemObject\")\n>>Unzip.vbs echo     If NOT fso.FileExists(myZipFile) Then\n>>Unzip.vbs echo         Exit Sub\n>>Unzip.vbs echo     ElseIf fso.GetExtensionName(myZipFile) ^<^> \"zip\" Then\n>>Unzip.vbs echo         Exit Sub\n>>Unzip.vbs echo     ElseIf NOT fso.FolderExists(myTargetDir) Then\n>>Unzip.vbs echo      C   fso.CreateFolder(myTargetDir)\n>>Unzip.vbs echo     End If\n>>Unzip.vbs echo     Set objShell = CreateObject(\"Shell.Application\")\n>>Unzip.vbs echo     Set objSource = objShell.NameSpace(myZipFile)\n>>Unzip.vbs echo     Set objFolderItem = objSource.Items()\n>>Unzip.vbs echo     Set objTarget = objShell.NameSpace(myTargetDir)\n>>Unzip.vbs echo     intOptions = 256\n>>Unzip.vbs echo     objTarget.CopyHere objFolderItem, intOptions\n>>Unzip.vbs echo End Sub\ncall Unzip.vbs\nif exist \".\\Scripts\" (rd /s/q .\\Scripts>nul) else (echo Rocket安装失败 正在还原更改...&rd /s/q .\\Modules\\Rocket.Unturned\\>nul)\nif exist \".\\Modules\\Rocket.Unturned\\LICENSE\" del /f/s/q .\\Modules\\Rocket.Unturned\\LICENSE>nul\nif exist \".\\Modules\\Rocket.Unturned\\README\" del /f/s/q .\\Modules\\Rocket.Unturned\\README>nul\ndel /f/s/q Unzip.vbs>nul\n:no\ncd /d \"%c%\"\ntitle 安装完成!\necho 安装完成!按任意键以运行服务器配置工具\npause\necho =========================================================================\necho                Unturned服务器配置工具V2.7        by sand\necho        本bat仅为生成Unturned的开服快捷方式和配置服务器文件，\necho        请勿用作商业用途！生成的开服快捷方式会在桌面上。\necho =========================================================================\necho \"%cd%\">if\nfindstr /m \"&\" if>if1\nset \"if=\"\nset /p if=<if1\ndel /s /q if>nul\ndel /s /q if1>nul\nif \"%if%\" == \"\" (echo 目录验证通过！) else (echo 该目录带有特殊字符！请解压到不带特殊字符的目录！&pause&exit)\nif exist \"%cd%\\config\\Install\" echo 检测到Unturned安装目录的配置文件，已自动设置安装路径！&set /p a=<\"%cd%/config/Install\"&goto true1\nif exist \"%cd%\\Unturned.exe\" (echo 检测到该工具在Unturned安装目录下，已自动设置安装路径！&set a=%cd%&goto true1) else (goto Start)\n:false1\necho \u0007\necho 请输入正确的Unturned安装路径！\n:Start\nset /p a=请输入Unturned的安装路径(x:\\Unturned)：\ncd /d \"%a%\"\nif exist \"%cd%\\Unturned.exe\" (echo 正在验证目录...) else (goto false1)\necho \"%d%\">if\nfindstr /m \"&\" if>if1\nset \"if=\"\nset /p if=<if1\ndel /s /q if>nul\ndel /s /q if1>nul\nif \"%if%\" == \"\" (echo 目录验证通过！&goto true1) else (echo 该目录带有特殊字符！请使用不带特殊字符的目录！&goto Start)\n:true2\necho \u0007\necho %e%\n:true1\necho Unturned安装目录为:%a%\nset d=你输入的字符不能为空且大于0。\nset e=你输入的字符不能为空。\nset p=你输入的字符必须为Y或N。\nset /p Name0=请输入服务器的文件夹名字：\nif \"%Name0%\"==\"\" (goto true2) else (goto false2)\n:true3\necho \u0007\necho %e%\n:false2\nset /p Name=请输入要创建的服务器名字(不得含有空格且大于5个中英文字符):\nif \"%Name%\"==\"\" (goto true3) else (echo 正在检测服务器名字长度...)\n::该bat代码来自http://www.bathome.net/thread-34099-1-1.html\nsetlocal EnableDelayedExpansion \nset \"str=%Name%\"\n:length\nset/a n+=1\nif not \"!str:~%n%!\"==\"\" goto :length\nif %n% gtr 5 (goto false3) else (goto true3)\n:false3\nset /p Password=请输入要创建的服务器%Name%的密码(如果无密码请直接回车):\ngoto Start1\n:true4\necho \u0007\necho %e%\n:Start1\nset /p Map=请输入要创建的服务器%Name%的地图:\nif \"%Map%\"==\"\" (goto true4) else (goto false4)\n:false4\necho 出生装备格式为职业ID/物品ID/物品ID/物品ID/...\nset /p Loadout=请输入要创建的服务器%Name%的出生装备(如果无出生装备请直接回车-这样是所有职业出生鹰火:255/4]:\ngoto Start2\n:false5\necho \u0007\necho %d%\n:Start2\nset /p Port=请输入要创建的服务器%Name%的端口:\nif \"%Port%\"==\"\" (goto false5)\nset /a Port=%Port%/1\nif %Port% geq 1 (goto true5) else (goto false5)\n:false6\necho \u0007\necho 你输入的字符必须为PVE或PVP。\n:true5\nset /p b=请输入要创建的服务器%Name%的模式(PVP/PVE):\nif \"%b%\"==\"PVE\" (goto true6)\nif \"%b%\"==\"PVP\" (goto true6) else (goto false6)\n:false7\necho \u0007\necho 你输入的字符不能为空，并符合0>最大人数<49的要求。\n:true6\nset /p Maxplayers=请输入要创建的服务器%Name%的最大人数(1-48):\nif \"%Maxplayers%\"==\"\" (goto false7)\nset /a Maxplayers=%Maxplayers%/1\nif %Maxplayers% geq 1 (echo 正在判断人数是否符合要求...) else (goto false7)\nif %Maxplayers% leq 48 (goto true7) else (goto false7)\n:false8\necho \u0007\necho 你输入的字符必须为Easy、Normal、Hard或Gold。\n:true7\necho Easy-简单/Normal-普通/Hard-困难/黄金-Gold\nset /p Mode=请输入要创建的服务器%Name%的难度(Easy/Normal/Hard/Gold):\nif \"%Mode%\"==\"Easy\" (goto true8)\nif \"%Mode%\"==\"Normal\" (goto true8)\nif \"%Mode%\"==\"Hard\" (goto true8) \nif \"%Mode%\"==\"Gold\" (goto true8) else (goto false8)\n:true8\nset /p Welcome=请输入要创建的服务器%Name%的欢迎信息(如果无欢迎信息请直接回车-欢迎信息不能带有空格):\ngoto Start2\n:false9\necho \u0007\necho 你输入的字符必须为First、Third或Both。\n:Start2\necho First-只有第一视角/Third-只有第三视角/Both-两种视角皆可切换\nset /p Perspective=请设置要创建的服务器%Name%的视角限制(First/Third/Both):\nif \"%Perspective%\"==\"First\" (goto true9)\nif \"%Perspective%\"==\"Third\" (goto true9)\nif \"%Perspective%\"==\"Both\" (goto true9) else (goto false9)\n:false10\necho \u0007\necho 你输入的字符必须为Enabled或Disabled。\n:true9\necho Enabled-开启/Disabled-禁用\nset /p Cheats=要创建的服务器%Name%需要开启作弊指令吗？(Enabled/Disabled):\nif \"%Cheats%\"==\"Enabled\" (set Cheats=Cheats)\ngoto true10\nif \"%Cheats%\"==\"Disabled\" (set Cheats=) else (goto false10)\ngoto true10\n:false11\necho \u0007\necho %p%\n:true10\nset /p Whitelist=要创建的服务器%Name%需要开启白名单吗？(Y/N)\nif \"%Whitelist%\"==\"Y\" (set Whitelisted=Whitelisted) else (goto if2)\ngoto true11\n:if2\nif \"%Whitelist%\"==\"N\" (set Whitelisted=) else (goto false11)\ngoto true11\n:false20\necho \u0007\necho %p%\n:true11\nset /p Admin=要创建的服务器%Name%需要隐藏OP身份吗？(看不见蓝色名字)(Y/N)\nif \"%Admin%\"==\"Y\" (set Admin=Hide_Admins) else (goto if3)\ngoto true20\n:if3\nif \"%Admin%\"==\"N\" (set Admin=) else (goto false20)\ngoto true20\n:true20\necho 设置投票的格式:Y/通过后的投票冷却时间/未通过后的投票冷却时间/投票时间/投票通过的占比/发起投票的最少玩家人数\necho 例子:Y/120/360/120/0.75/3 这样是通过后的投票冷却时间为120秒 未通过后的投票冷却时间为360秒 投票时间为120秒 投票通过的占比为75% 发起投票的最少玩家人数为3人\nset /p votify=要创建的服务器%Name%需要设置投票功能吗？(不设置请直接回车/如需设置请按照以上格式设置):\ncls\necho Unturned安装路径:%a%\necho 要创建的服务器信息如下:\necho 服务器文件夹名字:%Name0%\necho 服务器名字:%Name%\necho 服务器密码:%Password%\necho 服务器端口:%Port%\necho 服务器最大玩家数:%Maxplayers%\necho 服务器地图:%Map%\necho 服务器模式:%b%\necho 服务器出生装备:%Loadout%\necho 服务器投票功能的设置:%votify%\nif \"%Mode%\"==\"Easy\" (set Mode1=简单)\nif \"%Mode%\"==\"Normal\" (set Mode1=普通)\nif \"%Mode%\"==\"Hard\" (set Mode1=困难)\nif \"%Mode%\"==\"Gold\" (set Mode1=黄金)\necho 服务器难度:%Mode1%\nif \"%Perspective%\"==\"First\" (set Perspective1=仅为第一视角)\nif \"%Perspective%\"==\"Third\" (set Perspective1=仅为第三视角)\nif \"%Perspective%\"==\"Both\" (set Perspective1=两种视角皆可切换)\necho 服务器视角限制:%Perspective1%\necho 服务器的欢迎信息:%Welcome%\nif \"%Cheats%\"==\"Cheats\" (set Cheats1=开启)\nif \"%Cheats%\"==\"\" (set Cheats1=关闭)\necho 服务器作弊指令:%Cheats1%\nif \"%Whitelisted%\"==\"Whitelisted\" (set Whitelist1=开启)\nif \"%Whitelisted%\"==\"\" (set Whitelist1=关闭)\necho 服务器白名单:%Whitelist1%\nif \"%Admin%\"==\"Hide_Admins\" (set Admin1=开启)\nif \"%Admin%\"==\"\" (set Admin1=关闭)\necho 隐藏OP身份:%Admin1%\ngoto Start3\n:false15\necho \u0007\necho %p%\n:Start3\nset /p g=是否开始创建？(Y/N)\nif \"%g%\"==\"Y\" (goto Start4)\nif \"%g%\"==\"N\" (goto Start) else (goto false15)\n:Start4\nif exist \"%a%\\Servers\" (goto true12) else (md \"%a%\\Servers\")\n:true12\ncd /d \"%a%\\Servers\"\nif exist \"%a%\\Servers\\%Name0%\" (goto true13) else (md \"%a%\\Servers\\%Name0%\")\ngoto false13\n:false16\necho \u0007\necho %p%\n:true13\nset /p l=服务器已存在，是否覆盖设置？(不删除玩家/地图数据)(Y/N)\nif \"%l%\"==\"Y\" (goto false13)\nif \"%l%\"==\"N\" (goto Start) else (goto false16)\n:false13\nif exist \"%a%\\Servers\\%Name0%\\Server\" (goto Server) else (md \"%a%\\Servers\\%Name0%\\Server\")\n:Server\nchcp 65001\ncd /d \"%a%\\Servers\\%Name0%\\Server\"\n>Commands.dat echo Name %Name%\n>>Commands.dat echo Password %Password%\n>>Commands.dat echo Port %Port%\n>>Commands.dat echo Maxplayers %Maxplayers%\n>>Commands.dat echo %b%\n>>Commands.dat echo Map %Map%\nif \"%Welcome%\"==\"\" (goto null1) else (goto full1)\n:full1\n>>Commands.dat echo Welcome %Welcome%\n:null1\nif \"%Loadout%\"==\"\" (goto null2) else (goto full2)\n:full2\n>>Commands.dat echo Loadout %Loadout%\n:null2\nif \"%Cheats%\"==\"\" (goto null3) else (goto full3)\n:full3\n>>Commands.dat echo %Cheats%\n:null3\nif \"%Whitelisted%\"==\"\" (goto null4) else (goto full4)\n:full4\n>>Commands.dat echo %Whitelisted%\n:null4\nif \"%Admin%\"==\"\" (goto null5) else (goto full5)\n:full5\n>>Commands.dat echo %Admin%\n:null5\nif \"%votify%\"==\"\" (goto null6) else (goto full6)\n:full6\n>>Commands.dat echo votify %votify%\n:null6\nchcp 936\nFor /f \"tokens=2,*\" %%i in ('reg query \"HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\" /v \"Desktop\"') do Set dt=%%j\nif exist \"%dt%\\开启Unturned服务器.lnk\" (goto true17) else (goto false17)\n:false18\necho \u0007\necho %p%\n:true17\nset /p lnk=快捷方式已存在，是否覆盖？(Y/N)\nif \"%lnk%\"==\"Y\" (goto true18)\nif \"%lnk%\"==\"N\" (goto Start5) else (goto false18)\n:true18\ndel /f/s/q %dt%\\开启Unturned服务器.lnk>nul\n:false17\ncd /d \"%a%\"\n>创建快捷方式.vbs echo set WshShell = WScript.CreateObject(\"WScript.Shell\")\n>>创建快捷方式.vbs echo set oShellLink = WshShell.CreateShortcut(\"%dt%\\开启Unturned服务器.lnk\")\n>>创建快捷方式.vbs echo oShellLink.TargetPath = \"%cd%\\Unturned.exe\"\n>>创建快捷方式.vbs echo oShellLink.Arguments = \"-nographics -batchmode +internetserver/%Name0%\"\n>>创建快捷方式.vbs echo oShellLink.WindowStyle = 1\n>>创建快捷方式.vbs echo oShellLink.Hotkey = \"\"\n>>创建快捷方式.vbs echo oShellLink.IconLocation = \"%cd%\\Unturned.exe, 0\"\n>>创建快捷方式.vbs echo oShellLink.Description = \"开启Unturned服务器\"\n>>创建快捷方式.vbs echo oShellLink.WorkingDirectory = \"%cd%\"\n>>创建快捷方式.vbs echo oShellLink.Save\n:loop\ncall 创建快捷方式.vbs\nif exist \"%dt%\\开启Unturned服务器.lnk\" (goto stop) else (echo 创建快捷方式失败...)\ngoto loop\n:stop\ndel /f/s/q 创建快捷方式.vbs>nul\ncd /d \"%a%\"\nif exist .\\创建快捷方式.vbs (echo 删除快捷方式的vbs失败...) else (goto Start5)\ngoto stop\n:Start5\necho 创建完成，感谢你的使用！\npause\n复制代码\n\n程序截图：\n\n[attach]1002336[/attach]\n\n查毒报告:\nvirscan.org 哈勃 火眼\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "kuangwenxin",
            "timestamp": 1471865640,
            "txt_content": "搞不懂bat版为何要放zip\n直接放代码就行了  QAQ"
        },
        {
            "author": "a1294790523",
            "timestamp": 1471865940,
            "txt_content": "kuangwenxin 发表于 2016-8-22 19:34\n搞不懂bat版为何要放zip\n直接放代码就行了  QAQ\n我怕有人不会做成BatQAQ"
        },
        {
            "author": "古仔",
            "timestamp": 1471876920,
            "txt_content": "a1294790523 发表于 2016-8-22 19:39\n我怕有人不会做成BatQAQ\n开服器怎么用   不懂？-？"
        },
        {
            "author": "kuangwenxin",
            "timestamp": 1471918920,
            "txt_content": "a1294790523 发表于 2016-8-22 19:39\n我怕有人不会做成BatQAQ\n教教就好了QAQ首先建一个txt然后复制进去然后改成bat\n也可以先改成bat再编辑QAQ"
        },
        {
            "author": "a1294790523",
            "timestamp": 1471919520,
            "txt_content": "kuangwenxin 发表于 2016-8-23 10:22\n教教就好了QAQ首先建一个txt然后复制进去然后改成bat\n也可以先改成bat再编辑QAQ ...\n这样很麻烦的QAQ 而且里面有特殊的字符QAQ"
        },
        {
            "author": "a1294790523",
            "timestamp": 1471919580,
            "txt_content": "古仔 发表于 2016-8-22 22:42\n开服器怎么用   不懂？-？\n直接解压 然后点那个bat就行"
        },
        {
            "author": "kuangwenxin",
            "timestamp": 1471920180,
            "txt_content": "a1294790523 发表于 2016-8-23 10:32\n这样很麻烦的QAQ 而且里面有特殊的字符QAQ你可以尝试这样子\n或者这样子\n\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\nQAQAQAQAQAQ\n"
        },
        {
            "author": "a1294790523",
            "timestamp": 1471920360,
            "txt_content": "kuangwenxin 发表于 2016-8-23 10:43\n或者这样子\n那个特殊字符BBS发不出来的QAQ"
        },
        {
            "author": "kuangwenxin",
            "timestamp": 1471920900,
            "txt_content": "a1294790523 发表于 2016-8-23 10:46\n那个特殊字符BBS发不出来的QAQ\nQAQ复制不出么\n那么以前别人怎么发出来的"
        },
        {
            "author": "a1294790523",
            "timestamp": 1471921740,
            "txt_content": "kuangwenxin 发表于 2016-8-23 10:55\nQAQ复制不出么\n那么以前别人怎么发出来的\n这个特殊字符是在cmd里面Ctrl+G打出来的\n而且我试过了 bbs上面发不出来"
        },
        {
            "author": "a1294790523",
            "timestamp": 1471921860,
            "txt_content": "kuangwenxin 发表于 2016-8-23 11:12\nQAQ好奇怪  那还是随你吧\n另外这个特殊字符的作用就是发出系统错误的音效233"
        },
        {
            "author": "kuangwenxin",
            "timestamp": 1471921920,
            "txt_content": "a1294790523 发表于 2016-8-23 11:09\n这个特殊字符是在cmd里面Ctrl+G打出来的\n而且我试过了 bbs上面发不出来\nQAQ好奇怪  那还是随你吧"
        },
        {
            "author": "kuangwenxin",
            "timestamp": 1471922460,
            "txt_content": "a1294790523 发表于 2016-8-23 11:11\n另外这个特殊字符的作用就是发出系统错误的音效233\n嗯 这个我百度过了...其实本来想跟你说这声音可以去掉QAq"
        },
        {
            "author": "古仔",
            "timestamp": 1471935240,
            "txt_content": "a1294790523 发表于 2016-8-23 10:33\n直接解压 然后点那个bat就行\n连接  连不到服务器"
        },
        {
            "author": "a1294790523",
            "timestamp": 1471939920,
            "txt_content": "古仔 发表于 2016-8-23 14:54\n连接  连不到服务器\n本地连接127.0.0.1:端口"
        },
        {
            "author": "古仔",
            "timestamp": 1471940400,
            "txt_content": "a1294790523 发表于 2016-8-23 16:12\n本地连接127.0.0.1:端口\n我这个 有点笨的脑袋  看不懂   求作者出教程"
        },
        {
            "author": "a1294790523",
            "timestamp": 1471995780,
            "txt_content": "古仔 发表于 2016-8-23 16:20\n我这个 有点笨的脑袋  看不懂   求作者出教程\n教程不是有吗 我这里只是个工具而已"
        },
        {
            "author": "QQ1004295420",
            "timestamp": 1472036160,
            "txt_content": "正是需要的QAQ拿走了谢谢"
        },
        {
            "author": "a1294790523",
            "timestamp": 1472040480,
            "txt_content": "更新V2.0版本！"
        },
        {
            "author": "CHARLOTTE2003",
            "timestamp": 1472385780,
            "txt_content": "别人连服务器，ip填什么"
        },
        {
            "author": "a1294790523",
            "timestamp": 1472399940,
            "txt_content": "CHARLOTTE2003 发表于 2016-8-28 20:03\n别人连服务器，ip填什么\n对不起 我这里只是个工具而已 教程请看其它帖子"
        },
        {
            "author": "方法在手",
            "timestamp": 1473297540,
            "txt_content": "求助。开服器一直卡在是否开启作弊。两个代码（区分了大小写）怎么输入都不对"
        },
        {
            "author": "Wozhong123",
            "timestamp": 1473478440,
            "txt_content": "为什么设置不了作弊"
        },
        {
            "author": "a1294790523",
            "timestamp": 1473479640,
            "txt_content": "Wozhong123 发表于 2016-9-10 11:34\n为什么设置不了作弊\n新版本已修复 请再试试"
        },
        {
            "author": "a1294790523",
            "timestamp": 1473579780,
            "txt_content": "版本大升级！支持一键部署服务器！\n包含:\n自动下载/更新/安装Unturned\n自动下载/更新/安装Rocket"
        },
        {
            "author": "溪沫★",
            "timestamp": 1475409060,
            "txt_content": "贴主发一下教程地址QAQ"
        },
        {
            "author": "a1294790523",
            "timestamp": 1475410320,
            "txt_content": "溪沫★ 发表于 2016-10-2 19:51\n贴主发一下教程地址QAQ\n什么教程？"
        },
        {
            "author": "溪沫★",
            "timestamp": 1475656260,
            "txt_content": "a1294790523 发表于 2016-10-2 20:12\n什么教程？\n开服器怎么用的教程，我笨我不会用啊"
        },
        {
            "author": "溪沫★",
            "timestamp": 1475761200,
            "txt_content": "楼主转换视角的指令是什么，按了H不行，服务器显示你、只能第一人称视角，请问怎么改QAQ"
        },
        {
            "author": "a1294790523",
            "timestamp": 1475763960,
            "txt_content": "溪沫★ 发表于 2016-10-6 21:40\n楼主转换视角的指令是什么，按了H不行，服务器显示你、只能第一人称视角，请问怎么改QAQ ...\n再运行一遍工具就行了23333333"
        },
        {
            "author": "斑驳的流年",
            "timestamp": 1476790980,
            "txt_content": "如果没有密匙是否可以手动安装rocket"
        },
        {
            "author": "a1294790523",
            "timestamp": 1476863820,
            "txt_content": "斑驳的流年 发表于 2016-10-18 19:43\n如果没有密匙是否可以手动安装rocket\n如果没有的话 必须要手动去Rocket官网下载Rocket进行安装"
        },
        {
            "author": "a1294790523",
            "timestamp": 1477739940,
            "txt_content": "V9.2版本更新！"
        },
        {
            "author": "qilindao",
            "timestamp": 1477917240,
            "txt_content": "冒泡，收走留名"
        },
        {
            "author": "a1294790523",
            "timestamp": 1478399040,
            "txt_content": "因为Rocket安装方式变更 请重新下载最新版本的程序！"
        }
    ]
}