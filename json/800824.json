{
    "title": "[插件教程]Sponge端NewHonor插件教程从入门到卸载",
    "author": "阴阳师元素祭祀",
    "replyCount": 13,
    "timestamp": 1529808720,
    "txt_content": " 本帖最后由 阴阳师元素祭祀 于 2018-11-4 17:14 编辑 \n\n编写时使用的插件版本为 newhonorv2.0.0-pre-b3\n最后修改日期:\n2018年6月23日23点41分\n\n#define honor 头衔\n\n0-0. 安装\n\n在 https://github.com/euOnmyoji/NewHonor-plugin-for-sponge/releases\n选择合适的版本\n然后放到服务端对应目录一下\n一般在mods下\n然后重启服务器或者利用插件来加载本插件\nextra:\n进服务器后你应该能看到[default]会出现在你聊天前面 这就是默认拥有并且佩戴的头衔了\n如果想要关掉这功能或者修改默认头衔效果请阅读后面\n\n0-0.5. 安装后进服没有任何默认头衔显示\n\n如果你安装了uchat或者nucleus\n请参考下面的uchat或者nucleus配置变量教程进行配置\n如果你没有安装任何插件\n并且插件版本是比较稳定的版本\n可能是配置文件开启了权限管理或者头衔初始化时出错\n请再后台检查报错后反馈\n\n\n\n0-1. 基本操作\n添加头衔\n/honor admin add <头衔id> <头衔>  来添加头衔#如果你想修改一个头衔id的效果 请使用 /honor admin set <头衔id> <新头衔>\nexample:\n/honor admin add master [&3MASTER&r]\n\n给予头衔\n//创建了头衔自然要把这个头衔给玩家 在1.7.0及以后版本中\n//拥有newhonor.honor.honorid权限的玩家会自动拥有id为honorid的头衔了\n/honor admin give <玩家> <头衔id>\n\n给予玩家头衔可能会失败 原因一般是:[玩家已经拥有该头衔了,存取数据时异常,(头衔/玩家)不存在]\n\n0.2 杂「插件变量 权限 关键命令」\n\n玩家最基本使用权限\nnewhonor.use\n\n允许玩家修改自己头衔选项的权限\nnewhonor.settings\n\n\n管理员权限\nnewhonor.admin\n\n重载指令\n/honor admin reload\n\n刷新缓存指令(用于玩家头衔显示不正常时)\n/honor admin refresh\n\n上传本地数据到sql\nhonor data updateToSql\n\n下载sql数据到本地数据\nhonor data downloadFromSql\n\n查看自己拥有头衔/honor list\n\nUChat头衔变量\n{newhonor}\n\n\nPAPI头衔变量\n%newhonor%\n\nnucleus头衔变量\n{{pl:newhonor:newhonor}}\n\n\n以上内容全部为指令配置并且是给用最基本的功能的服主\n\n以下内容需要你有一定配置基础以及耐心阅读  阅读完成后应该能获得更好的使用体验\n修改完配置文件记得reload插件\n\n1-0. 配置文件介绍 config.conf\nSQL-settings { #玩家数据储存在sql的设置\n    address=address #sql地址\n    database=database #数据库名\n    enable=false  #是否启用该功能\n    password=password  #sql密码\n    port=3306 #sql端口\n    update-encoding=latin1  #更新数据所使用编码\n    user=user  #用户名\n}\ncheck-update=false  #检查插件更新\ncompatibleUChat=false  #支持\ndata-dir-path=default  #插件数据本地路径\ndefault-honors-settings {  #默认拥有头衔设置\n    enable=true  #启用该功能\n    honors=[\n        default   #默认拥有的头衔 如果有多个请用,分割  默认头衔中第一个头衔会默认使用\n    ]\n}\ndisplayHonor=false   #是否在头顶显示头衔  <b>如果启用 头衔长度不要超过16字符</b>\nforce-enable-default-listener=false   #在一些条件下还是使用插件默认加头衔的Listener\nlang=\"zh_CN\"   #语言文件选项\nnucleus-placeholder=false       #开启nucleus头衔变量\nusePAPI=false      #开启PAPI头衔变量\n复制代码\n注意 直接cv到插件配置文件可能无法使用 因为注释可能会损坏格式\n\n\n1.1 头衔配置文件\n\n<pre style=\"box-sizing: border-box; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; margin-bottom: 16px; word-wrap: normal; padding: 16px; overflow: auto; line-height: 1.45; background-color: rgb(246, 248, 250); border-radius: 3px; color: rgb(36, 41, 46);\"><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; background: transparent; border-radius: 3px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;\">#头衔id 里面的value为头衔实际效果\nadmin {\n    value=\"[&1ADMIN&r]\"\n    getMessage=\"恭喜{playername}获得{newhonor}\"\n}\ndefault {\n    value=\"[Player]\"\n}\n#里面的effects为使用的药水效果组\n鱼塘塘主 {\n    effects=鱼塘塘主的光环\n    value=\"[&6鱼塘塘主&f]\"\n}</code></pre>复制代码\n\nvalue为该头衔实际显示效果\n如果有getMessage 那么该玩家是在线的时候获得头衔则会全服广播里面的字    (支持颜色代码&) \n//{playername}为获得该头衔的玩家名字 {newhonor}为头衔实际效果\n\neffects为该头衔所使用的药水效果组\n\n\n1-2. 药水效果组配置 (\n//药水效果id可通过newhonor自带指令查询\n#头衔拥有者自身buffnode\neffects{\n    #都有啥药水效果\n    effects =[\n    \"minecraft:water_breathing,10\"\n    ]\n    #多少秒刷新一次药水效果\n    delay=\"0\"\n    #随机自身药水效果组\n    random{\n        #randomSpeed可以改成你任意你自己想的名字\n        randomSpeed{\n            #是否显示粒子效果\n            show=true\n            #这个组药水效果持续多少tick\n            potionEffectsDurationTick=60\n            #多少秒刷新(支持随机参数)\n            delay=\"2~5\"\n            #刷新后有多少概率会获得\n            chance=0.5\n            #详细药水效果设置\n            effects=[\n            \"minecraft:speed,0\"\n            ]\n        }\n    }\n}\n\n#光环node设置\nhalo {\n    #anyname为你自己起的node名字\n    anyname {\n        #头衔拥有者是否会获得这个光环buff的buff\n        include-me=true\n        #药水效果持续多少tick\n        potionEffectsDurationTick=60\n        #多少秒刷新一次\n        delay=\"10~20,60~120\"\n        chance=0.5\n        #光环buff半径\n        radius=5.0\n        effects=[\n        \"minecraft:jump_boost,0\"\n        ]\n    }\n    anynameelse {\n        include-me=true\n        delay=\"1,10\"\n        radius=1\n        effects=[\n        \"minecraft:regeneration,1\"\n        ]\n    }\n}复制代码\n\n\nchance为获得该part效果的概率\ndelay  1~10表示在1~10秒之间随机取值\n,是区间或者值之间的分割 \n\ndelay会先取一个区间或者值 在进行区间取值\n比如 10~20,600\n则会先随机在10~20和600中取一个\n然后进行10~20随机或者直接取600\n\n\n使用问题\n\n?-?. 给一个头衔绑定一个药水效果组\n\n首先你需要配置一个药水效果组\n在EffectsData里面新建一个文件\n名字叫id.conf\nid为任意药水效果组名  推荐纯字母\n\n然后参考上面教程配置配置文件\n然后使用honor admin effects 头衔id 药水效果组id\n来给头衔绑定药水效果组即可\n#解绑指令不存在的 请人工修改配置文件\n\n\n兼容问题\n\n启用displayHonor后和nucleus格式冲突\n步骤:\n1.在nucleus在把overwrite-early-prefix设置成true\n2A. 再在newhonor设置中打开force-enable-default-listener\n2B. 启用nucleus变量 然后在chat里面设置变量所在位置\n\n\nUChat配置问题\n如果你安装了Uchat插件  请将default-channel 设置为G （玩家全屏说话  默认L是附近玩家）\n如果你还同时使用了NewHonor头衔插件  请在 prefix一项中format= 的括弧里面 添加{newhonor}变量 以显示称号  并且要在NewHonor的配置文件中把支持Uchat的配置选项打开\n头衔插件  打开config/newhonor文件夹 honor.conf修改玩家的默认称号  \n请注意给玩家newhonor.use权限节点\n来自帖子\nhttp://www.mcbbs.net/thread-794368-1-1.html\n\n插件API介绍\n等待测试\n\n\n\n\n\n\n萌新小白???的nucleus变量配置教程1. 打开服务端所在目录 打开config文件夹 打开\n\n2. 在config文件夹里面找到nucleus文件夹 打开\n\n3. 在nucleus文件夹里面找到main.conf  用文本编辑器(记事本除外) 打开\n·文本编辑器如果没有请去下载 推荐vsc或者notedpad++\n\n4. 打开后找到chat所在位置 大概是这个样子\n\n\n5.更改红箭头所在位置后面对应的值 在prefix那个地方前面加上{{pl:newhonor:newhonor}}表示本插件头衔变量\n其他选项可能需要改 可能不需要 但是我建议开了最好\n\n\n6.重启服务器重载配置文件\n\n什么 为什么不用reload  既然都是萌新了肯定说重启服务器简单粗暴啊\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "luenlin",
            "timestamp": 1529808900,
            "txt_content": "太麻烦不用，生气了么"
        },
        {
            "author": "蜘蛛丿恋夏",
            "timestamp": 1531637580,
            "txt_content": "我也感觉太麻烦了，~~~~~~~"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1531638840,
            "txt_content": "蜘蛛丿恋夏 发表于 2018-7-15 14:53\n我也感觉太麻烦了，~~~~~~~\n什么太麻烦了????"
        },
        {
            "author": "____摘花____",
            "timestamp": 1533374820,
            "txt_content": "神乎其技，不服不行！"
        },
        {
            "author": "wsq20030210",
            "timestamp": 1535016660,
            "txt_content": "问一下 给了一个玩家称号但是这个玩家退出重新登陆称号就变成默认的了而且这个玩家输入/honor list显示没有称号"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1535031240,
            "txt_content": "wsq20030210 发表于 2018-8-23 17:31\n问一下 给了一个玩家称号但是这个玩家退出重新登陆称号就变成默认的了而且这个玩家输入/honor list显示没有 ...\n可能是开了permission-manage所以因为权限没有pass失去了\n也可能是因为你用的是一个有bug的版本\n建议换成v2.1.0版本再尝试\n同时v2.1.0版本玩家得到和头衔都有单独的log文件了\n如果还不行的话带上v2.1.0的logs的日志给我看看"
        },
        {
            "author": "wsq20030210",
            "timestamp": 1535033640,
            "txt_content": " 本帖最后由 wsq20030210 于 2018-8-23 22:15 编辑 \n阴阳师元素祭祀 发表于 2018-8-23 21:34\n可能是开了permission-manage所以因为权限没有pass失去了\n也可能是因为你用的是一个有bug的版本\n建议换成v ...\n谢谢了~"
        },
        {
            "author": "KGTY",
            "timestamp": 1535073060,
            "txt_content": "哇哦 阔以阔以"
        },
        {
            "author": "二哈大魔王",
            "timestamp": 1563156600,
            "txt_content": "getMessage是什么插件。。求个地址。。\n\n还有视频中展示的动态称号怎么弄。。"
        },
        {
            "author": "1871487870",
            "timestamp": 1584446100,
            "txt_content": "发现一个比较麻烦的问题，newhonor将数据上传到mysql，提示成功，但是数据表中的usinghonor和honors都变成了default"
        },
        {
            "author": "gulangwang",
            "timestamp": 1584460920,
            "txt_content": "学习了 学习学习了\n"
        },
        {
            "author": "dalaobbs",
            "timestamp": 1591944420,
            "txt_content": "学会了，感谢楼主教程，谢谢"
        },
        {
            "author": "BudGame",
            "timestamp": 1598238960,
            "txt_content": "我想问一下怎么一下子给全都default玩家称号权限？give方式可以一口气给嘛？"
        }
    ]
}