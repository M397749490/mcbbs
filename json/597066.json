{
    "title": "如何使特定装备触发特定技能以及如何做到技能冷却",
    "author": "AFP",
    "replyCount": 5,
    "timestamp": 1467295860,
    "txt_content": "我又回来了qwq上次那个问题还没人回答，这次又带来两个问题\n1.如何做到让玩家穿有一套装备时触发技能，也就是一个物品右键时检测玩家装备如果是符合的则触发技能(就像职业mod那样)，这里用的是playerIn.getEquipmentandArmor() instanceof Item装备名  吗，如果是具体应该怎样呢，是把Item装备的class直接填进去还是头盔衣服等一个个填\n2.如何做到用玩一个物品后使他进入冷却，图标变灰(这个最难弄)，过一段时间变亮后才能用呢，我关于Java计时器这部分的忘记了……\n谢谢，仅有的家当了\n",
    "replies": [
        {
            "author": "a254969696",
            "timestamp": 1467368340,
            "txt_content": "第一个问题：你可以对那套特殊的装备的ItemMeta附加一个Lore，Player.getEquipmentandArmor()返回的是一个ItemStack[]对象，取出其中的每一个ItemStack，然后用ItemStack.getItemMeta()获取它的ItemMeta，再用ItemMeta.getLore()获取Lore(一个List<String>对象)，然后用contains()方法判断这个Lore中是否有你所添加的内容，如果均有，则触发技能。\n第二个问题：图标变灰可以做两个物品，图标除了亮度外没有区别，在使用过后就替换为低亮度的物品，一段时间内再替换回来。关于计时器，你可以自己建一个线程，然后通过Thread.sleep(long millis)方法使线程沉睡一定时间，然后将使物品重置。"
        },
        {
            "author": "AFP",
            "timestamp": 1467380640,
            "txt_content": "a254969696 发表于 2016-7-1 18:19\n第一个问题：你可以对那套特殊的装备的ItemMeta附加一个Lore，Player.getEquipmentandArmor()返回的是一个I ...\n不过关于第二个问题我忘记了thread这一部分了，能否具体讲讲应该怎么做？谢谢"
        },
        {
            "author": "a254969696",
            "timestamp": 1467389400,
            "txt_content": "AFP 发表于 2016-7-1 21:44\n不过关于第二个问题我忘记了thread这一部分了，能否具体讲讲应该怎么做？谢谢 ...\n创建一个类，继承Thread，然后重写run()方法。在需要的时候，创建这个类的对象，然后调用它的start()方法。不过记住，在插件卸载的时候，一定要关闭所有的你创建的线程，不然可能会出乱子。"
        },
        {
            "author": "AFP",
            "timestamp": 1467439920,
            "txt_content": "a254969696 发表于 2016-7-2 00:10\n创建一个类，继承Thread，然后重写run()方法。在需要的时候，创建这个类的对象，然后调用它的start()方法 ...\n好吧，谢谢，顺便再请教下怎么从下载好的mdk文件夹找到原版的assets文件，1.10的物品模型改了我却不知道改后是什么样的"
        },
        {
            "author": "AFP",
            "timestamp": 1467444420,
            "txt_content": "a254969696 发表于 2016-7-2 00:10\n创建一个类，继承Thread，然后重写run()方法。在需要的时候，创建这个类的对象，然后调用它的start()方法 ...\npackage captain.pegger.wvn.common;\n\n\nimport java.util.List;\n\nimport net.minecraft.entity.player.EntityPlayer;\nimport net.minecraft.init.SoundEvents;\nimport net.minecraft.item.Item;\nimport net.minecraft.item.ItemStack;\nimport net.minecraft.potion.Potion;\nimport net.minecraft.potion.PotionEffect;\nimport net.minecraft.util.ActionResult;\nimport net.minecraft.util.EnumActionResult;\nimport net.minecraft.util.EnumHand;\nimport net.minecraft.util.math.MathHelper;\nimport net.minecraft.world.World;\nimport net.minecraftforge.client.event.sound.SoundEvent.SoundSourceEvent;\n\npublic class PowerRage extends ItemPower{\n        \n        public PowerRage(){\n                this.setUnlocalizedName(\"rage\");                        \n        }        \n        \n     public ActionResult<ItemStack> onItemRightClick(ItemStack itemStackIn,World worldIn, EntityPlayer playerIn, EnumHand hand)\n     {           \n             int k = playerIn.getTotalArmorValue();\n             if(k==15){\n                     if(!this.isInCD()){\n             if(playerIn.worldObj.isRemote){                         \n                 }\n                 playerIn.addPotionEffect(new PotionEffect(Potion.getPotionById(5), 160, 1));\n                 playerIn.addPotionEffect(new PotionEffect(Potion.getPotionById(9), 160, 2));\n            playerIn.playSound(SoundEvents.ENTITY_ENDERDRAGON_GROWL, 5F, 1F); \n                     }\n             }\n             this.StartCD();\n         ragecooldown.currentThread().start();\n            return new ActionResult(EnumActionResult.SUCCESS, itemStackIn);                 \n     }\n     public void addInformation(ItemStack stackIn, EntityPlayer playerIn, List<String> tooltip, boolean advanced){\n         tooltip.add(1, \"\");\n             tooltip.add(2, \"Right-Click Get some Power increase but be a little uncomfortable\");\n         tooltip.add(3, \"Cool down for 20s after using\");\n         tooltip.add(4, \"Basaker can use only\");         \n      } \n     private static boolean inCD = false;\n     public static boolean isInCD(){\n             return inCD;\n     }\n     public static void StartCD(){\n             inCD=true;\n     }\n     public static void EndCD(){\n             inCD = false;\n     }\n\n      class ragecooldown extends Thread{\n           public void run(){                   \n                         try {\n                                Thread.sleep(20000);\n                                PowerRage.EndCD();\n                        } catch (InterruptedException e) {\n                                e.printStackTrace();\n                        }\n                   }\n        \n           }\n   }\n           \n\n帮我看看怎么回事，现在一右键整个游戏就闪退了……谢谢\n\n"
        }
    ]
}