{
    "title": "drawTexturedModalRect为什么* 0.00390625F",
    "author": "Hueihuea",
    "replyCount": 1,
    "timestamp": 1588392600,
    "txt_content": " 本帖最后由 Hueihuea 于 2020-5-2 12:16 编辑 \n\nnet.minecraft.client.gui.Gui下代码\n\n\n\n\n\nimage.png (46.14 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-2 12:08 上传\n\n\n\n\n\n\n这里为什么要* 0.00390625F\n这与点我提到的\n\n\n\n\nimage.png (4.37 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-2 12:10 上传\n\n\n\n\n\n\n有关吗\n\n是不是因为这个DefaultVertexFormats.POSITION_TEX\n\n那么这个7又代表什么",
    "replies": [
        {
            "author": "3TUSK",
            "timestamp": 1588400580,
            "txt_content": " 本帖最后由 3TUSK 于 2020-5-2 14:28 编辑 \n\n随便找个计算器易知 0.00390625 * 256 = 1.0。\n所以不是浮点数的精度问题，1/256 是可以无损精确表示的。\n有鉴于 Java 编译时内联（inline）常量表达式，所以 Mojang 手里真正的源码可能写的是 1 / 256 而不是这个 0.00390625。\n\n也从侧面说明“我们不是在跟真正的源码打交道。”\n延伸阅读：https://harbinger.covertdragon.team/chapter-01/mcp.html\n\n7 是 GL11.QUADS。这个和 256 无关。7 也是因为 Java 编译时内联常量表达式，这次是内联带 static final 修饰的 primitive 字段。\nhttp://legacy.lwjgl.org/javadoc/ ... pengl.GL11.GL_QUADS\n或者说，（因为 LWJGL 封装的是 OpenGL，）GL_QUADS。如果你也是 OpenGL 用户，请不要使用 GL_QUADS。\nhttps://stackoverflow.com/questi ... -bad-about-gl-quads\n\nDefaultVertexFormats.POSITION_TEX 是指最终给 GPU 的顶点数据格式。这个也和 256 无关。\nPOSITION_TEX 意思是先给顶点坐标，然后再给纹理（texture）的坐标。\n顺带一提方块用的 VertexFormat 似乎是 position -> color -> tex -> light map -> (padding?)。顺序错了会导致非常崩坏的渲染效果。\n"
        }
    ]
}