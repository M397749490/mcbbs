{
    "title": "跳过java基础的bukkit教程",
    "author": "1837019522",
    "replyCount": 23,
    "timestamp": 1581094680,
    "txt_content": " 本帖最后由 1837019522 于 2020-4-9 12:56 编辑 \n\n请先阅读下面这段话再观看本教程我的世界现在的服务器环境 从原先服务器寥寥几个 到现在数不胜数搭建服务器的服主也随之增多 也出现了许多骗子 什么倒卖端 倒卖插件就连找人定制一些很简单很小的插件都需要大价钱 或是被骗钱而本教程刚好适合那种只是需要某个功能 但是短时间学会java再写插件是不现实的只适合简单易懂的插件本教程不谈教学java基础 也只适合一些简单 如飞行 ，禁用某某东西等等简单功能\n至于之后想开发较为复杂的插件 请到网上寻找java基础教程学习 这里推荐两个B站较好的视频\n也是我一直在看的视频\n一个是尚学堂\nhttps://www.bilibili.com/video/av59814573\n另一个是黑马程序员&传智播客\nhttps://www.bilibili.com/video/av79312032第一节首先我们搭建一个简单的ide集成开发环境\n此处我推荐eclipse\n毕竟只是写bukkit插件  当你熟悉了之后再去使用功能强大的idea也是不错的选择\nEclipse安装我就不赘述了\n点击去查看安装教程\n\n然后打开Eclipse 我们先新建一个项目\n\n\n\n1. 点击File - new - Java Project\n2.在Project name中随意输入一个名字\n3.单击Finish 然后点击这个图标 把工程界面放大\n4.把周围这些关闭 因为我们用不到\n\n\n\n5.然后我们将创建一个Package\n\n\n\n6.输入你需要的包名 相当于文件夹里的路径 com/wcpe/demo文件夹下\n7.单击Finish 完成Package创建\n[/url]\n8.创建一个class  主类名称写Main 然后Finish\n\n\n\n默认为这样的\n\n\n\n9.我们右键这个项目 选build path - configure build path\n\n[/url]\n\n\n10.然后按图步骤选择自己的核心  这里注意 如果你用的是paper 在你的根目录如果生成了cache 请选择cache目录的 patched_x.xx.x.jar文件\n\n\n\n\n设置完构建路径 我们就可以开始编写插件啦\n本节讲的是如何搭建一个开发环境第二节首先 先讲下本文以后出现的名词 生活化的解释\n属性、方法、对象、返回值\n\n属性: 如你的名字、性别、年龄这些就是你的属性\n如 你的名字叫张三 性别为男 年龄为10岁\n\n方法: 也叫做函数 可以理解为一个动作的执行 \n如 你问你朋友名字 或 你给你朋友取一个外号 这就是一个方法\n\n对象: 理解为一个 人  这个人有 他有许多的属性 和 方法 我们可以通过这个人来获得他的一些属性 和 方法\n如 你的一位朋友 你的一位同学\n\n返回值: 就是执行一个方法 返回给你的东西\n如 你问你朋友名字 他回复张三  则 张三就是返回值\n\n理解了上面这几点 就可以看接下来的搭建框架部分了\n\n\n\n搭建框架 你需要 在Main 后面写上extends JavaPlugin\n然后在上面写上\nimport org.bukkit.plugin.java.JavaPlugin;\n\n就像这样\n\n\n\n\n\n\nimage.png (5.75 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:05 上传\n\n\n\n\n\n\n\n置然后 复制粘贴以下代码在这对大括号中\n     \n    @Override\n    public void onEnable() {\n        //插件开始的地方\n    }\n\n    @Override\n    public void onDisable() {\n         //插件结束的地方\n     }\n\n\n\n\n\n\n\nimage.png (18.91 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:10 上传\n\n\n\n\n\n\n\n\nonEnable(){}中是你插件开始加载的地方\nonDisable() {}是你插件卸载结束的地方\n\n在每次插件开始加载我们是不是需要提醒一句话 这里就用\ngetServer().getConsoleSender().sendMessage(\"你想说的话\");\n看图  代码意思为下图  ?为一个对象 ?为该对象的一个方法 \n\n\n\n\nimage.png (25.94 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-10 18:05 上传\n\n\n\n\n\n\n\n\n然后开始的地方我们输出一段话 “[插件名称]插件名称 加载完成!”\n插件结束的地方我们输出一段话 “[插件名称]插件名称 卸载完成!”\n就是这个样子\n\n\n\n\n\nimage.png (13.09 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:20 上传\n\n\n\n\n\n\n\n到了这里 我们需要让他运行一下 达到提示的目的 但是放进去服务器是肯定运行不了的\n因为少了一个 信息文件 在生活中 每个人是不是都有信息  比如你的名字 年龄 性别\n如果不写出来 服务器是识别不到的  \n所以我们需要创建一个bukkit中的信息文件 plugin.yml \n我们右键我们的项目 新建一个Untitled Text File文件\n写上插件名字\nname: demo\n然后写上我们的这个类的路径 就是之前创建的 pack.创建的类的名字\nmain: com.wcpe.demo.Main\n写上版本\nversion: 1.0\n写上作者\nauthor: WCPE\n如果是1.13及以上的插件还需要写上\napi-version: 1.13\n\n然后这就是一个服务器可识别的信息文件了\n\nname: demo\nmain: com.wcpe.demo.Main\nversion: 1.0\nauthor: WCPE\napi-version: 1.13\n\n然后Ctrl+S保存一下 选择我们的项目 输入文件名称plugin.yml单击ok\n\n\n\n\n\nimage.png (15.56 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:31 上传\n\n\n\n\n\n\n\n到此 一个最基础的框架就好了 虽然只有加载和卸载 但是我们可以右键项目导出插件到服务器里试试\n\n\n\n\n\n\nimage.png (78.06 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:32 上传\n\n\n\n\n\n\n\n\n\nimage.png (28.44 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:32 上传\n\n\n\n\n\n\n\n\n\nimage.png (47.45 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:33 上传\n\n\n\n\n\n\n\n选择完路径点Finish 即可导出\n\n放进服务器 成功输出\n\n\n\n\nimage.png (2.52 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:44 上传\n\n\n\n\n\n\n\n\n\n\nimage.png (1.58 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 00:44 上传\n\n\n\n\n这节讲了一下概念以及搭建基础框架 \n下一节讲如何注册一个监听器 （下节开头讲解什么是监听器）第三节监听器是什么?\n从字面意思来讲 是用来监视某些东西的 \n这就像银行装监控一样 监视银行中的一举一动 如果有人抢劫 那么就会报警\n这样就起到了一个作用 就是 当某件事情发送 你要干些什么\n\n如何注册一个监听器？\n在 extends JavaPlugin后面接上一句 implements Listener\n在上次导入下面接上import org.bukkit.event.Listener;\n\n\n\n\n\nimage.png (5.69 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-8 08:54 上传\n\n\n\n\n\n然后搭建一个监听器框架\n\n\n\n\n\nimage.png (11.37 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-8 09:01 上传\n\n\n\n\n\n@EventHandlerpublic void 方法名(bukkit中的事件名称 event) {      //触发事件执行的代码}\n其中除了 方法名 和 bukkit中的事件名称 与 event都不能更改  然后方法名  这里不能与其他监听器 方法名 相同即可bukkit中的事件名称 在第 五节会讲如何查找\n这样 一个监听器就搭建好了 但是其中并没有功能\n这里我们拿一个例子来简单的解释说明下\n我需要 当玩家说 飞行 两个字即可飞行 再说一遍即可关闭飞行\n这是一个很简单的功能 但是 在这个 当玩家说 飞行 两个字 的时候 我们无法判断 他什么时候说这两个字 以及他说没说\n这时候我们就需要用到一个玩家聊天这个事件了 \n\n玩家XXX 说出一句话 检测他说的话中是否包含 飞行\n如果他说的话包含 将他的飞行模式设置为 当前模式相反\n即 当前模式为true设置为false 当前模式为false 设置为true\n如果不包含将什么也不做\n要做到 “检测他说的话” 我们就需要实现一个监听器\n就如他的名字一样 监听某个事件 然后执行某段代码\n我们需要实现下 Listener接口\n\n将 随便写 改为一个英文 如简单易懂的名字 如我们监听的事件是玩家说出一句话  那么就写chat 然后bukkit中的事件名称填\nAsyncPlayerChatEvent\n在上面导入的写上\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\n其他事件等下节教如何看javadoc\n\n我们当玩家聊天的时候执行花括号中间的代码已经搭建完成 接下来就是实现\n\n玩家XXX 说出一句话 检测他说的话中是否包含 飞行\n\n如果他说的话包含 将他的飞行模式设置为 当前模式相反\n\n即 当前模式为true设置为false 当前模式为false 设置为true\n\n我们看一下事件返回的e里面有什么 看到里面有一个getMessage()的方法 我们使用它\ne.getMessage()再使用contains()来检测其中是否包含某字符串\n记住 字符串通常情况就是用 \" \" 包括起来的字符\n如\"213123\" \"书打的\" \"dkjs41asd书打\"\n在字符串里要注意转义字符 如\\t \\a \\ \\b 具体请自行百度\n然后我们用e.getMessage().contains(\"飞行\")\n会返回一个boolean 也就是 真 假\n然后我们用if判断一下是真是假\n\n\n\n\n\nimage.png (6.45 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-8 09:24 上传\n\n\n\n\n\n然后就是设置玩家飞行模式了\n我再看看e的返回里面是不是还有个getPlayer()\n\n\n\n\n\nimage.png (101.64 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-8 09:32 上传\n\n\n\n\n\n然后在获取了该玩家在里面我们找到了setAllowFlight()\n设置运行飞行 在括号中填true 或者false\n然后我们直接set 他为 true 就是飞行模式\ne.getPlayer().setAllowFlight(true);\n但是现在还没达到我们的目的 他只会设置飞行 但是关不掉\n这个时候我们就在getPlayer()中找是不是还有一个\ngetAllowFlight() 获取玩家飞行模式\n返回值为true 或者为 false\n我们想一下 获取的为true就是可飞行 然后我们设置为他相反就是关闭飞行 所以我们要用到\n! 非\n只用记住!就是 值为true 结果为false\n值为false 结果为true\n所以在e.getPlayer().getAllowFlight()之前加上!\n\ne.getPlayer().setAllowFlight(!e.getPlayer().getAllowFlight());\n\n然后我们这样就完成了设置他飞行模式开关的操作\n然后我们为了方便展示 加上一个提示  在getPlayer()中有一个sendMessage()非常易懂 就是发送消息给玩家\n然后我们\n\ne.getPlayer().sendMessage(\"你成功切换飞行模式!\");\n\n提示一下 玩家成功执行了这个操作\n[attach]1452559[/attach]\n当你写完这么一个监听 是无法运行的 因为我们还没在bukkit中注册\n在插件开始的地方写下\nBukkit.getPluginManager().registerEvents(this, this);\n\n\n\n\n\nimage.png (7.66 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-8 09:48 上传\n\n\n\n\n\n就可以正常运行了 然后我们导出 扔进服务器看看吧\n\n\n\n\nfile_1581127772000.jpg (70.47 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-8 10:09 上传\n\n\n\n\n如果你的版本>=1.13报错了并且有以下\njava.lang.IllegalStateException: Asynchronous player tracker update!\n那么只需要将\n\ne.getPlayer().setAllowFlight(!e.getPlayer().getAllowFlight());\n\n改成\nBukkit.getScheduler().runTask(this, new Runnable() {\n@Override\npublic void run() {\n       e.getPlayer().setAllowFlight(!e.getPlayer().getAllowFlight());\n }\n});\n作用是将此代码同步在主线程运行 涉及到玩家某些操作如果异步将会产生某些错误 所以高版本将会抛出\nAsynchronous player tracker update!\n第四节注册一个指令\nplugin里\n新增一行\ncommands:\n    demo:\n其中demo就是你注册的指令\n\n然后我们在项目中新建一个类叫做MyCommand 这个名字随意\n然后他是这样的\npackage com.wcpe.demo;\n\npublic class MyCommand{\n\n}\n\n在 class MyCommand后空格加上CommandExecutor\n再写上import org.bukkit.command.CommandExecutor;\n再拿鼠标靠近MyCommand上点 第一行绿色的字\n他会自动添加\n\n@Override\npublic boolean onCommand(CommandSender arg0, Command arg1, String arg2, String[] arg3) {\n// TODO\nreturn false;\n}\n\n所以我们现在的代码是这样的\n\n\n\n然后我们在插件的主类Main中 找到我们开始的地方 在bukkit中注册一下指令\n写上这么一行\nBukkit.getPluginCommand(\"demo\").setExecutor(new MyCommand());\n\n直接复制 把demo改成你的指令 必须和plugin一样 后面的MyCommand就是你的类名称\n\n注册完指令 你就导出 扔到服务器里试试 是不是不会弹出\nUnknown command. Type \"/help\" for help.\n但是 什么也没有 一句话也不会提示\n如果是这样就对了 因为你只注册了指令 功能什么还没有\n这个时候我们就应该给他加点功能\n\narg0 为指令发送者 是我们要用的 当然你也可以改成顺手的\nplayer 或者p 这都是随便你的\n我们改成p 然后在下面写你需要的代码\n我们给执行指令的人发送一句话 世界你好\n我们要给发送指令的玩家发送 就需要找到那个玩家\n然后刚好上面的arg0就是指令发送的玩家我们直接\n\np.然后会出现一个框 我们翻翻看看\n\n\n\n很简单的英文都能大概理解意思 如果看不懂不要紧 等下一节\n看javadoc文档\n然后我们找到sendMessage();发送信息\n\n然后就是p.sendMessage(\"世界你好\");\n就变成这样\n\n\n然后我们保存 打包扔进服务器试试\n\n玩家可以发送指令 后台是不是也能发送指令？\n但是玩家 有生命值 攻击力 而后台有吗？\n答案是肯定没有的\n所以在指令执行 我们需要做个区分 让玩家执行指令是一种情况\n后台执行又是一种情况\n就要用到\nif\n这段不讲 直接复制\nif(p instanceof Player) {\n\n}else{\n}\n\n在花括号中的就是玩家所执行的 而else里的花括号就是非玩家\n也就是控制台所执行的代码\n接着分别给他们两个发送一句话\n如果是玩家我们就发送 玩家你好 后台的话就发送 后台你好\n代码将是这个样子\n\n我们打包丢后台试试 成功运行\n\n\n总结一下 其实在ide开发环境中 写简单小插件入门是极为简单容易的 许多代码提示 补全 这也是为什么我坚持的跳过java基础也能写bukkit插件  bukkit插件框架已经搭好了 你只需要填进去你的想法\n\n就基本完成 就跟几年前不温不火的pvpin 拼图的Mc编程 让小白也能创造出插件\n第五节\n\n走到bukkit 的javadoc寻找自己需要的事件\n打开最新的\nSpigot-API 1.15.2-R0.1-SNAPSHOT API\n\n如果你不会英语  \n可以使用Chrome浏览器的谷歌翻译\n\n然后我们需要找的事件 比如我要找破坏方块的事件\n破坏方块是不是要break 我们直接右上角搜索break\n再打开翻译 这里是不是就出现了break事件\n\n\n\n\n\nimage.png (46.55 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-23 18:12 上传\n\n\n\n\n\n然后点开 就会跳转到详情界面\n\n\n\n\n\nimage.png (88.99 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-23 18:13 上传\n\n\n\n\n\nBlockBreakEvent 通俗易懂 就是拆开来单词的意思 方块 打破 事件  bukkit中事件的命名基本如此\n如 :PlayerPickupItemEvent 玩家拾取物品事件\n     PlayerQuitEvent 玩家退出服务器事件\n     AsyncPlayerChatEvent 异步玩家聊天事件\n然后看到左上角这个 BlockBreakEvent\n就是事件名称\n就可以复制到下面中去了\n        @EventHandler\n        public void 随便写(bukkit中的事件名称 e) {\n                //触发事件执行的代码\n        }\n\n\n打开事件详情 打开翻译\n\n这里就是能用到的方法 打开翻译也并不是很多错误 可以看明白就行\n这些方法就是在e.接上方法名\n@EventHandler\npublic void 随便写(bukkit中的事件名称 e) {\n//触发事件执行的代码\n}\n就可以获得了 如e.getPlayer(); 获得破坏此方块的玩家   \n\n\n\n\nimage.png (31.47 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-23 18:27 上传\n\n\n\n\n\n总结一下 谷歌翻译 也是非常适合不会英文逛英文网站的 虽然说意思不会非常准确 但是能大概摸出本来意思\n如果你有什么代码不会写或者不理解 善用百度 是非常好的\n照样 举个例子 比如我现在想获取现在的时间 就可以在百度中搜索\njava中如何获取时间 在一些论坛 博客 诸如 博客园 CSDN等地方\n都会有许多热心的人回答 然后你都可以从中copy 下来学习\n代码开始不熟悉不要紧 打的多了就会成肌肉记忆\n\n\n如果你不习惯可以去国内优秀翻译者翻译的bukkit javadoc\n\n第一节\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "Da_Hao_ZI2333",
            "timestamp": 1581095640,
            "txt_content": "大佬，太秀了，前来支持一下"
        },
        {
            "author": "lxwznb",
            "timestamp": 1581097560,
            "txt_content": "66666666666"
        },
        {
            "author": "肆火",
            "timestamp": 1581124800,
            "txt_content": " 本帖最后由 肆火 于 2020-2-8 09:30 编辑 \n\n支持一下，够直接。\n这个只适合快速做一些简单的小插件，\n如果大家想做一些神奇(FlyPig)的插件，请不要跳过Java基础。\n不然就和楼下一样。\n"
        },
        {
            "author": "dsjjyfsj123",
            "timestamp": 1581125160,
            "txt_content": "\n\n\n\n\nQQ图片20200208092559.jpg (31.95 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-8 09:26 上传\n\n\n\n\n\n"
        },
        {
            "author": "1837019522",
            "timestamp": 1581127560,
            "txt_content": "肆火 发表于 2020-2-8 09:20\n支持一下，够直接。\n这个只适合快速做一些简单的小插件，\n如果大家想做一些神奇(FlyPig)的插件，请不要跳过 ...\n开头就说了 适合想写小插件 但不会java"
        },
        {
            "author": "1837019522",
            "timestamp": 1581128100,
            "txt_content": "dsjjyfsj123 发表于 2020-2-8 09:26\n我觉得海星"
        },
        {
            "author": "猿汐",
            "timestamp": 1581139980,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "富贵·李",
            "timestamp": 1581475500,
            "txt_content": "一直都在用Skript，准备开始学java了"
        },
        {
            "author": "瑾某人",
            "timestamp": 1581484380,
            "txt_content": "富贵·李 发表于 2020-2-12 10:45\n一直都在用Skript，准备开始学java了\n准备学Java就直接去学习,没必要先来学插件开发,因为你会听不懂"
        },
        {
            "author": "1837019522",
            "timestamp": 1581488220,
            "txt_content": "富贵·李 发表于 2020-2-12 10:45\n一直都在用Skript，准备开始学java了\n对的 准备学java就好好学   我这只是教临时需要"
        },
        {
            "author": "年少轻风",
            "timestamp": 1581490380,
            "txt_content": "完全听不懂，告辞告辞"
        },
        {
            "author": "Detain_Song",
            "timestamp": 1582774080,
            "txt_content": "跳过java基础太秀了"
        },
        {
            "author": "RainIFunS",
            "timestamp": 1582781760,
            "txt_content": "1837019522 发表于 2020-2-7 23:06\n开头就说了 适合想写小插件 但不会java\n我觉得有英语基础，问题就不大"
        },
        {
            "author": "玄月月",
            "timestamp": 1583402040,
            "txt_content": "真他娘是个人才，你总能给我玩点新花样出来，话不多说上图"
        },
        {
            "author": "William_Shi",
            "timestamp": 1583406360,
            "txt_content": "朱明华 发表于 2020-3-5 17:54\n真他娘是个人才，你总能给我玩点新花样出来，话不多说上图\n说得对，跳过Java基础的话会出很多问题\n有些新人可能会写出莫名其妙的语句\n甚至是直接cv自己完全不了解的代码"
        },
        {
            "author": "William_Shi",
            "timestamp": 1583406660,
            "txt_content": " 本帖最后由 William_Shi 于 2020-3-5 19:23 编辑 \n\n我认为我们需要的其实是一些关于游戏内程序设计的教程\n比如说 教新人如何把自己的一些想法 转换成事件监听+判断对应条件\n现在有些新人连如何监听玩家左键都不知道\n我个人认为更需要的是一些零零碎碎的程序设计教程\n而且是在阅读者已经掌握基本Java或kotlin等基础知识这一前提下的\n\n如果跳过Java基础学开发，尤其是一点点编程思想都没有的话\n日后你如果想要开发一个更为复杂的插件会再想去学的\n\n\n——来自一个三年前会一点js就直接上手java去进行bukkit插件开发走了无数弯路的开发者"
        },
        {
            "author": "米奇可",
            "timestamp": 1583468880,
            "txt_content": "main:com.wcpe.demo.Main\n少個ˊ空格"
        },
        {
            "author": "wordangyou",
            "timestamp": 1584449040,
            "txt_content": "\n谢谢楼主分享"
        },
        {
            "author": "xiaohan321",
            "timestamp": 1584792720,
            "txt_content": "6666666666666666666666666"
        },
        {
            "author": "yangmyzbq",
            "timestamp": 1585203420,
            "txt_content": "大佬第4节的代码是不是没有发出来啊，我按照你的写出来为什么是错的"
        },
        {
            "author": "1837019522",
            "timestamp": 1585204020,
            "txt_content": "yangmyzbq 发表于 2020-3-26 14:17\n大佬第4节的代码是不是没有发出来啊，我按照你的写出来为什么是错的\n说的是哪部分 第四节及以后几节都是之前写的 还没更新"
        },
        {
            "author": "yangmyzbq",
            "timestamp": 1585214580,
            "txt_content": "1837019522 发表于 2020-3-26 14:27\n说的是哪部分 第四节及以后几节都是之前写的 还没更新\n了解了，原来是没更新\n在您回复我的时间我竟然自己捣鼓出来了qwq"
        },
        {
            "author": "殇黎",
            "timestamp": 1585216380,
            "txt_content": "很好，非常棒，谢谢了"
        }
    ]
}