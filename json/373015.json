{
    "title": "【TRP】模型材质的文件解析与注意事项",
    "author": "719823597",
    "replyCount": 21,
    "timestamp": 1418047080,
    "txt_content": " 本帖最后由 719823597 于 2014-12-8 22:00 编辑 \n\n模型材质是1.8的新特性，我们打开1.8的1.8.jar\\assets\\minecraft后可以看到里面多了两个文件夹，一个是blockstates，另一个是models，现在我们来讲讲blockstates里的文件。\n\n拿blockstates\\torch.json来做例子（和下文的torch.json不同，是两个文件）\n{\n\n\"variants\": {\n\n\"facing=up\": { \"model\": \"normal_torch\" },\n\n\"facing=east\": { \"model\": \"normal_torch_wall\" },\n\n\"facing=south\": { \"model\": \"normal_torch_wall\", \"y\": 90 },\n\n\"facing=west\": { \"model\": \"normal_torch_wall\", \"y\": 180 },\n\n\"facing=north\": { \"model\": \"normal_torch_wall\", \"y\": 270 }\n\n}\n\n}复制代码\n\n\n这是里面的内容，variants是一个数组，\"facing=XXX\"是里面的元素，这5个元素代表着火把(torch)的5个状态，分别是朝上、朝东、朝南、朝西、朝北\n\n简单来讲，一行对应方块的一个状态，\"model\"里是这个状态用到的模型文件的名称，后面的\"y\"是模型旋转n度。从代码中可以看出火把有两个模型(model)文件，一个叫normal_torch (.json)，另一个叫normal_torch_wall (.json)，我们可以去model\\block文件夹里找到这两个文件\n\n\n\n\n\n{\n\n\"parent\": \"block/torch\",\n\n\"textures\": {\n\n\"torch\": \"blocks/torch_on\"\n\n}\n\n}复制代码\n\n\n\n\n\n\n这是normal_torch.json里的内容，里面没有任何的模型信息，只有材质路径，这并不奇怪，因为有\"parent\"在，意味着这个模型继承了block文件夹下的torch.json里的模型信息，我们可以打开torch.json看看\n\n\n\n\n{\n\n\"ambientocclusion\": false,\n\n\"textures\": {\n\n\"particle\": \"#torch\"\n\n},\n\n\"elements\": [\n\n{   \"from\": [ 7, 0, 7 ],\n\n\"to\": [ 9, 10, 9 ],\n\n\"shade\": false,\n\n\"faces\": {\n\n\"down\": { \"uv\": [ 7, 13, 9, 15 ], \"texture\": \"#torch\" },\n\n\"up\":   { \"uv\": [ 7,  6, 9,  8 ], \"texture\": \"#torch\" }\n\n}\n\n},\n\n{   \"from\": [ 7, 0, 0 ],\n\n\"to\": [ 9, 16, 16 ],\n\n\"shade\": false,\n\n\"faces\": {\n\n\"west\": { \"uv\": [ 0, 0, 16, 16 ], \"texture\": \"#torch\" },\n\n\"east\": { \"uv\": [ 0, 0, 16, 16 ], \"texture\": \"#torch\" }\n\n}\n\n},\n\n{   \"from\": [ 0, 0, 7 ],\n\n\"to\": [ 16, 16, 9 ],\n\n\"shade\": false,\n\n\"faces\": {\n\n\"north\": { \"uv\": [ 0, 0, 16, 16 ], \"texture\": \"#torch\" },\n\n\"south\": { \"uv\": [ 0, 0, 16, 16 ], \"texture\": \"#torch\" }\n\n}\n\n}\n\n]复制代码\n\n\n\n\n\n\n\n\n\"elements\"也是个数组，里面储存了方块模型的信息，可以用编辑器去生成。\n\n\n\n注意，torch.json这个文件是无法成为一个直接被调用的模型的，因为\"texture\"里写的是#torch，这不是完整的材质路径。\n\n你可以返回去看看normal_torch.json里的\"textures\"，里面写的是\"torch\": \"blocks/torch_on\"，两者都有个\"torch\"，这不是巧合，我们再来回顾下两者间的关系：\n\ntorch.json\n\n└ normal_torch.json\n\n所以#torch只是个中间值，torch.json提供了模型的信息，然后留出了一个材质接口（姑且称之为接口）叫做#torch，一切继承（以它为父模型）于它的子模型都可以使用这个接口。\n\n每当游戏要用到normal_torch.json这个模型时，会主动去找他的父模型（torch.json\n\n），然后把子模型（normal_torch.json）的#torch里的材质路径发给父模型。\n\n这样做的优点是可以让多个方块状态共用一个模型。\n\n\n\n\n\n\n\n [groupid=143]The Redpixel[/groupid]",
    "replies": [
        {
            "author": "a2455564728",
            "timestamp": 1418047440,
            "txt_content": "度度萌，度度好厉害。"
        },
        {
            "author": "Siri",
            "timestamp": 1418047500,
            "txt_content": "度度萌，度度好厉害。"
        },
        {
            "author": "apan0127",
            "timestamp": 1418047620,
            "txt_content": "度兽萌，度兽好厉害。"
        },
        {
            "author": "719823597",
            "timestamp": 1418047680,
            "txt_content": "simon3000 发表于 2014-12-8 22:09\n没细节 差评→_→\n慢慢来 这只是第一篇"
        },
        {
            "author": "a20001017",
            "timestamp": 1418047740,
            "txt_content": "度受好厉害！"
        },
        {
            "author": "simon3000",
            "timestamp": 1418047740,
            "txt_content": "没细节 差评→_→"
        },
        {
            "author": "熊猫丶晓能",
            "timestamp": 1418048400,
            "txt_content": "啥姐好厉害=A=【好想丢节操【"
        },
        {
            "author": "jianghr",
            "timestamp": 1418049720,
            "txt_content": "一回来就看见度度了，第一眼看上去还是觉得这个还相当编程开发向的内容{:10_493:}\n不过这是算是度度自留地，放这里吧。\n从第一段代码看起来是方块数据值和model的对应。后面的就不甚明白。"
        },
        {
            "author": "719823597",
            "timestamp": 1418049840,
            "txt_content": "jianghr 发表于 2014-12-8 22:42\n一回来就看见度度了，第一眼看上去还是觉得这个还相当编程开发向的内容\n不过这是算是度度自留地 ...\n上QQ聊            "
        },
        {
            "author": "鱼青余",
            "timestamp": 1418049900,
            "txt_content": "看不懂     .."
        },
        {
            "author": "北美路人",
            "timestamp": 1418050260,
            "txt_content": "萌萌的，\n\n看起来好厉害"
        },
        {
            "author": "PTmissionary",
            "timestamp": 1418050620,
            "txt_content": "yayayaya.\n度度度度。"
        },
        {
            "author": "pacerrecap",
            "timestamp": 1418061480,
            "txt_content": "发现蠹蠹，大师球扣住慢慢理解"
        },
        {
            "author": "Wolverine",
            "timestamp": 1418079120,
            "txt_content": "对此表示挺感兴趣的~"
        },
        {
            "author": "末影矿工",
            "timestamp": 1418133240,
            "txt_content": "Wolverine 发表于 2014-12-9 06:52\n对此表示挺感兴趣的~\n你终于换头像了2333"
        },
        {
            "author": "Wolverine",
            "timestamp": 1418152980,
            "txt_content": "末影矿工 发表于 2014-12-9 06:54\n你终于换头像了2333\n你也换头像了～233"
        },
        {
            "author": "绯色黄昏",
            "timestamp": 1418354940,
            "txt_content": "好高大上啊，看不懂= =||"
        },
        {
            "author": "🍞bread",
            "timestamp": 1424537940,
            "txt_content": "不明觉厉        "
        },
        {
            "author": "Ninja_Zbw",
            "timestamp": 1424851620,
            "txt_content": "请问1.8的材质包比如Conquest，为啥解压之后可以看到里面都是.JSON文件找不到贴图.PNG文件？"
        },
        {
            "author": "719823597",
            "timestamp": 1424886660,
            "txt_content": "Ninja_Zbw 发表于 2015-2-25 16:07\n请问1.8的材质包比如Conquest，为啥解压之后可以看到里面都是.JSON文件找不到贴图.PNG文件？ ...\n没研究过 不太清楚 不好意思"
        },
        {
            "author": "167832391",
            "timestamp": 1568524920,
            "txt_content": "楼主最帅"
        }
    ]
}