{
    "title": "[已解决] 区域保护问题",
    "author": "jued_huangjim",
    "replyCount": 3,
    "timestamp": 1588590180,
    "txt_content": " 本帖最后由 jued_huangjim 于 2020-5-4 20:59 编辑 \n\n怎么做到和res那种保护区域，而且支持上万区域都不掉tps\n我只需要阻止玩家破坏和放置，做感觉都不太理想，都是掉tps\n",
    "replies": [
        {
            "author": "笨熊熊",
            "timestamp": 1588590720,
            "txt_content": "https://www.mcbbs.net/thread-812491-1-1.html"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1588591320,
            "txt_content": "很早之前看过这个帖子了https://www.mcbbs.net/thread-812491-1-1.html\n\n当时刚看到我是有点懵了\n啥叫新建一个类来储存领地\n\n后来大概明白了\n\n就是想声明一个变量一样 先去新建一个类 在初始化部分传入参数\n然后通过内部方法进行判定\n\n效率更高\n比如说我现在要新一个领地\n\npublic class Ground{\n    private Location loc1,loc2;\n    private String groundname;\n    public ground(Location location1,Location location2,String name){\n        this.loc1=location1;\n        this.loc2=location2;\n        this.groundname=name;\n    }\n    public boolean isPlayerInGround(Player player){\n        //判定玩家坐标是否在loc1和loc2之间\n        return false;\n    }\n}\n复制代码\n\n使用的时候就像这样\n\n//可以写在监听BlockBreakEvent中\n    Ground g = new Ground();//这一步应该在插件加载的时候初始化 或者在创建新领地的时候加入到插件初始化的list之类中\n    if(g.isPlayerInGround(player)){\n        e.setCancelled(true);\n    }\n复制代码"
        },
        {
            "author": "William_Shi",
            "timestamp": 1588592340,
            "txt_content": "boolean        isInAABB(Vector min, Vector max)\n判断本向量是否在一个AABB包围盒中.\nboolean        isInSphere(Vector origin, double radius)\n判断本向量是否在一个球形空间中.\n\n上面二位说的很详细\n我给一个提高效率的建议\n使用向量的是否处于某区域方法\n我看似乎类似于WorldEdit这类插件是使用vector做了遍历的\n说明vector效率应该相对高些"
        }
    ]
}