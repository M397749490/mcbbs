{
    "title": "1.10（或者1.9）盔甲架(ArmorStand)NBT标签DisabledSlots的运用规则",
    "author": "路人甲乙丙",
    "replyCount": 4,
    "timestamp": 1468142280,
    "txt_content": " 本帖最后由 路人甲乙丙 于 2016-7-11 11:50 编辑 \n\n最近两天参考了中文和外文网站上的关于盔甲架(ArmorStand)的NBT标签中DisabledSlots的运用规则，感觉大部分都很难理解，而另外一部分可以理解的，却又不适合1.10（1.9）。在此总结了下如何解析DisabledSlots的值和利用DisabledSlots的值。\n\n首先要知道：\n1.DisabledSlots的值是Int型的，即取值范围为“介于 -2147483648 和 2147483647 之间 (包含) 的整数。”（来自wiki：http://minecraft-zh.gamepedia.com/命令——即wiki的“命令”页）。由于这个原因，在输入DisabledSlots的值时不要在这个数值后面加后缀。（题外话：像Byte、Short、Float、Double型的数据才要加这个类型的英文单词的首字母（小写/大写）作为后缀，例如1b啊，3.0f,啊，3.0F啊。如果那个数据是小数而且要求是Double，你又没有在末尾加d，就会被识别成Float型而出错。）\n2.脚部就是指靴子，腿部就是指裤子，上身就是指胸甲，头部就是指头盔。\n3.DisabledSlots是两个英文单词的合称，意思是“被废除的”“槽位”。\n4.下文说到的“禁止放置”“禁止替换”“禁止移除”，其实都是对物品而言的，意思是“禁止物品的放置”“禁止物品的替换”“禁止物品的移除”。5.盔甲架有5个物品栏（如果不计副手的话），每一个物品栏又有3种与玩家的交互（即放置、替换、移除），因此共有15个可以禁止的交互，共有2^15种情况。\n6.副手物品可能不算手持物品（未研究过）。\n\n\n\n事实上解析规则如下：\n第一步判断：\n如果DisabledSlots的值是奇数，那么就如wiki所说（http://minecraft-zh.gamepedia.com/区块格式——即wiki的“区块格式”页），“如果标示1那是个特例:它会禁用所有部位的移除，对手持物品的放置与替换”。它的意思是指当DisabledSlots的值的二进制形式的个位（姑且称为右数第一位）为1时（就是当十进制值为奇数时），会禁用所有部位的移除并且禁用手持物品的所有交互。这很坑，要注意。\n如果DisabledSlots的值是偶数，那么就没有影响。\n第二步判断：\n将DisabledSlots的值从十进制化为二进制。如3=11(2)，18=10010(2)，2096896=111111111111100000000(2)。然后补全到21个位，例如18=000000000000000010010(2)。接着，按\n    1.“手持物品——+1位，脚部——+2位，腿部——+3位，上身——+4位，头部+5位”，\n    2.“禁止该部位的所有交互（交流互动）——+0位，禁止在该部位替换和移除——+8位，禁止在该部位放置——+16位”，\n    3“1代表禁止，0代表不禁止”\n的这三个原则判断每一个位（其中右数第6、7、8、14、15、16位不用判断）属于哪一个部位的哪一种禁止行为，又是否禁止。例如要禁止上身的替换和移除，就将二进制的第12位改为1。第三步判断：\n结合第一步判断和第二步判断，如果某个部位的某种动作在其中一个判断中已经明确被禁止了，那么它就是禁止的；如果在两步判断都没有明确禁止，那就是可以交互的。\n这时候，精通数学的人可以看出其中是有数学奥秘的……\n\n\n\n\n讲完了解析规则，到举例子了\n先来个简单点的：DisabledSlots:131328。先换成二进制并补全，变成000100000000100000000。不看那些0（因为它们仅仅意味着没有事情发生），我们看那两个1。那么，右数第九位的1代表着禁止手持物品的替换和移除，右数第十八位代表着禁止脚部的放置。所以综上所述，有这个NBT标签的盔甲架会让你所放到它手上（如果它有手臂的话，即如果它有标签ShowArms:1b的话。没有手就放不了）的那个物品（剑也好，一块木板也罢）既拿不下来也换不了，同时，让它穿靴子（脚部物品）变得不能执行。\n再来个困难点的DisabledSlots:1398100。转换成二进制是101010101010101010100（腿部、头部、手持物品不能任何交互，脚部、上身能任意交互）（注意哦：右数第6、7、8、14、15、16位不用判断）\n3.DisabledSlots:1181952。转换成二进制是100100000100100000000（现在我发现上色变成100100000100100000000更容易判断）（腿部的裤子没有交互禁止，可以随便；手持物品和上身都能放置但不能替换且不能移除，头部和脚部则都能替换和移除但是放不上去了）\n4.DisabledSlots:513。转换成二进制是1000000001（000000000001000000001）（因为是个奇数，所以手持物品不能交互。脚部、腿部、上身、头部都能放置和替换但都不能移除）\n5.DisabledSlots:3。就是废掉胳膊和靴子（禁止交互），其他3个部位能放、能换、却不能拿走。\n6.DisabledSlots:131073（000100000000000000001）（这是个奇数。废掉了手，靴子不能放、能替换、不能拿走（不能拿走是因为奇数），其他都能放、能替换、不能拿走）（注意靴子与其他3个部位（即除手持物品的腿部、上身、头部）的对比）\n\n\n讲完了解析，应该懂得应用了吧！就只是逆着思考而已。\n\n\nDisabledSlots这个标签我感觉潜力无限，就算现在没有用，以后也可能有用的，特别是对我们这些minecraft爱好者来说。\n\n\n温馨提示：\n1.我这份资料中，副手槽的手持物品未研究。\n2.其实，可以通过2的某次方的和来表示DisabledSlots，\n        1.“手持物品——2^0，脚部——2^1，腿部——2^2，上身——2^3，头部2^4”（注意哦，不是2^1，2^2……2^5），\n        2.“禁止该部位的所有交互（交流互动）——指数+0，禁止在该部位替换和移除——指数+8，禁止在该部位放置——指数+16”，例如上面的第三个例子1181952，其实有1181952=2^20+2^17+2^11+2^8=2^(4+16)+2^(1+16)+2^(3+8)+2^(0+8)，将指数分解成两个数的和后，可以清楚看到一个和对应禁止的部位，另一个和对应禁止的行为。\n3.不要填奇数，会引起不必要的麻烦（见第一步判断）。除非你觉得有必要像例子6那样使得一个非手持物品的位置只能替换而不能放置和移除。\n4.强调：禁止行为有：禁止放置、禁止替换、禁止移除三种，三种禁止行为合称为禁止全部交互。\n5.实际上我真的很搞不懂为什么要在1.9的改版弄成这样....（http://minecraft.gamepedia.com/15w51b）。6.我用的是1.10.2。\n如有缺漏错误，及时纠正谢谢。我的邮箱是542176119@qq.com\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "夜里看天",
            "timestamp": 1468396200,
            "txt_content": "发现【沙发】*1\n迅速捡起\n（好牛逼的规律）"
        },
        {
            "author": "乙烯_中国",
            "timestamp": 1468396380,
            "txt_content": "论坛总算是好了，这里我读了一下，帖子内容说的是很不错，但是略微有点不直观，字也有有点小了，楼主可以考虑加大一些关键的字的字号，以及适当配一些图来。"
        },
        {
            "author": "Maro丨马络",
            "timestamp": 1468585380,
            "txt_content": "很详细很良心呀"
        },
        {
            "author": "Mithey",
            "timestamp": 1490794380,
            "txt_content": "厉害啊。好贴没人回复"
        }
    ]
}