{
    "title": "[CBL|2b]数组二进制运算 - 移位&异或",
    "author": "⭐✔️",
    "replyCount": 1,
    "timestamp": 1491275100,
    "txt_content": " 本帖最后由 贰逼 于 2019-3-7 23:05 编辑 \n\n你还记得上次这个帖子吗（点击进入）\n（图片已修复，建议大家使用微博图床）\n这次我们将这个项目进一步完善，现在新增了三个模块：xors()、Leftshift(int length)、Rightshift(int length)\n第一个模块是void，直接进行异或运算；\n第二个，第三个需要一个具体的值，代表左移/右移长度。\n\n目录\nP1 预览&相关链接\nP2 二进制移位操作&指令源码\nP3 二进制异或操作&指令源码\nP4 存档&.pcb\n\n这便是新增的两个模块\n\n至于什么是异或、移位，可以百科（比本人讲的清楚）：\n异或\n左移\n右移\n原理非常简单，有了之前搭建好的操作框架，这三个功能的实现也就并不难；\n如果还不清楚，可以直接看后面帖子，通过展示如何操作你也可以理解。\n二进制移位操作\n\n首先输入一个二进制数字，10111\n左移\n\n给计分板‘Leftshift’加分，对象是全体number1，分数代表左移长度\n\n接着10111左移三位成为10111000\n右移\n\n给计分板‘Rightshift’加分，对象是全体number1，分数代表右移长度\n\n接着10111000右移五位成为101\n\n源码：\n//左移\nrcb:/tp @e[tag=number1,score_Leftshift_min=1] ~1 ~ ~\n*全体移位\ncond:execute @e[tag=Tper] ~ ~ ~ execute @e[tag=number1,score_Leftshift_min=1,c=-1] ~ ~ ~ summon armor_stand ~-1 ~ ~ {Tags:[lshift,num0s,bit,number1],CustomName:0,CustomNameVisible:1}\n*起始位生成一个新的'0'\ncond:/tp @e[tag=Tper] ~1 ~ ~\n*标记移位\n/scoreboard players operation @e[tag=lshift] Leftshift = @e[tag=number1,score_Leftshift_min=1] Leftshift\n/scoreboard players tag @e[tag=lshift] remove lshift\n/scoreboard players reset @e[tag=number1,score_Leftshift=0] Leftshift\n/scoreboard players remove @e[tag=number1,score_Leftshift_min=1] Leftshift 1\n*组成一个循环\n//右移\nrcb:/tp @e[tag=number1,score_Rightshift_min=1] ~-1 ~ ~\n*全体移位\ncond:execute @e[tag=Tper] ~ ~ ~ kill @e[tag=number1,score_Rightshift_min=1,c=-1]\n*清除起始位的数字\ncond:/tp @e[tag=Tper] ~1 ~ ~\n*标记移位\n/scoreboard players reset @e[tag=number1,score_Rightshift=0] Rightshift\n/scoreboard players remove @e[tag=number1,score_Rightshift_min=1] Rightshift 1\n*组成一个循环复制代码\n二进制异或操作\n\n两个二进制数字101100101，101011010\n\n按下这个按钮，调用xors()\n\n得到结果。（相同取0，不同取1）\n   101100101\n   101011010\n得000111111\n源码：\n//预操作\nrcb:/execute @p[tag=xors] ~ ~ ~ scoreboard players tag @e[tag=bit] add xord0\n/execute @p[tag=xors] ~ ~ ~ /execute @e[tag=number1] ~ ~ ~ /scoreboard players tag @e[tag=number2,r=0] add xord2\n/execute @p[tag=xors] ~ ~ ~ /execute @e[tag=number2] ~ ~ ~ /scoreboard players tag @e[tag=number1,r=0] add xord1\n*取重合的数字分别标记xord2,xord1\n/execute @p[tag=xors] ~ ~ ~  /scoreboard players tag @e[tag=xord1] remove xord0\n/execute @p[tag=xors] ~ ~ ~  /scoreboard players tag @e[tag=xord2] remove xord0\n*没有重合的数字是xord0\n//操作\n/execute @p[tag=xors] ~ ~ ~ execute @e[tag=xord2] ~ ~ ~ scoreboard players operation @e[tag=xord2,r=0] str -= @e[tag=xord1,r=0] str\n*重合的数字相减\n/execute @p[tag=xors] ~ ~ ~ /execute @e[tag=xord2,score_str=0,score_str_min=0] ~ ~ ~ scoreboard players tag @e[tag=xord1,r=0] add isxor\n*如果相减得零，标记isxor，表示相同\n/execute @p[tag=xors] ~ ~ ~ scoreboard players tag @e[tag=xord0,score_str=0] add isxor\n*如果不重合的数字为0，标记isxor，表示相同\n//结束\n/execute @p[tag=xors] ~ ~ ~ execute @p[tag=xors] ~ ~ ~ kill @e[tag=xord2]\n*消除重合部分的标记为xord2的数字\n/execute @p[tag=xors] ~ ~ ~ scoreboard players set @e[tag=bit] str 1\n/execute @p[tag=xors] ~ ~ ~ scoreboard players set @e[tag=isxor] str 0\n*所有二进制数字取1，相同的设为0，所以不同的就是1了\n/execute @p[tag=xors] ~ ~ ~ scoreboard players tag @e[tag=isxor] remove isxor\n/execute @p[tag=xors] ~ ~ ~ scoreboard players tag @e[tag=xord0] remove xor0\n/execute @p[tag=xors] ~ ~ ~ scoreboard players tag @e[tag=xord1] remove xor1\n/execute @p[tag=xors] ~ ~ ~ scoreboard players tag @p remove xors\n*重置模块复制代码\n仍未封装完成，将会持续更新：http://pan.baidu.com/s/1c2ouhG0\n\n\n\n二进制2.rar\n(925 Bytes, 下载次数: 1)\n\n\n\n2017-4-4 11:14 上传\n点击文件名下载附件\n.pcb源文件\n\n\n\n\n[groupid=546]Command Block Logic[/groupid]",
    "replies": [
        {
            "author": "彪悍的新手",
            "timestamp": 1491277200,
            "txt_content": "这真的是dalao了233\n话说之前我也有想过造数组运算之类的东西\n但是没有成功弃坑了"
        }
    ]
}