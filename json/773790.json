{
    "title": "1.9个别防止npc被刷掉的装置失效",
    "author": "mineconan",
    "replyCount": 3,
    "timestamp": 1514784300,
    "txt_content": "一种npc，外表上不是村民，右键后却可以打开交易界面：\n（就是在npc的同一位置召唤一个隐形村民）\n\n\n由于玩家离怪物太远npc会被刷掉，这种npc需要一个防刷装置：\n（外显部分：就是那个僵尸。交易部分：隐形村民。）\n（等等村民会被刷掉吗？）\n\n召唤装置rcb（循环命令方块）指令：/testfor @e[type=Zombie,tag=xxx]\ntp装置rcb指令：/execute @e[type=Zombie,tag=xxx] ~ ~ ~ tp @e[type=Zombie,tag=xxx] x y z\n召唤装置的原理很简单，rcb探测到npc，比较器输出信号，给蓝色黏土充能，从而使火把熄灭（就是非门）。如果npc消失了，rcb探测不到，通过非门，红石火把亮起，激活召唤npc的cb，然后rcb探测到npc，如此循环\n但是这些装置有些会失效\n我给某个npc弄了这些装置，即使npc在，比较器也没有输出信号，无论是召唤装置还是tp装置rcb都没有输出\n我检查过了，tag没有输错\n",
    "replies": [
        {
            "author": "pineapple_",
            "timestamp": 1514784300,
            "txt_content": "emmm先说最简单的做法\n村民一般情况下不会消失\n只要给僵尸命名就不会消失了加个CustomName:\"\"\n不想让玩家推走它们，只需要给它们两个先加上tag:nobox\n在两个生物的生成命令中加上这个标签Tags:[\"nobox\"]\n例如/summon Zombie ~ ~ ~ {Tags:[\"nobox\"]}\n然后利用team取消它们对其他实体的碰撞\n/scoreboard teams add nobox\n/scoreboard teams option nobox collisionRule never\n/scoreboard teams join nobox @e[tag=nobox]\n这样它们就不会被玩家推走了，但是会被打退，所以给他们加个Invulnerable:1标签即可\n（仍然会被创造模式玩家击退）\n\n上面这种方法1个命令方块都用不上\n如果不想给僵尸命名，还是要用几个命令的\n碰撞问题还和上面一样\n村民是不会刷掉的\n问题就只有僵尸会由于区块而被清除\n既然村民是一直存在的\n就利用村民检测自己所在位置是否存在特定tag的僵尸\n在summon时为一个生物添加多个tag就是在Tags:[]标签里多写几个\n例如/summon Zombie ~ ~ ~ {Tags:[\"nobox\",\"npc1\"]}\n玩家手动summon生成带有nobox和npc1标签的Invulnerable:1的僵尸和村民并设置好碰撞\n高频下面命令\n保持开启从左到右\n/execute @e[tag=npc1,type=Villager] ~ ~ ~ scoreboard players tag @e[r=1,c=1,tag=!nozombie] add nozombie\n/execute @e[tag=npc1,type=Zombie] ~ ~ ~ scoreboard players tag @e[tag=npc1,type=Villager,c=1,r=1] remove nozombie\n/execute @e[tag=nozombie] ~ ~ ~ summon 带有标签的僵尸（就是把刚刚那条summon粘贴在这前面加上/execute @e[tag=nozombie] ~ ~ ~ ）\n如果一个带有npc1标签的村民没有nozombie标签就给他加一个nozombie标签\n如果有僵尸，僵尸把最近的村民的nozombie标签清掉\n如果村民的nozombie没有被清掉，说明僵尸没了，就生成一个僵尸\n\n不同的npc要用不同的标签区分开，不然会可能会使村民和僵尸匹配错误"
        },
        {
            "author": "3436225579",
            "timestamp": 1514785680,
            "txt_content": "e 呃呃呃呃呃呃鹅鹅鹅鹅鹅鹅饿鹅鹅鹅饿"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1514845320,
            "txt_content": "pineapple_ 发表于 2017-12-31 19:25\nemmm先说最简单的做法\n村民一般情况下不会消失\n只要给僵尸命名就不会消失了加个CustomName:\"\"\n不可以用PersistenceRequired吗..."
        }
    ]
}