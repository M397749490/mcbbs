{
    "title": "怎么在onItemRightClick中设置另一个Block的消耗",
    "author": "wlmy",
    "replyCount": 2,
    "timestamp": 1468654800,
    "txt_content": "我想让一个物品A右键消耗方块B打出方块B的实体（实体我自己创建），之前我已经会了如何打出物品(Item)，现在我想弄方块(Block)，该怎么办？打出物品的代码是：\n\n \n    public ItemStack onItemRightClick(ItemStack itemStack, World world, EntityPlayer entityplayer)\n    {\n            boolean flag = entityplayer.capabilities.isCreativeMode;\n            if (flag || entityplayer.inventory.hasItem(Items.egg))\n            {\n                     itemStack.damageItem(1, entityplayer);\n                    entityplayer.inventory.consumeInventoryItem(Items.egg);\n                    world.playSoundAtEntity(entityplayer, \"random.bow\", 0.5F, 0.4F / (itemRand.nextFloat() * 0.4F + 0.8F));\n        if (!world.isRemote)\n        {\n                world.spawnEntityInWorld(new EntityEggMarbles(world, entityplayer));\n            }\n            }\n                return itemStack;\n    }\n}复制代码这是打出物品鸡蛋\n\n\n\n打出方块应该怎么弄：\n\n \npublic ItemStack onItemRightClick(ItemStack itemStack, World world, EntityPlayer entityplayer)\n    {\n            boolean flag = entityplayer.capabilities.isCreativeMode;\n            if (flag || entityplayer.inventory.hasItem(Blocks.cobblestone))复制代码我已试过hasItem无法更改为hasBlock，后面那个也试了。\n\n\n\n\n图片：\n \n最下面的报错不用管！\n\n\n\n\nQQ截图20160716154441.png (23.08 KB, 下载次数: 0)\n\n下载附件\n\n2016-7-16 15:47 上传\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "时透无一年",
            "timestamp": 1468654800,
            "txt_content": "hasItemStack(new ItemStack(Blocks.cobblestone))"
        },
        {
            "author": "wlmy",
            "timestamp": 1468655280,
            "txt_content": "由于论坛没有加载完成\n那个方块的错误代码：\n    public ItemStack onItemRightClick(ItemStack itemStack, World world, EntityPlayer entityplayer)\n    {\n            boolean flag = entityplayer.capabilities.isCreativeMode;\n            if (flag || entityplayer.inventory.hasItem(Blocks.cobblestone))\n            {\n                     itemStack.damageItem(1, entityplayer);\n                    entityplayer.inventory.consumeInventoryItem(Blocks.cobblestone);\n                    world.playSoundAtEntity(entityplayer, \"random.bow\", 0.5F, 0.4F / (itemRand.nextFloat() * 0.4F + 0.8F));\n        if (!world.isRemote)\n        {\n                world.spawnEntityInWorld(new EntityCobblestone(world, entityplayer));\n            }\n            }\n                return itemStack;\n    }复制代码\n\n\n"
        }
    ]
}