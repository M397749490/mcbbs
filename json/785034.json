{
    "title": "论坛页面的一个不太明显的BUG",
    "author": "Rain_Effect",
    "replyCount": 8,
    "timestamp": 1519790100,
    "txt_content": " 本帖最后由 Rain_Effect 于 2018-2-28 12:58 编辑 \n\nRT,这个BUG是我在百度的时候无意中发现的，在发现这个问题之后，我搜索了很多在mcbbs中的帖子，其中约莫有三分之一的旧帖都出现了同样的问题。\n\n\n\n\n1F(O3[XH%COI4_-{ZS1Y3RC.png (146.6 KB, 下载次数: 0)\n\n下载附件\n\n2018-2-28 11:47 上传\n\n\n\n\n\n在论坛的地址中(http://www.mcbbs.net/forum.php)，若重复指定了页面(/forum.php)，会导致论坛页面排版出错问题似乎在于，当重复指定页面时，其<base>标签的默认地址并不是指定在mcbbs论坛的主目录下，导致无法获取css文件，从而出现排版错误的问题。\n当前问题在百度搜索引擎中已有约三分一的页面(google，搜狗也有一定比例)出现此问题(主要出现在一些旧帖子中)，请管理员尽快修复。\n\n附:BUG元凶点 \n\n\n\n\n~L_6I~68%KUIUC`QYMXVRU1.png (7.75 KB, 下载次数: 1)\n\n下载附件\n\n2018-2-28 11:50 上传\n\n\n\n\n\n\n附2:问题例 \n\n\n\n\n[2K3TG)V@8V0C2SB{KQ87DJ.png (22.24 KB, 下载次数: 0)\n\n下载附件\n\n2018-2-28 11:54 上传\n\n\n\n\n\n\n\n[groupid=1181]Unknown Domain[/groupid]",
    "replies": [
        {
            "author": "正人君子",
            "timestamp": 1519792140,
            "txt_content": " 本帖最后由 正人君子 于 2018-2-28 12:30 编辑 \n\n虽然不知道在说啥，但是看着这些专业术语，感觉非常厉害的样子！\n\n网曝论坛出现排版错误，一会员发现竟无人理会，官方称其技术性调整！"
        },
        {
            "author": "正人君子",
            "timestamp": 1519792200,
            "txt_content": "网曝论坛出现排版错误，一会员发现竟无人理会，官方称其技术性调整！"
        },
        {
            "author": "AJ_",
            "timestamp": 1519792800,
            "txt_content": "这可能是你网络卡了，刷新等等试试"
        },
        {
            "author": "Rain_Effect",
            "timestamp": 1519793460,
            "txt_content": " 本帖最后由 Rain_Effect 于 2018-3-2 05:19 编辑 \n\n内容已删除。"
        },
        {
            "author": "。—。",
            "timestamp": 1519794060,
            "txt_content": "http://www.mcbbs.net/forum.php/f ... forum.php/forum.php\n很好玩的一个bug......"
        },
        {
            "author": "Rain_Effect",
            "timestamp": 1519939200,
            "txt_content": "跟帖：*(重要部分会加粗斜体下划线标注)\n\nQ: 如何检查当前问题是否确认来源于<base>默认地址?\nA: 尝试性打开(http://www.mcbbs.net/forum.php/forum.php)页面，并将当前页源代码保存，在本地电脑内创建一个新的html文件，将源代码内容复制到其中，并尝试打开，最终结果如图一所示，但若将其中的<base>默认地址如图二的方式修改一下，再次打开的时候，发现界面格局如图三恢复原来的自然地样子了！这自然证明了什么我就不多说了。\n\n\n\nQ: 这个BUG该怎么去修复呢？\nA: 其实吧，这个还不算难解决的事情，解决方法有几种，如下：\n一：通过修改模板修复\n在当前的Discuz!模板中，找到他的header_common.htm部分(我使用的是默认模板，所以地址为template\\default\\common\\header_common.htm)，找到他的<base>行，一般情况下该行都会写着＜base href=\"{$_G['siteurl']}\" /＞，将其中的{$_G['siteurl']}修改为论坛地址后，重新加载模板即可。注：如果通过如上方式修改，请注意备份模板。\n\n二：修改论坛应用文件达到修复(不建议！)\n通过上面的模板方式，可以看出，Discuz!论坛是通过读取$_G['siteurl']的内容，将他覆盖到base中，以达到想要的功能的，而我们可以通过将这个$_G['siteurl']的内容锁定为论坛地址后做到修复。新装的Discuz! X3.2中，在source\\class\\discuz\\discuz_application.php的第188行，可以看到有一行注明$_G['siteurl']的方式，将他注明的内容修改为论坛地址即可。\n\n三：更新Discuz!至X3.4版本\n这个。。。我就不说了\n\n召唤点： @混乱  "
        },
        {
            "author": "风扇滑翔翼",
            "timestamp": 1519976700,
            "txt_content": "Rain_Effect 发表于 2018-2-28 12:51\n内容已删除。\n编辑没用了 楼上的回复自动显示原来的内容"
        },
        {
            "author": "Rain_Effect",
            "timestamp": 1519978080,
            "txt_content": "风扇滑翔翼 发表于 2018-3-2 15:45\n编辑没用了 楼上的回复自动显示原来的内容\n不不不，这个只是当时编辑错误导致的，请不要误以为这段回复有什么问题，抱歉。"
        }
    ]
}