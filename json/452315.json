{
    "title": "随机刻是3/256还是1-（255/256）^3？",
    "author": "chyx",
    "replyCount": 11,
    "timestamp": 1433391180,
    "txt_content": "RT\n希望有证明\n[groupid=546]Command Block Logic[/groupid]",
    "replies": [
        {
            "author": "RecursiveG",
            "timestamp": 1433391180,
            "txt_content": "chyx 发表于 2015-6-4 14:18\na 大神出现了！\n我是说 wiki没写清楚 不是每tick中在每个区域选3个方块么 这三个是放回的取还是不放回到 ...\n根据1.8的代码，理论上存在重叠的可能，具体有多大没计算\n\nthis.updateLCG = this.updateLCG * 3 + 1013904223;\nint l1 = this.updateLCG >> 2;\nint i2 = l1 & 15;\nint j2 = l1 >> 8 & 15;\nint k2 = l1 >> 16 & 15;\n\n以上是代码，updateLCG是线性同余法产生随机数\ni2,j2,k2分别是选中方块在section中x,z,y轴的偏移."
        },
        {
            "author": "RecursiveG",
            "timestamp": 1433393040,
            "txt_content": "不太能理解你的问题\n是指平均发生概率？还是什么别的？\nWiki上有关于刻的解释\nhttp://minecraft-zh.gamepedia.com/刻\n"
        },
        {
            "author": "chyx",
            "timestamp": 1433398680,
            "txt_content": "RecursiveG 发表于 2015-6-4 12:44\n不太能理解你的问题\n是指平均发生概率？还是什么别的？\nWiki上有关于刻的解释\na 大神出现了！\n我是说 wiki没写清楚 不是每tick中在每个区域选3个方块么 这三个是放回的取还是不放回到取？\n或者说这三个会不会重叠？"
        },
        {
            "author": "RecursiveG",
            "timestamp": 1433402640,
            "txt_content": "RecursiveG 发表于 2015-6-4 14:42\n根据1.8的代码，理论上存在重叠的可能，具体有多大没计算\n\nthis.updateLCG = this.updateLCG * 3 + 10139 ...\n刚才又试了下，根据MC的代码写程序模拟\n连续选择两个方块，选中同一块的概率是万分之2.355左右"
        },
        {
            "author": "chyx",
            "timestamp": 1433408820,
            "txt_content": "这段话是说先产生一个随机数 然后取其中的几部分作为方块坐标之间的位置差么？会不会越过section到别的区块?"
        },
        {
            "author": "RecursiveG",
            "timestamp": 1433414580,
            "txt_content": "chyx 发表于 2015-6-4 17:07\n这段话是说先产生一个随机数 然后取其中的几部分作为方块坐标之间的位置差么？会不会越过section到别的区块 ...\n是取其中的几部分作为方块到section原点的偏移\n不会越过section，因为代码中的“& 15”保证偏移量在[0, 15]上"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1433449440,
            "txt_content": "每个游戏刻(0.05s)在每个区段内的16^3 =4096个方块内选取3个方块。\n当然是放回取啊，也就是说每刻的选择是相互独立的。\n\n（要不然种小麦什么的岂不是填满区段种得最快么。。）\n\n而且只有这种取法的更新等待时间才是服从泊松分布。如果是放回取，那么每隔4096/3就必定会被更新到。"
        },
        {
            "author": "chyx",
            "timestamp": 1433461680,
            "txt_content": "RecursiveG 发表于 2015-6-4 18:43\n是取其中的几部分作为方块到section原点的偏移\n不会越过section，因为代码中的“& 15”保证偏移量在[0, 1 ...\n我以为是相对于上一个取得方块的偏移\n所以问会不会越界{:10_557:}\n\nthis.updateLCG 的范围是什么？"
        },
        {
            "author": "chyx",
            "timestamp": 1433461740,
            "txt_content": "ruhuasiyu 发表于 2015-6-5 04:24\n每个游戏刻(0.05s)在每个区段内的16^3 =4096个方块内选取3个方块。\n当然是放回取啊，也就是说每刻的选择是 ...\n我问的是每刻选的3个之间是不是可重叠的"
        },
        {
            "author": "RecursiveG",
            "timestamp": 1433476380,
            "txt_content": "chyx 发表于 2015-6-5 07:48\n我以为是相对于上一个取得方块的偏移\n所以问会不会越界\nInteger.MAX_VALUE\n\n总而言之，会发生重合的，而且概率比较小。\n但是考虑到总的更新数量还是比较大的。所以实际发生的情况也不是那么罕见。"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1433532960,
            "txt_content": "chyx 发表于 2015-6-4 16:49\n我问的是每刻选的3个之间是不是可重叠的\n好吧，那是我理解有误。\n\n但我觉得可以做个试验，将randomtickspeed弄成4096，观察南瓜的生长，你会发现南瓜并不会瞬间长出（经验判断，不一定准确），由此可以得出是会重复的"
        }
    ]
}