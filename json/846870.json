{
    "title": "[管理]Frozen —— 轻量AI抑制优化插件[1.8.X-1.13.X]",
    "author": "Foxii",
    "replyCount": 18,
    "timestamp": 1550793000,
    "txt_content": " 本帖最后由 Foxii 于 2019-8-27 19:25 编辑 \n\n玩家不节制地养殖动物？生物太多导制服务器卡顿？优化插件删除生物导致玩家不满？快来试试这个插件把~在不删除生物的情况下降低生物多对服务器算力的消耗这是一个非常轻量级的优化插件，并且有了它你无需再装其它优化插件且插件本身非常节省服务器资源\n前言插件想法来源于phoenixlzx博客的一篇文章Minecraft 服务器资源控制策略：AI 抑制而非数量限制\n简介插件通过调用spigot内部的方法使生物AI不再被计算，从而降低CPU资源消耗*默认配置下插件每隔半分钟检查服务器tps，如果低于18则抑制所含生物量大于20的区块的生物AI计算，如果高于19则恢复所有被抑制的区块*通过配置也可以达到不检查TPS当一个区块生物量到达指定值后抑制所有新出生生物的AI\n效果图示有AI的猪无AI的猪\n命令感觉不是很必要就先没写\n权限命令写完了写\n配置文件#插件每隔 check_interval_tick ticks 检查服务器tps\n#如果tps低于 freeze_AI_when_TPS_below 就冻结所有生物量超过 chunk_entity_threshold 的区块\n#这意味着这些区块内的生物AI都不会被计算\n#它们的行为就像你在 pigot.yml 中设置了 nerf-spawner-mobs 为 true 后从刷怪笼里刷出来的怪物\nTPSMonitor:\n  #如果你关闭了 TPSMonitor, compatible_with_TPSMonitor 也会自动关闭\n  enable: true\n  #检查tps间隔，单位tick\n  check_interval_tick: 600\n  #服务端启动后会等待一段时间再启动检查任务，单位tick\n  task_delay_tick: 1200\n  #TPSMonitor 只会冻结生物量超过此的区块\n  chunk_entity_threshold: 20\n  #TPSMonitor 只会在服务器tps低于此时开始冻结操作\n  freeze_AI_when_TPS_below: 18.0\n  #当服务器tps高于此时恢复所有区块\n  unfreeze_all_AI_when_TPS_above: 19.0\nListener:\n  #除两个 compatible_with_TPSMonitor 配置项外其余的配置项的功能与 TPSMonitor 独立，若果你使用 TPSMonitor，建议开启两个 compatible_with_TPSMonitor\n  enable: true\n  on_mob_spawn:\n    enable: true\n    #如果你打开了这一条，当一个生物出生在被 TPSMonitor 冻结的区块上时它将被冻结\n    compatible_with_TPSMonitor: true\n    #如果你打开了这一条，若某生物出生时所在区块生物数量高于 chunks_entity，它将被冻结\n    #这只会冻结那个出生的生物，而不是整个它所在的区块\n    freeze_when_entity_above:\n      enable: false\n      chunks_entity: 60\n    #如果你打开了这一条，若某生物出生时服务器tps低于 TPS_below，它将被冻结\n    #这只会冻结那个出生的生物，而不是整个它所在的区块\n    freeze_when_TPS_below:\n      enable: false\n      TPS_below: 16\n  on_chunk_load:\n    enable: true\n    #如果你打开了这一条，当一个区块加载时如果它符合 TPSMonitor 冻结的所有条件，它将被冻结\n    compatible_with_TPSMonitor: true\n    #如果你打开了这一条，若某区块加载时其所含生物数量高于 chunks_entity，它将被冻结\n    #这会冻结整区块的所有生物\n    freeze_when_entity_above:\n      enable: false\n      chunks_entity: 60\n    #如果你打开了这一条，若某区块加载时服务器tps低于 TPS_below，它将被冻结\n    #这会冻结整区块的所有生物\n    freeze_when_TPS_below:\n      enable: false\n      TPS_below: 16复制代码\n版本兼容插件在1.13.2Spigot环境下编译，用反射调用的核心方法，所以理论上支持很多版本由于插件功能测试太麻烦，所以我仅测试了与1.12.2和1.13.2的Paper端的兼容性*又有好心人帮忙测试了paper1.8.8和spigot1.9.4的可以兼容如果你愿意帮忙测试，请把结果发给我，十分感谢*快速测试方法放进服务端插件文件夹启动服务器，如无本插件的报错，将配置文件里的freeze_when_TPS_below下的enable改为true，TPS_below改为21，重启服务端，进服看是否所有生物都不会动了如果是的话大概就没问题了\n关于为什么要写这个插件应要求此部分略\n开源源代码见原帖地址，使用MIT协议\n*论坛加速:\n\n\n\nFrozen-1.0.jar\n(8.85 KB, 下载次数: 443)\n\n\n\n2019-2-22 17:46 上传\n点击文件名下载附件\n\n\n\n\n\n\n本插件所用所有代码均为原创,不存在借用/抄袭等行为",
    "replies": [
        {
            "author": "神の手",
            "timestamp": 1550797440,
            "txt_content": "\n实用小插件 好评英文名称:Frozen\n中文名称:寒冰\n\n名称对照迷之喜感(笑\n\n"
        },
        {
            "author": "zhenzhenqaq",
            "timestamp": 1550797680,
            "txt_content": "看起来挺好用 过段时间测试下"
        },
        {
            "author": "cvcocvc",
            "timestamp": 1550835540,
            "txt_content": "对怪物呢？是不是也会导致怪物不会主动攻击玩家？"
        },
        {
            "author": "Foxii",
            "timestamp": 1550840040,
            "txt_content": "cvcocvc 发表于 2019-2-22 19:39\n对怪物呢？是不是也会导致怪物不会主动攻击玩家？\n没错，但是本插件相比于其他优化插件，以不计算AI的方式代替直接删除或者阻止生成，对玩家的体验影响小很多"
        },
        {
            "author": "xmdhs",
            "timestamp": 1550846460,
            "txt_content": " 本帖最后由 xmdhs 于 2019-2-23 18:08 编辑 \n\n对掉落物是否有效呢。\n\n\n\n点错了，点了+3"
        },
        {
            "author": "Foxii",
            "timestamp": 1550886240,
            "txt_content": "xmdhs 发表于 2019-2-22 22:41\n对掉落物是否有效呢。\n以这种方式抑制AI的实体依旧能被水流等推动，所以对掉落物来说是没有影响的，实测也确实如此\n掉落物捡起漏斗吸取等都没有影响\n还有抑制AI的实体依旧会受重力影响，除了一些会飞的比如幻翼会悬停在空中"
        },
        {
            "author": "Jimmy_kmi",
            "timestamp": 1553768220,
            "txt_content": "支持国产！！！"
        },
        {
            "author": "figure8520",
            "timestamp": 1559405940,
            "txt_content": "有望更新1.14 嗎 OUO?"
        },
        {
            "author": "aiaiioi",
            "timestamp": 1559937180,
            "txt_content": "测试1.14.2可以使用,有个疑问,这么才能过滤某些世界.比如地狱的猪人塔和末地的小黑塔.\n当达到实体20后这些都不可以使用了.\n希望大佬能让设置人性化点.非常感谢,喜欢这个插件!"
        },
        {
            "author": "sgoye",
            "timestamp": 1562729160,
            "txt_content": "喜欢这个插件，赞一个"
        },
        {
            "author": "1257241185",
            "timestamp": 1563684660,
            "txt_content": "希望能够不冻结敌对生物"
        },
        {
            "author": "qq1136428600",
            "timestamp": 1564108800,
            "txt_content": "这会被玩家利用，降低游戏难度，举个栗子:如果在凋零塔中刷出过多鸡，该范围地狱生物不就变白痴了吗"
        },
        {
            "author": "511281270",
            "timestamp": 1576995420,
            "txt_content": "楼主你好\ncatserver服务端好像没有效果\n按照你的快速测试办法测试，拿出小麦，一群羊还是会看过来。。\n考虑更新吗？"
        },
        {
            "author": "殇晨",
            "timestamp": 1582214400,
            "txt_content": "1.15.2可用吗，被1.15.2的优化搞的头皮发麻"
        },
        {
            "author": "zz22867",
            "timestamp": 1583135520,
            "txt_content": "6666666666"
        },
        {
            "author": "zz22867",
            "timestamp": 1583135580,
            "txt_content": "666666666666666666666"
        },
        {
            "author": "nelson233",
            "timestamp": 1583562300,
            "txt_content": "对ai的优化！这对多世界服务器应该很有用"
        },
        {
            "author": "_mc_moran_",
            "timestamp": 1597056180,
            "txt_content": "我喜欢，支持支持"
        }
    ]
}