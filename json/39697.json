{
    "title": "[多人联机]网络结构教程",
    "author": "+倒霉の忍者+",
    "replyCount": 38,
    "timestamp": 1344077520,
    "txt_content": "网络结构教程\n文章 by sjjklh & 图片 by +倒霉の忍者+未经许可禁止转载\n\n鉴于目前一些开服初学者经常纠结于不同网络的互联性等等一些网络结构引起的细枝末节问题上，但正是因为这些小问题，新手服主们往往纠结不已。我们在这里写一个教程，旨在帮大家更方便地了解一些网络结构的知识。\n\n一个网络有不同的大小。依大小不同一般被称为局域网（LAN），广域网（WAN）等。生活中有无数个这样的网络：\n你家里多台电脑用一个路由器加一个ADSL Modem共享上网，实际上你家的这些电脑已经以路由器为中心组成了一个局域网。你在的大学有各种设备：实验室电脑，工作站，服务器等，还有一些只有在学校校内才能访问的网址。这些设备通过一些交换机等网络设备共同组成了一个大型网络。\n\n我们所在的地球的最大网络网络被称为Internet，即“互联网”或“因特网”。\n\n困扰新手服主最大问题实质上是不同网络之间的互相通信。不同网络一般都通过多种方式互联着，都以共同的中继——互联网为中心。路由器就是同时身兼组成局域网和把局域网与上级网络（一般就是互联网）相连通的设备。\n\n图中的“调制解调器”是用于把网络的数字信号加载到如电话线或光纤上的转化设备。一般使用宽带的家庭都需要“拨号”，这个“拨号”的实质是PPPoE（点对点以太网通信），相当于在你连接互联网时加了一层身份验证。这一点可以不用了解太深。\n\n下面讲IP地址相关知识：\n\n目前互联网最通行的标准为IPv4标准（Internet Protocol version 4，互联网协议版本4）。基本上所有网络都采用这个标准。这个标准的地址结构为：\nA.B.C.D复制代码其中A、B、C、D各为0~255之间的一个整数。这样总共的地址数就是256的4次方，即4,294,967,296个地址。但这些地址不是所有的都可以拿来作为互联网网址的。一般来说，大家只需要知道下面的特殊IP地址：\n127.0.0.1                                         代表本机\n10.0.0.0–10.255.255.255                A类私有网络\n172.16.0.0–172.31.255.255            B类私有网络\n192.168.0.0–192.168.255.255        C类私有网络\n这些网络地址是预留给诸如局域网等非Internet地址的。有可能一些私有网络的IP地址并不遵循此列表，但位于此列表的IP一定不是公网IP。就像一座楼里的门牌号一样，你可以通过一个门牌号访问同一座楼里面的其它房间，但门牌号只对单独的一座楼本身有意义。所以以后不要干这种拿上面列表中的IP当做服务器地址发布出去的事情。\n\n在这张表之外的大部分IP都属于“公网IP”。电脑之间互相通信（也就是开服的时候），如果你们位于同一个局域网下（例如用同一个路由器共享上网），那么一般使用192.168开头的IP互相访问便可。但如果你们位于不同的地区，则必须要使用公网IP。你去访问http://www.ip138.com/ 或者 http://www.whatismyip.com/ 时看到的就是自己的公网IP。建议您多去几家网站查询，因为有些网络运营商会在你访问一些速度较慢的网站时自动切换成另外一条线路，有可能独立IP就切换成了共享IP，从而查到不同的结果，下文有涉及确定自己公网IP的方法。\n\n但有一些朋友会遇到用这个IP发布出去之后，别人连不进来。在排除其他原因（自己电脑网络设置或者防火墙）之外，肯定是你的服务器并非直接连接到Internet，而是先在一个小型网络内，通过网络设备连过去的。比较常见的例子是家里的路由器，小区宽带的网关等。你给别人IP，仅仅意味着你给了别人“你家大楼的地址”。“邮递员”只能送到楼下传达室，但传达室并不知道信的主人是谁。\n\n“内网映射”就是解决方法。相当于告诉传达室，凡是送来的信件都直接通到你房间，这样就解决了问题。（相关教程http://www.mcbbs.net/thread-8261-1-1.html）\n但还有一个麻烦，前提是你能控制“传达室”。如果你家用的是小区宽带这种你根本无法操作内网映射的上网方式，那你只能求助于Hamachi了。\n\n“独立公网IP”和“共享公网IP”的区别\n具有独立公网IP的朋友，相当于马路旁的别墅，家门正对大马路，邮递员送信过来你直接就能收到了。但共享IP相当于一个马路旁的大型小区，小区每一座楼还都只能共享一个马路门牌号。这样就很悲催。确定自己是不是独立公网IP以及查询方法是：\n1、访问http://www.ip138.com/ 与 http://www.whatismyip.com/ 等多家IP查询网站查询IP。\n　　如果结果有不同，则说明你是多线接入互联网（较罕见）或网络运营商进行过自动线路切换（较常见，尤其是教育网）。\n2、同时按“Windows徽标键”与R键，打开“运行”窗口。输入cmd然后回车。\n3、输入\nipconfig /all复制代码    回车\n4、返回结果列表中包括不同设备的IP地址。寻找是否有先前查到的公网IP。如果有相同的例子，则这就是你的独立公网IP。如果并无相同，则你不具备独立公网IP，如果使用的是路由器，请进行内网映射；其它情况下请借助Hamachi。\nHamachi原理\n即“虚拟局域网”。多台电脑与Hamachi服务器通过Internet连接。Hamachi在你电脑中虚拟出一个网络设备，通过这个虚拟设备，位于同一个Hamachi子网房间内的用户都被虚拟在了一个局域网内。从而可以互相直接访问。但Hamachi仅在开服电脑不具备独立公网IP，而且参加游戏的所有电脑都不在同一局域网内时才推荐使用。否则是舍近求远——因为经过Hamachi服务器中转的数据肯定会增加延迟。\n",
    "replies": [
        {
            "author": "sjjklh",
            "timestamp": 1344077580,
            "txt_content": "第二作者签到"
        },
        {
            "author": "g-g-g",
            "timestamp": 1344077640,
            "txt_content": "好深奥"
        },
        {
            "author": "heyuehong",
            "timestamp": 1344077940,
            "txt_content": "反正我家永远是外网（wan）所以可以54此贴"
        },
        {
            "author": "heyuehong",
            "timestamp": 1344077940,
            "txt_content": "我们学校的教育网网速是渣的可以，所以从来不用"
        },
        {
            "author": "a919298641",
            "timestamp": 1344078360,
            "txt_content": "话说我有一个问题，最近我家换了独网，然后网络直连到我家，然后我需要宽带登陆（以前不需要）\n然后捏，局域网的另一台电脑就上不了网，有路由器，以前可以正常使用。。。。。。\n怎么让另一台电脑也能访问互联网？"
        },
        {
            "author": "oomanj",
            "timestamp": 1344078360,
            "txt_content": "倒霉忍者V5！{:10_523:}"
        },
        {
            "author": "+倒霉の忍者+",
            "timestamp": 1344078420,
            "txt_content": "a919298641 发表于 2012-8-4 19:06 \n话说我有一个问题，最近我家换了独网，然后网络直连到我家，然后我需要宽带登陆（以前不需要）\n然后捏，局 ...\n你的语句前后矛盾，理清楚了再说"
        },
        {
            "author": "sjjklh",
            "timestamp": 1344078420,
            "txt_content": "a919298641 发表于 2012-8-4 19:06 \n话说我有一个问题，最近我家换了独网，然后网络直连到我家，然后我需要宽带登陆（以前不需要）\n然后捏，局 ...\n你是在哪一个设备上完成宽带登陆操作的"
        },
        {
            "author": "a919298641",
            "timestamp": 1344078600,
            "txt_content": "+倒霉の忍者+ 发表于 2012-8-4 19:07 \n你的语句前后矛盾，理清楚了再说\n........\n简单来说，就是我以前并不需要宽带登陆，我只是通过路由器来上网\n现在我自己使用一个宽带，需要登陆了，但是在局域网内的另一台电脑上不了网。。"
        },
        {
            "author": "+倒霉の忍者+",
            "timestamp": 1344078720,
            "txt_content": "a919298641 发表于 2012-8-4 19:10 \n........\n简单来说，就是我以前并不需要宽带登陆，我只是通过路由器来上网\n现在我自己使用一个宽带，需 ...\n你现在单独使用宽带，那么哪来的局域网？是哪个局域网？"
        },
        {
            "author": "a919298641",
            "timestamp": 1344079080,
            "txt_content": "+倒霉の忍者+ 发表于 2012-8-4 19:12 \n你现在单独使用宽带，那么哪来的局域网？是哪个局域网？\n呃，的确是我没说清楚，以前是几家一起用，然后是别人登陆宽带，我去共享他的宽带。。\n现在我来登陆宽带，别人上不了网，仅我自己。。。 路由器，我用路由器的"
        },
        {
            "author": "sjjklh",
            "timestamp": 1344079980,
            "txt_content": "a919298641 发表于 2012-8-4 19:18 \n呃，的确是我没说清楚，以前是几家一起用，然后是别人登陆宽带，我去共享他的宽带。。\n现在我来登陆宽带 ...\n也就是说以前你自己是连别人家的路由器共享别人家宽带\n\n但现在你只知道电脑拨号但不知道如何共享吗"
        },
        {
            "author": "a919298641",
            "timestamp": 1344080160,
            "txt_content": "sjjklh 发表于 2012-8-4 19:33 \n也就是说以前你自己是连别人家的路由器共享别人家宽带\n\n但现在你只知道电脑拨号但不知道如何共享吗\n嗯嗯。。。。。。。。"
        },
        {
            "author": "sjjklh",
            "timestamp": 1344080340,
            "txt_content": "a919298641 发表于 2012-8-4 19:36 \n嗯嗯。。。。。。。。\n先复位你的路由器 后面有reset按钮的\n\n然后用电脑直接连接路由器（不要拨号）\n\n然后进入路由器管理界面，一般是浏览器192.168.0.1或192.168.1.1  默认用户名密码一般都是admin\n\n在路由器管理界面里设置路由器PPPoE拨号"
        },
        {
            "author": "+倒霉の忍者+",
            "timestamp": 1344080640,
            "txt_content": "a919298641 发表于 2012-8-4 19:36 \n嗯嗯。。。。。。。。\n打开路由器设置\n找到“网络参数” —— “WAN口设置”\nWAN口连接类型选择 PPPoE，\n填入上网帐号和上网口令，\n把连接方式改为按需连接或自动连接\n应该能解决你的问题"
        },
        {
            "author": "a919298641",
            "timestamp": 1344085560,
            "txt_content": "sjjklh 发表于 2012-8-4 19:39 \n先复位你的路由器 后面有reset按钮的\n\n然后用电脑直接连接路由器（不要拨号）\n我复位后连接 192.168.0.1（路由器上的IP）然后他提示我要拨号。。然后接着我拨号了又连接不到路由器了。。。"
        },
        {
            "author": "+倒霉の忍者+",
            "timestamp": 1344085860,
            "txt_content": "a919298641 发表于 2012-8-4 21:06 \n我复位后连接 192.168.0.1（路由器上的IP）然后他提示我要拨号。。然后接着我拨号了又连接不到路由器了。 ...\n“无法连接路由器，IP正确。”\n= =这就是你自己的问题了，别人帮不了你了\n连路由器设置都不知道，还怎么搞？"
        },
        {
            "author": "sjjklh",
            "timestamp": 1344086700,
            "txt_content": "a919298641 发表于 2012-8-4 21:06 \n我复位后连接 192.168.0.1（路由器上的IP）然后他提示我要拨号。。然后接着我拨号了又连接不到路由器了。 ...\n连接的是网关IP\n\n把你默认的“无论连接是否存在都拨号”的选项取消  在Internet选项-连接 里"
        },
        {
            "author": "..盛开的日子",
            "timestamp": 1348191660,
            "txt_content": "哇哦 楼主不愧是楼主 赞一个"
        },
        {
            "author": "鸡鸡怪吃甘蔗",
            "timestamp": 1357953420,
            "txt_content": "标题: RE:忍者，我和朋友都是网吧，我是电信，他是联通，我们这种情况需要蛤蟆吃吗？我搞了好几天都没成功，我们两个都是网吧一族。求教了"
        },
        {
            "author": "luzongyue",
            "timestamp": 1359506340,
            "txt_content": "我问一下，我家用的宽带是接进我们小区之后再转进我家的，之后我们还用了一个无线路由器，这种情况怎么破"
        },
        {
            "author": "luzongyue",
            "timestamp": 1359506640,
            "txt_content": "还有我上192.168.1.1无线设置的主机状态为什么显示当前连接的主机数为8啊"
        },
        {
            "author": "+倒霉の忍者+",
            "timestamp": 1359741300,
            "txt_content": "luzongyue 发表于 2013-1-30 08:39 \n我问一下，我家用的宽带是接进我们小区之后再转进我家的，之后我们还用了一个无线路由器，这种情况怎么破\n破什么？该怎么来怎么来呗"
        },
        {
            "author": "DK_瘟神",
            "timestamp": 1359803280,
            "txt_content": "我家路由器经常重启。。。一重启就换IP。。。。。我还是用蛤蟆吃把。。。。。"
        },
        {
            "author": "1351384089",
            "timestamp": 1360474560,
            "txt_content": "heyuehong 发表于 2012-8-4 18:59\n我们学校的教育网网速是渣的可以，所以从来不用\n听君一席话，胜上十年网"
        },
        {
            "author": "1351384089",
            "timestamp": 1360474560,
            "txt_content": "heyuehong 发表于 2012-8-4 18:59\n我们学校的教育网网速是渣的可以，所以从来不用\n听君一席话，胜上十年网！"
        },
        {
            "author": "sylm1987",
            "timestamp": 1362330540,
            "txt_content": "请问。。。。我用的是无线路由器。。。。能设置么？因为我刚才按照帖子中那个方法打开了路由器的页面，然后点了发送规则里面的那个什么DMZ，里面并没有显示IP地址，虚拟网络里面也没显示任何地址，。。。。而且我打开本地连接也看不到本机的IP。。。。。。。。。。急哭了。。。。。。"
        },
        {
            "author": "+倒霉の忍者+",
            "timestamp": 1362453660,
            "txt_content": "sylm1987 发表于 2013-3-4 01:09 \n请问。。。。我用的是无线路由器。。。。能设置么？因为我刚才按照帖子中那个方法打开了路由器的页面，然后 ...\n无线与普通路由有很大区别，建议你找熟悉这方面的人看看。我还没有碰无线路由的机会"
        },
        {
            "author": "辉煌",
            "timestamp": 1365942180,
            "txt_content": "要过程啊，玩了差不多一年MC，到现在都不会连机啊...............{:10_516:}"
        },
        {
            "author": "aCat",
            "timestamp": 1368150300,
            "txt_content": "图文并茂，一看就懂，楼主很有做教程的天赋啊。"
        },
        {
            "author": "烬蓝山",
            "timestamp": 1374806640,
            "txt_content": "大神求解。我自己建的服务器。建区域网时，同路由器舍友可连接。建多人游戏不同路由器的玩家可进入，舍友却连不上！都用的蛤蟆吃，绿灯正常。麻烦给解答下！"
        },
        {
            "author": "耀曦",
            "timestamp": 1376716980,
            "txt_content": "好深奥啊......."
        },
        {
            "author": "nick_lim",
            "timestamp": 1376836620,
            "txt_content": "我家是共享ip的坑爹移动网络，连对方服务器也连不上是啥情况？\n反正是一把叉（防火墙已经关完了包括路由的）"
        },
        {
            "author": "1967093935",
            "timestamp": 1390365780,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "amhsg123",
            "timestamp": 1407242100,
            "txt_content": "你发现自己拨号上网发现自己的ip和查到的不一样的还有得救...有可能是运营商没有分配给你本该拥有的独立公网ip..你可以打电话去让他给你改回来"
        },
        {
            "author": "awd410842",
            "timestamp": 1412329080,
            "txt_content": "好贴必须顶，我对这些一知半解，并不系统的掌握，知道都是片段，又学到一些片段了，丁页!"
        },
        {
            "author": "云小龙",
            "timestamp": 1414579200,
            "txt_content": "有点晕。看不懂"
        },
        {
            "author": "xgs13338966297",
            "timestamp": 1427522280,
            "txt_content": "我先进游戏选对局域网开放，显示XXX端口开放，\n在打开路由器地址，\n设置虚拟主机，\n内部端口和服务器端口都填一样的，都是MC在端口XXX开放的那个数字，\n然后IP填自己内网IP（192.168的那个），\n然后让基友输入我外网IP加冒号再输那个在XXX端口开放的数字，\n结果出现javanetConnectException: Connection timed out: no further informatio\n这种情况怎么破\n本来想用hamachi，\n结果他家电脑出了问题无法安装……http://h.hiphotos.baidu.com/zhidao/wh%3D600%2C800/sign=3fe19dc80bf79052ef4a4f383cc3fbf2/78310a55b319ebc4a80098428026cffc1f1716f4.jpg\n"
        }
    ]
}