{
    "title": "关于合成中的工具。。。",
    "author": "SHP241",
    "replyCount": 8,
    "timestamp": 1476184560,
    "txt_content": "如何在合成后将物品退给玩家？\n如何制作一个在合成中使用的工具？（例：比如使用铁斧可以和原木合成消耗铁斧耐久（铁斧不消失）然后合成出6个木板）我看魔改能实现但mod不知道要怎么写\n\n上次有dalao说用ItemCraftedEvent事件，但我不是很懂，大概有这么几个点：\n一个有多个配方的物品是要用craftMatrix判断是用哪个配方吗？是的话，怎么用呢？\n如何把工具合成后留在工作台里（例：原版水桶，格雷扳手）\n如何实现在工具耐久比物品少时阻止shift超出数量合成（例：格雷锤子）\n如何减少物品耐久\n最好是能把上例中的内容用代码实现一下。。。感谢各位大佬，如果嫌金粒不够还可以加。。。\n\n",
    "replies": [
        {
            "author": "天蝎_心殇",
            "timestamp": 1476184560,
            "txt_content": "SHP241 发表于 2016-10-13 10:00\n那么应该是最后一个问题？\n怎么样设置不同耐久的物品都能参与合成？\n这个只要在限定物品的后面限定耐久就好，int最大是32767\n给个例子，这样用铁剑和石头合成时，会获得苹果\n铁剑就是你的物品，如果你写了上一楼给的代码，那么就会达到你想要的效果\nGameRegistry.addShapelessRecipe(new ItemStack(Items.apple, 1),\n new Object[]{ new ItemStack(Blocks.stone, 1), new ItemStack(Items.iron_sword, 1, 32767),  });复制代码\n\n\n\n\n\n\n"
        },
        {
            "author": "aptxliuyipeng",
            "timestamp": 1476187080,
            "txt_content": "魔改加上这个就可以了[1.7.10][ssp/smp][MineTweaker RecipeMaker——可视化合成表编辑器][完全汉化]\nhttp://www.mcbbs.net/thread-524260-1-1.html\n但要i2里电锯的话就需要自己手动写了比如：val chainsaw = <IC2:itemToolChainsaw>.anyDamage();\nrecipes.addShapeless(<minecraft:planks:4> * 4, [<minecraft:log2>, chainsaw.onlyIC2ChargeAtLeast(100).transformIC2Discharge(100)]);"
        },
        {
            "author": "SHP241",
            "timestamp": 1476188460,
            "txt_content": "aptxliuyipeng 发表于 2016-10-11 19:58\n魔改加上这个就可以了[1.7.10][ssp/smp][MineTweaker RecipeMaker——可视化合成表编辑器][完全汉化]\nhttp: ...\n不好意思，我是在自己写mod，不是魔改"
        },
        {
            "author": "天蝎_心殇",
            "timestamp": 1476191820,
            "txt_content": "返还物品可以这么做\nItems.apple.setContainerItem(Items.sugar);\n这样用苹果合成时就会返回糖"
        },
        {
            "author": "SHP241",
            "timestamp": 1476193800,
            "txt_content": "天蝎_心殇 发表于 2016-10-11 21:17\n返还物品可以这么做\nItems.apple.setContainerItem(Items.sugar);\n这样用苹果合成时就会返回糖 ...\n哦。。我试一下"
        },
        {
            "author": "SHP241",
            "timestamp": 1476194400,
            "txt_content": "天蝎_心殇 发表于 2016-10-11 21:17\n返还物品可以这么做\nItems.apple.setContainerItem(Items.sugar);\n这样用苹果合成时就会返回糖 ...\n那么能不能返回一个对应的工具的-1耐久版本呢？"
        },
        {
            "author": "天蝎_心殇",
            "timestamp": 1476248280,
            "txt_content": "SHP241 发表于 2016-10-11 22:00\n那么能不能返回一个对应的工具的-1耐久版本呢？\n试一下这个原理就是复制一份itemStack，然后-1耐久\n  public boolean doesContainerItemLeaveCraftingGrid(ItemStack itemStack)\n  {\n    return false;\n  }\n\n  public boolean getShareTag()\n  {\n    return true;\n  }\n\n  public boolean hasContainerItem(ItemStack itemStack)\n  {\n    return true;\n  }\n\n  public ItemStack getContainerItem(ItemStack itemStack)\n  {\n    ItemStack stack = itemStack.copy();\n\n    stack.setItemDamage(stack.getItemDamage() + 1);\n    stack.stackSize = 1;\n\n    return stack;\n  }复制代码\n\n\n"
        },
        {
            "author": "SHP241",
            "timestamp": 1476324000,
            "txt_content": "天蝎_心殇 发表于 2016-10-12 12:58\n试一下这个原理就是复制一份itemStack，然后-1耐久\n那么应该是最后一个问题？\n怎么样设置不同耐久的物品都能参与合成？"
        }
    ]
}