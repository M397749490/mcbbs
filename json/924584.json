{
    "title": "服务器卡顿",
    "author": "Misaka。",
    "replyCount": 8,
    "timestamp": 1573036080,
    "txt_content": " 本帖最后由 Misaka。 于 2019-11-6 18:40 编辑 \n\n版本为1.7.10的U端\n如题,服务器卡顿。\n已经按照bbs贴内各大优化贴进行优化过了.\n目前问题,人数过20后,服务器会开始掉tps,就算人数减下去了,tps也不会增长太多.\n\n我看了一下timings,怀疑是部分插件的问题,\ntimins： https://timings.spigotmc.org/?url=ivacoyuvos\n第一是autosave,保存地图的卡顿,但是也不知道改换什么插件保存地图才好\n（如autosaveworld,效果并不好...）\n貌似\"世予\"的方块限制插件占用也挺高,,,\n另外我还注意到,玩家使用指令占用也有些高,例如里面提到的 kit 指令 （不知是否更换此插件可以缓解这个问题不）\n然后就是实体ai的问题了,我这里已经不知道该怎么处理这个问题了...\n限制ai的mod也加了,配置已修改了   怪物数量也限制了  且隔一段时间会清理\n\n如上,只是个人的理解,希望dalao提出更好的意见！  或者有什么个人的优化心得之类的\n谢谢！\n\n噗.....我看见地狱的占用挺高的,然后刚刚把地狱卸载了....tps一下就回到20了  稳稳的....  XD\n反正都提问了,根据上面,还是希望dalao有些什么优化方案吧  另外  方块限制插件到底是否会卡喃？  timings看上去占用挺高的呢",
    "replies": [
        {
            "author": "DE_SHARK",
            "timestamp": 1573036080,
            "txt_content": "主要是这个插件：ChunkBlocksLimit\n能删就删掉\n其他没什么问题，autosave这个插件也不是太大问题，最好就是能换成服务端自带的autosave并设置成6000（在bukkit.yml里面，也好像是在spigot.yml里面，你找找）"
        },
        {
            "author": "TimeJunmper",
            "timestamp": 1573094580,
            "txt_content": "我看你该做的都做了，优化也做的很完美，有没有考虑把启动参数更改一下，或者考虑下扩容?\n1000        1149        1132        0        Nov06        pts/2        00:00:00        mc-server-runner --stop-duration 60s java -XX:+UseG1GC -Xms1G -Xmx1G -jar paper_server-1.11.2.jar\n1000        1207        1149        31        Nov06        pts/2        03:40:22        java -XX:+UseG1GC -Xms1G -Xmx1G -jar paper_server-1.11.2.jar"
        },
        {
            "author": "Misaka。",
            "timestamp": 1573104600,
            "txt_content": "TimeJunmper 发表于 2019-11-7 10:43\n我看你该做的都做了，优化也做的很完美，有没有考虑把启动参数更改一下，或者考虑下扩容?\n1000        1149        1132        0 ...\n启动参数已经优化过了,是参照\nhttps://www.mcbbs.net/thread-876594-1-1.html\n来优化的,另外,我注意到下面有提到最大内存和最小内存 \nmod服最好设置为一样,我也设置为同样大了\n另外,内存的话,目前服务器给此子服的内存有10G 我还没跑满过\n近期可能会更换主频更高的cpu"
        },
        {
            "author": "Misaka。",
            "timestamp": 1573104780,
            "txt_content": "DE_SHARK 发表于 2019-11-7 12:47\n主要是这个插件：ChunkBlocksLimit\n能删就删掉\n其他没什么问题，autosave这个插件也不是太大问题，最好就是 ...\nen 我也看出来这个插件占用很高 但是 这个也很重要\n无奈 我还是选择停用了此插件  XD\n然后关于保存  bukkit自带的保存感觉并不好使, 我服已经差不多算是中后期了\n用自带的保存 保存时会出现瞬卡的情况 效果并不理想 你有没有什么其他推荐的保存地图插件呢"
        },
        {
            "author": "cybmp3",
            "timestamp": 1573113000,
            "txt_content": "你的电脑是机械吗？换固态试试。还有就是把autosave的间隔再拉长一点。"
        },
        {
            "author": "yfxx109",
            "timestamp": 1573129620,
            "txt_content": "可能是你电脑不行"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1573138140,
            "txt_content": "Misaka。 发表于 2019-11-7 13:33\nen 我也看出来这个插件占用很高 但是 这个也很重要\n无奈 我还是选择停用了此插件  XD\n然后关于保存  bukk ...\n好像也没了，我也是1.7.10U端，开了三四个月了，现在用着bukkit的自动保存"
        },
        {
            "author": "00智障",
            "timestamp": 1573300560,
            "txt_content": "方块限制插件当然会你想想随时随地都在检测，卡不卡其实还是跟你拿多少钱开服务器有关的"
        }
    ]
}