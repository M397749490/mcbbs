{
    "title": "[管理][安全][开源]DemonLobby —— 超级轻量的大厅服管理系统插件[1.8-1.12.2]",
    "author": "妖魂吖",
    "replyCount": 5,
    "timestamp": 1579440000,
    "txt_content": "关于DemonLobby\n    ● 集合了十种大厅常见的功能，服主可自定义在配置文件中选择开启或关闭某个功能，进入退出消息准备也写进去，但是考虑之前写过一个加入退出提示信息插件，就不多此一举了2333\n\n\n插件截图\n\n\n\n\nQQ截图20200119211807.png (31.95 KB, 下载次数: 0)\n\n下载附件\n\n2020-1-19 21:18 上传\n\n\n\n\n\n\n\n\nQQ截图20200119211749.png (8.19 KB, 下载次数: 0)\n\n下载附件\n\n2020-1-19 21:18 上传\n\n\n\n\n\n\n主要功能\n    ● 死亡提示信息关闭\n    ● 禁止掉拾取落物\n    ● 关闭饥饿度\n    ● 大厅二段跳\n    ● 禁止放置方块\n    ● 禁止破坏方块\n    ● 免疫伤害\n    ● 加入游戏获得药水效果\n    ● 大厅出生进入传送点\n    ● 掉入虚空拉回\n\n插件命令\n    ● /dlobby setspawn—  重载配置文件\n    ● /dlobby reload  —  重载配置文件\n     ● 权限: DemonLobby.admin (默认OP拥有权限)\n\n\n插件下载\n\n\n\nDemonLobby.jar\n(5.19 KB, 下载次数: 66)\n\n\n\n2020-1-19 21:18 上传\n点击文件名下载附件\n\n\n\n\n\n\n插件源码\n\npackage me.Demon.DemonLobby;\n\nimport org.bukkit.*;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.entity.*;\nimport org.bukkit.event.*;\nimport org.bukkit.event.player.*;\nimport org.bukkit.event.block.*;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.event.Listener;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.potion.PotionEffect;\nimport org.bukkit.potion.PotionEffectType;\n\npublic class Main extends JavaPlugin implements Listener\n{\n    public void onEnable(){\n        Bukkit.getConsoleSender().sendMessage(\"§b[DemonLobby] §a插件成功载入Sever！\");\n        Bukkit.getConsoleSender().sendMessage(\"§b[DemonLobby] §a妖魂QQ:1763917516\");\n        saveDefaultConfig();\n        Bukkit.getPluginManager().registerEvents(this, this);\n    }\n\n    public void onDisable(){\n        Bukkit.getConsoleSender().sendMessage(\"§b[DemonLobby] §c插件已正常关闭！\");\n    }\n    public boolean onCommand(CommandSender sender, Command cmd, String Command, String[] args)\n    {\n        if (Command.equalsIgnoreCase(\"Dlobby\")) {\n            if (args.length == 0)\n            {\n                sender.sendMessage(\"§f========== §b[DemonLobby] §f==========\");\n                sender.sendMessage(\"§7/dpick info §a: 查看作者信息\");\n                if (sender.hasPermission(\"DemonLobby.admin\")) {\n                    sender.sendMessage(\"§7/dpick setspawn §a: 设置大厅复活点\");\n                    sender.sendMessage(\"§7/dpick reload §a: 重载配置文件\");\n                }\n                sender.sendMessage(\"§f=================================\");\n            }\n            else if (args.length == 1)\n            {\n                if (args[0].equalsIgnoreCase(\"info\"))\n                {\n                    sender.sendMessage(\"§f====== §b[DemonLobby] §f======\");\n                    sender.sendMessage(\"§7作者: §a妖魂吖\");\n                    sender.sendMessage(\"§7QQ号: §a1763917516\");\n                    sender.sendMessage(\"§f=========================\");\n                }\n                if (args[0].equalsIgnoreCase(\"setspawn\"))\n                {\n                    Player p = (Player)sender;\n                    if (!sender.hasPermission(\"DemonLobby.admin\"))\n                    {\n                        sender.sendMessage(\"§b[DemonLobby] §c你没有权限输入该命令.\");\n                        return true;\n                    }\n                    getConfig().set(\"Spawn.world\", p.getLocation().getWorld().getName());\n                    getConfig().set(\"Spawn.x\", Double.valueOf(p.getLocation().getX()));\n                    getConfig().set(\"Spawn.y\", Double.valueOf(p.getLocation().getY()));\n                    getConfig().set(\"Spawn.z\", Double.valueOf(p.getLocation().getZ()));\n                    getConfig().set(\"Spawn.yaw\", Float.valueOf(p.getLocation().getYaw()));\n                    getConfig().set(\"Spawn.pitch\", Float.valueOf(p.getLocation().getPitch()));\n                    p.getWorld().setSpawnLocation(p.getLocation().getBlockX(), p.getLocation().getBlockZ(), p.getLocation().getBlockY());\n                    saveConfig();\n                    sender.sendMessage(\"§b[DemonLobby] §a传送点设置完成.\");\n                }\n                if (args[0].equalsIgnoreCase(\"reload\"))\n                {\n                    if (!sender.hasPermission(\"DemonLobby.admin\"))\n                    {\n                        sender.sendMessage(\"§b[DemonLobby] §c你没有权限输入该命令.\");\n                        return true;\n                    }\n                    reloadConfig();\n                    sender.sendMessage(\"§b[DemonLobby] §a配置文件重载完成.\");\n                }\n            }\n        }\n        return true;\n    }\n\n    @EventHandler\n    public void 玩家死亡信息(PlayerDeathEvent e){\n        if(getConfig().getBoolean(\"DeathMessage.enabled\")) {\n            e.setDeathMessage( null );\n        }\n    }\n\n    @EventHandler\n    public void 玩家饱和度(FoodLevelChangeEvent e){\n        if(getConfig().getBoolean(\"NoHunger.enabled\")){\n            e.setCancelled(true);\n        }\n    }\n\n    @EventHandler\n    public void 拾取掉落物品(PlayerPickupItemEvent e) {\n        if(getConfig().getBoolean(\"NoPickpuItems.enabled\")) {\n            e.setCancelled( true );\n        }\n    }\n    @EventHandler\n    public void 虚空拉回(PlayerMoveEvent e) {\n        Player p = e.getPlayer();\n        int locY = 0;\n        if(getConfig().getBoolean(\"VoidTeleport.enabled\")) {\n            if (locY > p.getLocation().getY()) {\n                p.teleport( 传送点() );\n            }\n        }\n    }\n    @EventHandler\n    public void 玩家重生(PlayerRespawnEvent e) {\n        e.setRespawnLocation( 传送点() );\n    }\n    @EventHandler\n    public void 玩家加入(PlayerJoinEvent e) {\n        if (getConfig().getBoolean( \"PlayerJoinSpawn.enabled\" )) {\n            e.getPlayer().teleport( 传送点() );\n        }\n        if (getConfig().getBoolean( \"PlayerJoinPotion.enabled\" )) {\n            if (getConfig().getBoolean( \"PlayerJoinPotion.potion.speed\" )) {\n            e.getPlayer().addPotionEffect( new PotionEffect( PotionEffectType.SPEED, Integer.MAX_VALUE, 1 ) );\n            }\n            if (getConfig().getBoolean( \"PlayerJoinPotion.potion.jump\" )) {\n                e.getPlayer().addPotionEffect( new PotionEffect( PotionEffectType.JUMP, Integer.MAX_VALUE, 1 ) );\n            }\n            if (getConfig().getBoolean( \"PlayerJoinPotion.potion.nightvision\" )) {\n                e.getPlayer().addPotionEffect( new PotionEffect( PotionEffectType.NIGHT_VISION, Integer.MAX_VALUE, 1 ) );\n            }\n        }\n    }\n    @EventHandler\n    public void 二段跳(PlayerToggleFlightEvent event)\n    {\n        Player player = event.getPlayer();\n        if(getConfig().getBoolean(\"JumpX2.enabled\")) {\n            if (player.getGameMode() == GameMode.CREATIVE) {\n                return;\n            }\n            event.setCancelled( true );\n            player.setAllowFlight( false );\n            player.setFlying( false );\n            player.setVelocity( player.getLocation().getDirection().multiply( 1 ).setY( 1.2D ) );\n        }\n    }\n\n    @EventHandler\n    public void 二段跳(PlayerMoveEvent event) {\n        Player player = event.getPlayer();\n        if(getConfig().getBoolean(\"JumpX2.enabled\")) {\n            if ((player.getGameMode() != GameMode.CREATIVE) &&\n                    (player.getLocation().subtract( 0.0D, 1.0D, 0.0D ).getBlock().getType() != Material.AIR) &&\n                    (!player.isFlying())) {\n                player.setAllowFlight( true );\n            }\n        }\n    }\n    @EventHandler\n    public void 禁止放置(BlockPlaceEvent e) {\n        if(getConfig().getBoolean(\"NoPlace.enabled\")) {\n            e.setCancelled( true );\n        }\n    }\n\n    @EventHandler\n    public void 禁止破坏(BlockBreakEvent e) {\n        if(getConfig().getBoolean(\"NoBreak.enabled\")) {\n            e.setCancelled( true );\n        }\n    }\n\n    @EventHandler\n    public void 免疫伤害(EntityDamageEvent e) {\n        if(getConfig().getBoolean(\"NoDamage.enabled\")) {\n            e.setCancelled( true );\n        }\n    }\n\n\n    public Location 传送点()\n    {\n        Location loc = null;\n        String w = getConfig().getString(\"Spawn.world\");\n        double x = getConfig().getDouble(\"Spawn.x\");\n        double y = getConfig().getDouble(\"Spawn.y\");\n        double z = getConfig().getDouble(\"Spawn.z\");\n        float pi = (float)getConfig().getDouble(\"Spawn.pitch\");\n        float ya = (float)getConfig().getDouble(\"Spawn.yaw\");\n        loc = new Location(Bukkit.getWorld(w), x, y, z, ya, pi);\n        return loc;\n    }\n}\n\n\n\n",
    "replies": [
        {
            "author": "ruce_back",
            "timestamp": 1580292720,
            "txt_content": "作者作者  好像并不是很支持mv   1.12.2的版本情况下/mv进别的世界也会有这些buff"
        },
        {
            "author": "妖魂吖",
            "timestamp": 1580975160,
            "txt_content": "bruce_back 发表于 2020-1-29 18:12\n作者作者  好像并不是很支持mv   1.12.2的版本情况下/mv进别的世界也会有这些buff ...\n下一个版本我做个开启世界和添加一些功能吧~"
        },
        {
            "author": "ruce_back",
            "timestamp": 1580975520,
            "txt_content": "a1763917516 发表于 2020-2-6 15:46\n下一个版本我做个开启世界和添加一些功能吧~\n辛苦了   期待下一版"
        },
        {
            "author": "Mojang3369",
            "timestamp": 1582271820,
            "txt_content": "太厉害了！OP都破坏不了！可以防熊OP了！"
        },
        {
            "author": "娱乐至死o",
            "timestamp": 1596031620,
            "txt_content": "没看太懂"
        }
    ]
}