{
    "title": "如何用Vault插件获取的Economy对象操作玩家的金钱",
    "author": "User:guest",
    "replyCount": 8,
    "timestamp": 1480902540,
    "txt_content": "如题。\n\n初始化得到了Economy对象后，怎么操作玩家的钱。不知道这个插件内部是怎么设计的。\n\n可以举个例子，比如给玩家添加100元",
    "replies": [
        {
            "author": "User:guest",
            "timestamp": 1480921440,
            "txt_content": "求解。而且我装了Vault，初始化却得不到Economy对象"
        },
        {
            "author": "a8105",
            "timestamp": 1480947360,
            "txt_content": "其他插件可能还没有详细的教程\nVault的话主题内容就有了...:\nhttps://dev.bukkit.org/bukkit-plugins/vault/"
        },
        {
            "author": "User:guest",
            "timestamp": 1481010180,
            "txt_content": "810587921 发表于 2016-12-5 22:16\n其他插件可能还没有详细的教程\nVault的话主题内容就有了...:\nhttps://dev.bukkit.org/bukkit-plugins/vault ...\n恩恩，已经解决了，感谢。\n\n顺便分享一下经验，Vault插件必须配合iConomy或者基于Vault的经济插件，才能获取对象成功，对象下面直接有操作玩家金钱的方法，drawwithplayer是扣除金钱"
        },
        {
            "author": "jnworld",
            "timestamp": 1486115760,
            "txt_content": "虽然你的问题已经解决  \n\n\nimport net.milkbowl.vault.economy.Economy;\nimport org.bukkit.Bukkit;\nimport org.bukkit.plugin.RegisteredServiceProvider;\nimport org.bukkit.plugin.ServicesManager;\n\npublic final class 类名\n{\n  private static Economy economy;\n  private static boolean supportVault = false;\n\n  public static boolean setupEconomy()\n  {\n    RegisteredServiceProvider economyProvider = Bukkit.getServicesManager().getRegistration(Economy.class);\n    if (economyProvider != null) {\n      economy = (Economy)economyProvider.getProvider();\n    }\n    supportVault = economy != null;\n    return supportVault;\n  }\n\n  public static boolean isSupportVault()\n  {\n    if (economy != null) return true;\n    return setupEconomy();\n  }\n\n  public static void give(String player, double money)\n  {\n    if (economy == null) throw new UnsupportedOperationException(\"还没有链接到Vault\");\n    economy.depositPlayer(player, money);\n  }\n\n  public static void take(String player, double money)\n  {\n    if (economy == null) throw new UnsupportedOperationException(\"还没有链接到Vault\");\n    economy.withdrawPlayer(player, money);\n  }\n\n  public static double getBalance(String player)\n  {\n    if (economy == null) throw new UnsupportedOperationException(\"还没有链接到Vault\");\n    return economy.getBalance(player);\n  }\n\n  public static boolean has(String player, double money)\n  {\n    if (economy == null) throw new UnsupportedOperationException(\"还没有链接到Vault\");\n    return getBalance(player) >= money;\n  }\n}\n\n\n代码来源于插件Deathlosemoney\n\nsetupEconomy();\n后即可调用里面的method了"
        },
        {
            "author": "User:guest",
            "timestamp": 1486353480,
            "txt_content": "jnworld 发表于 2017-2-3 17:56\n虽然你的问题已经解决  \n应该不是这样吧，最直接的不是这样"
        },
        {
            "author": "jnworld",
            "timestamp": 1486387260,
            "txt_content": "User:guest 发表于 2017-2-6 11:58\n应该不是这样吧，最直接的不是这样\n大哥   就仅仅这些代码就能够让你:\n查询玩家是否拥有足够的钱\n扣钱\n给钱\n查钱了"
        },
        {
            "author": "MissingU",
            "timestamp": 1587664500,
            "txt_content": "昂，emm怎么样呀"
        },
        {
            "author": "怜生",
            "timestamp": 1587786480,
            "txt_content": "已经买了谢谢老板，很好用"
        }
    ]
}