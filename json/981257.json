{
    "title": "谓词随机数生成器——简洁明了的随机数前置（划掉）",
    "author": "zhao4666",
    "replyCount": 0,
    "timestamp": 1583762280,
    "txt_content": " 本帖最后由 zhao4666 于 2020-3-9 22:10 编辑 \n\n1.15+ 谓词随机数生成器\n\n\n\n来自作者的一些爱看不看的话\n前几天看了SPGoding发的关于谓词（断言）的帖子，突然觉得可以用random_chance来实现二进制随机数，在一番研究后便有了此帖\n\n\n\n\n使用方法\n载入数据包：\n\n\n\nrandom.zip\n(2.61 KB, 下载次数: 2)\n\n\n\n2020-3-9 21:34 上传\n点击文件名下载附件\n\n\n\n\n\n\n将此文件放入存档的datapacks文件夹中，无需解压\n在游戏中输入指令/reload以重新加载数据包\n在函数、命令方块中依次执行：\nscoreboard players set #random_min value 【随机数最小值】\nscoreboard players set #random_max value 【随机数最大值】\nfunction random:random\n复制代码生成的随机数将会储存在#random的value计分板下\n\n\n原理讲解\n1.在random/functions/load.mcfunction创建一个value计分板scoreboard objectives add value dummy复制代码\n2.创建random/predicates/random.json的随机谓词(让谓词有50%的几率成功){\n    \"condition\": \"minecraft:random_chance\",\n    \"chance\": 0.5\n}复制代码3.创建random/functions/random.mcfunction和循环函数random/functions/random_add.mcfunction#random/functions/random.mcfunction\n\nscoreboard players set #random value 0\nscoreboard players set #random_add value 1\nexecute if predicate random:random run scoreboard players operation #random random += #random_add random\nfunction random:random_add\nscoreboard players operation #random_interval value = #random_max value\nscoreboard players operation #random_interval value -= #random_min value\nscoreboard players add #random_interval value 1\nscoreboard players operation #random value %= #random_interval value\nscoreboard players operation #random value += #random_min value复制代码#random/functions/random_add.mcfunction\n\nscoreboard players operation #random_add value += #random_add value\nexecute if predicate random:random run scoreboard players operation #random value += #random_add value\nexecute unless score #random_add value matches 1073741824 run function random:random_add复制代码\n\n此处是将二进制的一堆1分解，如果此处是谓词判断成功，则该位设为1（在原有的基础加2[sup]位数-1[/sup]）\n比如判断30次，就会有2[sup]30[/sup]的随机数可以生成\n例：0101 1101 1101 0110 0111 1111 0101 1001 -> 1,574,338,393\n\n优点&缺点优点：你可以不用了解战利品表（参考ruhuasiyu的帖子），只要懂一点点的谓词就可以了缺点：代码太多（有可能影响到最大每tick函数限制）\n为什么我总觉得缺点比优点多多了呢\n",
    "replies": []
}