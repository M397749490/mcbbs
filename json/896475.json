{
    "title": "sponge的全局文件优化实体",
    "author": "二哈大魔王",
    "replyCount": 9,
    "timestamp": 1564884300,
    "txt_content": "sponge的global文件提供了一些可以优化的参数..关于实体方面可以从哪几个部分进行优化?\n\n我有装AIImprovements mod  但是发现实体方面还是占用cpu过多.具体表现是当玩家在末地引一群小黑的时候..\n\n我优化了加载范围..但是好像效果并不明显..\n\n这里有一个参数是不是可以优化呢?他的效果是啥?调低可以起到什么作用? 还有没有其他的优化实体方面的?\n\n三巨佬召唤术\n@HTL9257 @Tollainmear @酷车手BB弹 \n# Max amount of entities any given entity or block can collide with. This improves performance when there are more than 8 entities on top of eachother such as a 1x1 spawn pen. Set to 0 to disable.        # 一个实体或方块可以发生碰撞的数量上限。可以将其设为0以禁用。                max-entities-within-aabb=8\n",
    "replies": [
        {
            "author": "_DIM_",
            "timestamp": 1564889040,
            "txt_content": "这个选项没作用\n\n可用这个模组控制生物数量\nhttps://minecraft.curseforge.com/projects/mob-controller"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1564890720,
            "txt_content": "给实体tick条件可苛刻点\n\n每秒给实体tick也可优化\n\n碰撞上限是原版就有 不过sponge加了个配置文件方便配置\nhttps://docs.spongepowered.org/s ... guration/index.html"
        },
        {
            "author": "二哈大魔王",
            "timestamp": 1564890840,
            "txt_content": "阴阳师元素祭祀 发表于 2019-8-4 11:52\n给实体tick条件可苛刻点\n\n每秒给实体tick也可优化\n你这网站我打不开呀.."
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1564890960,
            "txt_content": "二哈大魔王 发表于 2019-8-4 11:54\n你这网站我打不开呀..\n我帮你复制了全局的\n\nglobal.conf 文件\n全局设定\nSponge 的全局配置储存在 global.conf 文件中。游戏会自动在 config/sponge 目录下创建该文件。许多配置同时可以通过特定世界或维度中对应的配置文件中的配置来覆盖。\n\n下表给出了 global.conf 文件中所有可用的设定选项及对应的说明。注意：有些内容在缺省设定中不存在，需要在需要时自行加上。在表格的后面还提供了一份未经修改的 global.conf 以供参考。\n\nSponge 的全局属性\nblock-capturing\nauto-populate\n启用后，新出现的方块将会以默认值添加到配置文件中。\nmods\n基于每个 Mod 的方块 ID 的映射，用于控制对应的捕获行为\nblock-tick-capturing\n启用后，将会执行对特定方块的 tick 调度的单独捕获。\nenabled\n禁用后，将忽略所有针对该 Mod 的特殊规则。\nblock-tick-capturing\n启用后，将会执行对特定方块的 tick 调度的单独捕获。\nblock-tracking\nblock-blacklist\n玩家放置方块追踪器的方块 ID 黑名单，在此黑名单中的方块不会被方块放置追踪器追踪。\nenabled\n启用方块位置变化的玩家追踪支持。注意：你应当只在你不需要知道哪个玩家导致了方块更新时禁用此功能。\nbungeecord\nip-forwarding\n启用后，BungeeCord 可转发 IP 地址、UUID、玩家档案到服务器。\ncause-tracker\ncapture-async-spawning-entities\n启用后，若有 Mod 或插件试图在非主线程上生成实体，Sponge 将捕获该操作，并将其转移到主线程上正确生成。这样做是因为有些 Mod 没有考虑非主线程上生成实体的后果，及潜在的竞争条件。禁用此选项后，Sponge 会忽略该操作，并生成一个警告。\ngenerate-stacktrace-per-phase\n启用后，Sponge 会在每一次切换 PhaseState 时，生成更为全面的 PhaseState 的调试信息及对应的栈帧，可在 PhaseState 出错时进行更为精细的调试。注意，这个功能的速度并不快，频繁生成栈帧可能会有潜在的性能开销。\nmaximum-printed-runaway-counts\n若没有开启详细信息，被打印的逃逸的 PhaseState 数量将会限定在该选项设定的值以内，这通常是因为 PhaseState 没有完成。这个选项的意义在于防止某些罕见情况下 PhaseState 的逃逸反复出现并在终端中输出对应信息的情况，虽然这个情况不应该发生。若详细信息开启，这个选项将会被忽略。\nverbose\n设定为 true 后，Phase Tracker 会在进入过多 Phase 的时候打印相关信息，通常这意味着有潜在的反复进入 Phase，或者追踪的 Phase 没有完成的问题。若相关问题还未有人反馈，请反馈给 Sponge。若相关问题已有人反馈，可以直接禁用此选项。\nverbose-errors\n设定为 true 后，Phase 追踪器会在非 PhaseTracker 抛出异常时打印当前 Phase 的额外信息。此功能通常没有必要使用，因为异常本身通常就足以揭示问题所在。\ncommands\naliases\n命令别名可用于在多个插件同时请求某一个命令时解决冲突，语法：<unqualified command>=<plugin name>，比如 “sethome=homeplugin”。\nmulti-world-patches\n修正某些指令，使其只修改命令发送者当前所在的世界，而非所有世界的属性。\nconfig-enabled\n该选项在全局配置中没有效果。在每个维度/世界的配置中，这个选项可以控制当前配置是否覆盖其继承的配置中的对应选项。\ndebug\nconcurrent-entity-checks\n探测并阻止对实体的并发操作。警告：可能会大幅影响服务器性能。仅用于调试已存在的问题。\ndump-chunks-on-deadlock\n在遇到死锁时导出区块数据。\ndump-heap-on-deadlock\n在遇到死锁时导出堆内存数据。\ndump-threads-on-warn\n在死锁警告时导出服务器当前线程信息。\nthread-contention-monitoring\n设定为 true 后，将启用关于 Java 的线程竞争（Thread Contention）的监视器。\nentity\ncollision-warn-size\n在同一个位置发生实体碰撞达到设定的上限值时触发警告。可以将其设为 0 来禁用。\ncount-warn-size\n在同一个世界维度中出现的实体达到设定的上限值时触发警告，将其设为 0 来禁用。\nentity-painting-respawn-delay\n设定作为实体的画在更换的多少个 tick 后同步至客户端。\nhuman-player-list-remove-delay\n将虚拟玩家从 Tab 列表中移除的时间（范围：0 - 100 tick）。\nitem-despawn-rate\n控制物品的消失时间，单位为 tick。\nliving-hard-despawn-range\n保证实体不会消失的距离玩家的最大距离（译者注：参见 Minecraft 的刷怪机制）。\nliving-soft-despawn-minimum-life\n在消失（译者注：见上一条）和潜在地消失（译者注：见下一条）范围之间的实体尝试消失的时间间隔（译者注：参见 Minecraft 的刷怪机制）。\nliving-soft-despawn-range\n保证实体不会潜在地消失的距离玩家的最大距离（译者注：参见 Minecraft 的刷怪机制）。\nmax-bounding-box-size\n在实体存活期间的碰撞箱的最大尺寸。可以将其设为 0 以禁用。\nmax-speed\n实体存活期间的最大速度的平方。可以将其设为 0 以禁用。\nentity-activation-range\nauto-populate\n设定为 true 后，新出现的实体将添加到该配置的默认值。\ndefaults\n生物的默认激活范围（被特殊指定的生物除外）。\nmods\n和具体模组有关，比如表示 Minecraft 游戏本体的默认模组（译者注：Sponge 本身将 Minecraft 本体看作是一个模组）。\nentity-collisions\nauto-populate\n设定为 true 后，新出现的实体或方块将添加到该配置的默认值。\ndefaults\n生物或方块的默认碰撞盒（被特殊指定的生物或方块除外）。\nmax-entities-within-aabb\n某个方块或实体能碰撞的其他实体的最大数量。这个选项可用于改善诸如 1 格的刷怪点等情况下有多于 8 个实体互相碰撞的情况。设定为 0 以禁用。\nmods\n和具体模组有关，比如表示 Minecraft 游戏本体的默认模组（译者注：Sponge 本身将 Minecraft 本体看作是一个模组）。\ndefaults\n生物或方块的默认碰撞盒（被特殊指定的生物或方块除外）。\nenabled\n设定为 false 后，将忽略所有针对该 Mod 的特殊规则。\ndefaults\n生物或方块的默认碰撞盒（被特殊指定的生物或方块除外）。\nenabled\n设定为 false 后，将忽略所有针对该 Mod 的特殊规则。\nexploits\nprevent-creative-itemstack-name-exploit\n阻止客户端发送名称长度超过字符串的最大限制的物品数据包。\nprevent-sign-command-exploit\n阻止客户端发送没有相应权限的玩家创建包含命令的内容的牌子数据包。\ngeneral\nconfig-dir\nSponge 插件的配置文件所在目录，可相对于游戏本身目录，也可使用绝对路径。默认值 “${CANONICAL_GAME_DIR}/config” 代表使用游戏本身目录下的 “config” 文件夹。如果你希望插件配置文件夹位于主配置文件夹下面，可以使用类似 “${CANONICAL_CONFIG_DIR}/sponge/plugins” 的值。注意，这里不推荐将值直接设定为 “${CANONICAL_CONFIG_DIR}/sponge”，因为这样可能会与 Sponge 的核心配置文件产生冲突。\ndisable-warnings\n阻止将警告消息发送到服务器管理员处的行为。\nfile-io-thread-sleep\n设定为 true 后，将启用区块保存之间的休眠，请注意内存问题。\nplugins-dir\n额外的插件安装目录，Sponge 会同时在这个目录下搜索可加载的插件，路径可相对于游戏所在目录，也可使用绝对路径。默认值 “${CANONICAL_MODS_DIR}/plugins” 代表在游戏所在目录的 mods 文件夹下的 plugins 文件夹下搜索插件。如果你想让 plugins 文件夹在游戏根目录下，可将此设定为 “${CANONICAL_GAME_DIR}/plugins”。\nlogging\nblock-break\n当方块被破坏时记录。\nblock-modify\n当方块被改变时记录。\nblock-place\n当方块被放置时记录。\nblock-populate\n当方块在区块中填充时记录。\nblock-tracking\n当方块被玩家放置和跟踪时记录。\nchunk-gc-queue-unload\n当区块进入区块垃圾回收器的卸载队列时记录。\nchunk-load\n当区块加载时记录。\nchunk-unload\n当区块卸载时记录。\nentity-collision-checks\n是否记录对于实体碰撞或计数的检查。\nentity-death\n当生物实体被破坏（死亡）时记录。\nentity-despawn\n当生物实体消失（Despawn）时记录。\nentity-spawn\n当生物实体在世界上生成（Spawn）时记录。\nentity-speed-removal\n是否记录由于实体移速过快而导致的移除。\nexploit-itemstack-name-overflow\n记录对客户端发送名称长度超过字符串的最大限制的物品数据包的阻止行为。\nexploit-respawn-invisibility\n记录玩家试图重生时对其他玩家不可见的行为。\nexploit-sign-command-updates\n记录对客户端发送没有相应权限的玩家创建包含命令的内容的牌子数据包的阻止行为。\nlog-stacktraces\n将堆栈跟踪（Stacktrace）添加到 dev 日志记录中。\nworld-auto-save\n当世界自动保存区块数据时记录。注意：根据自动保存间隔的设定不同，这个选项可能会导致日志刷屏。\nmetrics-collection\ndefault-permission\n决定新安装的插件默认是否能收集服务器的 metrics 信息。\nplugin-permissions\n针对每个插件的服务器 metrics 信息收集开关。\nmodules\nmovement-checks\n启用原版移动及速度检查。\nrealtime\n尽可能使用现实世界的时间，而非游戏刻。\ntileentity-activation\n控制 TileEntity 的方块范围和刷新率。使用时请小心，此功能可能会影响正常的游戏功能。\nmovement-checks\nmoved-wrongly\n控制是否强制“player/entity moved wrongly!”检查\nplayer-moved-too-quickly\n控制是否强制“player moved too quickly!”检查\nplayer-vehicle-moved-too-quickly\n控制是否强制“vehicle of player moved too quickly!”检查\noptimizations\nasync-lighting\n异步进行光照更新。\nenabled\n启用后，光照将异步更新。\nnum-threads\n用于进行异步光照更新的线程数量。（默认：2）\ncache-tameable-owners\n缓存可驯服动物的主人，以避免反复使用 Data Watcher 进行查找。若有 Mod 因此出现问题，请先尝试禁用此功能。\ndrops-pre-merge\n启用后，方块的掉落将会先预处理，避免在掉落物实体生成后再进行合并操作。通常，Sponge 的判断机制足以判断何时应尝试预先合并物品，何时不应尝试；但仍有一部分 Mod 的行为依赖于掉落物不合并，此时物品应会不经处理直接掉出。\nenchantment-helper-leak-fix\n设定为 true 后，将试图（若安装有 SpongeForge）在不影响 Forge 的情况下修复 Minecraft 的 EnchantmentHelper 代码中可能泄漏世界的的引用的问题。Forge 本身有类似的修复，但 Sponge 的修复更为激进一些；同时原版本身暂未修复此问题，所以在运行 SpongeVanilla 时建议启用此选项。参阅 https://bugs.mojang.com/browse/MC-128547 获得更多信息。\npanda-redstone\n启用后，将启用 Panda4494 的红石算法实现以提高性能。参阅 https://bugs.mojang.com/browse/MC-11193 获得详细信息。注意：该优化有若干问题，相关解释可在上文提到的链接中找到。\nstructure-saving\n处理保存到磁盘中的结构。大型地图中的某些结构可能会占用大量磁盘空间，这些数据也只需要在生成的时候才需要。禁用此选项可节约磁盘空间，对于已经生成的地图来说这样也可以加快保存速度。警告：禁用结构保存会导致原版 locate 命令不可用。\nauto-populate\n设定为 true 后，新出现的结构将添加到该配置的默认值。\nmods\n和具体模组有关，比如表示 Minecraft 游戏本体的默认模组（译者注：Sponge 本身将 Minecraft 本体看作是一个模组）。\nenabled\n设定为 false 后，该 Mod 的结构将不会保存。\nspawner\n用于控制玩家周围的生物刷新。注意：半径的选择是取生物的生成半径和服务器视距的较小值。\nspawner\nspawn-limit-ambient\n刷怪箱可在玩家周围生成的环境生物数量。\nspawn-limit-animal\n刷怪箱可在玩家周围生成的动物数量。\nspawn-limit-aquatic\n刷怪箱可在玩家周围生成的水生动物数量。\nspawn-limit-monster\n刷怪箱可在玩家周围生成的怪物数量。\ntick-rate-ambient\n环境生物刷新率。默认：400\ntick-rate-animal\n动物刷新率。默认：400\ntick-rate-aquatic\n水生动物刷新率。默认：400\ntick-rate-monster\n怪物刷新率。默认：400\nsql\n与 SQL 服务相关的配置选项，包括连接、别名等。\nsql\naliases\nSQL 连接的别名。格式：jdbc:protocol://[username[:password]@]host/database\nteleport-helper\n安全传送机制使用的方块黑名单。\nteleport-helper\nforce-blacklist\n设定为 true 后，此黑名单将会永久有效；否则插件可以自行决定是否使用此黑名单。\nunsafe-body-block-ids\n在这里列出的方块不会被 Sponge 的安全传送机制认为是安全的传送目的地。你应该仅将没有正确选择的方块列入此表；会阻止移动的固态方块默认已经自动排除。\nunsafe-floor-block-ids\n在这个列表中出现的方块将不会被 Sponge 的安全传送机制选中为安全的地板方块。\ntileentity-activation\nauto-populate\n设定为 true 后，新出现的 TileEntity 将添加到该配置的默认值。\ndefault-block-range\nTileEntity 使用的默认方块激活范围（被特殊指定的 TileEntity 除外）。\ndefault-tick-rate\nTileEntity 使用的默认刷新频率（被特殊指定的 TileEntity 除外）。\nmods\n和具体模组有关，比如表示 Minecraft 游戏本体的默认模组（译者注：Sponge 本身将 Minecraft 本体看作是一个模组）。\ntimings\nworld\nauto-player-save-interval\n全局玩家数据自动保存间隔，单位为 tick（默认值：900）。注：20 tick 等价于一秒。设定为 0 时将禁用此选项。\nauto-save-interval\n指定世界中所有已加载区块数据的自动保存间隔，单位为 tick（默认值：900）。注：20 tick 等价于一秒。设定为 0 时将禁用此选项。\nchunk-gc-load-threshold\n触发强制清理前允许的新加载区块数。注：触发后，区块加载阈值会重制并开始增加。默认禁用。\nchunk-gc-tick-interval\n清理指定世界中泄漏的不活跃区块的时间间隔，单位为 tick（默认值：600）。设定为 0 时将禁用此选项，并启用对应的原版机制。\nchunk-unload-delay\n区块被标记为不活跃时的卸载推迟时间，单位为秒（默认值：15）。注：区块重新活跃时推迟时间会重制。\ndeny-chunk-requests\n设定为 true 后，所有对未加载区块的操作都会被拒绝（除了世界生成和玩家移动等特殊情况）。注意：此功能虽然有助于性能提升，但其仍处于实验阶段，如果遇到问题，我们建议禁用此功能。\nflowing-lava-decay\n设定为 true 后，没有源头的原版熔岩和原版水的行为一致。\ngameprofile-lookup-batch-size\n单次对 Mojang 验证服务器发送的 GameProfile 请求所包含的任务数量（默认值：1）。注：Mojang 每 10 分钟只接受来自单一 IP 地址的 600 次请求。如果你在单一 IP 地址上运行有多个服务器，建议提高 gameprofile-task-interval 的值以平衡请求数量。设定为 0 或负值将默认使用默认值。更多信息可参考 http://wiki.vg/Mojang_API\ngameprofile-lookup-task-interval\nGameProfileQueryTask 处理队列中的 GameProfile 请求的等待时间，单位为秒（默认值：4）。注：如果遇到下列错误，应将此设定为更大的值：”The client has sent too many requests within a certain amount of time”。设定为 0 或负值时，将直接使用默认值。\ngenerate-spawn-on-load\n设定为 true 后，世界会在加载后生成 spawn。\ninfinite-water-source\n原版水方块的行为是无限水。\ninvalid-lookup-uuids\n在该列表中的 UUID 永远不会提交到 Mojang 的验证服务器进行查询。注意：如果你在使用 SpongeForge，请确保你使用的 Mod 用到的 FakePlayer 的 UUID 都在此列表中。\nitem-merge-radius\n定义了物品实体的合并半径，即当两个物品实体之间的距离不超过此设定值时，将尝试合并到一起。通常，原版使用的默认值为 0.5，但一般来说为了性能可将其设定为 2.5。注：继续增加这个值可能会对性能有负面影响，因为这样会引发更多的物品合并。不支持设定为负值！\nkeep-spawn-loaded\n启用后，该世界的出生点区块（spawn 区块）会在没有玩家存在时保持加载。\nleaf-decay\n启用后，树叶会自然凋谢。\nload-on-startup\n启用后，该世界将会在服务器启动时加载。\nmax-chunk-unloads-per-tick\n单个 tick 中在区块卸载等待队列中的区块数量最大值。注：启用区块 GC 后，该设定仅在 GC 运行的 tick 中有效（由 chunk-gc-tick-interval 控制）；若该最大值过低，残留在世界中未卸载的区块数会增加，进而坑会导致 TPS 下降。（默认值：100）\nmob-spawn-range\n指定生成生物的半径（以区块为单位）。此数值受 server.properties 中的当前视野范围限制。\nportal-agents\n一个在这个世界上的所有用于传送门代理的传送门列表。如果想要覆盖它，请把目标世界名称换成任何其他的可用的世界。注意：如果设置的目标世界不存在，配置将仍使用默认值。\npvp-enabled\n启用后，该世界将允许 PVP。\nview-distance\n每个世界或维度的视距设定。其值必须大于等于 3，并且小于等于 32。若设定为 -1，将使用全局视距。\nweather-ice-and-snow\n启用后，在指定生物群系中允许自然形成冰和雪。\nweather-thunder\n启用后，雷暴将会在允许雷暴的生物群系中出现。\nworld-enabled\n启用后，该世界将会被注册。\n\n\n另track里面还有东西可以改"
        },
        {
            "author": "二哈大魔王",
            "timestamp": 1564893540,
            "txt_content": "阴阳师元素祭祀 发表于 2019-8-4 11:56\n我帮你复制了全局的\n关键.. 我知道这些配置在哪.. 但是我不知道怎么优化啊...改哪些参数之类的.."
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1564893900,
            "txt_content": "二哈大魔王 发表于 2019-8-4 12:39\n关键.. 我知道这些配置在哪.. 但是我不知道怎么优化啊...改哪些参数之类的.. ...\nsponge下\ntracker.conf里\n    entity {\n        # If 'true', newly discovered entities will be added to this config with default settings.\n        auto-populate=true\n\n然后开服运行一会 在关服过来检查\n设置实体的tick rate\n\nblock里面也可设置\n\n降低tick来提升速度\n//对于机器的tick 可增加单tick产出然后减少tick即可\n\n\nglobal里面  entity-activation-range\n可将各种参数稍微调小减少运算量\n\n\nspawner可改上限 根据感觉下调点"
        },
        {
            "author": "二哈大魔王",
            "timestamp": 1565034780,
            "txt_content": "阴阳师元素祭祀 发表于 2019-8-4 12:45\nsponge下\ntracker.conf里\n    entity {\n我在 tracker里面 auto-populate=true\n\n然后他确实生成了很多配置文件 ..但是并没有所以的设置实体 tick rate来优化的项目...只有很多开关项目 没有设置数值的东西...\n\n\n\ntracker.conf\n(270.64 KB, 下载次数: 2)\n\n\n\n2019-8-6 03:53 上传\n点击文件名下载附件\n\n\n\n\n\n"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1565062020,
            "txt_content": "二哈大魔王 发表于 2019-8-6 03:53\n我在 tracker里面 auto-populate=true\n\n然后他确实生成了很多配置文件 ..但是并没有所以的设置实体 tick  ...\n那可能是我记错了(\n我记得我之前还设过\n另外module里面的real-time打开\n这些true false里面看着关一些大概差不多\n    modules {\n        # Enables experimental fixes for broken mods\n        broken-mod=false\n        bungeecord=false\n        entity-activation-range=true\n        entity-collisions=true\n        # Controls whether any exploit patches are applied.\n        # If there are issues with any specific exploits, please\n        # test in the exploit category first, before disabling all\n        # exploits with this toggle.\n        exploits=true\n        # Allows configuring Vanilla movement and speed checks\n        movement-checks=false\n        optimizations=true\n        # Use real (wall) time instead of ticks as much as possible\n       realtime=true\n        # Controls block range and tick rate of tileentities. \n        # Use with caution as this can break intended functionality.\n        tileentity-activation=false\n        timings=true\n        tracking=true\n    }复制代码\nrealtime=true"
        },
        {
            "author": "二哈大魔王",
            "timestamp": 1565178840,
            "txt_content": "酷车手BB弹 发表于 2019-8-4 11:24\n这个选项没作用\n\n可用这个模组控制生物数量\n试了半天 没有效果呀.. 在配置文件里写入这一段..想禁止 小黑刷新  但是没用呀..我是不是哪里搞的不对.\n\"minecraft:enderman\"{S:Dim-Limit=1} 复制代码"
        }
    ]
}