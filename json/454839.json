{
    "title": "【红石强模】十进制两位数乘法器研究",
    "author": "ufof",
    "replyCount": 12,
    "timestamp": 1434032520,
    "txt_content": " 本帖最后由 ufof 于 2015-6-18 21:52 编辑 \n\n看到那么多人加分，我决定我要好好的编辑一下\n版主抱歉= =最近事情有点多图片我先不改了 而且红字貌似也没多大影响= =\n\n突然发现好久没有撸红石的东西了。于是我最近突发奇想，弄了一个两位数的乘法器。\n算法和原理呢，很简单。我在这个帖子会介绍。\n零、一些词汇的概念\n模电：全称模拟电路。通过十进制的无限个值来表示一个数。与数字电路相反。数字电路通过二进制表示数。红石模电：红石模电与现实生活中的模电有些差别。红石中的模电是指通过红石线/比较器的信号强度来表示数。这种电路运算十分简单。不过传输需要通过特殊的方法。强模：我们刚才提到了，红石模电是通过红石线/比较器的信号强度来表示数。但是红石线最强的信号是15，很明显这个定义域实在太小了。而我们可以通过命令方块修改NBT的方法使比较器存储更高的数（最高值为2^31-1）。这个发现使红石模电进入了一个新的纪元。详情请看http://www.mcbbs.net/thread-246679-1-1.html 以及 http://www.mcbbs.net/thread-297351-1-1.html 。只要>15的信号即为强模。\n\n\n\n\n一、算法\n\n初始化两个两位数，x、y。其中x的十位数为a、个位数为b；y的十位数为c、个位数为d。\n\n\n\n注意：这里ab和cd上面的横线是为了表示ab和cd并非相乘关系，而是一个数字的不同位数。\n\n则有：\n\n\n\n这个数学应该看得懂吧？加法前面的部分是十位数的计算，后面的是个位数的计算。\n如果你们认真的读了一下第0章，你们会发现ab是强模，而c和d是弱模。毕竟c和d是一位数，定义域为∈[0,9]，小于15，所以肯定为弱模。而ab是两位数，大部分情况下>15，所以为强模。\n不过这样计算的话在模电中有些困难。c*10必定是一个强模的信号（除非积＜15）。而强模×强模非常麻烦。\n根据乘法结合律：\n\n\n\n我们可以先把ab乘10，再乘以c。这样就是强模×弱模了，很容易实现。\n\n例如：\n\n\n\n好吧关于数学先说这么多了吧，自己都感觉回到了小学。\n\n\n二、大致原理\n\n这个就是我的作品啦：\n\n\n\n\n这个地图面积我觉得还行吧，不过有一个缺点。四个输入端都太分散了。\n\n\n\n\n\n\n四个输入端我是通过漏斗来输入的。一个漏斗可以输出0~15之间的红石信号，物品越多信号即越强。\n再来介绍一下这个地图的几个部分：\n\n\n\n\n主要分为这几个部分：\n对ab的强模化（灰色羊毛）ab*10（蓝色羊毛）(ab*10)*c（橘色羊毛）ab*d（红色羊毛）两者相加\n\n先来说说第一个：\n我们刚才提到了ab是强模，而c和d不是。所以我们需要把a和b强模化。其实简单的来说就是把a*10，然后把积再加上b。这样就得到了ab的强模数。\n\nab*10的部分很容易理解。其实就是把ab连加自己十次。即得到了ab*10；\n之后这个数字得要*c。这里是先把c的数字分解成9个数字电路，c的值是几，就激活几条电路，就推动几个活塞，控制(ab*10)乘以多少次。加号左边的部分就做完了。\n\n然后就要做ab*d。原理和*c一样。先把d分解成9个数电，推动活塞，控制ab的乘数。\n\n\n三、详细原理\n\n再来回顾一下我们的算法：\n\n\n我们可以发现，这个式子里面不是乘法就是加法。那么我们先从加法开始：\n\n这是一个基本的弱模加法器。逻辑是15-(15-A-B)=A+B\n左侧给出的是一个15的信号，15分别通过两个减法模式的比较器减去A和B，然后再用15减去这个数。\n\n\n在我的这个乘法器的作品里的，加法器是强模的。其实只需要在这个加法器上稍作加工即可。我们把上图的红石火把改成两个强模发生器，产生2^31-1强度的信号。详见：http://www.mcbbs.net/thread-297351-1-1.html\n\n\n好，加法器讲完了，现在再来说说乘法器。\n\n一个数*10，是不是就是相当于这个数加上自己10次？\n\n\n这是一个*10的乘法器。左边的漏斗是输入端。\n我们把2^31-1视作变量x；\n这个东西的逻辑是：\nx-(x-A-A-A-A-A-A-A-A-A-A-A)=A*10\n\n是不是加法器的一个变形？就是把这个数连加10次罢了。\n\n好，但是我们现在想要使第二个乘数变得可控。我是这样做的：\n\n\n大家可以发现，我在刚才的乘法器的基础之上加上了10个活塞。每一个活塞控制一个方块。第二个乘数是几，就推动几个活塞。\n我把第二个乘数每过一格-1，这样可以判断出第二个乘数的值，然后推动几个活塞。这个就是一个强模*弱模的乘法器\n\n\n存档：http://pan.baidu.com/s/1hqkwlH6\n\n\n\n好吧，我第二次编辑了一下，觉得应该比第一次好吧。希望斑竹给我提一个建议。thx\n\n也希望大神可以提提建议，喷一下。\n@卅个屮 \n@pacerrecap \n@PTmissionary \n\n\n[groupid=546]Command Block Logic[/groupid]",
    "replies": [
        {
            "author": "乾.坤",
            "timestamp": 1434032700,
            "txt_content": "虽然不是太懂强模，但是对研究方法还是肯定的，再接再厉!"
        },
        {
            "author": "ufof",
            "timestamp": 1434032880,
            "txt_content": "@乙烯_中国"
        },
        {
            "author": "20809225",
            "timestamp": 1434032940,
            "txt_content": "又学习了一课 谢谢"
        },
        {
            "author": "飞鱼在天",
            "timestamp": 1434033240,
            "txt_content": "  好久没探索红石了，今天涨姿势"
        },
        {
            "author": "pacerrecap",
            "timestamp": 1434037380,
            "txt_content": "总算有可用的成品咯~\n继续去挖那个计算器吧。。都是已有的结论了"
        },
        {
            "author": "海牛的麻烦",
            "timestamp": 1434069900,
            "txt_content": "果然mc是万能的 膜拜楼主"
        },
        {
            "author": "曾为系归舟",
            "timestamp": 1434075060,
            "txt_content": "{:10_514:}我们玩的不是同一个游戏"
        },
        {
            "author": "ufof",
            "timestamp": 1434249720,
            "txt_content": "@末影矿工"
        },
        {
            "author": "末影矿工",
            "timestamp": 1434253500,
            "txt_content": "ufof 发表于 2015-6-14 10:42\n@末影矿工\n@我者死"
        },
        {
            "author": "ufof",
            "timestamp": 1434264660,
            "txt_content": " 本帖最后由 ufof 于 2015-6-14 20:38 编辑 \n\n@jianghr \n\n我编辑了一下，感觉可读性增加了吧。来点评一下"
        },
        {
            "author": "jianghr",
            "timestamp": 1434289080,
            "txt_content": "ufof 发表于 2015-6-14 14:51\n@jianghr \n\n我编辑了一下，感觉可读性增加了吧。来点评一下\n感觉原来的可读性还好，至少对我来说没什么困难。\n现在好像是计算原理部分加了些图片，另外实物图嵌字绿地配红字实际上看不清晰，实际上绿底配黄字不错，如果是redstone ready的超平坦背景可以配蓝字或红字。\n强模对我来说主要的问题是强模信号源部分无法从弱模加到强模，无法摆脱“黑科技”，这是一个坎。实际上模电加法还是通过减法实现的，限制了这一点，如果哪天能够有其它的累加方式（如果能实现“回旋加速器”），强模会有更好的应用，我觉得前景甚至可以做到电子电路的信号放大、调制等等。"
        },
        {
            "author": "ufof",
            "timestamp": 1434290700,
            "txt_content": "jianghr 发表于 2015-6-14 21:38\n感觉原来的可读性还好，至少对我来说没什么困难。\n现在好像是计算原理部分加了些图片，另外实物图嵌字绿地 ...\n谢谢，图片我明天会改的。"
        }
    ]
}