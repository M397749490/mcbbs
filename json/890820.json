{
    "title": "[转载][NPS] 将JE存档转换为Nukkit存档的方法",
    "author": "Actahedral",
    "replyCount": 14,
    "timestamp": 1563966720,
    "txt_content": " 本帖最后由 wode490390 于 2019-7-24 20:03 编辑 \n\n众所周知JE1.12（含）前的存档可以直接扔进Nukkit使用，但一些ID会错乱。JE1.13后存档区块格式有一些变化，不能直接扔进Nukkit使用了。\n\n于是joserobjr编写了开源工具“Java2Nukkit-World-Converter（世界转换器）”，用于解决此问题。下面将介绍此工具的用法。\n\n如果歪果网站下载速度慢，可以试试天翼云盘或百度网盘。\n\n\n\n\n\nside-by-side.jpg (545.22 KB, 下载次数: 3)\n\n下载附件\n\nJE/BE\n2019-7-24 12:41 上传\n\n\n\n\n\n\n这是可以将JE1.14.3 Anvil格式的存档转换为Nukkit Anvil格式存档的命令行工具。\n\n一些基岩版或Nukkit不支持的内容会被替换或移除。\n\n准备\n\n首先请用JE1.14.3优化需要转换的存档。\n\n此工具仅支持JE1.14.3，其它版本的存档可能会在转换过程中产生错误或发生崩溃。\n\n使用此工具需要安装Java8。Java是跨平台的，所以可以在Windows、Linux、Mac OS以及其它能运行Java的平台运行本工具。\n\n如何知晓存档是否已被优化？\n\n打开一个JE旧版本创建的存档时，游戏会自动将需要加载的区块转换成当前游戏版本的区块。\n\n如果使用当前版本直接创建世界，那肯定不会有旧区块了。\n\n如何优化存档？\n\n很庆幸游戏提供了一键更新存档所有区块的选项。\n\n请按以下步骤操作：\n\n点击主菜单的“单人游戏”按钮选择世界而不打开它点击“编辑”按钮点击“优化世界”按钮点击“备份并加载”按钮等待它完成优化完成\n\n\n免责声明（原文）\nThis tool is distributed under MIT License, this means that we give no warranty and take no responsibility to any damage that this tool may cause. Please read the license terms for more details.\n\nMost of the mappings were also made manually and humans are subject to errors. If you find any block or item being converted to other item or block and which that conversion isn't reported in the replacements file, please, report it in the issues section, or, attempt to fix the mapping in the properties files and create a pull request.\n如何运行？\n\n使用命令行执行以下命令：\n\njava -jar 本工具文件名.jar \"C:\\您的JE存档目录\" \"C:\\成果输出目录\"复制代码\n\n请将以上三处中文按实际情况替换。\n\n到此，对于腐竹的教程结束，快将成果扔进Nukkit的worlds中享受吧。\n\n对于开发者\n\n如何构建此项目？\n\n安装Gradle\n\n打开命令行，执行以下命令：\n\nLinux/Unix：chmod a+x ./gradlew\n./gradlew build复制代码\nWindows：gradlew.bat build复制代码\n\nJAR可执行文件将位于 build/libs 文件夹中，以 -cli 结尾。\n\n可以将其作为一个库使用吗？\n\n可以哒！\n\nJava接口文档\n\nKotlin接口文档\n\n例子\n\nKotlin\nval converter = WorldConverter(\n    from = File(\"\"\"Z:\\Users\\Fake\\.minecraft\\saves\\Fake World\"\"\"),\n    to   = File(\"\"\"Z:\\Fake\\Nukkit\\Server\\worlds\\FakeWorld\"\"\")\n)\n\n// Allows you to specify which region will be converter\n// useful for debugging, if not changed will convert everything\nconverter.regionFilter = mutableSetOf(RegionPos(0,0), RegionPos(-1,0))\n\n// Executes the conversion\nconverter.convert()复制代码\n\nJava\nWorldConverter converter = new WorldConverter(\n    new File(\"Z:\\\\Users\\\\Fake\\\\.minecraft\\\\saves\\\\Fake World\"),\n    new File(\"Z:\\\\Fake\\\\Nukkit\\\\Server\\\\worlds\\\\FakeWorld\")\n);\n\n// Allows you to specify which region will be converter\n// useful for debugging, if not changed will convert everything\nconverter.regionFilter = new HashSet<>(Arrays.asList(new RegionPos(0,0), new RegionPos(-1,0)));\n\n// Executes the conversion\nconverter.convert();复制代码\n\n亦可模拟CLI调用\nWorldConverterCLI.main(\n    \"\"\"Z:\\Users\\Fake\\.minecraft\\saves\\Fake World\"\"\",\n    \"\"\"Z:\\Fake\\Nukkit\\Server\\worlds\\FakeWorld\"\"\"\n)复制代码\n\n添加为依赖\n\n本工具共享于jcenter仓库，不过其拥有位于不同仓库的依赖\n\n确保您添加了下面列出的所有仓库\n\nGradle\nrepositories {\n    jcenter()\n    maven { url 'https://hub.spigotmc.org/nexus/content/groups/public/' }\n    maven { url 'https://dl.bintray.com/orangy/maven' }\n}\n\ndependencies {\n    compile 'br.com.gamemods:java2nukkit-world-converter:2.0.1'    \n}复制代码\n\nMaven\n<repositories>\n    <repository>\n        <id>jcenter</id>\n        <url>https://jcenter.bintray.com/</url>\n    </repository>\n    <repository>\n        <id>spigotmc</id>\n        <url>https://hub.spigotmc.org/nexus/content/groups/public/</url>\n    </repository>\n    <repository>\n        <id>kotlinx-cli</id>\n        <url>https://dl.bintray.com/orangy/maven</url>\n    </repository>\n</repositories>\n<dependencies>\n    <dependency>\n      <groupId>br.com.gamemods</groupId>\n      <artifactId>java2nukkit-world-converter</artifactId>\n      <version>2.0.1</version>\n    </dependency>\n</dependencies>复制代码\n\nIvy\n<resolvers>\n    <bintray />\n    <bintray subject=\"orangy\" repo=\"maven\"/>\n    <ibiblio name=\"spigotmc\" root=\"https://hub.spigotmc.org/nexus/content/groups/public/\" m2compatible=\"true\" />\n</resolvers>\n<dependencies>\n    <dependency org='br.com.gamemods' name='java2nukkit-world-converter' rev='2.0.1'/>\n</dependencies>复制代码\n\n\n[groupid=1572]Nukkit Plugin Studio[/groupid]",
    "replies": [
        {
            "author": "linmiao233",
            "timestamp": 1564064940,
            "txt_content": "地图过大似乎转不了"
        },
        {
            "author": "Actahedral",
            "timestamp": 1564065840,
            "txt_content": "linmiao233 发表于 2019-7-25 22:29\n地图过大似乎转不了\n遇到问题可以到 https://github.com/GameModsBR/Java2Nukkit-World-Converter/issues 提交反馈"
        },
        {
            "author": "PQguanfang",
            "timestamp": 1564226040,
            "txt_content": "无法正常使用\n\n\n\n\n\n\nad3147f9771f382.jpg\n(153.23 KB, 下载次数: 1)\n\n\n\n\n下载附件\n\n\n2019-7-27 19:14 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "Actahedral",
            "timestamp": 1564228500,
            "txt_content": "SL小组 发表于 2019-7-27 19:14\n无法正常使用\n遇到问题可以到 https://github.com/GameModsBR/Java2Nukkit-World-Converter/issues 提交反馈"
        },
        {
            "author": "敬天爱岷",
            "timestamp": 1565572860,
            "txt_content": "地图大小上了gb好像转失败了"
        },
        {
            "author": "冯天语_Danny",
            "timestamp": 1570924140,
            "txt_content": "6G的Java1.12.2的存档支持吗？"
        },
        {
            "author": "冯天语_Danny",
            "timestamp": 1570924260,
            "txt_content": "敬天爱岷 发表于 2019-8-12 09:21\n地图大小上了gb好像转失败了\n你也想开2B2T？public class Minecraft{\n\n}复制代码"
        },
        {
            "author": "冯天语_Danny",
            "timestamp": 1570924560,
            "txt_content": "所以说1.12的直接扔进去算了？地狱和末地咋整，还是说不需要。"
        },
        {
            "author": "Actahedral",
            "timestamp": 1570943340,
            "txt_content": "冯天语_Danny 发表于 2019-10-13 07:56\n所以说1.12的直接扔进去算了？地狱和末地咋整，还是说不需要。\n作者说暂时不支持主世界以外的次元"
        },
        {
            "author": "冯天语_Danny",
            "timestamp": 1570950720,
            "txt_content": "wode490390 发表于 2019-10-13 13:09\n作者说暂时不支持主世界以外的次元\n为什么进地狱有bug。。用的是自然生成的"
        },
        {
            "author": "敬天爱岷",
            "timestamp": 1572657240,
            "txt_content": "冯天语_Danny 发表于 2019-10-13 07:51\n你也想开2B2T？\n有点晚的回复：”嗯”\n你写java啊2333\n我没研究过"
        },
        {
            "author": "hanhelong11",
            "timestamp": 1576543800,
            "txt_content": "简直太有用了，谢谢????"
        },
        {
            "author": "ddoc",
            "timestamp": 1577332440,
            "txt_content": "提示: 该帖被管理员或版主屏蔽"
        },
        {
            "author": "1742256757",
            "timestamp": 1580221500,
            "txt_content": "咋用啊，不是很懂诶"
        }
    ]
}