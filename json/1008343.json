{
    "title": "如何打乱列表内元素的顺序",
    "author": "(=°ω°)丿",
    "replyCount": 6,
    "timestamp": 1586074920,
    "txt_content": " 本帖最后由 (=°ω°)丿 于 2020-4-5 16:23 编辑 \n\n版本：1.15.2，已知运行命令 data get storage foo:example List 可以获得一个列表，那么如何打乱这个列表内元素的顺序？请简述你的方法，效率高的答案优先。",
    "replies": [
        {
            "author": "Y制杖杖",
            "timestamp": 1586074920,
            "txt_content": " 本帖最后由 Y制杖杖 于 2020-4-5 20:23 编辑 \n\n首先定义一个谓词minecraft:random\n{\n        \"condition\":\"minecraft:random_chance\"\n        \"chance\":0.5\n}复制代码\n再定义一个函数minecraft:a\nscoreboard objective add t dummy\nscoreboard players set #system t 0\nexecute if predicate minecraft:random run scoreboard players set #system t 1\nexecute if score #system t matches 0 run data modify storage foo:copy List append from storage foo:example List[0]\nexecute if score #system t matches 1 run data modify storage foo:copy List prepend from storage foo:example List[0]\ndata remove storage foo:example List[0]\nexecute if storage foo:example List[0] run function minecraft:a复制代码原理：\n先将foo:example.List的0号元素取出，接着有50%的几率被放在foo:copy.List的首项，有50%的几率被放在foo:copy.List的末项\n然后将foo:example.List的0号元素删除\n接着判断foo:example.List的0号元素是否存在（也就是判断是否还有余下的元素\n若还有，则进行递归\n最后得到的foo:copy.List即为打乱后的foo:example.List建议连续打乱两次，否则有些组合不会出现或者不固定取出0号，而是有50%取出0号，50%取出-1号"
        },
        {
            "author": "Wudji",
            "timestamp": 1586075880,
            "txt_content": "https://www.mcbbs.net/thread-993805-1-1.html"
        },
        {
            "author": "HangBack_",
            "timestamp": 1586078040,
            "txt_content": "Wudji 发表于 2020-4-5 16:38\nhttps://www.mcbbs.net/thread-993805-1-1.html\n(=°ω°)丿：我回答我自己"
        },
        {
            "author": "Wudji",
            "timestamp": 1586078100,
            "txt_content": "DoYo_GZ 发表于 2020-4-5 17:14\n(=°ω°)丿：我回答我自己\n额。。。。。。"
        },
        {
            "author": "CR_019",
            "timestamp": 1586079060,
            "txt_content": "称开始的列表为原列表，要得到的列表为目标列表；\n1、转存该列表，递归1:\n生成1个带有指定标签，nbt内部可以存物品的实体（比如村民）；\n将列表最后一个元素存至该实体上物品的tag标签里；\n删掉用于操作的新列表的最后一个元素。\n递归至操作列表里没有元素。\n2、递归2:\n用目标选择器随机选定一个工具实体，将该实体的指定标签复制到目标列表的最后一项中；\n清除该实体。\n递归至没有工具实体。"
        },
        {
            "author": "2370185529",
            "timestamp": 1586081640,
            "txt_content": "DoYo_GZ 发表于 2020-4-5 17:14\n(=°ω°)丿：我回答我自己\n我怀疑你是水贴，但是我没有证据"
        }
    ]
}