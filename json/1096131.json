{
    "title": "LuckPerms数据库运用",
    "author": "领军人物",
    "replyCount": 9,
    "timestamp": 1596791100,
    "txt_content": "LuckPerms我想用数据库连接\n可是怎么连接也连不上不懂哪里写错了麻烦大佬看下\n\nserver: global\n\nuse-server-uuid-cache: false\n\nstorage-method: MySQL\n\ndata:\n\n  address: localhost\n\n  database: renwu\n\n  username: root\n  password: 'guigui123'\n  pool-settings:\n    maximum-pool-size: 10\n    minimum-idle: 10\n    maximum-lifetime: 1800000 # 30 minutes\n    connection-timeout: 5000 # 5 seconds\n    properties:\n      useUnicode: true\n      characterEncoding: utf8\n  table_prefix: 'luckperms_'\n  mongodb_collection_prefix: ''\n  mongodb_connection_URI: ''\nsplit-storage:\n  enabled: false\n  methods:\n    user: h2\n    group: h2\n    track: h2\n    uuid: h2\n    log: h2\nsync-minutes: -1\nwatch-files: true\nmessaging-service: auto\n\n# If LuckPerms should automatically push updates after a change has been made with a command.\nauto-push-updates: true\n\n# If LuckPerms should push logging entries to connected servers via the messaging service.\npush-log-entries: true\n\n# If LuckPerms should broadcast received logging entries to players on this platform.\n#\n# - If you have LuckPerms installed on your backend servers as well as a BungeeCord proxy, you\n#   should set this option to false on either your backends or your proxies, to avoid players being\n#   messaged twice about log entries.\nbroadcast-received-log-entries: true\n\n# Settings for Redis.\n# Port 6379 is used by default; set address to \"host:port\" if differs\nredis:\n  enabled: false\n  address: localhost\n  password: ''\n\n\n\n\n# +----------------------------------------------------------------------------------------------+ #\n# |                                                                                              | #\n# |                                    CUSTOMIZATION SETTINGS                                    | #\n# |                                                                                              | #\n# |              Settings that allow admins to customize the way LuckPerms operates.             | #\n# |                                                                                              | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# Controls how temporary permissions/parents/meta should be accumulated.\n#\n# - The default behaviour is \"deny\".\n# - This behaviour can also be specified when the command is executed. See the command usage\n#   documentation for more info.\n#\n# - Possible options:\n#   => accumulate   durations will be added to the existing expiry time\n#   => replace      durations will be replaced if the new duration is later than the current\n#                   expiration\n#   => deny         the command will just fail if you try to add another node with the same expiry\ntemporary-add-behaviour: deny\n\n# Controls how LuckPerms will determine a users \"primary\" group.\n#\n# - The meaning and influence of \"primary groups\" are explained in detail on the wiki.\n# - The preferred approach is to let LuckPerms automatically determine a users primary group\n#   based on the relative weight of their parent groups.\n#\n# - Possible options:\n#   => stored                  use the value stored against the users record in the file/database\n#   => parents-by-weight       just use the users most highly weighted parent\n#   => all-parents-by-weight   same as above, but calculates based upon all parents inherited from\n#                              both directly and indirectly\nprimary-group-calculation: parents-by-weight\n\n# If the plugin should check for \"extra\" permissions with users run LP commands.\n#\n# - These extra permissions allow finer control over what users can do with each command, and who\n#   they have access to edit.\n# - The nature of the checks are documented on the wiki under \"Argument based command permissions\".\n# - Argument based permissions are *not* static, unlike the 'base' permissions, and will depend upon\n#   the arguments given within the command.\nargument-based-command-permissions: false\n\n# If the plugin should check whether senders are a member of a given group before they're able to\n# edit the groups data or add/remove other users to/from it.\n# Note: these limitations do not apply to the web editor!\nrequire-sender-group-membership-to-modify: false\n\n# If the plugin should send log notifications to users whenever permissions are modified.\n#\n# - Notifications are only sent to those with the appropriate permission to receive them\n# - They can also be temporarily enabled/disabled on a per-user basis using\n#   '/lp log notify <on|off>'\nlog-notify: true\n\n# Defines the options for prefix and suffix stacking.\n#\n# - The feature allows you to display multiple prefixes or suffixes alongside a players username in\n#   chat.\n# - It is explained and documented in more detail on the wiki under \"Prefix & Suffix Stacking\".\n#\n# - The options are divided into separate sections for prefixes and suffixes.\n# - The 'duplicates' setting refers to how duplicate elements are handled. Can be 'retain-all',\n#   'first-only' or 'last-only'.\n# - The value of 'start-spacer' is included at the start of the resultant prefix/suffix.\n# - The value of 'end-spacer' is included at the end of the resultant prefix/suffix.\n# - The value of 'middle-spacer' is included between each element in the resultant prefix/suffix.\n#\n# - Possible format options:\n#   => highest                        Selects the value with the highest weight, from all values\n#                                     held by or inherited by the player.\n#\n#   => lowest                         Same as above, except takes ** with the lowest weight.\n#\n#   => highest_own                    Selects the value with the highest weight, but will not\n#                                     accept any inherited values.\n#\n#   => lowest_own                     Same as above, except takes the value with the lowest weight.\n#\n#   => highest_inherited              Selects the value with the highest weight, but will only\n#                                     accept inherited values.\n#\n#   => lowest_inherited               Same as above, except takes the value with the lowest weight.\n#\n#   => highest_on_track_<track>       Selects the value with the highest weight, but only if the\n#                                     value was inherited from a group on the given track.\n#\n#   => lowest_on_track_<track>        Same as above, except takes the value with the lowest weight.\n#\n#   => highest_not_on_track_<track>   Selects the value with the highest weight, but only if the\n#                                     value was inherited from a group not on the given track.\n#\n#   => lowest_not_on_track_<track>    Same as above, except takes the value with the lowest weight.\nmeta-formatting:\n  prefix:\n    format:\n      - \"highest\"\n    duplicates: first-only\n    start-spacer: \"\"\n    middle-spacer: \" \"\n    end-spacer: \"\"\n  suffix:\n    format:\n      - \"highest\"\n    duplicates: first-only\n    start-spacer: \"\"\n    middle-spacer: \" \"\n    end-spacer: \"\"\n\n\n\n\n# +----------------------------------------------------------------------------------------------+ #\n# |                                                                                              | #\n# |                            PERMISSION CALCULATION AND INHERITANCE                            | #\n# |                                                                                              | #\n# |    Modify the way permission checks, meta lookups and inheritance resolutions are handled.   | #\n# |                                                                                              | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# The algorithm LuckPerms should use when traversing the \"inheritance tree\".\n#\n# - Possible options:\n#   => breadth-first            See: https://en.wikipedia.org/wiki/Breadth-first_search\n#   => depth-first-pre-order    See: https://en.wikipedia.org/wiki/Depth-first_search\n#   => depth-first-post-order   See: https://en.wikipedia.org/wiki/Depth-first_search\ninheritance-traversal-algorithm: depth-first-pre-order\n\n# If a final sort according to \"inheritance rules\" should be performed after the traversal algorithm\n# has resolved the inheritance tree.\n#\n# \"Inheritance rules\" refers to things such as group weightings, primary group status, and the\n# natural contextual ordering of the group nodes.\n#\n# Setting this to 'true' will allow for the inheritance rules to take priority over the structure of\n# the inheritance tree.\n#\n# Effectively when this setting is 'true': the tree is flattened, and rules applied afterwards,\n# and when this setting is 'false':, the rules are just applied during each step of the traversal.\npost-traversal-inheritance-sort: false\n\n# +----------------------------------------------------------------------------------------------+ #\n# | Permission resolution settings                                                               | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# If users on this server should have their global permissions applied.\n# When set to false, only server specific permissions will apply for users on this server\ninclude-global: true\n\n# If users on this server should have their global world permissions applied.\n# When set to false, only world specific permissions will apply for users on this server\ninclude-global-world: true\n\n# If users on this server should have global (non-server specific) groups applied\napply-global-groups: true\n\n# If users on this server should have global (non-world specific) groups applied\napply-global-world-groups: true\n\n# +----------------------------------------------------------------------------------------------+ #\n# | Inheritance settings                                                                         | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# If the plugin should apply wildcard permissions.\n#\n# - If set to true, LuckPerms will detect wildcard permissions, and resolve & apply all registered\n#   permissions matching the wildcard.\napply-wildcards: true\n\n# If the plugin should parse regex permissions.\n#\n# - If set to true, LuckPerms will detect regex permissions, marked with \"r=\" at the start of the\n#   node, and resolve & apply all registered permissions matching the regex.\napply-regex: true\n\n# If the plugin should complete and apply shorthand permissions.\n#\n# - If set to true, LuckPerms will detect and expand shorthand node patterns.\napply-shorthand: true\n\n# If the plugin should apply Bukkit child permissions.\n#\n# - Plugin authors can define custom permissions structures for their plugin, which will be resolved\n#   and used by LuckPerms if this setting is enabled.\napply-bukkit-child-permissions: true\n\n# If the plugin should apply Bukkit default permissions.\n#\n# - Plugin authors can define permissions which should be given to all users by default, or setup\n#   permissions which should/shouldn't be given to opped players.\n# - If this option is set to false, LuckPerms will ignore these defaults.\napply-bukkit-default-permissions: true\n\n# If the plugin should apply attachment permissions.\n#\n# - Other plugins on the server are able to add their own \"permission attachments\" to players.\n# - This allows them to grant players additional permissions which last until the end of the\n#   session, or until they're removed.\n# - If this option is set to false, LuckPerms will not include these attachment permissions when\n#   considering if a player should have access to a certain permission.\napply-bukkit-attachment-permissions: true\n\n# +----------------------------------------------------------------------------------------------+ #\n# | Extra settings                                                                               | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# Allows you to set \"aliases\" for the worlds sent forward for context calculation.\n#\n# - These aliases are provided in addition to the real world name. Applied recursively.\n# - Remove the comment characters for the default aliases to apply.\nworld-rewrite:\n#  world_nether: world\n#  world_the_end: world\n\n# Define special group weights for this server.\n#\n# - Group weights can also be applied directly to group data, using the setweight command.\n# - This section allows weights to be set on a per-server basis.\ngroup-weight:\n#  admin: 10\n\n\n\n\n# +----------------------------------------------------------------------------------------------+ #\n# |                                                                                              | #\n# |                                      FINE TUNING OPTIONS                                     | #\n# |                                                                                              | #\n# |     A number of more niche settings for tweaking and changing behaviour. The section also    | #\n# | contains toggles for some more specialised features. It is only necessary to make changes to | #\n# |                  these options if you want to fine-tune LuckPerms behaviour.                 | #\n# |                                                                                              | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# +----------------------------------------------------------------------------------------------+ #\n# | Server Operator (OP) settings                                                                | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# Controls whether server operators should exist at all.\n#\n# - When set to 'false', all players will be de-opped, and the /op and /deop commands will be\n#   disabled.\nenable-ops: true\n\n# Enables or disables a special permission based system in LuckPerms for controlling OP status.\n#\n# - If set to true, any user with the permission \"luckperms.autoop\" will automatically be granted\n#   server operator status. This permission can be inherited, or set on specific servers/worlds,\n#   temporarily, etc.\n# - Additionally, setting this to true will force the \"enable-ops\" option above to false. All users\n#   will be de-opped unless they have the permission node, and the op/deop commands will be\n#   disabled.\n# - It is recommended that you use this option instead of assigning a single '*' permission.\nauto-op: false\n\n# Defines if \"opped\" players should be able to use all LuckPerms commands by default.\n#\n# - Set to false to only allow users who have the permissions access to the commands\ncommands-allow-op: true\n\n# +----------------------------------------------------------------------------------------------+ #\n# | Vault integration settings                                                                   | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# If Vault lookups for offline players on the main server thread should be enabled.\n#\n# LuckPerms has a \"catch\" for plugins attempting to perform unsafe offline player data lookups\n# from the main server thread. This catch raises an exception (causes an error to occur) when unsafe\n# lookups are made, instead of allowing the lookup to happen, which would likely cause the server\n# to lag.\n#\n# However, if you're willing to accept the consequences, the catch can be disabled by setting this\n# option to 'true.\nvault-unsafe-lookups: false\n\n# Controls which group LuckPerms should use for NPC players when handling Vault requests.\n#\n# - As NPCs aren't actually real players, LuckPerms does not load any user data for them. This\n#   becomes an issue when plugins want to check for their permissions using Vault.\n# - As a solution, Vault checks for NPCs fallback to a group, which is defined below.\nvault-npc-group: default\n\n# Controls how LuckPerms should consider the OP status of NPC players when handing Vault requests.\n#\n# - If you want NPCs to have the same permissions as \"normal\" players, set this option to false.\n# - If you want NPCs to have OP status, set this option to true.\nvault-npc-op-status: false\n\n# If the vault-server option below should be used.\n#\n# - When this option is set to false, the server value defined above under \"server\" is used.\nuse-vault-server: false\n\n# The name of the server used within Vault operations.\n#\n# - If you don't want Vault operations to be server specific, set this to \"global\".\n# - Will only take effect if use-vault-server is set to true above.\nvault-server: global\n\n# If global permissions should be considered when retrieving meta or player groups\nvault-include-global: true\n\n# If Vault operations should ignore any world arguments if supplied.\nvault-ignore-world: false\n\n# +----------------------------------------------------------------------------------------------+ #\n# | Miscellaneous (and rarely used) settings                                                     | #\n# +----------------------------------------------------------------------------------------------+ #\n\n# If LuckPerms should produce extra logging output when it handles logins.\n#\n# - Useful if you're having issues with UUID forwarding or data not being loaded.\ndebug-logins: false\n\n# If LuckPerms should allow usernames with non alphanumeric characters.\n#\n# - Note that due to the design of the storage implementation, usernames must still be 16 characters\n#   or less.\nallow-invalid-usernames: false\n\n# If LuckPerms should allow a users primary group to be removed with the 'parent remove' command.\n#\n# - When this happens, the plugin will set their primary group back to default.\nprevent-primary-group-removal: false\n\n# If LuckPerms should attempt to resolve Vanilla command target selectors for LP commands.\n# See here for more info: https://minecraft.gamepedia.com/Commands#Target_selectors\nresolve-command-selectors: false\n\n",
    "replies": [
        {
            "author": "lengshao233",
            "timestamp": 1596791100,
            "txt_content": " 本帖最后由 lengshao233 于 2020-8-7 17:54 编辑 \n\n先在vps上下载安装宝塔然后按教程配置好，然后打开宝塔网页，在左边选择\n\n\n\n\nimage.png (34.45 KB, 下载次数: 0)\n\n下载附件\n\n2020-8-7 17:53 上传\n\n\n\n\n若是让你安装MySQL那就去软件管理内安装，好了后返回数据库，选择\n\n\n\n\nimage.png (857 Bytes, 下载次数: 0)\n\n下载附件\n\n2020-8-7 17:53 上传\n\n\n\n\n，创建一个数据库，名字什么的都自己选就行\n然后再到lp的配置文件内\n\n\n\n\nimage.png (34.02 KB, 下载次数: 0)\n\n下载附件\n\n2020-8-7 17:54 上传\n\n\n\n\n\n"
        },
        {
            "author": "wedfwsd",
            "timestamp": 1596791580,
            "txt_content": "好像地址要带上端口才行"
        },
        {
            "author": "领军人物",
            "timestamp": 1596791760,
            "txt_content": "wedfwsd 发表于 2020-8-7 17:13\n好像地址要带上端口才行\n比如？怎么操作。。"
        },
        {
            "author": "lengshao233",
            "timestamp": 1596793920,
            "txt_content": " 本帖最后由 lengshao233 于 2020-8-7 17:54 编辑 \n\nusername: root\n这里改为你数据库的用户名\n要创建一个新的，不能用默认的root我把教程放下面，够详细了"
        },
        {
            "author": "领军人物",
            "timestamp": 1596794700,
            "txt_content": "lengshao233 发表于 2020-8-7 17:52\n先在vps上下载安装宝塔然后按教程配置好，然后打开宝塔网页，在左边选择若是让你安装MySQL那就去软件管理内 ...\n我的问题好像不是数据库搭建（其他有关数据库得插件都OK）。。。而是lp配置了压根连接不上数据库"
        },
        {
            "author": "lengshao233",
            "timestamp": 1596794820,
            "txt_content": "领军人物 发表于 2020-8-7 18:05\n我的问题好像不是数据库搭建（其他有关数据库得插件都OK）。。。而是lp配置了压根连接不上数据库 ...\n你的用户名写成root了，改成其他的才行"
        },
        {
            "author": "领军人物",
            "timestamp": 1596795000,
            "txt_content": "lengshao233 发表于 2020-8-7 18:07\n你的用户名写成root了，改成其他的才行\n这个插件特有的嘛。。。。。。其他写root好像也没毛病啊。。。。"
        },
        {
            "author": "龙猫酱~",
            "timestamp": 1596795900,
            "txt_content": "几点几的lp 光发mysql部分的就行了\n你自行检查一下mysql账户 密码 端口都填对了吗 还有创建config里写的库名了吗"
        },
        {
            "author": "lengshao233",
            "timestamp": 1596796080,
            "txt_content": "领军人物 发表于 2020-8-7 18:10\n这个插件特有的嘛。。。。。。其他写root好像也没毛病啊。。。。\n不太清楚，反正自带的root会出现一些不可预料的bug，你先试试吧"
        }
    ]
}