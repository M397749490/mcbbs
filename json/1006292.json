{
    "title": "啊啊求帮忙~蹦服报错",
    "author": "Klos_shizi",
    "replyCount": 13,
    "timestamp": 1585824000,
    "txt_content": "更多实用工具，\n有没有修复的东西或者修复办法，我想要末影收集器~\n\n\n\n\n\n\n\ncrash-2020-04-02_18.35.02-server.txt\n\n\n2020-4-2 18:39 上传\n点击文件名下载附件\n\n\n\n\n104.99 KB, 下载次数: 4\n\n\n\n\n",
    "replies": [
        {
            "author": "GiNYAi",
            "timestamp": 1585824000,
            "txt_content": " 本帖最后由 GiNYAi 于 2020-4-2 20:13 编辑 \n\n\n\n\nFixExtrautilsItemNodeUpgradeLoop-1.0.jar\n(5.96 KB, 下载次数: 3)\n\n\n\n2020-4-2 20:10 上传\n点击文件名下载附件\n\n\n\n\n\n\n\npackage dev.ginyai.mod.mcbbs_1006292.asm;\n\nimport cpw.mods.fml.relauncher.IFMLLoadingPlugin;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport java.util.Map;\n\n@IFMLLoadingPlugin.MCVersion(\"1.7.10\")\n@IFMLLoadingPlugin.Name(\"FixExtrautilsItemNodeUpgradeLoop\")\npublic class Plugin implements IFMLLoadingPlugin {\n    public static Logger logger = LogManager.getLogger(\"FixExtrautilsItemNodeUpgradeLoop\");\n\n    @Override\n    public String[] getASMTransformerClass() {\n        return new String[] {\n            \"dev.ginyai.mod.mcbbs_1006292.asm.Transformer\"\n        };\n    }\n\n    @Override\n    public String getModContainerClass() {\n        return null;\n    }\n\n    @Override\n    public String getSetupClass() {\n        return null;\n    }\n\n    @Override\n    public void injectData(Map<String, Object> data) {\n\n    }\n\n    @Override\n    public String getAccessTransformerClass() {\n        return null;\n    }\n}\npublic final class Methods {\n    public static boolean matchesItem(ISpecialFilterItem item, ItemStack filter, ItemStack itemStack) {\n        if (item instanceof ItemNodeUpgrade) {\n            return XUHelper.canItemsStack(itemStack, filter, false, true);\n        } else {\n            return item.matchesItem(filter, itemStack);\n        }\n    }\n}\npublic class Transformer implements IClassTransformer {\n\n    @Override\n    public byte[] transform(String name, String transformedName, byte[] basicClass) {\n        if (\"com.rwtema.extrautils.item.ItemNodeUpgrade\".equals(transformedName)) {\n            Plugin.logger.info(\"Find target class {}.\", transformedName);\n            ClassReader classReader = new ClassReader(basicClass);\n            ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_FRAMES);\n            classReader.accept(new ClassVisitor(ASM5, classWriter) {\n                @Override\n                public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\n                    if (name.equals(\"matchesFilterItem\") && \"(Lnet/minecraft/item/ItemStack;Lnet/minecraft/item/ItemStack;)Z\".equals(desc)) {\n                        Plugin.logger.info(\"Find target method {}{}.\", name, desc);\n                        return new MethodVisitor(this.api, super.visitMethod(access, name, desc, signature, exceptions)) {\n                            @Override\n                            public void visitMethodInsn(int opcode, String owner, String name, String desc, boolean itf) {\n                                if (opcode == INVOKEINTERFACE && \"cofh/api/item/ISpecialFilterItem\".equals(owner) && \"matchesItem\".equals(name) && \"(Lnet/minecraft/item/ItemStack;Lnet/minecraft/item/ItemStack;)Z\".equals(desc)) {\n                                    Plugin.logger.info(\"Redirect target method {}.{}{} to dev/ginyai/mod/mcbbs_1006292/asm/Methods.matchesItem.\", owner, name, desc);\n                                    super.visitMethodInsn(INVOKESTATIC, \"dev/ginyai/mod/mcbbs_1006292/asm/Methods\", \"matchesItem\", \"(Lcofh/api/item/ISpecialFilterItem;Lnet/minecraft/item/ItemStack;Lnet/minecraft/item/ItemStack;)Z\", false);\n                                } else {\n                                    super.visitMethodInsn(opcode, owner, name, desc, itf);\n                                }\n                            }\n                        };\n                    } else {\n                        return super.visitMethod(access, name, desc, signature, exceptions);\n                    }\n                }\n            }, EXPAND_FRAMES);\n            return classWriter.toByteArray();\n        } else {\n            return basicClass;\n        }\n    }\n}\n"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1585824060,
            "txt_content": "删除更多实用工具和前置的配置文件吧\n\n栈循环"
        },
        {
            "author": "Klos_shizi",
            "timestamp": 1585824240,
            "txt_content": "EmptyLava 发表于 2020-4-2 18:41\n删除更多实用工具和前置的配置文件吧\n\n栈循环\n好的，我试试"
        },
        {
            "author": "GiNYAi",
            "timestamp": 1585824360,
            "txt_content": "我记得你之前也发过这个 \n是mod的逻辑有漏洞 导致特定的数据组合会让程序显然死循环\n\n如果需要的话 我可以帮你写个mod修复这个问题"
        },
        {
            "author": "Klos_shizi",
            "timestamp": 1585824540,
            "txt_content": "GiNYAi 发表于 2020-4-2 18:46\n我记得你之前也发过这个 \n是mod的逻辑有漏洞 导致特定的数据组合会让程序显然死循环\n昂，写的话需要money吗~"
        },
        {
            "author": "Klos_shizi",
            "timestamp": 1585824540,
            "txt_content": "GiNYAi 发表于 2020-4-2 18:46\n我记得你之前也发过这个 \n是mod的逻辑有漏洞 导致特定的数据组合会让程序显然死循环\n如果需要，大约是多少money呢"
        },
        {
            "author": "GiNYAi",
            "timestamp": 1585824840,
            "txt_content": "3283701330 发表于 2020-4-2 18:49\n如果需要，大约是多少money呢\n白给 问答版的活动就要结束了 实在是抢不过前几名"
        },
        {
            "author": "Klos_shizi",
            "timestamp": 1585825020,
            "txt_content": "GiNYAi 发表于 2020-4-2 18:54\n白给 问答版的活动就要结束了 实在是抢不过前几名\n昂昂，非常感谢。那您啥时候有时间能做捏"
        },
        {
            "author": "Klos_shizi",
            "timestamp": 1585826760,
            "txt_content": "GiNYAi 发表于 2020-4-2 18:54\n白给 问答版的活动就要结束了 实在是抢不过前几名\n还在咩~"
        },
        {
            "author": "Klos_shizi",
            "timestamp": 1585827300,
            "txt_content": "有大佬能解决吗"
        },
        {
            "author": "Klos_shizi",
            "timestamp": 1585829640,
            "txt_content": "GiNYAi 发表于 2020-4-2 20:12\n卧槽！！ 谢谢谢谢。。。 这个装到mods里面吗"
        },
        {
            "author": "GiNYAi",
            "timestamp": 1585829760,
            "txt_content": "3283701330 发表于 2020-4-2 20:14\n卧槽！！ 谢谢谢谢。。。 这个装到mods里面吗\nMods里 我这边没有这个错误 所以并没有测试这个修复是否有效（不过测试了一下 不会直接导致服务器都开不起来"
        },
        {
            "author": "Klos_shizi",
            "timestamp": 1585831980,
            "txt_content": "GiNYAi 发表于 2020-4-2 18:40\n没啥问题qwq，谢谢大佬~~\n感激不尽"
        }
    ]
}