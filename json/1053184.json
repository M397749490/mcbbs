{
    "title": "BukkitAPI如何自定义事件? 什么情况下才能触发？",
    "author": "兔儿神",
    "replyCount": 4,
    "timestamp": 1590759240,
    "txt_content": "就拿”玩家离开床时触发此事件“为例子,看以下代码\n\n\n\n\nimage.png (138.3 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-29 21:29 上传\n\n\n\n\n\n\n\n\n\nimage.png (43.32 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-29 21:30 上传\n\n\n\n\n\n\n问：就单单几行代码 它是如何得知 ”返回此事件涉及的床“ 就一定是床呢？ 很好奇。。。\n\n",
    "replies": [
        {
            "author": "星",
            "timestamp": 1590759960,
            "txt_content": " 本帖最后由 星 于 2020-5-29 21:52 编辑 \n\n肯定需要调用: 如下\ngetServer().getPluginManager().callEvent(Event event)复制代码\n比如”玩家离开床时触发此事件“\nPlayerBedLeaveEvent event = new PlayerBedLeaveEvent(player, bed);\ngetServer().getPluginManager().callEvent(event);复制代码\n\n你想要看具体哪里call了这些事件你可以翻翻看nms(cb)源码"
        },
        {
            "author": "轻光233",
            "timestamp": 1590760140,
            "txt_content": "泻药\n一个事件要被触发需要调用Bukkit.getPluginManager().callEvent()方法\n首先，如果没有其他插件call这个事件，那么这个事件是会由服务器触发的(你可以在监听到这个事件的时候直接抛个异常看看调用栈)\n服务器是肯定可以保证这个方块对象肯定是床的，不然就乱套了\n如果有其他的插件call这个事件，那确实不保证这个方块对象是床，但一般的开发者都会和api描述的尽量一致，所以除非是出了bug，否则就不必要担心返回的方块对象不是床的问题了"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1590810660,
            "txt_content": "自定义事件的时候只需要 extends Event 就可以了\n需要调用的时候只要在你的代码里面  callEvent就可以了"
        },
        {
            "author": "William_Shi",
            "timestamp": 1590813540,
            "txt_content": "事件本身不存在什么参数类型的检测\n\n请在callevent时完成入参检查\n\n一般来说自定义事件也是由你自己call\n\n就在自己call之前先做好入参检查就可以了"
        }
    ]
}