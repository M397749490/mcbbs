{
    "title": "请教一下如何在JSP页面接收到明文的密码，然后转成authme认识的sha256加密再存到MYSQL",
    "author": "tcp0707",
    "replyCount": 4,
    "timestamp": 1464329400,
    "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽",
    "replies": [
        {
            "author": "桃渊林",
            "timestamp": 1464608220,
            "txt_content": " 本帖最后由 hcrgm1 于 2016-5-30 19:43 编辑 \n\n思路是这样：\nauthme的sha256的格式：$SHA$salt$sha256(sha256(password)+salt)\n前面的“$SHA$”是固定不动的，salt是盐，十六个字符，可以自行获取到，密码，根据输入计算出authme-sha256格式的字符串拿去比对\n至于修改，不是难事啦，把新密码和那个帐号的salt代进去算，注册更不用说~\n注册：随机生成十六个字符的小写字母加数字混合的salt，然后算，拼接，还有其他的数据表字段自己想\n俺自己造的轮子：\npublic static String encrypt(String password, String salt) {\n        String hash = sha256(sha256(password)+salt);\n        String encryptedStr = \"$SHA$\"+salt+\"$\"+hash;\n        return encryptedStr;\n}复制代码\nsha256这个方法自己找\n对了，如果要直接操作数据库，把authme缓存关了"
        },
        {
            "author": "tcp0707",
            "timestamp": 1464620280,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "桃渊林",
            "timestamp": 1464646140,
            "txt_content": "tcp0707 发表于 2016-5-30 22:58\n谢谢楼上指点，大体明白了，但到时如果做网页登陆时，应当如何校验这组密码呢？ ...\n不是说了嘛。。\n把那个用户的一列取出来（SELECT * FROM authme用户表 WHERE username='客户端输入的用户名'）（最好加个“LIMIT 1”），用客户端输入的密码算出authme-sha256与数据库中的比对，匹配就通过，不匹配就拒绝\n如果结果集没数据就是用户不存在~"
        },
        {
            "author": "tcp0707",
            "timestamp": 1464690420,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        }
    ]
}