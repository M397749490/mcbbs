{
    "title": "[New API][经济飞机场插件木牌指令全汉化+BUG完美修复]有漂亮空姐!",
    "author": "minecraftpe8",
    "replyCount": 6,
    "timestamp": 1425554460,
    "txt_content": " 本帖最后由 minecraftpe8 于 2015-3-5 19:30 编辑 \n\n[New API][经济飞机场插件木牌指令全汉化+BUG完美修复\n★ 飞机场的木牌指令支持中文!\n★ 文本汉化语言尽量贴近生活!\n★ 木牌飞机场只支持单程航线!\n★ 木牌飞机场不支持多世界!\n\n★ 本次汉化修复 1 个严重BUG!\n\n\n★创建飞机场木牌指令格式★\n一、起点飞机场:\n第一行:  飞机场\n第二行:  起点\n第三行:  <机票价格>\n第四行:  <目的地>\n二、终点飞机场:\n第一行:  飞机场\n第二行:  终点\n第三行:  <目的地>\n第四行:  空\n\n(木牌指令使用权限: OP管理员)\n\n详细使用说明:\n★1 创建飞机场的步骤: (权限: OP管理员)\n\n(直接编辑木牌即可)\n第一步:  创建终点飞机场\n\n\n\n\n\n编辑终点飞机场木牌格式.png (41.24 KB, 下载次数: 39)\n\n下载附件\n\n编辑终点飞机场木牌格式\n2015-3-5 18:03 上传\n\n\n\n\n\n\n\n\n创建终点飞机场木牌.png (76.99 KB, 下载次数: 34)\n\n下载附件\n\n创建终点飞机场木牌\n2015-3-5 18:03 上传\n\n\n\n\n\n\n第二步:  创建起点飞机场\n\n\n\n\n\n编辑起点飞机场木牌格式.png (30.48 KB, 下载次数: 33)\n\n下载附件\n\n编辑起点飞机场木牌格式\n2015-3-5 18:05 上传\n\n\n\n\n\n\n\n\n创建起点飞机场木牌.png (64.52 KB, 下载次数: 43)\n\n下载附件\n\n创建起点飞机场木牌\n2015-3-5 18:05 上传\n\n\n\n\n\n\n\n\n起点终点飞机场创建成功.png (219.44 KB, 下载次数: 35)\n\n下载附件\n\n起点终点飞机场创建成功\n2015-3-5 18:15 上传\n\n\n\n\n\n\n(注: 先创建起点飞机场,后创建终点飞机场,是无效的,2个飞机场不会相通.原因在于,只有先创建了终点飞机场,再创建起点飞机场,起点飞机场才能保存终点飞机场的坐标信息,从而建立关联)\n2 使用飞机场木牌: (权限: 所有玩家)\n(直接点击起点飞机场木牌即可,点击终点飞机场木牌无效,因为是单程航线)\n\n\n\n\n\n点击起点飞机场木牌坐飞机.png (53.47 KB, 下载次数: 32)\n\n下载附件\n\n点击起点飞机场木牌坐飞机\n2015-3-5 18:14 上传\n\n\n\n\n\n\n\n\n飞机成功抵达终点飞机场.png (90.54 KB, 下载次数: 34)\n\n下载附件\n\n飞机成功抵达终点飞机场\n2015-3-5 18:14 上传\n\n\n\n\n\n\n\n\n点击终点飞机场木牌无法坐飞机.png (66.65 KB, 下载次数: 35)\n\n下载附件\n\n点击终点飞机场木牌无法坐飞机\n2015-3-5 18:16 上传\n\n\n\n\n\n\n3 移除飞机场木牌: (权限: OP管理员)\n\n\n\n\n\n移除起点飞机场木牌.png (50.43 KB, 下载次数: 34)\n\n下载附件\n\n移除起点飞机场木牌\n2015-3-5 18:20 上传\n\n\n\n\n\n\n\n\n移除终点飞机场木牌.png (55.97 KB, 下载次数: 36)\n\n下载附件\n\n移除起点飞机场木牌\n2015-3-5 18:20 上传\n\n\n\n\n\n\n\n★ 对本次修复的BUG详细说明! ★\npublic function onBlockTouch(PlayerInteractEvent $event){\n        $block = $event->getBlock();\n        if(isset($this->airport[$block->getX().\":\".$block->getY().\":\".$block->getZ().\":\".$block->getLevel()->getFolderName()])){\n                $airport = $this->airport[$block->getX().\":\".$block->getY().\":\".$block->getZ().\":\".$block->getLevel()->getFolderName()];\n                $player = $event->getPlayer();\n\n\n        if(isset($this->airport[$airport[\"targetX\"].\":\".$airport[\"targetY\"].\":\".$airport[\"targetZ\"].\":\".$airport[\"targetLevel\"]])){\n...\n改为\npublic function onBlockTouch(PlayerInteractEvent $event){\n        $block = $event->getBlock();\n        if(isset($this->airport[$block->getX().\":\".$block->getY().\":\".$block->getZ().\":\".$block->getLevel()->getFolderName()])){\n                $airport = $this->airport[$block->getX().\":\".$block->getY().\":\".$block->getZ().\":\".$block->getLevel()->getFolderName()];\n                $player = $event->getPlayer();\n                        \n                if($airport[\"type\"] === 1){\n                        $player->sendMessage(\"这是单程航班的终点站, 无法搭乘哦 !\");\n                        return;\n                }\n\n\n      if(isset($this->airport[$airport[\"targetX\"].\":\".$airport[\"targetY\"].\":\".$airport[\"targetZ\"].\":\".$airport[\"targetLevel\"]])){\n\n...\n错误说明:onBlockTouch本来的目的是接收玩家点击起点飞机场木牌的PlayerInteractEvent事件来处理搭乘飞机的请求;但是原代码却忽略了玩家点击终点飞机场木牌的PlayerInteractEvent事件,未做限制判断,从而导致数组越界的严重错误.原因在于起点飞机场木牌和终点飞机场木牌保存的信息是不一样的,处理方式当然也不能一样;我在这里加上了限制判断,从而避免了数组越界的BUG!\n此BUG未修复之前的后台出错信息截图:\n\n\n\n\n\n飞机场插件严重BUG截图.png (52.75 KB, 下载次数: 38)\n\n下载附件\n\n飞机场插件BUG截图\n2015-3-5 18:54 上传\n\n\n\n\n\n\n\"PM插件指令汉化合集\"已上传到百度网盘,持续更新中:\nhttp://pan.baidu.com/s/1gdBysa3\n\"经济飞机场插件木牌指令全汉化(BUG完美修复)\"百度网盘下载链接:\nhttp://pan.baidu.com/s/1o6DSdGA\n\n\n\n\n\n\n\n\n\n经济飞机场插件木牌指令全汉化(BUG完美修复).zip\n\n\n2015-3-5 19:17 上传\n点击文件名下载附件\n\n\n\n\n712.31 KB, 下载次数: 1284\n\n\n有漂亮空姐哦!\n\n\n\n",
    "replies": [
        {
            "author": "江米条",
            "timestamp": 1425554640,
            "txt_content": "飞机场{:10_543:}"
        },
        {
            "author": "変態のマギ",
            "timestamp": 1425554760,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "q1304393569",
            "timestamp": 1425555960,
            "txt_content": "方正我是看不懂=。=我只求一个点一下牌子，就可以领东西，还是可以叠加的那种，而且，点一下，还可以传送到某个地方.....我是一只新人腐竹=。=好多东西不懂的酱~而且牌子上面，没有什么字母，没有ED什么什么的，就只有中文= =谁教我啊~~~是什么插件或者mod？加我QQ1304393569，教我......"
        },
        {
            "author": "1523464360",
            "timestamp": 1425558180,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "robbery1",
            "timestamp": 1426379820,
            "txt_content": "希望楼主继续汉化修复下去 我会一直支持你 请不要放弃 你的插件很棒只是伸手党不想去回复"
        },
        {
            "author": "zxc565331259",
            "timestamp": 1426738800,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        }
    ]
}