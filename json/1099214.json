{
    "title": "服务器开服刷屏报错",
    "author": "2813944208",
    "replyCount": 10,
    "timestamp": 1597140960,
    "txt_content": "Unable to connect to the database: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n[18:14:07] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:07] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:07] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:07] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:09] [Netty Server IO #0/INFO]: Disconnecting Player: Server is still starting! Please wait before reconnecting.\n[18:14:09] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:09] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:11] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:11] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:11] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:11] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:13] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n[18:14:13] [Server thread/WARN]: [AutoSaveWorld] Plugin CMI attempted to establish connection socket://localhost:3306 in main server thread\n\n[luckperms-scheduler-worker-0/WARN]: java.lang.RuntimeException: Processor me.lucko.luckperms.common.cache.BufferedRequest$$Lambda$1150/1727367833@3a15ad38 threw an exception whilst computing a result\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.common.cache.BufferedRequest$Processor$BoundTask.run(BufferedRequest.java:172)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.common.plugin.scheduler.AbstractJavaScheduler$ErrorReportingRunnable.run(AbstractJavaScheduler.java:118)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.lang.Thread.run(Thread.java:748)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]: Caused by: java.util.concurrent.CompletionException: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 5000ms.\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.common.storage.Storage.lambda$makeFuture$1(Storage.java:103)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1640)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1632)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]: Caused by: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 5000ms.\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:689)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:196)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.common.storage.implementation.sql.SqlStorage.loadAllGroups(SqlStorage.java:432)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.common.storage.Storage.lambda$loadAllGroups$10(Storage.java:194)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.common.storage.Storage.lambda$makeFuture$1(Storage.java:98)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         ... 6 more\n[18:14:34] [luckperms-scheduler-worker-0/WARN]: Caused by: me.lucko.luckperms.lib.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at sun.reflect.GeneratedConstructorAccessor183.newInstance(Unknown Source)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:335)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2187)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2220)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2015)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:768)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at sun.reflect.GeneratedConstructorAccessor179.newInstance(Unknown Source)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:385)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:323)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.jdbc2.optional.MysqlDataSource.getConnection(MysqlDataSource.java:428)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.jdbc2.optional.MysqlDataSource.getConnection(MysqlDataSource.java:136)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.newConnection(PoolBase.java:354)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.access$100(HikariPool.java:71)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:719)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:705)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.lang.Thread.run(Thread.java:748)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]: Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.net.PlainSocketImpl.socketConnect(Native Method)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at java.net.Socket.connect(Socket.java:607)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         at me.lucko.luckperms.lib.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:299)\n[18:14:34] [luckperms-scheduler-worker-0/WARN]:         ... 23 more\n",
    "replies": [
        {
            "author": "酥宁最酥啦",
            "timestamp": 1597140960,
            "txt_content": " 本帖最后由 苏宁y 于 2020-8-11 18:33 编辑 \n2813944208 发表于 2020-8-11 18:28\nMySQL怎么关闭？改成这个\n\n一开始有个 date  在config里面\n\n\nuse-server-uuid-cache: false\n\n\ndata:\n  address: localhost\n  database: minecraft\n  username: root\n  password: ''\n  pool-settings:\n    maximum-pool-size: 10\n    minimum-idle: 10\n    maximum-lifetime: 1800000\n    connection-timeout: 5000\n    properties:\n      useUnicode: true\n      characterEncoding: utf8\n  table_prefix: luckperms_\n  mongodb_collection_prefix: ''\n  mongodb_connection_URI: ''\n\n改成我这一样的\n"
        },
        {
            "author": "sbsg5s55",
            "timestamp": 1597141320,
            "txt_content": "luckperm这个权限插件\n没法连接到sql，检查sql设置或者改用本地存储"
        },
        {
            "author": "酥宁最酥啦",
            "timestamp": 1597141440,
            "txt_content": "无伤大雅\n大概意思是\n在保存的时候\n\nCMI插件正在试图建立一个连接 在你的端口 3306的主机上\n\n更新CMI插件\n\n另外LP插件报错 是因为sql没连接上\n关闭mysql 功能"
        },
        {
            "author": "2813944208",
            "timestamp": 1597141680,
            "txt_content": "苏宁y 发表于 2020-8-11 18:24\n无伤大雅\n大概意思是\n在保存的时候\n\nMySQL怎么关闭？"
        },
        {
            "author": "2813944208",
            "timestamp": 1597142520,
            "txt_content": "苏宁y 发表于 2020-8-11 18:31\n改成这个\n\n一开始有个 date  在config里面\n\n麻烦能再说详细一点吗"
        },
        {
            "author": "酥宁最酥啦",
            "timestamp": 1597142640,
            "txt_content": "2813944208 发表于 2020-8-11 18:42\n麻烦能再说详细一点吗\n我给你我的配置文件也不行\n\n打开LuckPerms文件夹的config.yml 然后\n\nCtrl+F 搜索 use-server-uuid-cache\n改为use-server-uuid-cache: false\n\n搜索data\n\n改为\ndata:\n  address: localhost\n  database: minecraft\n  username: root\n  password: ''\n  pool-settings:\n    maximum-pool-size: 10\n    minimum-idle: 10\n    maximum-lifetime: 1800000\n    connection-timeout: 5000\n    properties:\n      useUnicode: true\n      characterEncoding: utf8\n  table_prefix: luckperms_\n  mongodb_collection_prefix: ''\n  mongodb_connection_URI: ''"
        },
        {
            "author": "晓夜Port",
            "timestamp": 1597143240,
            "txt_content": "LuckPerms 数据库连接失败"
        },
        {
            "author": "2813944208",
            "timestamp": 1597151460,
            "txt_content": "苏宁y 发表于 2020-8-11 18:24\n无伤大雅\n大概意思是\n在保存的时候\n你的配置除了密码和用户名不一样 其他都一样 我改了试试也没有用"
        },
        {
            "author": "酥宁最酥啦",
            "timestamp": 1597151700,
            "txt_content": "2813944208 发表于 2020-8-11 21:11\n你的配置除了密码和用户名不一样 其他都一样 我改了试试也没有用\nlp reloadconfig了嘛\nuse-server-uuid-cache: false\n对嘛"
        },
        {
            "author": "2813944208",
            "timestamp": 1597151820,
            "txt_content": "苏宁y 发表于 2020-8-11 21:15\nlp reloadconfig了嘛\nuse-server-uuid-cache: false\n对嘛\n\n\n\n\nimage.png (16.26 KB, 下载次数: 0)\n\n下载附件\n\n2020-8-11 21:17 上传\n\n\n\n\n\n对呀\n\n"
        }
    ]
}