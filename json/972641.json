{
    "title": "急！突然出现CPU部分核心满载，严重卡顿的情况 解决奖励500金粒！",
    "author": "1871487870",
    "replyCount": 18,
    "timestamp": 1582977300,
    "txt_content": " 本帖最后由 1871487870 于 2020-2-29 19:58 编辑 \n\n服务器今天突然突然出现玩家延迟很高，严重卡顿，并且cpu1-2个核心今天一直是满载状态，重启多次依然这样只有5个玩家在线时情况依然如此\n如果能解决我可以直接给500金粒作为奖励服务器版本：1.12.2\n服务端：Sponge\n\n\n\n\n123.png (49.68 KB, 下载次数: 0)\n\n下载附件\n\n1\n2020-2-29 19:52 上传\n\n\n\n\n\nSpark：https://sparkprofiler.github.io/#Hvw2FS2HYS\n\n\n\n\n\n",
    "replies": [
        {
            "author": "Doomsday_Envoy",
            "timestamp": 1582977300,
            "txt_content": "1871487870 发表于 2020-2-29 20:16\n但是这个帖子貌似没有讲到关于Sponge中的AE自动合成、植物魔法产能花的优化方法，尝试过Tiquality但是会 ...\nTiquality需要在配置文件手动添加白名单方块，当然对于MOD服来说会比较繁琐，姑且贴个站内的https://www.mcbbs.net/thread-896106-1-1.html。\n不过如果你使用了GriefPrevention的话，只要圈地后就能正常使用了，某种意义上是一举两得，如果你愿意的话。\nAE和产能花算是老生常谈了，我只能给出通过让玩家被迫圈地和设置圈地的各种限制，最终实现曲线救服了。\n或者参考这个帖子：https://www.mcbbs.net/thread-786074-1-1.html，通过config\\sponge\\global.conf里的tileentity-activation {}里面的参数来限制tick，实现优化。"
        },
        {
            "author": "Doomsday_Envoy",
            "timestamp": 1582977540,
            "txt_content": "映入眼帘的IC2，话说有没有参考过按照这个帖子优化过，tileentity太恐怖了\nhttps://www.mcbbs.net/thread-939322-1-1.html"
        },
        {
            "author": "酥宁最酥啦",
            "timestamp": 1582977540,
            "txt_content": "询问是否是服务商问题， 可能是散热不均导致， 问题具体我也不懂  只是个建议"
        },
        {
            "author": "喵内噶",
            "timestamp": 1582977540,
            "txt_content": "这种多核吃瓜现象很常见的\n可以尝试下catsever异步版\n[1.12.2][原创]CatServer —— 开源免费的多线程Forge+Bukkit+Spigot服务端\nhttps://www.mcbbs.net/thread-924736-1-1.html\n(出处: Minecraft(我的世界)中文论坛)"
        },
        {
            "author": "1871487870",
            "timestamp": 1582978020,
            "txt_content": "Doomsday_Envoy 发表于 2020-2-29 19:59\n映入眼帘的IC2，话说有没有参考过按照这个帖子优化过，tileentity太恐怖了\nhttps://www.mcbbs.net/thread-9 ...\n没有按照这个帖子，但是这是今天刚出现的状况，之前没有遇到过"
        },
        {
            "author": "红烧猪排骨",
            "timestamp": 1582978200,
            "txt_content": "询问一下服务商是是不是机房出现了问题"
        },
        {
            "author": "1871487870",
            "timestamp": 1582978260,
            "txt_content": "红烧猪排骨 发表于 2020-2-29 20:10\n询问一下服务商是是不是机房出现了问题\n是自己购买的服务器，并不是vps"
        },
        {
            "author": "Doomsday_Envoy",
            "timestamp": 1582978320,
            "txt_content": "1871487870 发表于 2020-2-29 20:07\n没有按照这个帖子，但是这是今天刚出现的状况，之前没有遇到过\n可能是你的玩家最近在建设科技模组里面的部分容易卡服的方块，进度推进到这里了，这一点从tileentity(这个高了的话卡服效果显著)可以看出，不过我水平有限无法为你定位到细节。如果那个教程里面有你服安装的模组的话，不妨尝试一下优化。着急的话你可以高亮本帖然后等大佬过来救援。"
        },
        {
            "author": "1871487870",
            "timestamp": 1582978560,
            "txt_content": "Doomsday_Envoy 发表于 2020-2-29 20:12\n可能是你的玩家最近在建设科技模组里面的部分容易卡服的方块，进度推进到这里了，这一点从tileentity(这 ...\n但是这个帖子貌似没有讲到关于Sponge中的AE自动合成、植物魔法产能花的优化方法，尝试过Tiquality但是会导致部分机器工作不正常"
        },
        {
            "author": "Mare_zhizhi",
            "timestamp": 1582978620,
            "txt_content": "你尽量去找服务商去询问下"
        },
        {
            "author": "红烧猪排骨",
            "timestamp": 1582978620,
            "txt_content": "1871487870 发表于 2020-2-29 20:11\n是自己购买的服务器，并不是vps\n哦哦那你检查过cpu了吗是不是过热导致的..."
        },
        {
            "author": "1871487870",
            "timestamp": 1582978740,
            "txt_content": "红烧猪排骨 发表于 2020-2-29 20:17\n哦哦那你检查过cpu了吗是不是过热导致的...\n查看过温度正常，一关闭服务端cpu占用就正常了，但是开启后又出现部分核心一直占满的问题"
        },
        {
            "author": "1871487870",
            "timestamp": 1582980540,
            "txt_content": "Doomsday_Envoy 发表于 2020-2-29 20:25\nTiquality需要在配置文件手动添加白名单方块，当然对于MOD服来说会比较繁琐，姑且贴个站内的https://www. ...\n加入了Tiquality情况依然如此，应该怎么办"
        },
        {
            "author": "Doomsday_Envoy",
            "timestamp": 1582981140,
            "txt_content": "1871487870 发表于 2020-2-29 20:49\n加入了Tiquality情况依然如此，应该怎么办\n参考我后半引用的方法，按照那个帖子修改tileentity-activation {}下的参数。原理类似于降频，每ticj所需的计算量小了，自然CPU的压力就小了，当然代价是效率的降低。那个帖子也引用了另一个帖子来试图弥补这一代价，原理是修改mod的配置来放大产量，最后实现平衡。\n如果你无法通过配置来补偿的话，目前大概是无法完美解决了，只能将就着降低产量了。"
        },
        {
            "author": "1871487870",
            "timestamp": 1582981380,
            "txt_content": "Doomsday_Envoy 发表于 2020-2-29 20:59\n参考我后半引用的方法，按照那个帖子修改tileentity-activation {}下的参数。原理类似于降频，每ticj所需 ...\n刚刚安装tq的时候，我已经按照这个方法进行优化了，改成了2，但是情况还是这样，我猜测不是这个原因导致的卡服，有什么办法调查具体卡服的原因或者区块吗"
        },
        {
            "author": "Doomsday_Envoy",
            "timestamp": 1582982400,
            "txt_content": "1871487870 发表于 2020-2-29 21:03\n刚刚安装tq的时候，我已经按照这个方法进行优化了，改成了2，但是情况还是这样，我猜测不是这个原因导致 ...\n使用这个https://www.mcbbs.net/thread-769360-1-1.html可以帮你具体定位一下。\n然后你可以跑一个现在的timings然后挂在主楼。"
        },
        {
            "author": "1871487870",
            "timestamp": 1582984620,
            "txt_content": "Doomsday_Envoy 发表于 2020-2-29 21:20\n使用这个https://www.mcbbs.net/thread-769360-1-1.html可以帮你具体定位一下。\n然后你可以跑一个现在的t ...\n大佬可以具体说明下吗，这个插件如何定位，以及用什么来跑timings"
        },
        {
            "author": "Doomsday_Envoy",
            "timestamp": 1582985340,
            "txt_content": "1871487870 发表于 2020-2-29 21:57\n大佬可以具体说明下吗，这个插件如何定位，以及用什么来跑timings\n指令的话/laggychunks <tiles|entities>，前面你怀疑卡服可能有多种的话，/laggychunks tiles和/laggychunks entities都试一下吧，然后你TP到那个区块（坐标可能要换算，一个区块16格）实际看看具体是那些东西。\ntimings是内置于核心的，后台直接sponge timings on，然后等至少5-10分钟(太短的话不行)，再输入sponge timings report，会出来一个网址，可以挂到主楼。"
        }
    ]
}