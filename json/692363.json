{
    "title": "正经下来做地图 黄石系统",
    "author": "chyx",
    "replyCount": 3,
    "timestamp": 1494781380,
    "txt_content": "前段时间担心立刻修复抓紧时间高频reload了\n现在那个做完了 自然就要正经地做小地图了~  [正经脸]\n不用高频reload 只有正常的function~\n\n今天做的是黄石系统（仿照红石线做的~）\n放置在羊毛上面的有最大信号强度4最低不会低于0\n     \n  \n\n写了两个function\nloop.txt\nexecute @e[type=Armor_Stand,tag=m] ~ ~ ~ summon area_effect_cloud ~ ~ ~ {Age:-1000000,Particle:take,Tags:[\"n\",\"yellow\"]}\n//将新放置的盔甲架上生成一个药水云\nscoreboard players set @e[tag=n] dq 0\nscoreboard players tag @e[tag=n] add needupdate\nscoreboard players tag @e[tag=n] remove n\nscoreboard players tag @e[tag=m] remove m\n//初始化新放置的盔甲架和对应药水云\nscoreboard players tag @e[tag=yellow] add del\nexecute @e[type=Armor_Stand,tag=as] ~ ~ ~ scoreboard players tag @e[tag=yellow,dx=0] remove del\nexecute @e[tag=del] ~ ~ ~ scoreboard players tag @e[rm=0,r=1,tag=yellow] add needupdate\nkill @e[tag=del]\n//把打掉盔甲架的药水云去除并引起周围更新\nscoreboard players tag @e[tag=wool] remove wool\nexecute @e[tag=yellow] ~ ~ ~ detect ~ ~-1 ~ wool * scoreboard players tag @s add wool\nscoreboard players tag @e[tag=wool,score_dq=3] add needupdate\nscoreboard players tag @e[tag=!wool,score_dq_min=4] add needupdate\n//处理下方是否有放置羊毛\nexecute @e[tag=needupdate] ~ ~ ~ function yellow:update\nscoreboard players tag @e[tag=needupdate] remove needupdate\n//统一更新\nexecute @e[score_dq=4] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 14\nexecute @e[score_dq=3] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 2\nexecute @e[score_dq=2] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 6\nexecute @e[score_dq=1] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 0\nexecute @e[score_dq=0] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 15复制代码\nupdate.txt\n       记分板变量解释\n 当前分数  dq 计算中分数 js 临时分数 temp\nscoreboard players set #var js 0\nexecute @e[type=area_effect_cloud,rm=0,r=1,tag=yellow] ~ ~ ~ scoreboard players operation #var js > @s dq\nscoreboard players operation @s js = #var js\n//取周围的信号强度的最大值\nscoreboard players remove @s[score_js_min=1] js 1\n//减一（信号衰减）\nexecute @s ~ ~ ~ detect ~ ~-1 ~ wool * scoreboard players set @s js 4\nscoreboard players operation @s temp = @s js\nscoreboard players operation @s temp -= @s dq\nscoreboard players operation @s temp *= @s temp\nscoreboard players operation @s dq = @s js\nexecute @s[score_temp_min=1] ~ ~ ~ execute @e[type=area_effect_cloud,rm=0,r=1,tag=yellow] ~ ~ ~ function yellow:update\n//一旦强度变化 就让周围的也更新复制代码\n使用的时候 需要使用这样的一个物品：\n\n\n\n\n66EB5318489756745214E36B067B0A1D.jpg (37.7 KB, 下载次数: 2)\n\n下载附件\n\n2017-5-15 00:48 上传\n\n\n\n\n\n\n\n效果如图：\n\n\n\n\n2017-05-15_00.33.08.png (295.1 KB, 下载次数: 2)\n\n下载附件\n\n2017-5-15 00:51 上传\n\n\n\n\n萌萌哒 像小蘑菇 而且羊毛似乎在所在的正方体的正中心\n\n颜色代表信号强度 \n\n\n@FHC红石 @MsYqgzt @pca006132 @玄素 @ruhuasiyu \n\n",
    "replies": [
        {
            "author": "chyx",
            "timestamp": 1494826740,
            "txt_content": "看到这里也是很辛苦 有一个小小的作业给大家\n\n这个loop里几乎没有不停的更新这些东西\n\n除了显示信号强度的部分 对所有的盔甲架都不停地更换头上的羊毛\n\n我给大家出的题目就是把这一部分也改成只有在发生变化的时候才会替换头上戴的羊毛"
        },
        {
            "author": "Java_command",
            "timestamp": 1494830340,
            "txt_content": "看来切换颜色在这里：；\nexecute @e[score_dq=4] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 14\nexecute @e[score_dq=3] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 2\nexecute @e[score_dq=2] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 6\nexecute @e[score_dq=1] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 0\nexecute @e[score_dq=0] ~ ~ ~ replaceitem entity @e[dx=0,tag=as] slot.armor.head wool 1 15复制代码\n(我这里没有mc没法实验，就是提供一个理论)\n如果要强度变化，那么我认为应该把前面的几行代码放在update这个func里面。"
        },
        {
            "author": "langyo_v3",
            "timestamp": 1494936480,
            "txt_content": " 本帖最后由 langyo_v3 于 2017-5-16 20:11 编辑 \n\n玄毡乃无讯,素毡乃壹等讯,怪哉"
        }
    ]
}