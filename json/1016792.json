{
    "title": "怎么将玩家骑着的生物向玩家视角方向传送？",
    "author": "_HQR_",
    "replyCount": 3,
    "timestamp": 1586740560,
    "txt_content": "如题，想做一个类似骑乘凋零的特色，想到了应用向量，代码如下，但是在玩家骑乘的时候无法执行，而玩家下来的时候可以，求大神搭救！QAQ\n\n public static void RunWitherRider(Player player) {\n        Entity wither = player.getLocation().getWorld().spawnEntity(player.getLocation(), EntityType.WITHER);\n        ((Wither)wither).setHealth(1.0);\n        ((Wither)wither).setAI(false);\n        ((Wither)wither).setPassenger(player);\n        player.playSound(player.getLocation(), Sound.ENTITY_WITHER_SPAWN, 1.0F, 1.0F);\n        //Location location = player.getEyeLocation().clone();\n        ((Wither)wither).setCustomName(ChatColor.translateAlternateColorCodes('&', \"&ePlayer &6&l{player}&e The Wither Rider!\").replace(\"{player}\", player.getName()));\n        new BukkitRunnable() {\n            @Override\n            public void run() {\n                // get direction of length 1. This is the direction the player is looking in\n                Vector direction = player.getEyeLocation().getDirection();\n                // add direction to the player's head location\n                direction.multiply(2);\n                Location lookingAt = player.getEyeLocation().add(direction);\n                wither.teleport(lookingAt);\n               // if (!(player.getVehicle() instanceof Wither)) {\n                //    cancel();\n              //  }\n            }\n        }.runTaskTimer(Mount.plugin, 0L, 1L);\n    }复制代码\n",
    "replies": [
        {
            "author": "mrcaq",
            "timestamp": 1586740560,
            "txt_content": "https://www.mcbbs.net/forum.php? ... ;page=1#pid17566455"
        },
        {
            "author": "758949513",
            "timestamp": 1586743740,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "_HQR_",
            "timestamp": 1586772420,
            "txt_content": "mrcaq 发表于 2020-4-13 09:16\nhttps://www.mcbbs.net/forum.php?mod=viewthread&tid=1016914&page=1#pid17566455\n感谢大佬出手相助！"
        }
    ]
}