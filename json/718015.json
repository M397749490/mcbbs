{
    "title": "[管理] [6] AutoRestart —— 自动重启 | 多功能的自动重启插件 [1.8-1.11]",
    "author": "幻境雲達達",
    "replyCount": 56,
    "timestamp": 1502330460,
    "txt_content": " 本帖最后由 1582952890 于 2017-9-16 08:43 编辑 \n\n\n每天自动重启服务器并清理内存占用，以使玩家体验到更快，更流畅的Minecraft！要实现这个功能（自动重启），你需要更新你的BAT或SH文件。插件的基本结构: 间隔几个小时输入 /stop 命令并在服务器重启（输入/stop）之前显示警告信息 ！\n\n\n可以设置间隔一段时间重启，以时间为单位，允许使用小数。定时重启功能，可以设置在特定的时间重启，24小时制格式！公告提醒玩家重启服务器，重启提醒的分钟时间点可以设置！重启最后几秒倒计时式提醒，每间隔一秒刷一条提醒消息，倒计时秒数可以设置！公告提醒消息内容可以配置！可关闭消息提醒！倒计时秒数的消息提醒内容可以配置！可以关闭标题提醒（title）！在游戏中使用命令更改重启的时间检查所有服务端重启后更新版本的插件并进行提示。支持MultiCraft面板服务器，详情你查看配置！重启时强制保存世界！能在游戏中启动或暂停服务器重启计时器，可以控制自动重启功能！更新插件时自动更新您的旧配置文件！自定义标题消息，主标题和副标题均可以自定义！标题的淡入，持续，淡出时间均可设置，20tick = 1秒！消息提醒中添加了颜色代码，并支持多行消息设置！在服务器重启X秒的时间之前执行命令。比如在重启5秒之前踢出所有玩家。添加了最多玩家阻止重启模式，如果到重启时间时，玩家过多将不会重启。最大玩家阻止重启模式的功能可配置！\n例如:\n  当你的服务器需要重启的时候，如果服务器在线玩家超过你设置的数量，服务器将不会重启，直到服务器玩家等于或者   低于你设置的数量时才会重启。  当你服务器在线人数超过10人时候（例如11人）插件将不会重启服务器，直到玩家有10个或更少\n\n插件关服提示语支持多行显示，支持颜色代码，你可以根据自己的需求提升逼格！\n\n\n\n\n\nBAT文件: windows 系统\n@echo off\n:start\njava -jar Spigot.jar\ngoto start复制代码SH文件: linux 系统\nwhile true\ndo\n   java -jar Spigot.jar\ndone复制代码你的启动脚本必须加入自动启动代码，本插件只负责关闭服务器，并无法再次启动服务器。\n\n\n\n\n\n 命令 权限 /autore help  autorestart.help /autore time  autorestart.time /autore now  autorestart.now /autore reload  autorestart.reload /autore in  autorestart.in /autore pause  autorestart.pause /autore start  autorestart.start\n##  插件 AutoRestart 配置文件\n##  原贴地址: https://www.spigotmc.org/resources/autorestart.2538/\n##  插件作者: ServersMC  简体中文汉化: XJue_DaDa\n##  每天自动重启服务器并清理内存占用，以使玩家体验到更快，更流畅的Minecraft！\n##  要实现这个功能（自动重启），你需要更新你的BAT或SH文件。\n##  插件的基本结构: 间隔几个小时输入 /stop 命令并在服务器重启（输入/stop）之前显示警告信息 ！\n\nconfig:\n    ## 插件主要配置\n    main:\n        ## 自动重启间隔时间，以小时为单位，允许使用小数。\n        interval: 6\n        ## 在此设置定时重启，即在特定的时间内重启服务器!\n        timestamp:\n            ## 开启或关闭定时重启功能\n            enabled: false\n            ## 时间格式为 \"时:分钟\" 24小时制度 例如设置为 19:30 即为傍晚七点三十自动重启服务器\n            ## 确保单引号 '\n            time: '00:00'\n        ## !!!! 重要 !!!!\n        ## 如果您的服务器在MultiCraft下运行（面板服务器）, 将此项设置为 true!\n        ## 此选项将使用 Spigot.yml 重新启动脚本文件重新启动服务器.\n        ## 你必须使用Spigot核心才能使用，因为对于面板服务器来说非常完美，因为它可以自动设置\n        ##   据我所知.\n        ## 启用此功能后, 你不需要编辑启动脚本，这将允许您停止服务器，而无需自动重新启动。\n        restart-script: false\n        ## 服务器重新启动时的提醒消息.\n        ## 颜色代码现已启用！ 使用常规聊天颜色!\n        shutdown: '&c服务器重新启动！我们随时都会回来的。'\n\n    ## 提醒设置\n    reminder:\n        ## 开启或关闭提醒\n        enabled:\n            minutes: true\n            seconds: true\n        ## 设置显示提醒消息的时间。\n        timer:\n            ## 提醒是按分钟为单位的。\n            ## 在重新启动多少分钟之前通知玩家服务器重启消息\n            minutes:\n            - 15\n            - 10\n            - 5\n            - 1\n            ## 秒数重启提醒设置，如果设置为 5 ，插件将会在服务器重启5秒钟之前每间隔1秒发送给玩家重启消息！\n            seconds:  5\n\n    broadcast:\n        ## 开启或关闭公告\n        enabled:\n            ## 显示分钟提醒公告!\n            minutes: true\n            ## 显示描述倒计时提醒公告!\n            seconds: true\n            ## 使用命令 /autore time 提醒公告\n            time: true\n            ## 使用命令 /autore start 或 /autore pause 提醒公告\n            status: true\n            ## 当服务器时间更改时提醒公告!\n            change: true\n        ## 提醒公告内容配置\n        messages:\n            ## 公告前缀 (分钟, 秒, 时间, 状态以及时间更改)\n            prefix: '&f[&7自动重启&f] &e'\n            ## %p - 公告前缀\n            ## %m - 分钟变量 \n            minutes:\n            - '%p'\n            - '服务器将会在 %m 分钟后重启!'\n            ## %s - 秒\n            seconds:\n            - '%p'\n            - '服务器将会在 %s 秒后重启!'\n            ## %h - 时, %m - 分, %s - 秒\n            time:\n            - '%p'\n            - '&c服务器将会在&f%h&c小时&f%m&c分钟&f%s&c秒后重新启动!'\n            ## 此部分没有注释.\n            status:\n                start:\n                - '%p'\n                - '&c自动重启计时器开始运行!'\n                pause:\n                - '%p'\n                - '&c自动重启计时器已经暂停!'\n            ## %h - 时, %m - 分, %s - 秒\n            change:\n            - '%p'\n            - '&c现在服务器将会在&f%h&c时&f%m&c分钟&f%s&c秒后重启!'\n\n    ## 了解 ticks 使用方法. 1 秒等于 20 tick ! 所以1.5秒就相当于 30 tick!\n    ## Fadein（淡入）, stay（持续）, fadeout（淡出） 是三个参数 . 你可以编辑淡入淡出以及持续时间\n    ## 你可以将淡入和淡出的时间设置为0，这样提示将会直接显示（客户端中央大标题形式）!\n    ## 另外，你可以编辑 delay 参数, 使标题显示，然后半秒后显示副标题。\n    ## 取决于你的创意！\n    popups:\n        ## 启用或禁用1.8标题提醒（title）！\n        enabled:\n            ## 分钟提醒\n            minutes: true\n            ## 秒数倒计时提醒\n            seconds: true\n            ## 使用命令 /autore time\n            time: true\n            ## 使用命令 /autore start 或 /autore pause\n            status: true\n            ## 服务器时间发生改变\n            change: true\n        ## 本部分用于自定义标题消息\n        messages:\n            minutes: ## %m - 分钟\n                title:\n                    text: '&c服务器重启倒计时'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n                subtitle:\n                    text: '&f%m &c分钟!'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n            seconds: ## %s - 秒\n                title:\n                    text: '&c服务器重启倒计时'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n                subtitle:\n                    text: '&f%s &c秒!'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n            time: ## %h - 时, %m - 分, %s - 秒\n                title:\n                    text: '&c服务器重启倒计时'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n                subtitle:\n                    text: '&f%h&c时 &f%m&c分 &f%s&c秒!'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n            status: ## 此部分没有注释\n                start:\n                    title:\n                        text: '&c自动重启计时器开始!'\n                        delay: 0\n                        fadein: 20\n                        stay: 40\n                        fadeout: 20\n                    subtitle:\n                        text: ''\n                        delay: 0\n                        fadein: 20\n                        stay: 40\n                        fadeout: 20\n                pause:\n                    title:\n                        text: '&c自动重启计时器暂停!'\n                        delay: 0\n                        fadein: 20\n                        stay: 40\n                        fadeout: 20\n                    subtitle:\n                        text: ''\n                        delay: 0\n                        fadein: 20\n                        stay: 40\n                        fadeout: 20\n            change: ## %h - 时, %m - 分, %s - 秒\n                title:\n                    text: '&c服务器重启倒计时'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n                subtitle:\n                    text: '&f%h&c时 &f%m&c分 &f%s&c秒!'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n            shutdown:\n                title:\n                    text: '&c服务器重启'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n                subtitle:\n                    text: '&c服务器现在将会进行重启!'\n                    delay: 0\n                    fadein: 20\n                    stay: 40\n                    fadeout: 20\n\n    ## 本部分将允许你在特定的服务器重启秒数之前运行特定的控制台命令 \n    commands:\n        ## 开启或关闭此功能\n        enabled: false\n        ## 秒数\n        time: 5\n        ## 运行的命令\n        commands-list:\n        - '/kickall 服务器开始重启，请不要立即加入服务器，以免造成财产损失。'\n\n    ## 此部分为插件文件夹中有插件更新时通知玩家的设置. \n    ## AutoRestart 将搜索所有插件，并将其版本号保存，然后重新开始比较。\n    update-finder:\n        ## 开启或关闭更新查找器通知系统\n        enabled: true\n        ## 服务器检查更新插件的时间\n        ## 以分钟为单位.\n        time: 1\n        ## 找到更新的插件时弹出的消息\n        ## %p 前缀 - %n 更改插件的数量 - %s 为 \" 's \" （英语正确语法的修饰） 汉语可直接忽略此变量.\n        message:\n        - '%p'\n        - '&cAutoRestart 找到了 &f%n个 &c插件将会在重启期间进行更新!'\n        ## 这是一个消息，将公告通知每个发现更新的插件.\n        ## %p 是插件名字.\n        plugin: '&f- &c%p'\n        ## 没有找到更新插件的消息\n        nofind:\n            ## 开启或关闭特性.\n            enabled: true\n            ## 弹出的消息\n            ## %p 插件前缀\n            message:\n            - '%p'\n            - '&c没有发现将在重启期间进行更新的插件'\n\n     ## 这里将设置如果服务器在线玩家超过特定数量将阻止重启.\n    max-players:\n        ## 开启或关闭此功能\n        enabled: false\n        ## 如果这里设置为10，当你服务器在线人数超过10人时候（例如11人）插件将不会重启服务器，直到玩家有10个或更少\n        amount: 10\n        ## 因为人数问题取消重启后检测服务器在线人数的冷却秒数，如果因为人数问题取消服务器，每间隔以下秒数\n        ## 将会检测一次服务器在线人数，如果符合条件，插件将会重启服务器！\n        delay: 10\n        ## 消息设置\n        messages:\n            ## 当因为在线人数过多不能重启服务器时发送的消息!\n            ## %a - 数量\n            alert: '&b服务器在线人数过多，重启已经取消！'\n            ## 因为人数问题服务器取消重启后，人数减少到符合条件时的提示消息\n            ## %d - delay\n            shutdown: '&a现在服务器将会在 &f%d&a 秒后重新启动!'\n\n## 请不要更改此项!!!!\nversion: 18复制代码\n\n附件下载:\n\n\n\nAutoRestart-Reloaded.jar\n(78.11 KB, 下载次数: 1320)\n\n\n\n2017-8-10 09:59 上传\n点击文件名下载附件\n\n\n\n\n\n直链: https://www.spigotmc.org/resourc ... load?version=167061所有版本: https://www.spigotmc.org/resources/autorestart.2538/history\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "a526026058",
            "timestamp": 1502330880,
            "txt_content": "这款插件对于中小型服务器挺有用的。而且楼主的搬运质量很高呀"
        },
        {
            "author": "s2635504514",
            "timestamp": 1502330940,
            "txt_content": "前排支持一下 重启插件 帖子里好像有几个 但功能貌似没这个插件多"
        },
        {
            "author": "神の手",
            "timestamp": 1502330940,
            "txt_content": "配置文件汉化好评ww"
        },
        {
            "author": "Krito",
            "timestamp": 1502340780,
            "txt_content": "那么  BAT 那几行代码  要如何使用呢"
        },
        {
            "author": "迷の十六",
            "timestamp": 1502395140,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "love12138",
            "timestamp": 1502411400,
            "txt_content": "本来我也想搬运的,可是看见脚本后就不想了"
        },
        {
            "author": "yangoo",
            "timestamp": 1502411400,
            "txt_content": "这个插件好 挺适合小服2333"
        },
        {
            "author": "596765341",
            "timestamp": 1502414940,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "音凉",
            "timestamp": 1502878500,
            "txt_content": "感谢汉化！"
        },
        {
            "author": "frea",
            "timestamp": 1503291300,
            "txt_content": "比较强大、令人满意的一款自动重启管理插件"
        },
        {
            "author": "大海Sea",
            "timestamp": 1510725780,
            "txt_content": "卡在三分钟不重启是怎么回事？我这是做的测试，直接调到了3分钟，就算是20小时，到最后的三分钟还是卡住\n\n\n\n\n\nQQ截图20171115140226.jpg (155.97 KB, 下载次数: 18)\n\n下载附件\n\n2017-11-15 14:02 上传\n\n\n\n\n\n\n\n\n\nQQ截图20171115140328.jpg (89.39 KB, 下载次数: 13)\n\n下载附件\n\n2017-11-15 14:02 上传\n\n\n\n\n\n\n\n\n\nQQ截图20171115140348.jpg (33.17 KB, 下载次数: 17)\n\n下载附件\n\n2017-11-15 14:02 上传\n\n\n\n\n\n\n"
        },
        {
            "author": "大海Sea",
            "timestamp": 1510726320,
            "txt_content": "设置每天的几点几分重启也是到3分钟就报错没反应了\n\n\n\n\nQQ截图20171115141158111.jpg (95.53 KB, 下载次数: 15)\n\n下载附件\n\n2017-11-15 14:11 上传\n\n\n\n\n\n\n\n\n\nQQ截图20171115141241117.jpg (77.14 KB, 下载次数: 19)\n\n下载附件\n\n2017-11-15 14:11 上传\n\n\n\n\n\n"
        },
        {
            "author": "阿威23333",
            "timestamp": 1511029080,
            "txt_content": "看到脚本文件这一栏…就知道面板服用不了了XD"
        },
        {
            "author": "幻境雲達達",
            "timestamp": 1511046660,
            "txt_content": "阿威23333 发表于 2017-11-19 02:18\n看到脚本文件这一栏…就知道面板服用不了了XD\n现在的面板服不都可以关服后自动启动么"
        },
        {
            "author": "新东方教主",
            "timestamp": 1517708280,
            "txt_content": "你好楼主，请问面板服可以使用吗？"
        },
        {
            "author": "幻境雲達達",
            "timestamp": 1517709000,
            "txt_content": "新东方教主 发表于 2018-2-4 09:38\n你好楼主，请问面板服可以使用吗？\n可以用 备注方面尤其注意一下"
        },
        {
            "author": "xxfk",
            "timestamp": 1517932260,
            "txt_content": "goto head与goto start有区别吗"
        },
        {
            "author": "1279940774",
            "timestamp": 1517994240,
            "txt_content": "\n好插件，收下了，谢谢贴主发的贴。"
        },
        {
            "author": "大海Sea",
            "timestamp": 1520601060,
            "txt_content": "可以解决一下卡在3分钟不重启的问题吗？"
        },
        {
            "author": "aizhi_D",
            "timestamp": 1524574800,
            "txt_content": "细节很多，好评"
        },
        {
            "author": "skyliye",
            "timestamp": 1524576900,
            "txt_content": "我以前一直用multicraft自带的定时任务，这个插件不错，找时间试试~"
        },
        {
            "author": ":D--",
            "timestamp": 1527516900,
            "txt_content": "很不错的一款插件 收下啦~"
        },
        {
            "author": "丶米饭",
            "timestamp": 1531208340,
            "txt_content": "while true\ndo\n   java -jar Spigot.jar\ndone\n\n\n不能用呀"
        },
        {
            "author": "sky浩瀚",
            "timestamp": 1540923540,
            "txt_content": "求支持1.12版本！"
        },
        {
            "author": "CycleDM",
            "timestamp": 1541009940,
            "txt_content": "楼主你好，本人实测paper-1.13.1完美运行，所有功能正常，无报错"
        },
        {
            "author": "剑气如虹一",
            "timestamp": 1544328480,
            "txt_content": " 本帖最后由 剑气如虹一 于 2018-12-9 18:16 编辑 \n\n官方介绍改了\n使用方法如下\n首先，将AutoRestart放入plugins文件夹，然后加载服务器。创建插件文件夹中的AutoRestart文件夹后，一旦显示“完成”，请关闭服务器。接下来，将AutoRestart-BootLoader.jar和start_bootloader.bat / start_bootloader.sh复制到服务器根文件夹（与Spigot.jar文件相同的文件夹）。根据您的操作系统，AutoRestart将选择为您提供的启动脚本。非常重要的一步将文件复制到根文件夹后，使用start_bootloader文件启动BootLoader并等待它关闭。如果服务器已加载，请等待它完成，然后使用/ stop将其关闭。不要强行关闭自举者; 您的服务器将继续运行（这将导致您通过任务管理器手动关闭服务器）。BootLoader退出后，将创建一个名为JAR_CODE的新文件。使用记事本或同等编辑器对其进行编辑，并将该行更改为最初用于在BootLoader之前启动服务器的同一行。最后，使用BootLoader作为运行服务器的主要方法。需要BootLoader的原因是BootLoader将您的服务器包装在另一个控制台中。AutoRestart-v3与BootLoader通信，告诉它在下次服务器关闭时该怎么做。如果使用/ stop命令，服务器将照常关闭，AutoRestart将永远不会要求重启; 但是，如果AutoRestart导致关机（重启），它会像往常一样关闭服务器并告诉BootLoader一旦关闭就重新启动服务器。田田！原贴\n但是必须把服务端命名为Spigot.jar才能用[魔改的话就不用了]确实挺方便的，我用的centos7.0系统"
        },
        {
            "author": "QQ3369550571",
            "timestamp": 1547844840,
            "txt_content": "定时重启如何增添多个时间"
        },
        {
            "author": "mongmojun",
            "timestamp": 1554791400,
            "txt_content": "有没有最新版本的汉化"
        },
        {
            "author": "hk6766",
            "timestamp": 1556350800,
            "txt_content": "很棒的插件，谢谢搬运！"
        },
        {
            "author": "jim851017",
            "timestamp": 1558732140,
            "txt_content": "怎麼安裝都是英文版本 把文本照貼了還是英文"
        },
        {
            "author": "hjw_hjw",
            "timestamp": 1558735020,
            "txt_content": "感谢楼主搬运，正好需要。"
        },
        {
            "author": "龙猫w",
            "timestamp": 1558747980,
            "txt_content": "非常好的插件感谢楼主"
        },
        {
            "author": "zywddi",
            "timestamp": 1563230700,
            "txt_content": "很不错的插件,收下了"
        },
        {
            "author": "本诺先森",
            "timestamp": 1563239580,
            "txt_content": "1.12.2可以用吗？"
        },
        {
            "author": "云栀幻雪",
            "timestamp": 1563469200,
            "txt_content": "本诺先森 发表于 2019-7-16 09:13\n1.12.2可以用吗？\n官网已经更新支持到1.13了"
        },
        {
            "author": "907450101",
            "timestamp": 1567218000,
            "txt_content": "楼主辛苦啦！"
        },
        {
            "author": "carly77886",
            "timestamp": 1568115660,
            "txt_content": "楼主 请问这款插件可以支持到1.12.2嘛"
        },
        {
            "author": "1289454015",
            "timestamp": 1568119680,
            "txt_content": "非常棒的插件，本人就带走了哈哈哈，谢谢大佬"
        },
        {
            "author": "张四李三",
            "timestamp": 1574419620,
            "txt_content": " 本帖最后由 张四李三 于 2019-11-22 19:03 编辑 \n\n提醒这个是怎么回事，重启之后提醒的\nthis feature is disabled with timestamp feature!\n已经处理了，如果开了定时自动重启，就会出现这个"
        },
        {
            "author": "小小周尼玛",
            "timestamp": 1578018720,
            "txt_content": "while true\ndo   java -jar Spigot.jar\ndone\n\n这样写了之后，服务器关不掉怎么办，一关就重启，我也不敢强制杀进程"
        },
        {
            "author": "Nicekill",
            "timestamp": 1578021240,
            "txt_content": "很棒的插件！"
        },
        {
            "author": "wangkui225",
            "timestamp": 1581760740,
            "txt_content": "面板服怎么配置"
        },
        {
            "author": "heaven666",
            "timestamp": 1584414660,
            "txt_content": "所以汉化呢？"
        },
        {
            "author": "落叶悠哉",
            "timestamp": 1585019280,
            "txt_content": "可以我下下来试试"
        },
        {
            "author": "Mr_Des",
            "timestamp": 1585027500,
            "txt_content": "自动重启之后回档。。怎么解决 手动输入stop不会回"
        },
        {
            "author": "13876725377",
            "timestamp": 1585027740,
            "txt_content": "正好需要"
        },
        {
            "author": "升级a",
            "timestamp": 1585096980,
            "txt_content": "1.12有用吗"
        },
        {
            "author": "Fur_Xia",
            "timestamp": 1585623600,
            "txt_content": "Mr_Des 发表于 2020-3-24 13:25\n自动重启之后回档。。怎么解决 手动输入stop不会回\n插件的功能就是定时在服务器内输入restart（现版本插件）来实现重启。所以不会导致回档啊"
        },
        {
            "author": "烟消1云散",
            "timestamp": 1585630800,
            "txt_content": "不错的插件楼主辛苦了"
        },
        {
            "author": "httu",
            "timestamp": 1585632000,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "hzk2672544975",
            "timestamp": 1586197380,
            "txt_content": "有没有大哥测试1.12能不能用"
        },
        {
            "author": "tian__zhen",
            "timestamp": 1586198460,
            "txt_content": "好插件收下了"
        },
        {
            "author": "Danty丶轩辕",
            "timestamp": 1586238120,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "梦落老司机",
            "timestamp": 1586242260,
            "txt_content": "那个脚本是必须要弄么... 有点不会整 "
        },
        {
            "author": "Fur_Xia",
            "timestamp": 1586683200,
            "txt_content": "梦落老司机 发表于 2020-4-7 14:51\n那个脚本是必须要弄么... 有点不会整\nhttps://www.mcbbs.net/thread-1002497-1-1.html 不必须，可以查看新帖子。本帖为老版本插件"
        },
        {
            "author": "Fur_Xia",
            "timestamp": 1586683200,
            "txt_content": "hzk2672544975 发表于 2020-4-7 02:23\n有没有大哥测试1.12能不能用\n支持到1.15.2了\nhttps://www.mcbbs.net/thread-1002497-1-1.html"
        }
    ]
}