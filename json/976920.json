{
    "title": "服务端报错。",
    "author": "Worf丶Horo",
    "replyCount": 19,
    "timestamp": 1583368680,
    "txt_content": "RT。似乎是数据库方面的问题。但是不知道是哪个插件出问题了。\n只知道是CoreProtect最近的db文件总是崩。会突然变成0kb大小，得reload一下又从零开始记录\n\n下面放服务端报错\n\n05.03 08:31:02 [Server] Netty Epoll Server IO #1/WARN Failed to load player data\n05.03 08:31:02 [Server] INFO org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such table: players)\n05.03 08:31:02 [Server] INFO at org.sqlite.core.DB.newSQLException(DB.java:909) ~[DB.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.core.DB.newSQLException(DB.java:921) ~[DB.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.core.DB.throwex(DB.java:886) ~[DB.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.core.NativeDB.prepare_utf8(Native Method) ~[NativeDB.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.core.NativeDB.prepare(NativeDB.java:127) ~[NativeDB.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.core.DB.prepare(DB.java:227) ~[DB.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.core.CorePreparedStatement.<init>(CorePreparedStatement.java:41) ~[CorePreparedStatement.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.jdbc3.JDBC3PreparedStatement.<init>(JDBC3PreparedStatement.java:30) ~[JDBC3PreparedStatement.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.jdbc4.JDBC4PreparedStatement.<init>(JDBC4PreparedStatement.java:19) ~[JDBC4PreparedStatement.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.jdbc4.JDBC4Connection.prepareStatement(JDBC4Connection.java:48) ~[JDBC4Connection.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:263) ~[JDBC3Connection.class:?]\n05.03 08:31:02 [Server] INFO at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:235) ~[JDBC3Connection.class:?]\n05.03 08:31:02 [Server] INFO at com.lenis0012.bukkit.marriage2.internal.data.DataManager.loadPlayer(DataManager.java:201) [Marriage.jar:?]\n05.03 08:31:02 [Server] INFO at com.lenis0012.bukkit.marriage2.internal.MarriageCore.getMPlayer(MarriageCore.java:164) [Marriage.jar:?]\n05.03 08:31:02 [Server] INFO at com.lenis0012.bukkit.marriage2.listeners.ChatListener.onPlayerChat(ChatListener.java:25) [Marriage.jar:?]\n05.03 08:31:02 [Server] INFO at catserver.server.executor.asm.generated.GeneratedEventExecutor389.execute(Unknown Source) [?:?]\n05.03 08:31:02 [Server] INFO at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:67) [EventExecutor$2.class:git-CatServer-1.12.2-2019-11-27]\n05.03 08:31:02 [Server] INFO at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) [RegisteredListener.class:git-CatServer-1.12.2-2019-11-27]\n05.03 08:31:02 [Server] INFO at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:509) [SimplePluginManager.class:git-CatServer-1.12.2-2019-11-27]\n05.03 08:31:02 [Server] INFO at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:491) [SimplePluginManager.class:git-CatServer-1.12.2-2019-11-27]\n05.03 08:31:02 [Server] INFO at net.minecraft.network.NetHandlerPlayServer.chat(NetHandlerPlayServer.java:1532) [pa.class:?]\n05.03 08:31:02 [Server] INFO at net.minecraft.network.NetHandlerPlayServer.func_147354_a(NetHandlerPlayServer.java:1469) [pa.class:?]\n05.03 08:31:02 [Server] INFO at net.minecraft.network.play.client.CPacketChatMessage.func_148833_a(CPacketChatMessage.java:38) [la.class:?]\n05.03 08:31:02 [Server] INFO at net.minecraft.network.play.client.CPacketChatMessage.func_148833_a(CPacketChatMessage.java:8) [la.class:?]\n05.03 08:31:02 [Server] INFO at net.minecraft.network.NetworkManager.channelRead0(NetworkManager.java:133) [gw.class:?]\n05.03 08:31:02 [Server] INFO at net.minecraft.network.NetworkManager.channelRead0(NetworkManager.java:51) [gw.class:?]\n05.03 08:31:02 [Server] INFO at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105) [SimpleChannelInboundHandler.class:4.1.9.Final]\n05.03 08:31:02 [Server] INFO at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [AbstractChannelHandlerContext.class:4.1.9.Final]\n05.03 08:31:05 [Multicraft] Skipped 285 lines due to rate limit (30/s)",
    "replies": [
        {
            "author": "EmptyLava",
            "timestamp": 1583368680,
            "txt_content": "Worf丶Horo 发表于 2020-3-5 09:23\n只是想查询记录而已。\n查询记录的只有coreprotect插件，因为它几乎没有bug，太稳定了，其他插件根本竞争不过它\n\n另外co好像可以查mod物品交互，那你就尝试搭个数据库也行吧，百度教程很多"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583368740,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-3-5 08:41 编辑 \n\n还是数据库错误了\n既然都变成0kb了\n那你先把coreprotect的配置文件都删了然后更新到最新版本吧"
        },
        {
            "author": "Worf丶Horo",
            "timestamp": 1583368980,
            "txt_content": "EmptyLava 发表于 2020-3-5 08:39\n还是数据库错误了\n既然都变成0kb了\n那你先把coreprotect的配置文件都删了然后更新到最新版本吧 ...\n一直都是最新版本，删过配置文件了。\n1.12最新版就2.14.4了"
        },
        {
            "author": "xmdhs",
            "timestamp": 1583369040,
            "txt_content": "sqllite 记录本就没有 mysql 稳定。\n\n你可以换成 mysql 来记录，或者换块硬盘"
        },
        {
            "author": "思念化作海",
            "timestamp": 1583369160,
            "txt_content": "Worf丶Horo 发表于 2020-3-5 08:43\n一直都是最新版本，删过配置文件了。\n1.12最新版就2.14.4了\nCatServer不太支持CoreProtect 你是用恒林的那个核心啊..\n用CatServer群里的插件 不要用spigotmc上的\n\nspigotmc上最新版的是2.18.2\n用mysql存储可能会爆炸:)"
        },
        {
            "author": "Worf丶Horo",
            "timestamp": 1583369160,
            "txt_content": "xmdhs 发表于 2020-3-5 08:44\nsqllite 记录本就没有 mysql 稳定。\n\n你可以换成 mysql 来记录，或者换块硬盘\n用的是面板服估计没得选择。。"
        },
        {
            "author": "Worf丶Horo",
            "timestamp": 1583369280,
            "txt_content": "折叠 发表于 2020-3-5 08:46\nCatServer不太支持CoreProtect 你是用恒林的那个核心啊..\n用CatServer群里的插件 不要用spigotmc上的\n那是基本上用的插件如果群里有都是用群里的吗？"
        },
        {
            "author": "xmdhs",
            "timestamp": 1583369280,
            "txt_content": "Worf丶Horo 发表于 2020-3-5 08:46\n用的是面板服估计没得选择。。\nhttps://cloud.tencent.com/product/cdb\n"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583369340,
            "txt_content": "Worf丶Horo 发表于 2020-3-5 08:46\n用的是面板服估计没得选择。。\n我在考虑可能是面板商禁止用coreprotect\n正常错误也不可能让数据库变为0KB啊...\n每次错误一般是在什么时候.."
        },
        {
            "author": "思念化作海",
            "timestamp": 1583369340,
            "txt_content": "Worf丶Horo 发表于 2020-3-5 08:48\n那是基本上用的插件如果群里有都是用群里的吗？\n不是 单独指CatServer上的CoreProtect"
        },
        {
            "author": "Worf丶Horo",
            "timestamp": 1583369940,
            "txt_content": "EmptyLava 发表于 2020-3-5 08:49\n我在考虑可能是面板商禁止用coreprotect\n正常错误也不可能让数据库变为0KB啊...\n每次错误一般是在什么时 ...\nlog里找不到相应记录，Debug-1里有，但是前面很正常，是两个玩家聊天。在指令/res tp 一个领地之后开始出现的第一行报错。\n[SQLITE_READONLY_DBMOVED]  The database file has been moved since it was opened (attempt to write a readonly database)\n但是我也没有移动CP的文件和文件夹。"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583370120,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-3-5 09:05 编辑 \nWorf丶Horo 发表于 2020-3-5 08:59\nlog里找不到相应记录，Debug-1里有，但是前面很正常，是两个玩家聊天。在指令/res tp 一个领地之后开始出 ...\n\n那我怀疑就是你的服务商为了节省硬盘空间而定时删除每个用户的coreprotect数据库\nco的数据库可以改名或者改目录吗，试试\nCoreProtect无法正常存储，这将直接导致无法使用CoreProtect的主要功能。\n你可以使用FTP打开plugins文件夹，如果发现CoreProtect文件夹有一个\"小箭头\"，这一般是服务商故意禁止服主使用CoreProtect，因为CoreProtect会存储很大的数据。\n解决方法：\n0、使用技术手段绕开服务商的限制。\n1、更换服务商，不租用无良商家的服务器。\n2、删除CoreProtect插件，使用其他插件代替。\n3(推荐)、\n使用MySQL进行存储：\n虽然服务商禁止了CoreProtect，但他可能会提供MySQL服务器，检查你的后台是否有相关字样(数据库,MySQL)。\n当然你也可以自己架设MySQL服务器，具体只需要百度\"MySQL服务器\"即可，一些网站空间出售的IDC网站会提供租用服务，价格比较便宜。\n这也是为什么楼上发了个idc的链接了"
        },
        {
            "author": "Worf丶Horo",
            "timestamp": 1583370660,
            "txt_content": "EmptyLava 发表于 2020-3-5 09:02\n那我怀疑就是你的服务商为了节省硬盘空间而定时删除每个用户的coreprotect数据库\nco的数据库可以改名或者 ...\n改名或者目录就无法识别了。"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583370780,
            "txt_content": "Worf丶Horo 发表于 2020-3-5 09:11\n改名或者目录就无法识别了。\n那我建议你租个mysql服务器\n或者更换服务器商吧\n你这个服务商比较着，禁止用co插件\n你既然用catserver的话不就是mod服吗...为何要用co?co只能记录原版物品数据"
        },
        {
            "author": "Worf丶Horo",
            "timestamp": 1583370960,
            "txt_content": "EmptyLava 发表于 2020-3-5 09:13\n那我建议你租个mysql服务器\n或者更换服务器商吧\n你这个服务商比较着，禁止用co插件\n因为也没有其他可以用的插件了啊。。\n我有一个1H2G的腾讯云可以自己搭建吗"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583371020,
            "txt_content": "Worf丶Horo 发表于 2020-3-5 09:16\n因为也没有其他可以用的插件了啊。。\n我有一个1H2G的腾讯云可以自己搭建吗 ...\n抱歉我不会搭建数据库\n另外我不确定面板服能连得上数据库"
        },
        {
            "author": "Worf丶Horo",
            "timestamp": 1583371080,
            "txt_content": "EmptyLava 发表于 2020-3-5 09:17\n抱歉我不会搭建数据库\n另外我不确定面板服能连得上数据库\n好吧。那要解决的话，除了CP还有其他的什么插件可以在MOD服用吗"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583371200,
            "txt_content": "Worf丶Horo 发表于 2020-3-5 09:18\n好吧。那要解决的话，除了CP还有其他的什么插件可以在MOD服用吗\n目前没有插件能保护mod物品\n地皮 领地都可以设置禁足\n另外可以给箱子上锁之类的"
        },
        {
            "author": "Worf丶Horo",
            "timestamp": 1583371380,
            "txt_content": "EmptyLava 发表于 2020-3-5 09:20\n目前没有插件能保护mod物品\n地皮 领地都可以设置禁足\n另外可以给箱子上锁之类的 ...\n只是想查询记录而已。"
        }
    ]
}