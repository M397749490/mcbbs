{
    "title": "[管理]SpawnLimit——限制各种方式怪物生成速率[全版本]",
    "author": "Ling_Haner",
    "replyCount": 14,
    "timestamp": 1588570740,
    "txt_content": " 本帖最后由 Ling_Haner 于 2020-5-9 22:56 编辑 \n\n介绍\n限制刷怪笼、自然生成等方式产出怪物的速率\n轻量:  无任何多余的提示信息、超轻量完全自定义: 可以限制多种方式产出怪物的速率\n\n\n指令\n/spawnlimit - 重载配置\n\n配置\n\nconfig.yml\n\n\nZOMBIE:#怪物类型\n  NATURAL: 100#生成方式和生成速率，设为0则禁止生成\n  SPAWNER: 80\nPIG:\n  SPAWNER: 50复制代码\n\n怪物类型名字可在这里查到https://bukkit.windit.net/javadoc/org/bukkit/entity/EntityType.html\n生成方式可在这里查到https://bukkit.windit.net/javadoc/org/bukkit/event/entity/CreatureSpawnEvent.SpawnReason.html\n下载\n您的评分就是我更新的最大动力\n\n\n\nSpawnLimit.jar\n(3.23 KB, 下载次数: 103)\n\n\n\n2020-5-9 22:56 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n更新日志\n2020/5/9 22:55 - v1.1.1 - 修复cat端无法使用的问题\n2020/5/4 15:10 - v1.1.0 - 优化代码，感谢@a1294790523 的建议\n\n\n本插件所用所有代码均为原创,不存在借用/抄袭等行为\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "夕离丶青春",
            "timestamp": 1588572000,
            "txt_content": "是否支持模组生物勒"
        },
        {
            "author": "Ling_Haner",
            "timestamp": 1588572840,
            "txt_content": "夕离丶青春 发表于 2020-5-4 14:00\n是否支持模组生物勒\n理论上是支持的"
        },
        {
            "author": "a1294790523",
            "timestamp": 1588573200,
            "txt_content": "代码建议：\n1.CreatureSpawnEvent是高频事件，建议在载入的时候使用Map<EntityType,Map<SpawnReason,Interger>>数据结构直接进行缓存，避免StringBuilder的频繁创建，同时可直接使用静态的Random对象\n2.可以考虑0和100这种特殊情况避免随机数的计算"
        },
        {
            "author": "Ling_Haner",
            "timestamp": 1588576320,
            "txt_content": "a1294790523 发表于 2020-5-4 14:20\n代码建议：\n1.CreatureSpawnEvent是高频事件，建议在载入的时候使用Map数据结构直接进行缓存，避免StringBu ...\n已优化代码，感谢指导"
        },
        {
            "author": "永远Eternally",
            "timestamp": 1588654260,
            "txt_content": "所以只能限制原版的怪物.."
        },
        {
            "author": "Ling_Haner",
            "timestamp": 1588661220,
            "txt_content": "永远Eternally 发表于 2020-5-5 12:51\n所以只能限制原版的怪物..\n理论上mod的怪物也可以"
        },
        {
            "author": "Lonely丶独独",
            "timestamp": 1588924200,
            "txt_content": "支持原创 用于1.15挺不错的"
        },
        {
            "author": "Misaka。",
            "timestamp": 1589031840,
            "txt_content": " 本帖最后由 Misaka。 于 2020-5-9 21:45 编辑 \n\n报错呢\ncat1.12\n\n>spawnlimit\n[21:43:41] [Server thread/INFO]: [SpawnLimit] 已加载怪物类型: CREEPER 生成原因:DEFAULT 生成速率:1\n[21:43:41] [Server thread/INFO]: [SpawnLimit] 重载配置完成\n[21:43:46] [Server thread/ERROR]: Could not pass event CreatureSpawnEvent to SpawnLimit v1.1.0\njava.lang.NoClassDefFoundError: org/bukkit/craftbukkit/libs/org/apache/commons/lang3/RandomUtils\n        at com.linghaner.spawnlimit.SpawnLimit.onSpawn(SpawnLimit.java:48) ~[SpawnLimit.jar:?]\n        at catserver.server.executor.asm.generated.GeneratedEventExecutor523.execute(Unknown Source) ~[?:?]\n        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:67) ~[EventExecutor$2.class:git-CatServer-1.12.2-2019-11-27]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[RegisteredListener.class:git-CatServer-1.12.2-2019-11-27]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:509) [SimplePluginManager.class:git-CatServer-1.12.2-2019-11-27]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:494) [SimplePluginManager.class:git-CatServer-1.12.2-2019-11-27]\n        at org.bukkit.craftbukkit.v1_12_R1.event.CraftEventFactory.callCreatureSpawnEvent(CraftEventFactory.java:323) [CraftEventFactory.class:git-CatServer-1.12.2-2019-11-27]\n        at net.minecraft.world.World.addEntity(World.java:1403) [amu.class:?]\n        at net.minecraft.world.WorldServer.addEntity(WorldServer.java:1287) [oo.class:?]\n        at net.minecraft.world.World.spawnEntity(World.java:1376) [amu.class:?]\n        at forestry.core.utils.EntityUtil.spawnEntity(EntityUtil.java:42) [EntityUtil.class:?]\n        at forestry.core.utils.EntityUtil.spawnEntity(EntityUtil.java:34) [EntityUtil.class:?]\n        at forestry.apiculture.genetics.alleles.AlleleEffectResurrection.resurrectEntity(AlleleEffectResurrection.java:116) [AlleleEffectResurrection.class:?]\n        at forestry.apiculture.genetics.alleles.AlleleEffectResurrection.doEffectThrottled(AlleleEffectResurrection.java:100) [AlleleEffectResurrection.class:?]\n        at forestry.apiculture.genetics.alleles.AlleleEffectThrottled.doEffect(AlleleEffectThrottled.java:50) [AlleleEffectThrottled.class:?]\n        at forestry.apiculture.genetics.Bee.doEffect(Bee.java:187) [Bee.class:?]\n        at forestry.apiculture.genetics.Bee.doEffect(Bee.java:168) [Bee.class:?]\n        at forestry.apiculture.BeekeepingLogic.queenWorkTick(BeekeepingLogic.java:276) [BeekeepingLogic.class:?]\n        at forestry.apiculture.BeekeepingLogic.doWork(BeekeepingLogic.java:253) [BeekeepingLogic.class:?]\n        at forestry.apiculture.multiblock.AlvearyController.updateServer(AlvearyController.java:243) [AlvearyController.class:?]\n        at forestry.core.multiblock.MultiblockControllerBase.updateMultiblockEntity(MultiblockControllerBase.java:445) [MultiblockControllerBase.class:?]\n        at forestry.core.multiblock.MultiblockWorldRegistry.tickStart(MultiblockWorldRegistry.java:82) [MultiblockWorldRegistry.class:?]\n        at forestry.core.multiblock.MultiblockRegistry.tickStart(MultiblockRegistry.java:33) [MultiblockRegistry.class:?]\n        at forestry.core.multiblock.MultiblockServerTickHandler.onWorldTick(MultiblockServerTickHandler.java:20) [MultiblockServerTickHandler.class:?]\n        at net.minecraftforge.fml.common.eventhandler.ASMEventHandler_828_MultiblockServerTickHandler_onWorldTick_WorldTickEvent.invoke(.dynamic) [?:git-CatServer-1.12.2-2019-11-27]\n        at net.minecraftforge.fml.common.eventhandler.ASMEventHandler.invoke(ASMEventHandler.java:90) [ASMEventHandler.class:git-CatServer-1.12.2-2019-11-27]\n        at net.minecraftforge.fml.common.eventhandler.EventBus.post(EventBus.java:221) [EventBus.class:git-CatServer-1.12.2-2019-11-27]\n        at net.minecraftforge.fml.common.FMLCommonHandler.onPreWorldTick(FMLCommonHandler.java:284) [FMLCommonHandler.class:git-CatServer-1.12.2-2019-11-27]\n        at net.minecraft.server.MinecraftServer.updateTimeLightAndEntities(MinecraftServer.java:917) [MinecraftServer.class:?]\n        at net.minecraft.server.dedicated.DedicatedServer.updateTimeLightAndEntities(DedicatedServer.java:469) [nz.class:?]\n        at net.minecraft.server.MinecraftServer.tick(MinecraftServer.java:804) [MinecraftServer.class:?]\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:658) [MinecraftServer.class:?]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\n"
        },
        {
            "author": "Ling_Haner",
            "timestamp": 1589035740,
            "txt_content": "Misaka。 发表于 2020-5-9 21:44\n报错呢\ncat1.12\n看样子是cat端没有RandomUtils类，下一个版本我会修改方法解决这个问题"
        },
        {
            "author": "哀子小七",
            "timestamp": 1599278040,
            "txt_content": "50是 50秒还是 tick啊"
        },
        {
            "author": "117779284",
            "timestamp": 1600859460,
            "txt_content": "支持多世界吗？"
        },
        {
            "author": "苏子峰",
            "timestamp": 1604750460,
            "txt_content": "会干扰mm怪的刷新时间吗"
        },
        {
            "author": "深拥v",
            "timestamp": 1604763240,
            "txt_content": "要是能支持1.16就更好啦"
        },
        {
            "author": "琳玉",
            "timestamp": 1604768880,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        }
    ]
}