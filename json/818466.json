{
    "title": "[Mod]如何做到破坏指定方块几率掉落指定物品",
    "author": "克劳",
    "replyCount": 4,
    "timestamp": 1535681100,
    "txt_content": "emmmm我想知道有没有能够实现这种效果的方法...\n(在4z大佬教程中看到的只有破坏方块掉落物品的事件而无法指定方块类型和物品类型)",
    "replies": [
        {
            "author": "gooding300",
            "timestamp": 1535690700,
            "txt_content": "net.minecraft.block.Block类有一个方法名叫getSilkTouchDrop\nprotected ItemStack getSilkTouchDrop(IBlockState state)\n    {\n        Item item = Item.getItemFromBlock(this);\n        int i = 0;\n\n        if (item.getHasSubtypes())\n        {\n            i = this.getMetaFromState(state);\n        }\n\n        return new ItemStack(item, 1, i);\n    }复制代码\n请在您自己的方块类中直接覆写（override）这个方法并加入随机即可。\n\n如果我的回答对您的问题有所帮助，欢迎给我评分。"
        },
        {
            "author": "克劳",
            "timestamp": 1535692740,
            "txt_content": " 本帖最后由 克劳 于 2018-8-31 13:20 编辑 \ngooding300 发表于 2018-8-31 12:45\nnet.minecraft.block.Block类有一个方法名叫getSilkTouchDrop\n\n请在您自己的方块类中直接覆写（override） ...\n谢谢大佬回复qwq\n\n有点不懂下面if的作用是什么....\n以及如果我指定的方块是原版方块，那么这个方法应该在哪个类中覆写呢?"
        },
        {
            "author": "gooding300",
            "timestamp": 1535695740,
            "txt_content": "克劳 发表于 2018-8-31 13:19\n谢谢大佬回复qwq\n\n有点不懂下面if的作用是什么....\n如果不是自己Mod的方块的话，就没必要覆写了\n直接监听net.minecraftforge.event.world.BlockEvent.HarvestDropsEvent\n然后判断下掉落物品类型(调用getDrops获取)直接调用setDropChance，参数为掉落几率，范围为[0,1]\n\n如果您需要实例的话可以再次询问~"
        },
        {
            "author": "克劳",
            "timestamp": 1535697420,
            "txt_content": "gooding300 发表于 2018-8-31 14:09\n如果不是自己Mod的方块的话，就没必要覆写了\n直接监听net.minecraftforge.event.world.BlockEvent.Harves ...\n麻烦大佬给我个实例嘤嘤嘤\n\n自己试了一会一直没成功...\n"
        }
    ]
}