{
    "title": "服务器tps非常低该怎么破",
    "author": "1191854019",
    "replyCount": 11,
    "timestamp": 1583730180,
    "txt_content": "PaperSpigot 1.15.2 插件端日常在线20位玩家 tps只有7-8\n\n<插件列表>\n| MySkin\n| BukkitWhitelist\n| Coreprotect\n\n<Timing 数据>\nhttps://timings.aikar.co/?id=581f936c42634a20ae860e7985d4ab82\n\n<vps配置>\n\n\n\n\nimage.png (21.24 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-9 13:02 上传\n\n\n\n\n\n(现在CPU有点偏高 日常在40-60%占用率)\n我个人觉得不是配置的问题\n",
    "replies": [
        {
            "author": "结城希亚",
            "timestamp": 1583730180,
            "txt_content": " 本帖最后由 御炎Roinflam 于 2020-3-9 13:19 编辑 \n\n主频不是很高，3GHz都没，建议升级下CPU\nminecraft都很吃cpu主频的，核心再多cpu不够也是卡\n更何况是高版本优化本来就很差，cpu更为重要了\n\n你的实体村民占用很高，用这个插件优化试试\n[优化] Villager Optimiser —— 优化1.14.2以上的村民寻路以减少卡顿 [1.14.2-1.15]\nhttps://www.mcbbs.net/thread-876653-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n其他实体的话可以用这个插件限制\n[优化|管理|修复] Aegis Clear —— 高版本优化 | 清理 | 管理插件 [全版本]\nhttps://www.mcbbs.net/thread-918981-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n这是专门针对1.15的优化，其他的话其实感觉帮助不是很大\n该卡的还是卡，优化是有极限的（CPU是最重要的\n\n\n\n\n\n\n\n"
        },
        {
            "author": "冷枫小乐",
            "timestamp": 1583730360,
            "txt_content": "服务端版本1.15.2，似乎也没优化太好。和1.14.4没啥区别。"
        },
        {
            "author": "Salt_lovely",
            "timestamp": 1583730540,
            "txt_content": " 本帖最后由 Salt_lovely 于 2020-3-9 13:19 编辑 \n\n主要是CPU运算速率不足带不动。\n我这里提几点，怎么做看你的了\n1、升级CPU（即使是paper，对CPU的要求也是集中在单核心上的）\n2、减少村民、僵尸、牛、铁傀儡、鸡的数量\n3、1.14开始，服务端的实体效率就一直低得可怕，玩家同意的话可以换到1.13或1.12\n4、你的timings时间有点短，可能测不准\n5、spigot.yml里面，将tick-inactive-villagers: true改为false\n6、paper.yml里面，将despawn-ranges下面的hard: 96改为64"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583730600,
            "txt_content": "到达1.15.2服务器寿命上限了\n原因(1)\n1.实体，在接下来我会为你尽力优化\n优化方案(6)\n1.安装lagassist(付费),yasui这种插件，限制实体数量和其他\n2.安装villager optimiser优化村民寻路，把村民智商降到最低就完事了，因为你的村民占用是实体最大\nhttps://www.mcbbs.net/forum.php?mod=viewthread&tid=876653&filter=sortid&sortid=7\n3.monster-spawn从3设置到6或8,总的实体太多了\n4.使用bc分开多个世界,这可以极大的提升tps(不建议新手开bc服,如果出现bug了将很难解决)\n5.在任务管理器中右键javaw.exe,转详细信息后右键javaw.exe将优先级改为实时,这可以增加cpu的占用率从而提升tps(但服务器重启后需要重新配置,建议配合计划任务)\n6.提升cpu频率是一个好的选择，因为minecraft对于多线程利用不佳，所以cpu占用几乎不可能满，你只能通过提升主频来让服务器tps变高"
        },
        {
            "author": "1191854019",
            "timestamp": 1583739720,
            "txt_content": "EmptyLava 发表于 2020-3-9 13:10\n到达1.15.2服务器寿命上限了\n原因(1)\n1.实体，在接下来我会为你尽力优化\n升级cpu带来的tps优化会比较明显吗？打算升级到E5 2667 -v2 睿频3.3-4.0Ghz 会不会好很多？"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583740080,
            "txt_content": "1191854019 发表于 2020-3-9 15:42\n升级cpu带来的tps优化会比较明显吗？打算升级到E5 2667 -v2 睿频3.3-4.0Ghz 会不会好很多？ ...\n升级cpu频率肯定会提升tps\n不过。。。我记得2667的cpuz单核好像才200多分\n你先跑下你现在cpu的分"
        },
        {
            "author": "猿汐",
            "timestamp": 1583741460,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Kruls",
            "timestamp": 1583741520,
            "txt_content": "调低视距，怪物刷新速度，服务器存档间隔"
        },
        {
            "author": "1191854019",
            "timestamp": 1583741760,
            "txt_content": "EmptyLava 发表于 2020-3-9 15:48\n升级cpu频率肯定会提升tps\n不过。。。我记得2667的cpuz单核好像才200多分\n你先跑下你现在cpu的分 ...\n用3dmark跑吗？（不太清楚这方面"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583741880,
            "txt_content": "1191854019 发表于 2020-3-9 16:16\n用3dmark跑吗？（不太清楚这方面\nhttps://www.cpuid.com/"
        },
        {
            "author": "Huax2",
            "timestamp": 1583742660,
            "txt_content": "装个优化插件吧。推荐LR"
        }
    ]
}