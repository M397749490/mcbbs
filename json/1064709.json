{
    "title": "bukkit怎么给无法附魔的物品强制添加附魔",
    "author": "3104026189",
    "replyCount": 25,
    "timestamp": 1592653680,
    "txt_content": "如题",
    "replies": [
        {
            "author": "南柯郡守",
            "timestamp": 1592653680,
            "txt_content": "有个unsaveEnchant....的方法\n\n不安全附魔 可以给任意物品附魔"
        },
        {
            "author": "深拥v",
            "timestamp": 1592654820,
            "txt_content": "通过op手动编辑物品，这个操作方式可以接受吗，可以的话我给你发一个mod来做这个"
        },
        {
            "author": "名副其实",
            "timestamp": 1592654880,
            "txt_content": "如果你愿意的话你可以用铁砧，如果名字变化可以用改名字的插件修改名字"
        },
        {
            "author": "3104026189",
            "timestamp": 1592655300,
            "txt_content": "深拥v 发表于 2020-6-20 20:07\n通过op手动编辑物品，这个操作方式可以接受吗，可以的话我给你发一个mod来做这个 ...\nbukkit啊，插件"
        },
        {
            "author": "3104026189",
            "timestamp": 1592655300,
            "txt_content": "南柯郡守 发表于 2020-6-20 20:14\n有个unsaveEnchant....的方法\n\n不安全附魔 可以给任意物品附魔\n但是用了没有效果不知道为啥"
        },
        {
            "author": "深拥v",
            "timestamp": 1592655420,
            "txt_content": "3104026189 发表于 2020-6-20 20:15\nbukkit啊，插件\n我知道，只需要op在自己的客户端里放一个就能用，一个物品编辑器\n\n\n\nU.zip\n(716.22 KB, 下载次数: 0)\n\n\n\n2020-6-20 20:16 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n解压后把那个.jar放mod里，然后进游戏开创造模式，按U，你试试能不能用"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1592655420,
            "txt_content": "3104026189 发表于 2020-6-20 20:15\n但是用了没有效果不知道为啥\n试试通过NBTTAG添加附魔消息\n\n要生艹nms"
        },
        {
            "author": "3104026189",
            "timestamp": 1592655480,
            "txt_content": "深拥v 发表于 2020-6-20 20:17\n我知道，只需要op在自己的客户端里放一个就能用，一个物品编辑器\n\n\n\n啊这。。我不要这个，我是要做gui，不是说编辑物品"
        },
        {
            "author": "深拥v",
            "timestamp": 1592655540,
            "txt_content": "3104026189 发表于 2020-6-20 20:18\n啊这。。我不要这个，我是要做gui，不是说编辑物品\ngui跟附魔有什么关系？？？\n你到底要干嘛，，，"
        },
        {
            "author": "William_Shi",
            "timestamp": 1592655660,
            "txt_content": "https://bukkit.windit.net/javadoc/org/bukkit/inventory/ItemStack.html#addUnsafeEnchantment-org.bukkit.enchantments.Enchantment-int-\n\n\n还要写mod？？GUI？？？\n你们到底在说啥？？\nUnsafe怎么就不行了？\n还要NBTTag？Bukkit封装好的不香吗？？？"
        },
        {
            "author": "3104026189",
            "timestamp": 1592655840,
            "txt_content": "深拥v 发表于 2020-6-20 20:19\ngui跟附魔有什么关系？？？\n你到底要干嘛，，，\n给gui添加一个附魔特效呗"
        },
        {
            "author": "William_Shi",
            "timestamp": 1592655840,
            "txt_content": "如果非要NBT\nhttps://www.mcbbs.net/thread-697478-1-1.html\n\n看看这个好了\n\n\n编程开发提问请到编程求助区提问\n绝对比在这里好得多"
        },
        {
            "author": "深拥v",
            "timestamp": 1592656080,
            "txt_content": "3104026189 发表于 2020-6-20 20:24\n给gui添加一个附魔特效呗\n你是要自己写插件还是怎么，一般的菜单插件都有附魔效果的设定\n自己写的话我也支持楼上的看法：去编程求助区那边问\n另外你这需求能不能一次描述清楚。。。"
        },
        {
            "author": "3104026189",
            "timestamp": 1592656260,
            "txt_content": "深拥v 发表于 2020-6-20 20:28\n你是要自己写插件还是怎么，一般的菜单插件都有附魔效果的设定\n自己写的话我也支持楼上的看法：去编程求 ...\n自己写插件啊啊"
        },
        {
            "author": "深拥v",
            "timestamp": 1592656380,
            "txt_content": "3104026189 发表于 2020-6-20 20:31\n自己写插件啊啊\n\n\n\n\nTIM截图20200620203152.png (14.03 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-20 20:32 上传\n\n\n\n\n\n\n你这题目里哪里表现出\n“我是要自己写插件、我是要写个GUI、我是要在我写的GUI里添加一个带有附魔效果的物品”\n有嘛？？？？\nhttps://www.mcbbs.net/forum-development-1.html去这问，好好描述\n"
        },
        {
            "author": "3104026189",
            "timestamp": 1592656620,
            "txt_content": "南柯郡守 发表于 2020-6-20 20:14\n有个unsaveEnchant....的方法\n\n不安全附魔 可以给任意物品附魔\nItemStack.addUnsafeEnchantment(Enchantment.DIG_SPEED,1); 没用啊  添加不了 "
        },
        {
            "author": "William_Shi",
            "timestamp": 1592657100,
            "txt_content": "3104026189 发表于 2020-6-20 20:37\nItemStack.addUnsafeEnchantment(Enchantment.DIG_SPEED,1); 没用啊  添加不了\n到编程开发区详细讨论\n猜测可能是ItemFlag里面隐藏了附魔\n你先试试看 转nmsItem再输出getTag试试看\n如果hasTag是false就说明出问题了\n要不然的话附魔一定会在NBT反映的"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1592657340,
            "txt_content": "3104026189 发表于 2020-6-20 20:37\nItemStack.addUnsafeEnchantment(Enchantment.DIG_SPEED,1); 没用啊  添加不了ItemStack item = player.getInventory().getItemInMainHand();\nitem.addUnsafeEnchantment(Enchantment.DIG_SPEED,1); 复制代码"
        },
        {
            "author": "3104026189",
            "timestamp": 1592657400,
            "txt_content": "南柯郡守 发表于 2020-6-20 20:49\n\n\n\n\nQQ截图20200620205046.png (113.29 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-20 20:50 上传\n\n\n\n\n\n"
        },
        {
            "author": "William_Shi",
            "timestamp": 1592657700,
            "txt_content": "3104026189 发表于 2020-6-20 20:50\n\n47行是纯粹的冗余代码\n直接getItemMeta就可以了，\n如果物品堆没有元数据，调用getItemMeta就会自己调用ItemFactory的相关方法给你新建一个ItemMeta出来，没必要自己写断言更是没有必要\n宁可进行参数检查也不建议在插件内使用断言"
        },
        {
            "author": "3104026189",
            "timestamp": 1592657820,
            "txt_content": "William_Shi 发表于 2020-6-20 20:55\n47行是纯粹的冗余代码\n直接getItemMeta就可以了，\n如果物品堆没有元数据，调用getItemMeta就会自己调用It ...\n噢  谢谢大佬指点"
        },
        {
            "author": "南柯郡守",
            "timestamp": 1592657820,
            "txt_content": "3104026189 发表于 2020-6-20 20:50\n如果没有报错的话先尝试附魔一个正常属性看能不能附魔成功\n\n比如你给这个斧子附魔一个 耐久\n如果也不行那只能是走 nms了"
        },
        {
            "author": "3104026189",
            "timestamp": 1592658240,
            "txt_content": "南柯郡守 发表于 2020-6-20 20:57\n如果没有报错的话先尝试附魔一个正常属性看能不能附魔成功\n\n比如你给这个斧子附魔一个 耐久\n测试出来了，如果我test.setItemMeta(meta);\n\n\n\n\nQQ截图20200620210403.png (15.67 KB, 下载次数: 0)\n\n下载附件\n\n2020-6-20 21:04 上传\n\n\n\n\n\n那么 就不能添加附魔\n不设置就能添加\n"
        },
        {
            "author": "3104026189",
            "timestamp": 1592658360,
            "txt_content": "南柯郡守 发表于 2020-6-20 20:57\n如果没有报错的话先尝试附魔一个正常属性看能不能附魔成功\n\n比如你给这个斧子附魔一个 耐久\n解决了，用meta设置就行了"
        },
        {
            "author": "William_Shi",
            "timestamp": 1592658360,
            "txt_content": "3104026189 发表于 2020-6-20 21:04\n测试出来了，如果我test.setItemMeta(meta); \n那么 就不能添加附魔\n不设置就能添加\n很简单，ItemMeta本质上是操作NBT\n对着物品堆进行附魔本质上也是操作NBT\n你的meta里面，NBT，没有记录附魔\n而物品堆现有的NBT被你加上了附魔\n接下来，你setItemMeta\n相当于把有附魔的物品堆的NBT直接换成了meta的没有附魔的NBT\n那么附魔就被覆盖没了"
        }
    ]
}