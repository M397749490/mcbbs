{
    "title": "关于1.9自定义效果箭某个特殊NBT的讲解与应用",
    "author": "Real_Scl",
    "replyCount": 5,
    "timestamp": 1447306920,
    "txt_content": " 本帖最后由 Real_Scl 于 2015-11-12 19:54 编辑 \n\n很久前偶然发现的，看没人发我来发个。\n当然这个不是说什么自定义效果之类的NBT。\n\n首先是两个ID1.9新增的效果箭\n物品ID minecraft:tipped_arrow复制代码射出去的实体IDTippedArrow复制代码\n\n\n我们知道，一支箭“arrow”射出去可以被捡回来，一支有Name的箭射出去也能被捡回来，一支带有自定义附魔的箭也可以捡回来，但是后两者捡回来之后会变成普通的箭，和第一种箭叠加，本身的物品NBT消失了。对已经射出去的实体Arrow使用entitydata指令，将其捡回一样会变成普通的箭。\n\n在1.9以前这极大的限制了箭的功能，大多数基于弓箭的命令方块武器都是基于弓这个部分。但是传送弓、冰冻弓什么的听着很别扭啊0 -\n没关系，1.9的属性箭为我们指明了出路。\n\n我在无意中发现，自定义了NBT的tipped_arrow拾取时是分开的！（现在想来也是，系统自带的属性箭都是tipped_arrow，但拾取也是分开。）\n\n\n\n\n\n\n2015-11-12_13.24.35.png (115.8 KB, 下载次数: 11)\n\n下载附件\n\n2015-11-12 13:25 上传\n\n\n\n\n\n\n\n\n2015-11-12_13.24.36.png (117.64 KB, 下载次数: 10)\n\n下载附件\n\n2015-11-12 13:26 上传\n\n\n\n\n\n\n\n\n2015-11-12_13.24.38.png (119 KB, 下载次数: 10)\n\n下载附件\n\n2015-11-12 13:25 上传\n\n\n\n\n\n\n\n\n\n\n\n\n2015-11-12_13.26.57.png (157.06 KB, 下载次数: 10)\n\n下载附件\n\n2015-11-12 13:30 上传\n\n\n\n\n\n\n\n\n2015-11-12_13.28.51.png (67.76 KB, 下载次数: 10)\n\n下载附件\n\n2015-11-12 13:29 上传\n\n\n\n\n\n\n\n\n\n我感觉很奇怪，于是entitydata了一下，发现了端倪\n\n\n\n\n\n2015-11-12_13.30.46.png (160.42 KB, 下载次数: 10)\n\n下载附件\n\n2015-11-12 13:31 上传\n\n\n\n\n\n\n\n{Motion:[],damage:2.0d,shake:0b,xTile:,UUIDLeast:,inGround:1b,pickup:2b,Invulnerable:0b,Air:300s,OnGround:0b,Dimension:0,PortalCooldown:0,Rotation:[],life:79s,FallDistance:0.0f,inTile:\"minecraft:stone\",Item:{id:\"minecraft:tipped_arrow\",Count:1b,tag:{CustomPotionEffects:[0:{Id:23,Amplifier:1,Duration:1}],display:{Lore:[0:\"让笨笨的你飞起来！\"],Name:\"weuv\"}},Damage:0s},UUIDMost:,inData:13b,Pos:[],zTile:311,Fire:0s,yTile:6}\n复制代码\n以前手抄的一段，细心的可以看出来了\n\nItem:{id:\"minecraft:tipped_arrow\",Count:1b,tag:{CustomPotionEffects:[0:{Id:23,Amplifier:1,Duration:1}],display:{Lore:[0:\"让笨笨的你飞起来！\"],Name:\"weuv\"}},Damage:0s}复制代码\n这一段包含了TippedArrow作为物品时的所有NBT信息，也正是因为这一段导致了TippedArrow不会像普通箭一样捡回来失去NBT信息。\n并且，这段代码是可以被检测的——testfor、记分板等分辨nbt的指令都可以使用它们。\n\n还有一点，整个这个Item标签被锁了，你只能调用它却不可以改变它，entitydata修改显示成功但其实是无效的！！！\n\n这样就给了我们一种思路——使用自定义属性箭完成以前难以或不能用箭完成的奇妙的东西。\n比如能与其他箭分开使用的传送箭等等。\n\n最后附带一张还在制作的地图的预告，用的就是自定义属性箭，PVP小作品\n\n\n\n\n\n\n2015-11-12_13.36.41.png (131.63 KB, 下载次数: 10)\n\n下载附件\n\n2015-11-12 13:38 上传\n\n\n\n\n\n\n\n\n2015-11-12_13.37.15.png (276.63 KB, 下载次数: 10)\n\n下载附件\n\n2015-11-12 13:38 上传\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "sulu",
            "timestamp": 1447320720,
            "txt_content": "这个6,挺不错的."
        },
        {
            "author": "林扬骐",
            "timestamp": 1447323720,
            "txt_content": "射一箭捡回钻石块的特效……"
        },
        {
            "author": "Real_Scl",
            "timestamp": 1447326540,
            "txt_content": "林扬骐 发表于 2015-11-12 18:22\n射一箭捡回钻石块的特效……\n可以做到。\n/give @p minecraft:tipped_arrow 1 0 {CustomPotionEffects:[{Id:23,Amplifier:1,Duration:1}]\n,display:{Name:\"DiamondArrow\"}}\n\nrepeat—— /scoreboard players tag @e[tag=!OneDiamond] add SummonDiamond {OnGround:1b,Item:{tag:{display:{Name:DiamondArrow}}}}  ——chain——  /execute @e[tag=SummonDiamond] ~ ~ ~ /summon Item ~ ~ ~ {PickupDelay:0,Age:0,Item:{id:minecraft:diamond_block,Count:1,Damage:0}}  ——chain—— /scoreboard players tag @e[tag=SummonDiamond] add OneDiamond {Item:{tag:{display:{Name:DiamondArrow}}}}复制代码\n\n效果：射出去落地的只有名叫DiamondArrow的箭，会在地上生成一块钻石块\n"
        },
        {
            "author": "林扬骐",
            "timestamp": 1447328340,
            "txt_content": " 本帖最后由 林扬骐 于 2015-11-12 19:41 编辑 \nReal_Scl 发表于 2015-11-12 19:09\n可以做到。\n好吧……其实我看了你的帖子后的意思是把箭里面Item的nbt改成钻石块的，而不是计分板……\n\n感谢你这么热情……"
        },
        {
            "author": "Real_Scl",
            "timestamp": 1447329120,
            "txt_content": "林扬骐 发表于 2015-11-12 19:39\n好吧……其实我看了你的帖子后的意思是把箭里面Item的nbt改成钻石块的，而不是计分板……\n\n感谢你这么热情 ...\n这个是不可行的，这个标签被锁住了，entitydata不能更改"
        }
    ]
}