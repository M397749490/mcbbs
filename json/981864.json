{
    "title": "查看Timing-tps有点低 不稳定",
    "author": "2015579048",
    "replyCount": 19,
    "timestamp": 1583821800,
    "txt_content": "已经根据以下进行了优化\nhttps://www.mcbbs.net/thread-478126-1-1.html\nhttps://www.mcbbs.net/thread-939322-1-1.html\nhttps://www.mcbbs.net/thread-774469-1-1.html\nTiming链接\nhttps://timings.spigotmc.org/?url=doqelodofe\n帮忙看一下什么导致 的tps不稳定\nTiming显示的17.93\ngc显示的他tps在18.5有时候19+有时候17.68\n反正非常不稳定\n版本1.12.2 启动核心是\ncatserver",
    "replies": [
        {
            "author": "DE_SHARK",
            "timestamp": 1583821800,
            "txt_content": "2015579048 发表于 2020-3-11 17:19\n还是不行\n不，改这个参数起效果了，不过显然1000有点太大，服务器要计算的东西变多了tps也就变低了\n调小一点吧，比如500，而且要自己也要进服务器体验一下这个参数设置会对tps和游玩服务器感到的延迟（如机器工作的速度、挖一个方块要挖多少次）有什么关系，找到一个比较舒适的值就行\ntps不是反应服务器流畅程度的唯一标准，有些服务器即使tps是10但玩起来也很舒适，有些服务器tps下到17就已经延迟得不行"
        },
        {
            "author": "结城希亚",
            "timestamp": 1583822040,
            "txt_content": " 本帖最后由 御炎Roinflam 于 2020-3-10 14:36 编辑 \n\n你的ASkyBlock占用挺高的，实体有点多，建议加个实体清理插件\n其次是你的PMReward短时间占用挺大的，会造成轻微卡顿\n可以尝试升级你的版本或者替换成同类的插件\n不过主要还是你ASkyBlock这边卡，让玩家们少放点机器比较好\n[管理|机制]ChunkBlocksLimit —— 区域方块限制 可限制模组方块！[全版本]\nhttps://www.mcbbs.net/thread-882041-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n\n\n通用优化方案：\n1、加装优化插件\n[SCT][优化][付费]LagAssist —— 不可直视的九合一优化插件[1.8-1.14]\nhttps://www.mcbbs.net/thread-881861-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n2、把服务端下spigot.yml文件里的视距view-distance数值改小，最好2-4\n3、把服务端下spigot.yml文件里的max-tick-time数值\n     可以适当减少（降低玩家体验提高tps）或者适当提高（降低tps提高玩家体验）\n4、参考站外一个比较详细的配置优化\nhttps://help.mcstory.net/Optimization.html\n5、可以尝试通过世界边界插件填充来让跑图不卡\n[管理|安全] WorldBorder —— 世界边界★还在担心被跑图吗 【汉化】[全版本]\nhttps://www.mcbbs.net/thread-608265-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n\n"
        },
        {
            "author": "GiNYAi",
            "timestamp": 1583822100,
            "txt_content": "首先推荐用Spark\nhttps://www.mcbbs.net/thread-823209-1-1.html"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583822220,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-3-10 14:39 编辑 \n\n优化到尽头了，可能再优化会不尽人意，但我会尽力帮你\n原因(2)\n1.实体和方块实体的占用大\n2.Connection Handler事件，但这个一般不好优化\n优化方案\n1.bukkit.yml中的monster-spawn再提升下?如果是1的话提升至3，大于3的话提升30%-50%左右\n2.windows系统的话，在任务管理器中右键javaw.exe,转详细信息后右键javaw.exe将优先级改为实时,这可以增加cpu的占用率从而提升tps(但服务器重启后需要重新配置,建议配合计划任务)\n3.安装像clearlagg这种插件清地面实体即可"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1583894520,
            "txt_content": "emmm，gc看的tps是一段时间的平均值，所以你用来查tps在什么时间变低的话有点难。你装spark插件，输入/tps可以看即时tps。我预测一下，你服务器应该是有玩家进来的那时tps变成17-18，然后过会就变回19了。timings显示玩家链接服务器会导致瞬间tps下降\n优化到尽头了，没什么可以优化的了\n而且平均18tps还是很不错的"
        },
        {
            "author": "2015579048",
            "timestamp": 1583907060,
            "txt_content": "DE_SHARK 发表于 2020-3-11 10:42\nemmm，gc看的tps是一段时间的平均值，所以你用来查tps在什么时间变低的话有点难。你装spark插件，输入/tps ...\n影响游戏呀 有时候低到 tps 16.63 很不稳定 有没有什么解决方法"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1583907540,
            "txt_content": "2015579048 发表于 2020-3-11 14:11\n影响游戏呀 有时候低到 tps 16.63 很不稳定 有没有什么解决方法\n/gc指令本身就是一个非常消耗服务器资源的指令，建议换成spark的/tps\n插件服吗？我mod服觉得16tps就很好了"
        },
        {
            "author": "2015579048",
            "timestamp": 1583907600,
            "txt_content": "DE_SHARK 发表于 2020-3-11 14:19\n/gc指令本身就是一个非常消耗服务器资源的指令，建议换成spark的/tps\n插件服吗？我mod服觉得16tps就很好 ...\nmod服                       tps很不稳定 一会卡一会不卡 是不是qs插件问题"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1583908020,
            "txt_content": "2015579048 发表于 2020-3-11 14:20\nmod服                       tps很不稳定 一会卡一会不卡 是不是qs插件问题\n\nqs商店到不卡，timings显示玩家指令倒是造成tps的很大波动，你是不是在游戏里面输入gc多了\n\n\n\n\n\nScreenshot_2020-03-11-14-24-04.png (111.29 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-11 14:25 上传\n\n\n\n\n\n\n另外，我服玩家天天活在 12tps 上，讲道理17tps不会感觉到太大的延迟啊（我指mod服，插件服我没开过）\n你打开服务端的spigot.yml文件，找到这个\n\n    max-tick-time:\n      tile: xxx\n      entity: xxx\n\nxxx这个位置的数值你是不是设置得挺小的，试试设置成800-1000试试\n（我设置的4000）"
        },
        {
            "author": "2015579048",
            "timestamp": 1583908140,
            "txt_content": "DE_SHARK 发表于 2020-3-11 14:27\nqs商店到不卡，timings显示玩家指令倒是造成tps的很大波动，你是不是在游戏里面输入gc多了对 测试的是 输入了好多  现在的这个 都改成4000？\n    max-tick-time:\n      tile: 10\n      entity: 20"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1583908620,
            "txt_content": "2015579048 发表于 2020-3-11 14:29\n对 测试的是 输入了好多  现在的这个 都改成4000？\n    max-tick-time:\n      tile: 10\n\n\n别，4000是我i9弄的，看cpu主频，你设置800看看先\n你mod有多少个"
        },
        {
            "author": "2015579048",
            "timestamp": 1583908800,
            "txt_content": " 本帖最后由 2015579048 于 2020-3-11 14:43 编辑 \nDE_SHARK 发表于 2020-3-11 14:37\n别，4000是我i9弄的，看cpu主频，你设置800看看先\n你mod有多少个\n\n\n\n\n捕获.PNG (2.61 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-11 14:39 上传\n\n\n\n\n\n模组大概 110左右\n新的timing\nhttps://www.spigotmc.org/go/timings?url=fuhuhicuqa\n"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1583909580,
            "txt_content": "2015579048 发表于 2020-3-11 14:40\n模组大概 110左右\n新的timing\nhttps://www.spigotmc.org/go/timings?url=fuhuhicuqa\n你110个mod，max-tick-time肯定不是设置这么低啊，那么低服务器处理不完mod事件的，然后就会丢包\n你设置成1000吧，虽然你发现可能tps没那么高了，但玩家玩起来的体验还是不错的\n另外，timings里面这个插件占用有点高（太高了）\n\n\n\n\nScreenshot_2020-03-11-14-49-59.png (101.14 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-11 14:52 上传\n\n\n\n\n"
        },
        {
            "author": "2015579048",
            "timestamp": 1583909760,
            "txt_content": "DE_SHARK 发表于 2020-3-11 14:53\n你110个mod，max-tick-time肯定不是设置这么低啊，那么低服务器处理不完mod事件的，然后就会丢包\n你设置 ...\n我试试 把这个公告插件删了"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1583910840,
            "txt_content": "2015579048 发表于 2020-3-11 14:56\n我试试 把这个公告插件删了\n帮助到你的话就点一下最佳啦啦啦啦！awa\n\n\n\n\nScreenshot_2020-03-11-15-13-30.png (280.22 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-11 15:14 上传\n\n\n\n\n\n这个是我的"
        },
        {
            "author": "2015579048",
            "timestamp": 1583913840,
            "txt_content": "DE_SHARK 发表于 2020-3-11 15:14\n帮助到你的话就点一下最佳啦啦啦啦！awa\n\n这个是我的\n\n\n\n\n捕获.PNG (3.94 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-11 16:04 上传\n\n\n\n\n\n貌似哪里有问题 还是？\n"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1583914080,
            "txt_content": "2015579048 发表于 2020-3-11 16:04\n貌似哪里有问题 还是？\ntpa19还有问题？"
        },
        {
            "author": "2015579048",
            "timestamp": 1583914560,
            "txt_content": "DE_SHARK 发表于 2020-3-11 16:08\ntpa19还有问题？\n等下 这个是我电脑的 没玩家的 我去服务器试试"
        },
        {
            "author": "2015579048",
            "timestamp": 1583918340,
            "txt_content": "DE_SHARK 发表于 2020-3-11 15:14\n帮助到你的话就点一下最佳啦啦啦啦！awa\n\n这个是我的\n\n\n\n\nQQ截图20200311171910.png (124.6 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-11 17:19 上传\n\n\n\n\n\n还是不行\n\n"
        }
    ]
}