{
    "title": "关于StackTraceElement获取CatServer核心位置",
    "author": "William_Shi",
    "replyCount": 0,
    "timestamp": 1596948720,
    "txt_content": " 本帖最后由 William_Shi 于 2020-8-9 13:00 编辑 \n\nBUKKIT 插件开发问题\n\n\n\n为避免3TUSK签名档中提到的X、Y问题\n\n我直接阐述我要什么\n\n我需要得到Spigot的通过BuildTools构建好的jar的位置，通俗点：原版开服核心，要包括bukkit相关内容的\nCat那个几mb大小的核心显然是没有这玩意的\n我在原版的Spigot、Paper中可以非常简单的获取，我也写好了\n\n先假设有一个其他的类用来获取Jar位置\n那么主类onEnable调用\n\n通过CurrentThread的StackTraceElement[]\n数组元素：\n0 java lang thread\n1 这个获取jar位置的方法\n2 onEnable\n3 bukkit\n\n所以通过StackTraceElement[3]，取到对应的类，获取CodeSource、ProtectionDomain \n我可以在spigot或者paper拿到jar位置\n\n\n但是Cat的情况是特殊的\n我想cat的开服核心没有spigot的内容\n毕竟是forge mod服务器，核心应该是mcp才对\n那么cat核心和spigot jar 是不是分开的？\n那我想要得到spigot的jar\n该怎么做？\ncat端究竟有没有spigot的jar？\n还是说就直接shadow jar 放在cat核心的jar里面了？\n又或者StackTraceElement[3]本身仍然对应着bukkit的相关类，我的写法仍然可以使用？\n\n\n联机问答区内我想使用过CatServer的人会多一些\n我在一些编程开发的群里问，有人连StackTraceElement都不知道。。。\n\n\n我知道对联机问答区答题者来说很可能无法回答上面的问题\n故，现在我只需要这样的帮助：\n\n\n在一个完整的catserver核心内\n打开你开服用的jar（java -jar 使用的jar）\n告诉我有没有shadow进去spigot的核心\n或者有没有比如说org.bukkit的一些包\n\n\n\n\n如果有能力的话\n帮我在CatServer环境下\n在onEnable里面\n输出一下完整的StackTrace\n这个可以再加点金粒\n\n\n",
    "replies": []
}