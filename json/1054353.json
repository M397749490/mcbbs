{
    "title": "求救，cpu满载，导致tps慢慢降低",
    "author": "星繁丶冷少",
    "replyCount": 17,
    "timestamp": 1590892920,
    "txt_content": "服务器cpu持续满载，完完全全不降下来，服务器tps持续下降，刚刚启动服务器时是正常的，过一会cpu使用率慢慢飙升直到满载，然后tps也会慢慢下降，直到个位数\n\n\n\n\nimage.png (59.61 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-31 10:37 上传\n\n\n\n\n目前是即将满载的情况，tps也有所下降\n\n\n\n\nimage.png (29.31 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-31 10:38 上传\n\n\n\n\n这种情况是有一天突然这样的，服务器玩家通知我tps低，我一上后台看到cpu满载了，好几天了，完全不知道怎么办，只能一直重启，服务端是墨端，参数为java -Xms8G -Xmx10G -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:+DisableExplicitGC -XX:+AggressiveOpts -jar Mohist-1.12.2-3a8f576-server.jar，服务器租洛神云的，不存在服务商超开，一些大佬说\n\n\n\n\nimage.png (4.99 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-31 10:41 上传\n\n\n\n\n但是我也不知道怎么解决，我打了一份spark：https://spark.lucko.me/#I3KoARcNtRtimings我现在打 （墨端带v2我看不懂）\n",
    "replies": [
        {
            "author": "もぺもぺ",
            "timestamp": 1590892920,
            "txt_content": "mc 是单线程的，但是 gc 回收内存是多线程的，所以才能吃满这几个核。（也就有什么调启动参数，产生开启多线程的错觉）\n\n你的服务器 tps 不低，看 spark 啥的大概也没用吧。\n\n尝试删除启动参数中的 -XX:MaxGCPauseMillis=100 ，内存也可以多分配一点，留着不也是浪费吗"
        },
        {
            "author": "youtoto",
            "timestamp": 1590893220,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "星繁丶冷少",
            "timestamp": 1590893340,
            "txt_content": "もぺもぺ 发表于 2020-5-31 10:48\nmc 是单线程的，但是 gc 回收内存是多线程的，所以才能吃满这几个核。（也就有什么调启动参数，产生开启多 ...\n啊，好，我试试看！"
        },
        {
            "author": "浩锡",
            "timestamp": 1590893760,
            "txt_content": "[优化]LaggRemover —— 智能降低延迟★优化TPS&内存【汉化】[1.7-1.14] https://www.mcbbs.net/thread-603072-1-1.html (出处: Minecraft(我的世界)中文论坛)"
        },
        {
            "author": "星繁丶冷少",
            "timestamp": 1590893940,
            "txt_content": "youtoto 发表于 2020-5-31 10:47\n降低一下最小内存呗。。。主要是因为内存占用太多了 cpu自然上去了\n没看到内存完全不满吗。。。"
        },
        {
            "author": "星繁丶冷少",
            "timestamp": 1590894060,
            "txt_content": "爱不释手丶郝锡 发表于 2020-5-31 10:56\n[优化]LaggRemover —— 智能降低延迟★优化TPS&内存【汉化】[1.7-1.14] https://www.mcbbs.net/thread-603 ...\n大哥，不用在这氵回复吧？"
        },
        {
            "author": "youtoto",
            "timestamp": 1590894240,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "星繁丶冷少",
            "timestamp": 1590894240,
            "txt_content": "もぺもぺ 发表于 2020-5-31 10:48\nmc 是单线程的，但是 gc 回收内存是多线程的，所以才能吃满这几个核。（也就有什么调启动参数，产生开启多 ...\n大佬，暂时没发现什么问题，看看等一会还会不会吃满，可以的话我给最佳"
        },
        {
            "author": "lengshao233",
            "timestamp": 1590895260,
            "txt_content": "もぺもぺ 发表于 2020-5-31 10:48\nmc 是单线程的，但是 gc 回收内存是多线程的，所以才能吃满这几个核。（也就有什么调启动参数，产生开启多 ...\n大佬，按照你说的删除了参数就会开服起来，有玩家进去就会立马崩溃\n崩溃报告https://paste.ubuntu.com/p/4798KsWbXz/"
        },
        {
            "author": "もぺもぺ",
            "timestamp": 1590895380,
            "txt_content": "lengshao233 发表于 2020-5-31 11:21\n大佬，按照你说的删除了参数就会开服起来，有玩家进去就会立马崩溃\n崩溃报告https://paste.ubuntu.com/p/ ...\n然而删除的参数是 gc 时预期停顿时间，不会导致这个问题的，不信你可以加回来试试。\n\nmohist 有更新的话，就尝试更新"
        },
        {
            "author": "lengshao233",
            "timestamp": 1590895560,
            "txt_content": "もぺもぺ 发表于 2020-5-31 11:23\n然而删除的参数是 gc 时预期停顿时间，不会导致这个问题的，不信你可以加回来试试。\n\nmohist 有更新的话 ...\n我干脆全删了吧，参数我也看不太懂，不敢乱用，用回正常的吧"
        },
        {
            "author": "lengshao233",
            "timestamp": 1590895860,
            "txt_content": "もぺもぺ 发表于 2020-5-31 11:23\n然而删除的参数是 gc 时预期停顿时间，不会导致这个问题的，不信你可以加回来试试。\n\nmohist 有更新的话 ...\n大佬，我裸奔不加参数也会崩！https://paste.ubuntu.com/p/9X7wyWfFMd/这是崩溃文件，能帮我看看吗"
        },
        {
            "author": "もぺもぺ",
            "timestamp": 1590895920,
            "txt_content": "lengshao233 发表于 2020-5-31 11:31\n大佬，我裸奔不加参数也会崩！https://paste.ubuntu.com/p/9X7wyWfFMd/这是崩溃文件，能帮我看看吗 ...\nMohist 能更新吗，能就更新，也可以去反馈给作者"
        },
        {
            "author": "lengshao233",
            "timestamp": 1590896100,
            "txt_content": "もぺもぺ 发表于 2020-5-31 11:32\nMohist 能更新吗，能就更新，也可以去反馈给作者\n最新版了，墨佬更新了timings v2我就更新了核心"
        },
        {
            "author": "もぺもぺ",
            "timestamp": 1590896160,
            "txt_content": "lengshao233 发表于 2020-5-31 11:35\n最新版了，墨佬更新了timings v2我就更新了核心\n这个我可解决不了的。"
        },
        {
            "author": "lengshao233",
            "timestamp": 1590896520,
            "txt_content": "もぺもぺ 发表于 2020-5-31 11:36\n这个我可解决不了的。\n好吧，我看看cpu还会不会满载，要是没了那个问题我就点最佳"
        },
        {
            "author": "浩锡",
            "timestamp": 1590910680,
            "txt_content": "星繁丶冷少 发表于 2020-5-31 11:01\n大哥，不用在这氵回复吧？\n我觉得大家的是同道中人"
        }
    ]
}