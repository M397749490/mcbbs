{
    "title": "服务器不知道为什么每个玩家加载区块极多",
    "author": "orange——par",
    "replyCount": 14,
    "timestamp": 1582117980,
    "txt_content": " 本帖最后由 orange——par 于 2020-2-19 21:16 编辑 \n\n服务器出现一个极其严重的问题导致TPS暴降，具体情况是\"每个玩家\",会导致整整4489个区块的加载，然后人稍微多一点，主世界加载的区块数就上了2w+，4489=67*67.希望能有大神来解决这个问题。初步判断是某个插件的问题\n服务器问题和配置如图\n\n\n\n\n问题.png (21.82 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-19 21:12 上传\n\n\n\n\n\n\n\n\n\npz.png\n(67.81 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-2-19 21:16 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "安不生",
            "timestamp": 1582118340,
            "txt_content": "调整服务端Spigot.yml内chunk-gc: 的参数, 推荐将chunk-gc:下的period-in-ticks: 400调整为400\n也可以选择NoSpawnChunks插件进行定期区块卸载"
        },
        {
            "author": "zwy5001",
            "timestamp": 1582118820,
            "txt_content": "下载一些优化插件吧"
        },
        {
            "author": "orange——par",
            "timestamp": 1582118880,
            "txt_content": "已经有的优化插件列表：laggremover\naegisClear\nillegalstackfix\nvillageroptimiser"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1582119240,
            "txt_content": "发一下timings报告"
        },
        {
            "author": "orange——par",
            "timestamp": 1582119360,
            "txt_content": "EmptyLava 发表于 2020-2-19 21:34\n发一下timings报告\nhttps://timings.aikar.co/?id=a8c0a244eaed4735b1bb8a76f12f2f77"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1582119780,
            "txt_content": "orange——par 发表于 2020-2-19 21:36\nhttps://timings.aikar.co/?id=a8c0a244eaed4735b1bb8a76f12f2f77\n插件占用很小,但是插件导致的区块加载变多无法获取到\n看了下timings是因为区块和豹猫导致的(timings上写的是cat,不知道是不是指豹猫)\n解决方案:\n1.限制豹猫的数量 可以用kill命令清除或者相关插件限制\n2.在任务管理器中右键javaw.exe,转到详细信息后右键javaw.exe,将优先级设置为实时\n为何没有区块的解决方案?\n1.上面已经发了chunk-gc,这可能有效\n2.你已经装了很多优化插件了,基本上优化不了(可能删了优化插件还会更流畅)\n(下一次回复时间第二日8:00)"
        },
        {
            "author": "orange——par",
            "timestamp": 1582120560,
            "txt_content": "EmptyLava 发表于 2020-2-19 21:43\n插件占用很小,但是插件导致的区块加载变多无法获取到\n看了下timings是因为区块和豹猫导致的(timings上写 ...\n好的，我尝试一下"
        },
        {
            "author": "gfjhf",
            "timestamp": 1582124880,
            "txt_content": "视距设置是多少？"
        },
        {
            "author": "gfjhf",
            "timestamp": 1582124880,
            "txt_content": "视距设置是多少？"
        },
        {
            "author": "喵内噶",
            "timestamp": 1582126380,
            "txt_content": "server.properties中view-distance视距对tps影响很大mod服建议设置在6左右\nspigot.yml中也有view-distance需要同步更改"
        },
        {
            "author": "orange——par",
            "timestamp": 1582158420,
            "txt_content": "服务器视距12理论上每个玩家只会加载625个区块。。。。。"
        },
        {
            "author": "安不生",
            "timestamp": 1582204920,
            "txt_content": "EmptyLava 发表于 2020-2-19 21:43\n插件占用很小,但是插件导致的区块加载变多无法获取到\n看了下timings是因为区块和豹猫导致的(timings上写 ...\n就是普通的猫，在高版本中每一个村庄单元都会不停歇的想要生成猫，如果不加以限制，服务器会泛猫灾的，还有LaggRemover这个优化插件，说实话，我都不觉得它是个优化插件，通常这个插件都会制造更多的滞后，唯一的作用可能是降低服务器的内存占用，可这是牺牲性能换来的(我一辈子也不会碰的优化插件)"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1582205400,
            "txt_content": "安不生 发表于 2020-2-20 21:22\n就是普通的猫，在高版本中每一个村庄单元都会不停歇的想要生成猫，如果不加以限制，服务器会泛猫灾的，还 ...\n是的,我回答解决方案的时候也不推荐他们使用过多的优化插件"
        },
        {
            "author": "安不生",
            "timestamp": 1582205700,
            "txt_content": "EmptyLava 发表于 2020-2-20 21:30\n是的,我回答解决方案的时候也不推荐他们使用过多的优化插件\n我只能说，如果他们有关注国外的一些付费优化插件的话，就会发现这些插件通常都很少带一些所谓的扫地大妈，区块回收这种功能，因为Spigot核心是自带这些功能的，而且性能更好，所以我并不推荐添加这种主要功能为扫地大妈以及区块回收的优化插件(大部分都是负优化)"
        }
    ]
}