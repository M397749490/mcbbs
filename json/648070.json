{
    "title": "一个经验BUG，和一个config的问题",
    "author": "1402367475",
    "replyCount": 1,
    "timestamp": 1478948820,
    "txt_content": " 本帖最后由 1402367475 于 2016-11-12 19:08 编辑 \n\n之前无法添加BUFF的问题已解决，但来了个更加严重的问题经验BUG\n\n经验BUG：@EventHandlerpublic void Death(PlayerDeathEvent evt){Player p = evt.getEntity();money = getConfig().getDouble(\"spendmoney\");playermoney = economy.getBalance(p);economy.withdrawPlayer(p, money);if(!getConfig().getBoolean(\"Expdrop\"))evt.setKeepLevel(true);//死亡后一样掉落经验，玩家返回死亡地会拾取经验//会造成刷经验if(!getConfig().getBoolean(\"Itemdrop\"))evt.setKeepInventory(true);}\nconfig问题：} else {if(!getConfig().getBoolean(\"Buff.Enable\")) {//就是我想把Enable弄在Buff下像这样//这几天我去看别人的代码也是这样写的我就弄不懂了//Buff://Enable://但是加上Buff.后插件就无法正常运行了，不读配置文件了，把Buff.去掉后正常return;}if((p.isOp()) || (p.hasPermission(\"swcf.notpunish\"))) {p.sendMessage(name + \"§a你拥有御赐玉佩在身，已免遭报应\");return;}p.sendMessage(\"没有足够的银子上缴军饷，已遭受报应\");}new BukkitRunnable() {public void run() {int Slow_time = getConfig().getInt(\"Buff.Slow_time\");//和上述问题一样int Confusion_time = getConfig().getInt(\"Buff.Confusion_time\");int Blindness_time = getConfig().getInt(\"Buff.Blindness_time\");int Hunger_time = getConfig().getInt(\"Buff.Hunger_time\");int Weakness_time = getConfig().getInt(\"Buff.Weakness_time\");if(getConfig().getBoolean(\"Buff.Slow\"))//和上述问题一样p.addPotionEffect(new PotionEffect(PotionEffectType.SLOW, Slow_time * 20, 1));}}.runTaskLater(this, 10);}}",
    "replies": [
        {
            "author": "星",
            "timestamp": 1478958120,
            "txt_content": " 本帖最后由 小星啊啊啊 于 2016-11-12 21:46 编辑 \n\nevent.setDroppedExp(0)\n设置玩家死亡掉落的经验为0\n那个config.yml的问题的话应该是这样的\nBuff:\n  Enable: \n注意空了两格~\n"
        }
    ]
}