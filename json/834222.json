{
    "title": "[CNPC][BGM]Huerhuea's library——NPC类库?",
    "author": "Hueihuea",
    "replyCount": 5,
    "timestamp": 1544803380,
    "txt_content": " 本帖最后由 skpsk自己家 于 2018-12-15 09:28 编辑 \n\n介绍这是一个有关NPC的方法合集 类库？其中包括:伤害实体、获取ping、setTimeout等正文你知道吗 浏览器中按Ctrl与F可以开启搜索\n方法:\nsetTimeout:\nfunction setTimeout(fn,millis){\nvar Thread = Java.type(\"java.lang.Thread\");\nvar MyRun = Java.extend(Java.type(\"java.lang.Runnable\"), {\n    run: function() {\n        Thread.sleep(millis)\ntry {\nfn.apply();\n}catch(err){print(e);} \n        Thread.stop()\n    }\n});\nnew Thread(new MyRun()).start()\n}复制代码getLanguage:function getLanguage(type){\ntype=(type==null)? 0:type\nMinecraft=Java.type(\"net.minecraft.client.Minecraft\")\nswitch(type){\ncase 0://返回Name\nreturn Minecraft.func_71410_x().func_135016_M().func_135041_c();\nbreak;\ncase 1://返回Code\nreturn Minecraft.func_71410_x().func_135016_M().func_135041_c().func_135034_a();\nbreak;\n}\n//返回mc选择语言\n}复制代码damage:\nfunction damage(target,type,amount,data){\nArray.prototype.equals = function (obj) {\nfor(x in this){\nif(obj==this[x]){\nreturn true;\n }\n}\nreturn false;\n}\nvar DamageSource=Java.type(\"net.minecraft.util.DamageSource\")\ndamageSource=new DamageSource(\"\"+type)\nif(data!=null){\nif(data.equals(\"DamageCreative\")){damageSource.func_76359_i()}//伤害创造(让伤害可以伤害创造玩家)\nif(data.equals(\"BypassesArmor\")){damageSource.func_76348_h()}//破甲(无视护甲的伤害)\nif(data.equals(\"DamageAbsolute\")){damageSource.func_151518_m()}//真伤(绝对的伤害)\nif(data.equals(\"DifficultyScaled\")){damageSource.func_76351_m()}//难度影响(受游戏难度影响(简单 普通 困难))\nif(data.equals(\"Explosion\")){damageSource.func_94540_d()}//爆炸伤害\nif(data.equals(\"Fire\")){damageSource.func_76361_j()}//火焰伤害\nif(data.equals(\"Magic\")){damageSource.func_82726_p()}//魔法伤害\nif(data.equals(\"Projectile\")){damageSource.func_76349_b()}//抛射物\n//注:魔法伤害不自带破甲 请使用预设MAGIC或您自己添加属性(这些不是预设 而是独立的属性)\n}\ntarget.getMCEntity().func_70097_a(damageSource,amount)\n}复制代码合集:\n几何套餐:function ray(x,y,z,dx,dy,dz,space){\nvar posList=[]\nnx=x\nny=y\nnz=z\nspace=(space==null)? 0.2:space\nfor(i=0;(i<((Math.abs(dx-x))/(space*((Math.abs(dx-x))/(Math.abs(dx-x)+Math.abs(dy-y)+Math.abs(dz-z)))))||i<((Math.abs(dy-y))/(space*((Math.abs(dy-y))/(Math.abs(dx-x)+Math.abs(dy-y)+Math.abs(dz-z)))))||i<((Math.abs(dz-z))/(space*((Math.abs(dz-z))/(Math.abs(dx-x)+Math.abs(dy-y)+Math.abs(dz-z))))))&&i<5000;i++){\n//你问我为什么这里这么长？因为懒得改了\nall=Math.abs(dx-x)+Math.abs(dy-y)+Math.abs(dz-z)\nnx=nx+(space*((dx-x)/all))\nny=ny+(space*((dy-y)/all))\nnz=nz+(space*((dz-z)/all))\nposList[i]=[nx,ny,nz]\n}\nreturn posList\n//画线 稳定版 推荐使用的\n}\nfunction ray_new(x,y,z,dx,dy,dz,space){\nvar posList=[];nx=x;ny=y;nz=z\nspace=(space==null)? 0.2:space\nnum1=(Math.abs(dx-x)+Math.abs(dy-y)+Math.abs(dz-z))\nxl=((Math.abs(dx-x))/num1);yl=((Math.abs(dy-y))/num1);zl=((Math.abs(dz-z))/num1)\nl=(Math.abs(dx-x)/(space*xl)>Math.abs(dy-y)/(space*yl))? ((Math.abs(dx-x)/(space*xl)>Math.abs(dz-z)/(space*zl))? Math.abs(dx-x)/(space*xl):Math.abs(dz-z)/(space*zl)):((Math.abs(dy-y)/(space*yl)>Math.abs(dz-z)/(space*zl))? Math.abs(dy-y)/(space*yl):Math.abs(dz-z)/(space*zl));\n//(i<((Math.abs(dx-x))/(space*((Math.abs(dx-x))/(Math.abs(dx-x)+Math.abs(dy-y)+Math.abs(dz-z)))))||i<((Math.abs(dy-y))/(space*((Math.abs(dy-y))/(Math.abs(dx-x)+Math.abs(dy-y)+Math.abs(dz-z)))))||i<((Math.abs(dz-z))/(space*((Math.abs(dz-z))/(Math.abs(dx-x)+Math.abs(dy-y)+Math.abs(dz-z))))))\nfor(i=0;i<l;i++){\n//你问我为什么这里这么长？因为懒得改了\nnx=nx+(space*((dx-x)/num1));ny=ny+(space*((dy-y)/num1));nz=nz+(space*((dz-z)/num1))\nposList[i]=[nx,ny,nz]\n}\nreturn posList\n//画线 测试版 不推荐使用的\n}\n//--------------------------------------------------------\nfunction findOval(center,a,b,type) {\nvar Math=Java.type(\"java.lang.Math\")\nvar pos=[]\nvar py=0;\n   for (var degree = 0; degree < 360; degree++) {\n      var k = Math.abs(Math.tan(Math.toRadians(degree)));\n      var x = Math.abs(a * b) / (Math.sqrt(b * b + k * k * a * a));\n      var y = k * x;\nif (degree >= 0 && degree <= 90) {\n         \nx = x;\n         y = y;\n      } else if (degree > 90 && degree <= 180) {\n         \nx = -x;\n         y = y;\n      } else if (degree > 180 && degree <= 270) {\n         \nx = -x;\n         y = -y;\n      } else {\n         \nx = x;\n         y = -y;\n      }\n          switch(type){\n          case 0:\n          pos[degree]=[center[0]+x,center[1],center[2]+y]\n          break;\n          //正常算法\n          case 1:\n          pos[degree]=[center[0]+x,center[1]+y,center[2]]\n          break;\n          //正常算法\n          case 2:\n          pos[degree]=[center[0],center[1]+y,center[2]+x]\n          break;\n          //正常算法\n          case 3:\n          x=x*(0.7)\n          pos[degree]=[center[0]+x,center[1]+y,center[2]-x]\n          break;\n          case 4:\n          x=x*(0.7)\n          pos[degree]=[center[0]+x,center[1]+y,center[2]+x]\n          break;\n          case 5:\n      if(degree<=180){py+=(a/360);pos[degree]=[center[0]+x,center[1]+py,center[2]+y];}else{py-=(a/360);pos[degree]=[center[0]+x,center[1]+py,center[2]+y];}\n          break;\n          //沙雕算法\n          case 6:\n          if(degree<=180){py+=(a/360);pos[degree]=[center[0]-x,center[1]+py,center[2]-y];}else{py-=(a/360);pos[degree]=[center[0]-x,center[1]+py,center[2]-y];}\n          break;\n          //沙雕算法\n          }\n          }\n   return pos;\n   //修改自: http://www.mcbbs.net/thread-823547-1-1.html\n   //部分算法** 只支持正圆\n}\nfunction getRot(x1,y1,x2,y2){\nvar x1=x1,y1=y1; //点1坐标;\nvar x2=x2,y2=y2; //点2坐标\nx=Math.abs(x1-x2);\ny=Math.abs(y1-y2);\nz=Math.sqrt(x*x+y*y);\nrot=Math.round((Math.asin(y/z)/Math.PI*180));//最终角度\nreturn rot\n//获取两点夹角\n}\nfunction reRot(rot){\nreturn (rot<0)? rot+(parseInt(Math.abs(rot))/360)*360:(rot>360)? rot-parseInt(rot/360)*360:rot\n//把MC的视角角度转为0~360\n}复制代码更多方法:\nvar Minecraft=Java.type(\"net.minecraft.client.Minecraft\")\nvar Runtime=Java.type(\"java.lang.Runtime\")\nvar NBTTagString=Java.type(\"net.minecraft.nbt.NBTTagString\")\nvar NBTTagCompound=Java.type(\"net.minecraft.nbt.NBTTagCompound\")\nvar NBTTagList=Java.type(\"net.minecraft.nbt.NBTTagList\")\nvar NBTTagString=Java.type(\"net.minecraft.nbt.NBTTagString\")\n//需要更多的自己导入吧 我导入几个常用的\nfunction getUUID(entity){\nreturn this.entity.getMCEntity().func_110124_au()\n//返回实体UUID\n}\nfunction getPitch(entity){\nreturn this.entity.getMCEntity().field_70125_A\n//返回实体视角高度\n}\nfunction jump(entity){\nentity.getMCEntity().func_70683_ar().func_75660_a();\n//使实体跳起\n}\nfunction kick(player){\nplayer.getMCEntity().field_71135_a;\n//请出玩家 未完成\n}\nfunction getHunger(player)\n{\nreturn player.getMCEntity().func_71024_bL().func_75116_a();\n//获取饥饿值\n}\nfunction setHunger(player,lvl)\n{\nplayer.getMCEntity().func_71024_bL().func_75114_a(lvl);\n//设置饥饿值\n}\nfunction getLightValue(x,y,z)\n{\nreturn world.getMCWorld().func_72957_l(x,y,z)\n//获取某坐标亮度\n}\nfunction getMaxItemDamage(item){\nreturn item.getMCItemStack().func_77958_k()\n//获取某物品最大耐久\n}\nfunction getItemNbt(item){\nreturn item.getMCItemStack().field_77990_d;\n//获取物品NBT 目前请自行调用net.minecraft.nbt下NBTTagCompound类的方法\n}\nfunction setItemNbt(item,nbt){\nitem.getMCItemStack().field_77990_d=nbt\n//设置物品NBT 未测试的\n}\nfunction getItemLore(item){\nreturn item.getMCItemStack().field_77990_d.func_74775_l(\"display\").func_74781_a(\"Lore\")\n//获取物品lore\n}\nfunction addItemLore(item,lore){\nloreList=(item.getMCItemStack().field_77990_d.func_74775_l(\"display\").func_74781_a(\"Lore\")==null)? new NBTTagList():item.getMCItemStack().field_77990_d.func_74775_l(\"display\").func_74781_a(\"Lore\")\nloreList.func_74742_a(new NBTTagString(lore))\n//为物品增加lore\n}\nfunction removeItemLore(item,line){\nloreList=(item.getMCItemStack().field_77990_d.func_74775_l(\"display\").func_74781_a(\"Lore\")==null)? new NBTTagList():item.getMCItemStack().field_77990_d.func_74775_l(\"display\").func_74781_a(\"Lore\")\nloreList.func_74744_a(line)\n//删除物品lore某一行\n}\nfunction setItemLore(item,line,lore){\nloreList=(item.getMCItemStack().field_77990_d.func_74775_l(\"display\").func_74781_a(\"Lore\")==null)? new NBTTagList():item.getMCItemStack().field_77990_d.func_74775_l(\"display\").func_74781_a(\"Lore\")\nloreList.func_150304_a(line,new NBTTagString(lore))\n//修改物品lore某一行\n}\nfunction getJVMFreeMemory(){\nreturn parseInt(Runtime.getRuntime().freeMemory()/1048576)\n//获取JVM空闲内存(MB)\n}\nfunction getJVMMaxMemory(){\nreturn parseInt(Runtime.getRuntime().maxMemory()/1048576)\n//获取JVM最大内存(MB)\n}\nfunction getFPS(){\nreturn Minecraft.func_71410_x().field_71426_K.split(\" \")[0]\n//获取FPS 仅适用于单机\n}\n//专门为1.7.10打造复制代码\n\n\n[groupid=1595]CNPC Script Studio[/groupid]",
    "replies": [
        {
            "author": "Оil",
            "timestamp": 1544806260,
            "txt_content": "然后……音乐是地址来的？\n喵喵喵？"
        },
        {
            "author": "Hueihuea",
            "timestamp": 1544836560,
            "txt_content": "Oil 发表于 2018-12-15 00:51\n然后……音乐是地址来的？\n喵喵喵？\n这里好像不支持flash"
        },
        {
            "author": "@TGL",
            "timestamp": 1544952780,
            "txt_content": "1.7.10的比较简单，1.12.2如何运行代码块都不知道>_<"
        },
        {
            "author": "Hueihuea",
            "timestamp": 1544963220,
            "txt_content": "@TGL 发表于 2018-12-16 17:33\n1.7.10的比较简单，1.12.2如何运行代码块都不知道>_function 事件名(事件对象){\n代码块\n}复制代码\n如:\nfunction interact(e){\ne.npc.say(\"hello\")\n}"
        },
        {
            "author": "_北极星_",
            "timestamp": 1598468700,
            "txt_content": "好东西，收下了！谢谢楼主"
        }
    ]
}