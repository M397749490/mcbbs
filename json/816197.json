{
    "title": "[1.13]穷举式百万位随机器！令穷举聪明起来",
    "author": "Yat-man",
    "replyCount": 5,
    "timestamp": 1534857840,
    "txt_content": "在你点进来的那刻你想的如果是看见一堆summon，最后来个tag @r，那你可能对穷举有点偏见。让你的穷举聪明起来！注释→分类→得到规律→得到答案相信对各位来讲一个十位或百位的随机器都是随手而来不外乎穷举出0-9 然后tag@r 但当数值越大其可能性亦会越大当到达千位万位 只靠大脑的想法是不大可能的穷举出所有可能性的#生成marker#N\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:0,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:1,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:2,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:3,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:4,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:5,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:6,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:7,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:8,Duration:100000}\nsummon minecraft:area_effect_cloud 0 0 0 {Tags:[\"R\"],Age:9,Duration:100000}\n#得到marker的数值#N\nexecute as @e[tag=R] store result score @s random run data get entity @s Age\n#设置假名数值#Y\nscoreboard players set 10 random 10\n#得到个位的数值#Y\nscoreboard players operation Rmax0 random = Rmax random\nscoreboard players operation Rmin0 random = Rmin random\n#穷举出所有可能性#Y\n#最大位 #小于Rmax0大于Rmin0\nexecute as @e[tag=R] if score @s random >= Rmin0 random if score @s random <= Rmax0 random run tag @s add random0\ntag @e[tag=random0,sort=random,limit=1] add R0\n#得到随机数#Y\nscoreboard players operation Random random = R0 random\n#复位#N复制代码这是一个个位随机器也是随机器中最基本的模板通过注释分出它们的第一个类 需要更改但能续用（Y）  不需要更改（N） 需要用到的数字会日渐增加 所以归于Y需要得到各位数值亦会增加 归于Y所有可能性当会然增加       归于Y得到随机数的处理也会改变 归于Y所以我们只需要理会这四项在可能性方面我们能看出最大位(个位随机器中个位当然是最大 十位便是十位 百位便是百位)永远是小于Rmax0（0代表个位 1代表十位 2代表百位）及大于Rmin0的（因为随机数当然是要在范围内的啊）#穷举出所有可能性\n#最大位 #小于Rmax1大于Rmin1\nexecute as @e[tag=R] if score @s random >= Rmin1 random if score @s random <= Rmax1 random run tag @s add random1\ntag @e[tag=random1,sort=random,limit=1] add R1\n#十位相等 #大等于Rmin1小等于Rmax0的数值进行随机\nexecute if score Rmax1 random = Rmin1 random as @e[tag=R] if score @s random >= Rmin0 random if score @s random <= Rmax0 random run tag @s add random0\n#十位不相等 #R1大于Rmin1 #大等于0小等于Rmax0的数值进行随机\nexecute if score Rmax1 random > Rmin1 random if score @e[tag=R1,limit=1] random = Rmax1 random if score @e[tag=R1,limit=1] random > Rmin1 random as @e[tag=R] if score @s random >= 0 random if score @s random <= Rmax0 random run tag @s add random0\n#十位不相等 #R1小于Rmax1大于Rmin1  #大等于0小等于9的数值进行随机\nexecute if score Rmax1 random > Rmin1 random if score @e[tag=R1,limit=1] random < Rmax1 random if score @e[tag=R1,limit=1] random > Rmin1 random as @e[tag=R] if score @s random >= 0 random if score @s random <= 9 random run tag @s add random0\n#十位不相等 #R1等于Rmin1小于Rmax1  #大等于Rmin1小等于9的数值进行随机\nexecute if score Rmax1 random > Rmin1 random if score @e[tag=R1,limit=1] random < Rmax1 random if score @e[tag=R1,limit=1] random = Rmin1 random as @e[tag=R] if score @s random >= Rmin0 random if score @s random <= 9 random run tag @s add random0\ntag @e[tag=random0,sort=random,limit=1] add R0复制代码然后就是快乐的分类时间了 我们又是先分一个大类 十位相等 与 十位不相等然后就在这两中推衍\n在十位相等项中 我们直接用小于Rmax0 大于Rmin0 便可 因为十位相等的话就只是个位的运算而已\n在十位不相等项中 我们应该大约能想到有三种 不过不必去强行猜想 举个例子就都明白了\n设最大位为81 最小位为58\n先进行十位是否相等分类\n8≠5\n→十位不相等\n有可能得到的随机数分别是 8 7 6 5\n当中如果随机数（R1）是8的话 那它的上限需要限制\n如果（R1）是5的话 它的下限需要限制\n而7 6 则是0至9皆没问题\n当然例子不能直接运用 所以我们拿出当中的含意就好了\n\n最大位不相等\n随机数=最大位               限制上限\n随机数>最小位 <最大位  无限制\n随机数=最小位               限制下限\n最大位相等\n                                     >最小位 <最大位\n\n(注释→分类)\n随后我们能从中推衍出百位随机器\n#穷举出所有可能性\n#最大位 #小于Rmax2大于Rmin2\nexecute as @e[tag=R] if score @s random >= Rmin2 random if score @s random <= Rmax2 random run tag @s add random2\ntag @e[tag=random2,sort=random,limit=1] add R2\ntellraw @a [[\"R2：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R2,limit=1]\"}}],[\" R1：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R1,limit=1]\"}}],[\" R0：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R0,limit=1]\"}}]]\n#百位不相等 #R2大于Rmin2等于Rmax2 #大等于0小等于Rmax1的数值进行随机\nexecute if score Rmax2 random > Rmin2 random if score @e[tag=R2,limit=1] random > Rmin2 random if score @e[tag=R2,limit=1] random = Rmax2 random as @e[tag=R] if score @s random >= 0 random if score @s random <= Rmax1 random run tag @s add random1\n#百位不相等 #R2大于Rmin2小于Rmax2 #大等于0小等于9的数值进行随机\nexecute if score Rmax2 random > Rmin2 random if score @e[tag=R2,limit=1] random > Rmin2 random if score @e[tag=R2,limit=1] random < Rmax2 random as @e[tag=R] if score @s random >= 0 random if score @s random <= 9 random run tag @s add random1\n#百位不相等 #R2等于Rmin2小于Rmax2  #大等于Rmin1小等于9的数值进行随机\nexecute if score Rmax2 random > Rmin2 random if score @e[tag=R2,limit=1] random = Rmin2 random if score @e[tag=R2,limit=1] random < Rmax2 random as @e[tag=R] if score @s random >= Rmin1 random if score @s random <= 9 random run tag @s add random1\n#百位相等  #大等于Rmin1小等于Rmax1的数值进行随机\nexecute if score Rmax2 random = Rmin2 random as @e[tag=R] if score @s random >= Rmin1 random if score @s random <= Rmax1 random run tag @s add random1\ntag @e[tag=random1,sort=random,limit=1] add R1\ntellraw @a [[\"R2：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R2,limit=1]\"}}],[\" R1：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R1,limit=1]\"}}],[\" R0：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R0,limit=1]\"}}]]\n#百位不相等 #R2等于Rmax2大于Rmin2 #R1小于Rmax1 #大等于0小等于9的数值进行随机\nexecute if score @e[tag=R2,limit=1] random = Rmax2 random if score @e[tag=R2,limit=1] random > Rmin2 random if score @e[tag=R1,limit=1] random < Rmax1 random as @e[tag=R] if score @s random >= 0 random if score @s random <= 9 random run tag @s add random0\n#百位不相等 #R2等于Rmax2大于Rmin2 #R1等于Rmax1 #大等于0小等于Rmax0的数值进行随机\nexecute if score @e[tag=R2,limit=1] random = Rmax2 random if score @e[tag=R2,limit=1] random > Rmin2 random if score @e[tag=R1,limit=1] random = Rmax1 random as @e[tag=R] if score @s random >= 0 random if score @s random <= Rmax0 random run tag @s add random0\n\n#百位不相等 #R2小于Rmax2大于Rmin2 #大等于0小等于9的数值进行随机\nexecute if score @e[tag=R2,limit=1] random < Rmax2 random if score @e[tag=R2,limit=1] random > Rmin2 random as @e[tag=R] if score @s random >= 0 random if score @s random <= 9 random run tag @s add random0\n\n#百位不相等 #R2小于Rmax2等于Rmin2 #R1大于Rmin1 #大等于Rmin0小等于9的数值进行随机\nexecute if score @e[tag=R2,limit=1] random < Rmax2 random if score @e[tag=R2,limit=1] random = Rmin2 random if score @e[tag=R1,limit=1] random > Rmin1 random as @e[tag=R] if score @s random >= 0 random if score @s random <= 9 random run tag @s add random0\n#百位不相等 #R2小于Rmax2等于Rmin2 #R1等于Rmin1 #大等于Rmin0小等于9的数值进行随机\nexecute if score @e[tag=R2,limit=1] random < Rmax2 random if score @e[tag=R2,limit=1] random = Rmin2 random if score @e[tag=R1,limit=1] random = Rmin1 random as @e[tag=R] if score @s random >= Rmin0 random if score @s random <= 9 random run tag @s add random0\n\n#百位相等 #十位相等 #小于Rmax0大于Rmin0的数值进行随机\nexecute if score Rmax2 random = Rmin2 random if score Rmax1 random = Rmin1 random as @e[tag=R] if score @s random >= Rmin0 random if score @s random <= Rmax0 random run tag @s add random0\n\n#百位相等 #R1大于Rmin1等于Rmax1 #大等于0小等于Rmax0的数值进行随机\nexecute if score Rmax2 random = Rmin2 random if score @e[tag=R1,limit=1] random > Rmin1 random if score @e[tag=R1,limit=1] random = Rmax1 random as @e[tag=R] if score @s random >= 0 random if score @s random <= Rmax0 random run tag @s add random0\n#百位相等 #R1小于Rmax1大于Rmin1 #大等于0小等于9的数值进行随机\nexecute if score Rmax2 random = Rmin2 random if score @e[tag=R1,limit=1] random > Rmin1 random if score @e[tag=R1,limit=1] random < Rmax1 random as @e[tag=R] if score @s random >= 0 random if score @s random <= 9 random run tag @s add random0\n#百位相等 #R1等于Rmax1等于Rmin1 #大等于Rmin0小等于9的数值进行随机\nexecute if score Rmax2 random = Rmin2 random if score @e[tag=R1,limit=1] random = Rmin1 random if score @e[tag=R1,limit=1] random < Rmax1 random as @e[tag=R] if score @s random >= Rmin0 random if score @s random <= 9 random run tag @s add random0\ntag @e[tag=random0,sort=random,limit=1] add R0\ntellraw @a [[\"R2：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R2,limit=1]\"}}],[\" R1：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R1,limit=1]\"}}],[\" R0：\",{\"score\":{\"objective\":\"random\",\"name\":\"@e[tag=R0,limit=1]\"}}]]复制代码然后又是快乐的分类时间了 我们又是先分一个大类 百位相等 与 百位不相等\n注：以下说的是最小位的可能性因为除最小位都是照搬的\n因为直接说太乱 所以还是举个例子吧\n设最大位为811 最小位为588\n→百位不相等\n有可能得到的随机数分别是8 7 6 5\n啊！看到这是不是有点眼熟 没错我们把十位的接着写就行了\n（R2）是8  上限需要限制\n（R2）是5  下限需要限制\n而7 6 则是0至9皆没问题\n\n细心的朋友已经发现了 R2下还有R1 \n\n设得到的随机数是8\n为了不令随机出来的数字超出最大位\n如果R1是1 上限需要限制\nR1是0         不需要限制\n设得到的随机数是5\n为了不令随机出来的数字低于最小位\nR1是9          下限需要限制\nR1是8           不需要限制\n\n然后我们把它拿出来\n最大位不相等\n随机数（R2）=最大位（Rmax2）     随机数（R1）= 最大位（Rmax1）            限制上限\n随机数（R2）=最大位（Rmax2）     随机数（R1）< 最大位（Rmax1）            不限制\n随机数>最小位 <最大位  无限制\n随机数（R2）=最小位（Rmin2）      随机数（R1）= 最小位（Rmin1）             限制下限\n随机数（R2）=最小位（Rmin2）      随机数（R1）= 最小位（Rmin1）             不限制\n\n\n再举个例子\n设最大位为811 最小位为800\n百位相等所以直接管十位就好\n随机数（R1）=最大位（Rmax1）                        限制上限\n随机数（R1）>最小位 随机数（R1）<最大位       无限制\n随机数（R1）=最小位 （Rmin1）                        限制下限\n\n是不是看出来了  XX相等XX 才是最可怕的接下来的千 万 十万 百万都是这么叠上来的\n\n啊 不知不觉中你已经随我已经完成了一次 注释→分类→得到规律→得到答案\n所以 请不要觉得穷举很傻 那不过是因为你没掌握好规律而已\n希望你能得到点什么 谢谢\n\n\n注:运行前记得设好Rmax Rmin 及add random dummy\n我知道有更好的随机算法，请不要二次暴击我\n\n\n\n\n\n\n\nbaiwanwei.zip\n\n\n2018-8-21 21:16 上传\n点击文件名下载附件\n\n\n\n\n3.38 KB, 下载次数: 1\n\n\n放到地图中/datapacks/就可\n\n\n",
    "replies": [
        {
            "author": "xiaowei233v",
            "timestamp": 1534861080,
            "txt_content": "仰望大佬~话说这个全是指令的不发到命令那一栏里吗？awa"
        },
        {
            "author": "丢人素学姐",
            "timestamp": 1534861980,
            "txt_content": "1. 表述混乱，不知所云。你说的“位”并不是数学上一般说的位数。\n2. 你这个分位穷举是非常不严格的。每个数出现的概率不完全相同。\n\n总之，希望可以去看看别人写的随机数生成，多学点东西。这帖子质量不行。"
        },
        {
            "author": "Yat-man",
            "timestamp": 1534862760,
            "txt_content": "Vinogradov 发表于 2018-8-21 22:33\n1. 表述混乱，不知所云。你说的“位”并不是数学上一般说的位数。\n2. 你这个分位穷举是非常不严格的。每个 ...\n首先多谢大佬的指点 我的确初次发贴太过紧张 以后会先理一次文章 \n而分位穷举的弊端是很大 但是我这个贴的主要目的应该是如何更好的的穷举 而它是一个好的例子（指其规律）以后选材会更加注意"
        },
        {
            "author": "丢人素学姐",
            "timestamp": 1534864320,
            "txt_content": "Yat-man 发表于 2018-8-21 22:46\n首先多谢大佬的指点 我的确初次发贴太过紧张 以后会先理一次文章 \n而分位穷举的弊端是很大 但是我这个贴 ...\n主要是表述有点乱。\n\n我想你想说的（部分）中心思想是说，比如随机一个0-999999的数，那么有两种做法：\n1. 搞1000000个实体出来，然后随机选一个\n2. 每次10个实体，搞6次。每次选一个然后依次乘上10的幂次相加得到结果\n\n显然是第二种更好，但问题在于如果你每次生成的都是0-999999范围里的随机数，然后你需要的是一个更小的范围中的随机数，那么这时候其实就会出现概率上的问题（你可以想想为什么）。\n\n接下来我们假设你使用了按位随机的方法。\n我们进一步打比方，比如你实际需要的是200,201,...,369范围内的随机数，但你实际每次生成的是0-999范围内的随机数。\n\n那么第一步应该考虑的是，其实200,201,...,369范围内的随机数生成和0,1,...,169范围内的随机数生成是等价的（你生成0,1,...,169内的随机数以后加个200就行）。\n\n然后一个“显而易见的”做法是把0-999范围内的随机数模170，就得到了你想要的范围。\n但这个显而易见的做法还是有概率上的问题，因为0,1,...999这一千个数模170以后得到每个数的概率是不同的（这也是你帖子里存在的问题。\n\n那么怎么解决呢？\n\n现在假设0,1,...999范围中的随机数为x。\n如果0<=x<5*170=850，那么直接将x%170即为所求（因为0,1,...849这850个数模170以后得到每个结果的概率是一样的）。\n如果850<=x<=999，那么舍去此次结果，重新生成一次x，直到x落在0,1,...849的范围中为止。\n\n这样我们从数学上保证了概率的平均分布，而且代价不是很大。\n\n以上是我临时打出来的，可能有些typo，见谅。\n\n所以我的建议是：\n重新组织语言和代码，然后多看看技巧板之前成熟的随机数生成的帖子，\n\n祝好"
        },
        {
            "author": "⭐✔️",
            "timestamp": 1534869000,
            "txt_content": "建议重新组织一下语言 以及多用图表等直观的形式呈现原理"
        }
    ]
}