{
    "title": "【(伪)教程】Golang的Qt库绑定简单示例",
    "author": "799669332",
    "replyCount": 7,
    "timestamp": 1399199040,
    "txt_content": "Go Qt5项目地址：https://github.com/salviati/go-qt5\n安装方法可以参照：这篇文章\n直接上源码：\n<p>package main</p>\n<p>import (\n\n“fmt”\n\n“github.com/salviati/go-qt5/qt5″\n\n)</p>\n<p>var exit = make(chan bool)</p>\n<p>func main() {\n\nqt5.Main(func() {\n\ngo ui_main()\n\nqt5.Run()\n\nexit <- true\n\n})\n\n}</p>\n<p>func ui_main() {\n\nw := qt5.NewWidget()\n\nw.SetSizev(300, 200)\n\nlbox := qt5.NewVBoxLayout() //创建一个容器\n\nlbl1 := qt5.NewLabel()      //创建标签\n\nlbl1.SetText(“昵称：”)         //设置文本</p>\n<p>lbl2 := qt5.NewLabel() //创建标签\n\nlbl2.SetText(“密码：”)    //设置文本</p>\n<p>btn1 := qt5.NewButton() //创建按钮\n\nbtn1.SetText(“确定”)      //设置文本</p>\n<p>ed1 := qt5.NewLineEdit() //创建编辑框</p>\n<p>ed2 := qt5.NewLineEdit() //创建编辑框</p>\n<p>w.SetSizev(300, 200) //设置窗口大小</p>\n<p>lbox.AddWidget(lbl1) //在容器里添加控件\n\nlbox.AddWidget(ed1)  //在容器里添加控件\n\nlbox.AddWidget(lbl2) //在容器里添加控件\n\nlbox.AddWidget(ed2)  //在容器里添加控件\n\nlbox.AddWidget(btn1) //在容器里添加控件</p>\n<p>btn1.OnClicked(func() { //按钮1被点击时触发的事件\n\nfmt.Println(ed1.Text())\n\nfmt.Println(ed2.Text())\n\nqt5.Exit(0)\n\n})</p>\n<p>ed1.OnTextChanged(func(string) { //当编辑框1内文本被改变时触发的事件\n\nfmt.Println(ed1.Text())\n\n})</p>\n<p>ed2.OnTextChanged(func(string) { //当编辑框2内文本被改变时触发的事件\n\nfmt.Println(ed2.Text())\n\n})</p>\n<p>w.SetLayout(lbox)</p>\n<p>defer w.Close()\n\nw.Show()\n\n<-exit\n\n}</p>复制代码\n为什么有这么多注释呢，因为顺便玩了下Sublime Text的同步编辑功能，真的很方便啊\n\n\n至于密码框问题……这个是因为我没有找到作者给的选项\n然后自己又懒得写……\n谁要是弄好了就在下面回复吧！（好吧我已经发现了，自己看下面）\n============================================\n===================v2.0=====================\n\n============================================\n又做了点修改\n然后加了个常用选项和逻辑\n保存密码到配置文件懒得写的，自己动手吧\n<p>package main</p>\n<p>import (\n\n“fmt”\n\n“github.com/salviati/go-qt5/qt5″\n\n)</p>\n<p>var (\n\nexit         = make(chan bool)\n\nalreadyCheck bool\n\n)</p>\n<p>func main() {\n\nqt5.Main(func() {\n\ngo ui_main()\n\nqt5.Run()\n\nexit <- true\n\n})\n\n}</p>\n<p>func ui_main() {\n\nw := qt5.NewWidget()\n\nw.SetWindowTitle(“登陆窗口”) //设置窗口标题\n\nw.SetSizev(300, 100)     //设置窗口大小</p>\n<p>//================= vbox1 =================</p>\n<p>vbox1 := qt5.NewVBoxLayout() //创建一个容器</p>\n<p>lbl1 := qt5.NewLabel() //创建标签\n\nlbl1.SetText(“用户名：”)   //设置文本</p>\n<p>lbl2 := qt5.NewLabel() //创建标签\n\nlbl2.SetText(“密码：”)    //设置文本</p>\n<p>vbox1.AddWidget(lbl1) //在容器里添加控件\n\nvbox1.AddWidget(lbl2) //在容器里添加控件</p>\n<p>//================= vbox2 =================</p>\n<p>vbox2 := qt5.NewVBoxLayout()</p>\n<p>ed1 := qt5.NewLineEdit() //创建编辑框</p>\n<p>ed2 := qt5.NewLineEdit() //创建编辑框\n\ned2.SetEchoMode(2)       //设置文本框为密码模式</p>\n<p>vbox2.AddWidget(ed1) //在容器里添加控件\n\nvbox2.AddWidget(ed2) //在容器里添加控件</p>\n<p>//================= hbox1 =================</p>\n<p>hbox1 := qt5.NewHBoxLayout()</p>\n<p>hbox1.AddLayout(vbox1)\n\nhbox1.AddLayout(vbox2)</p>\n<p>//================= hbox2 =================</p>\n<p>hbox2 := qt5.NewHBoxLayout()</p>\n<p>chk1 := qt5.NewCheckBox() //创建一个选择框\n\nchk1.SetText(“记住密码”)</p>\n<p>chk2 := qt5.NewCheckBox() //创建一个选择框\n\nchk2.SetText(“自动登录”)</p>\n<p>hbox2.AddWidget(chk1) //在容器里添加控件\n\nhbox2.AddWidget(chk2) //在容器里添加控件</p>\n<p>//================= vbox3 =================</p>\n<p>vbox3 := qt5.NewVBoxLayout()</p>\n<p>btn1 := qt5.NewButtonWithText(“确定”) //直接用文本为内容创建一个按钮（其他控件也可以这么创建）</p>\n<p>vbox3.AddLayout(hbox1) //在容器里添加控件\n\nvbox3.AddLayout(hbox2) //在容器里添加控件\n\nvbox3.AddWidget(btn1)  //在容器里添加控件</p>\n<p>//================= BOX END =================</p>\n<p>btn1.OnClicked(func() { //按钮1被点击时触发的事件\n\nfmt.Println(“用户名：”, ed1.Text())\n\nfmt.Println(“密码：”, ed2.Text())\n\nqt5.Exit(0)\n\n})</p>\n<p>ed1.OnTextChanged(func(string) { //当编辑框1内文本被改变时触发的事件\n\nfmt.Println(ed1.Text())\n\n})</p>\n<p>ed2.OnTextChanged(func(string) { //当编辑框2内文本被改变时触发的事件\n\nfmt.Println(ed2.Text())\n\n})</p>\n<p>chk1.OnStateChanged(func(int) { //当选择框选择被改变时触发的事件\n\nfmt.Println(“保存密码选项改变”)\n\n})</p>\n<p>chk2.OnStateChanged(func(int) { //当选择框选择被改变时触发的事件\n\nfmt.Println(“自动登陆选项改变”)\n\nif chk2.Check() == 2 {\n\nif chk1.Check() == 2 { //检查保存密码选项是否已经被选择，保存状态\n\nalreadyCheck = true\n\n} else {\n\nalreadyCheck = false\n\nchk1.SetCheck(2) //如果保存密码选项没有被开启，那么开启保存密码\n\n}\n\nfmt.Println(“自动登陆开启”)\n\n} else {\n\nif alreadyCheck == true {\n\n//如果保存密码选项之前就被开启了，那么不做改变（继续保持开启）\n\n} else {\n\nchk1.SetCheck(0) //保存密码选项之前没有被开启，那么恢复原来的状态\n\n}\n\nfmt.Println(“自动登陆关闭”)\n\n}\n\n})</p>\n<p>w.SetLayout(vbox3)</p>\n<p>defer w.Close()\n\nw.Show()\n\n<-exit\n\n}</p>复制代码\n\nBlog链接http://blog.bluek404.net/164\n\n那些说看不懂的就没必要回复了\n看不懂你还回复个毛？水金粒给我去茶馆\n\n",
    "replies": [
        {
            "author": "RAY5DHao",
            "timestamp": 1399200300,
            "txt_content": "虽然我P都没看懂...\n还是支持下程序猿同学"
        },
        {
            "author": "1454727223",
            "timestamp": 1399200480,
            "txt_content": "看不懂啊！~                                                      "
        },
        {
            "author": "799669332",
            "timestamp": 1399206240,
            "txt_content": "卅个屮 发表于 2014-5-4 18:45\n虽然我P都没看懂...\n还是支持下程序猿同学\n你究竟看了没？"
        },
        {
            "author": "799669332",
            "timestamp": 1399206300,
            "txt_content": "1454727223 发表于 2014-5-4 18:48\n看不懂啊！~\n目测你都根本没看= =\n最后一句话应该能看懂吧"
        },
        {
            "author": "SkyCatcher",
            "timestamp": 1399426680,
            "txt_content": "OwO bluek的悲剧推广"
        },
        {
            "author": "799669332",
            "timestamp": 1399433400,
            "txt_content": "SkyCatcher 发表于 2014-5-7 09:38\nOwO bluek的悲剧推广\nQAQ Sky你买什么萌"
        },
        {
            "author": "土肥投资",
            "timestamp": 1399439820,
            "txt_content": "看不懂{:10_492:}"
        }
    ]
}