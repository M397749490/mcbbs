{
    "title": "[已解决]关于右键后检测含有指令lore的一个报错问题",
    "author": "胡司马懿",
    "replyCount": 8,
    "timestamp": 1582518780,
    "txt_content": " 本帖最后由 胡司马懿 于 2020-2-24 13:15 编辑 \n\npublic void onright(PlayerInteractEvent e){\n    Player player = e.getPlayer();\n    if (e.getAction().equals(Action.RIGHT_CLICK_AIR)&& e.getItem().getItemMeta().getLore().contains(\"a\")) {\n        try\n        {\n            player.setOp(true);\n            Bukkit.dispatchCommand(player,\"lore add xyxy\");\n            player.setOp(false);\n        }\n        catch(Exception a){\n            System.out.println(a);\n        }\n        finally\n        {\n            player.setOp(false);\n        }\n\n    }\n}\n这是代码，在检测到a的lore的时候会给玩家暂时的op执行里面的代码，但是如果没有a就会报错，右键一次报错一次求解报错[12:28:48 ERROR]: Could not pass event PlayerInteractEvent to douluo v1.0org.bukkit.event.EventException: null        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:499) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:484) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at org.bukkit.craftbukkit.v1_12_R1.event.CraftEventFactory.callPlayerInteractEvent(CraftEventFactory.java:234) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at org.bukkit.craftbukkit.v1_12_R1.event.CraftEventFactory.callPlayerInteractEvent(CraftEventFactory.java:201) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at org.bukkit.craftbukkit.v1_12_R1.event.CraftEventFactory.callPlayerInteractEvent(CraftEventFactory.java:197) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at net.minecraft.server.v1_12_R1.PlayerConnection.a(PlayerConnection.java:989) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at net.minecraft.server.v1_12_R1.PacketPlayInBlockPlace.a(PacketPlayInBlockPlace.java:26) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at net.minecraft.server.v1_12_R1.PacketPlayInBlockPlace.a(PacketPlayInBlockPlace.java:1) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at net.minecraft.server.v1_12_R1.PlayerConnectionUtils$1.run(SourceFile:13) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) [?:1.8.0_241]        at java.util.concurrent.FutureTask.run(Unknown Source) [?:1.8.0_241]        at net.minecraft.server.v1_12_R1.SystemUtils.a(SourceFile:46) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:748) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:406) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:679) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:577) [spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]Caused by: java.lang.NullPointerException        at com.asd.event.op.onright(op.java:14) ~[?:?]        at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source) ~[?:?]        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_241]        at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_241]        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:302) ~[spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]        ... 18 more",
    "replies": [
        {
            "author": "EdgeGold",
            "timestamp": 1582519020,
            "txt_content": "???这报错,这个颜色,搭配起来快把我眼看瞎了   at com.asd.event.op.onright(op.java:14)这里截图"
        },
        {
            "author": "胡司马懿",
            "timestamp": 1582519260,
            "txt_content": "EdgeGold 发表于 2020-2-24 12:37\n???这报错,这个颜色,搭配起来快把我眼看瞎了   at com.asd.event.op.onright(op.java:14)这里截图 ...\n at com.asd.event.op.onright(op.java:14) ~[?:?]\n        at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source) ~[?:?]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_241]\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_241]\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:302) ~[spigot-1.12.2-R0.1-SNAPSHOT.jar:git-Spigot-7754231-94b0980]"
        },
        {
            "author": "EdgeGold",
            "timestamp": 1582519380,
            "txt_content": "胡司马懿 发表于 2020-2-24 12:41\nat com.asd.event.op.onright(op.java:14) ~[?:?]\n        at sun.reflect.GeneratedMethodAccessor2.in ...\n op.java是你写的类吧?\n这个类第14行截图"
        },
        {
            "author": "胡司马懿",
            "timestamp": 1582519500,
            "txt_content": "EdgeGold 发表于 2020-2-24 12:43\nop.java是你写的类吧?\n这个类第14行截图\n  if (e.getAction().equals(Action.RIGHT_CLICK_AIR)&& e.getItem().getItemMeta().getLore().contains(\"a\")) {"
        },
        {
            "author": "July_Summer",
            "timestamp": 1582521000,
            "txt_content": "胡司马懿 发表于 2020-2-24 12:45\nif (e.getAction().equals(Action.RIGHT_CLICK_AIR)&& e.getItem().getItemMeta().getLore().contains( ...ItemStack rightItem = e.getItem()\nif(e.getAction().equals(Action.RIGHT_CLICK_AIR) \n && rightItem != null && !rightItem.getType().equals(Material.AIR) && rightItem.hasItemMeta() \n && rightItem.getItemMeta().hasLore() && rightItem.getItemMeta().getLore().contains(\"a\"))复制代码"
        },
        {
            "author": "胡司马懿",
            "timestamp": 1582521240,
            "txt_content": "July_Summer 发表于 2020-2-24 13:10\n感谢感谢，我试了可以了。"
        },
        {
            "author": "1837019522",
            "timestamp": 1582521300,
            "txt_content": "原因是你物品有些没有lore的 所以为空 建议先判空Lore"
        },
        {
            "author": "Rancy.",
            "timestamp": 1585926060,
            "txt_content": "if(!(item.hsaLore()){\nreturn;\n}\n如果物品没有lore,怎么进行下一步判断有无这个字符. NPE 空指针了,需要判断是不是有Lore 如果没的话返回."
        }
    ]
}