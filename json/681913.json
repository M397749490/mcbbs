{
    "title": "利用腾讯云VPS进行简单的开服教程。",
    "author": "mr521sd",
    "replyCount": 60,
    "timestamp": 1489986960,
    "txt_content": " 本帖最后由 mr521sd 于 2019-6-17 20:10 编辑 \n\n前言\n作为一个MC四五年的老玩家，我最终还是走到了开服这一条路...\n实际上我是被逼的......和室友局域网联机不成功，搜了一下原因，有回答说1.8版本以后禁止盗版联机，每一个这样的答案下面都有热心网友说“没有啊，我昨天还联机玩了呢！”\n最近几天突然看到腾讯云有三十天的免费套餐，顿时就想试试开服了。\n搜了一下教程，不算少，但是看得我很不爽，对于有学习能力但是没有服务器技能的人似乎都不怎么友好。\n好吧，现在我学会了一点。和室友开了个官服+forge的简单服务器。我就想顺便写个入门教程吧，给后来者脚下铺一块砖。\nPS.以下教程所建立服务器仅适用于基友联机和个人学习。\n\n\nVPS简单介绍和登录演示\n\n\n\n全称是Virtual Private Server 虚拟专用服务器 \n是利用虚拟化技术对服务器资源进行分割......好吧就是服务器而已嘛不要管这么多了让我们先申请一个吧\n\n\n\n\n登录 - 腾讯云.jpg (57.72 KB, 下载次数: 12)\n\n下载附件\n\n腾讯云登录\n2017-3-20 09:05 上传\n\n\n\n\n\n实际上腾讯云除了现在的30天免费套餐还有针对学生的1元主机，很便宜。（没有广告费）\n注册申请实名认证我就不讲了。\n主机系统建议选择centos，这是基于linux的一个系统，对于服务器而言\n，相比Windows server有更小的内存占用和稳定性。（当然本教程就是基于centos的，这才是根本原因吧！）\n\n      登录你的云主机吧。\n\n\n\n\n云主机-控制台.jpg (142.32 KB, 下载次数: 7)\n\n下载附件\n\n2017-3-20 09:10 上传\n\n\n\n\n\n\n选中你的主机可以进行开机关机重启等操作右上角的信封里会给你发来系统登录的初始密码。初始用户名是root，这也是系统最高管理员用户。（基于linux的系统开机都会要求登录才能进行操作。）关机状态下，你可以点击右面的更多->密码密钥 来重置你的登录密码。开机后点击登录，会在网页端弹出类似Windows命令提示符的界面，这就是服务器的远程操作窗口\n\n\n\n\n腾讯云 - 10.141.13.129.jpg (43.2 KB, 下载次数: 5)\n\n下载附件\n\n2017-3-20 09:24 上传\n\n\n\n\nlogin后面填写你的用户名 root，回车，password后面填写你的密码。填写密码时不会出现任何字符，填写完毕后回车即可登录。\n\n\n\n\n腾讯云 - 10.141.13.129 (1).jpg (38.54 KB, 下载次数: 4)\n\n下载附件\n\n2017-3-20 09:34 上传\n\n\n\n\n登录成功，可以看到自我上次下线以来服务器被尝试登录了48次。（这是什么鬼？我被攻击了吗？我昨天才开的新服务器啊小马哥？）\n\n基本登录就到这里。\n基于方便考虑，你可以在本地电脑上下载PUTTY,XSHELL等软件远程操控服务器。但基于简化教程考虑，此处没有关于PUTTY的相关教程。如有需要自行搜索。\n\n\n\n\nminecraft服务端制作\n\n\n\n接下来我们要制作一个服务端，这个工作将在你的本地电脑上进行，确保你的电脑上已经安装好了JAVA。\n我们可以下载整合包，也可以自己制作服务端。\n这里我简单的讲一下官服+forge的服务端制作。\n下载官方 服务端.jar文件（站内有，自行搜索即可）。在电脑上新建一个英文文件夹（server），将 服务端.jar 放进去。（稍后这个文件夹将被上传到服务器上，所以需要英文）双击 服务端.jar ，服务端会进行部署，稍等片刻。打开目录下新出现的 eula.txt 文件，将其中  eula=false 修改为 eula=true。这是MOJANG的EULA协议，改为true意味着你同意这一份协议。再次双击 服务端.jar 即可打开服务端。恭喜你开服成功！！好吧，并没有。这是利用默认配置开启的纯净服，你可以在本机或者局域网内找到这个服务器。加入就可以玩原版啦！现在关掉吧...找到目录下 server.properties文件。这是服务器的设置文件，用记事本打开，将online-mode 项由false改为true。即可允许盗版用户登录。更多设置可以自行搜索。我们去下载一个与 服务端版本匹配的forge.jar，双击打开。第一项是安装客户端，第二项是安装服务端。选择第二项server。安装目录选择刚刚新建的文件夹，点击确定会开始下载相关文件。有些文件可能会失败，再次打开安装或者挂代理。安装完毕会在目录下找到一个 forge+版本号.jar。双击它就可以用默认配置打开官服+forge服务器。我们可以给它改一个短一点的英文名。我们也可以新建一个.bat文件用指定参数启动服务端，但是服务端将要被上传到云主机上，而云主机的centos系统下服务端不是用.bat文件启动的，所以我们没必要创建BAT文件。只要双击打开该forge+版本号.jar，试一试有没有错误就好。MOD安装同样是放入mods文件夹。为了方便，最好本地确认MOD安装无误，服务端能够正常打开。还要确认服务端能够登录，方法是：本地开启服务端后，打开你的客户端，在直接连接里输入 localhost:25565 或者 127.0.0.1:25565 。MOD安装最好是放一个，走一遍11的流程。否则一旦有问题，你就需要在一堆MOD中找到出问题的那个，一个一个地拖出来试一遍拖出来试一遍......\n\n服务端制作就到这里。如果下载整合包的话，需要注意它们的.bat文件打开的是哪一个.jar核心，用记事本打开看一眼。\n\n\n\n\n\nVPS服务器准备\n\n\n\n\n下面进行服务器的准备工作。\n第一步：安装screen\n服务器登陆后，键入如下命令 yum install screen复制代码\n如果出现Is this OK？键入y回车即可，下同。\nscreen 是一个软件，它可以防止你关掉本地管理窗口后服务器也被关掉，它可以让服务器在后台运行，在你下次登录后可以利用命令恢复服务器管理会话窗口。\n更多的介绍和screen命令可以看这里。\n第二步：安装java\nyum install java复制代码我看到其他教程中会在java后面加指定版本之类的命令。在腾讯云centos中用上面的命令即可安装JAVA，如果不成功的话，可以尝试yum -y install java-1.8.0-openjdk*复制代码\n 安装完毕可以用java -version复制代码确认JAVA版本和安装成功\n\n\n\n\n\n腾讯云 - 10.141.13.129.jpg (22.58 KB, 下载次数: 3)\n\n下载附件\n\n2017-3-20 11:06 上传\n\n\n\n\n\n\n服务器环境基本准备完毕。\n基于安全考虑，你可以新建一个用户专门用于minecraft服务器维护。但基于简化教程考虑，此处没有新建用户教程。如有需要自行搜索。\n\n\n\n\n本地电脑准备\n\n\n\n\n本地电脑需要安装将文件上传到服务器的软件\n我用的是腾讯云支持文档里给的Filezilla。文档链接这里也有Filezilla的简单教程。\n偷偷借用它一张图\n\n\n\n\n\n步骤六：部署应用环境 - 云服务器 - 产品文档 - 帮助与文档 - 腾讯云.jpg.jpg (158.94 KB, 下载次数: 0)\n\n下载附件\n\n2017-3-20 11:31 上传\n\n\n\n\n\n\n\n连接后远程站点目录下面只有一个root文件夹。把根目录折叠再展开就可以看到其他目录了。\n\n现在在本地电脑上找到你准备好的服务端文件夹server，在文件夹内新建一个文本文档，输入\njava -Xmx512M -jar 你的服务端核心.jar 复制代码-Xmx512M是分配给Java运行的最大内存，**内存只有1G，你可以根据服务器负载自己设定。你的服务端核心.jar 就是上面minecraft服务端制作步骤中在本地电脑中反复打开的那个文件。整合包需要记事本打开.bat文件看一看它启动的是哪个核心。保存退出重命名这个文本文档为 youlike.sh。.sh文件是centos系统下的可运行文件。centos中没办法直接打开服务端核心，而且由于内存大小限制，需要用指定参数来启动服务端，所以新建.sh文件是必须的。将文件夹server上传至云主机 /home/ 目录下面。注意一下，Linux系统中文件目录分隔用符号 /  ,而Windows中用的是\\ 。在/home 目录下面的/server文件夹上右键-》文件属性。将数字值一项修改为777，选择递归处理子目录，应用到所有。这是修改文件操作权限，否则服务器无法读写文件，会导致问题。\n\n本地电脑端准备完毕。\n\n\n\n\n\n\n服务器开启\n\n\n\n现在我们来开启服务器吧\n登录输入screen -S yourname复制代码新建一个叫yourname的session。如果你只建了这一个会话的话，关掉后再打开还会在这个会话里面。你可以用screen -d yourname复制代码命令将yourname这个会话挂到后台运行。你也可以用screen -r yourname复制代码命令恢复后台运行的会话。更多的screen命令在VPS服务器准备步骤中有链接介绍。输入cd /home/server/复制代码cd / 命令用于进入指定目录，相当于Windows中打开某个文件夹。现在我们进入了你的服务端文件夹里面。输入./youlike.sh复制代码./ 命令打开指定文件。等待片刻，出现了 Done! 提示，服务器就建好了。\n\n\n\n\n腾讯云 - 10.141.13.129 (1).jpg (128.2 KB, 下载次数: 2)\n\n下载附件\n\n2017-3-20 12:12 上传\n\n\n\n\n输入stop复制代码即可关掉服务器。也可以输入其他指令进行游戏后台操作。例如setworldspawn复制代码设置当前坐标为重生点。\n\n\n好了，现在正式恭喜你，开服成功！！！\n\n\n\n\n服务器日常使用维护\n\n\n\n服务器连接方法。在你的云主机界面找到公网IP，客户端直连或者添加服务器 都可以，输入ip，ip后面不用加端口号\n\n服务器MOD更新，或者更改地图等等文件操作，要记得确认新上传文件权限。\n\nserver.properties 文件中有关于最大玩家数的设置max-players。免费的主机不能带过多的玩家，建议进行最大玩家数限制。\n\nserver.properties 文件中还有关于最大视距的设置view-distance。默认值是10。建议修改为6~7以降低内存占用。\n\n可以给自己一个管理员身份，在MC服务器输入\n/op 用户名复制代码      这样就可以在客户端进行一些游戏操作。不用每次都切到服务器输入指令。\n\n在一个会话里面打开服务端之后，你所输入的命令就是对Minecraft服务端的命令了。所以没办法用screen 命令和其他Linux操作命令。网页端你可以用左上角的快捷键ctrl-alt-Fn打开一个新的标签，登录后输入screen命令操作打开了服务端的会话。或者进行其他服务器操作。\n\n\n\n结束语\n\n本人不是腐竹也不从事技术工作，这篇教程是出于无聊帮助新手的目地编写，当然我自己也是一个完全的Linux新手，如果发现教程中有技术性错误，欢迎您私信我，以上。\n谢谢观阅！\n\n很高兴看到有小伙伴们开服成功！祝贺你们，通过了 Minecraft开服关卡！\n楼主本人已经有一年多的时间没有上论坛了，感谢各位的评分和回复，但是也对我没有进行回复和更新表示抱歉！\n本帖写于楼主大四时最后一段无聊时光。楼主没有从事IT相关工作也没有系统学习过JAVA相关知识，对于各位的问题，其实楼主能够回答的东西都已经写在教程里了。我没有写出来的东西，搜索引擎或许比我写的更好。。。。。。\n我真的很高兴看到依然有人对Minecraft感兴趣，也真的对于自己不能再帮助你们感到抱歉！\n从开始的自己玩，到后来联机，再到最后开服，楼主的Minecraft之路已经走到了最远点。MCBBS留下了我和小伙伴们的很多脚步，但现在BBS中已经没有我们了，现在的MCBBS有你们才更精彩！\n\n\n写于2019年6月17日\n\n\n\n",
    "replies": [
        {
            "author": "残叶断梦",
            "timestamp": 1490158020,
            "txt_content": "后排兹瓷！"
        },
        {
            "author": "1919942301",
            "timestamp": 1490163240,
            "txt_content": "谢谢 楼主分享"
        },
        {
            "author": "残叶断梦",
            "timestamp": 1491197940,
            "txt_content": "话说请问一下，MOD在服务端作用不起来怎么办"
        },
        {
            "author": "mr521sd",
            "timestamp": 1491375540,
            "txt_content": "残叶断梦 发表于 2017-4-3 13:39\n话说请问一下，MOD在服务端作用不起来怎么办\n如果是按照我的教程里的官服+forge服务端，centos服务器的话，有两点可能。\n1.MOD不兼容服务器。\n2.MOD文件名中有非法字符，比如说中文。"
        },
        {
            "author": "残叶断梦",
            "timestamp": 1491497880,
            "txt_content": " 本帖最后由 残叶断梦 于 2017-4-7 13:12 编辑 \n\n感谢楼主，已经解决了。"
        },
        {
            "author": "kingstar千泷",
            "timestamp": 1491732000,
            "txt_content": "很详细，资次！！"
        },
        {
            "author": "74185263",
            "timestamp": 1492008600,
            "txt_content": "666666666666"
        },
        {
            "author": "qaz0100",
            "timestamp": 1492312200,
            "txt_content": "想问一下比较容易炸服有没有好的优化方法，之前还一去地狱就非常非常卡，调了下视距以后不卡了，但是还是时不时会炸服"
        },
        {
            "author": "杰克羊",
            "timestamp": 1493372820,
            "txt_content": "突然发现腾讯都是为了赚小学生的钱"
        },
        {
            "author": "mr521sd",
            "timestamp": 1493384400,
            "txt_content": "杰克羊 发表于 2017-4-28 17:47\n突然发现腾讯都是为了赚小学生的钱\n学生优惠1块钱一个月，这算什么赚钱？"
        },
        {
            "author": "不要逗我",
            "timestamp": 1500791280,
            "txt_content": "66666666666666666666666"
        },
        {
            "author": "Yang_ZiMo",
            "timestamp": 1500799380,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "Man灬默默",
            "timestamp": 1501658520,
            "txt_content": "6666666666666666666666666"
        },
        {
            "author": "5igm1",
            "timestamp": 1501700340,
            "txt_content": "我还以为是用vps转发= ="
        },
        {
            "author": "tea_sb",
            "timestamp": 1519304040,
            "txt_content": " 本帖最后由 tea_sb 于 2018-2-22 23:10 编辑 \n\n服务器开了,然后控制台也正常,但是我在游戏里添加服务器时,却连不上"
        },
        {
            "author": "胜者为寇",
            "timestamp": 1519396620,
            "txt_content": "请问你有企鹅么！我有些问题要询问一下！"
        },
        {
            "author": "电视66",
            "timestamp": 1519476420,
            "txt_content": "楼主，那个你的服务核心是什么啊，我怎么一直 填不对"
        },
        {
            "author": "wan2009qi",
            "timestamp": 1519750800,
            "txt_content": "wan_adult lost connection: Internal Exception: io.netty.handler.codec.EncoderException: java.io.IOException: Can't serialize unregistered packet楼主我报这个错怎么办"
        },
        {
            "author": "化一归零",
            "timestamp": 1528610220,
            "txt_content": "被尝试NTR了48次"
        },
        {
            "author": "思念丶···",
            "timestamp": 1529031540,
            "txt_content": "感谢咯住。会操作了！"
        },
        {
            "author": "HakuShoku",
            "timestamp": 1529334720,
            "txt_content": "重新登录接进云主机里又回到了linux初始界面，但这时服务器仍在运行，那么，如何才能再次打开服务器界面呢"
        },
        {
            "author": "正人君子",
            "timestamp": 1529627400,
            "txt_content": "这对于一个小白来说已经很详细了，现在开服基本都是需要独立机的。不然小服就去租网页服了。支持一下！"
        },
        {
            "author": "gumi229",
            "timestamp": 1529675040,
            "txt_content": "我想问一下楼主大概4个人的1.12小服需要什么配置呢? 打算加2到3个类似工业的大mod和一些小mod"
        },
        {
            "author": "小兵gk",
            "timestamp": 1529997300,
            "txt_content": "头一回知道腾讯云居然也能开服"
        },
        {
            "author": "20A0",
            "timestamp": 1530598080,
            "txt_content": "wan2009qi 发表于 2018-2-28 01:00\nwan_adult lost connection: Internal Exception: io.netty.handler.codec.EncoderException: java.io.IOEx ...\n你解决了吗，我也出现了这种问题"
        },
        {
            "author": "永邦1号",
            "timestamp": 1531179900,
            "txt_content": "windows 7好像没法使用yum命令"
        },
        {
            "author": "生-康娜",
            "timestamp": 1537201800,
            "txt_content": "请问我开服了，但是客户端连接不上，说无法连接服务器"
        },
        {
            "author": "生-康娜",
            "timestamp": 1537202400,
            "txt_content": "请问，为什么我的客户端连接的时候是登入失败，无效会话（请重启游戏或者客户端）"
        },
        {
            "author": "MC一起搞事",
            "timestamp": 1538822940,
            "txt_content": "谢谢楼主了~!"
        },
        {
            "author": "Jialy",
            "timestamp": 1541061660,
            "txt_content": " 本帖最后由 Jialy 于 2018-11-1 16:58 编辑 \n生-康娜 发表于 2018-9-18 00:40\n请问，为什么我的客户端连接的时候是登入失败，无效会话（请重启游戏或者客户端） ...\n开137   138 端口就行了"
        },
        {
            "author": "Jialy",
            "timestamp": 1541062740,
            "txt_content": "tea_sb 发表于 2018-2-22 20:54\n服务器开了,然后控制台也正常,但是我在游戏里添加服务器时,却连不上\n安全组添加出站规则  端口137    138"
        },
        {
            "author": "xumihang",
            "timestamp": 1545267060,
            "txt_content": "为什么我关闭网页之后，服务器就直接关闭了啊，按照之前的设置走的啊"
        },
        {
            "author": "小庄c",
            "timestamp": 1545554160,
            "txt_content": "问一下，能说明一下有空岛服务端\n怎么安装"
        },
        {
            "author": "uuu2011",
            "timestamp": 1547223420,
            "txt_content": "腾讯云对海外玩家似乎不是特别友好，尤其是**的节点"
        },
        {
            "author": "yuen27787231",
            "timestamp": 1558719060,
            "txt_content": "這個應該是類似驗證碼的概念?"
        },
        {
            "author": "632351262",
            "timestamp": 1560594720,
            "txt_content": "一脸懵逼"
        },
        {
            "author": "mr521sd",
            "timestamp": 1560770700,
            "txt_content": "HakuShoku 发表于 2018-6-18 23:12\n重新登录接进云主机里又回到了linux初始界面，但这时服务器仍在运行，那么，如何才能再次打开服务器界面呢\n ...\n利用 screen -r yourname 命令恢复后台运行的会话"
        },
        {
            "author": "mr521sd",
            "timestamp": 1560774360,
            "txt_content": "生-康娜 发表于 2018-9-18 00:40\n请问，为什么我的客户端连接的时候是登入失败，无效会话（请重启游戏或者客户端） ...\n找到目录下 server.properties文件。这是服务器的设置文件，用记事本打开，将online-mode 项由false改为true。即可允许盗版用户登录。\n这一步你有做吗？我当时就是因为局域网直连出现这个提示才去开服的......"
        },
        {
            "author": "Hansty",
            "timestamp": 1561389840,
            "txt_content": "一样正打算开个小服开黑用，帮大忙了"
        },
        {
            "author": "囧~~~囧君",
            "timestamp": 1562394780,
            "txt_content": "脑子不好使。看不懂，_(:з」∠)_，开了5年面板，再看这个，脑子疼。"
        },
        {
            "author": "1278563252",
            "timestamp": 1563824520,
            "txt_content": "[03:39:20 WARN]: **** FAILED TO BIND TO PORT!\n[03:39:20 WARN]: The exception was: java.net.BindException: Cannot assign requested address\n[03:39:20 WARN]: Perhaps a server is already running on that port?\n\n端口是25565"
        },
        {
            "author": "蓝色の爱恋",
            "timestamp": 1563890760,
            "txt_content": " 本帖最后由 蓝色の爱恋 于 2019-7-24 12:19 编辑 \n\n最后显示2 more然后指令能用就是连不上服务器"
        },
        {
            "author": "Mr_fengfeng",
            "timestamp": 1565521860,
            "txt_content": "楼主./youlike.sh拒绝访问怎么办"
        },
        {
            "author": "1278563252",
            "timestamp": 1565542980,
            "txt_content": "崩服原因是 可能服务器已在该端口开启？\n我想问一下 ，只有一个shell窗口，我也试过改掉端口，更换ip，重启/重置虚拟机为什么还是不行？\n服务端也换过，之前是sponge端也是这个问题，然后换成spigot端还是这个问题，\n但是，我把ip改成内网ip，localhost，不会崩，但是不能进入服务器。\n崩服代码：\n[00:52:40 WARN]: **** FAILED TO BIND TO PORT!\n[00:52:40 WARN]: The exception was: io.netty.channel.unix.Errors$NativeIoException: bind(..) failed: Cannot assign requested address\n[00:52:40 WARN]: Perhaps a server is already running on that port?复制代码\n求解"
        },
        {
            "author": "GFGFGG",
            "timestamp": 1565674080,
            "txt_content": "在根目录创建文本文档吗怎么创建？"
        },
        {
            "author": "呆萌工作室",
            "timestamp": 1566083700,
            "txt_content": "有服务器连yum都没装啊\n补上教程 /apt install yum"
        },
        {
            "author": "wtzc07006",
            "timestamp": 1570463100,
            "txt_content": "好贴，受用。感谢楼主"
        },
        {
            "author": "龙不好惹你",
            "timestamp": 1571567580,
            "txt_content": "楼主cvm和vps一样吗？没找到你说的免费vps啊只有cvm"
        },
        {
            "author": "龙不好惹你",
            "timestamp": 1571580780,
            "txt_content": "运行.sh这样了"
        },
        {
            "author": "龙不好惹你",
            "timestamp": 1571581560,
            "txt_content": "这个是我的服务端"
        },
        {
            "author": "龙不好惹你",
            "timestamp": 1571581740,
            "txt_content": "龙不好惹你 发表于 2019-10-20 22:26\n这个是我的服务端\n.sh文件我已经改好了不是文本文档的格式了，但是还是出现我楼上发的图的情况[img]http://chuantu.xyz/t6/702/1571581741x992245926.png[/img]"
        },
        {
            "author": "龙不好惹你",
            "timestamp": 1571581800,
            "txt_content": "难受啊"
        },
        {
            "author": "龙不好惹你",
            "timestamp": 1571582520,
            "txt_content": "The state engine was in incorrect state CONSTRUCTING and forced into state SERVER_STOPPED. Errors may have been discarded.\n.sh文件启动了。但这好像说神秘服务器坏了"
        },
        {
            "author": "龙不好惹你",
            "timestamp": 1571582580,
            "txt_content": ""
        },
        {
            "author": "龙不好惹你",
            "timestamp": 1571584740,
            "txt_content": "终于成功了但是我把控制台关闭服务器就没了是什么鬼"
        },
        {
            "author": "DMRIT_MG",
            "timestamp": 1571642340,
            "txt_content": "楼主，为什么我的.sh打不开啊，说找不到文件"
        },
        {
            "author": "44556666",
            "timestamp": 1574564100,
            "txt_content": "OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N怎么回事啊"
        },
        {
            "author": "KianChen81",
            "timestamp": 1580365920,
            "txt_content": "楼主问一下 开的这个服务器怎么用已经玩过的世界？"
        },
        {
            "author": "amei204",
            "timestamp": 1580398620,
            "txt_content": "我很喜欢谢谢"
        },
        {
            "author": "小懒喵",
            "timestamp": 1583143560,
            "txt_content": "有没有什么方法让我的电脑关闭了服务器也不关闭?"
        }
    ]
}