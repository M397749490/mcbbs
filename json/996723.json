{
    "title": "[已解决]怎么渲染一个类似鹦鹉站在玩家肩膀的效果",
    "author": "微与笑",
    "replyCount": 6,
    "timestamp": 1585115280,
    "txt_content": " 本帖最后由 微与笑 于 2020-3-29 22:45 编辑 \n\n这是我写的一个渲染，在渲染玩家的时候触发，但是这并没有渲染出我的图呀，这个图拿去做生物是没有问题的，是我哪里漏写了什么吗\n\n\n\n\n\n\nBES)V~[DR2H88TVWNZ@}VBM.png\n(86.91 KB, 下载次数: 1)\n\n\n\n\n下载附件\n\n\n2020-3-25 13:46 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "roj234",
            "timestamp": 1585121460,
            "txt_content": " 本帖最后由 roj234 于 2020-3-25 15:32 编辑 \n\n//先定位到肩膀\ntestRenderMnager.renderEntity(entitySomeParrot, 0F, 0F, 0F, 0F, 0, false);\n// ...而且好像你没有调用a_Render的render方法"
        },
        {
            "author": "微与笑",
            "timestamp": 1585130400,
            "txt_content": "roj234 发表于 2020-3-25 15:31\n//先定位到肩膀\ntestRenderMnager.renderEntity(entitySomeParrot, 0F, 0F, 0F, 0F, 0, false);\n// ...而且 ...\n感谢回复\n\n我其实是想做一个类似鹦鹉渲染到玩家身上的效果，比如渲染到头上。\n\n加上renderEntity之后游戏也没渲染出我要渲染的东西，然后我试着加dorender方法（注释的那一行），写第一个参数写 null 的话游戏就崩溃了，但是又没法将event.getEntityPlayer()作为参数传进去，那么我这个参数应该怎么填呢？\n\n\n\n\n\n\n\n图片.png\n(120.2 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-3-25 18:00 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "roj234",
            "timestamp": 1585130700,
            "txt_content": " 本帖最后由 roj234 于 2020-3-25 18:07 编辑 \n\n如果TP到x0z0附近你就能看到了\nRenderPlayerEvent没猜错的话已经预先定位到了player的脚底位置\n所以renderEntity(... 0,0,0,0)没有问题\n如果要在头上的话就translate(0, 1.85f, 0)关于定位的具体位置多翻翻forgeBin\n可以看一下这段我写好的代码，在头上渲染指定生物\n    @SubscribeEvent\n    public void doHatRender(RenderPlayerEvent.Post event) {\n        EntityPlayer player = event.getEntityPlayer();\n        Entity entityToRender = 。。。。//可以缓存没必要每次都new\n        \n        if(entityToRender == null)\n            return;\n        \n        GlStateManager.pushMatrix();\n        GlStateManager.translate(event.getX(), event.getY() + 1.85f, event.getZ());\n        \n        float spinSpeed = 0.8F; // 转啊转。\n        GlStateManager.rotate(-player.rotationYaw * player.world.getTotalWorldTime(), 0, spinSpeed, 0);\n        // 仰角\n        GlStateManager.rotate(player.rotationPitch, 1, 0, 0);\n        \n        // 缩小到一半\n        GlStateManager.scale(0.5, 0.5, 0.5);\n        mc.getRenderManager().renderEntity(entityToRender, 0F, 0F, 0F, 0F, 0, false);\n        GlStateManager.popMatrix();\n    }\n\n\n"
        },
        {
            "author": "微与笑",
            "timestamp": 1585130880,
            "txt_content": "roj234 发表于 2020-3-25 18:05\n如果TP到x0z0附近你就能看到了\nRenderPlayerEvent没猜错的话已经预先定位到了player的脚底位置\n所以renderE ...\n可是我写的位置是玩家所在位置哎，都是用的event.getEntityPlayer().pos，然而我在玩家的位置却没看到"
        },
        {
            "author": "roj234",
            "timestamp": 1585130880,
            "txt_content": "预先定位到了你脚下\n你又再定位一次\n所以实际渲染的位置就变成了\nx * 2, y * 2, z * 2"
        },
        {
            "author": "微与笑",
            "timestamp": 1585131240,
            "txt_content": " 本帖最后由 微与笑 于 2020-3-25 18:18 编辑 \nroj234 发表于 2020-3-25 18:08\n预先定位到了你脚下\n你又再定位一次\n所以实际渲染的位置就变成了\n好的，非常感谢解答，写成0之后的确在玩家脚下看到了\n"
        }
    ]
}