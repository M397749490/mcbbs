{
    "title": "[Bukkit]关于头颅皮肤加载超时的问题",
    "author": "弥猫うた",
    "replyCount": 3,
    "timestamp": 1572065640,
    "txt_content": "我新建了一个头颅后，加载插件会出现加载很久的情况，偶尔也会出现下面报错的问题，虽然有这样的状况但是皮肤能显示\n请问这个可以解决吗？\nCouldn't look up profile properties for com.mojang.authlib.GameProfile@d5dd5dd[id=7ae12af3-13f3-4678-9ee8-6611ba11efbb,name=Newfoundland,properties={},legacy=false]\ncom.mojang.authlib.exceptions.AuthenticationException: The client has sent too many requests within a certain amount of time\n",
    "replies": [
        {
            "author": "陈宇鹏",
            "timestamp": 1572141240,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "gooding300",
            "timestamp": 1572260220,
            "txt_content": " 本帖最后由 gooding300 于 2019-10-28 18:59 编辑 \n\n既然是Bukkit插件开发，就省略客户端的处理细节和代码了。\n\n头颅加载有两种模式，指定name（不带材质信息）和指定GameProfile（带材质信息），前者本质上是先尝试补全GameProfile后再使用和后者相同的加载逻辑，楼主的问题就出在这个“补全GameProfile”过程中。\n补全GameProfile需要进行两步，第一步是先根据用户名获得UUID，第二步是根据UUID获得材质信息。这两个API都限制了请求速度，每10分钟最多可以请求600次，后者还特别规定了同一个UUID一分钟只能请求一次。\nThe client has sent too many requests within a certain amount of time\n因此，出现这个错误的原因是请求MojangAPI过于频繁。\n\n加上“加载超时”的问题，合理的解决方案应该是对GameProfile做好缓存，而不是一直只提供用户名让服务器/客户端重新补全GameProfile。\n技术细节和GameProfile补全/缓存代码请参考CustomSkinLoader：https://github.com/xfl03/MCCustomSkinLoader\n\n如果我的回答对您的问题有所帮助，请给我最高的评分！（人气金粒star我全都要！）\n"
        },
        {
            "author": "xiaoliuwu",
            "timestamp": 1584652560,
            "txt_content": "gooding300 发表于 2019-10-28 18:57\n既然是Bukkit插件开发，就省略客户端的处理细节和代码了。\n\n头颅加载有两种模式，指定name（不带材质信息） ...\n版主你好！~\n怎么解决服务器菜单加载个人头颅皮肤时的卡顿延迟\n加载访问国外很卡！但是我看到很多服务器就不卡！是为什么呢"
        }
    ]
}