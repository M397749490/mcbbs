{
    "title": "关于启动器开发时读取库文件的问题",
    "author": "officeyutong",
    "replyCount": 2,
    "timestamp": 1400131620,
    "txt_content": " 本帖最后由 officeyutong 于 2014-5-15 13:29 编辑 \n\n我个人认为，从json读到的库文件例如org.ow2.asm:asm-all:4.1处理后变成org\\ow2\\asm\\asm-all\\4.1可这只是一个目录，后来我又发现把最后两个连接起来即把asm-all和4.1连接起来中间加个-后面加个.jar就是库文件名，可有三个库文件很奇葩，该怎样弄\n这三个\norg.lwjgl.lwjgl:lwjgl:2.9.1-nightly-20131017\norg.lwjgl.lwjgl:lwjgl_util:2.9.0\norg.lwjgl.lwjgl:lwjgl-platform:2.9.0\n这个几个库文件直接把最后两项连接起来文件不存在，应该怎样处理\n启动器使用java开发\n\n另外，还有一个问题\nif (CheckOS() == 0) {\n                libraries[a] = libraries[a].replaceAll(\"/\", \"\\\\\");\n            }\n\n这段代码怎么错了，运行时会抛出StringIndexOutOfBoundsException异常，那个CheckOS()返回的是0",
    "replies": [
        {
            "author": "y丶小楠",
            "timestamp": 1400162640,
            "txt_content": " 本帖最后由 by丶小楠 于 2014-5-15 22:07 编辑 \n\n刚刚写好这个就看到你问了，虽然不是java，我是参照BMCL写的\n给你思路\n使用循环取库列表\n取\"natives\"属性，跟取“name”一样，与name同时取，如果取到了\"natives\"不等于null，那么直接pass掉这次循环\n如果natives值等于null\n继续取\"rules”的值如果取到声明一个逻辑变量或者说bool变量值为假\n然后用循环，取rule.action，如果等于\"disallow\"，赋值刚刚声明的bool变量的值为假跳出循环\n如果不等于\"disallow\"接着取rule.os属性，该属性内容应该是当前系统名吧，我是写的win平台所以直接判断是否是windows了，如果值为真，赋值刚刚声明的bool变量的值为假跳出循环\n如果\"rules”等于null那么直接判断rule.os是否为null，如果值为真，将声明bool变量赋值为真跳出循环\n如果不等于null，那么取rule.os属性与以上一样，我这里还是判断的是否为“windows”如果值为真，将声明bool变量赋值为真跳出循环 这里该循环结束\n然后取bool变量相反值，如果为真则跳出本次循环，将跳过赋值\n将取回值赋值给你定义的变量\n\n= =语言表达能力就这样了"
        },
        {
            "author": "y丶小楠",
            "timestamp": 1400163120,
            "txt_content": "以上如果我不过滤取回来的值是这样的：\nnet.minecraft:launchwrapper:1.5\nnet.sf.jopt-simple:jopt-simple:4.5\norg.ow2.asm:asm-all:4.1\nnet.java.jinput:jinput:2.0.5\nnet.java.jutils:jutils:1.0.0\norg.lwjgl.lwjgl:lwjgl:2.9.0\norg.lwjgl.lwjgl:lwjgl_util:2.9.0\norg.lwjgl.lwjgl:lwjgl-platform:2.9.0\norg.lwjgl.lwjgl:lwjgl:2.9.1-nightly-20130708-debug3\norg.lwjgl.lwjgl:lwjgl_util:2.9.1-nightly-20130708-debug3\norg.lwjgl.lwjgl:lwjgl-platform:2.9.1-nightly-20130708-debug3\nnet.java.jinput:jinput-platform:2.0.5\nnet.java.jinput:jinput-platform:2.0.5”\n过滤后取回来的是：\nnet.minecraft:launchwrapper:1.5\nnet.sf.jopt-simple:jopt-simple:4.5\norg.ow2.asm:asm-all:4.1\nnet.java.jinput:jinput:2.0.5\nnet.java.jutils:jutils:1.0.0\norg.lwjgl.lwjgl:lwjgl:2.9.0\norg.lwjgl.lwjgl:lwjgl_util:2.9.0"
        }
    ]
}