{
    "title": "Java初学者- - 请教一下代码问题 - -",
    "author": "飞非菲",
    "replyCount": 1,
    "timestamp": 1488968460,
    "txt_content": " 本帖最后由 飞非菲 于 2017-3-8 18:22 编辑 \n\n本来我想着去下一个自定义消息插件 然后我写了指令可以 查看重载指令- - 然后设置了所有玩家进入消息提示\npackage com.github.LRxiaoxi;\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.configuration.file.FileConfiguration;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.HandlerList;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class XiaoXi extends JavaPlugin implements Listener {\n        private File ConfigFile;\n\n        public void onEnable(){\n                Bukkit.getPluginManager().registerEvents(this,this);\n                if (!getDataFolder().exists()){\n                        getDataFolder().mkdir();\n                }\n                CreateConfig();\n                getLogger().info(\"LR自定义消息插件启动\");\n        }\n        public void onDisable(){\n                HandlerList.unregisterAll();\n                getLogger().info(\"LR自定义消息插件关闭\");\n        }\n        \n        public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n                if (label.equalsIgnoreCase(\"lxx\")){\n                        if (args.length == 0){\n                                sender.sendMessage(\"§a§l[LR自定义消息]§b/lxx help 来查询指令\");\n                                return true;\n                        }\n                }\n                if (args[0].equalsIgnoreCase(\"help\")){\n                        sender.sendMessage(\"§a§l[LR自定义消息]§f指令帮助\");\n                        sender.sendMessage(\"§a§l[LR自定义消息]§e/lxx reload 重载自定义消息插件\");\n                }\n                if (args[0].equalsIgnoreCase(\"reload\")){\n                        FileConfiguration config = load(this.ConfigFile);\n                        if (config.getInt(\"Version\") != 110){\n                                try{\n                                        ((File) this.ConfigFile).createNewFile();\n                                }\n                                catch (IOException localIOException) {}\n                                config.set(\"Version\", Integer.valueOf(110));\n                                try{\n                                        config.save(this.ConfigFile);\n                                }\n                                catch (Exception localException) {}\n                        }\n                        sender.sendMessage(\"§a§l[LR自定义消息]插件重载成功!\");\n                        return false;\n                }\n                return false;        \n        }\n        \n        @EventHandler\n        public void onDisable(PlayerJoinEvent event){\n                Player player = event.getPlayer();\n                if (player.hasPermission(\"LRxiaoxi.builder\"))\n                {\n                        String builder = getConfig().getString(\"builder\");\n                        \n                        Bukkit.broadcastMessage(builder\n                                        .replaceAll(\"&\", \"§\")\n                                        .replaceAll(\"%player%\", player.getDisplayName()));\n                        return;\n                }\n        }\n        \n        private FileConfiguration load(File configFile2) {\n                // TODO 自动生成的方法存根\n                return null;\n        }\n        public void CreateConfig(){\n                if (!new File(getDataFolder() + File.separator + \"config.yml\").exists()){\n                        saveDefaultConfig();\n                }\n                try{\n                        reloadConfig();\n                }\n                catch (Exception e){\n                        e.printStackTrace();\n                }\n        }\n}\n\n\n\n\n恳求大佬能为我解答 我把插件放入服务器 插件并不加载了\n初学者的我 如果那里代码写的很混乱 恳求理解 如果你可以指出 我会会一一改正",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1488993960,
            "txt_content": "后台日志?\n以及plugin.yml\n还有就是HandlerList.unregisterAll();\n请先明白他是什么用的..\n你要用也得改成\nHandlerList.unregisterAll(this);"
        }
    ]
}