{
    "title": "[1.14]新命令/drop — loottable的直接调用",
    "author": "⭐✔️",
    "replyCount": 2,
    "timestamp": 1540483620,
    "txt_content": " 本帖最后由 贰逼 于 2018-10-26 00:10 编辑 \n\n/drop命令目前还属于预览内容，并且存在bug，本帖会持续更新。\n\n大致的讲解一下目前的用法：\n语法\n/drop <target> <source>复制代码target就是掉落的对象，简单来说就是谁会得到掉落的物品。目前有：block、entity、player、world。\nsource就是掉落源，就是（通过某种方式让）谁掉了物品。目前有：award、fish、kill、loot、mine。\ntarget和source可以随意排列组合，具体用法点击索引跳转。\n\n总的来说/drop命令现在只是用于灵活地调用loottable。\ntarget - 对象\n\n\n\n\n1.png (7.38 KB, 下载次数: 0)\n\n下载附件\n\n2018-10-25 23:09 上传\n\n\n\n\n\n对象目前有：block、entity、player、world。\n（看着是不是感觉眼熟，世界上block和entity的表现和在replaceitem中差不多）\nblock - 方块容器\n/drop block [x] [y] [z] <distribute|insert>复制代码[xyz]用于选中一个容器的坐标，关于如何在容器内放置物品有两种模式：\ndistribute\n自动分配物品，类比漏斗。insert\n插入物品，类比/replaceitem。\n\n\n\n\n2.png (21.84 KB, 下载次数: 0)\n\n下载附件\n\n2018-10-25 23:16 上传\n\n\n\n\n\nentity - 实体\n/drop entity [target] [slot]复制代码[target]就是实体选择器，[slot]就是物品栏Id：\n\n\n\n\n3.png (41.8 KB, 下载次数: 0)\n\n下载附件\n\n2018-10-25 23:19 上传\n\n\n\n\n\n可以说与/replaceitem中的entity毫无差别，就是替换物品栏。\nplayer - 玩家\n/drop player [target]复制代码[target]就是实体选择器。\n如果说entity可以类比block中的\"insert\"模式，那么player就可以类比block中的\"distribute\"模式了，根据实体（多数是玩家）物品栏的情况自动分配物品。\nworld - 世界\n/drop world [x] [y] [z]复制代码直接在世界坐标[xyz]处掉落物品。简单粗暴。\nsource - 源\n\n\n\n\n4.png (5.33 KB, 下载次数: 0)\n\n下载附件\n\n2018-10-25 23:12 上传\n\n\n\n\n\n目前源有：award、fish、kill、loot、mine。\n（都与loottable相关联）\naward, loot - 奖励/掉落\n/drop <target> <award|loot> [loottable]复制代码直接将一个loottable作为源。\nfish - 钓鱼掉落\n/drop <target> fish [loottable] [x] [y] [z] [tool|offhand|mainhand]复制代码也是直接将一个loottable作为源，不同的是[xyz]\"应该\"表示钓得物品坐标（也许存在Bug），[tool|offhand|mainhand]表示工具和手持方式\nkill - 击杀掉落\n/drop <target> kill [target]复制代码[target]就是被击杀目标（必须limit=1），但是实际上所选择的实体并没有被击杀，只是调用了其死亡loot。\nmine - 挖掘掉落\n/drop <target> mine [x] [y] [z] [tool|offhand|mainhand]复制代码[xyz]是世界坐标，而非<target>中的坐标。表示挖掘[xyz]所得的掉落物，[tool|offhand|mainhand]表示工具和手持方式。\n挖掘掉落物是loottable中所规定的物品，比如挖掘煤矿，掉落煤；挖掘树叶，概率性掉落树苗。\n\n\n\n\n5.png (48.55 KB, 下载次数: 0)\n\n下载附件\n\n2018-10-25 23:44 上传\n\n\n\n\n\n本质上mine就是调用了方块的loot。\n目前bug\n1.部分loottable表现不正常，例如\"minecraft:blocks/acacia_door\"，这可能是个老牌bug，挖掘技术性方块没有掉落？\n2.当对象为entity时，<source>前会多出一个[count]的附加选项，推测是掉落次数？目前没有用处\n\n可能更新方向\n根据wiki-command/drop，drop命令最初的设计是使物品栏物品沿某一方向，显然1.14的更新和wiki上的企划不相符。\n示例1 - 挖掘工的梦/drop player @a mine ~ ~-1 ~ minecraft:diamond_pickaxe{Enchantments:[{id:\"minecraft:efficiency\",lvl:90000},{id:\"minecraft:unbreaking\",lvl:90000},{id:\"minecraft:fortune\",lvl:90000}]}复制代码\n\n\n\n\n6.png (94.73 KB, 下载次数: 0)\n\n下载附件\n\n2018-10-25 23:53 上传\n\n\n\n\n示例2 - 海之眷顾/drop entity @a hotbar.0 fish minecraft:gameplay/fishing/treasure ~ ~ ~ mainhand复制代码\n\n\n\n\n7.png (10.84 KB, 下载次数: 0)\n\n下载附件\n\n2018-10-25 23:57 上传\n\n\n\n\n示例3 - 填满宝藏/drop block ~ ~ ~ distribute award minecraft:chests/jungle_temple复制代码\n\n\n\n\n8.png (3.37 KB, 下载次数: 0)\n\n下载附件\n\n2018-10-25 23:59 上传\n\n\n\n\n[groupid=546]Command Block Logic[/groupid]",
    "replies": [
        {
            "author": "chyx",
            "timestamp": 1540484400,
            "txt_content": " 本帖最后由 chyx 于 2018-10-26 01:43 编辑 \n\n我试着补充几点\n1 似乎/drop <target> mine [x] [y] [z] [tool|offhand|mainhand]\n在使用手（而不是一个物品）时 必须由一位实体来执行\n\n2 \"minecraft:blocks/acacia_door\"无法使用是否是因为这个loottable里对方块的状态进行了判断（只有下半截掉落）\n指令执行时没有传入相关信息？\n确认了 使用\ndrop world ~ ~ ~ mine ~ ~1 ~ minecraft:diamond_axe复制代码指令后确实产生了物品 （门放在cb上 ~ ~1 ~为门的下半截）\n而且其输出为\n[00:20:00] Dropped 1 * [Acacia Door] from loot table minecraft:blocks/acacia_door复制代码确实是这个loottable产生的\n可见此处无BUG\n\n3 wiki上的企划/drop疑似agent的指令\n这个是教育版里用于教学编程的小机器人 可以执行学生写的简单动作 比如前进 转身等\ndrop是agent页面里列出的指令之一\nhttps://minecraft.gamepedia.com/Commands/drop里也提到了agent\n这样正好吻合了\n所以说只是撞指令了 \n4 经过询问 查阅等一系列操作后 我确认了钓鱼指令里确实需要一个坐标。\n这个版本的默认数据包里 钓鱼的垃圾会受biome的影响了。\n\n        {\n          \"type\": \"minecraft:item\",\n          \"conditions\": [\n            {\n              \"condition\": \"minecraft:alternative\",\n              \"terms\": [\n                {\n                  \"condition\": \"minecraft:location_check\",\n                  \"predicate\": {\n                    \"biome\": \"minecraft:jungle\"\n                  }\n                },\n                {\n                  \"condition\": \"minecraft:location_check\",\n                  \"predicate\": {\n                    \"biome\": \"minecraft:jungle_hills\"\n                  }\n                },\n                {\n                  \"condition\": \"minecraft:location_check\",\n                  \"predicate\": {\n                    \"biome\": \"minecraft:jungle_edge\"\n                  }\n                },\n                {\n                  \"condition\": \"minecraft:location_check\",\n                  \"predicate\": {\n                    \"biome\": \"minecraft:bamboo_jungle\"\n                  }\n                },\n                {\n                  \"condition\": \"minecraft:location_check\",\n                  \"predicate\": {\n                    \"biome\": \"minecraft:modified_jungle\"\n                  }\n                },\n                {\n                  \"condition\": \"minecraft:location_check\",\n                  \"predicate\": {\n                    \"biome\": \"minecraft:modified_jungle_edge\"\n                  }\n                },\n                {\n                  \"condition\": \"minecraft:location_check\",\n                  \"predicate\": {\n                    \"biome\": \"minecraft:bamboo_jungle_hills\"\n                  }\n                }\n              ]\n            }\n          ],\n          \"weight\": 10,\n          \"name\": \"minecraft:bamboo\"\n        }\n复制代码节选自junk.json\n里面要求必须是竹林或丛林里才能钓鱼得到竹子。\n因此确实需要一个钓鱼的坐标\n至于这个坐标到底是鱼漂的位置还是人的位置，我询问的结果是模拟钓鱼时的水方块的位置\n我还没有验证"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1540513320,
            "txt_content": "award应该是用进度的reward的loot吧？"
        }
    ]
}