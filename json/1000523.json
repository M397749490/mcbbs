{
    "title": "[图文教程] 萌新服主从0开高版本纯净插件服教程 & 基础插件、权限教程",
    "author": "in77",
    "replyCount": 10,
    "timestamp": 1585402440,
    "txt_content": " 本帖最后由 in77 于 2020-3-29 10:20 编辑 \n\n*写在最前面的话*本教程假定阅读者拥有一部分电脑知识且看得懂部分和MC有关的英文看不懂英文? 你可以先看本文英文的中文解释 (临时抱佛脚)是的, 我无聊到当你的英文老师Server = 服务器Client = 客户端Network = 网络CPU = 中央处理器RAM = 物理内存JVM = Java虚拟机Path = 指文件路径Patch = 补丁(在原本的基础上加东西)Vanilla = 指纯净的Library(单数) Libraries(复数) = 指资源(依赖)库Load = 加载Download = 下载Build = 建造 或 构建Runtime = 运行pause = 暂停Info = 信息Warn = 经过Error = 错误Fatal = 致命的(错误)Failed = 失败了的Done = 完成Help = 帮助Config = 配置Banned (Ban的过去式) = 被禁止(封禁)的Command = 指令Enable = 启用Disable = 禁用Icon = 图标Permission (通常缩写为Perm) = 权限Cache = 缓存Version = 版本List = 列表Whitelist = 白名单Threshold = 限制 (阀值)Synchronous = Sync = 同步 (代码运行在主线程)Asynchronous = Async = 异步 (代码运行在分线程)\n\n\n本教程主要面向想使用VPS、独立机、或家用主机, 使用Windows系统想开高版本纯净插件服务器 (1.13.x以上) 的萌新服主由于BBS没有关于这类需求且较全面的帖子, 所以我打算开新坑以后可能会出Catserver之类模组核心的开服教程 (咕咕咕)它会教你如何 下载、构建服务器核心, 开服, 弄一些基本插件, 以及设置权限这个教程并不是最简单的教程，但是我会指出不少其他教程中所没有的细节提供我对开服的个人见解，如果有错误还请大佬指出\n\n\n本帖内容严禁转载！\n\n\n本帖中示例主机的操作系统为 Windows Server 2019 (版本号 1809) 中文版系统不同版本的Windows中的部分细节可能与本教程中的有所不同, 但都大同小异\n\n\n*第一章 开服前的准备*\n0. 一台性能足够的电脑和网络\n确保你有64位的CPU和系统 (32位玩MC都卡，想开服还是洗洗睡了吧)\n开单端大服务器的CPU更看重高主频，开群组服务器的CPU更看重多核心数\n确保你的服务器有至少4GB的RAM (建议6GB或更高)\n\n对于网络，理想情况下5Mbps的上行能带10-20人，以此类推\n而局域网开服的服主一般不用管这个（毕竟局域网内的速度远大于5Mbps）\n\n1. 64位的Java8\nJava8以下的版本自从1.12.x已经不被支持了, 同时绝大部分插件对Java8的兼容性最好\n对于普通开服的服主，请使用Oracle JRE 8（最普通的Java)\n*个人强烈不建议萌新服主使用OpenJ9之类的优化方案, 也不推荐使用Java9或更高的版本\n\n2. 一个好用的文本编辑器\n一个好用的文本编辑器会让你的开服之路更好 (雾\n至少它给你带来的编辑体验会远比蹩脚的记事本更好\n个人推荐VS Code和NotePad++两款文本编辑器\n\n\n\n*第二章 选择服务端*\n 对于想开纯净服的服主, 个人建议使用PaperSpigot核心\n 为什么？PaperSpigot服务端是从Spigot优化而来, 相比Spigot有更好的优化和自定义选项\n对于各种服务端的对比, 你可以参考bbs其他dalao的帖子 \n\n*第三章 下载、构建服务端*\n选好了服务端, 接下来就是下载了\n不同的服务端有不同的下载/构建方法, 这里提供 Paper 核心的下载方法\n方法1: 自己在Paper官网下载并Patch服务端\nPaper的官网提供仍在更新的版本的下载 (截止发帖是1.15.2)如果你要下载最新版, 请前往 https://papermc.io/downloads你会看到这样的界面:\n\n\n\n\nScreenshot 2020-03-28 at 22.08.40.png (89.8 KB, 下载次数: 3)\n\n下载附件\n\n2020-3-28 22:09 上传\n\n\n\n\n选择下载最新(最上面) 的版本即可\n*下载Paper老版本的方法*\n如果你要下载Paper的老版本, 比如1.14.4、1.13.2等你就需要去Paper的Jenkins构建站了 https://papermc.io/ci/\n1. 打开网址, 你会看到这样的界面:\n\n\n\n\nScreenshot 2020-03-28 at 22.11.44.png (87.56 KB, 下载次数: 5)\n\n下载附件\n\n2020-3-28 22:12 上传\n\n\n\n\n\n\n2. 点击你需要的版本 (这里以1.14.4为例)\n\n\n\n\nScreenshot 2020-03-28 at 22.12.56.png (31.13 KB, 下载次数: 3)\n\n下载附件\n\n2020-3-28 22:13 上传\n\n\n\n\n\n\n3.点这里下载最新构建:\n\n\n\n\nScreenshot 2020-03-28 at 22.16.23.png (271.33 KB, 下载次数: 3)\n\n下载附件\n\n2020-3-28 22:17 上传\n\n\n\n\n请注意: 从Paper官网或Jenkins下载来的并不是可以直接开服的核心, 你得手动制作可以开服的核心\n步骤如下:\n1. 找到你下载下来的文件位置（别告诉我你找不到了）\n\n\n\n\nfile_1585405365000.jpg (188.17 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-28 22:22 上传\n\n\n\n\n\n\n2. Patch纯净服务端:\n你可以用最简单的方法: 双击打开下载下来的.jar文件, 让它自动下载并Patch原版服务端\n下载需要时间，请耐心等待 (但这个下载速度很迷, 有时候很快, 有时候和蜗牛一样)\n\n当出现eula.txt等文件时, 代表已经Patch好了.\nPatch好的核心位于cache文件夹里, 名字叫做 patched_<MC版本>.jar\n\n\n\n\nfile_1585405634000.jpg (309.31 KB, 下载次数: 3)\n\n下载附件\n\n2020-3-28 22:27 上传\n\n\n\n\n\n\n3.把这个文件移到一个单独的文件夹 (当然你要就地使用也可以，这个步骤只是推荐)\n然后请移步第四章\n\n*使用命令行构建的方法*\n1.打开CMD或PowerShell并定向到.jar文件所在的目录\nWindows10可以直接点窗口上的 文件 - 打开 Windows PowerShell(R)\n\n2. 使用以下命令:\njava -jar <下载下来的Jar文件名>.jar复制代码如果使用正确的话CMD(或PowerShell)窗口出现以下字样:\nDownloading vanilla jar...复制代码代表其开始下载原版服务端 (大约35MB左右)\n\n3. 下载完成后将会自动开始Patch原本服务端\n完成后的命令行界面应该类似是这样的 (示例)\nC:\\Users\\bakamoe\\Downloads> java -jar paperclip-146.jar\nDownloading vanilla jar...\nPatching vanilla jar...\nSystem Info: Java 1.8 (Java HotSpot(TM) 64-Bit Server VM 25.231-b11) Host: Windows Server 2019 10.0 (amd64)\nLoading libraries, please wait...\n[01:49:48 ERROR]: Failed to load properties from file: server.properties\n[01:49:49 WARN]: Failed to load eula.txt\n[01:49:49 INFO]: You need to agree to the EULA in order to run the server. Go to eula.txt for more info.\nC:\\Users\\bakamoe\\Downloads>复制代码然后请将cache文件夹中的 patched_<MC版本>.jar 移动到一个单独的文件夹\n\n\n方法2: 从第三方构建站下载\n注意: 构建站的版本有时不是最新发布的构建版本\n请自行确认从第三方构建站下载的核心是否没有问题\n我个人推荐的构建站:\nYive's Mirror https://yivesmirror.com/\nSakura's Mirror https://mirror.tcotp.cn/\n\n\n*第四章 第一次开服*\n当你准备好了核心，接下来就是激动人心的第一次开服了\n第1步: 创建一个开服脚本\n我个人推荐使用命令行 (CMD) 开服 而不是用第三方开服器开服\n由于是第一次开服, 所以这里会先教导你写一个基础开服脚本:\n首先在服务端核心所在的文件夹创建一个文本文件, 并把文本文件的扩展名改为 start.cmd (或者任何一个你喜欢的名字)\n然后用文本编辑器打开, 加入以下内容:@echo off\nchcp 65001\njava -XX:+AggressiveOpts -XX:+UseCompressedOops -Dfile.encoding=UTF-8 -Dcom.mojang.eula.agree=true -Xmx<分配的内存> -Xms<分配的内存> -jar <核心文件名>.jar nogui\npause复制代码\n*对每行命令以及Java启动参数的解释*@echo off 用于关闭命令的回显, 换句话说就是更好看一点chcp 65001 是将CMD的代码页切换为UTF-8, 防止中文乱码。配合 -Dfile.encoding=UTF-8 参数, 使得服务端运行于UTF-8编码上, 杜绝一堆令人头疼的编码问题。第三行的java命令 是调用java虚拟机启动服务端, 请把 -Xmx 和 -Xms 设置为你所要分配给服务端的内存 (强烈建议不要低于2GB)例如你要分配4GB内存给服务端, 则为 -Xmx4G -Xms4G 或 -Xmx4096M -Xms4096M注意: Xmx和Xms建议强烈设置相同值, 内存数值单位也可以为MB、KB但数字不能有小数点: 例如 -Xmx3.5G 是错误的, Java启动会失败。关于里面的Java参数:\n-XX:+AggressiveOpts 尽可能的使用更多对性能有帮助的优化功能-XX:+UseCompressedOops 压缩指针用于减少一定的内存占用-Dfile.encoding=UTF-8 强制服务端运行于UTF-8-Dcom.mojang.eula.agree=true 命令行同意EULA (代表你已经同意了EULA) 就不用改EULA.txt文件了\n关于后面的服务端参数:\nnogui 使服务端运行时不出现GUI界面（强烈推荐，GUI功能很蹩脚而且还很占性能）\npause 用于在服务端停止之后暂停CMD, 便于查看关闭后信息或崩溃信息。\n\n请将这个脚本以UTF-8编码格式保存\n\n*不同编辑器的保存方法*\nWindows记事本:文件 - 另存为 - 选择UTF-8编码 -保存\n\n\n\n\nfile_1585420597000.jpg (237.22 KB, 下载次数: 6)\n\n下载附件\n\n2020-3-29 02:36 上传\n\n\n\n\n\n\nVS Code:\n\n\n\n\nfile_1585420919000.jpg (241.33 KB, 下载次数: 6)\n\n下载附件\n\n2020-3-29 02:42 上传\n\n\n\n\n\n\nNotePad++:\n\n\n\n\nfile_1585421210000.jpg (259.17 KB, 下载次数: 3)\n\n下载附件\n\n2020-3-29 02:46 上传\n\n\n\n\n\n\n\n第2步: 运行刚刚保存的脚本\n双击打开start.cmd文件 (刚刚创建的脚本文件)注意: 第一次启动时需要生成世界, 大约需要20秒-1分钟左右\n\n\n\n\nfile_1585421657000.jpg (343.03 KB, 下载次数: 9)\n\n下载附件\n\n2020-3-29 02:54 上传\n\n\n\n\n\n当你看到 Done (29.399s)! For help, type \"help\" 时, 代表你服务器的第一次启动成功了.\n请输入 stop 关闭服务器, 不要在这个时候进服务器建主城什么的, 那是第八章的事情, 请先移步第五章。\n\n*常见的启动失败情况*\n内存不足(设置的内存过大)\n\n如果你看到如下错误提示:\nError occurred during initialization of VM\nCould not reserve enough space for object heap复制代码解决方法: 把-Xmx -Xms设置的内存改成比你电脑空闲内存低的一个数值\n\n端口被占用\n\n如果你看到如下错误提示:\n**** FAILED TO BIND TO PORT!\nThe exception was: java.net.BindException: Address already in use: bind复制代码代表MC服务端的端口(25565)已经被其他程序占用了\n注意: 除了MC服务端, 很少有程序会占用 25565 端口, 如果有人和你共用一个主机(或VPS)\n则这个端口很有可能是被他的服务器所使用了, 这种情况请和他协商或使用另一个端口\n\n解决方案1: 换一个端口\n打开 server.properties 文件, 找到这一行:\nserver-port=25565复制代码把25565改成其他未被占用的端口, 例如25570\n\n解决方案2: 终止占用端口的进程\n使用以下CMD命令\nnetstat -aon|findstr \"25565\"复制代码你应该会得到类似这样的信息\nC:\\Users\\bakamoe>netstat -aon|findstr \"25565\"\n  TCP    0.0.0.0:25565          0.0.0.0:0              LISTENING       16232\n  TCP    127.0.0.1:11890        127.0.0.1:25565        TIME_WAIT       0\n  TCP    127.0.0.1:11891        127.0.0.1:25565        TIME_WAIT       0\n  TCP    192.168.31.76:25565    39.190.235.227:14856   ESTABLISHED     16232\n  TCP    192.168.31.76:25565    120.79.1.160:30460     ESTABLISHED     16232\n  TCP    [::]:25565             [::]:0                 LISTENING       16232复制代码\n其中最后面的一个数字 (不是0那个) 就是占用25565端口的程序的PID (我这里是16232)\n使用命令\ntaskkill -f -pid <占用端口程序的PID>复制代码终止占用端口的程序\n\n更加高端的方法: 每次启动时自动终止占用端口的程序\n在你的start.cmd(启动脚本)的Java命令上方加入如下CMD指令:\nfor /f \"tokens=5\" %%i in ('netstat -aon ^| findstr \":25565\"') do (\n    set n=%%i\n)\ntaskkill /f /pid %n%复制代码更改后的启动脚本应该是这样的:\n@echo off\nchcp 65001\nfor /f \"tokens=5\" %%i in ('netstat -aon ^| findstr \":25565\"') do (\nset n=%%i\n)\ntaskkill /f /pid %n%\njava -XX:+AggressiveOpts -XX:+UseCompressedOops -Dfile.encoding=UTF-8 -Dcom.mojang.eula.agree=true -Xmx<分配的内存> -Xms<分配的内存> -jar <核心文件名>.jar nogui\npause复制代码\n如果遇到了其他自己无法解决的问题, 请寻找他人帮助\n但请记住让别人帮你解决任何问题, 你得附上错误日志或报错信息\nTroubleshooting any problem without the error log is like driving with your eyes closed.\n在没有错误日志的情况下诊断任何问题无异于闭眼开车。\n\n—— Apache 官方文档 Getting Started 篇章\n\n*第五章 修改服务端配置文件*\n第一次启动Paper服务端后, 服务端目录中会出现以下文件\n(以 Paper 1.15.2 构建 146 为例)\n\n\n\n\nfile_1585424899000.jpg (153.19 KB, 下载次数: 8)\n\n下载附件\n\n2020-3-29 03:48 上传\n\n\n\n\n\n*文件列表 (文本)*logs 服务器日志文件plugins 服务器插件world 主世界存档world_nether 下界存档world_the_end 末路之地存档banned-ips.json 保存被封禁的IP信息banned-players.json 保存被封禁的账号信息bukkit.yml bukkit 配置文件commands.yml 配置服务器指令的”快捷方式”eula.txt 最终用户许可协议文件help.yml 配置/help帮助的文件 (一般用不到)ops.json 保存服务器OP信息paper.yml paper 配置文件permissions.yml 权限配置文件 (一般用不到)server.properties 服务器参数 配置文件spigot.yml spigot 配置文件usercache.json 保存最近进服的玩家名和UUIDversion_history.json 记录Paper核心版本历史whitelist.json 保存服务器白名单玩家信息\n*修改服务端配置*此处仅提供我认为要修改的几个重要参数, 至于\"性能优化\"等需求请去看其他dalao的帖子\n注意: 所有配置文件中的 冒号、分号、逗号、括号、引号 等都必须是英文字符如果你要加中文或特殊符号, 需要用\"\" (英文双引号) 扩起来由于使用了全局UTF-8编码, 请确保你所有配置文件(包括插件) 的配置编码都为 UTF-8\n*给萌新的重要提醒*改任何配置, 如果你不懂这个参数所代表的意义, 那么请不要改你不懂什么意义的参数\nserver.properties文件:\nMinecraft WIKI关于本文件的详细说明: https://minecraft-zh.gamepedia.com/Server.properties\ngamemode=survival #服务器游戏模式\ndifficulty=easy #服务器难度\nenable-command-block=false #是否启用命令方块\nmax-players=20 #最大在线玩家数\nview-distance=10 #视野距离\nonline-mode=true #是否启用正版验证复制代码对于想开创造服的服主, 可以把gamemode改为creative服务器难度可以设定为: peaceful (和平) , easy (简单) , normal (普通) , hard (困难)如果你的服务器需要用到命令方块, 可以启用 enable-command-block 参数, 但一般是用不到的人数上限就是你服务器最多能同时在线几个玩家, 小服建议设置10-20, 不过随意设置一个也是可以的, 99999都没关系(当然你带不动)视野距离 (重要) 这个参数定义了玩家的视距,也就是加载的区块范围, 默认为10个区块, 加载更多的区块需要更多的CPU和内存占用,以及更高的带宽。建议的数值是 5-6, 如果人数较多可以使用 4 (请注意: 视距10加载的区块是视距5的4倍)。减小视距可以有效减少CPU,内存和宽带的占用。也能有效提高TPS, 当过低的数值(低于4)可能会影响玩家的体验\nonline-mode (重要) 启用online-mode代表服务器会验证玩家账号, 即玩这个服务器必须要正版账号, 关闭即可让非正版(离线登陆)的玩家进入服务器 (关于各种玩家样子方案请详见本教程后面的章节)motd (服务器介绍) 是玩家客户端的多人游戏服务器列表中显示的服务器信息, 显示于名称下方MOTD 支持样式代码、中文 或 特殊符号。但是除了英文外的文字需要转换为Unicode转义字符, 你可以使用一个Unicode转换器 请注意换行符必须是\\n而不是\\r: http://tool.chinaz.com/Tools/Unicode.aspx。如果MOTD超过59个字符,服务器列表很可能会返回\"通讯错误\"。如果你想给服务器设置一个Icon, 请将你的图片保存PNG格式, 尺寸为64*64像素, 并命名为 server-icon.png 保存在核心所在的目录下。\n\nbukkit.yml 文件:\n\n个人推荐修改的几个参数:\nshutdown-message: Server closed复制代码shutdown-message 是 使用/stop关闭服务器 或 服务器崩溃时 的踢出信息\n建议改为 \"服务器已关闭, 请等待重启\" \"服务器关闭, 如有问题请联系服主QQ: XXXX\" 或者类似的信息 (可以使用§颜色代码,但记得加双引号)\nspawn-limits:\nmonsters: 70\nanimals: 10\nwater-animals: 15\nambient: 15复制代码spawn-limits 是 服务器的实体生成上限\nmonsters: 70 代表 一个人在线可以生成70个怪物 (例如服务器在线2人,则服务器最多生成2*70=140个怪物)\n建议的数值是 monsters为30-50, animals为6-10, water-animals为3, ambient为1-3\n\nspigot.yml 文件:\n\n个人推荐修改的几个参数:\n\nmessages:\nmessages:\n  whitelist: You are not whitelisted on this server!\n  unknown-command: Unknown command. Type \"/help\" for help.\n  server-full: The server is full!\n  outdated-client: Outdated client! Please use {0}\n  outdated-server: Outdated server! I'm still on {0}\n  restart: Server is restarting复制代码同上面的shutdown-message, 可以自行汉化, 可以使用§颜色代码, 但得用\"\"扩起来\nmessages:\n  whitelist: \"你不在白名单中!\"\n  unknown-command: \"§4未知命令!\"\n  server-full: \"服务器已满\"\n  outdated-client: \"请使用 <MC版本> 进入服务器!\"\n  outdated-server: \"请使用 <MC版本> 进入服务器!\"\n  restart: \"服务器重启\"复制代码\nuser-cache-size:\n  user-cache-size: 1000复制代码设定用户缓存的大小(保存用户名和UUID) \n如果你服务器启用了正版验证, 并且玩家较多, 那么可以改大一点, 例如4000\n如果你的服务器没有启用正版验证, 那么请直接设为0, 这个功能没有用处\n\nview-distance:\nview-distance: default复制代码\n设置成和server.properties里设置的相同值即可\n\npaper.yml 文件:\n\n个人推荐修改的几个参数:\n\nMessages:\nmessages:\n  no-permission: '&cI''m sorry, but you do not have permission to perform this command. Please contact the server administrators if you believe that this is in error.'\n  kick:\n    connection-throttle: Connection throttled! Please wait before reconnecting.\n    authentication-servers-down: ''\n    flying-player: Flying is not enabled on this server\n    flying-vehicle: Flying is not enabled on this server复制代码同上, 可以自行汉化, 可以使用§颜色代码, 但得用\"\"扩起来\nmessages:\n  no-permission: \"§4你没有使用该命令的权限.\"\n  kick:\n    connection-throttle: \"连接速度过快,请稍后重新连接服务器.\"\n    authentication-servers-down: \"\"\n    flying-player: \"玩家浮空超时\"复制代码\nkeep-spawn-loaded 和 keep-spawn-loaded-range:\nworld-settings:\n  default:\n    keep-spawn-loaded: true\n    keep-spawn-loaded-range: 10复制代码此参数定义服务器出生点区块是否常驻内存, 设置为false可以减少一定的内存占用和计算量, 关于是否让出生点常驻内存将会在后文说明\nkeep-spawn-loaded-range为加载的范围, 在前一个参数启用时, 数值为10即以出生为中心加载625个区块, 8为441个区块, 6为225个区块, 以此类推\n\nflat-bedrock:\ngenerator-settings:\n  flat-bedrock: false\n复制代码此参数启用后世界生成的基岩将为平平的一层, 即主世界Y=0, 下界Y=0和Y=128 层全是基岩, Y1-5不会生成基岩\n此参数启用后方便玩家挖矿、挖史莱姆区块。 也是强迫症患者的福利\n注意: 启用此参数后生成的区块基岩才是平的, 所以我让你改好参数自己不要去弄地图~\n\nanti-xray:\nanti-xray:\n  enabled: false\n  engine-mode: 1 #假矿模式\n  chunk-edge-mode: 2\n  max-chunk-section-index: 3\n  update-radius: 2\n  hidden-blocks: #隐藏以下方块\n  - gold_ore #金矿石\n  - iron_ore #铁矿石\n  - coal_ore #煤矿石\n  - lapis_ore #青金石矿石\n  - mossy_cobblestone #苔石\n  - obsidian #黑曜石\n  - chest #箱子\n  - diamond_ore #钻石矿石\n  - redstone_ore #红石矿石\n  - clay #粘土\n  - emerald_ore #绿宝石\n  - ender_chest #末影箱\n  replacement-blocks: #替换为\n  - stone #石头\n  - oak_planks #木板复制代码Paper服务端自带的反透视功能, 俗称假矿\nenabled 设置为 true 启用此功能\nengine-mode=1 仅隐藏hidden-blocks里设置的方块\nengine-mode=2 将非矿物也伪装成矿物\nengine-mode=2的效果最好, 但会额外吃性能和宽带, 如果服卡了, 面前出现一堆矿石可能会吓到玩家\n但engine-mode=1无法防御矿追, 具体如何使用请自行决定\n\n本功能是完全Async的, 不用担心对性能的影响 (非常轻微)\n\ncommands.yml 文件:\n\n这个文件是用来配置指令的\"快捷方式\"的\n默认会给你弄个/icanhasbukkit命令作为/ver的快捷方式 (一点都不快捷\n你可以去掉这个命令, 把aliases部分改成和下面的一样即可\naliases: []复制代码\n\n*第六章 玩家验证方案*\n本章节详细介绍以下几种常见的登录验证方法\n1. 正版验证最方便的玩家验证方法, 只要有正版号就能进服务器使用正版验证时, 玩家登陆会与Mojang的验证服务器验证登陆令牌(Access Token), 验证通过可以进入服务器\nserver.properties 中的 online-mode 设置为 true 即可 (默认值)\n主要优点:不需要离线服务器所需要的AuthMe等额外的登陆插件, 只要有正版账号就能进服正版账号每个账号对应一个UUID, 玩家可以在官网随意改游戏名惩罚不良玩家更加方便, 被封禁的玩家改名字也不能进入服务器相对来说玩家素质比离线服务器有一点提高使用离线登陆的压测攻击无法压测你的服务器\n不足:\n如果你的服务器无法连上Mojang的验证服务器, 或者Mojang验证服务器出问题, 那么所有玩家将会无法进入服务器由于有Google验证码等, 国内购买正版账号较为困难, 国内也有很大一部分玩家没有正版账号, 他们将不能玩你的服务器\n\n2. 离线模式\n可以让没有正版的玩家也进入服务器, 可以使用任意玩家名进入服务器\n使用离线模式时, 玩家登陆不与验证服务器验证账号, 没有登陆插件的情况下, 玩家可以用任意账号进入服务器\n\nserver.properties 中的 online-mode 修改为 false 即可\n\n注意: 离线登陆的账户UUID是根据用户名生成的, 如果离线服务器不加AuthMe等登陆插件, 那么任何人都可以登陆任意一个账号\n\n主要优点:玩家可以用任意用户名进入服务器, 通过配置登陆插件可以做到中文等其他语言的字符没有正版账号的玩家也可以进入服务器不需要连接验证服务器所以不存在\"Mojang服务器无法连接\"的问题\n不足:\n没有登陆插件的话玩家可以用任何账号进入你的服务器, 包括你自己的OP账号换用户名意味着换账号, 如果玩家想换用户名, 那么迁移数据是一件很麻烦的事情恶意破坏者(熊孩子)如果被封禁账号可以用其他用户名进入你的服务器继续破坏相较于正版验证, 你服务器的平均玩家素质可能较低没有保护插件的情况下, 你的服务器无法防御压测攻击\n\n离线服务器通过配合数据库、其他插件, 也可以拥有网页邮箱验证、防止压测、有效封禁恶意破坏者\n具体实现请搜索其他dalao关于此类的帖子\n3. Authlib-Injector开源的游戏外登录规范, 把Mojang的正版登录API劫持成自己的, 从而实现游戏外登录。源码、下载、Wiki (GitHub): https://github.com/yushijinhun/authlib-injector\n相较于前两种, 不建议萌新服主使用\n主要优点:架设自己的账户服务器, 等于 “你自己的‘正版’账号服务器”和正版一样, 每个账户有一个不变的UUID玩家可以使用你自己架设的皮肤库封禁恶意破坏者更方便, 因为你可以阻止其注册新账号和正版验证一样可以防御压测攻击\n不足:\n你需要会使用Apache、MySQL等工具验证服务器需要额外占用你的服务器性能, 或者你得再准备一台服务器用于Authlib-Injector需要SSL加密证书, 这可能要额外付费, 国内使用443等端口需要备案你需要花费额外的时间维护、管理你的验证服务器你的玩家可能在注册、登陆方面遇到问题, 你得花时间帮他们解决问题\n\nAuthlib-Injector在mcbbs内的介绍贴 https://www.mcbbs.net/thread-772051-1-1.html\n也有类似第三方提供类似于Authlib-Injector的验证方案, 例如 \"统一通行证\"\n\n\n*第七章 添加插件*\n这一部分的教程将会介绍我建议一个生存服务器要添加的插件\n本章提供免费插件的下载链接, 对于付费插件请自行购买加入插件后你需要多次打开并重启你的服务端使插件自行创建配置文件、下载依赖库等\n对新手服主推荐的插件列表还有别的好插件欢迎补充插件的汉化、使用介绍请自行在bbs查找\nAPI、支持库 插件:ProtocolLib https://www.spigotmc.org/resources/protocollib.1997/下载最新版即可\nPlaceholderAPI https://www.spigotmc.org/resources/placeholderapi.6245/下载最新版即可\nVault https://www.spigotmc.org/resources/vault.34315/下载最新版即可\n\n登陆插件 (如果是正版验证服务器则不需要):\nAuthMe https://ci.codemc.io/job/AuthMe/job/AuthMeReloaded/下载最新构建即可汉化方法: 请把config.yml里语言的值从 en 或其他值改为 zhch\n\n权限插件 (二选一):GroupManager https://www.spigotmc.org/resources/groupmanager-1-7-1-15.40615/相比其他权限插件, 功能虽不是最多的, 但配置更简单, 萌新上手更为容易\nLuckPerms \n更加全面的功能, 更多的数据库支持, fancy的网页权限编辑器, 但对比GM来说萌新上手可能没那么方便\n\n基础插件:EssentialsX 套件 https://www.spigotmc.org/resources/essentialsx.9089/下载后请删掉其中的GeoIP和XMPP两个附属, 他们对你来说应该没什么用1.13.x 服务端 请使用 2.16.x 插件, 1.14.x 和 1.15.x 服务端 请使用 2.17.x 插件ESS一般会自动更改为你的系统语言, 如果仍然是英语, 请在Config.yml里找到这一部分\n# Set the locale for all messages.\n# If you don't set this, the default locale of the server will be used.\n# For example, to set language to English, set locale to en, to use the file \"messages_en.properties\".\n# Don't forget to remove the # in front of the line.\n# For more information, visit http://wiki.ess3.net/wiki/Locale\n#locale: en复制代码将 #locale: en 改为locale: zh复制代码\n\n世界管理:\nMultiverse-Core https://ci.onarandombox.com/job/Multiverse-Core/下载最新的 Build 777 即可\nWorldEdit https://dev.bukkit.org/projects/worldedit/下载最新的 7.1.0 即可\nWorldGuard https://dev.bukkit.org/projects/worldguard/\n1.14.x 和 1.15.x 请使用 7.0.2, 1.13.x 请使用 7.0.0\n\n玩家财产保护:CoreProtect https://www.spigotmc.org/resources/coreprotect.8631/日志、回滚插件1.13.x 请使用 2.16.3, 1.14.x 请使用 2.17.5, 1.15.x 请使用 2.18.2\nLWC https://www.spigotmc.org/resources/modern-lwc-continuation-of-lwc.2162/锁箱插件下载最新版本即可汉化方法: 请将 core.yml 里的 locale: 参数值改为 cn\nResidence (付费插件, 9.99EUR) https://www.spigotmc.org/resources/residence-1-7-10-up-to-1-15.11480/\n使用最新版本即可你可以通过这条链接免费下载相同的最新版本 https://zrips.net/Residence/ 请有条件的服主付费购买支持作者汉化方法: 将config.yml里内language参数值改为Chinese\n\n修复原版BUGIllegal Stack https://www.spigotmc.org/resources/dupe-fixes-illegal-stack-remover.44411/阻止活塞刷铁轨、地毯, 0-tick活塞, 阻止利用大部分原版的漏洞/特性, 删掉刷出来的无效附魔物品等如果启用了修复非法附魔, 那么和Residence中/res set的GUI附魔效果会有冲突, 会尝试删掉/res set里的附魔如果你服务器是做出来和你基友联机用的, 这个插件就没啥用了\n\n经济、玩家贸易:CrazyAuctions https://www.spigotmc.org/resources/crazy-auctions.25219/全球市场插件, 下载最新版即可\n\n\n*第八章 进服 & 设置权限*\n到这里你应该改好你的服务器配置同时加了插件了\n那么请先干2件事1. 关闭你的MC服务器 (如果开着的话)2.删掉第一次开服时候生成的地图\n改了配置和添加插件后强烈建议删掉第一次开服自动生成的地图毕竟你可能改过世界生成参数了对吧, 比如开了平滑基岩反正按照本教程你应该还没用客户端进去过服务器\n完成后请重启服务端*通过IP进入服务器*\n如果是本机同时开服务端和客户端, 那么请使用环回IPlocalhost如果改过端口, 请在后面加上 :<你服务器的端口>\n其他局域网联机、内网穿透的方案请自己在论坛里找, 教程一大堆使用远程服务器的请自己设置防火墙等, 或咨询你的服务器提供商\n*在完成权限配置前请不要公开宣传服务器*\n*设置权限*\n这个我这里就不写了, 自己看插件百科之类的吧在列一个常用权限列表我手要断了个人建议禁用的两个权限节点:minecraft.* (原版所有命令, 比如/minecraft:me, 反正有基础插件, 原版命令玩家也用不到了)bukkit.command.* (/ver /pl等命令的权限, 你应该不会想让你的玩家得到你的插件列表的)\nGM插件使用教程 http://mineplugin.org/GroupManagerLP插件使用教程 https://www.mcbbs.net/thread-714807-1-1.html\nEssentials插件的介绍和权限节点 http://mineplugin.org/Essentials其余插件请从SpigotMC页面里找到Permission部分, 或查找论坛的搬运贴, 自行添加\n*在启动脚本中加入自动重启*MC服务器难免会Crash, 或者有时候你会要重启更新插件当你完成了大部分配置之后, 你可以把你的启动脚本改成这样@echo off\nchcp 65001\n:start\nfor /f \"tokens=5\" %%i in ('netstat -aon ^| findstr \":25565\"') do (\nset n=%%i\n)\ntaskkill /f /pid %n%\njava -XX:+AggressiveOpts -XX:+UseCompressedOops -Dfile.encoding=UTF-8 -Dcom.mojang.eula.agree=true -Xmx<分配的内存> -Xms<分配的内存> -jar <核心文件名>.jar nogui\ntimeout /t 3\ngoto start复制代码服务端关闭后, 会自动回到 :start 的地方继续往下执行, 从而做到服务器关闭后自动重启timeout /t 3 是在服务器关闭后等待3秒, 如果你想停止脚本, 请在此时关闭CMD窗口\n\n\n*第九章 服务器日常管理*\n当你配置好你的服务器插件后, 你就可以公开宣传你的服务器了做服务器介绍的时候尽量多加点新奇的点子可能会吸引更多玩家\n请注意: 千万不要给你不熟悉的人管理员权限如果那个人是想骗到权限来恶意破坏呢？\n*反作弊*在这里在特别提一下关于是否要使用反作弊如果是基友联机的服务器、开白名单自己人玩玩的, 那么反作弊没有必要, 只会降低你的游戏体验这里强烈建议所有公开服务器(只要是谁都可以来玩的服务器)加反作弊插件对于你自己熟悉的朋友, 可以给他们反作弊的bypass权限(不检测这个玩家), 从而不让他被反作弊的可能存在的误报影响到SpigotMC上1.13-1.15的反作弊列表1.15.x https://www.spigotmc.org/wiki/anti-cheat-list-bukkit-and-spigot-1-15-x/1.14.x https://www.spigotmc.org/wiki/anti-cheat-list-bukkit-and-spigot-1-14-x/1.13.x https://www.spigotmc.org/wiki/anti-cheat-list-bukkit-and-spigot-1-14-x/\n\n*第十章 对MC1.14和1.15性能优化的建议*\nBBS里对于修改服务端配置优化服务器的教程很多我这里对1.14之后令人窒息的 Chunk I/O 和 生物AI 提供一些建议如果是开基友联机服, 忽略这些建议吧, 反正服卡了直接锤你基友就好了\n1. 使用Essentials或者WorldGuard等插件禁止 火焰蔓延、爆炸破坏 等物理现象, 虽然你可能装了日志插件之类的保护插件, 但是对于TNT破坏之类的回滚常常会有一点问题, 比如栅栏之类的方块不相连, 甚至回滚的时候把点燃的TNT一起回滚了, 然后再炸一次 2. 视野距离强烈建议不要超过6, 不然多几个玩家你服务器TPS就跳水3. 关掉出生点常驻区块, 或者把世界出生点全部用RES或者WorldGuard插件圈起来, 除非你想让玩家在常加载区建造红石机器之类的4. /tpa /back等传送指令设置一点冷却时间5. 少让玩家高速跑图 或者随机传送(如果有的话)6. 禁止密集养殖村民, 建议一个区块最多6只, 村民密集起来的话你就等着看Can't Keep up!刷屏吧 (反正我的i7-4960X是承受不住)7. 主世界限制、或干脆禁止僵尸猪人生成, 猪人塔的猪人密集起来和村民一样也足够你服务端受的\n\n就写到这里吧\n\n\nCan't keep up! Is the server overloaded? Running 50000ms or 1000 ticks behind\n\n",
    "replies": [
        {
            "author": "in77",
            "timestamp": 1585437660,
            "txt_content": "占楼备用 "
        },
        {
            "author": "huyueww123",
            "timestamp": 1585462980,
            "txt_content": "腐竹也太细了吧"
        },
        {
            "author": "TheZihanGu.",
            "timestamp": 1585466940,
            "txt_content": "写得很详细哎，i了i了，支持下"
        },
        {
            "author": "Unnamed.",
            "timestamp": 1585467780,
            "txt_content": "这么细节的吗,i了i了"
        },
        {
            "author": "xX7912Xx",
            "timestamp": 1585478160,
            "txt_content": "凌晨制作？辛苦了"
        },
        {
            "author": "BigDaddy1",
            "timestamp": 1586705940,
            "txt_content": "楼主牛逼"
        },
        {
            "author": "小蜗.",
            "timestamp": 1586708700,
            "txt_content": "自己家的电脑开着稳定吗qwq"
        },
        {
            "author": "TheSheep_y",
            "timestamp": 1586784600,
            "txt_content": "i了i了。没想到服主还发了教程，留个id：TheSuzh_524"
        },
        {
            "author": "hzdl",
            "timestamp": 1587445500,
            "txt_content": "i了i了"
        },
        {
            "author": "jiaowolixia",
            "timestamp": 1587662040,
            "txt_content": "辛苦楼主了 i了 i了"
        }
    ]
}