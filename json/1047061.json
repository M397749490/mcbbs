{
    "title": "循环型命令方块与卡顿",
    "author": "Minecraftby172",
    "replyCount": 3,
    "timestamp": 1589625120,
    "txt_content": " 本帖最后由 Minecraftby172 于 2020-5-16 18:32 编辑 \n\n版本1.9\n想知道激活状态下的循环型命令方块在执行命令不成功的情况下会否引起游戏卡顿\n就比如/execute @a[tag=a] ~ ~ ~ /say 1，如果没有满足条件的玩家存在，这时候控制台界面中是没有输出的\n但是毕竟涉及到检测，如果做地图诸如此类的cb过多的话地图会不会很卡？\n\n\n还有一个问题\n如果为了保持常加载把一个地图的所有命令方块集中到出生点区块[仅java版]，那么游戏在运行过程中会不会很卡（包含很多上述激活，循环检测但不执行的cb），还是只是在开始加载世界时会比较缓慢？\n或者，还有其他保持区块常加载的方法？（就我所知还可以/tp盔甲架，但可能同样涉及卡顿）\n\n至少我觉得循环命令方块机制肯定比1.8红石块高频要优化很多......但是如果地图做到后面cb很多的话不太放心\n\n\n以及\n如果站内有和命令方块优化相关的帖子，也可以回复链接\n",
    "replies": [
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1589625120,
            "txt_content": "execute @a[tag=a] ~ ~ ~ /say 1\n如果只是玩家 玩家很少 那么不会卡  (基础运算X  （相对于所有实体检测\n\n\n集中到出生点区块 我觉得比分散加载好\n因为分散加载命令方块 区块加载也多了\n而且集中在一个区块 文件也存在一起  没有那么多零散文件（就是这个区块炸了全部没莉（\n\n\n\n用命令方块担心什么优化这玩意应该是mojang考虑的事（爆论"
        },
        {
            "author": "もぺもぺ",
            "timestamp": 1589625240,
            "txt_content": " 本帖最后由 もぺもぺ 于 2020-5-16 18:35 编辑 \n\n即使执行不成功，它依然是遍历了所有的玩家，判断条件。多了当然会卡。\n\n如果为了保持常加载把一个地图的所有命令方块集中到出生点区块[仅java版]，那么游戏在运行过程中会不会很卡（包含很多上述激活，循环检测但不执行的cb），还是只是在开始加载世界时会比较缓慢？\n或者，还有其他保持区块常加载的方法？（就我所知还可以/tp盔甲架，但可能同样涉及卡顿）\n其他办法不会比这个办法好的。你可以把某些区域的命令方块放到某些区域，这样区块被卸载了，命令方块也就不会运作。\n\n\n另外，为什么不去用 1.13+ 的数据包呢\n\n具体细节见这 https://www.mcbbs.net/thread-891687-1-1.html"
        },
        {
            "author": "天佑酱",
            "timestamp": 1589630760,
            "txt_content": "/execute @a[tag=a] ~ ~ ~ /say 1，\n卡，有能有激活状态的10%以上的占用。\n@a其实还可以，@e[tag=xxx]更卡。@a是遍历所有玩家，@e是遍历所有未卸载区块内的所有实体。\n如果为了保持常加载把一个地图的所有命令方块集中到出生点区块[仅java版]，那么游戏在运行过程中会不会很卡\n卡。出生点区块内的命令方块就相当于你旁边一直加载一个装满命令方块的很多区块。出生点区块附近不会进行任何算法优化，他的加载等级和玩家正站在的区块是一样的。\n或者，还有其他保持区块常加载的方法？（就我所知还可以/tp盔甲架，但可能同样涉及卡顿）\n没有，出生点区块已经是存放命令方块组的最好的地方了。tp盔甲架比出生点区块更卡。\n\n但也不是不能优化\n比如分区加载特定区域内的命令，比如只在A区域内执行的命令方块就不建议在世界出生点放置，在A区域执行即可，这样玩家不在A区时该命令方块会卸载，不占用任何内存。\n选择器可以通过多加参数来降低卡顿，比如你想寻找在B区域附近的一个有SMFXtag的僵尸，选择器不要写@e[tag=SMFX],写成@e[x=,y=,z=,r=,type=zombie,tag=SMFX]能降低很大的占用。\n另一个很有效的优化是降低激活频率，如果不是很必要，可以把循环型命令方块设成0.2s、0.5s触发一次，这样能很大减少占用。前者1s要检测20次，后者每秒仅检测5、2次，内存占用无疑很少。\n更多内容可以查看此帖子及下方的评论https://www.mcbbs.net/thread-994402-1-1.html\n\n\n果然写太多错过最佳了\n"
        }
    ]
}