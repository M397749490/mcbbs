{
    "title": "[原创][管理]AshManPro——功能丰富的实体清理插件[全版本]",
    "author": "Kenneth_z",
    "replyCount": 35,
    "timestamp": 1579701840,
    "txt_content": " 本帖最后由 Kenneth_z 于 2020-10-23 11:30 编辑 \n\nAshManPro\n\nAshManPro是一个清理服务器多余实体的插件\n\n\n\n\n\n\nfile_1579700583000.jpg (54.1 KB, 下载次数: 6)\n\n下载附件\n\n2020-1-22 21:43 上传\n\n\n\n\n\n\n\n下载：\n\nhttps://github.com/Server-Founder/AshManPro/releases\n点击帖子上方的下载地址将会导向github进行下载，如果您不能登陆github，您可以在这里下载\n\n\n\nAshManPro.jar\n(29.11 KB, 下载次数: 374, 售价: 5 粒金粒)\n\n\n\n2020-10-23 11:30 上传\n点击文件名下载附件\n\n售价: 5 粒金粒\t [记录]\n\n [购买]\n\n\n\n\n\n\n\nAPI：\n添加不清理的实体AshManPro.addExemptedEntity(long eid);\nAshManPro.addExemptedEntity(Entity entity);\nAshManPro.addExemptedEntity(long eid,Entity entity);复制代码删除不清理的实体AshManPro.removeExemptedEntity(long eid);\nAshManPro.removeExemptedEntity(Entity entity);复制代码\n\n命令：\n\n/am force | 强制清理所有实体/am help | 查看插件帮助\n\n\n\n功能：\n\n3种清理触发器与清理执行器可设置区块卸载时可自动清理在区块中的实体可设置不清理带NBT的物品可通过API设置不清理的实体可以使用配置文件设定清理排外的玩家或世界清理前倒计时，可以有效防止误伤\n\n\n\n配置文件：\n\n# ____                           ____\n#|  _ \\ _ __ ___  __ _ _ __ ___ / ___|  ___ _ ____   _____ _ __\n#| | | | '__/ _ \\/ _` | '_ ` _ \\\\___ \\ / _ \\ '__\\ \\ / / _ \\ '__|\n#| |_| | | |  __/ (_| | | | | | |___) |  __/ |   \\ V /  __/ |\n#|____/|_|  \\___|\\__,_|_| |_| |_|____/ \\___|_|    \\_/ \\___|_|\n#    _        _     __  __             ____\n#   / \\   ___| |__ |  \\/  | __ _ _ __ |  _ \\ _ __ ___\n#  / _ \\ / __| '_ \\| |\\/| |/ _` | '_ \\| |_) | '__/ _ \\\n# / ___ \\\\__ \\ | | | |  | | (_| | | | |  __/| | | (_) |\n#/_/   \\_\\___/_| |_|_|  |_|\\__,_|_| |_|_|   |_|  \\___/\n\n\n# 清理前的提示信息\nbeforehand-message:\n  20: 将在20秒后清理所有实体和物品\n  10: 将在10秒后清理所有实体和物品\n# {0}为清理的物品数量,{1}为清理的实体数量\nterminate-message: 本次清理一共清理了{0}个物品,{1}个实体\n# 清理方式\neliminate-type:\n  \"0\": # 清理所有世界\n    enable: true\n    # 以下世界将不会被清理\n    eliminate-level-except: [\"example world\"]\n  \"1\": # 仅清理有玩家的世界\n    enable: false\n    # 清理玩家大于阈值的世界\n    threshold: 1\n    # 以下世界将不会被清理\n    eliminate-level-except: [\"example world\"]\n  \"2\": # 清理玩家附近的实体或物品\n    enable: false\n    # X轴的偏移\n    offsetX: 16\n    # Y轴的偏移\n    offsetY: 5\n    # Z轴的偏移\n    offsetZ: 16\n    # 以下玩家将会不会被清理附近的实体或物品\n    eliminate-player-except: [\"pn1\"]\n# 开启清理物品\neliminate-items: true\n# 不清理带NBT的物品\neliminate-items-except-nbtcontains: true\n# 清理实体\neliminate-entity: true\n# 强制清理所有实体,会无视保留实体的限制\neliminate-entity-force: false\n# 在区块卸载的时候删除所有在区块里的实体\neliminate-entity-after-chunk-unload: false\n# 触发清理的条件\neliminate-trigger:\n  \"0\": # 当服务器实体总数大于某值时清理\n    enable: true\n    # 检测到实体数量大于该值将会启动清理\n    threshold: 50\n    # 检测的时间 单位秒\n    detect-interval: 300\n  \"1\": # 当服务器平均TPS小于某值时清理\n    enable: false\n    # 检测到平均TPS小于该值将会启动清理\n    threshold: 19.2\n    # 检测的时间 单位秒\n    detect-interval: 300\n  \"2\": # 当服务器实体总数大于某值并当服务器平均TPS小于某值时清理\n    enable: false\n    # 实体数量需大于该值才会启动清理\n    entityThreshold: 50\n    # 平均TPS需小于该值才会启动清理\n    AvgTPSThreshold: 19.2\n    # 检测的时间 单位秒\n    detect-interval: 300\n复制代码\n使用方法：\n\n清理实体有触发条件与清理方式两个类型，触发条件有例如实体数量、TPS等。清理方式有清理整个世界以及清理玩家周围实体两种。你可以根据你的需求自由选择。\n\n\n更新记录：\n\n2020/01/20 插件首版v1.0.02020/01/21 修复部分bug2020/01/22 增加了命令以及API2020/01/23 修复bug，感谢@wode490390 指出2020/02/04 修复bug2020/03/09 修复bug，感谢@xiaolu550 指出，增加对PlaceholderAPI的支持，可以在输出的文本中使用占位符2020/10/23 优化代码\n\nGithub仓库：\n\nGithub\n\n\n教程在做了，咕咕咕\n\n\n\n\n\n\n[groupid=1708]Pioneer Group[/groupid]",
    "replies": [
        {
            "author": "qq2585774476",
            "timestamp": 1579712280,
            "txt_content": "拿走试试"
        },
        {
            "author": "dyydqq",
            "timestamp": 1579772400,
            "txt_content": "楼主拿走了试试赞"
        },
        {
            "author": "101134482",
            "timestamp": 1579836960,
            "txt_content": "插件非常好用！支持"
        },
        {
            "author": "fred2006",
            "timestamp": 1579851720,
            "txt_content": "不错，感谢插件开发者"
        },
        {
            "author": "2538137851",
            "timestamp": 1580063940,
            "txt_content": "不错 非常好用 希望后期添加更多支持的变量"
        },
        {
            "author": "sunjianyao",
            "timestamp": 1580110380,
            "txt_content": "东西很不错，拿走了，谢谢楼主"
        },
        {
            "author": "qwe255",
            "timestamp": 1580113920,
            "txt_content": "谢谢资源"
        },
        {
            "author": "1414061719",
            "timestamp": 1580129160,
            "txt_content": "哈哈哈哈哈哈"
        },
        {
            "author": "jiehua666",
            "timestamp": 1580130900,
            "txt_content": "这插件太棒啦，拿走使用！！"
        },
        {
            "author": "1414061719",
            "timestamp": 1580132340,
            "txt_content": "好用，支持了"
        },
        {
            "author": "13473176698",
            "timestamp": 1580731020,
            "txt_content": "下载链接挂了"
        },
        {
            "author": "liuxiaoxi233",
            "timestamp": 1582421400,
            "txt_content": "为啥下载不了网页打不开，链接挂了吗"
        },
        {
            "author": "YH葬歌",
            "timestamp": 1582427400,
            "txt_content": "请问是一开始的配置文件300秒自动清理一次吗？\n还是没有定时清理这个功能\n只能依照实体数量等数据来清理\n"
        },
        {
            "author": "Kenneth_z",
            "timestamp": 1582430160,
            "txt_content": "YH葬歌 发表于 2020-2-23 11:10\n请问是一开始的配置文件300秒自动清理一次吗？\n还是没有定时清理这个功能\n只能依照实体数量等数据来清理\n不是 你要设置清理方式的"
        },
        {
            "author": "YH葬歌",
            "timestamp": 1582446840,
            "txt_content": "我的4dNPC被他清了emmm这个算bug吗emmm"
        },
        {
            "author": "Kenneth_z",
            "timestamp": 1582447980,
            "txt_content": "YH葬歌 发表于 2020-2-23 16:34\n我的4dNPC被他清了emmm这个算bug吗emmm\n你用的什么NPC插件啊\n因为他会把NPC当成一个要情理的实体 你可以用API或者设置不清理的世界来防止这种问题"
        },
        {
            "author": "YH葬歌",
            "timestamp": 1582448400,
            "txt_content": "emmm微凉写的NPC插件，用来传送emm\n不过我设置了不清理实体，这样和全清理实体对服务器的减少负担有帮助吗"
        },
        {
            "author": "Kenneth_z",
            "timestamp": 1582448940,
            "txt_content": "YH葬歌 发表于 2020-2-23 17:00\nemmm微凉写的NPC插件，用来传送emm\n不过我设置了不清理实体，这样和全清理实体对服务器的减少负担有帮助吗 ...\n不清理实体的话 一些手机好的玩家觉得没什么影响 手机差的玩家会被劝退"
        },
        {
            "author": "1186019009",
            "timestamp": 1582462380,
            "txt_content": "支持！支持"
        },
        {
            "author": "一只炙寒",
            "timestamp": 1583402880,
            "txt_content": "看着就像好插件\n但是好像下载地址炸了"
        },
        {
            "author": "Kenneth_z",
            "timestamp": 1583765460,
            "txt_content": "一只炙寒 发表于 2020-3-5 18:08\n看着就像好插件\n但是好像下载地址炸了\n已修改"
        },
        {
            "author": "yang007",
            "timestamp": 1583952420,
            "txt_content": "添加多个世界不清理，分隔符号是啥"
        },
        {
            "author": "晓白大佬",
            "timestamp": 1584199260,
            "txt_content": "大佬怎么添加不删除的动物牙，"
        },
        {
            "author": "yang007",
            "timestamp": 1584205020,
            "txt_content": "设置多个世界不清理时，世界与世界间的分隔符号是什么"
        },
        {
            "author": "晓白大佬",
            "timestamp": 1584247920,
            "txt_content": "大佬求解"
        },
        {
            "author": "1186019009",
            "timestamp": 1584263340,
            "txt_content": "yang007 发表于 2020-3-15 00:57\n设置多个世界不清理时，世界与世界间的分隔符号是什么\nxxx:\n - 世界名\n - 世界名\n\n应该是这样的"
        },
        {
            "author": "ansixue",
            "timestamp": 1584537180,
            "txt_content": "可以‘可以"
        },
        {
            "author": "Nyan-Cat",
            "timestamp": 1584755220,
            "txt_content": "怎么设置更多秒的倒计时？"
        },
        {
            "author": "玄锐暮",
            "timestamp": 1584892860,
            "txt_content": "支持作者一波！另外希望加上定时清理功能"
        },
        {
            "author": "wunaimzy",
            "timestamp": 1605626520,
            "txt_content": "好插件 收了"
        },
        {
            "author": "桐谷和人.1",
            "timestamp": 1610425200,
            "txt_content": "很有用的插件支持"
        },
        {
            "author": "qingchuan999",
            "timestamp": 1613892000,
            "txt_content": "你哪里挂了前置啊"
        },
        {
            "author": "250979320",
            "timestamp": 1613918760,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "250979320",
            "timestamp": 1613919240,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "250979320",
            "timestamp": 1613928120,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        }
    ]
}