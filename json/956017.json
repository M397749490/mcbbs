{
    "title": "如何自学Forge新版本特性",
    "author": "0x3B800001",
    "replyCount": 4,
    "timestamp": 1581251520,
    "txt_content": " 本帖最后由 可爱的meow 于 2020-2-9 20:39 编辑 \n\n因为写着写着基础教程觉得没意思(其实就是本鸽子懒)。不如过来叫大家如何自学。\n目录\n\n阅读Forge Doc（可行度：低）\n阅读Forge的示例mod（可行度：高，但可学习特性很少）\n在外国论坛搜索（可行度：高）\n阅读Forge或者MC代码（可行度：高）\n\n阅读Forge Doc\nForgeDoc的链接：[<a href=\"https://www.mcbbs.net/plugin.php?id=link_redirect&target=https%3A%2F%2Fmcforge.readthedocs.io%2Fen%2F1.15.x%2F\" target=\"_blank\">https://mcforge.readthedocs.io/en/1.15.x/</a>](<a href=\"https://www.mcbbs.net/plugin.php?id=link_redirect&target=https%3A%2F%2Fmcforge.readthedocs.io%2Fen%2F1.15.x%2F\" target=\"_blank\">https://mcforge.readthedocs.io/en/1.15.x/</a>)\n事实上Forge的Doc只在1.12~1.13时代起到了一定的作用，目前Forge的Doc虽然标着版本1.15.x，但实际上的版本是1.13.x，所以Forge教会我们更新=改版本号（雾）\n所以你想通过阅读ForgeDoc来学习新版本特性，可行度较低\n阅读Forge的示例mod\n这是1.15.2-31.1.0的Forge的示例mod\npackage com.example.examplemod;\n\nimport net.minecraft.block.Block;\nimport net.minecraft.block.Blocks;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.event.RegistryEvent;\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\nimport net.minecraftforge.fml.InterModComms;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.event.lifecycle.FMLClientSetupEvent;\nimport net.minecraftforge.fml.event.lifecycle.FMLCommonSetupEvent;\nimport net.minecraftforge.fml.event.lifecycle.InterModEnqueueEvent;\nimport net.minecraftforge.fml.event.lifecycle.InterModProcessEvent;\nimport net.minecraftforge.fml.event.server.FMLServerStartingEvent;\nimport net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport java.util.stream.Collectors;\n\n// The value here should match an entry in the META-INF/mods.toml file\n@Mod(\"examplemod\")\npublic class ExampleMod\n{\n    // Directly reference a log4j logger.\n    private static final Logger LOGGER = LogManager.getLogger();\n\n    public ExampleMod() {\n        // Register the setup method for modloading\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::setup);\n        // Register the enqueueIMC method for modloading\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::enqueueIMC);\n        // Register the processIMC method for modloading\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::processIMC);\n        // Register the doClientStuff method for modloading\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::doClientStuff);\n\n        // Register ourselves for server and other game events we are interested in\n        MinecraftForge.EVENT_BUS.register(this);\n    }\n\n    private void setup(final FMLCommonSetupEvent event)\n    {\n        // some preinit code\n        LOGGER.info(\"HELLO FROM PREINIT\");\n        LOGGER.info(\"DIRT BLOCK >> {}\", Blocks.DIRT.getRegistryName());\n    }\n\n    private void doClientStuff(final FMLClientSetupEvent event) {\n        // do something that can only be done on the client\n        LOGGER.info(\"Got game settings {}\", event.getMinecraftSupplier().get().gameSettings);\n    }\n\n    private void enqueueIMC(final InterModEnqueueEvent event)\n    {\n        // some example code to dispatch IMC to another mod\n        InterModComms.sendTo(\"examplemod\", \"helloworld\", () -> { LOGGER.info(\"Hello world from the MDK\"); return \"Hello world\";});\n    }\n\n    private void processIMC(final InterModProcessEvent event)\n    {\n        // some example code to receive and process InterModComms from other mods\n        LOGGER.info(\"Got IMC {}\", event.getIMCStream().\n                map(m->m.getMessageSupplier().get()).\n                collect(Collectors.toList()));\n    }\n    // You can use SubscribeEvent and let the Event Bus discover methods to call\n    @SubscribeEvent\n    public void onServerStarting(FMLServerStartingEvent event) {\n        // do something when the server starts\n        LOGGER.info(\"HELLO from server starting\");\n    }\n\n    // You can use EventBusSubscriber to automatically subscribe events on the contained class (this is subscribing to the MOD\n    // Event bus for receiving Registry Events)\n    @Mod.EventBusSubscriber(bus=Mod.EventBusSubscriber.Bus.MOD)\n    public static class RegistryEvents {\n        @SubscribeEvent\n        public static void onBlocksRegistry(final RegistryEvent.Register<Block> blockRegistryEvent) {\n            // register a new block here\n            LOGGER.info(\"HELLO from Register Block\");\n        }\n    }\n}\n从中你可以学习到关于mod信息改为用mods.toml书写、生命周期事件的一些改变以及如何注册物品/方块等，但是可学习内容很少。\n在国外论坛搜索\n这是一个可行度很高的办法。\n比方说新版Forge中对Capability系统进行了一些修改，如getCapability的返回值变为net.minecraftforge.common.util.LazyOptional<T>，仅通过Forge的javadoc你可能还是很难知道正确的姿势是什么。\n/**\n * Retrieves the Optional handler for the capability requested on the specific side.\n * The return value <strong>CAN</strong> be the same for multiple faces.\n * Modders are encouraged to cache this value, using the listener capabilities of the Optional to\n * be notified if the requested capability get lost.\n *\n * @param capability The capability to check\n * @param facing The Side to check from,\n *   <strong>CAN BE NULL</strong>. Null is defined to represent 'internal' or 'self'\n * @return The requested an optional holding the requested capability.\n */\n但是如果通过在[Forge论坛](<a href=\"https://www.mcbbs.net/plugin.php?id=link_redirect&target=https%3A%2F%2Fwww.minecraftforge.net%2Fforum%2F\" target=\"_blank\">https://www.minecraftforge.net/forum/</a>)搜索，你就很容易在[ [1.14.4] How do I use LazyOptional<T> return in getCapability function ](<a href=\"https://www.mcbbs.net/plugin.php?id=link_redirect&target=https%3A%2F%2Fwww.minecraftforge.net%2Fforum%2Ftopic%2F75577-1144-how-do-i-use-lazyoptional-return-in-getcapability-function%2F%3Ftab%3Dcomments%23comment-361919\" target=\"_blank\">https://www.minecraftforge.net/f ... ents#comment-361919</a>)找到使用它的正确姿势。\n阅读Forge或者MC代码\n这个可能是你能学习的东西最多并且可行度最高的方式，唯一的缺点就是太耗时。\n你可以通过阅读代码来学会如何用javascript写一个coremod，亦或者是如何生成一个世界，总之，一个好的modder必须要学会阅读代码（无论是学习新版本特性还是学习其他mod的写法）。\n大概就这样水了一篇教程？\n另外宣传一下项目： [ 斗罗大陆mod(开发中) ](<a href=\"https://www.mcbbs.net/thread-569097-1-1.html\" target=\"_blank\">https://www.mcbbs.net/thread-569097-1-1.html</a>)\n欢迎有兴趣的同学加入wwwww\n\n",
    "replies": [
        {
            "author": "jimo1",
            "timestamp": 1581253860,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "tdiant",
            "timestamp": 1581254100,
            "txt_content": "我什么时候才能创造我自己的异世界（大雾\n\n内容写得很充实，受益匪浅。\n确实现在就有一种现象，有些人想做一个MOD，但是总是想怎样投机取巧，想着摸鱼也能弄明白写MOD。\n支持这种文章。"
        },
        {
            "author": "3TUSK",
            "timestamp": 1581375660,
            "txt_content": "再加两个吧。\n关注 https://github.com/MinecraftForge/MinecraftForge 下所有的 issue ticket 和 Pull Request。\n直接关注来自社区成员的 PR 可以让你在第一时间知道他们试图加进 Forge 的最新特性都是干什么的、为什么要有以及怎么用。\n点一下仓库的 Watch 可获得邮件推送，如果你经常用电邮的话会很省事。（真的有很多开发者看电邮吗？）寻找社区成员集散地。\n原本笔者想说的是 Discord，但是并非只有 Discord 上有 Mod 开发者出没，icr.esper.net 上也能找到，遑论多数（？）国内的开发者都在用的 QQ。\n不过这些 Discord 服务器有各自的成员守则，违反规矩后果自负。请在寻求帮助前先潜水一段时间确认一下规则。\n英语不行或者无法切换网络环境的话还是问国内开发者吧。照这么说直接来论坛问难道不更省事点。\n\n\n"
        },
        {
            "author": "Cult_of_sin",
            "timestamp": 1581577080,
            "txt_content": "大佬的世界，我不懂"
        }
    ]
}