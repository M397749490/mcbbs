{
    "title": "插件如何寻找拥有某个权限的玩家并发送信息",
    "author": "我不是天空",
    "replyCount": 3,
    "timestamp": 1500487080,
    "txt_content": "public boolean onCommandCall(CommandSender sender, Command cmd, String label, String[] args)\n{\n    if(cmd.getName().equalsIgnoreCase(\"xunzhaoquanxian\"))\n    {\n        List<Player> players = new ArrayList<Player>();\n    players.addAll(getOnlinePlayers());\n    for (Player player : players) {\n            if(player.hasPermission(\"essentials.qwq\"))\n            {\n                    player.sendMessage(\"你有权限:essentials.qwq\");\n            }\n                    }\n        return false;\n    }\n        return false;        \n}\n\npublic static List<Player> getOnlinePlayers() {\n    //实例化两个List用于存放Player和World\n    List <Player> players = new ArrayList<Player>();\n    List <World> worlds = new ArrayList<World>();\n    worlds.addAll(Bukkit.getWorlds());\n    //遍历所有的世界\n    for(int i = 0;i < worlds.size();i++) {\n            //如果第i个世界的玩家是空的则进行下一次循环\n            if(worlds.get(i).getPlayers().isEmpty()) {\n                    continue;\n            }else {\n                    //不是空的则添加到players集合中\n                    players.addAll(worlds.get(i).getPlayers());\n            }\n    }\n    return players;\n}\n复制代码\n例如我瞎写的这个代码里，寻找服务器里拥有essentials.qwq权限的玩家，然后发送信息“你有权限:essentials.qwq”，但是没反应，找了很多帖子都没用，希望大佬能帮我QwQ，好人一生平安。\n",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1500545760,
            "txt_content": "for(Player player:Bukkit.getOnlinePlayers())\n{\n     ..............\n}"
        },
        {
            "author": "云闪",
            "timestamp": 1500547740,
            "txt_content": "方法名onCommandCall改成onCommand，如果这个方法是在主类的话"
        },
        {
            "author": "xRPQx",
            "timestamp": 1501139820,
            "txt_content": "直接 \nBukkit.broadcast(\"xxx\", \"essentials.qwq\");\n啊"
        }
    ]
}