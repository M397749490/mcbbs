{
    "title": "minecraft服务端TPS研究",
    "author": "Feb26_1994",
    "replyCount": 19,
    "timestamp": 1419191340,
    "txt_content": " 本帖最后由 Feb26_1994 于 2014-12-22 03:53 编辑 \n\n原本想发到多人讨论里的 等级不够Σ( ° △ °|||)︴但是矿区茶馆实在不想来 看到原来那个**版主Cpt.Dunn已经**了那也无所谓了\n\n嘛这里也有“分享” 那么把经验分享给这里正在开服的服主（也许有的话）也不错\n\n 首先是TPS介绍\n\nTPS是什么？\n原wiki内容\nminecraft的循环程序是以每秒20周期的固定速度运行的。因此每刻发生在每20分之1秒。在游戏中的一天将正好为24000刻，或20分钟。\n但是这个速率也不是完全固定的。如果电脑的性能不足以跟上这个速度，单位时间内的游戏刻就会变少。由于游戏中的绝大多数动作都是以游戏刻而不是真实世界的时钟作为时间基准，这意味着在较慢的电脑上很多事情都要花更长的时间来完成。\n在每刻过去时，游戏中的每个部分都会更新一点：移动的物体改变位置，生物检查它们的周围并更新它们的举止，生命值和饥饿值将根据玩家的情况而改变，还有更多更多。\n一件游戏刻不影响的事情是图像绘制。游戏的图像绘制是在一个独立的异步循环中进行的，以防止电脑的图形性能影响到游戏模拟，反之亦然\n\n可能造成TPS降低的因素\n1 内存\n在内存高占用的情况下 区块加载会变得缓慢 可能 会数据泄露 内存溢出 这时候只能重启你的服务端 而且可能丢失数据\n了解你服务端的瓶颈 写好参数 （其实就是加内存 加加加加）\n不难理解\n\n\n2.硬盘读取\n什么动作会使用到硬盘呢\n玩家加入游戏读取数据\n玩家传送到某个玩家读取数据\n玩家离开游戏存储数据\n\n玩家一多 那读取写入的酸爽\n所以一块好的硬盘可以支撑更多玩家\n\n（画外音：国内这坑爹宽带贵的要死 10M。。呵呵 好像连家用普通机械键盘都够的样子啊 呵呵呵呵。。）\n\n\n3 处理器性能\n卡服务器怎么卡？\n答：埋高频！\n满分！\n咳咳\n\n简单举例一些使用cpu计算的地方\n生物出生 红石 火把融化冰块 水变成冰块 沙子掉落 熔岩 水的流动 羊吃草 植物生长 这些都可以大量消耗cpu资源 而且跑地图的时候 新生成的地图中有各种流动水/熔岩 去地狱 新生成的熔岩从天而降 所以如何提高TPS 从这些方面入手比较好\n\n在bukkit上有很多区块优化插件 什么nolagg Tpweat等 可以尝试使用 但是也不要乱用 可能会把你区块弄丢 另 spigot cauldron自带区块优化 所以不推荐使用这类插件\n\n\n4 软件bug\n比如说地图生成了一堆浮空沙子 区块生成及其奇葩等\n但是更多的\n\n\n新人服主开服后台成吨成吨的报错∑( ° △ °|||)︴\n楼主可是见过239limit/s报错的服务端 简直可怕\n\n\n所以做整合的新鞋们玩游戏要好好看后台啊∑( ° △ °|||)︴\n单人游戏开启debug模式 觉得卡卡的就看看log∑( ° △ °|||)︴\n\n\n 那么 现在你对TPS有了解了吗?  觉得有帮助 点个赞吧√",
    "replies": [
        {
            "author": "^离殇",
            "timestamp": 1419192360,
            "txt_content": "其实不用说这么多的，TPS越高越好，内存越多越好，CPU越屌越好，就行了。"
        },
        {
            "author": "鱼青余",
            "timestamp": 1419194520,
            "txt_content": "好高级的样子。。\n\n                                                                                                                 --------【机器水】"
        },
        {
            "author": "GreatGBL",
            "timestamp": 1419201900,
            "txt_content": "卧槽 94发的贴 么么哒"
        },
        {
            "author": "623334165",
            "timestamp": 1419206040,
            "txt_content": "玛德，有何意义"
        },
        {
            "author": "cx015016012",
            "timestamp": 1419212100,
            "txt_content": "CPU和显卡很重要~\n就是这样~\n特别是游戏玩家~"
        },
        {
            "author": "琥珀剑心",
            "timestamp": 1419213600,
            "txt_content": "涨姿势了.."
        },
        {
            "author": "青春。祭",
            "timestamp": 1419217080,
            "txt_content": "不错，也算知道了服务器卡也不是一两种原因了"
        },
        {
            "author": "Feb26_1994",
            "timestamp": 1419222420,
            "txt_content": "GreatGBL 发表于 2014-12-22 06:45\n卧槽 94发的贴 么么哒\nΣ( ° △ °|||)︴  还是发多人游戏讨论比较好"
        },
        {
            "author": "永恒-Frozen",
            "timestamp": 1419222840,
            "txt_content": "渣渣表示依然看不懂。"
        },
        {
            "author": "千飞那个夏",
            "timestamp": 1419241260,
            "txt_content": "^离殇 发表于 2014-12-22 04:06\n其实不用说这么多的，TPS越高越好，内存越多越好，CPU越屌越好，就行了。\n你还少了个优化...\n应该首先考虑到各插件的优化"
        },
        {
            "author": "千飞那个夏",
            "timestamp": 1419241440,
            "txt_content": "还有一点影响TPS的方面\n插件之间的协调...不同插件需要根据需求进行调整"
        },
        {
            "author": "Feb26_1994",
            "timestamp": 1419250260,
            "txt_content": "Miku_Snow 发表于 2014-12-22 17:44\n还有一点影响TPS的方面\n插件之间的协调...不同插件需要根据需求进行调整\n这也属于软件方面。。我第四部分表达的不好Σ( ° △ °|||)︴"
        },
        {
            "author": "yingxi",
            "timestamp": 1419252540,
            "txt_content": ".............................好吧"
        },
        {
            "author": "10123482",
            "timestamp": 1419416760,
            "txt_content": "主要是cpu的主频影响最大,内存和硬盘影响很小"
        },
        {
            "author": "Wowaka",
            "timestamp": 1420076700,
            "txt_content": "求解。。我的服务器没人的时候稳定20，一旦有人永远固定19.99！难受啊！怎么办！QAQ！"
        },
        {
            "author": "Feb26_1994",
            "timestamp": 1420098660,
            "txt_content": "Wowaka 发表于 2015-1-1 09:45\n求解。。我的服务器没人的时候稳定20，一旦有人永远固定19.99！难受啊！怎么办！QAQ！ ...\n强迫症无解，。。没啥感觉的这个"
        },
        {
            "author": "1028127425",
            "timestamp": 1426225620,
            "txt_content": "说的好深奥，我发现TPS低一般都是cpu处理能力问题"
        },
        {
            "author": "slz9073",
            "timestamp": 1426257540,
            "txt_content": "spigot还好，没啥问题"
        },
        {
            "author": "MMP(mcmap)",
            "timestamp": 1589684280,
            "txt_content": "作者我玩AE和炼金化学，用通用机械的发电机好还是TPS发电机好？"
        }
    ]
}