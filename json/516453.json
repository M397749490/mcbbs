{
    "title": "关于Dynmap卫星地图插件 只能内网IP打开网页 外网IP无法显示 求高人解答",
    "author": "welpm",
    "replyCount": 10,
    "timestamp": 1445773560,
    "txt_content": "http://www.mcbbs.net/forum.php?m ... F%E5%9C%B0%E5%9B%BE\n按照帖子里的做了 用http://localhost:8123本机能正常打开 但是用外网IP加8123就无法显示了 插件配置文件webserver-bindaddress: 0.0.0.0 webserver-port: 8123 死活打不开orz 求解 在线等 急",
    "replies": [
        {
            "author": "wahaha216",
            "timestamp": 1445773560,
            "txt_content": "welpm 发表于 2015-10-25 20:08\n用外网可以进服务器 我映射的是22700 我尝试过映射8123 服务端server.properties里服务端口也改了8123 用 ...\nserver-port=25565   默认值就得了（除非你开了多个服务器）\n请同时映射25565与8123这两个端口，或者直接开启DMZ\n25565为服务器端口，8123为卫星地图"
        },
        {
            "author": "wahaha216",
            "timestamp": 1445774580,
            "txt_content": "你用外网IP能进服务器么？\n是否映射了8123这个端口？"
        },
        {
            "author": "welpm",
            "timestamp": 1445774880,
            "txt_content": "wahaha216 发表于 2015-10-25 20:03\n你用外网IP能进服务器么？\n是否映射了8123这个端口？\n用外网可以进服务器 我映射的是22700 我尝试过映射8123 服务端server.properties里服务端口也改了8123 用8123也能进服务器 但改了8123 连内网IP都无法打开卫星地图的网页了。。好奇怪"
        },
        {
            "author": "snowclay",
            "timestamp": 1445775300,
            "txt_content": "如果是在本机开的服务端的话输入http://localhost:8123\n如果是其他的机子看本机上的dynmap的话输入 http://你的IP地址:2138 （默认端口）\n教程贴说让用2138.。你看看是不是应该这样"
        },
        {
            "author": "welpm",
            "timestamp": 1445775360,
            "txt_content": "snowclay 发表于 2015-10-25 20:15\n如果是在本机开的服务端的话输入http://localhost:8123\n如果是其他的机子看本机上的dynmap的话输入 http:// ...\n2138也试过了orz 我看其他用这插件的服 都是812几 比如手艺服 http://mycraft.chinacraft.cc:8122/"
        },
        {
            "author": "snowclay",
            "timestamp": 1445776320,
            "txt_content": "发一下你的配置文件，详细的看了才能弄"
        },
        {
            "author": "welpm",
            "timestamp": 1445776380,
            "txt_content": "还有一点很奇怪。。明明设置了别的端口 依然能用8123连 而设置好的端口却无法连 再去看配置文件 也没有重置的迹象"
        },
        {
            "author": "welpm",
            "timestamp": 1445776440,
            "txt_content": "snowclay 发表于 2015-10-25 20:32\n发一下你的配置文件，详细的看了才能弄# All paths in this configuration file are relative to Dynmap's data-folder: minecraft_server/dynmap/\n\n# All map templates are defined in the templates directory\n# To use the HDMap very-low-res (2 ppb) map templates as world defaults, set value to vlowres\n#   The definitions of these templates are in normal-vlowres.txt, nether-vlowres.txt, and the_end-vlowres.txt\n# To use the HDMap low-res (4 ppb) map templates as world defaults, set value to lowres\n#   The definitions of these templates are in normal-lowres.txt, nether-lowres.txt, and the_end-lowres.txt\n# To use the HDMap hi-res (16 ppb) map templates (these can take a VERY long time for initial fullrender), set value to hires\n#   The definitions of these templates are in normal-hires.txt, nether-hires.txt, and the_end-hires.txt\n# To use the HDMap low-res (4 ppb) map templates, with support for boosting resolution selectively to hi-res (16 ppb), set value to low_boost_hi\n#   The definitions of these templates are in normal-low_boost_hi.txt, nether-low_boost_hi.txt, and the_end-low_boost_hi.txt\n# To use the HDMap hi-res (16 ppb) map templates, with support for boosting resolution selectively to vhi-res (32 ppb), set value to hi_boost_vhi\n#   The definitions of these templates are in normal-hi_boost_vhi.txt, nether-hi_boost_vhi.txt, and the_end-hi_boost_vhi.txt\n# To use the HDMap hi-res (16 ppb) map templates, with support for boosting resolution selectively to xhi-res (64 ppb), set value to hi_boost_xhi\n#   The definitions of these templates are in normal-hi_boost_xhi.txt, nether-hi_boost_xhi.txt, and the_end-hi_boost_xhi.txt\ndeftemplatesuffix: hires\n\n# Map storage scheme: only uncommoent one 'type' value\n#  filetree: classic and default scheme: tree of files, with all map data under the directory indicated by 'tilespath' setting\n#  sqlite: single SQLite database file (this can get VERY BIG), located at 'dbfile' setting (default is file dynmap.db in data directory)\n#  mysql: MySQL database, at hostname:port in database, accessed via userid with password\nstorage:\n  # Filetree storage (standard tree of image files for maps)\n  type: filetree\n  # SQLite db for map storage (uses dbfile as storage location)\n  #type: sqlite\n  #dbfile: dynmap.db\n  # MySQL DB for map storage (at 'hostname':'port' in database 'database' using user 'userid' password 'password' and table prefix 'prefix'\n  #type: mysql\n  #hostname: localhost\n  #port: 8123\n  #database: dynmap\n  #userid: dynmap\n  #password: dynmap\n  #prefix: \"\"\n\ncomponents:\n  - class: org.dynmap.ClientConfigurationComponent\n  \n  - class: org.dynmap.InternalClientUpdateComponent\n    sendhealth: true\n    sendposition: true\n    allowwebchat: true\n    webchat-interval: 5\n    hidewebchatip: false\n    trustclientname: false\n    includehiddenplayers: false\n    # (optional) if true, color codes in player display names are used\n    use-name-colors: false\n    # (optional) if true, player login IDs will be used for web chat when their IPs match\n    use-player-login-ip: true\n    # (optional) if use-player-login-ip is true, setting this to true will cause chat messages not matching a known player IP to be ignored\n    require-player-login-ip: false\n    # (optional) block player login IDs that are banned from chatting\n    block-banned-player-chat: true\n    # Require login for web-to-server chat (requires login-enabled: true)\n    webchat-requires-login: false\n    # If set to true, users must have dynmap.webchat permission in order to chat\n    webchat-permissions: false\n    # Limit length of single chat messages\n    chatlengthlimit: 256\n  #  # Optional - make players hidden when they are inside/underground/in shadows (#=light level: 0=full shadow,15=sky)\n  #  hideifshadow: 4\n  #  # Optional - make player hidden when they are under cover (#=sky light level,0=underground,15=open to sky)\n  #  hideifundercover: 14\n  #  # (Optional) if true, players that are crouching/sneaking will be hidden \n    hideifsneaking: false\n    # If true, player positions/status is protected (login with ID with dynmap.playermarkers.seeall permission required for info other than self)\n    protected-player-info: false\n    # If true, hide players with invisibility potion effects active\n    hide-if-invisiblity-potion: true\n    # If true, player names are not shown on map, chat, list\n    hidenames: false\n  #- class: org.dynmap.JsonFileClientUpdateComponent\n  #  writeinterval: 1\n  #  sendhealth: true\n  #  sendposition: true\n  #  allowwebchat: true\n  #  webchat-interval: 5\n  #  hidewebchatip: false\n  #  includehiddenplayers: false\n  #  use-name-colors: false\n  #  use-player-login-ip: false\n  #  require-player-login-ip: false\n  #  block-banned-player-chat: true\n  #  hideifshadow: 0\n  #  hideifundercover: 0\n  #  hideifsneaking: false\n  #  # Require login for web-to-server chat (requires login-enabled: true)\n  #  webchat-requires-login: false\n  #  # If set to true, users must have dynmap.webchat permission in order to chat\n  #  webchat-permissions: false\n  #  # Limit length of single chat messages\n  #  chatlengthlimit: 256\n  #  hide-if-invisiblity-potion: true\n  #  hidenames: false\n   \n  - class: org.dynmap.SimpleWebChatComponent\n    allowchat: true\n    # If true, web UI users can supply name for chat using 'playername' URL parameter.  'trustclientname' must also be set true.\n    allowurlname: false\n  \n  # Note: this component is needed for the dmarker commands, and for the Marker API to be available to other plugins\n  - class: org.dynmap.MarkersComponent\n    type: markers\n    showlabel: false\n    enablesigns: false\n    # Default marker set for sign markers\n    default-sign-set: markers\n    # (optional) add spawn point markers to standard marker layer\n    showspawn: true\n    spawnicon: world\n    spawnlabel: \"Spawn\"\n    # (optional) layer for showing offline player's positions (for 'maxofflinetime' minutes after logoff)\n    showofflineplayers: false\n    offlinelabel: \"Offline\"\n    offlineicon: offlineuser\n    offlinehidebydefault: true\n    offlineminzoom: 0\n    maxofflinetime: 30\n    # (optional) layer for showing player's spawn beds\n    showspawnbeds: false\n    spawnbedlabel: \"Spawn Beds\"\n    spawnbedicon: bed\n    spawnbedhidebydefault: true\n    spawnbedminzoom: 0\n    spawnbedformat: \"%name%'s bed\"\n    \n  - class: org.dynmap.ClientComponent\n    type: chat\n    allowurlname: false\n  - class: org.dynmap.ClientComponent\n    type: chatballoon\n    focuschatballoons: false\n  - class: org.dynmap.ClientComponent\n    type: chatbox\n    showplayerfaces: true\n    messagettl: 5\n    # Optional: set number of lines in scrollable message history: if set, messagettl is not used to age out messages\n    #scrollback: 100\n    # Optiona; set maximum number of lines visible for chatbox\n    #visiblelines: 10\n    # Optional: send push button\n    sendbutton: false\n  - class: org.dynmap.ClientComponent\n    type: playermarkers\n    showplayerfaces: true\n    showplayerhealth: true\n    # If true, show player body too (only valid if showplayerfaces=true\n    showplayerbody: false\n    # Option to make player faces small - don't use with showplayerhealth\n    smallplayerfaces: false\n    # Optional - make player faces layer hidden by default\n    hidebydefault: false\n    # Optional - ordering priority in layer menu (low goes before high - default is 0)\n    layerprio: 0\n    # Optional - label for player marker layer (default is 'Players')\n    label: \"Players\"\n    \n  #- class: org.dynmap.ClientComponent\n  #  type: digitalclock\n  - class: org.dynmap.ClientComponent\n    type: link\n    \n  - class: org.dynmap.ClientComponent\n    type: timeofdayclock\n    showdigitalclock: true\n    #showweather: true\n  # Mouse pointer world coordinate display\n  - class: org.dynmap.ClientComponent\n    type: coord\n    label: \"Location\"\n    hidey: false\n    show-mcr: false\n    \n  # Note: more than one logo component can be defined\n  #- class: org.dynmap.ClientComponent\n  #  type: logo\n  #  text: \"Dynmap\"\n  #  #logourl: \"images/block_surface.png\"\n  #  linkurl: \"http://forums.bukkit.org/threads/dynmap.489/\"\n  #  # Valid positions: top-left, top-right, bottom-left, bottom-right\n  #  position: bottom-right\n\n  #- class: org.dynmap.ClientComponent\n  #  type: inactive\n  #  timeout: 1800 # in seconds (1800 seconds = 30 minutes)\n  #  redirecturl: inactive.html\n  #  #showmessage: 'You were inactive for too long.'\n  \n  #- class: org.dynmap.TestComponent\n  #  stuff: \"This is some configuration-value\"\n\n# Treat hiddenplayers.txt as a whitelist for players to be shown on the map? (Default false)\ndisplay-whitelist: false\n\n# How often a tile gets rendered (in seconds).\nrenderinterval: 1\n\n# How many tiles on update queue before accelerate render interval\nrenderacceleratethreshold: 60\n\n# How often to render tiles when backlog is above renderacceleratethreshold\nrenderaccelerateinterval: 0.2\n\n# How many update tiles to work on at once (if not defined, default is 1/2 the number of cores)\ntiles-rendered-at-once: 2\n\n# If true, use normal priority threads for rendering (versus low priority) - this can keep rendering\n# from starving on busy Windows boxes (Linux JVMs pretty much ignore thread priority), but may result\n# in more competition for CPU resources with other processes\nusenormalthreadpriority: true\n\n# Save and restore pending tile renders - prevents their loss on server shutdown or /reload\nsaverestorepending: true\n\n# Save period for pending jobs (in seconds): periodic saving for crash recovery of jobs\nsave-pending-period: 900\n\n# Zoom-out tile update period - how often to scan for and process tile updates into zoom-out tiles (in seconds)\nzoomoutperiod: 30\n\n# Control whether zoom out tiles are validated on startup (can be needed if zoomout processing is interrupted, but can be expensive on large maps)\ninitial-zoomout-validate: true\n\n# Default delay on processing of updated tiles, in seconds.  This can reduce potentially expensive re-rendering\n# of frequently updated tiles (such as due to machines, pistons, quarries or other automation).  Values can\n# also be set on individual worlds and individual maps.\ntileupdatedelay: 30\n\n# Tile hashing is used to minimize tile file updates when no changes have occurred - set to false to disable\nenabletilehash: true\n\n# Optional - hide ores: render as normal stone (so that they aren't revealed by maps)\n#hideores: true\n\n# Optional - enabled BetterGrass style rendering of grass and snow block sides\n#better-grass: true\n\n# Optional - enable smooth lighting by default on all maps supporting it (can be set per map as lighting option)\nsmooth-lighting: true\n\n# Optional - use world provider lighting table (good for custom worlds with custom lighting curves, like nether)\n#   false=classic Dynmap lighting curve\nuse-brightness-table: true\n\n# Optional - render specific block IDs using the texures and models of another block ID: can be used to hide/disguise specific\n#  blocks (e.g. make ores look like stone, hide chests) or to provide simple support for rendering unsupported custom blocks\nblock-id-alias:\n#    \"14\": 1\n#    \"15\": 1\n#    \"16\": 1\n\n# Default image format for HDMaps (png, jpg, jpg-q75, jpg-q80, jpg-q85, jpg-q90, jpg-q95, jpg-q100)\n# Has no effect on maps with explicit format settings\nimage-format: png\n\n#  use-generated-textures: if true, use generated textures (same as client); false is static water/lava textures\n#  correct-water-lighting: if true, use corrected water lighting (same as client); false is legacy water (darker)\n#  transparent-leaves: if true, leaves are transparent (lighting-wise): false is needed for some Spout versions that break lighting on leaf blocks\nuse-generated-textures: true\ncorrect-water-lighting: true\ntransparent-leaves: true\n\n# ctm-support: if true, Connected Texture Mod (CTM) in texture packs is enabled (default)\nctm-support: true\n# custom-colors-support: if true, Custom Colors in texture packs is enabled (default)\ncustom-colors-support: true\n\n# Control loading of player faces (if set to false, skins are never fetched)\n#fetchskins: false\n\n# Control updating of player faces, once loaded (if faces are being managed by other apps or manually)\n#refreshskins: false\n\n# Customize URL used for fetching player skins (%player% is macro for name)\nskin-url: \"http://s3.amazonaws.com/MinecraftSkins/%player%.png\"\n\n# Control behavior for new (1.0+) compass orientation (sunrise moved 90 degrees: east is now what used to be south)\n#   default is 'newrose' (preserve pre-1.0 maps, rotate rose)\n#   'newnorth' is used to rotate maps and rose (requires fullrender of any HDMap map - same as 'newrose' for FlatMap or KzedMap)\ncompass-mode: newnorth\n\n# Triggers for automatic updates : blockupdate-with-id is debug for breaking down updates by ID:meta\n# To disable, set just 'none' and comment/delete the rest\nrender-triggers:\n  - blockupdate\n  #- blockupdate-with-id\n  #- lightingupdate\n  - chunkpopulate\n  - chunkgenerate\n  #- none\n\n# Title for the web page - if not specified, defaults to the server's name (unless it is the default of 'Unknown Server')\n#webpage-title: \"My Awesome Server Map\"\n\n# The path where the tile-files are placed.\ntilespath: web/tiles\n\n# The path where the web-files are located.\nwebpath: web\n\n# The path were the /dynmapexp command exports OBJ ZIP files\nexportpath: export\n\n# The network-interface the webserver will bind to (0.0.0.0 for all interfaces, 127.0.0.1 for only local access).\n# If not set, uses same setting as server in server.properties (or 0.0.0.0 if not specified)\nwebserver-bindaddress: 0.0.0.0\n\n# The TCP-port the webserver will listen on.\nwebserver-port: 2138\n\n# Maximum concurrent session on internal web server - limits resources used in Bukkit server\nmax-sessions: 30\n\n# Disables Webserver portion of Dynmap (Advanced users only)\ndisable-webserver: false\n\n# Enable/disable having the web server allow symbolic links (true=compatible with existing code, false=more secure (default))\nallow-symlinks: true\n\n# Enable login support\nlogin-enabled: false\n# Require login to access website (requires login-enabled: true)\nlogin-required: false\n\n# Period between tile renders for fullrender, in seconds (non-zero to pace fullrenders, lessen CPU load)\ntimesliceinterval: 0.0\n\n# Maximum chunk loads per server tick (1/20th of a second) - reducing this below 90 will impact render performance, but also will reduce server thread load\nmaxchunkspertick: 200\n\n# Progress report interval for fullrender/radiusrender, in tiles.  Must be 100 or greater\nprogressloginterval: 100\n\n# Parallel fullrender: if defined, number of concurrent threads used for fullrender or radiusrender\n#   Note: setting this will result in much more intensive CPU use, some additional memory use.  Caution should be used when\n#  setting this to equal or exceed the number of physical cores on the system.\n#parallelrendercnt: 4\n\n# Interval the browser should poll for updates.\nupdaterate: 2000\n\n# If nonzero, server will pause fullrender/radiusrender processing when 'fullrenderplayerlimit' or more users are logged in\nfullrenderplayerlimit: 0\n# If nonzero, server will pause update render processing when 'updateplayerlimit' or more users are logged in\nupdateplayerlimit: 0\n# Target limit on server thread use - msec per tick\nper-tick-time-limit: 50\n# If TPS of server is below this setting, update renders processing is paused\nupdate-min-tps: 18.0\n# If TPS of server is below this setting, full/radius renders processing is paused\nfullrender-min-tps: 18.0\n# If TPS of server is below this setting, zoom out processing is paused\nzoomout-min-tps: 18.0\n\nshowplayerfacesinmenu: true\n\n# Control whether players that are hidden or not on current map are grayed out (true=yes)\ngrayplayerswhenhidden: true\n\n# Set sidebaropened: 'true' to pin menu sidebar opened permanently, 'pinned' to default the sidebar to pinned, but allow it to unpin\n#sidebaropened: true\n\n# Customized HTTP response headers - add 'id: value' pairs to all HTTP response headers (internal web server only)\n#http-response-headers:\n#    Access-Control-Allow-Origin: \"my-domain.com\"\n#    X-Custom-Header-Of-Mine: \"MyHeaderValue\"\n\n# Trusted proxies for web server - which proxy addresses are trusted to supply valid X-Forwarded-For fields\ntrusted-proxies:\n  - \"127.0.0.1\"\n  - \"0:0:0:0:0:0:0:1\"\n  \njoinmessage: \"%playername% joined\"\nquitmessage: \"%playername% quit\"\nspammessage: \"You may only chat once every %interval% seconds.\"\n# format for messages from web: %playername% substitutes sender ID (typically IP), %message% includes text\nwebmsgformat: \"&color;2[WEB] %playername%: &color;f%message%\"\n\n# Control whether layer control is presented on the UI (default is true)\nshowlayercontrol: true\n\n# Enable checking for banned IPs via banned-ips.txt (internal web server only)\ncheck-banned-ips: true\n\n# Default selection when map page is loaded\ndefaultzoom: 0\ndefaultworld: world\ndefaultmap: flat\n# (optional) Zoom level and map to switch to when following a player, if possible\n#followzoom: 3\n#followmap: surface\n\n# If true, make persistent record of IP addresses used by player logins, to support web IP to player matching\npersist-ids-by-ip: true\n\n# If true, map text to cyrillic\ncyrillic-support: false\n\n# Messages to customize\nmsg:\n    maptypes: \"Map Types\"\n    players: \"Players\"\n    chatrequireslogin: \"Chat Requires Login\"\n    chatnotallowed: \"You are not permitted to send chat messages\"\n    hiddennamejoin: \"Player joined\"\n    hiddennamequit: \"Player quit\"\n\n# URL for client configuration (only need to be tailored for proxies or other non-standard configurations)\nurl:\n    # configuration URL\n    #configuration: \"up/configuration\"\n    # update URL\n    #update: \"up/world/{world}/{timestamp}\"\n    # sendmessage URL\n    #sendmessage: \"up/sendmessage\"\n    # login URL\n    #login: \"up/login\"\n    # register URL\n    #register: \"up/register\"\n    # tiles base URL\n    #tiles: \"tiles/\"\n    # markers base URL\n    #markers: \"tiles/\"\n    \n# Spout support controls\nspout:\n    # If false, ignore spout even if detected\n    enabled: true\n    # If true, previously loaded textures will be assumed to still be valid (faster startup, but\n    # can result in stale textures if originals are updated - delete files in texturepacks/standard/spoout\n    # to clean cached textures and force reload on next startup)\n    use-existing-textures: true\n\n# Snapshot cache size, in chunks\nsnapshotcachesize: 500\n# Snapshot cache uses soft references (true), else weak references (false)\nsoft-ref-cache: true\n    \n# Set to true to enable verbose startup messages - can help with debugging map configuration problems\n# Set to false for a much quieter startup log\nverbose: false\n\n# Enables debugging.\n#debuggers:\n#  - class: org.dynmap.debug.LogDebugger\n# Debug: dump blocks missing render data\ndump-missing-blocks: false\n复制代码\n\n\n"
        },
        {
            "author": "snowclay",
            "timestamp": 1445781780,
            "txt_content": "welpm 发表于 2015-10-25 20:34\n308行webserver-bindaddress: 0.0.0.0修改为你服务器ip"
        },
        {
            "author": "welpm",
            "timestamp": 1445782080,
            "txt_content": "wahaha216 发表于 2015-10-25 21:53\nserver-port=25565   默认值就得了（除非你开了多个服务器）\n请同时映射25565与8123这两个端口，或者直接 ...\n同时映射了两个端口 成功了！！感谢大神！！"
        }
    ]
}