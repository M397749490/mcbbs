{
    "title": "关于Java虚拟机内存占用理解的误区",
    "author": "zhh0000zhh",
    "replyCount": 12,
    "timestamp": 1388120040,
    "txt_content": " 本帖最后由 zhh0000zhh 于 2013-12-27 15:18 编辑 \n\n有人认为-Xmx 2G就会直接占用2G内存\n实际这个想法是想当然的\n实际上java运行过程中如果有需要才会使用更多的内存\n在资源释放后这些内存就会重新变为可用内存\n也就是说如果MC只需要500M内存，那么无论你设置Xmx是多少，实际上只会使用500M（当然，Xmx得多于500M）\n还有人认为Xms与Xmx相同大小可以让Java虚拟机直接占用所需的内存，防止内存被其他程序占用。\n这也是想当然的想法，实际上Xms和Xmx都是2G的时候包括java的垃圾回收都会释放内存，也就是说和没这是Xms是一个效果\n\n以上皆为基于windows平台实测获得，java版本为1.7.0.45\n不排除linux下运行机制不同（不过可能性不大）\n当然，有可能java6运行机制不同吧，不过我觉得没必要测试\n话说没能从java官网找到相关资料，那位知道的说一下~\n\n总之。。。Xmx再大都不会占用游戏需求之外的内存，Xms在MC中基本没用\n\n此外，Xmx对游戏速度是没有影响的，如果内存不足MC会直接崩溃而不是变卡",
    "replies": [
        {
            "author": "huanghongxun",
            "timestamp": 1388120460,
            "txt_content": "最小内存有什么用OAO"
        },
        {
            "author": "Aikawastep",
            "timestamp": 1388120520,
            "txt_content": "围观 不懂这些  "
        },
        {
            "author": "zhh0000zhh",
            "timestamp": 1388121120,
            "txt_content": "huanghongxun 发表于 2013-12-27 13:01 \n最小内存有什么用OAO\n不知道。。。反正我不写。。。\n百度到的结果是小于最小内存垃圾回收的时候不会释放内存，但实际上释放了。。\n所以看起来没用。。"
        },
        {
            "author": "星空骑士",
            "timestamp": 1388121420,
            "txt_content": "lz是个用心的人，支持"
        },
        {
            "author": "LittleHei",
            "timestamp": 1388121540,
            "txt_content": "好吧，其实，我居然不知道？！（你会相信吗23333）"
        },
        {
            "author": "熊孩子主义",
            "timestamp": 1388123520,
            "txt_content": "围观+1……只知道MC很占内存"
        },
        {
            "author": "lzjluzijie",
            "timestamp": 1388125440,
            "txt_content": "Aikawastep 发表于 2013-12-27 13:02 \n围观 不懂这些\nLv.10不懂。。。"
        },
        {
            "author": "吾是新手渣渣",
            "timestamp": 1388126520,
            "txt_content": "最小内存有什么用"
        },
        {
            "author": "Aikawastep",
            "timestamp": 1388137320,
            "txt_content": "lzjluzijie 发表于 2013-12-27 14:24 \nLv.10不懂。。。\n我是建筑和服务器业的  "
        },
        {
            "author": "jiuerd",
            "timestamp": 1389849480,
            "txt_content": "熊孩子主义 发表于 2013-12-27 13:52 \n围观+1……只知道MC很占内存\n应该说JAVA很占内存，而且java的垃圾回收机制很糟糕，运行效率低；\n不过mc内存不足的时候会卡的，我玩久了就会出现画面卡住，鼠标和按键反应延迟超大，但是看后台可以看到其他东西正常；\n不过有时候也会因为内存不足而卡住进而弹出。"
        },
        {
            "author": "liweichen6",
            "timestamp": 1390073160,
            "txt_content": "的确如此\n我一般都25G 反正也没影响\n不过上次一发把游戏炸到无响应了…… 看了下占用已经23G了……"
        },
        {
            "author": "PpY_SK",
            "timestamp": 1390106640,
            "txt_content": "那么最大内存是干吗用的？"
        }
    ]
}