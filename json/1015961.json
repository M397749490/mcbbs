{
    "title": "如何获得Waterfall客户端的模组列表",
    "author": "Matrixchung",
    "replyCount": 1,
    "timestamp": 1586663400,
    "txt_content": "目前只找到了 BungeeCord API JavaDoc 地址：https://ci.md-5.net/job/BungeeCord/ws/api/target/apidocs/overview-summary.html\n目前群组服有多台模组不一的子服在同一个群组下 并且关闭了force-default-server导致玩家在不同模组服之间切换出现错误\n想问问 Waterfall 是否提供了 API 用以获取玩家模组列表",
    "replies": [
        {
            "author": "Matrixchung",
            "timestamp": 1586665500,
            "txt_content": "已自行解决...ProxiedPlayer.getModList();\npublic void onPostLogin(PostLoginEvent event) {\n        ProxiedPlayer player = event.getPlayer();\n        Map<String,String> modList = player.getModList();\n    }复制代码/**\n     * Gets this player's Forge Mod List, if the player has sent this\n     * information during the lifetime of their connection to Bungee. There is\n     * no guarantee that information is available at any time, as it is only\n     * sent during a FML handshake. Therefore, this will only contain\n     * information for a user that has attempted joined a Forge server.\n     * <p>\n     * Consumers of this API should be aware that an empty mod list does\n     * <em>not</em> indicate that a user is not a Forge user, and so should not\n     * use this API to check for this. See the {[url=home.php?mod=space&uid=41191]@link[/url] #isForgeUser()\n     * isForgeUser} method instead.\n     * </p>\n     * <p>\n     * Calling this when handling a\n     * {@link net.md_5.bungee.api.event.ServerConnectedEvent} may be the best\n     * place to do so as this event occurs after a FML handshake has completed,\n     * if any has occurred.\n     * </p>\n     *\n     * [url=home.php?mod=space&uid=491268]@Return[/url] A {@link Map} of mods, where the key is the name of the mod, and\n     * the value is the version. Returns an empty list if the FML handshake has\n     * not occurred for this {@link ProxiedPlayer} yet.\n     */\n    Map<String, String> getModList();复制代码"
        }
    ]
}