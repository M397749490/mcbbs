{
    "title": "[综合|编程]Skript—— 小白服主的福音,制作脚本插件[1.7.x-1.8x]",
    "author": "xbxy",
    "replyCount": 28,
    "timestamp": 1453584060,
    "txt_content": " 本帖最后由 1582952890 于 2017-9-16 21:13 编辑 \n\n插件简介\n作者: NjolSkript简译为脚本插件,文件格式为 .sk它具有非常强大的功能,服主们可以利用它制作出各种游戏内容,如登录插件,公告,排行榜,点券系统,会员系统,刷怪,强化系统等其真实效果堪比真正的插件!\n插件资源1.7x~1.8x可去百度网盘下载: 百度网盘1.7以前的版本请去水桶官网下载: 水桶官网\n安装方法下载插件后将.jar文件放入服务器的plugins文件夹中再重启服务器即可\n注:    插件默认以.csv格式的文件储存脚本产生的变量,你可以通过修改config.sk文件更换储存类型    其他的储存类型有: .db 和mysql  #如果你要使用mysql,需安装前置 Sqlibrary 建议使用mysql储存    插件本身装有14个脚本,服主们可以根据自己的想法决定是否使用,如果给 .sk文件名前面加上一个 - 符号即可直接禁用该脚本\n官方帮助文档\n\nhttp://njol.ch/projects/skript/doc/events/\n\n编写脚本我这里只是给大家写些例子,供各位参考\n首先新建一个尾缀为.sk的文件,然后是用Notepad++文本编辑器开始编写(你也可以直接修改插件自带的脚本文件)\n先了解一下脚本结构首先需要一个触发器,也就是事件(Events)然后需要一些条件Condition(s),这个条件是可选的,因为某些简单的脚本是不需要特定条件的接着是赋予效果(Effects)直到脚本结束一个sk脚本文件中可以有多个触发器,而一个触发器可以有许多条件/效果,而整个过程都需要服主们自己DIY再来看看变量\n全局变量:  {变量体}这种变量是会被储存的,也就是说即使你关服了再开,他都一直在,我一般会在玩家刚进入服务器就设置几个,方便日后使用\n局部变量：{_变量体}\n这种变量为临时使用,基本执行完一个事件就会被删除\n\n选项变量：\noptions:\n  option name = option value\n这个种变量多数用于文本以及部分判断,他们会在sk文件加载时被一同加载\n调用格式为 {@option name}列如我预先设置了options:\n  xbxy = yoooooooooooo调用则为 {@xbxy}\n在文本量比较多的脚本中,用这种变量显示文本往往可以提高脚本运行速度,但他并不是只能用来做文本显示\n\n列表变量: {变量体::任意内容}这种变量一般用于储存,或者统计,做排行榜什么的,且可以用*代表所有::后面的内容\n还有一种预设变量,他只是一种形式和选项变量一样一般都写在脚本最前面variables:          {变量体} = 0        {变量体::xxx} = 0这种设置是在脚本加载时设置比一遍，如果全局变量已经存在则不会设置\n编写一个简单的新玩家进入游戏时发送一句话以及\"新手礼包\":On First Join:  #[事件]玩家第一次进入游戏        message \"&b欢迎&e%player%&b来到脚本联盟,这是36E送给你的礼物.\"  #[效果]发送\" \"内的内容给该玩家        give 1 diamond sword to the player #[效果]给这名玩家一把钻石剑        give 1 clock named \"&b万能钟\" to the player #[效果]给这名玩家一个名为万能钟的钟\n就这样简单的4句代码就做到了一个新手礼包,但这里还是有些东西是需要注意的%player% 为skript的玩家变量,也就是事件对象或当前的使用者(玩家)而颜色符号有3种选择,以绿色为例,分别可以是 &a   §a  以及 <GREEN>  最后面那个颜色是skript的颜色格式,中间的单词为颜色单词接着就是给予的那个万能钟,事实上如果你安装了essentials 拿着钟输入/itemdb 就可以看到物品的单词和id数据值但不要以为essentials反馈给你的信息可以全用在skript,至少有10%的物品信息不能用在skript因为skript文件夹下有一个aliases-english.sk文件,这个是skript用来定义游戏内数据的文件,包括原版的物品,在这个文件里面都有一个定义的内容再次以essentials为例,你拿着钟输入/itemdb, ess会告诉你拿着的钟叫WATCH,但你如果打开aliases-english.sk搜索钟的id(347)就会发现钟在skript里面的单词被定义为clock,这也就造成你想要通过skript给玩家钟,就必须写skript中的物品名称.当然了,你自己也可以定义物品内容,这也就解决了mod拥有额外物品的问题,关于aliases-english.sk我会在以后详细说明\n编写一个指令牌子,点击木牌传送到出生点:On click on a sign:     [事件]玩家点击木牌        player has the permission \"go\"  [条件]玩家有\"go\"权限        line 1 of the clicked block is \"&e[xbxy]\"   [条件]木牌第一行的内容是 &e[xbxy]        teleport the player to the world's spawn   [效果]将这名玩家传送到world世界的出生点\n这是一个简单的\"指令木牌\",但这种里的两条条件句都是没有返值的  #本人小白,我不清楚返值这个词存不存在,但我个人是这样定义的也就是说没有go权限的玩家点了没卵用,连提示都没有,那么接下来看看有返值提示的\nOn click on a sign:   [事件]玩家点击木牌        line 1 of the clicked block is \"&e[xbxy]\"  [条件]木牌第一行的内容是 &e[xbxy]        if player has the permission \"go\":  [条件]如果玩家有\"go\"权限就继续执行 如果没有则返回到else:                teleport the player to the world's spawn   [效果]将这名玩家传送到world世界的出生点        else:   [条件句 返回]                message \"你没有权限使用木牌传送,完成大块朵颐任务即可自动激活\"  [效果]发送消息这样就达到了一个完美的体式,仔细对比新增内容,这个是没有什么技术可言\n编写一个随机公告系统:options:   [预设值] options下的内容会与脚本一同加载并记录,当有text内容时可以使用{@变量}调用他们, \n        text0: 公告0\n        text1: 公告1\n        text2: 公告2\n        text3: 公告3\n        text4: 公告4\n\nevery 60 seconds:  [事件]每60秒执行一次\n        set {_text} to a random integer between 0 and 4  [效果]创建一个名为{_text}的局部变量,其内容是0~4中的随机整数\n        if {_text} is 0:  [条件]如果text这个局部变量的内容是数字0\n                broadcast \"{@text0}\"  [效果]发送公告,options下名为text0的内容\n        if {_text} is 1: \n                broadcast \"{@text1}\"\n        if {_text} is 2:\n                broadcast \"{@text2}\"\n        if {_text} is 3:\n                broadcast \"{@text3}\"\n        if {_text} is 4:\n                broadcast \"{@text4}\"\n\n再来看看按顺序公告\nvariables:  预设一个名为{broadcast}的全局变量为0        {broadcast} = 0options:  预设公告内容        text0: 公告0        text1: 公告1        text2: 公告2        text3: 公告3        text4: 公告4\nevery 60 seconds:        if {broadcast} is 0:                broadcast \"{@text0}\"        if {broadcast} is 1:                broadcast \"{@text1}\"        if {broadcast} is 2:                broadcast \"{@text2}\"        if {broadcast} is 3:                broadcast \"{@text3}\"        if {broadcast} is 4:                broadcast \"{@text4}\"        add 1 to {broadcast}  [效果]往{broadcast}这个变量中加1        {broadcast} is 5 [条件]当{broadcast}是5        set {broadcast} to 0  [效果]设置{broadcast}为0\n这样一来就做到了死循环的公告,也就不需要装公告插件了而且{broadcast}这个变量会被储存起来,即使重启了服务器,到了60秒后它又会继续开动\n本人并不是什么技术大神,只是一个爱研究的小白服主,因此请各大神轻喷\n本帖会不断更新\n",
    "replies": [
        {
            "author": "弥天大弥天",
            "timestamp": 1453588200,
            "txt_content": "给东西的可以用物品id吗？"
        },
        {
            "author": "xbxy",
            "timestamp": 1453588560,
            "txt_content": "onltonlyone 发表于 2016-1-24 06:30\n给东西的可以用物品id吗？\n只能是英文 或者你定义过的物品名称"
        },
        {
            "author": "L天乾",
            "timestamp": 1453591920,
            "txt_content": "好东西！"
        },
        {
            "author": "officeyutong",
            "timestamp": 1453599900,
            "txt_content": "感觉vt秒杀这个插件"
        },
        {
            "author": "格林",
            "timestamp": 1453600260,
            "txt_content": "现在先下载下来试试，好用给分"
        },
        {
            "author": "691422759",
            "timestamp": 1453607880,
            "txt_content": "很好的插件，灵活性很高，感谢楼主推荐！"
        },
        {
            "author": "星陨坠",
            "timestamp": 1453608780,
            "txt_content": "喜欢                                                   "
        },
        {
            "author": "雪狼神",
            "timestamp": 1453701120,
            "txt_content": "send \"{变量}\" to player\n然后没反应\n变量有值但是不能输出，迷"
        },
        {
            "author": "少年哟",
            "timestamp": 1453729800,
            "txt_content": "支持 看看"
        },
        {
            "author": "mC小黑123",
            "timestamp": 1453733820,
            "txt_content": "以前试过，\n太麻烦，不好用。"
        },
        {
            "author": "Mr.夜",
            "timestamp": 1453846620,
            "txt_content": "这插件要逆天...Ils+Sk配合简直了...能做出来套装效果，这是个非常不错的事情"
        },
        {
            "author": "Kelcoin",
            "timestamp": 1453851300,
            "txt_content": "看不太懂诶....\n是我智商太低了么"
        },
        {
            "author": "xbxy",
            "timestamp": 1453988280,
            "txt_content": "雪狼神 发表于 2016-1-25 13:52\nsend \"{变量}\" to player\n然后没反应\n变量有值但是不能输出，迷\nsend \"%{变量}%\" to player"
        },
        {
            "author": "RyanJo",
            "timestamp": 1453988820,
            "txt_content": "好东西，顶一下兵收藏一下{:10_492:}"
        },
        {
            "author": "zscaxdqew",
            "timestamp": 1453989600,
            "txt_content": "的确是一个不错的插件"
        },
        {
            "author": "刃起无痕",
            "timestamp": 1453994220,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "a2339420",
            "timestamp": 1453999140,
            "txt_content": "看到好多服务器都在用"
        },
        {
            "author": "936356745",
            "timestamp": 1454369940,
            "txt_content": "等等 xbxy....我貌似在哪见过你"
        },
        {
            "author": "yyeerai",
            "timestamp": 1466748420,
            "txt_content": "升级版随机公告需要skquery的支持：此公告系统支持json消息\noptions:\n        MS: &4[公告]\n        MS1: &c&l欢迎加入xxxx服务器-点击显示更多\n        MS1.1: &2&l======公告系统======\n        MS1.2: &5&l地球在线ip：play.mcbbs.net\n        MS1.3: &3&l输入/help获取帮助\n        MS1.4: &6&l官方QQ群: xxxxx\n        MS1.5: &b&l官方网站: www.mcbbs.net\n        MS1.6: &9&l招收建筑师和技术员\n        MS1.7: &d&l联系方式QQ: xxxxxxxxx\n        MS1.8: &c&k=========================\n        MS2: &c&l点击我即可打开快捷菜单\n        MS2.1: &f&l输入/menu也可以打开快捷菜单\n        MS3: &c&l点击我进行赞助充值\n        MS3.1: &e&l获得激活码以后输入&4&l/code 卡密&e&l进行激活\n        web: http://mcbbs.net\nevery 1 minutes:\n        loop all players:\n                set {_Bnum} to a random integer between 0 and 2\n                if {_Bnum} is 0:\n                        send json of \"{@MS} {@MS1}\" tooltip \"{@MS1.1} %new line% {@MS1.2} %new line% {@MS1.3} %new line% {@MS1.4} %new line% {@MS1.5} %new line% {@MS1.6} %new line% {@MS1.7} %new line% {@MS1.8}\" to loop-player\n                        stop\n                if {_Bnum} is 1:\n                        send json of \"{@MS} {@MS2}\" tooltip \"{@MS2.1}\" run \"/cmd\" to loop-player\n                        stop\n                if {_Bnum} is 2:\n                        send json of \"{@MS} {@MS3}\" tooltip \"{@MS3.1}\" open \"{@web}\" to loop-player\n                        stop复制代码"
        },
        {
            "author": "xbxy",
            "timestamp": 1470376200,
            "txt_content": "yyeerai 发表于 2016-6-24 14:07\n升级版随机公告需要skquery的支持：此公告系统支持json消息\n不到万不得已 我都不会去碰loop \n想不到阁下用的如此随意"
        },
        {
            "author": "中国作死风",
            "timestamp": 1472617020,
            "txt_content": "这编程语法..好自然233"
        },
        {
            "author": "zyizhuo",
            "timestamp": 1472878020,
            "txt_content": "有语言介绍吗。。。教程啥的。。我只用过语言啊"
        },
        {
            "author": "Fisherman_wcz",
            "timestamp": 1481375400,
            "txt_content": "限制高压JJ掉头颅怎么写"
        },
        {
            "author": "MC-骨灰",
            "timestamp": 1501797480,
            "txt_content": "如何让玩家挖玻璃掉落？"
        },
        {
            "author": "青木-[RUST-MC]",
            "timestamp": 1548745560,
            "txt_content": "求助：能帮我写一个当玩家输入tpa <player> 时，为<player>发送一条tellraw ? 我把tellraw写好了，就是一行字:\"[点我传送][点我拒绝]\"不知道该怎么发送啊，希望脚本可以 ..."
        },
        {
            "author": "qq1937625541",
            "timestamp": 1580268240,
            "txt_content": "版主，我真没看懂怎么编辑的啊"
        },
        {
            "author": "Ai_Yt_Li",
            "timestamp": 1582334280,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "MEMZJJY",
            "timestamp": 1583841180,
            "txt_content": "这个插件真好，下载来看一看，mc居然还可以脚本插件\n"
        }
    ]
}