{
    "title": "【1.9】瞬间多次调用、执行模块概念",
    "author": "pca006132",
    "replyCount": 10,
    "timestamp": 1458049620,
    "txt_content": " 本帖最后由 pca006132 于 2016-10-16 13:11 编辑 \n\n在本pca死之前就搬这东西过来给大家看看吧\n说明一下，这教程我也曾经在别的地方发过，因此别百度找到别的帖子是同样内容就说我剽窃什么的\n而且这只是一个概念，只是由于我懒得大幅优化和弄生成器才拿出来的，可能大家能帮忙优化一下吧\n\n注意: 现在可以使用stb去取代clone, 这样就不需要绝对坐标了\n\n在研究icb,ccb,rcb的机制时，我发现了一个挺特别的东西，现在就跟大家分享一下\n就是当ccb被替换成另一个ccb，它是能够马上接受信号的，举个例子\nicb:\nsay start\nsetblock ~ ~1 ~ 1 replace {Command:\"say hi\",auto:1b}\nsay bye\nsay end复制代码假设这cb链是向上的，那么它就会把原本为say bye的ccb变为say hi，当信号到第四个cb也就是被替换了的那个，它能够执行say hi这个指令而不是等下一次有信号才会执行(输出就是start, hi, end)\n因此，我们能够得到一个结论: cb的替换是即时的，也就是只替换NBT而不是整个方块替换\n其实还有一个特性的，就是替换后的朝向是会被忽略的(数据值和NBT的修改不是同时的?这就不清楚了，然而我们可以肯定的就是不能如此瞬间转向)\n\n可能你会问，这样子有什么用？\n我只能说我也不知道，然而我给了一个技术上可行然而麻烦到不得了的概念你们看看吧，就是模块的调用\n\n=========优雅的分隔线=========\n\n\n整个概念:\n把需要执行的模块clone进去主要的执行串(主模块)里，做到多次调用同样模块及1gt内执行尽量多的循环类系统\n如果剩余空间不足，则会自动把剩下模块放进暂存等待下一个gt执行\n\n**代码块里的那些是懒癌卫士里的表达方式，不懂的话可以来这里看:懒癌卫士\n//调用模块{:\n    //检测空间是否足够\n    scoreboard players operation @e[name=start] length -= @e[name=(储存模块长度的marker)] length\n    scoreboard players test @e[name=start] length 1\n    //如果空间足够，则把模块clone到之后的cb里\n    cond:/clone (该模块坐标) ~ ~ ~1 \n    //如果空间不足，则把模块放进暂存里，并且把之后的命令删除\n    execute @e[name=start,score_length=0] ~ ~ ~ clone (该模块坐标) (暂存的位置(可能为相对坐标，即暂存里start marker的相对位置)) \n    cond:fill ~ ~ ~ ~ ~ ~20 stone 0 replace chain_command_block 3\n    //即使cond的ccb无法被删除，也不能执行(前面的cb都被删除了，不可能成功)\n//}复制代码\n\n执行空间完结: 转向\n原因: 避免被 \"fill ~ ~ ~ ~ ~ ~20 stone 0 replace chain_command_block 3\"错误删除\n执行空间完结的指令是必须执行的，否则就有可能出现bug\n//完结: {\n    /scoreboard players set @e[name=start] length 11\n    /clone (暂存) (执行空间)\n    mark:blankCount\n    //先执行scb和stats block (下一个cb的位置) AffectedBlocks @e[name=blankCount,c=1] length\n    //上方的只需要执行一次，得到stats的链接就可以了\n    /testforblocks (暂存) (空置的比较用暂存)\n    //把length = 暂存里空置的地方\n    /scoreboard players operation @e[name=start] length = @e[name=blankCount] length\n    //清空暂存\n    fill -12 4 75 -12 4 85 minecraft:chain_command_block 3\n//}复制代码\n\n模块的切割\n由于这个系统里，调用模块会把之后的命令覆盖掉，所以我们需要把调用模块之后的命令放进另外一个模块里\n(或者在调用的模块里再写一次也可以)\n例子1:\n{\n    say hi\n    module 1\n    say bye\n}\n如果是这种情况，就可以把say bye放进module1，或者是把say bye放进module2，然后在module1最后的地方调用。\n而主模块里则不需要写say bye(因为必定会被覆盖)\n\n例子2:\n{\n    say hi\n    if (testfor @e[name=pca])\n        module 1\n    say bye\n}\n这种情况应该也是最常见的，就可以把say bye放进module1，并且在主模块也写一次(一共两次)。\n或者是把say bye放进module2，分别在主模块和module1里调用\n\n=========优雅的分隔线=========\n\n例子里主模块的长度就十几个ccb，当然真正要做的话就不是那样子了，而是起码一百个，不然这就没什么用了\n这样子我们就能尽情的压榨MC的能力，而不会压榨到崩溃\n而且也能够更好的做到模块化(虽然是被阉割了的)\n当然，现在看来很麻烦，然而我觉得也是那些弄成生成器就会好很多的东西了\n可惜的就是这系统很多地方依赖clone，也就是说要作出大量的坐标计算(或者是直接用绝对坐标)\n而且这个系统效率也不是一般的低...还需要优化(目前一大堆命令才能调用一个模块)\n然而我觉得这个系统如果优化一下和弄一个生成器的话，加上本人无延迟逻辑这个帖子，相信能够在MC里做到接近编程的效果，虽然很差就是了\n而且这个概念对一些需要多次循环、大量条件操作的情况下挺适用的，因为这样子就能够减低运行所需的时间，也能够避免因为穷举运行大量命令而造成的超长游戏刻及卡顿。\n嗯，最后道别一下。各位再见\n\n[groupid=546]Command Block Logic[/groupid]",
    "replies": [
        {
            "author": "zhaoxingeabc",
            "timestamp": 1458050400,
            "txt_content": " 本帖最后由 zhaoxingeabc 于 2016-3-15 14:11 编辑 \n\n这贴发到pcapcb容易理解些……\n毕竟用pcb的人不多，直接发到mcbbs不利于理解……\n其实我真的没看到签名档里有pcb下载"
        },
        {
            "author": "回调然后他",
            "timestamp": 1458050580,
            "txt_content": "要退坑了有感言吗"
        },
        {
            "author": "pca006132",
            "timestamp": 1458051060,
            "txt_content": "回调然后他 发表于 2016-3-15 22:03\n要退坑了有感言吗\n肮脏的交易实在是太多了，这十分之不好，我们必须从根本根除这种腐败的交易"
        },
        {
            "author": "炮手里欧",
            "timestamp": 1458089400,
            "txt_content": "我擦，好屌"
        },
        {
            "author": "回调然后他",
            "timestamp": 1458219540,
            "txt_content": "pca006132 发表于 2016-3-15 22:11\n肮脏的交易实在是太多了，这十分之不好，我们必须从根本根除这种腐败的交易\n ...\n你玩不玩Minecraft了，你不玩我也不玩了"
        },
        {
            "author": "840196733mw",
            "timestamp": 1458301680,
            "txt_content": "pca退坑了？ pcb开发怎么办 pcc怎么办 还没开发的pcd怎么办 pcz怎么办（为了不涉及宣传就不给网址了，pca的论坛）"
        },
        {
            "author": "geng5196",
            "timestamp": 1459412460,
            "txt_content": "感觉好6啊！"
        },
        {
            "author": "chyx",
            "timestamp": 1473354060,
            "txt_content": "我在想 印象里游戏是先标记哪些cb将要在下一个游戏刻执行（加入计划刻）\n\n然后等一个游戏刻\n\n然后执行\n\n\n印象里游戏在破坏方块后计划刻不会去除\n而该计划刻到时间后能不能起效主要看计划刻记载的方块ID和到时间时该位置方块的ID\n有些组合会起效 有些不会"
        },
        {
            "author": "AD【钙奶】",
            "timestamp": 1473467760,
            "txt_content": "我还是看不懂{:10_514:}"
        },
        {
            "author": "七海八千代",
            "timestamp": 1473471000,
            "txt_content": "AD【钙奶】 发表于 2016-9-10 08:36\n我还是看不懂\n这里不是茶馆在这里水贴会被发好人卡。。。"
        }
    ]
}