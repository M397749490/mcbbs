{
    "title": "宠物插件给宠物增加经验的指令",
    "author": "mc小小文",
    "replyCount": 2,
    "timestamp": 1455560160,
    "txt_content": "RT",
    "replies": [
        {
            "author": "lichi2050",
            "timestamp": 1455560160,
            "txt_content": "http://www.mcbbs.net/thread-84894-1-1.html 去看沙发，打开指令\n搜索/petadmin 你就会看见\n\n\n\n\nJ8}EFI)_5`OT[B4C8CG6P(N.png (25.86 KB, 下载次数: 0)\n\n下载附件\n\n2016-2-16 19:23 上传\n\n\n\n\n\n\n"
        },
        {
            "author": "Ameng_阿萌",
            "timestamp": 1455591300,
            "txt_content": " 本帖最后由 lichi2050 于 2016-2-16 12:12 编辑 \n\n貌似不能用指令直接给，可能也有但是我不知道吧- - 不过有一个方法可以控制经验值的获取 \n把 MyPet.LevelSystem.CalculationMode 设置为 JS 或 JavaScript 插件会使用MyPet插件文件夹下 exp.js 内的公式来计算. 你可以自己设定数据附上文本   论坛不能上传js格式的文件所以只能复制上来了，如果打不开记得使用Notepad++来打开\n/*\n    #####################################\n    ###                               ###\n    ### MyPet Exp-System Level Script ###\n    ###         by Keyle              ###\n    ###       MC 1.3.1 script         ###\n    #####################################\n        Usable Methods for the \"mypet\" Object:\n            mypet.getType()\n            mypet.getOwnerName()\n            mypet.getSkilltree()\n            mypet.getUUID()\n            mypet.getWorldGroup()\n*/\n\n//   |---------------|\n//   |  Calculations |\n//   |---------------|\n\n//  Level 2-16 cost 17 XP points each\n//  Level 17-31 cost 3 more XP points than the previous\n//  Level 32-∞ cost 7 more XP points than the previous\n\nfunction calculate(exp) {\n    var level = 0;\n    var requiredExp = 0;\n    var currentExp = 0;\n\n    while (exp > 0) {\n        if (level < 16) {\n            exp -= 17;\n        }\n        else if (level < 31) {\n            exp -= 17 + ((level - 15) * 3);\n        }\n        else {\n            exp -= 17 + ((level - 30) * 7);\n        }\n        if(exp >= 0) {\n            level++;\n        }\n        else {\n            if(level < 16) {\n                currentExp = exp + 17;\n            }\n            else if(level < 31) {\n                currentExp = exp + 17 + (level - 15) * 3;\n            }\n            else {\n                currentExp = exp + 62 + (level - 30) * 7;\n            }\n        }\n    }\n    level++;\n    if(level < 16) {\n        requiredExp = 17;\n    }\n    else if(level < 31) {\n        requiredExp = 17 + (level - 14) * 3;\n    }\n    else {\n        requiredExp = 62 + (level - 29) * 7;\n    }\n    return new Array(level, requiredExp, currentExp);\n}\n\n//   |------------------|\n//   |  Return Methods  |\n//   |------------------|\n\nfunction getRequiredExp(exp, mypet) {\n    return calculate(exp)[1];\n}\n\nfunction getLevel(exp, mypet) {\n    return calculate(exp)[0];\n}\n\nfunction getCurrentExp(exp, mypet) {\n    return calculate(exp)[2];\n}\n\nfunction getExpByLevel(level, mypet) {\n    if(level <= 1) {\n        return 0;\n    }\n    if(level > 31) {\n        var exp = 887;\n        level -= 31;\n        for(var i=1;i<level;i++) {\n            exp += 62 + (i*7);\n        }\n        return exp;\n    }\n    if(level > 17) {\n        var exp = 272;\n        level -= 17;\n        for(var i=1;i<=level;i++) {\n            exp += 17 + (i*3);\n        }\n        return exp;\n    }\n    return (level-1) * 17;\n}\n\n/**\n    Level   Exp     Exp from last\n    2       17      17\n    3       34      17\n    4       51      17\n    5       68      17\n    6       85      17\n    7       102     17\n    8       119     17\n    9       136     17\n    10      153     17\n    11      170     17\n    12      187     17\n    13      204     17\n    14      221     17\n    15      238     17\n    16      255     17\n    17      272     17\n    18      292     20\n    19      315     23\n    20      341     26\n    21      370     29\n    22      402     32\n    23      437     35\n    24      475     38\n    25      516     41\n    26      560     44\n    27      607     47\n    28      657     50\n    29      710     53\n    30      766     56\n    31      825     59\n    32      887     62\n    33      956     69\n    34      1032    76\n    35      1115    83\n    36      1205    90\n    37      1302    97\n    38      1406    104\n    39      1517    111\n    40      1635    118\n    41      1760    125\n*/\n\n\n\n\n"
        }
    ]
}