{
    "title": "Bukkit中怎么创建一个玩家的实体",
    "author": "myJavaWorld",
    "replyCount": 4,
    "timestamp": 1536460080,
    "txt_content": "Bukkit中怎么创建一个玩家的实体",
    "replies": [
        {
            "author": "阿淼",
            "timestamp": 1536810840,
            "txt_content": "这个有点难，建议先学一下写mod然后你就知道了"
        },
        {
            "author": "Himmelt",
            "timestamp": 1536979260,
            "txt_content": "你创建玩家实体的目的是？如果玩家没登录，或者已经登录了，你创建的那个代表什么？"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1537188780,
            "txt_content": "发包，或者艹nms\n我这里给出nms的方法\npublic void spawnFakeNpcAt(Location loc, String name)\n  {\n    CraftWorld cw = (CraftWorld)loc.getWorld();\n    WorldServer ws = cw.getHandle();\n    CraftServer cs = (CraftServer)Bukkit.getServer();\n    PlayerInteractManager pim = new PlayerInteractManager(ws);\n    EntityPlayer player = new EntityPlayer(cs.getServer(), ws, new GameProfile(UUID.randomUUID(), name), pim);\n    player.setPosition(loc.getX(), loc.getY(), loc.getZ());\n    for (Player p : Bukkit.getOnlinePlayers()) {\n      ((CraftPlayer)p).getHandle().playerConnection.sendPacket(new PacketPlayOutPlayerInfo(EnumPlayerInfoAction.ADD_PLAYER, new EntityPlayer[] { player }));\n      ((CraftPlayer)p).getHandle().playerConnection.sendPacket(new PacketPlayOutNamedEntitySpawn(player));\n    }\n  }\n记得用反射做一下版本兼容，不然只支持一个版本，或者用interface也行\n不过发包大法也不错\n\n低版本与高版本EntityPlayer的构造方法不同\n注意一下"
        },
        {
            "author": "1041057958",
            "timestamp": 1537322820,
            "txt_content": "你可以尝试一下解剖插件"
        }
    ]
}