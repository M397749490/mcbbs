{
    "title": "如何实现拥有权限关闭开插件的效果",
    "author": "mchappytowncc",
    "replyCount": 4,
    "timestamp": 1552567260,
    "txt_content": "package fr.IclearshOt;\n\nimport org.bukkit.ChatColor;\nimport org.bukkit.configuration.file.FileConfiguration;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.event.player.PlayerQuitEvent;\n\npublic class Listeners\n  implements Listener\n{\n  SettingsManager settings = SettingsManager.getInstance();\n\n  @EventHandler\n  public void onJoin(PlayerJoinEvent e) { Player p = e.getPlayer();\n    if (p.isOp())\n      e.setJoinMessage(\n        ChatColor.translateAlternateColorCodes('&', this.settings.getConfig().getString(\"OPJoinMessage\"))\n        .replace(\"%PLAYER\", p.getName()));\n    else\n      e.setJoinMessage(ChatColor.translateAlternateColorCodes('&', this.settings.getConfig().getString(\"JoinMessage\"))\n        .replace(\"%PLAYER\", p.getName())); }\n\n  @EventHandler\n  public void onQuit(PlayerQuitEvent e)\n  {\n    Player p = e.getPlayer();\n    if (p.isOp())\n      e.setQuitMessage(\n        ChatColor.translateAlternateColorCodes('&', this.settings.getConfig().getString(\"OPLeftMessage\"))\n        .replace(\"%PLAYER\", p.getName()));\n    else\n      e.setQuitMessage(ChatColor.translateAlternateColorCodes('&', this.settings.getConfig().getString(\"LeftMessage\"))\n        .replace(\"%PLAYER\", p.getName()));\n  }\n}复制代码",
    "replies": [
        {
            "author": "mchappytowncc",
            "timestamp": 1552567260,
            "txt_content": "如题，代码是这样一段。该怎样写弄才能拥有权限关闭这个插件的效果"
        },
        {
            "author": "mchappytowncc",
            "timestamp": 1552567380,
            "txt_content": "因为服务器的一个问题所以需要在这个插件里面添加这样一个权限"
        },
        {
            "author": "1139365029",
            "timestamp": 1552570200,
            "txt_content": "没看懂你在问什么，如果是判断权限，可以这样：\n\nif(player.hasPermission(\"teemp1.temp2\")) { //这个 temp1.temp2 就是你的权限\n    //有权限\n}else{\n    //没有权限\n}复制代码权限需要在 plugin.yml 里面注册\npermissions:\n  temp1.temp2:\n    default: op复制代码"
        },
        {
            "author": "mchappytowncc",
            "timestamp": 1552630020,
            "txt_content": "1139365029 发表于 2019-3-14 21:30\n没看懂你在问什么，如果是判断权限，可以这样：\n\n权限需要在 plugin.yml 里面注册\n感谢 已经实现了"
        }
    ]
}