{
    "title": "分析刚遇到的1.12.2 EnderIo和AE2的冲突问题",
    "author": "Navive",
    "replyCount": 7,
    "timestamp": 1585683360,
    "txt_content": " 本帖最后由 Navive 于 2020-4-1 03:44 编辑 \n\n以前常驻的科技MOD是IE和AE2，今天突然想要把MEK和EIO打上，但是打上之后，启动游戏一直崩溃，看了一下崩溃日志，大概是如下内容：net.minecraftforge.fml.common.LoaderException: enderioconduitsappliedenergistics Failed to load new mod instance.\n        at net.minecraftforge.fml.common.FMLModContainer.constructMod(FMLModContainer.java:604)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\n        at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\n        at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\n        at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\n        at com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\n        at com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\n        at com.google.common.eventbus.EventBus.post(EventBus.java:217)\n        at net.minecraftforge.fml.common.LoadController.sendEventToModContainer(LoadController.java:219)\n        at net.minecraftforge.fml.common.LoadController.propogateStateMessage(LoadController.java:197)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\n        at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\n        at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\n        at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\n        at com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\n        at com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\n        at com.google.common.eventbus.EventBus.post(EventBus.java:217)\n        at net.minecraftforge.fml.common.LoadController.distributeStateMessage(LoadController.java:136)\n        at net.minecraftforge.fml.common.Loader.loadMods(Loader.java:595)\n        at net.minecraftforge.fml.client.FMLClientHandler.beginMinecraftLoading(FMLClientHandler.java:232)\n        at net.minecraft.client.Minecraft.func_71384_a(Minecraft.java:467)\n        at net.minecraft.client.Minecraft.func_99999_d(Minecraft.java:378)\n        at net.minecraft.client.main.Main.main(SourceFile:123)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at net.minecraft.launchwrapper.Launch.launch(Launch.java:135)\n        at net.minecraft.launchwrapper.Launch.main(Launch.java:28)\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: crazypants.enderio.conduit.me.conduit.MEMixin\n        at com.enderio.core.common.transform.EnderCorePlugin$MixinData.initialize(EnderCorePlugin.java:54)\n        at com.enderio.core.common.transform.EnderCorePlugin.lambda$loadMixinSources$0(EnderCorePlugin.java:109)\n        at java.util.ArrayList.forEach(ArrayList.java:1249)\n        at com.enderio.core.common.transform.EnderCorePlugin.loadMixinSources(EnderCorePlugin.java:109)\n        at com.enderio.core.common.transform.EnderCorePlugin.loadMixinSources(EnderCorePlugin.java:103)\n        at com.enderio.core.common.transform.EnderCorePlugin.loadMixinSources(EnderCorePlugin.java:99)\n        at com.enderio.core.common.mixin.SimpleMixinLoader.loadMixinSources(SimpleMixinLoader.java:8)\n        at crazypants.enderio.conduit.me.EnderIOConduitsAppliedEnergistics.<init>(EnderIOConduitsAppliedEnergistics.java:58)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at java.lang.Class.newInstance(Class.java:442)\n        at net.minecraftforge.fml.common.ILanguageAdapter$JavaAdapter.getNewInstance(ILanguageAdapter.java:191)\n        at net.minecraftforge.fml.common.FMLModContainer.constructMod(FMLModContainer.java:599)\n        ... 36 more\nCaused by: java.lang.ClassNotFoundException: crazypants.enderio.conduit.me.conduit.MEMixin\n        at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:191)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:264)\n        at com.enderio.core.common.transform.EnderCorePlugin$MixinData.initialize(EnderCorePlugin.java:51)\n        ... 50 more\nCaused by: java.lang.NoClassDefFoundError: appeng/api/networking/IGridHost\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:182)\n        ... 55 more\nCaused by: java.lang.ClassNotFoundException: appeng.api.networking.IGridHost\n        at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:191)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 59 more\nCaused by: java.lang.NullPointerException\n        at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:182)\n        ... 61 more\n这里贴出来是方便有类似情况的朋友可以一起讨论。可以看出，主要是EIO的问题导致游戏启动崩溃：\njava.lang.ClassNotFoundException: crazypants.enderio.conduit.me.conduit.MEMixin\n我简单分析了一下，发现主要问题在于：java.lang.NoClassDefFoundError:  appeng/api/networking/IGridHost\n这个其实是AE2里面的一个类，通过看EIO的代码发现这里是对AE2的依赖，但是我本身是有AE2的，版本是rv6-stable-7，EIO的版本是5.1.55。\n代码里可以发现EIO5.1.55对AE2的版本要求是rv5-stable-11以上，应该是满足的，但是启动还是会崩溃。\n后来又考虑到NoClassDefFoundError一般是两种可能，一是jar包冲突，二是加载顺序问题。排查后，我排除了一的情况，因为appeng只有AE2才有。\n所以重点放在第二种情况上，我看了一下mod加载的列表：\n| State | ID                                | Version                      | Source                                             | Signature |\n\n|:----- |:--------------------------------- |:---------------------------- |:-------------------------------------------------- |:--------- |\n| LC    | minecraft                         | 1.12.2                       | minecraft.jar                                      | None      |\n| LC    | mcp                               | 9.42                         | minecraft.jar                                      | None      |\n| LC    | FML                               | 8.0.99.99                    | forge-1.12.2-14.23.5.2847.jar                      | None      |\n| LC    | forge                             | 14.23.5.2847                 | forge-1.12.2-14.23.5.2847.jar                      | None      |\n| LC    | jecharacters                      | 1.12.0-2.3.2                 | [JEI拼音搜索]JustEnoughCharacters-1.12.0-2.3.2.jar     | None      |\n| LC    | openmodscore                      | 0.12.1                       | minecraft.jar                                      | None      |\n| LC    | foamfixcore                       | 7.7.4                        | minecraft.jar                                      | None      |\n| LC    | jei                               | 4.15.0.289                   | [JEI物品管理器]jei_1.12.2-4.15.0.289.jar                | None      |\n| LC    | endercore                         | 1.12.2-0.5.73                | [重要前置]EnderCore-1.12.2-0.5.73.jar                  | None      |\n| LC    | enderio                           | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| LC    | enderiointegrationtic             | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| LC    | enderiobase                       | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| LC    | enderioconduits                   | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| LE    | enderioconduitsappliedenergistics | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| L     | enderioconduitsopencomputers      | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| L     | enderioconduitsrefinedstorage     | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| L     | enderiointegrationforestry        | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| L     | ctm                               | MC1.12.2-0.3.3.22            | [凿子前置]CTM-MC1.12.2-0.3.3.22.jar                    | None      |\n| L     | chisel                            | MC1.12.2-0.2.1.35            | [凿子2]Chisel-MC1.12.2-0.2.1.35.jar                  | None      |\n| L     | mantle                            | 1.12-1.3.3.39                | [地幔-匠魂前置]Mantle-1.12-1.3.3.39.jar                  | None      |\n| L     | tconstruct                        | 1.12.2-2.12.0.115            | [匠魂2]TConstruct-1.12.2-2.12.0.115.jar              | None      |\n| L     | enderiointegrationticlate         | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| L     | enderiomachines                   | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| L     | enderiopowertools                 | 5.1.52                       | [EIO末影接口]EnderIO-1.12.2-5.1.52.jar                 | None      |\n| L     | forgelin                          | 1.8.4                        | [重要前置]Forgelin-1.8.4.jar                           | None      |\n| L     | mcmultipart                       | 2.5.3                        | MCMultiPart-2.5.3.jar                              | None      |\n| L     | mekanism                          | 1.12.2-9.8.3.390             | Mekanism-1.12.2-9.8.3.390.jar                      | None      |\n| L     | teslacorelib                      | 1.0.17                       | [重要前置]tesla-core-lib-1.12.2-1.0.17.jar             | None      |\n| L     | industrialforegoing               | 1.12.2-1.12.2                | [IF工业先锋]industrialforegoing-1.12.2-1.12.13-237.jar | None      |\n| L     | harvestcraft                      | 1.12.2zb                     | [潘马斯农场]Pam's HarvestCraft-1.12.2zb.jar             | None      |\n| L     | jehc                              | 1.12.2                       | [JEI更多潘马斯合成]JEHC-1.12.2-1.6.2.0.jar                | None      |\n| L     | inventorytweaks                   | 1.64-dev+release.117.7221546 | [R键整理]InventoryTweaks-1.64-dev_2.jar               | None      |\n| L     | chameleon                         | 1.12-4.1.3                   | [重要前置]Chameleon-1.12-4.1.3.jar                     | None      |\n| L     | storagedrawers                    | 1.12-5.3.5                   | [储物抽屉]StorageDrawers-1.12.2-5.3.7.jar              | None      |\n| L     | tinkertoolleveling                | 1.12.2-1.1.0.DEV.b23e769     | [匠魂工具等级]TinkerToolLeveling-1.12.2-1.1.0.jar        | None      |\n| L     | bibliocraft                       | 2.4.5                        | [展示架]BiblioCraft[v2.4.5][MC1.12.2].jar             | None      |\n| L     | appliedenergistics2               | rv6-stable-6                 | [应用能源2]appliedenergistics2-rv6-stable-6.jar        | None      |\n| L     | betterbuilderswands               | 0.12.0                       | [建筑之杖]BetterBuildersWands-1.12-0.12.0.251.jar      | None      |\n| L     | openmods                          | 0.12.1                       | [开源前置]OpenModsLib-1.12.2-0.12.1.jar                | None      |\n| L     | openblocks                        | 1.8                          | [开源方块]OpenBlocks-1.12.2-1.8.jar                    | None      |\n| L     | cookingforblockheads              | 6.4.65                       | [懒人厨房]CookingForBlockheads_1.12.2-6.4.65.jar       | None      |\n| L     | lootbags                          | 2.5.7                        | [战利品]LootBags-1.12.2-2.5.7.jar                     | None      |\n| L     | flammpfeil.slashblade             | mc1.12-r16                   | [拔刀剑]SlashBlade-mc1.12-r16.jar                     | None      |\n| L     | journeymap                        | 1.12.2-5.5.3                 | [旅行地图]journeymap-1.12.2-5.5.3.jar                  | None      |\n| L     | extrautils2                       | 1.0                          | [更多实用设备]extrautils2-1.12-1.9.9.jar                 | None      |\n| L     | betterhud                         | 1.4-beta.3                   | [更好的HUD]betterhud-1.12.2-1.4-beta.3.jar            | None      |\n| L     | immersiveengineering              | 0.12-88                      | [沉浸工程]ImmersiveEngineering-1.12.2-0.12-88.jar      | None      |\n| L     | immersivetech                     | 1.3.10                       | [沉浸科技]immersivetech-1.12-1.3.10.jar                | None      |\n| L     | foamfix                           | 0.9.9.1-1.12.2               | [游戏优化]foamfix-0.9.9.1-1.12.2-anarchy.jar           | None      |\n| L     | applecore                         | 3.1.4                        | AppleCore-mc1.12.2-3.1.4.jar                       | None      |\n| L     | spiceoflife                       | 1.3.12                       | [生活调味料]SpiceOfLife-mc1.12-1.3.12.jar               | None      |\n| L     | customskinloader                  | 14.9                         | [皮肤模组]CustomSkinLoader_Forge-14.9.jar              | None      |\n| L     | oreexcavation                     | 1.4.119                      | [矿物开凿]OreExcavation-1.4.119.jar                    | None      |\n| L     | croparia                          | 2.4                          | [矿石作物]Croparia-2.4.jar                             | None      |\n| L     | simpleleather                     | 1.12-1.0                     | [腐肉烧皮革]simpleleather-1.12-1.0.jar                  | None      |\n| L     | i18nmod                           | 1.12.2-1.0.7                 | [自动汉化更新]i18nupdatemod-1.12.2-1.0.7.jar             | None      |\n| L     | treegrowingsimulator              | 0.0.4                        | [跳舞树生长]TreeGrowingSimulator2017-1.0.1.jar          | None      |\n| L     | mousetweaks                       | 2.8                          | [鼠标手势]MouseTweaks-2.8-mc1.12.1.jar                 | None      |\n| L     | appleskin                         | 1.0.9                        | AppleSkin-mc1.12-1.0.9.jar                         | None      |\n| L     | fastleafdecay                     | v14                          | FastLeafDecay-v14.jar                              | None      |\n| L     | waila                             | 1.8.26                       | Hwyla-1.8.26-B41_1.12.2.jar                        | None      |\n| L     | mekanismgenerators                | 1.12.2-9.8.3.390             | MekanismGenerators-1.12.2-9.8.3.390.jar            | None      |\n| L     | mekanismtools                     | 1.12.2-9.8.3.390             | MekanismTools-1.12.2-9.8.3.390.jar                 | None      |\n| L     | p455w0rdslib                      | 2.0.35                       | p455w0rdslib-1.12-2.0.35.jar                       | None      |\n| L     | teslacorelib_registries           | 1.0.17                       | [重要前置]tesla-core-lib-1.12.2-1.0.17.jar             | None      |\n发现AE2的加载顺序非常靠后，只能认为是文件名的问题，所以把\n[应用能源2]appliedenergistics2-rv6-stable-6.jar\n改名为\n[AE2]appliedenergistics2-rv6-stable-7.jar\n而EIO名称为\n[EIO末影接口]EnderIO-1.12.2-5.1.55.jar\n之后启动游戏，正常启动了。\n所以说明了两个问题，第一是jar的加载顺序真的和文件系统的排序有关系，第二是有依赖关系的mod，尽量把被依赖的mod放在前序加载。\n以上。\n\n\n",
    "replies": [
        {
            "author": "Xiao2",
            "timestamp": 1585697160,
            "txt_content": "这么一说。。。\nmod原来的名字估计也是相对重要的。。"
        },
        {
            "author": "E.T.星落辰",
            "timestamp": 1585741020,
            "txt_content": "哈哈哈哈哈还有这种沙雕操作，我服了"
        },
        {
            "author": "xiaoqiqi0923",
            "timestamp": 1613929560,
            "txt_content": "我打开也是直接乱码 搞不明白"
        },
        {
            "author": "xiaoqiqi0923",
            "timestamp": 1613929620,
            "txt_content": "还有这种操作？？ 高手的示范啊 awa"
        },
        {
            "author": "xiaoqiqi0923",
            "timestamp": 1613929740,
            "txt_content": "你这些mod我都玩过了 让我童年过的非常快乐 ！"
        },
        {
            "author": "xiaoqiqi0923",
            "timestamp": 1613930700,
            "txt_content": "还有mod排序这说法？？ 太细节了 wc"
        },
        {
            "author": "xiaoqiqi0923",
            "timestamp": 1613930700,
            "txt_content": "顺序一换 还可以随便进游戏了 awa"
        }
    ]
}