{
    "title": "如何用BanItemWithNBT禁用无附魔物品",
    "author": "NoName德里奇",
    "replyCount": 12,
    "timestamp": 1580432700,
    "txt_content": "如题，其实是两个问题，能解答两者中的任何一个都可以最佳，\n如果两者都能解答还有额外评分奖励。\n\n问题一：\n如何使用BanItemWithNBT，ban没有附魔的弓的使用（flag:use），只要弓有附魔就可以正常使用？\n\n问题二：\n如何使用BanItemWithNBT，ban没有力量5附魔的弓的使用，不论这把弓有无其他附魔，只要没有力量5（力量4也不行）就无法使用，\n但只要有力量5的附魔就可以正常使用？\n\n额外的问题：\n如果你认为 BanItemWithNBT 实现以上功能比较麻烦，你有没有推荐的更好的插件？\n任何服务端的都可以。\n\n感谢各位大佬的回答，这里先感谢了。",
    "replies": [
        {
            "author": "cc7w",
            "timestamp": 1580432700,
            "txt_content": "value.indexOf(\"id:16\")!=-1这句话的意思就是把NBT值作为字符串,然后使用JS语法里字符串的indexOf方法来确定id:16这个字符串的位置,如果返回-1,说物品NBT中的ench节点的值不包含id为16的附魔\nhttps://www.mcbbs.net/thread-865052-1-1.html\n\n写js"
        },
        {
            "author": "红菜头糕",
            "timestamp": 1580449920,
            "txt_content": "/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|!value.contains(\"{lvl:5,id:48}\")\n禁止没有力量5附魔的弓箭使用，单独禁止无附魔的不懂"
        },
        {
            "author": "NoName德里奇",
            "timestamp": 1580482140,
            "txt_content": " 本帖最后由 NoName德里奇 于 2020-1-31 22:55 编辑 \nSS菜鸟君 发表于 2020-1-31 13:52\n/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|!value.contains(\"{lvl:5,id:48}\")\n禁止没有力量5 ...\n我刚才在服务器中测试使用如下命令：\n/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|!value.contains(\"{lvl:5,id:48}\")\n\n但将自己 /deop 后仍然可以用无附魔的弓射箭，\n在控制台执行 /bi scan 我的ID 之后，控制台回显“未找到任何禁用物品”，请问是什么原因？"
        },
        {
            "author": "NoName德里奇",
            "timestamp": 1580482440,
            "txt_content": "cc7w 发表于 2020-1-31 10:20\nvalue.indexOf(\"id:16\")!=-1这句话的意思就是把NBT值作为字符串,然后使用JS语法里字符串的indexOf方法来确 ...\n大佬好！我仔细阅读了你附上的资料，我推测JS应当卸载NBT标签求值的参数NBTValue，nv中，\n于是我参照 板凳楼层 的命令，编写了以下命令，并成功运行：\n/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|value.indexOf(\"id:16\")!=-1复制代码\n运行结果：\n\n但将自己 /deop 后仍然可以用无附魔的弓射箭，\n在控制台执行 /bi scan 我的ID 之后，控制台回显“未找到任何禁用物品”，请问是什么原因？"
        },
        {
            "author": "cc7w",
            "timestamp": 1580482860,
            "txt_content": " 本帖最后由 cc7w 于 2020-1-31 23:03 编辑 \nNoName德里奇 发表于 2020-1-31 22:54\n大佬好！我仔细阅读了你附上的资料，我推测JS应当卸载NBT标签求值的参数NBTValue，nv中，\n于是我参照 板 ...\nhttps://wiki.biligame.com/mc/%E9%99%84%E9%AD%94/ID\n力量的ID是48 锋利才是16\n\n以及：\nvalue.indexOf()是取某个附魔的等级\n你写的!=-1 （不等于-1）是指附魔存在\n只取V应该是!=5（不等于5）"
        },
        {
            "author": "红菜头糕",
            "timestamp": 1580487720,
            "txt_content": "NoName德里奇 发表于 2020-1-31 22:49\n我刚才在服务器中测试使用如下命令：\n/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|!value.cont ...\n这个指令只能满足你第二个要求，也就是附魔弓中，不带有力量V的弓不能使用，但是它会漏掉没有附魔的弓的判断"
        },
        {
            "author": "NoName德里奇",
            "timestamp": 1580549580,
            "txt_content": "cc7w 发表于 2020-1-31 23:01\nhttps://wiki.biligame.com/mc/%E9%99%84%E9%AD%94/ID\n力量的ID是48 锋利才是16/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|value.indexOf(\"id:16\")==-1复制代码\n那么理论上这样写应该可以检测 16 号附魔“力量”不存在？\n\n我运行了这条命令，回显：\n\n\n但将自己 /deop 后仍然可以用无附魔的弓射箭，\n在控制台执行 /bi scan 我的ID 之后，控制台还是回显“未找到任何禁用物品”，\n请问是什么原因？"
        },
        {
            "author": "cc7w",
            "timestamp": 1580549700,
            "txt_content": " 本帖最后由 cc7w 于 2020-2-1 17:37 编辑 \nNoName德里奇 发表于 2020-2-1 17:33\n那么理论上这样写应该可以检测 16 号附魔“力量”不存在？\n\n我运行了这条命令，回显：\n弓的力量附魔id是\n48   请把16换成48"
        },
        {
            "author": "NoName德里奇",
            "timestamp": 1580550780,
            "txt_content": " 本帖最后由 NoName德里奇 于 2020-2-1 17:58 编辑 \ncc7w 发表于 2020-2-1 17:35\n弓的力量附魔id是\n48   请把16换成48\n大佬急了，我错了（跪）\n\n/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|value.indexOf(\"id:48\")==-1复制代码\n运行了以后是这样\n\n\n之后我还是deop，可以用没有附魔的弓射箭。\n有什么好方法吗（悲）\n\n刚才做了进一步的测试，我把弓上了其他附魔，没上力量。\n但是这些弓也不会被 BanItemWithNBT 检测到，可以使用；\n/bi scan 我的ID 也回显“没有检测任何违禁物品”。"
        },
        {
            "author": "cc7w",
            "timestamp": 1580551500,
            "txt_content": " 本帖最后由 cc7w 于 2020-2-1 18:07 编辑 \nNoName德里奇 发表于 2020-2-1 17:53\n大佬急了，我错了（跪）\n/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|value.indexOf(\"id:48\")!=5\n\n/bi add f:use c:no r:没有包含力量附魔 nl:ench nv:js|value.indexOf(\"id:48\")!=-1\n\n把前面的ban都解除，上面两个命令二选一测试一下。"
        },
        {
            "author": "NoName德里奇",
            "timestamp": 1580558160,
            "txt_content": "cc7w 发表于 2020-2-1 18:05\n/bi add f:use c:no r:没有包含力量V附魔 nl:ench nv:js|value.indexOf(\"id:48\")!=5\n\n/bi add f:use c:no  ...\n试过了，把 != 改为 == 就可以判断没有附魔。\n/bi add f:use c:no r:没有包含力量附魔 nl:ench nv:js|value.indexOf(\"id:48\")==-1复制代码\n感谢大佬的帮助！"
        },
        {
            "author": "1327416413",
            "timestamp": 1580565540,
            "txt_content": "怎么ban个别拔刀"
        }
    ]
}