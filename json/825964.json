{
    "title": "如何让一个方块破坏时掉落自定义的物品",
    "author": "roj234",
    "replyCount": 9,
    "timestamp": 1540629900,
    "txt_content": "如何让一个方块破坏时掉落自定义的物品\nBlockEvent.BreakEvent(setResult)没用",
    "replies": [
        {
            "author": "tt36999",
            "timestamp": 1540885920,
            "txt_content": " 本帖最后由 tt36999 于 2018-10-30 16:08 编辑 \n\n你在使用什么版本的Forge？如果是1.12的话，在你的方块类下重载这两个方法@Override//获取当该方块被正常挖掘时的掉落（挖掘等级不够不会触发，比如挖掘石头获得原石）\n    public Item getItemDropped(IBlockState state, Random rand, int fortune) {\n        return super.getItemDropped(state, rand, fortune);\n    }\n\n    @Override//获取完整的方块掉落列表（比如挖掘煤矿石掉落N个煤炭）\n    public void getDrops(NonNullList<ItemStack> drops, IBlockAccess world, BlockPos pos, IBlockState state, int fortune) {\n        super.getDrops(drops, world, pos, state, fortune);\n    }复制代码\n"
        },
        {
            "author": "roj234",
            "timestamp": 1540960560,
            "txt_content": " 本帖最后由 roj234 于 2018-10-31 13:23 编辑 \ntt36999 发表于 2018-10-30 15:52\n你在使用什么版本的Forge？如果是1.12的话，在你的方块类下重载这两个方法\n\n ...\n返回空气可以不？可以！\n\n非常感谢！\n"
        },
        {
            "author": "WIKEI",
            "timestamp": 1540980720,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "roj234",
            "timestamp": 1540992060,
            "txt_content": "WIKEI 发表于 2018-10-31 18:12\n大佬，问你个问题，怎么在某个位置掉落一个物品？（相当于空降 不在破坏任何方块的时候） ...\n使用EntityItem\n\n            EntityItem itemEntity = new EntityItem(world,\n                    x,y,z.itemStack);\n\n            world.spawnEntity(itemEntity);\n\n案例：\n    public static void dropStack(World world, ItemStack stack, BlockPos pos) {\n        if(stack != null && stack.getCount() > 0) {\n            float rx = world.rand.nextFloat() * 0.8F;\n            float ry = world.rand.nextFloat() * 0.8F;\n            float rz = world.rand.nextFloat() * 0.8F;\n\n            EntityItem itemEntity = new EntityItem(world,\n                    pos.getX() + rx, pos.getY() + ry, pos.getZ() + rz,\n                    stack.copy());\n\n            float factor = 0.05F;\n\n            itemEntity.motionX = world.rand.nextGaussian() * factor;\n            itemEntity.motionY = world.rand.nextGaussian() * factor + 0.2F;\n            itemEntity.motionZ = world.rand.nextGaussian() * factor;\n            world.spawnEntity(itemEntity);\n\n            stack.setCount(0);\n        }\n    }\n复制代码"
        },
        {
            "author": "WIKEI",
            "timestamp": 1540993380,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "WIKEI",
            "timestamp": 1540994400,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "roj234",
            "timestamp": 1541002920,
            "txt_content": " 本帖最后由 roj234 于 2018-11-1 00:24 编辑 \nWIKEI 发表于 2018-10-31 22:00\n不过还有一个问题....生成的物品捡不起来 代码如下：\n我给你的示例是真正用在我MOD里的代码，所以我也不知道怎么回事啦...反正我用着是没问题\n\nnew ItemStack(物品，数量，伤害值，NBT)；\n\n\n怕不是你生成了0个物品？\n(可能是setCount(0)没了？)"
        },
        {
            "author": "WIKEI",
            "timestamp": 1541035560,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "WIKEI",
            "timestamp": 1541062500,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n"
        }
    ]
}