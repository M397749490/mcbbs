{
    "title": "服务器停止响应",
    "author": "超级粒子炮",
    "replyCount": 20,
    "timestamp": 1583892720,
    "txt_content": " 本帖最后由 超级粒子炮 于 2020-3-11 10:55 编辑 \n\n[13:22:40] [Paper Watchdog Thread/ERROR]: --- DO NOT REPORT THIS TO PAPER - THIS IS NOT A BUG OR A CRASH  - git-Paper-129 (MC: 1.15.2) ---\n[13:22:40] [Paper Watchdog Thread/ERROR]: The server has not responded for 10 seconds! Creating thread dump\n[13:22:40] [Paper Watchdog Thread/ERROR]: ------------------------------\n[13:22:40] [Paper Watchdog Thread/ERROR]: Server thread dump (Look for plugins here before reporting to Paper!):\n[13:22:40] [Paper Watchdog Thread/ERROR]: Chunk wait task info below: \n[13:22:40] [Paper Watchdog Thread/ERROR]: -102,2880 in 'world:\n[13:22:40] [Paper Watchdog Thread/ERROR]: Load Task - none\n[13:22:40] [Paper Watchdog Thread/ERROR]: Save Task - none\n[13:22:40] [Paper Watchdog Thread/ERROR]: Chunk Holder - non-null\n[13:22:40] [Paper Watchdog Thread/ERROR]: Chunk Status - minecraft:light\n[13:22:40] [Paper Watchdog Thread/ERROR]: Chunk Holder Status - minecraft:features\n[13:22:40] [Paper Watchdog Thread/ERROR]: ------------------------------\n[13:22:40] [Paper Watchdog Thread/ERROR]: Current Thread: Server thread\n[13:22:40] [Paper Watchdog Thread/ERROR]:         PID: 25 | Suspended: false | Native: false | State: TIMED_WAITING\n[13:22:40] [Paper Watchdog Thread/ERROR]:         Stack:\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 sun.misc.Unsafe.park(Native Method)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 java.util.concurrent.locks.LockSupport.parkNanos(Unknown Source)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.bl(IAsyncTaskHandler.java:131)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.awaitTasks(IAsyncTaskHandler.java:120)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.ChunkProviderServer.getChunkAt(ChunkProviderServer.java:389)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.World.getChunkAt(World.java:321)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.World.c(World.java:1166)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.ICollisionAccess$1.tryAdvance(SourceFile:121)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 java.util.stream.Streams$ConcatSpliterator.tryAdvance(Unknown Source)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.StreamAccumulator$1.tryAdvance(SourceFile:31)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 java.util.Spliterators$1Adapter.hasNext(Unknown Source)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.VoxelShapes.a(VoxelShapes.java:178)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.Entity.a(Entity.java:857)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.Entity.a(Entity.java:829)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.Entity.e(Entity.java:791)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.Entity.move(Entity.java:572)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PlayerConnection.a(PlayerConnection.java:1049)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PacketPlayInFlying.a(SourceFile:122)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PacketPlayInFlying$PacketPlayInPosition.a(SourceFile:56)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PlayerConnectionUtils.lambda$ensureMainThread$0(PlayerConnectionUtils.java:23)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PlayerConnectionUtils$$Lambda$4483/2086503420.run(Unknown Source)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.TickTask.run(SourceFile:18)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.executeTask(IAsyncTaskHandler.java:136)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandlerReentrant.executeTask(SourceFile:23)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.executeNext(IAsyncTaskHandler.java:109)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.MinecraftServer.ba(MinecraftServer.java:1038)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.MinecraftServer.executeNext(MinecraftServer.java:1031)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.executeAll(IAsyncTaskHandler.java:95)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.MinecraftServer.a(MinecraftServer.java:1172)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.MinecraftServer.run(MinecraftServer.java:934)\n[13:22:40] [Paper Watchdog Thread/ERROR]:                 java.lang.Thread.run(Unknown Source)\n[13:22:40] [Paper Watchdog Thread/ERROR]: ------------------------------\n[13:22:40] [Paper Watchdog Thread/ERROR]: --- DO NOT REPORT THIS TO PAPER - THIS IS NOT A BUG OR A CRASH ---\n[13:22:40] [Paper Watchdog Thread/ERROR]: ------------------------------\n[13:22:45] [Paper Watchdog Thread/ERROR]: --- DO NOT REPORT THIS TO PAPER - THIS IS NOT A BUG OR A CRASH  - git-Paper-129 (MC: 1.15.2) ---\n[13:22:45] [Paper Watchdog Thread/ERROR]: The server has not responded for 15 seconds! Creating thread dump\n[13:22:45] [Paper Watchdog Thread/ERROR]: ------------------------------\n[13:22:45] [Paper Watchdog Thread/ERROR]: Server thread dump (Look for plugins here before reporting to Paper!):\n[13:22:45] [Paper Watchdog Thread/ERROR]: Chunk wait task info below: \n[13:22:45] [Paper Watchdog Thread/ERROR]: -135,2898 in 'world:\n[13:22:45] [Paper Watchdog Thread/ERROR]: Load Task - none\n[13:22:45] [Paper Watchdog Thread/ERROR]: Save Task - none\n[13:22:45] [Paper Watchdog Thread/ERROR]: Chunk Holder - non-null\n[13:22:45] [Paper Watchdog Thread/ERROR]: Chunk Status - minecraft:light\n[13:22:45] [Paper Watchdog Thread/ERROR]: Chunk Holder Status - minecraft:features\n[13:22:45] [Paper Watchdog Thread/ERROR]: ------------------------------\n[13:22:45] [Paper Watchdog Thread/ERROR]: Current Thread: Server thread\n[13:22:45] [Paper Watchdog Thread/ERROR]:         PID: 25 | Suspended: false | Native: false | State: TIMED_WAITING\n[13:22:45] [Paper Watchdog Thread/ERROR]:         Stack:\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 sun.misc.Unsafe.park(Native Method)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 java.util.concurrent.locks.LockSupport.parkNanos(Unknown Source)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.bl(IAsyncTaskHandler.java:131)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.awaitTasks(IAsyncTaskHandler.java:120)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.ChunkProviderServer.getChunkAt(ChunkProviderServer.java:389)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.World.getChunkAt(World.java:321)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.World.c(World.java:1166)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.ICollisionAccess$1.tryAdvance(SourceFile:121)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 java.util.stream.Streams$ConcatSpliterator.tryAdvance(Unknown Source)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.StreamAccumulator$1.tryAdvance(SourceFile:31)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 java.util.Spliterators$1Adapter.hasNext(Unknown Source)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.VoxelShapes.a(VoxelShapes.java:178)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.Entity.a(Entity.java:857)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.Entity.a(Entity.java:829)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.Entity.e(Entity.java:791)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.Entity.move(Entity.java:572)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PlayerConnection.a(PlayerConnection.java:1049)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PacketPlayInFlying.a(SourceFile:122)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PacketPlayInFlying$PacketPlayInPosition.a(SourceFile:56)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PlayerConnectionUtils.lambda$ensureMainThread$0(PlayerConnectionUtils.java:23)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.PlayerConnectionUtils$$Lambda$4483/2086503420.run(Unknown Source)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.TickTask.run(SourceFile:18)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.executeTask(IAsyncTaskHandler.java:136)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandlerReentrant.executeTask(SourceFile:23)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.executeNext(IAsyncTaskHandler.java:109)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.MinecraftServer.ba(MinecraftServer.java:1038)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.MinecraftServer.executeNext(MinecraftServer.java:1031)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.IAsyncTaskHandler.executeAll(IAsyncTaskHandler.java:95)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.MinecraftServer.a(MinecraftServer.java:1172)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 net.minecraft.server.v1_15_R1.MinecraftServer.run(MinecraftServer.java:934)\n[13:22:45] [Paper Watchdog Thread/ERROR]:                 java.lang.Thread.run(Unknown Source)\n[13:22:45] [Paper Watchdog Thread/ERROR]: ------------------------------\n[13:22:45] [Paper Watchdog Thread/ERROR]: --- DO NOT REPORT THIS TO PAPER - THIS IS NOT A BUG OR A CRASH ---\n[13:22:45] [Paper Watchdog Thread/ERROR]: ------------------------------\n\n\nlog:https://pastebin.com/S6t2462d\n服务器最近总是停止响应，一天出现八次，最后都崩溃了。不知道为什么无响应，不知道什么时候无响应，也不知道是什么导致的……有点迷茫\n这个是无响应的时候收集的timings报告：https://timings.aikar.co/?id=569 ... c75e36e15c0#timings\n\n这个是无响应时候收集的spark报告：https://sparkprofiler.github.io/#L5CSdvSgcJ\n\n\n\n\n\n\n\n\n\n\nlogs.zip\n\n\n2020-3-11 10:41 上传\n点击文件名下载附件\n\n\n\n\n215.6 KB, 下载次数: 0\n\n\n\n\n\n\n\n\n\n\n\n\n最后一次无响应.zip\n\n\n2020-3-11 10:46 上传\n点击文件名下载附件\n\n\n\n\n50.48 KB, 下载次数: 0\n\n\n\n\n",
    "replies": [
        {
            "author": "xmdhs",
            "timestamp": 1583892720,
            "txt_content": "堆栈中打印的都是原版的类，而且看名字似乎是区块加载相关。。\n\n预加载地图，和想办法阻止玩家跑图呢"
        },
        {
            "author": "xmdhs",
            "timestamp": 1583892720,
            "txt_content": "直接上传 log"
        },
        {
            "author": "695345508zxc",
            "timestamp": 1583892900,
            "txt_content": "这可能是你设置的内存太少"
        },
        {
            "author": "695345508zxc",
            "timestamp": 1583892900,
            "txt_content": "请问你是vps开服 还是面板 还是家庭主机呢"
        },
        {
            "author": "695345508zxc",
            "timestamp": 1583893140,
            "txt_content": "你可以提供一下相关载图？"
        },
        {
            "author": "弥猫うた",
            "timestamp": 1583893320,
            "txt_content": "你是不是给了玩家飞行权限，如果不是装反作弊\n飞行速度过快的跑地图导致服务器负载"
        },
        {
            "author": "695345508zxc",
            "timestamp": 1583893320,
            "txt_content": "695345508zxc 发表于 2020-3-11 10:19\n你可以提供一下相关载图？\n开始服务器的那个.bat文件 载图一下谢谢"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583893380,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-3-11 10:26 编辑 \n\n服务器开了正版验证？\n你可以在spigot.yml中延长timeout-time\n\n无法验证正版验证服务器\n可能你得关验证"
        },
        {
            "author": "超级粒子炮",
            "timestamp": 1583893440,
            "txt_content": " 本帖最后由 超级粒子炮 于 2020-3-11 10:26 编辑 \n695345508zxc 发表于 2020-3-11 10:19\n你可以提供一下相关载图？@echo OFF\n\"C:\\Program Files\\Java\\jre1.8.0_241\\bin\\java.exe\" -Xms1G -Xmx9G -server -jar paper-131.jar\npause\n复制代码"
        },
        {
            "author": "695345508zxc",
            "timestamp": 1583893620,
            "txt_content": "你可以试着@echo OFF\n\"C:\\Program Files\\Java\\jre1.8.0_241\\bin\\java.exe\" -Xms2048MB -Xmx4G -server -XX:+DisableExplicitGC -jar paper-131.jar\npause"
        },
        {
            "author": "695345508zxc",
            "timestamp": 1583893860,
            "txt_content": "OK？................."
        },
        {
            "author": "超级粒子炮",
            "timestamp": 1583894520,
            "txt_content": "EmptyLava 发表于 2020-3-11 10:23\n服务器开了正版验证？\n你可以在spigot.yml中延长timeout-time\n和正版验证有关系吗……更多的日志已经上传。。你再看看"
        },
        {
            "author": "695345508zxc",
            "timestamp": 1583894640,
            "txt_content": "695345508zxc 发表于 2020-3-11 10:31\nOK？.................\n试试..........."
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583894880,
            "txt_content": "超级粒子炮 发表于 2020-3-11 10:42\n和正版验证有关系吗……更多的日志已经上传。。你再看看\n\n主线程上进行了连接到mojang服务器的事件\n但是超时了，所以无响应\n你试试延长timeout-time吧"
        },
        {
            "author": "超级粒子炮",
            "timestamp": 1583895000,
            "txt_content": "EmptyLava 发表于 2020-3-11 10:48\n主线程上进行了连接到mojang服务器的事件\n但是超时了，所以无响应\n你试试延长timeout-time吧 ...\n可是和这个好像没关系哇~\n这个是无响应的时候收集的timings报告：https://timings.aikar.co/?id=569 ... c75e36e15c0#timings\n这个是无响应时候收集的spark报告：https://sparkprofiler.github.io/#L5CSdvSgcJ"
        },
        {
            "author": "即陈",
            "timestamp": 1583895120,
            "txt_content": "换个服务端，看看排除一下是不是服务器的问题，试试"
        },
        {
            "author": "超级粒子炮",
            "timestamp": 1583895240,
            "txt_content": "即陈 发表于 2020-3-11 10:52\n换个服务端，看看排除一下是不是服务器的问题，试试\n我问过开发人员了，他们说“not a paper issue, your server is taking too long to tick; processing collisions from player movement”"
        },
        {
            "author": "AzureHanChen",
            "timestamp": 1583895720,
            "txt_content": "看起来是和加载区块(Chunk)有一些关系\n不妨阻止一下玩家跑图\nhttps://www.mcbbs.net/thread-941542-1-1.html\n或者尝试优化一下区块"
        },
        {
            "author": "白给63553",
            "timestamp": 1583896500,
            "txt_content": "谁能帮帮我。。。。服务器插件装了在游戏输插件指令但是没有咋办"
        },
        {
            "author": "超级粒子炮",
            "timestamp": 1583899200,
            "txt_content": "xmdhs 发表于 2020-3-11 10:54\n堆栈中打印的都是原版的类，而且看名字似乎是区块加载相关。。\n\n预加载地图，和想办法阻止玩家跑图呢 ...\n我已经知道是什么错误了。\n\nCustom Images这个插件的锅。\n\nA quick fix for an existing bug that was just found where a potion with the right ID matching a map that the potion was near can cause the creative pick block function to throw an error and stall out an entire player processing thread.\n\nThis is extremely unlikely, but could happen. In addition to the fix, a safeguard has been put in place to prevent this from stalling out the processing thread if there are issues in the future.\n\nEDIT: For some reason Spigot isn't uploading the updated JAR..."
        }
    ]
}