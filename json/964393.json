{
    "title": "nbt与json文本基础教学（一）",
    "author": "Cold-Pot",
    "replyCount": 7,
    "timestamp": 1582179540,
    "txt_content": "你做地图的时候\n是不是经常搞不清楚nbt阿\n我的这个帖子可能会帮到你\n有什么不对的欢迎指正和补充\n\n\n\n第一部分 nbt的格式\n这里介绍的是nbt格式，会的可以跳过\n部分内容来自Minecraft Wiki\n1. 字符串\n字符串以双引号或单引号(\"或')开头，以双引号或单引号(\"或')结尾\n注意：在minecraft中输入nbt时不允许使用单引号！\n举个例子：\n\"I am a string\"\n'I am a string too'\n字符串内可以是任何nbt支持的字符，。\n\n\n如果要在字符串内打出双引号，就要使用转义字符\n\\\" 可以打出 \"\n\\n 可以换行\n\\u+unicode编码 可以打出相应Unicode编码对应的字符，比如\\u0020打出空格\n\\\\ 可以打出 \\\n举个例子：\n/tellraw @s \"\\\\\\\" = \\\"\"\n可以在聊天栏打出\\\" = \"\n\n\n2. Compound\nCompound以花括号({)开头，以花括号(})结尾\n在LUA中，他叫“表”；在Python中，他叫“字典”\nCompound的格式是 键:值\n举个例子：\n{key:value}\n键一般为字符串，值可以是任何nbt支持的数据格式\nmc中所有的nbt都是一个Compound\nCompound是没有顺序的，解析时会自动排序，但是在MC中的某些地方是必须要遵守顺序的\n\n\n3. 数组\n数组以方括号([)开头，以方括号(])结尾\n数组是有序的列表\n第一项为0，第二项为1，第三项为2……\n举个例子：\n[0, 1, 2, 3, 4, 5]\n[\"0\", \"1\", \"2\", \"3\", \"4\", \"5\"]\n[\"0\", 1 , {\"text\":\"2\"}]\n[0:\"\", 1:\"\", 2:1, 3:\"\", 4:\"\", 5:\"2\"] *MC 1.13+ 不允许这么写\n\n4. 数\n请看wiki页面 NBT格式\n\n\n\n第二部分 JSON文字\nnbt和json不同\nnbt是二进制命名标签，但json文本是以json数据形式保存的文本\n你可以使用字符串，也可以使用Compound来输入\n如果你要连接多个文本，请在外面“套上”数组\n\n\nCompound里面的键就是操控文本的\n控制文本的有：\n\"text\" 是直接的文本\n{\"text\":\"T\"}输出T\n\n\n\"keybind\" 是游戏中设置的键位\n{\"keybind\":\"key.sneak\"}让看到的所有人分别看到自己的潜行键位\n\n\n\"translate\" 是游戏中的物品翻译\n与translate结合的还有\"with\"，他是个数组，当翻译的内容中出现了要填充的字符(大多为%s)，将会按顺序填上，with的值请参照此格式(递归)\n\n\n\"score\"是计分板的分数，值是{\"objective\":\"计分板名称\",\"name\":\"名字\"}\n当你的name键值为\"*\"时，将让看到的所有人分别看到自己的相应objective分数\n{\"score\":{\"objective\":\"money\",\"name\":\"@s\"}}输出自己money计分板的分数\n\n\n\"selector\"将会根据它的键值输出对应的玩家\n{\"selector\":\"@a\"}输出所有玩家的名字\n\n\n\"nbt\"的是获取路径的某一nbt\n获取实体用{\"nbt\":\"路径\",\"entity\":\"实体(选择器)\"}\n获取方块用{\"nbt\":\"路径\",\"block\":\"方块(格式:x y z)\"}\n加上\"interpret\":true可以让他继续识别为json文本，比如获取告示牌某一排的显示结果就可以用它\n举个例子：\n{\"nbt\":\"Pos.X\",\"entity\":\"@s\"}输出自己的X坐标\n{\"nbt\":\"Text1\",\"block\":\"0 10 0\",\"interpret\":true}输出坐标为X=0,Y=10,Z=0的方块(此处只能是告示牌)的第一排显示结果\n\n\n控制显示效果的有(注：它们可以加到上述任意一个后面，不会互相冲突)：\n\"color\"是控制颜色的，键值只能是颜色字符串而不能是HEX格式\n\n\n\"bold\"是控制粗细的，当键值为true的时候会输出加粗文本\n\n\n\"italic\"是控制斜体的，当键值为true的时候会输出斜体文本，你在物品命名时加入{\"italic\":false}来阻止斜体\n\n\n\"underlind\"是控制下划线的，当键值为true的时候会输出带有下划线的文本\n\n\n\"strikethrough\"是控制删除线的，当键值为true的时候会输出带有删除线的文本\n\n\n\"obfuscated\"会让字符变为银河字且模糊处理(会一直跳动，无法看清) 只对英文字符有效\n\n\n\n控制交互的我直接从wiki的原始JSON文本页面粘贴过来\nclickEvent：当玩家点击文字时产生的事件。\n\naction：当点击文字时所触发的行为。有效值为“open_url”（在玩家的默认浏览器中打开value中的URL地址）、“open_file”（打开用户计算机上的value文件）、“run_command”（以玩家的身份在聊天框中输入value值并提交。可以用来执行命令，但是如果玩家没有所需的权限，命令会失败）、“change_page”（只能用在成书中，如果该value页存在，翻至该页）、“suggest_command”（和“run_command”相似，但是文本只会出现在玩家的聊天输入栏，并不会自动提交。与insertion不同，这会直接取代原先在聊天输入框中的内容）和“copy_to_clipboard”（将value复制到剪贴板中）。“open_file”用于游戏自动生成的信息中（如截图时显示的信息），不能在命令和告示牌中使用。\n\nvalue：前述指定的action使用到的URL地址、文件、聊天内容、命令或书页。注意，命令之前一定要加上“/”斜杠。hoverEvent：当玩家将鼠标指针悬浮在文字之上时显示的说明提示。\n\naction：说明提示的类型。有效值为“show_text”（显示JSON文本）、“show_item”（显示一个可带NBT标签的物品）和“show_entity”（显示实体的名称，还可能显示其类型和UUID）。\n\nvalue：此标签的格式取决于action。注意，“show_text”是唯一接受对象作为value值的类型；其他类型对应的value值都是字符串，所以必须用引号引起。\n“show_text”：可以是字符串，或是与基础对象格式相同的一个对象。注意，此对象的clickEvent和hoverEvent在说明提示中不会生效，但是它的格式和extra标签仍然有效。\n“show_item”：与物品NBT标签格式相同的的字符串。包含“id”标签，和可选的“Damage”标签和“tag”标签（和/give命令所使用的“dataTag”标签中的组合相同）。\n“show_entity”：描述一个组合的字符串，包含值“type”（例如“Zombie”）、“name”和“id”（要求为实体UUID，但接受任意字符串）。 insertion：当玩家按住? Shift并点击文字时，此字符串会自动填入聊天编辑框中。不会覆盖原有的文字。 extra：附加对象的列表，格式与基础对象相同。与基础聊天组件对象格式相同的附加对象。注意所有对象的属性都会被其子对象所继承，除了text、extra、translate、with和score。这表意味着子对象会保留与父对象相同的格式和事件，除非子对象有自己的属性将其覆盖。\n列表第一项的格式会被后面项继承，可以把第一项设为\"\"来避免此现象\n\n\nNEXT: /give 的常用nbt\n\n\n",
    "replies": [
        {
            "author": "Cold-Pot",
            "timestamp": 1582179600,
            "txt_content": "emmm格式可能除了点问题，不过正常看还是可以的吧"
        },
        {
            "author": "时之虫",
            "timestamp": 1582199880,
            "txt_content": "下一期讲一讲clickevent和hoverevent吧"
        },
        {
            "author": "Cold-Pot",
            "timestamp": 1582242900,
            "txt_content": "时之虫 发表于 2020-2-20 19:58\n下一期讲一讲clickevent和hoverevent吧\nOK我就打算这么搞QwQ"
        },
        {
            "author": "sjx",
            "timestamp": 1582258440,
            "txt_content": "注意：在minecraft中输入nbt时不允许使用单引号！\n从 19w08a 开始就可以了。"
        },
        {
            "author": "Cold-Pot",
            "timestamp": 1582419000,
            "txt_content": "sjx 发表于 2020-2-21 12:14\n从 19w08a 开始就可以了。\n感谢提醒！\n我现在就去1.15.2测试一下\n最后的结果我将置顶回复！"
        },
        {
            "author": "Cold-Pot",
            "timestamp": 1582419480,
            "txt_content": "此处修改一个错误帖子中说minecraft在输入时不允许单引号\n但事实是……\n在1.14的后期开发版本中，Minecraft已经允许使用单引号\n中国版目前的最新版本1.14.3还不支持单引号\n直到现在的最新稳定版1.15.2也不能JSON使用单引号\n注：json中的单引号有特殊含义\n建议在写nbt时尽量使用单引号避免转义\n1. 方便阅读\n2. 不会被2级引号过后的转义逼疯\n感谢sjx的提醒!"
        },
        {
            "author": "Cold-Pot",
            "timestamp": 1582421580,
            "txt_content": "艹\n我发现网易也可以了\n"
        }
    ]
}