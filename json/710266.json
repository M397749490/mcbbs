{
    "title": "BukkitRunnable随机等待时间怎么设置？",
    "author": "w_cn",
    "replyCount": 8,
    "timestamp": 1500853320,
    "txt_content": "我想要给BukkitRunnable弄一个随机等待时间 但奈何他无法二次使用runTaskTimer。\n请路过的大神给一点思路~",
    "replies": [
        {
            "author": "602723113",
            "timestamp": 1500865140,
            "txt_content": "emmmm,虽然看不懂你想干嘛..但是看着像是要反复执行但是又要有延迟的...\n\nDOC: https://docs.windit.net/Chinese_ ... n.Plugin-long-long-\n\n还有就是建议用Thread或者Runnable,这样就可以做线程休眠的操作,但是这两个东西你没玩好的话有可能出现...数据丢失或者是什么别的情况\n"
        },
        {
            "author": "w_cn",
            "timestamp": 1500873660,
            "txt_content": "602723113 发表于 2017-7-24 10:59\nemmmm,虽然看不懂你想干嘛..但是看着像是要反复执行但是又要有延迟的...\n\nDOC: https://docs.windit.net/Ch ...\n莫老大大,Bukkit.API我需要访问 异步线程不可以调用吧？"
        },
        {
            "author": "耗子",
            "timestamp": 1500882900,
            "txt_content": "那就在run方法里面写runTaskLater"
        },
        {
            "author": "w_cn",
            "timestamp": 1500899460,
            "txt_content": "耗子 发表于 2017-7-24 15:55\n那就在run方法里面写runTaskLater\n此方法调用两次就报错。。。。"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1502080620,
            "txt_content": " 本帖最后由 MagicLocyDragon 于 2017-8-7 12:39 编辑 \n\nboolean lock = true;\nThread t = new Thread(new Runnable(){\n@Override\npublic void run(){\nwhile(lock){\nif(!lock)break;\ndouble random = Math.random()*100000;\nlong sleepTime = (long)random;\nThread.sleep(sleepTime);//这里需要try懒得写了\np.sendMessage(\"xxx\");\n}\n}\n});\n只要不异步搞一些奇怪的东西比如放方块之类的东西还是可以允许的233，顺便一提注意多线程安全"
        },
        {
            "author": "Ir.Nep",
            "timestamp": 1502109720,
            "txt_content": ""
        },
        {
            "author": "w_cn",
            "timestamp": 1502110140,
            "txt_content": "问题早已经解决拉。。。。"
        },
        {
            "author": "寂",
            "timestamp": 1502110380,
            "txt_content": "出个馊主意\n创建runTaskLater一个1tick间隔的bukkitrunnable，然后创建俩int类型的成员变量，一个在构造参数里面赋值成一个随机数，作为等待时间，另一个为当前时间，设置为0。\n当执行run函数时候，先将当前时间++，然后与等待时间做对比，若相等，执行操作，重新生成等待时间并将当前时间赋值0。\n以上为本渣的思路，如有不对的地方欢迎大佬喷。\n另外楼上那位的截图是本渣在某群随口说的，很不严谨。请谅解。"
        }
    ]
}