{
    "title": "求助一个超级海绵算法实现思路",
    "author": "kevin2018",
    "replyCount": 4,
    "timestamp": 1585728420,
    "txt_content": "视频：https://www.bilibili.com/video/BV1CJ411X7zo?from=search&seid=16828531159127593084\ngithub： https://github.com/Plagiatus/datapacks/tree/master/super_sponge\n\n\n想用代码实现 原作是数据包 希望和大佬们探讨（<s>伸手</s>）一个算法思路\n反正我瞎写的六面递归 tick删除会让mc假死...(",
    "replies": [
        {
            "author": "(=°ω°)丿",
            "timestamp": 1585730460,
            "txt_content": " 本帖最后由 (=°ω°)丿 于 2020-4-1 17:09 编辑 \n\n原作数据包用的就是六面递归（\n在超级海绵的位置。开始：\n如果东南西北上下六个方向存在方块可以被替换（可以被海绵吸掉）:\n在满足条件的方块处放置末地石，步长+1。\n将本格替换为空气。\n如果步长小于最大值：在满足条件的方块的位置重复上述步骤。\n过程有点像洪水填充算法。\nexecute positioned ~1 ~ ~ if block ~ ~ ~ #fill_sponge:replace run summon area_effect_cloud ~ ~ ~ {Duration:100000,Tags:[\"filling_sponge\",\"set_block\"]}\nexecute positioned ~-1 ~ ~ if block ~ ~ ~ #fill_sponge:replace run summon area_effect_cloud ~ ~ ~ {Duration:100000,Tags:[\"filling_sponge\",\"set_block\"]}\nexecute positioned ~ ~1 ~ if block ~ ~ ~ #fill_sponge:replace run summon area_effect_cloud ~ ~ ~ {Duration:100000,Tags:[\"filling_sponge\",\"set_block\"]}\nexecute positioned ~ ~-1 ~ if block ~ ~ ~ #fill_sponge:replace run summon area_effect_cloud ~ ~ ~ {Duration:100000,Tags:[\"filling_sponge\",\"set_block\"]}\nexecute positioned ~ ~ ~1 if block ~ ~ ~ #fill_sponge:replace run summon area_effect_cloud ~ ~ ~ {Duration:100000,Tags:[\"filling_sponge\",\"set_block\"]}\nexecute positioned ~ ~ ~-1 if block ~ ~ ~ #fill_sponge:replace run summon area_effect_cloud ~ ~ ~ {Duration:100000,Tags:[\"filling_sponge\",\"set_block\"]}复制代码还有一件事，我不会编程（"
        },
        {
            "author": "kevin2018",
            "timestamp": 1585731900,
            "txt_content": "(=°ω°)丿 发表于 2020-4-1 16:41\n原作数据包用的就是六面递归（\n先将本格替换为空气，然后判断东南西北上下六个方向的方块是否可以被替换（ ...\n哈哈哈哈哈（\n我一开始是这么想的 可惜用代码实现的话 不如用指令安全\n直接同步递归会导致溢出 然后客户端崩溃\n异步递归效果也不太好 或者说我写得不好...(x\n非递归的洪水填充算法我查了很久 好像没有太多的资料"
        },
        {
            "author": "洞穴夜莺",
            "timestamp": 1585736280,
            "txt_content": "kevin2018 发表于 2020-4-1 17:05\n哈哈哈哈哈（\n我一开始是这么想的 可惜用代码实现的话 不如用指令安全\n直接同步递归会导致溢出 然后客户端 ...\n用广搜吧\n把每次搜出来的放到下一tick再来搜，这样就不用递归了"
        },
        {
            "author": "3TUSK",
            "timestamp": 1585768020,
            "txt_content": "反正我瞎写的六面递归 tick删除会让mc假死...(\n大概率是因为你把所有的计算都放在了一个 tick 里。\n你应该做的是像 3 楼说的那样，广度优先搜索（BFS），然后每一个 tick 只搜一个方块。直到搜索队列空为止。"
        }
    ]
}