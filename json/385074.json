{
    "title": "Sponge插件开发样例",
    "author": "RecursiveG",
    "replyCount": 14,
    "timestamp": 1421122020,
    "txt_content": " 本帖最后由 RecursiveG 于 2015-1-13 12:07 编辑 \n\n考虑到SpongeAPI已经发布了1.0版本，我在这写个短短的小样例，让各位（主要是各位Bukkit插件开发者）对Sponge插件开发有个基本认识。\n具体的教程在这里都可以查到https://docs.spongepowered.org/en/latest/plugins/。不过是英文的，应该不久就有人去翻译成中文吧。\n我在这里写一个小小的“Hello World”插件：每个玩家登录时显示一条欢迎信息。\n我以Gradle和Intellij作为开发环境来演示。\n\n首先是建一个文件夹来放你的代码，然后建立一个build.gradle文件，内容如下：apply plugin: 'java'\n\nsourceCompatibility = 1.6\nversion = '1.0'\n\nrepositories {\n    mavenCentral()\n    maven {\n        name 'Sponge maven repo'\n        url 'http://repo.spongepowered.org/maven/'\n    }\n}\n\ndependencies {\n    compile \"org.spongepowered:spongeapi:1.1-SNAPSHOT\"\n    testCompile group: 'junit', name: 'junit', version: '4.11'\n}复制代码接着打开IDE，导入这个Gradle项目，各种建立文件夹，各种设定source。而依赖会由Gradle帮你搞定。\n\n最终的目录结构会像是这样的：\n\n\n\n\nNo1.png (60.57 KB, 下载次数: 30)\n\n下载附件\n\n2015-1-13 12:00 上传\n\n\n\n\n\n主类的代码像是这样的：\n\n\n\n\nNo2.png (40.34 KB, 下载次数: 34)\n\n下载附件\n\n2015-1-13 12:00 上传\n\n\n\n\n\n\n是不是有一种似曾相识的感觉？需要注意的是，Sponge插件不再需要plugin.yml文件，而是用@Plugin这个Annotation代替，注册事件使用@Subscribe。大部分事件都位于org.spongepowered.api.event包下，有需要的可以自行查看。\n\n最后，运行gradle的build task，编译好的jar就会在build/libs文件夹下了。然后把这个jar拖进mods文件夹即可运行（没错！是mods文件夹而不是plugins文件夹）虽然现在Sponge还没正式发布。\n\n最后来一发测试时候的截图（不要问我是怎么跑起来的）\n\n\n\n\nNo3.png (273.37 KB, 下载次数: 34)\n\n下载附件\n\n2015-1-13 11:59 上传\n\n\n\n\n\n（全文完）",
    "replies": [
        {
            "author": "End_KG",
            "timestamp": 1421122680,
            "txt_content": "挺不错的"
        },
        {
            "author": "SPE__HaiKuo",
            "timestamp": 1421126160,
            "txt_content": "终于有人发Sponge的教程了'_>'"
        },
        {
            "author": "叁只番茄",
            "timestamp": 1421126580,
            "txt_content": " 本帖最后由 叁只番茄 于 2015-1-13 13:27 编辑 \n\n前几天配置好了sponge的开发环境然后就一直没弄\n刚刚我也还在看里面的官方教程还有sponge的API来着_(:з」∠)_\nsponge有点微妙♂ 因为他还有客户端版本_(:з」∠)_\n其实到现在我都只会从eclipse我配置好的运行调试启动一个有sponge的客户端或者服务端\ngradlew一下出来的那个sponge jar扔forge服务端和客户端都报错_(:з」∠)_"
        },
        {
            "author": "RecursiveG",
            "timestamp": 1421141220,
            "txt_content": "叁只番茄 发表于 2015-1-13 13:23\n前几天配置好了sponge的开发环境然后就一直没弄\n刚刚我也还在看里面的官方教程还有sponge的API来着_(:з」 ...\n估计还要在classpath加一堆东西吧（虽然我也没试过。。。。。）"
        },
        {
            "author": "huanghongxun",
            "timestamp": 1421143380,
            "txt_content": "原来SpongeAPI已经发布了。。\n可以欢乐的学API了0w0"
        },
        {
            "author": "poi4399",
            "timestamp": 1421505120,
            "txt_content": "SPE__HaiKuo 发表于 2015-1-13 13:16\n终于有人发Sponge的教程了'_>'\n发现了签名，我们需要聊一下_(:зゝ∠)_"
        },
        {
            "author": "默默、无闻",
            "timestamp": 1435207860,
            "txt_content": "{:10_522:}2.1的API SendMessage 报错什么鬼。。。。。。"
        },
        {
            "author": "默默、无闻",
            "timestamp": 1435212300,
            "txt_content": "{:10_527:}原来要格式化文本 ......"
        },
        {
            "author": "JovisBone",
            "timestamp": 1450424340,
            "txt_content": "\n\n\n\n\nQQ图片20151218153956.jpg (128.18 KB, 下载次数: 13)\n\n下载附件\n\n2015-12-18 15:40 上传\n\n\n\n\n\n我想请问版主我导入gradle项目后和你的不一样呀，是不是少了什么步骤(第一次用IDEA\n"
        },
        {
            "author": "插件达人",
            "timestamp": 1460953680,
            "txt_content": "下载地址给一个可以不"
        },
        {
            "author": "RecursiveG",
            "timestamp": 1461003900,
            "txt_content": "JovisBone 发表于 2015-12-18 15:39\n我想请问版主我导入gradle项目后和你的不一样呀，是不是少了什么步骤(第一次用IDEA\n ...\n尝试手动建立一下？"
        },
        {
            "author": "liach",
            "timestamp": 1462938720,
            "txt_content": "呵呵API5都快出了……"
        },
        {
            "author": "Tollainmear",
            "timestamp": 1502469900,
            "txt_content": "谢谢分享~短小精悍~！"
        },
        {
            "author": "@TGL",
            "timestamp": 1535017860,
            "txt_content": "为什么你写的事件我不能用，我这边能用的事件很少，根本没有玩家登录，服务器启动的事件\n（添加了API的）"
        }
    ]
}