{
    "title": "[重制][商店]PepperShop——胡椒商店[全版本]",
    "author": "innc",
    "replyCount": 51,
    "timestamp": 1591456380,
    "txt_content": " 本帖最后由 innc 于 2021-2-3 20:05 编辑 \n\nEnglishEdtion: click Here本插件是QuickShopX的新版本(QuickShopX是由wujipohh的QuickShop重制而来)\n\nPepperShop的特性：1. 增加对GAC插件的处理2. 全面整合化的语言文件，99%可见文字都可以自定义修改，(除了加载语言文件时提示的那一句)3. 同时支持Land领地插件和Residence领地插件4. 去掉了潜行模式下破坏商店的选项5. 合并了全息物品显示开关到滑动条上，设置完毕即时生效6. 修复英文语言文件中的一些单词和语法问题7. 没有安装任何领地类插件时op默认可以打开所有人箱子\n\n\n图片\n\n\n\n\nchatbar.png (268.49 KB, 下载次数: 9)\n\n下载附件\n\n2020-7-15 14:34 上传\n\n\n\n\n\n\n\n\nhopper.png (284.13 KB, 下载次数: 5)\n\n下载附件\n\n2020-7-15 14:34 上传\n\n\n\n\n\n\n\n\noverview.png (260.5 KB, 下载次数: 11)\n\n下载附件\n\n2020-7-15 14:34 上传\n\n\n\n\n\n\n\n\nfile_1594794847000.jpg (227.12 KB, 下载次数: 14)\n\n下载附件\n\n2020-7-15 14:34 上传\n\n\n\n\n\n\n\n\nstartup.png (26.64 KB, 下载次数: 10)\n\n下载附件\n\n2020-7-15 14:34 上传\n\n\n\n\n\n\n\n使用教程：-- 创建Android:   轻轻地饶一下箱子，但不要打掉箱子，然后切换到需要上架的物品到手上，最后直接在聊天栏输入价格即可Windows10:   左键点击箱子,然后切换到要上架的物品到手上，最后直接在聊天栏输入价格即可创造模式:   按住Shift然后打掉箱子后，按上面的流程创建商店，直接在聊天栏输入价格\n-- 交易聊天栏:   在点击商店的牌子之后输入要购买的数量界面:   点击商店的牌子之后打开界面，拖动交易数量点击确定聊天栏和界面:   同时兼顾两者，双击牌子可以打开界面操作，单击牌子使用聊天栏操作\n-- 修改聊天栏:   点击牌子后使用指令进行修改商店即可(/ps help查看帮助)界面:   点击商店的牌子后打开界面，按界面提示进行修改聊天栏和界面:   同时使用聊天栏的方式和界面的方式，任选其一\n-- 破坏商店打掉商店的牌子或者商店的箱子特别说明: 在领地内拥有build权限(也就是同时拥有放置和破坏权限)的人也可以打开商店箱子和破坏商店\n\n配置文件：# 配置文件版本，请勿更改\nversion: 7\n\n# 语言，支持加载自定义的语言文件，目前自带简体中文和英文（cn/en）\nlanguage: cn\n\n# 是否使用新API，1.14以下请设置为false，1.14(包含)以上请设置为true\nusing-new-api: false\n\n# 强制与GAC插件一起工作，但会关闭本插件的权限检查功能\nwork-with-gac: false\n\n# 商店的交互方式，可用值：ChatBar、Both、Interface，分别代表仅聊天栏、全部启用、仅UI\n# 请参考 食用方法->交易 章节，推荐设置为Both\ninteraction-way: Both\n\n# 商店的交互时间，如果输入价格时发现被当成普通聊天信息被发出去了，请加大此值\ninteraction-timeout: 5000\n\n# 全息物品数据包的发送速率(每秒)，建议直接设置为1000，如果出现显示不正确的情况适当调低此值\nhologram-item-effect: 1000\n\n# 全息物品数据包队列的大小，如果大服出现人多时全息物品不能正常显示、移除、跨世界时，请调高此值（每次增加1万）\npacket-queue-capacity： 10000\n\n# 与Residence插件一起工作（需要先安装Residence）\nlink-with-residence-plugin: true\n\n# 与Land插件一起工作（需要先安装Land）link-with-land-plugin: true\n\n# 是否只能在领地内创建商店（推荐打开）\n# 此选项依赖任意一款领地插件，如果没有安装，则没有实际效果\nonly-create-shop-in-residence-area: true\n\n# OP是否可以无视领地权限打开、破坏商店# 此选项依赖任意一款领地插件，如果没有安装，则没有实际效果\noperator-ignore-build-permission: false\n\n# 漏斗是否只能在领地内才能给商店补货，此选项不会影响非商店箱子的正常传输（仅对商店有效）# 此选项依赖任意一款领地插件，如果没有安装，则没有实际效果\n# 建议打开\nlimit-hopper: true\n\n# 是否使用物品翻译文件（如果你想看到中文，请参考下方的 \"关于显示中文物品名\"并开启此选项）\nuse-item-name-translations: false\n\n插件指令：\n主指令：/ps [子命令]、别名：/qs\n\n\n\n\n\ncommands.png (29.81 KB, 下载次数: 1)\n\n下载附件\n\n2021-2-2 19:02 上传\n\n\n\n\n\n每个子命令都可以进行简写，比如/ps help可以简写成/ps h，/ps buy可以简写成/ps b等，可以使用/ps help输出所有简写命令\n\nGAC兼容：\n需要在config.yml里设置work-with-gac: true，作为兼容的代价，权限检查功能会关闭，如果不进行此项设置，本插件不会启动\n\n\n领地插件兼容：\nPepperShop同时支持Residence领地插件和Land领地插件，两者任选其一即可，不要同时加载，会出现一些想不到的问题\nLand插件没有原生的build权限，如果同时拥有破坏方块权限和放置方块权限时就相当于拥有了build权限，两者缺一不可\n\n从QuickShopx导入数据：\n本插件支持quickshopx的商店数据文件，将shops文件夹复制到PepperShop目录里即可，但是不支持配置文件和语言文件，这部分需要手动配置一下\n\n显示中文物品名：\n1. 手动下载 item-translations.yml文件后放入插件文件夹\n2. 使用指令/ps r，op后台均可\n3. 在游戏内使用指令/ps cp打开配置面板\n4. 打开使用翻译的物品名开关，点击提交按钮\n\n如果面板没有显示对应的开关请检查文件是否放到了正确的位置\n\n更新记录：\n1.1：\n1.修复无法从中文世界名读取配置文件的问题\n\n1.2：\n1. 增加对Land插件1.3.8版本以上的支持\n\n1.3：\n1. 修复Land插件无法被识别的问题\n2. 这个版本只支持Land1.3.9(含)以上版本(如果安装了Land插件)\n\n1.3.2和PN1.3.2：\n1. 增加PowerNukkit-1.4.0.0-PN-ALPHA.2(1.16)版本的支持\n2. 修复商店会被活塞推动的bug\n3. 修复某些情况下会出现语言变量显示不正确的问题\n4. 修复无法自动创建商店牌子的问题\n5. 1.14以下版本再使用前请在配置文件设置using-new-api: false\n6. 增加设置发包队列大小packet-queue-capacity： 10000，默认是10k，大服可适当增加此值\n7. 修复破坏商店时会报错的问题\n8. 修复某些情况下会出现语言变量显示不正确的问题\n\n\n下载：1. 需要EconomyAPI作为硬依赖2. Residence, Land作为可选依赖（软依赖）\nPN开头的版本只适用于PowerNukkit，没有标注则适配NukkitMaster\n\n1.0:         \n\n\n\nPepperShop-1.0.jar\n(172.97 KB, 下载次数: 20)\n\n\n\n2020-6-6 22:56 上传\n点击文件名下载附件\n\n\n\n\n\n1.1:          \n\n\n\nPepperShop-1.1.jar\n(179.77 KB, 下载次数: 28)\n\n\n\n2020-6-12 14:17 上传\n点击文件名下载附件\n\n\n\n\n\n\n1.2:         \n\n\n\nPepperShop-1.2.jar\n(181.74 KB, 下载次数: 31)\n\n\n\n2020-7-7 15:38 上传\n点击文件名下载附件\n\n\n\n\n\n\n1.3:          \n\n\n\nPepperShop-1.3.jar\n(178.29 KB, 下载次数: 238)\n\n\n\n2020-7-12 16:20 上传\n点击文件名下载附件\n\n\n\n\n\n\n1.3.2:      \n\n\n\nPepperShop-1.3.2.jar\n(137.61 KB, 下载次数: 37)\n\n\n\n2021-2-3 19:53 上传\n点击文件名下载附件\n\n\n\n\n\n\nPN1.3.2:  \n\n\n\nPepperShop-PN1.3.2.jar\n(131.83 KB, 下载次数: 19)\n\n\n\n2021-2-3 18:55 上传\n点击文件名下载附件\n\n\n\n\n\n\nMaster分支: 中文物品名翻译(for 1.0-1.3.2)：\n\n\n\nitem-translations.yml\n(16.27 KB, 下载次数: 203, 售价: 5 粒金粒)\n\n\n\n2020-6-6 22:56 上传\n点击文件名下载附件\n简体中文\n售价: 5 粒金粒\t [记录]\n\n [购买]\n\n\n\n\n\nPowerNukkit分支:目前暂无物品名翻译（PN分支API变化过大，暂未做适配）\n英语帮助文档: https://github.com/innc11/PepperShop/blob/master/README_EN.md\n\n开源：https://github.com/innc11/PepperShop",
    "replies": [
        {
            "author": "初梦星海",
            "timestamp": 1591883160,
            "txt_content": "大佬好，每次重启服务器之后，插件并不能自动加载世界里的商店，需要在对应世界手动新建箱子才会被读取\n\n\n\n\n\n\n-48647b699d98df5d.png\n(10.21 KB, 下载次数: 1)\n\n\n\n\n下载附件\n\n\n2020-6-11 21:45 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "innc",
            "timestamp": 1591941060,
            "txt_content": "初梦星海 发表于 2020-6-11 21:46\n大佬好，每次重启服务器之后，插件并不能自动加载世界里的商店，需要在对应世界手动新建箱子才会被读取 ...\n问题已找到，只有中文世界名称才会引发此问题，我会尽快在下个版本中修复这个问题的"
        },
        {
            "author": "innc",
            "timestamp": 1591942920,
            "txt_content": "初梦星海 发表于 2020-6-11 21:46\n大佬好，每次重启服务器之后，插件并不能自动加载世界里的商店，需要在对应世界手动新建箱子才会被读取 ...\n1.1版本我已经发布，已经修复了这个问题，最后感谢反馈！"
        },
        {
            "author": "初梦星海",
            "timestamp": 1591964160,
            "txt_content": "innc 发表于 2020-6-12 14:22\n1.1版本我已经发布，已经修复了这个问题，最后感谢反馈！\n大佬客气啦"
        },
        {
            "author": "药水Pt",
            "timestamp": 1592560740,
            "txt_content": "非常好的插件！支持作者"
        },
        {
            "author": "xiaohan520673",
            "timestamp": 1592630940,
            "txt_content": "厉害厉害啊，我服务器的第一个插件"
        },
        {
            "author": "xiaohan520673",
            "timestamp": 1592632620,
            "txt_content": "怎么装插件啊啊啊啊啊"
        },
        {
            "author": "innc",
            "timestamp": 1592640780,
            "txt_content": "xiaohan520673 发表于 2020-6-20 13:57\n怎么装插件啊啊啊啊啊\n丢plugins里"
        },
        {
            "author": "xiaohan520673",
            "timestamp": 1592642760,
            "txt_content": "innc 发表于 2020-6-20 16:13\n丢plugins里\n要创造目录吗？"
        },
        {
            "author": "1353977194",
            "timestamp": 1592728140,
            "txt_content": "请问有没有op开设的商店无限出售或者无限回收的功能？"
        },
        {
            "author": "innc",
            "timestamp": 1592732280,
            "txt_content": "1353977194 发表于 2020-6-21 16:29\n请问有没有op开设的商店无限出售或者无限回收的功能？\n有的，创建商店后点击商店进入设置页面，然后把\"系统商店\"开关打开并保存可以"
        },
        {
            "author": "1353977194",
            "timestamp": 1592733300,
            "txt_content": "innc 发表于 2020-6-21 17:38\n有的，创建商店后点击商店进入设置页面，然后把\"系统商店\"开关打开并保存可以 ...\n感谢，正好需要一个系统商店和玩家商店的插件"
        },
        {
            "author": "1353977194",
            "timestamp": 1592734200,
            "txt_content": "为什么我已经点了箱子，然后输入/ps p 1设置价格他还是提示我要选中商店？"
        },
        {
            "author": "innc",
            "timestamp": 1592740440,
            "txt_content": "1353977194 发表于 2020-6-21 18:10\n为什么我已经点了箱子，然后输入/ps p 1设置价格他还是提示我要选中商店？\n应该不会这样啊，你先点击一下箱子，弹出要输入购买数量之后，再使用指令/ps p 1，如果成功的话价格会立即更新过来的。还有一种情况就是你点击箱子和输入指令直接的时间太长了（默认是5s），如果是这样的话，可以在控制面板把交互时间调长一点。如果不想这样，可以先把交互方式设置为Both模式，然后直接双击商店牌子，是双击，之后会弹出一个界面，直接在界面里面修改价格就可以，这样或许更方便一点"
        },
        {
            "author": "wyrrobin",
            "timestamp": 1595317440,
            "txt_content": "感谢作楼主,这个插件功能十分强大,会推荐给小伙伴滴!"
        },
        {
            "author": "Mcayear",
            "timestamp": 1595746800,
            "txt_content": "大佬能加个只允许潜行状态破坏箱子进行创建的配置选项吗"
        },
        {
            "author": "innc",
            "timestamp": 1595756640,
            "txt_content": "Mcayear 发表于 2020-7-26 15:00\n大佬能加个只允许潜行状态破坏箱子进行创建的配置选项吗\n我以为不会有人用开启这个功能的，结果我就在新版本里给去掉了"
        },
        {
            "author": "VichainLee",
            "timestamp": 1596040980,
            "txt_content": "1.最新的powernukkit核心(普通核心不知道会不会有)会有开服warn提示和后续报错：[WARN ] 插 件  \"PepperShop\" 已在\"cn.innc11.peppershop.listener.ShopProtectListener.onBlockPistonChange()\" 方 法 中 注 册 了 一 个 用 于  \"cn.nukkit.event.block.BlockPistonChangeEvent\" 的 监 听 器 ， 但 该事 件 已 过 时 。\n2.希望大佬加一个是否允许玩家创建箱子商店的选项"
        },
        {
            "author": "innc",
            "timestamp": 1596077940,
            "txt_content": "VichainLee 发表于 2020-7-30 00:43\n1.最新的powernukkit核心(普通核心不知道会不会有)会有开服warn提示和后续报错：[WARN ] 插 件  \"PepperSho ...\n1. powernukkit应该是改了API，不过这个提示不影响什么的，普通核心不会报这个\n2. 插件支持一个权限可以设置可创建的商店的数量quickshopx.create.10把那个10设为0然后给到所有玩家身上就可以阻止他们创建商店了，虽然这样还是会有提示"
        },
        {
            "author": "子皓子萱",
            "timestamp": 1596245040,
            "txt_content": "很不错的插件，很喜欢"
        },
        {
            "author": "Mcayear",
            "timestamp": 1597207320,
            "txt_content": "那个..挠牌子创建商店，能只对空牌子有效吗？\n冒险模式他们也能挠..."
        },
        {
            "author": "innc",
            "timestamp": 1597223580,
            "txt_content": "Mcayear 发表于 2020-8-12 12:42\n那个..挠牌子创建商店，能只对空牌子有效吗？\n冒险模式他们也能挠... ...\n啥？挠牌子创建商店？不应该是饶箱子创建么，创建商店不收游戏模式影响的"
        },
        {
            "author": "Mcayear",
            "timestamp": 1597407000,
            "txt_content": "innc 发表于 2020-8-12 17:13\n啥？挠牌子创建商店？不应该是饶箱子创建么，创建商店不收游戏模式影响的 ...\n大佬阔以加个禁止铙箱子创建商店(允许蹲着破坏箱子创建)的配置\n然后铙牌子创建只对空牌子有效的配置吗\n(这样应该就能跟 FutruePlots(地皮插件) 兼容了.."
        },
        {
            "author": "innc",
            "timestamp": 1597413960,
            "txt_content": "Mcayear 发表于 2020-8-14 20:10\n大佬阔以加个禁止铙箱子创建商店(允许蹲着破坏箱子创建)的配置\n然后铙牌子创建只对空牌子有效的配置吗{:7 ...\n可以可以，加上蹲着创建商店和蹲着破坏箱子都加上可以吧。还是饶牌子创建商店是怎么回事，牌子不是创建的时候直接生成好的吗，并不需要手动放上去呀"
        },
        {
            "author": "Mcayear",
            "timestamp": 1598015820,
            "txt_content": "innc 发表于 2020-8-14 22:06\n可以可以，加上蹲着创建商店和蹲着破坏箱子都加上可以吧。还是饶牌子创建商店是怎么回事，牌子不是创建的 ...\n他们挠箱子会有创建商店的提示，然后输入价格就创建了。(在别人的地皮.."
        },
        {
            "author": "innc",
            "timestamp": 1598024040,
            "txt_content": "Mcayear 发表于 2020-8-21 21:17\n他们挠箱子会有创建商店的提示，然后输入价格就创建了。(在别人的地皮.. ...\n卧槽，他们可真坏啊，要不我改为和地皮插件交互吧，就是判断一下是不是在自己地皮，如果不是就阻止创建商店(连消息也不弹出)，你看这样可以不\n\n对了，可以告诉我你正在使用的NK版本和地皮插件版本吗"
        },
        {
            "author": "Mcayear",
            "timestamp": 1598053620,
            "txt_content": "innc 发表于 2020-8-21 23:34\n卧槽，他们可真坏啊，要不我改为和地皮插件交互吧，就是判断一下是不是在自己地皮，如果不是就 ...\n nukkit版本：powernukkit-1.3.1.4-PN-shaded\n地皮插件：FuturePlots v1.4.2\n我觉得嘛，只要不让他们用挠箱子的方式创建商店就好了(还不用兼容其它权限插件)"
        },
        {
            "author": "innc",
            "timestamp": 1598066160,
            "txt_content": "Mcayear 发表于 2020-8-22 07:47\nnukkit版本：powernukkit-1.3.1.4-PN-shaded\n地皮插件：FuturePlots v1.4.2\n我觉得嘛，只要不让他们用挠 ...\n那也没问题，要么就改成需要手动放牌子到箱子上，然后只能饶'牌子'创建商店。这样没有权限的玩家就放不了牌子也就没法创建商店了"
        },
        {
            "author": "xkshadow",
            "timestamp": 1601886300,
            "txt_content": "\n\n\n\n\nU3[DX6H6UMKC(F9Q7PRQL6B.png (61.45 KB, 下载次数: 6)\n\n下载附件\n\n2020-10-5 16:24 上传\n\n\n\n\n\n创建商店时提示报错\n"
        },
        {
            "author": "innc",
            "timestamp": 1601890560,
            "txt_content": "xkshadow 发表于 2020-10-5 16:25\n创建商店时提示报错\n报错显示是在破坏方块时报错了，请检查一下商店的牌子是不是被其它插件setBlock了，或者使用了WE工具清理掉了，如果是请在配置文件里按坐标删除相应的数据的节点（删除之前需关服），如果不是请提供一下服务端版本、客户端版本（包括平台）、游戏模式、是否为OP等信息"
        },
        {
            "author": "xkshadow",
            "timestamp": 1601978220,
            "txt_content": "innc 发表于 2020-10-5 17:36\n报错显示是在破坏方块时报错了，请检查一下商店的牌子是不是被其它插件setBlock了，或者使用了WE工具清理 ...\n我觉得是核心事件问题 我用的是pn"
        },
        {
            "author": "xkshadow",
            "timestamp": 1601978280,
            "txt_content": "核心最近更新以后对方块破坏事件有改动 也许你应该适配一下新核心"
        },
        {
            "author": "innc",
            "timestamp": 1601990760,
            "txt_content": "xkshadow 发表于 2020-10-6 17:58\n核心最近更新以后对方块破坏事件有改动 也许你应该适配一下新核心\n之前就有人和我说过事件过期了，还真有可能是这个问题"
        },
        {
            "author": "3380502112",
            "timestamp": 1602048300,
            "txt_content": "作者大大666666"
        },
        {
            "author": "xkshadow",
            "timestamp": 1602864120,
            "txt_content": "innc 发表于 2020-10-6 21:26\n之前就有人和我说过事件过期了，还真有可能是这个问题\n您可以修复这个问题吗？？拜托了"
        },
        {
            "author": "innc",
            "timestamp": 1602950400,
            "txt_content": "xkshadow 发表于 2020-10-17 00:02\n您可以修复这个问题吗？？拜托了\n这，，我也想修啊，只是我这刚出去工作了，我又木有电脑，修不了哇 请谅解"
        },
        {
            "author": "xieyujian123",
            "timestamp": 1607085300,
            "txt_content": "支持作者"
        },
        {
            "author": "jbc",
            "timestamp": 1607944860,
            "txt_content": "感谢楼主分享·~"
        },
        {
            "author": "我想梦见你笑",
            "timestamp": 1609479960,
            "txt_content": "楼主是丢在plugins里面，还是PepperShop这里"
        },
        {
            "author": "我想梦见你笑",
            "timestamp": 1609481160,
            "txt_content": "大佬，为什么我挠了一下箱子显示输入价格，我输入价格价格以后，他又要我选中一个箱子"
        },
        {
            "author": "xkshadow",
            "timestamp": 1609492980,
            "txt_content": "跪求作者修复bug"
        },
        {
            "author": "xkshadow",
            "timestamp": 1609492980,
            "txt_content": "插件大量功能已失效"
        },
        {
            "author": "ab1771357714",
            "timestamp": 1609587120,
            "txt_content": "32524365543465"
        },
        {
            "author": "innc",
            "timestamp": 1609744680,
            "txt_content": "我想梦见你笑 发表于 2021-1-1 14:06\n大佬，为什么我挠了一下箱子显示输入价格，我输入价格价格以后，他又要我选中一个箱子 ...\n把商店交互时间调长一点试试，或者输入的时候手快一点"
        },
        {
            "author": "innc",
            "timestamp": 1609744740,
            "txt_content": "xkshadow 发表于 2021-1-1 17:23\n插件大量功能已失效\n这。。我上班这地方没有电脑，修不了哇"
        },
        {
            "author": "innc",
            "timestamp": 1609744800,
            "txt_content": "xkshadow 发表于 2021-1-1 17:23\n插件大量功能已失效\n有哪些功能失效了呢，我争取过年的时候修复一下"
        },
        {
            "author": "我想梦见你笑",
            "timestamp": 1609760340,
            "txt_content": "innc 发表于 2021-1-4 15:18\n把商店交互时间调长一点试试，或者输入的时候手快一点\n谢了，老哥。点赞"
        },
        {
            "author": "000214075",
            "timestamp": 1611891660,
            "txt_content": "最良心的版主！"
        },
        {
            "author": "xkshadow",
            "timestamp": 1612777380,
            "txt_content": "innc 发表于 2021-1-4 15:20\n有哪些功能失效了呢，我争取过年的时候修复一下\n物品无悬浮  创建商店时木牌空的"
        },
        {
            "author": "OOC新手",
            "timestamp": 1613130540,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "mkft",
            "timestamp": 1614029940,
            "txt_content": "5金粒没了"
        }
    ]
}