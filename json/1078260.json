{
    "title": "Can't keep up报错，附timings文件与插件列表",
    "author": "Iw3nJ1n",
    "replyCount": 8,
    "timestamp": 1594723740,
    "txt_content": " 本帖最后由 Iw3nJ1n 于 2020-7-14 18:50 编辑 \n\n开启服务器过程几乎进行了5分钟左右\n\n昨晚能流畅运行，无修改情况下今天早上起来以后就遇到这个报错，用各路方法尝试、排查了八个多小时了，实在解决不好，真心求助\n\n\n\n\n\n附1：timings.txt文件\n\n\n\ntimings.txt\n(10.87 KB, 下载次数: 3)\n\n\n\n2020-7-14 18:46 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n\n附2：后台报错截图（开服—我登录—登录超时这么一个流程）\n\n\n\n\n报错1.png (201.07 KB, 下载次数: 0)\n\n下载附件\n\n2020-7-14 18:47 上传\n\n\n\n\n\n\n\n\n附3：插件列表截图（标注暂时关掉的是保留了文件夹，暂时删除插件文件的）\n\n\n\n\n插件1.png (14.21 KB, 下载次数: 0)\n\n下载附件\n\n2020-7-14 18:48 上传\n\n\n\n\n\n\n\n附4：启动器参数\njava -Xms1024M -Xmx4096M -Dterminal.jline=false -Dterminal.ansi=true -jar server.jar\n\n\n\n",
    "replies": [
        {
            "author": "wjwrh",
            "timestamp": 1594723740,
            "txt_content": "Iw3nJ1n 发表于 2020-7-14 21:19\n网页版的timings怎么弄鸭，这样子可以吗？\n\n还想知道一下一般这种情况都是插件占用CPU过高引发的吗？\ncan't keep up基本上就是你的CPU拉满了\n没有办法及时处理新的事件\ntimings的话你paste之后应该会出一个链接啊"
        },
        {
            "author": "wjwrh",
            "timestamp": 1594725120,
            "txt_content": "Can't keep up这个是服务器负载太大了\n然后显示这个\n这个时候往往TPS会比较低\n1.16.1的服务器出现这种问题开起来卡挺正常 毕竟负优化\n# timings有没有网页版的啊 看的头大"
        },
        {
            "author": "Iw3nJ1n",
            "timestamp": 1594732740,
            "txt_content": " 本帖最后由 Iw3nJ1n 于 2020-7-14 21:21 编辑 \nwjwrh 发表于 2020-7-14 19:12\nCan't keep up这个是服务器负载太大了\n然后显示这个\n这个时候往往TPS会比较低\n网页版的timings怎么弄鸭，这样子可以吗？\nMinecraft\n    ** Full Server Tick Time: 4169161626 Count: 4 Avg: 1042290406 Violations: 82\n    Player List Time: 1394262 Count: 5 Avg: 278852 Violations: 0\n    Command Functions Time: 4068178 Count: 5 Avg: 813635 Violations: 0\n    Connection Handler Time: 4170543 Count: 5 Avg: 834108 Violations: 0\n    Tickables Time: 342881 Count: 5 Avg: 68576 Violations: 0\n    Scheduler Time: 188080983 Count: 5 Avg: 37616196 Violations: 2\n    Time Update Time: 308770 Count: 5 Avg: 61754 Violations: 0\n    Server Command Time: 1139024 Count: 4 Avg: 284756 Violations: 0\n    ** tickEntity Time: 146968933 Count: 1575 Avg: 93313 Violations: 1\n    ** activatedTickEntity Time: 13353770 Count: 50 Avg: 267075 Violations: 0\n    ** tickTileEntity Time: 115422418 Count: 455 Avg: 253675 Violations: 0\n    processQueue Time: 731608 Count: 5 Avg: 146321 Violations: 0\n    ** Scheduler - Sync Tasks Time: 150236571 Count: 6 Avg: 25039428 Violations: 2\n    entityActivationCheck Time: 10915006 Count: 30 Avg: 363833 Violations: 0\n    ** checkIfActive Time: 10165593 Count: 945 Avg: 10757 Violations: 0\n    Task: Yum v2.9.1-git-129f8543820c25645f6f3d2c7ce115d4ea03ab6d Runnable: pw.yumc.Yum.statistic.Statistics$StatisticsTimer(interval:20) Time: 2666997 Count: 1 Avg: 2666997 Violations: 0\n    Task: ProtocolLib v4.5.0 Runnable: com.comphenix.protocol.ProtocolLib$3(interval:1) Time: 27903899 Count: 5 Avg: 5580779 Violations: 0\n    ** world - doChunkUnload Time: 100431281 Count: 5 Avg: 20086256 Violations: 1\n    ** world - doTickPending Time: 46950442 Count: 5 Avg: 9390088 Violations: 0\n    ** world - doChunkMap Time: 6799691 Count: 5 Avg: 1359938 Violations: 0\n    ** world - doSounds Time: 268570 Count: 5 Avg: 53714 Violations: 0\n    ** world - entityTick Time: 82224578 Count: 5 Avg: 16444915 Violations: 1\n    ** world - tileEntityTick Time: 52125488 Count: 5 Avg: 10425097 Violations: 0\n    ** world - tileEntityPending Time: 134642 Count: 5 Avg: 26928 Violations: 0\n    ** world - syncChunkLoad Time: 36977579 Count: 35 Avg: 1056502 Violations: 0\n    world - tracker Time: 83684787 Count: 5 Avg: 16736957 Violations: 0\n    world - doTick Time: 868302980 Count: 5 Avg: 173660596 Violations: 12\n    world - tickEntities Time: 87700154 Count: 5 Avg: 17540030 Violations: 1\n    ** world_nether - doChunkUnload Time: 15124268 Count: 5 Avg: 3024853 Violations: 0\n    ** world_nether - doTickPending Time: 52452640 Count: 5 Avg: 10490528 Violations: 0\n    ** world_nether - doChunkMap Time: 6203288 Count: 5 Avg: 1240657 Violations: 0\n    ** world_nether - doSounds Time: 259893 Count: 5 Avg: 51978 Violations: 0\n    ** world_nether - entityTick Time: 39838704 Count: 5 Avg: 7967740 Violations: 0\n    ** world_nether - tileEntityTick Time: 14408545 Count: 5 Avg: 2881709 Violations: 0\n    ** world_nether - tileEntityPending Time: 150457 Count: 5 Avg: 30091 Violations: 0\n    ** world_nether - syncChunkLoad Time: 5012700 Count: 20 Avg: 250635 Violations: 0\n    world_nether - tracker Time: 53014233 Count: 5 Avg: 10602846 Violations: 0\n    world_nether - doTick Time: 629595599 Count: 5 Avg: 125919119 Violations: 7\n    world_nether - tickEntities Time: 46150061 Count: 5 Avg: 9230012 Violations: 0\n    ** world_the_end - doChunkUnload Time: 11889975 Count: 5 Avg: 2377995 Violations: 0\n    ** world_the_end - doTickPending Time: 14953867 Count: 5 Avg: 2990773 Violations: 0\n    ** world_the_end - doChunkMap Time: 9440868 Count: 5 Avg: 1888173 Violations: 0\n    ** world_the_end - doSounds Time: 155152 Count: 5 Avg: 31030 Violations: 0\n    ** world_the_end - entityTick Time: 17842149 Count: 5 Avg: 3568429 Violations: 0\n    ** world_the_end - tileEntityTick Time: 308176 Count: 5 Avg: 61635 Violations: 0\n    ** world_the_end - tileEntityPending Time: 76526 Count: 5 Avg: 15305 Violations: 0\n    ** world_the_end - syncChunkLoad Time: 5345633 Count: 53 Avg: 100861 Violations: 0\n    world_the_end - tracker Time: 5251000 Count: 5 Avg: 1050200 Violations: 0\n    world_the_end - doTick Time: 509764403 Count: 5 Avg: 101952880 Violations: 6\n    world_the_end - tickEntities Time: 32972373 Count: 5 Avg: 6594474 Violations: 0\n    ** tickTileEntity - TileEntityChest Time: 35782156 Count: 120 Avg: 298184 Violations: 0\n    ** tickTileEntity - TileEntityMobSpawner Time: 36538292 Count: 50 Avg: 730765 Violations: 0\n    ** tickEntity - EntityEnderCrystal Time: 13342221 Count: 50 Avg: 266844 Violations: 0\n    ** temp - doChunkUnload Time: 6546458 Count: 5 Avg: 1309291 Violations: 0\n    ** temp - doTickPending Time: 1653138 Count: 5 Avg: 330627 Violations: 0\n    ** temp - doChunkMap Time: 4072438 Count: 5 Avg: 814487 Violations: 0\n    ** temp - doSounds Time: 158115 Count: 5 Avg: 31623 Violations: 0\n    ** temp - entityTick Time: 4632991 Count: 5 Avg: 926598 Violations: 0\n    ** temp - tileEntityTick Time: 185853 Count: 5 Avg: 37170 Violations: 0\n    ** temp - tileEntityPending Time: 19836 Count: 5 Avg: 3967 Violations: 0\n    temp - tracker Time: 4467083 Count: 5 Avg: 893416 Violations: 0\n    temp - doTick Time: 339553234 Count: 5 Avg: 67910646 Violations: 4\n    temp - tickEntities Time: 6649587 Count: 5 Avg: 1329917 Violations: 0\n    ** temp2 - doChunkUnload Time: 60981925 Count: 5 Avg: 12196385 Violations: 0\n    ** temp2 - doTickPending Time: 963841199 Count: 5 Avg: 192768239 Violations: 14\n    ** temp2 - doChunkMap Time: 2823492 Count: 5 Avg: 564698 Violations: 0\n    ** temp2 - doSounds Time: 339915 Count: 5 Avg: 67983 Violations: 0\n    ** temp2 - entityTick Time: 66879875 Count: 5 Avg: 13375975 Violations: 0\n    ** temp2 - tileEntityTick Time: 23393633 Count: 5 Avg: 4678726 Violations: 0\n    ** temp2 - tileEntityPending Time: 111227 Count: 5 Avg: 22245 Violations: 0\n    ** temp2 - syncChunkLoad Time: 6182175 Count: 45 Avg: 137381 Violations: 0\n    temp2 - tracker Time: 38265838 Count: 5 Avg: 7653167 Violations: 0\n    temp2 - doTick Time: 1940343870 Count: 5 Avg: 388068774 Violations: 31\n    temp2 - tickEntities Time: 74701492 Count: 5 Avg: 14940298 Violations: 0\n    ** tickTileEntity - TileEntityBeehive Time: 4777068 Count: 5 Avg: 955413 Violations: 0\n    ** build - doChunkUnload Time: 17379299 Count: 5 Avg: 3475859 Violations: 0\n    ** build - doTickPending Time: 11407360 Count: 5 Avg: 2281472 Violations: 0\n    ** build - doChunkMap Time: 33478664 Count: 5 Avg: 6695732 Violations: 0\n    ** build - doSounds Time: 14470592 Count: 5 Avg: 2894118 Violations: 0\n    ** build - entityTick Time: 8264697 Count: 5 Avg: 1652939 Violations: 0\n    ** build - tileEntityTick Time: 49416318 Count: 5 Avg: 9883263 Violations: 0\n    ** build - tileEntityPending Time: 78183 Count: 5 Avg: 15636 Violations: 0\n    ** build - syncChunkLoad Time: 9544878 Count: 57 Avg: 167454 Violations: 0\n    build - tracker Time: 5663548 Count: 5 Avg: 1132709 Violations: 0\n    build - doTick Time: 563857750 Count: 5 Avg: 112771550 Violations: 7\n    build - tickEntities Time: 13642114 Count: 5 Avg: 2728422 Violations: 0\n    ** tickTileEntity - TileEntityBeacon Time: 25458621 Count: 110 Avg: 231442 Violations: 0\n    ** tickTileEntity - TileEntityEnderChest Time: 6567571 Count: 10 Avg: 656757 Violations: 0\n    ** tickTileEntity - TileEntityCampfire Time: 5783435 Count: 160 Avg: 36146 Violations: 0\n# Version git-Spigot-4d9262c-dc7c3c6 (MC: 1.16.1)\n# Entities 317\n# LivingEntities 289\nSample time 5379036725 (5.379036725s)\n<spigotConfig>\n# This is the main configuration file for Spigot.\n# As you can see, there's tons to configure. Some options may impact gameplay, so use\n# with caution, and make sure you know what each option does before configuring.\n# For a reference for any variable inside this file, check out the Spigot wiki at\n# http://www.spigotmc.org/wiki/spigot-configuration/\n# \n# If you need help with the configuration or have any questions related to Spigot,\n# join us at the IRC or drop by our forums and leave a post.\n# \n# IRC: #spigot @ irc.spi.gt ( http://www.spigotmc.org/pages/irc/ )\n# Forums: http://www.spigotmc.org/\n\nconfig-version: 12\nmessages:\n  whitelist: You are not whitelisted on this server!\n  unknown-command: Unknown command. Type \"/help\" for help.\n  server-full: The server is full!\n  outdated-client: Outdated client! Please use {0}\n  outdated-server: Outdated server! I'm still on {0}\n  restart: Server is restarting\ncommands:\n  tab-complete: 0\n  send-namespaced: true\n  spam-exclusions:\n  - /skill\n  log: true\n  silent-commandblock-console: false\n  replace-commands:\n  - setblock\n  - summon\n  - testforblock\n  - tellraw\nsettings:\n  bungeecord: false\n  sample-count: 12\n  player-shuffle: 0\n  user-cache-size: 1000\n  save-user-cache-on-stop-only: false\n  moved-wrongly-threshold: 0.0625\n  moved-too-quickly-multiplier: 10.0\n  log-villager-deaths: true\n  timeout-time: 60\n  restart-on-crash: true\n  restart-script: ./start.sh\n  netty-threads: 4\n  debug: false\n  attribute:\n    maxHealth:\n      max: 2048.0\n    movementSpeed:\n      max: 2048.0\n    attackDamage:\n      max: 2048.0\nadvancements:\n  disable-saving: false\n  disabled:\n  - minecraft:story/disabled\nstats:\n  disable-saving: false\n  forced-stats: {}\nworld-settings:\n  default:\n    verbose: true\n    mob-spawn-range: 6\n    hopper-amount: 1\n    dragon-death-sound-radius: 0\n    seed-village: 10387312\n    seed-desert: 14357617\n    seed-igloo: 14357618\n    seed-jungle: 14357619\n    seed-swamp: 14357620\n    seed-monument: 10387313\n    seed-shipwreck: 165745295\n    seed-ocean: 14357621\n    seed-outpost: 165745296\n    seed-endcity: 10387313\n    seed-slime: 987234911\n    seed-bastion: 30084232\n    seed-fortress: 30084232\n    seed-mansion: 10387319\n    seed-fossil: 14357921\n    seed-portal: 34222645\n    max-tnt-per-tick: 100\n    enable-zombie-pigmen-portal-spawns: true\n    item-despawn-rate: 6000\n    view-distance: default\n    wither-spawn-sound-radius: 0\n    arrow-despawn-rate: 1200\n    trident-despawn-rate: 1200\n    hanging-tick-frequency: 100\n    zombie-aggressive-towards-villager: true\n    nerf-spawner-mobs: false\n    end-portal-sound-radius: 0\n    merge-radius:\n      exp: 3.0\n      item: 2.5\n    growth:\n      cactus-modifier: 100\n      cane-modifier: 100\n      melon-modifier: 100\n      mushroom-modifier: 100\n      pumpkin-modifier: 100\n      sapling-modifier: 100\n      beetroot-modifier: 100\n      carrot-modifier: 100\n      potato-modifier: 100\n      wheat-modifier: 100\n      netherwart-modifier: 100\n      vine-modifier: 100\n      cocoa-modifier: 100\n      bamboo-modifier: 100\n      sweetberry-modifier: 100\n      kelp-modifier: 100\n    entity-activation-range:\n      animals: 32\n      monsters: 32\n      raiders: 48\n      misc: 16\n      tick-inactive-villagers: true\n    ticks-per:\n      hopper-transfer: 8\n      hopper-check: 1\n    hunger:\n      jump-walk-exhaustion: 0.05\n      jump-sprint-exhaustion: 0.2\n      combat-exhaustion: 0.1\n      regen-exhaustion: 6.0\n      swim-multiplier: 0.01\n      sprint-multiplier: 0.1\n      other-multiplier: 0.0\n    max-tick-time:\n      tile: 50\n      entity: 50\n    squid-spawn-range:\n      min: 45.0\n    entity-tracking-range:\n      players: 48\n      animals: 48\n      monsters: 48\n      misc: 32\n      other: 64\n  worldeditregentempworld:\n    verbose: false\n\n</spigotConfig>\n复制代码\n\n还想知道一下一般这种情况都是插件占用CPU过高引发的吗？\n"
        },
        {
            "author": "Iw3nJ1n",
            "timestamp": 1594733280,
            "txt_content": "wjwrh 发表于 2020-7-14 21:22\ncan't keep up基本上就是你的CPU拉满了\n没有办法及时处理新的事件\ntimings的话你paste之后应该会出一个链 ...\n怪不得，我使用report导出的\n以下是paste后给出的网址\nhttps://timings.spigotmc.org/?url=vififojune"
        },
        {
            "author": "wjwrh",
            "timestamp": 1594733400,
            "txt_content": "Iw3nJ1n 发表于 2020-7-14 21:28\n怪不得，我使用report导出的\n以下是paste后给出的网址\nhttps://timings.spigotmc.org/?url=vififojune ...Average TPS: 20.08\n...\n超过20的TPS是怎么做到的。。。\n你这个TPS完全没有任何问题\n报can't keep up应该只是有某些操作瞬间占用比较厉害\n无视就好了"
        },
        {
            "author": "Iw3nJ1n",
            "timestamp": 1594734060,
            "txt_content": "wjwrh 发表于 2020-7-14 21:30\n...\n超过20的TPS是怎么做到的。。。\n你这个TPS完全没有任何问题\n是的。在发帖时把服务器关闭了，然后刚刚去用paste时重新把它开起来了，莫名其妙又顺畅了。我看到我那个叫temp2的世界占比好像比较高（temp2 - doTick）是因为啥呢"
        },
        {
            "author": "wjwrh",
            "timestamp": 1594734120,
            "txt_content": "Iw3nJ1n 发表于 2020-7-14 21:41\n是的。在发帖时把服务器关闭了，然后刚刚去用paste时重新把它开起来了，莫名其妙又顺畅了。我看到我那个 ...\n不太清楚\n其实只要TPS不低问题就不大\n占用高比较正常\n首先就是1.16负优化\n再就是正常开服务器也肯定有占用的啊"
        },
        {
            "author": "Iw3nJ1n",
            "timestamp": 1594734240,
            "txt_content": "wjwrh 发表于 2020-7-14 21:42\n不太清楚\n其实只要TPS不低问题就不大\n占用高比较正常\n好的，非常谢谢你!"
        }
    ]
}