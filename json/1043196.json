{
    "title": "1.15.2服务器异常",
    "author": "超级菜鸡白",
    "replyCount": 17,
    "timestamp": 1589164980,
    "txt_content": " 本帖最后由 超级菜鸡白 于 2020-5-11 14:29 编辑 \n\n\n\n\nnew.txt\n(9.36 KB, 下载次数: 9)\n\n\n\n2020-5-11 10:41 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n服务器会在运行途中会突然莫名其妙刷出这些错误，不知道什么时候就会突然出现，会导致所有玩家连接超时。延迟突然极高甚至到连接超时\n\n[10:33:26 WARN]: Caused by: java.lang.IndexOutOfBoundsException: Index: 102, Size: 46 [10:33:26 WARN]:        at java.util.ArrayList.rangeCheck(Unknown Source) [10:33:26 WARN]:        at java.util.ArrayList.get(Unknown Source) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.EnumProtocol$a.a(SourceFile:385) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.EnumProtocol.a(SourceFile:427) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.PacketDecoder.decode(SourceFile:34) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428) [10:33:26 WARN]:        ... 30 more [10:33:26 WARN]: io.netty.handler.codec.DecoderException: java.lang.IndexOutOfBoundsException: Index: 101, Size: 46 [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:459) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:297) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:413) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.LegacyPingHandler.channelRead(LegacyPingHandler.java:120) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [10:33:26 WARN]:        at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [10:33:26 WARN]:        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [10:33:26 WARN]:        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) [10:33:26 WARN]:        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [10:33:26 WARN]:        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:647) [10:33:26 WARN]:        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404) [10:33:26 WARN]:        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:465) [10:33:26 WARN]:        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884) [10:33:26 WARN]:        at java.lang.Thread.run(Unknown Source) [10:33:26 WARN]: Caused by: java.lang.IndexOutOfBoundsException: Index: 100, Size: 46 [10:33:26 WARN]:        at java.util.ArrayList.rangeCheck(Unknown Source) [10:33:26 WARN]:        at java.util.ArrayList.get(Unknown Source) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.EnumProtocol$a.a(SourceFile:385) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.EnumProtocol.a(SourceFile:427) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.PacketDecoder.decode(SourceFile:34) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428) [10:33:26 WARN]:        ... 26 more [10:33:26 WARN]: io.netty.handler.codec.DecoderException: java.lang.IndexOutOfBoundsException: Index: 100, Size: 46 [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:459) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:392) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:359) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:342) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:224) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:377) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:342) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:224) [10:33:26 WARN]:        at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) [10:33:26 WARN]:        at io.netty.handler.timeout.IdleStateHandler.channelInactive(IdleStateHandler.java:277) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:224) [10:33:26 WARN]:        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1429) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:245) [10:33:26 WARN]:        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:231) [10:33:26 WARN]:        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:947) [10:33:26 WARN]:        at io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:822) [10:33:26 WARN]:        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163) [10:33:26 WARN]:        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404) [10:33:26 WARN]:        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:465) [10:33:26 WARN]:        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884) [10:33:26 WARN]:        at java.lang.Thread.run(Unknown Source) [10:33:26 WARN]: Caused by: java.lang.IndexOutOfBoundsException: Index: 100, Size: 46 [10:33:26 WARN]:        at java.util.ArrayList.rangeCheck(Unknown Source) [10:33:26 WARN]:        at java.util.ArrayList.get(Unknown Source) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.EnumProtocol$a.a(SourceFile:385) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.EnumProtocol.a(SourceFile:427) [10:33:26 WARN]:        at net.minecraft.server.v1_15_R1.PacketDecoder.decode(SourceFile:34) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489) [10:33:26 WARN]:        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428) [10:33:26 WARN]:        ... 26 more",
    "replies": [
        {
            "author": "wjwrh",
            "timestamp": 1589165940,
            "txt_content": "还有别的报错吗\n把完整的log发一下\n从这些文本里面暂时不能定位具体的问题所在"
        },
        {
            "author": "超级菜鸡白",
            "timestamp": 1589167200,
            "txt_content": "wjwrh 发表于 2020-5-11 10:59\n还有别的报错吗\n把完整的log发一下\n从这些文本里面暂时不能定位具体的问题所在 ...\n\n\n\nnew.txt\n(179.71 KB, 下载次数: 5)\n\n\n\n2020-5-11 11:19 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n这是更多的log 不过似乎都差不太多"
        },
        {
            "author": "wjwrh",
            "timestamp": 1589167320,
            "txt_content": "超级菜鸡白 发表于 2020-5-11 11:20\n这是更多的log 不过似乎都差不太多\n这个报告里面唯一出现的插件就是protocollib\n尝试更新或者降版本\n一个新版一个旧版\n都试试吧\n\n\n\nProtocolLib.jar\n(1.43 MB, 下载次数: 1)\n\n\n\n2020-5-11 11:22 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\nProtocolLib-3.7.0.jar\n(1.26 MB, 下载次数: 1)\n\n\n\n2020-5-11 11:22 上传\n点击文件名下载附件\n\n\n\n\n"
        },
        {
            "author": "超级菜鸡白",
            "timestamp": 1589168160,
            "txt_content": "wjwrh 发表于 2020-5-11 11:22\n这个报告里面唯一出现的插件就是protocollib\n尝试更新或者降版本\n一个新版一个旧版\n很感谢你上传了这些版本，但我都尝试了，依旧报错\n\n\n\nnew.txt\n(105.59 KB, 下载次数: 2)\n\n\n\n2020-5-11 11:36 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "wjwrh",
            "timestamp": 1589168520,
            "txt_content": "超级菜鸡白 发表于 2020-5-11 11:36\n很感谢你上传了这些版本，但我都尝试了，依旧报错\n个人从报错文件里面能够获得的信息就这么多了..\n\n你能不能描述一下在什么状况下会出现这些问题\n\n延迟极高是指ping高还是tps低了"
        },
        {
            "author": "超级菜鸡白",
            "timestamp": 1589168580,
            "txt_content": "wjwrh 发表于 2020-5-11 11:42\n个人从报错文件里面能够获得的信息就这么多了..\n\n你能不能描述一下在什么状况下会出现这些问题\n只有延迟升高 完全不影响到TPS 而且是随时出现 突然就出现一阵然后突然就消失"
        },
        {
            "author": "超级菜鸡白",
            "timestamp": 1589168820,
            "txt_content": "wjwrh 发表于 2020-5-11 11:42\n个人从报错文件里面能够获得的信息就这么多了..\n\n你能不能描述一下在什么状况下会出现这些问题\n有时候会刷出一句 io.netty.handler.timeout.ReadTimeoutException"
        },
        {
            "author": "wjwrh",
            "timestamp": 1589169000,
            "txt_content": "超级菜鸡白 发表于 2020-5-11 11:43\n只有延迟升高 完全不影响到TPS 而且是随时出现 突然就出现一阵然后突然就消失 ...\n就很怪 你这个新的报错里面就跟protocollib无关了\n但是还是在报错 更新一下服务端核心试试？"
        },
        {
            "author": "超级菜鸡白",
            "timestamp": 1589170380,
            "txt_content": "wjwrh 发表于 2020-5-11 11:50\n就很怪 你这个新的报错里面就跟protocollib无关了\n但是还是在报错 更新一下服务端核心试试？ ...\n我由237构建升级到了274 依旧是这样"
        },
        {
            "author": "龙息法师",
            "timestamp": 1589176080,
            "txt_content": "使用protocollib4.3.X或者4.2.0版本试试"
        },
        {
            "author": "龙息法师",
            "timestamp": 1589176200,
            "txt_content": "1.15啊。那你需要用4.5的"
        },
        {
            "author": "超级菜鸡白",
            "timestamp": 1589178180,
            "txt_content": "龙息法师 发表于 2020-5-11 13:50\n1.15啊。那你需要用4.5的\n与ProtocolLib没啥关系啊...删掉也是一样的"
        },
        {
            "author": "815666528",
            "timestamp": 1589185200,
            "txt_content": "感觉像是给服务端发送的网络包太大了， 看看有没有配置把服务端的接收网络包上线给调节下，要不就换个核心"
        },
        {
            "author": "龙息法师",
            "timestamp": 1589185560,
            "txt_content": "如果你用的是mohist那就是ProtocolLib的问题"
        },
        {
            "author": "peipei123147",
            "timestamp": 1589188440,
            "txt_content": " 本帖最后由 peipei123147 于 2020-5-11 17:36 编辑 \n\n换一个核心试试"
        },
        {
            "author": "超级菜鸡白",
            "timestamp": 1589189220,
            "txt_content": "peipei123147 发表于 2020-5-11 17:14\n换一个核心试试\n依旧不行"
        },
        {
            "author": "超级菜鸡白",
            "timestamp": 1589189280,
            "txt_content": "815666528 发表于 2020-5-11 16:20\n感觉像是给服务端发送的网络包太大了， 看看有没有配置把服务端的接收网络包上线给调节下，要不就换个核心 ...\n我试着从paper换到了spigot 可这个问题依旧出现"
        }
    ]
}