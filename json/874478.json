{
    "title": "星系mod装在服务器引起CPU占用过高",
    "author": "lue317458552",
    "replyCount": 13,
    "timestamp": 1560787500,
    "txt_content": "最近在租用了一个服务器 然后想再服务器上安装星系mod  但每次运行都造成比较大的CPU实用导致被强制关服（即使是纯净只装星系mod的情况），请问是否有办法让星系mod的CPU占用降低？服务器用的是forge2825的海绵端大佬们求助啊！",
    "replies": [
        {
            "author": "mine新时代xs",
            "timestamp": 1560787500,
            "txt_content": " 本帖最后由 mine新时代xs 于 2019-6-18 00:33 编辑 \nblue317458552 发表于 2019-6-18 00:13\n不是这个意思...其实我的意思是星系mod导致了外面租用的服务器CPU使用过高这点很谜， 不知道是流体还是什 ...\n星系模组添加了新的维度，Minecraft效率最低的系统是光照系统，当你添加一些冒险模组时(尤其是给服务器添加)，你的CPU会飙升，所以你可以通过这个模组来解决这个问题，目前该模组修改优化的光照引擎已被加入知名冒险模组天境2，用于其添加的维度的照明计算\n站内搬运贴：http://www.mcbbs.net/thread-853660-1-1.html\n除此以外，你还可以加装一些其他的优化模组，在这个问题方面比较好用的还有FoamFix和VanillaFix：\n站内：http://www.mcbbs.net/thread-792493-1-1.html\n站内：http://www.mcbbs.net/thread-678442-1-1.html\n有一个不是优化模组但是对此有奇效的模组：\n站外：https://minecraft.curseforge.com/projects/tick-dynamic\n突然想起来这个模组的功能似乎已经被添加到了Sponge端最新版中，也不兼容旧版本的Sponge！请不要使用！！\n\n当然了，你也可以通过优化你服务器的启动参数来使你的CPU占用过高问题得到解决：\n站内：http://www.mcbbs.net/thread-839828-1-1.html\n最后就是，可以使用优化插件，因为星系模组添加了更多的维度后，加载的区块会增加很多：\n\n\n推荐这个插件：http://www.mcbbs.net/thread-603072-1-1.html\n\n\n"
        },
        {
            "author": "skyliye",
            "timestamp": 1560787800,
            "txt_content": "请在服务器的server.properties中设置max ticktime位-1或9999999999，原来的值应该是6000.也就是服务端超过60秒没响应会自动关服，-1代表不自动关服\n\n如果是catserver还需要修改spigot.yml中的timeout-time为-1或9999999999\n\n面板本身检测到资源占用过高自动关服，真的无解"
        },
        {
            "author": "lue317458552",
            "timestamp": 1560787980,
            "txt_content": "skyliye 发表于 2019-6-18 00:10\n请在服务器的server.properties中设置max ticktime位-1或9999999999，原来的值应该是6000.也就是服务端超过 ...\n不是这个意思...其实我的意思是星系mod导致了外面租用的服务器CPU使用过高这点很谜， 不知道是流体还是什么原因导致的，所以想问问有没直接或者间接去限制星系mod的CPU占用率的办法..."
        },
        {
            "author": "skyliye",
            "timestamp": 1560788160,
            "txt_content": "blue317458552 发表于 2019-6-18 00:13\n不是这个意思...其实我的意思是星系mod导致了外面租用的服务器CPU使用过高这点很谜， 不知道是流体还是什 ...\n并没有办法去限制，CPU占用高还是说明面板服本身的配置不够，建议升级更高CPU主频的面板或是VPS\n如果游戏内无严重卡顿可无需理会"
        },
        {
            "author": "lue317458552",
            "timestamp": 1560789540,
            "txt_content": "mine新时代xs 发表于 2019-6-18 00:24\n星系模组添加了新的维度，Minecraft效率最低的系统是光照系统，当你添加一些冒险模组时(尤其是给服务器添 ...\n额加了上面mod之后出错了 \n具体\n---- Minecraft Crash Report ----\n// I bet Cylons wouldn't have this problem.\n\nTime: 2019-06-18 00:38:37 CST\nDescription: Exception generating new chunk\n\njava.lang.NoClassDefFoundError: net/minecraft/world/chunk/BlockStateContainer\n    at net.minecraft.world.chunk.storage.ExtendedBlockStorage.<init>(ExtendedBlockStorage.java:21)\n    at net.minecraft.world.chunk.Chunk.<init>(Chunk.java:117)\n    at org.spongepowered.common.world.gen.SpongeChunkGenerator.generateChunk(SpongeChunkGenerator.java:286)\n    at net.minecraft.world.gen.ChunkProviderServer.provideChunk(ChunkProviderServer.java:143)\n    at net.minecraft.world.World.getChunk(World.java:310)\n    at net.minecraft.world.World.getChunk(World.java:305)\n    at net.minecraft.world.WorldServer.getBlockState(WorldServer.java:3500)\n    at net.minecraft.world.World.isAirBlock(World.java:230)\n    at net.minecraft.world.World.getGroundAboveSeaLevel(World.java:210)\n    at net.minecraft.world.WorldProvider.canCoordinateBeSpawn(WorldProvider.java:76)\n    at net.minecraft.world.WorldServer.createSpawnPosition(WorldServer.java:944)\n    at net.minecraft.world.WorldServer.initialize(WorldServer.java:866)\n    at org.spongepowered.common.world.WorldManager.createWorldFromProperties(WorldManager.java:848)\n    at org.spongepowered.common.world.WorldManager.loadAllWorlds(WorldManager.java:792)\n    at net.minecraft.server.MinecraftServer.loadAllWorlds(MinecraftServer.java:4550)\n    at net.minecraft.server.dedicated.DedicatedServer.init(DedicatedServer.java:270)\n    at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:486)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: net.minecraft.world.chunk.BlockStateContainer\n    at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:191)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 18 more\nCaused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:521)\n    at org.spongepowered.asm.mixin.transformer.Proxy.transform(Proxy.java:72)\n    at net.minecraft.launchwrapper.LaunchClassLoader.runTransformers(LaunchClassLoader.java:279)\n    at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:176)\n    ... 20 more\nCaused by: org.spongepowered.asm.mixin.injection.throwables.InjectionError: Critical injection failure: Redirector redirect$onGetStorageSize$FixVanillaBug$zne001(Lnet/minecraft/util/BitArray;)I in mixins.common.core.json:world.chunk.MixinBlockStateContainer failed injection check, (0/1) succeeded. Using refmap mixins.common.refmap.json\n    at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.postInject(InjectionInfo.java:290)\n    at org.spongepowered.asm.mixin.transformer.MixinTargetContext.applyInjections(MixinTargetContext.java:1211)\n    at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyInjections(MixinApplicatorStandard.java:963)\n    at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:323)\n    at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:281)\n    at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:353)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.apply(MixinTransformer.java:724)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.applyMixins(MixinTransformer.java:703)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:509)\n    ... 23 more\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- Chunk to be generated --\n  Location: -14,15\n  Position hash: 68719476722\n  Generator: SpongeChunkGeneratorForge{world=WorldServer{Name=world, DimensionId=0, DimensionType=minecraft:overworld, DimensionTypeId=0}}\n\n-- Affected level --\n  Level name: world\n  All players: 0 total; []\n  Chunk stats: ServerChunkCache: 0 Drop: 0\n  Level seed: 5308079745997622261\n  Level generator: ID 00 - default, ver 1. Features enabled: true\n  Level generator options: \n  Level spawn location: World: (0,0,0), Chunk: (at 0,0,0 in 0,0; contains blocks 0,0,0 to 15,255,15), Region: (0,0; contains chunks 0,0 to 31,31, blocks 0,0,0 to 511,255,511)\n  Level time: 0 game time, 0 day time\n  Level dimension: 0\n  Level storage version: 0x00000 - Unknown?\n  Level weather: Rain time: 0 (now: false), thunder time: 0 (now: false)\n  Level game mode: Game mode: survival (ID 0). Hardcore: false. Cheats: false\n\n-- Sponge PhaseTracker --\n  Phase Stack: /**************************************************************************************************************/\n               /*   - Phase: GenerationPhase{}{TerrainGenerationState:TERRAIN_GENERATION}                                    */\n               /*     Context:                                                                                               */\n               /*     - Source: WorldServer{Name=world, DimensionId=0, DimensionType=minecraft:overworld, DimensionTypeId=0} */\n               /*     - World: null                                                                                          */\n               /**************************************************************************************************************/\n\n-- System Details --\n  Minecraft Version: 1.12.2\n  Operating System: Windows 7 (amd64) version 6.1\n  Java Version: 1.8.0_211, Oracle Corporation\n  Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation\n  Memory: 3697497320 bytes (3526 MB) / 4111466496 bytes (3921 MB) up to 4111466496 bytes (3921 MB)\n  JVM Flags: 2 total; -Xms4096M -Xmx4096M\n  IntCache: cache: 0, tcache: 0, allocated: 29, tallocated: 77\n  FML: MCP 9.42 Powered by Forge 14.23.5.2825 12 mods loaded, 12 mods active\n       States: 'U' = Unloaded 'L' = Loaded 'C' = Constructed 'H' = Pre-initialized 'I' = Initialized 'J' = Post-initialized 'A' = Available 'D' = Disabled 'E' = Errored\n       \n       | State  | ID                  | Version           | Source                                                | Signature                                |\n       |:------ |:------------------- |:----------------- |:----------------------------------------------------- |:---------------------------------------- |\n       | LCHIJA | minecraft           | 1.12.2            | minecraft.jar                                         | None                                     |\n       | LCHIJA | mcp                 | 9.42              | minecraft.jar                                         | None                                     |\n       | LCHIJA | FML                 | 8.0.99.99         | forge-1.12.2-14.23.5.2825-universal.jar               | e3c3d50c7c986df74c645c0ac54639741c90a557 |\n       | LCHIJA | forge               | 14.23.5.2825      | forge-1.12.2-14.23.5.2825-universal.jar               | e3c3d50c7c986df74c645c0ac54639741c90a557 |\n       | LCHIJA | micdoodlecore       |                   | minecraft.jar                                         | None                                     |\n       | LCHIJA | spongeapi           | 7.1.0-fb496dbf0   | spongeforge-1.12.2-2825-7.1.6.jar                     | None                                     |\n       | LCHIJA | sponge              | 1.12.2-7.1.6      | spongeforge-1.12.2-2825-7.1.6.jar                     | None                                     |\n       | LCHIJA | spongeforge         | 1.12.2-2825-7.1.6 | spongeforge-1.12.2-2825-7.1.6.jar                     | None                                     |\n       | LCHIJA | vanillafix          | 1.0.10-SNAPSHOT   | [1.12.x][原版修复]VanillaFix-1.0.10-99.jar                | None                                     |\n       | LCHIJA | galacticraftcore    | 4.0.1.181         | [xing xi he xin]GalacticraftCore-1.12.2-4.0.1.181.jar | None                                     |\n       | LCHIJA | galacticraftplanets | 4.0.1.181         | [xing xi]Galacticraft-Planets-1.12.2-4.0.1.181.jar    | None                                     |\n       | LCHIJA | phosphor-lighting   | 1.12.2-0.2.4      | phosphor-1.12.2-0.2.4+build46-universal.jar           | f0387d288626cc2d937daa504e74af570c52a2f1 |\n  Loaded coremods (and transformers): MicdoodlePlugin ([xing xi he xin]MicdoodleCore-1.12.2-4.0.1.181.jar)\n                                        micdoodle8.mods.miccore.MicdoodleTransformer\n                                      PhosphorFMLLoadingPlugin (phosphor-1.12.2-0.2.4+build46-universal.jar)\n                                        \n                                      VanillaFixLoadingPlugin ([1.12.x][原版修复]VanillaFix-1.0.10-99.jar)\n                                        \n                                      SpongeCoremod (spongeforge-1.12.2-2825-7.1.6.jar)\n                                        org.spongepowered.common.launch.transformer.SpongeSuperclassTransformer\n  Suspected Mods: SpongeForge (spongeforge)\n  Profiler Position: N/A (disabled)\n  Player Count: 0 / 20; []\n  Is Modded: Definitely; Server brand changed to 'fml,forge,sponge'\n  Type: Dedicated Server (map_server.txt)\n 求问为什么..."
        },
        {
            "author": "mine新时代xs",
            "timestamp": 1560790080,
            "txt_content": "blue317458552 发表于 2019-6-18 00:39\n额加了上面mod之后出错了 \n具体\n---- Minecraft Crash Report ----\n在生成新的区块时崩溃了\n根据照明优化的作者介绍：\nSpongeForge compatibility\nPhosphor has been tested to work with the latest versions of SpongeForge, but you must use the latest releases of SpongeForge (1.12.2-2768-7.1.6-RC3639 or newer) and the latest releases of Phosphor (0.2.0+.) Phosphor will refuse to run if an older version of SpongeForge is being used. Additionally, you must disable asynchronous lighting in Sponge's configuration file or you will suffer degraded performance.\n认为你使用的海绵端有可能版本过低，请更新\n同时你绝对在配置文件中没有将海绵端的“异步照明”关闭，因为我刚才没提到这一点\n顺带一提，看到这里的“异步照明”我才想起来海绵端的这个功能，怪不得你CPU占用那么高，你果然还是考虑一下其他服务端吧，海绵端兼容差添加星系又容易自动关服"
        },
        {
            "author": "lue317458552",
            "timestamp": 1560790380,
            "txt_content": "mine新时代xs 发表于 2019-6-18 00:48\n在生成新的区块时崩溃了\n根据照明优化的作者介绍：\n额...我海绵端是最新版自己做的狠心所以应该不会是版本问题...\ncat端我也做过上传上租的服务器一样结果才用的海绵...\n请问海绵的异常光照在哪里关闭呢"
        },
        {
            "author": "lue317458552",
            "timestamp": 1560790500,
            "txt_content": "mine新时代xs 发表于 2019-6-18 00:48\n在生成新的区块时崩溃了\n根据照明优化的作者介绍：\n另外发现好像是照明优化跟另外两个mod一起放的时候就会出现我刚才的问题..."
        },
        {
            "author": "mine新时代xs",
            "timestamp": 1560790560,
            "txt_content": "blue317458552 发表于 2019-6-18 00:53\n额...我海绵端是最新版自己做的狠心所以应该不会是版本问题...\ncat端我也做过上传上租的服务器一样结果才 ...\n不好意思我从来没用过海绵端，不知道，只知道作者说要关，只知道这个功能和添加了维度的模组一同会很卡\n考虑到兼容性你还是换回猫端吧，方便添加优化插件和优化模组\n话说你还是忘了可以用启动参数优化"
        },
        {
            "author": "mine新时代xs",
            "timestamp": 1560790620,
            "txt_content": "blue317458552 发表于 2019-6-18 00:55\n另外发现好像是照明优化跟另外两个mod一起放的时候就会出现我刚才的问题... ...\n不知道，我这里搭建的cat端是可以塞一大堆优化模组也没有兼容性问题的\n单人游戏也没有兼容性问题"
        },
        {
            "author": "mine新时代xs",
            "timestamp": 1560792120,
            "txt_content": "blue317458552 发表于 2019-6-18 00:39\n额加了上面mod之后出错了 \n具体\n---- Minecraft Crash Report ----\n说起来你使用的星系版本还真旧呢，更新一下吧，说不定是旧版本的bug和性能损失太严重了"
        },
        {
            "author": "世予予",
            "timestamp": 1560809100,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "xmdhs",
            "timestamp": 1560812160,
            "txt_content": "blue317458552 发表于 2019-6-18 00:53\n额...我海绵端是最新版自己做的狠心所以应该不会是版本问题...\ncat端我也做过上传上租的服务器一样结果才 ...\n他给的启动参数不适合 sponge  试试这个帖中的。http://www.mcbbs.net/thread-786074-1-1.html\n\n异步光照在这里关 config\\sponge 的 global.conf async-lighting 设置为 false 。\n\n同时建议安装上面那个帖子的第六章优化。"
        }
    ]
}