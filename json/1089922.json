{
    "title": "GlobalMarket跨服数据同步问题",
    "author": "奥力給",
    "replyCount": 11,
    "timestamp": 1596118800,
    "txt_content": " 本帖最后由 15063463486 于 2020-7-31 18:16 编辑 \n\nGlobalMarket跨服数据同步  版本:2.0.0.28\n\n想进行数据同步\n没找到如何同步\n配置文件中有一段话\n表示没看懂# GlobalMarket config: v2.0.0.28\n\n# Persistence options. Valid options are 'flat' and 'redis' (Default: flat)\n# Pointing two GlobalMarket instances at the same Redis server allows them to share data.\n# If using a multi-server setup, set 'persistence.saveInterval' to zero on all but one server.\n# If changed while the server is running, for example from flat to redis, GlobalMarket will /ERASE/\n# the new storage method and import all loaded data into it from the previous persistance method.\npersistence:\n  method: flat\n  redis:\n    address: localhost\n    port: 6379\n    poolSize: 16\n    password: ''\n  saveInterval: 1200\n\n# Minimum time in between click events in miliseconds before\n# closing an inventory and logging the player. (Default: 20)\nautoclicker_defense_threshold: 20\n\n# Will log names of potential players with autoclickers. (Default: true)\nenable_autoclicker_logging: true\n\n# Which locale file to use. Do not include .json! (Default: en_US)\n# Locale files can be found and edited to your liking inside the plugin JAR.\n# Be sure to migrate your edits when updating the plugin.\nlocale_file: en_US\n\n# Disables the stock system entirely. Listings will function like\n#  they did in previous versions, minus the mailbox. Items will\n#  go straight to the player's cursor. (Default: false)\ndisable_stock_system: false\n\n# How many stock slots to give each player. (Default: 16)\nstock_slots: 16\n\n# Group-based stock slot assignment. Requires a permissions plugin\n#  with Vault support. This setting will be added to the default slots.\n# <group-name>:<# of slots>\nstock_slots_groups:\n- default:0\n\n# How many items can be stored in a stock slot. (Default: 320)\nstock_slots_size: 320\n\n# Group-based stock slot size assignment. Requires a permissions plugin\n#  with Vault support. This setting will be added to the default slot size.\n# <group-name>:<size of slot>\nstock_slots_size_groups:\n- default:0\n\n# Time in minutes to wait before allowing a player to retrieve newly\n#  added stock. (Default: 0)\nstock_delay: 0\n\n# How many hours to wait before removing a listing. (Default: 12)\n# Set to 0 to disable expiration\nlistings_expire_time: 12\n\n# What percentage to deduct from a transaction. (Default: 0.05)\n# Set to 0.0 to disable cuts\nlistings_cut_amount: 0.05\n\n# The root prefix to all GlobalMarket commands. (Default: market)\n# Changing this requires a server restart\ncommand_root_name: market\n\n# How much to increment or decrement when a number button is pressed\n# while in the listings creation menu.\ncreation_menu_increments:\n  '1': 1\n  '2': 5\n  '3': 10\n  '4': 50\n  '5': 100\n  '6': 500\n  '7': 1000\n  '8': 5000\n  '9': 10000\n\n# Adds a section to the Market menu where you can sell infinite listings. (Default: true)\nenable_infinite_listings: true\n\n# Enables debug output. Warning: gets /VERY/ spammy. (Default: false)\nenable_debug: false\n\n# Plugin Metrics helps the plugin developer track usage statistics. (Default: true)\n# Changing this requires a server restart\nenable_metrics: true\n\n# Just a feature to test capabilities of the menu system. Enable at your own discretion. (Default: false)\nenable_storage: false\n\nstorage_store_amount: 640.0\n\nstorage_withdraw_amount: 320.0\n\n# What item ID strings to use when creating a function button.\n# Bukkit/Spigot supports material values like CHEST:0 or PAPER:0.\n# Cauldron supports Forge item strings like ImmersiveEngineering:material:12\nmenu_function_items:\n  FUNC_PREVPAGE: EMPTY_MAP:0\n  FUNC_NEXTPAGE: EMPTY_MAP:0\n  FUNC_NAVIGATION: CHEST:0\n  FUNC_SERVER_LISTINGS_NAVIGATION: CHEST:0\n  FUNC_STORAGE_NAVIGATION: CHEST:0\n  FUNC_NOSTOCK_CREATE_LISTING: HOPPER:0\n  FUNC_CREATE_LISTING_CANCEL: STAINED_GLASS_PANE:14\n  FUNC_CREATE_LISTING_CREATE: STAINED_GLASS_PANE:5\n\n\n如有哪位大神知道如何配置\n在下万分感激！\n",
    "replies": [
        {
            "author": "crazy随风",
            "timestamp": 1596177300,
            "txt_content": "连接数据库但是你这段貌似不全？"
        },
        {
            "author": "奥力給",
            "timestamp": 1596190260,
            "txt_content": "crazy随风 发表于 2020-7-31 14:35\n连接数据库但是你这段貌似不全？\n那我改一下  发全部内容\n"
        },
        {
            "author": "crazy随风",
            "timestamp": 1596250380,
            "txt_content": "# GlobalMarket config: v2.0.0.28\n\n# Persistence options. Valid options are 'flat' and 'redis' (Default: flat)\n# Pointing two GlobalMarket instances at the same Redis server allows them to share data.\n# If using a multi-server setup, set 'persistence.saveInterval' to zero on all but one server.\n# If changed while the server is running, for example from flat to redis, GlobalMarket will /ERASE/\n# the new storage method and import all loaded data into it from the previous persistance method.\npersistence:\n  method: flat\n  redis:\n    address: localhost\n    port: 6379 端口 这个端口我不知道你咋设置的一般都是3306\n    poolSize: 16\n    password: '' 这里是数据库密码\n  saveInterval: 1200\n\n而且这个好奇怪\n\n  ip: ' localhost' 数据库IP\n  port: '3306' 数据库端口\n  user: 'xxxrpg' 数据库账号\n  database: 'xxxrpg' 数据库名字\n  password: 'xxxrpg' 数据库密码"
        },
        {
            "author": "奥力給",
            "timestamp": 1596252240,
            "txt_content": "crazy随风 发表于 2020-8-1 10:53\n# GlobalMarket config: v2.0.0.28\n\n# Persistence options. Valid options are 'flat' and 'redis' (Defau ...\n这样强制改的话会不会生效\n我上面放的是默认配置文件\n作者好像就是这样排的..."
        },
        {
            "author": "crazy随风",
            "timestamp": 1596257220,
            "txt_content": "15063463486 发表于 2020-8-1 11:24\n这样强制改的话会不会生效\n我上面放的是默认配置文件\n作者好像就是这样排的... ...\n强制并会生效，而且这是啥插件发个链接"
        },
        {
            "author": "奥力給",
            "timestamp": 1596277080,
            "txt_content": "crazy随风 发表于 2020-8-1 12:47\n强制并会生效，而且这是啥插件发个链接\n那我去试试\n这是个全球交易插件\n虽然作者已经停更了..\nhttp://dev.bukkit.org/bukkit-plugins/global-market/"
        },
        {
            "author": "奥力給",
            "timestamp": 1596277680,
            "txt_content": "crazy随风 发表于 2020-8-1 12:47\n强制并会生效，而且这是啥插件发个链接\n很可惜的是数据库并未生效..\npersistence: \n method: flat \n redis: \n address: localhost \n port: '3306' \n poolSize: 16 \n password: root \n ip: localhost \n user: root \n database: GlobalMarket\n"
        },
        {
            "author": "crazy随风",
            "timestamp": 1596277800,
            "txt_content": "15063463486 发表于 2020-8-1 18:28\n很可惜的是数据库并未生效..\n插件链接发一下"
        },
        {
            "author": "奥力給",
            "timestamp": 1596277860,
            "txt_content": "crazy随风 发表于 2020-8-1 18:30\n插件链接发一下\nhttp://dev.bukkit.org/bukkit-plugins/global-market/"
        },
        {
            "author": "crazy随风",
            "timestamp": 1596277920,
            "txt_content": "15063463486 发表于 2020-8-1 18:31\n论坛内部没有吗？"
        },
        {
            "author": "奥力給",
            "timestamp": 1596281640,
            "txt_content": "crazy随风 发表于 2020-8-1 18:32\n论坛内部没有吗？\nhttps://www.mcbbs.net/thread-781954-1-1.html\n"
        }
    ]
}