{
    "title": "Tiger的插件开发 我的第一个插件！（4） 从入门到精通",
    "author": "tiger999",
    "replyCount": 3,
    "timestamp": 1450282680,
    "txt_content": " 本帖最后由 tiger999 于 2015-12-17 17:44 编辑 \n\n前面把一些比较基础的东西讲了，大家就应该起码有一个基础吧，废话不多说，开始主题\n\nOK，今天我们终于要学习插件的制作了！(观众:是啊是啊，终于不用学习那些基础了)\n我们开始吧，首先我们先从如何创建一个空的插件开始！\n我们打开萌萌哒eclipse，然后File=>new=>Java Project\n我们在Project name里面输入MyFirstPlugin\n现在是这样的\n\n\n\n\n\n4-1.jpg (68.32 KB, 下载次数: 18)\n\n下载附件\n\n2015-12-16 22:33 上传\n\n\n\n\n\n\n然后我们点击Finish，一个崭新的Java Project出现在我们眼前(注意这里不要像上次那样在里面加东西)\n不过，现在他还不是一个插件\n我们右键一下那个MyFirstPlugin\n\n\n\n\n\n4-2.jpg (1.61 KB, 下载次数: 17)\n\n下载附件\n\n2015-12-16 22:39 上传\n\n\n\n\n\n\nOK，右键完以后里面有一个Properties\n点击以后是这样的\n\n\n\n\n\n4-3.jpg (68.94 KB, 下载次数: 17)\n\n下载附件\n\n2015-12-16 22:38 上传\n\n\n\n\n\n\n然后按着下图步骤把你的核心文件点击就可以了(核心文件就是你开服的那个jar)\n\n\n\n\n\n4-4.jpg (126.42 KB, 下载次数: 17)\n\n下载附件\n\n2015-12-16 22:40 上传\n\n\n\n\n\n\n搞完以后就可以了！\n不过呢，现在还是没有搞完\n我们对着那个\n\n右键，然后New=>Package\n\n\n\n\n\n4-5.jpg (31.8 KB, 下载次数: 17)\n\n下载附件\n\n2015-12-16 22:44 上传\n\n\n\n\n\n\n我们在name里面填写com.github.xxxxx\n我就填com.github.tiger好了\nOK，我们再对着那个新建的包右键，New=>Class\n我们在Name里面填MyFirstPlugin\n\n\n\n\n4-6.jpg (66.92 KB, 下载次数: 17)\n\n下载附件\n\n2015-12-16 22:46 上传\n\n\n\n\n\nFinish以后你的插件就基本上完成了，但是烦人的Bukkit得加载什么plugin.yml\n没办法，我们只好对着那个MyFirstPlugin右键了\n\n我们选New=>File，然后我们在File name里面填plugin.yml，点击Finish\n然后呢，在里面写\nname: (插件名字)\nmain: (刚刚创建的包的名字).(主类的名字)\nversion: (版本)\n格式非常的规范，我发一下格式([]是空格)\n\nname:[](插件名字)\nmain:[](刚刚创建的包的名字).(主类的名字)\nversion:[](版本)\n\nOK， 比如我们的MyFirstPlugin就是\nname: MyFirstPlugin\nmain: com.github.tiger.MyFirstPlugin\nversion: 0.0.1\n\nOK，弄完这个，我们终于可以编写程序了！\n我们首先打开那个MyFirstPlugin.java\n里面现在是\npackage com.github.tiger;\n\npublic class MyFirstPlugin {\n\n}\n复制代码很好，我们现在先在public class MyFirstPlugin的后面加上一个 extends JavaPlugin\n他会报错，鼠标移到小红线上看解决方案，里面有一个\nimport org.bukkit.plugin.java.JavaPlugin\n点击那个\n然后呢，我们就在{}里面写代码啦！\n我们写\n @Override\n\n public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args){if (cmd.getName().equalsIgnoreCase(\"[指令]\")){\n  \n return true;\n }\n return false;\n }\n这里会出错，得import很多东西，改import的import，注意，他给你提示的那些import里面要import org.bukkit.xxx的，不要import其他的\n现在应该是这样的\npackage com.github.tiger;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.plugin.java.JavaPlugin;\npublic class MyFirstPlugin extends JavaPlugin{\n @Override\n public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args){if (cmd.getName().equalsIgnoreCase(\"a\")){\n  \n return true;\n }\n return false;\n }\n\n }\nOK，我们就在//执行XXX下面写代码，这里我得讲解一下！\npublic这里其实就是创建一个新的命令执行器，他里面的参数有\nCommandSender sender    Command cmd    String label     String[] args\n这些变量类型都是插件里面才有的东西，这些是什么意思呢？？？\nsender是发送者的名字，但是他是CommandSender类型的，所以想要获取他的String名字，我们得用\nString name=sender.getName();\n这样子，getName()就是获取名字\nCommand cmd可以不用理\nString label其实也可以不用理，就比如/a xxx，那么label就是a，/b xxx那么label就是b\nString args[]这个很重要，args[]是一个数组，数组里面可以放东西，比如说\n/a 123 456\n那么args[0]就是123（注意数组是0开始的）args[1]就是456\n这里提示一下\nif (cmd.getName().equalsIgnoreCase(\"[指令]\"))\n这里的[指令]可以换成字符，意思就是/b的时候，那么cmd.getName()就是b，\nequalsIgnoreCase(\"\")的意思就是判断\"\"里的东西和后面的东西一不一样，这就是一个悲剧，我在里面判断的时候比如说我要/c 123的时候就做XXX\nif (args[0]==\"123\")这样是错的\n只有\nif (args.equalsIgnoreCase(\"123\"))这样才可以{:10_530:}\nok，那么这些参数都弄明白了，比如说假如我输入/a b就会显示a怎么办？？？\n考验你的时刻到了！\n答案:\n\npackage com.github.tiger;\n\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class MyFirstPlugin extends JavaPlugin{\n        @Override\n\n        public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args){if (cmd.getName().equalsIgnoreCase(\"a\")){\n        if (args[0].equalsIgnoreCase(\"b\")){\n                sender.sendMessage(\"a\");\n//sender.sendMessage(\"a\");\n//这里就是向输入/a b的人发送\"\"里面的东西，这里的发送的就是a\n        }\n                \n        return true;\n        }\n        return false;\n        }\n}\n\n\nOK，辛辛苦苦做的插件终于好了，我们保存一下\n最后，如何导出成jar文件？\n很简单首先File=>Export\n选择jar file然后next\n然后再把下面图片勾了的地方勾了\n\n\n\n\n4-7.jpg (3.2 KB, 下载次数: 17)\n\n下载附件\n\n2015-12-17 00:15 上传\n\n\n\n\n\n\n\n\n4-8.jpg (2.85 KB, 下载次数: 17)\n\n下载附件\n\n2015-12-17 00:15 上传\n\n\n\n\n\n\n最后在JAR File那里填路径和名字，比如说C:\\MyFirstPlugin.jar\n就存在了C盘，名字为MyFristPlugin.jar\n今天就先到这里吧\n累死我了\n\n回到索引贴\n\n",
    "replies": [
        {
            "author": "Lucency",
            "timestamp": 1455449220,
            "txt_content": "楼主 如果添加权限怎么弄呢 能不能出一个给插件添加权限的帖子"
        },
        {
            "author": "tiger999",
            "timestamp": 1455625440,
            "txt_content": "Lucency 发表于 2016-2-14 19:27\n楼主 如果添加权限怎么弄呢 能不能出一个给插件添加权限的帖子\n不方便说，加qq2624183401"
        },
        {
            "author": "A-Kreedz",
            "timestamp": 1462201980,
            "txt_content": "真好，勤都学会了插件"
        }
    ]
}