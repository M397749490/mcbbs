{
    "title": "关于computercraft的应用",
    "author": "XT_Summer_",
    "replyCount": 2,
    "timestamp": 1470890340,
    "txt_content": "求一个3*3截面挖矿程序",
    "replies": [
        {
            "author": "GiNYAi",
            "timestamp": 1470890340,
            "txt_content": "稍微改了一下默认的tunnel程序\n\nlocal tArgs = { ... }\nif #tArgs ~= 1 then\n        print( \"Usage: tunnel <length>\" )\n        return\nend\n\n-- Mine in a quarry pattern until we hit something we can't dig\nlocal length = tonumber( tArgs[1] )\nif length < 1 then\n        print( \"Tunnel length must be positive\" )\n        return\nend\n        \nlocal depth = 0\nlocal collected = 0\n\nlocal function collect()\n        collected = collected + 1\n        if math.fmod(collected, 25) == 0 then\n                print( \"Mined \"..collected..\" items.\" )\n        end\nend\n\nlocal function tryDig()\n        while turtle.detect() do\n                if turtle.dig() then\n                        collect()\n                        sleep(0.5)\n                else\n                        return false\n                end\n        end\n        return true\nend\n\nlocal function tryDigUp()\n        while turtle.detectUp() do\n                if turtle.digUp() then\n                        collect()\n                        sleep(0.5)\n                else\n                        return false\n                end\n        end\n        return true\nend\n\nlocal function tryDigDown()\n        while turtle.detectDown() do\n                if turtle.digDown() then\n                        collect()\n                        sleep(0.5)\n                else\n                        return false\n                end\n        end\n        return true\nend\n\nlocal function refuel()\n        local fuelLevel = turtle.getFuelLevel()\n        if fuelLevel == \"unlimited\" or fuelLevel > 0 then\n                return\n        end\n        \n        local function tryRefuel()\n                for n=1,16 do\n                        if turtle.getItemCount(n) > 0 then\n                                turtle.select(n)\n                                if turtle.refuel(1) then\n                                        turtle.select(1)\n                                        return true\n                                end\n                        end\n                end\n                turtle.select(1)\n                return false\n        end\n        \n        if not tryRefuel() then\n                print( \"Add more fuel to continue.\" )\n                while not tryRefuel() do\n                        os.pullEvent( \"turtle_inventory\" )\n                end\n                print( \"Resuming Tunnel.\" )\n        end\nend\n\nlocal function tryUp()\n        refuel()\n        while not turtle.up() do\n                if turtle.detectUp() then\n                        if not tryDigUp() then\n                                return false\n                        end\n                elseif turtle.attackUp() then\n                        collect()\n                else\n                        sleep( 0.5 )\n                end\n        end\n        return true\nend\n\nlocal function tryDown()\n        refuel()\n        while not turtle.down() do\n                if turtle.detectDown() then\n                        if not tryDigDown() then\n                                return false\n                        end\n                elseif turtle.attackDown() then\n                        collect()\n                else\n                        sleep( 0.5 )\n                end\n        end\n        return true\nend\n\nlocal function tryForward()\n        refuel()\n        while not turtle.forward() do\n                if turtle.detect() then\n                        if not tryDig() then\n                                return false\n                        end\n                elseif turtle.attack() then\n                        collect()\n                else\n                        sleep( 0.5 )\n                end\n        end\n        return true\nend\n\nprint( \"Tunnelling...\" )\n\nfor n=1,length do\n        turtle.placeDown()\n        tryDigUp()\n        turtle.turnLeft()\n        tryDig()\n        tryUp()\n        tryDig()\n        tryUp()\n        tryDig()\n        turtle.turnRight()\n        turtle.turnRight()\n        tryDig()\n        tryDown()\n        tryDig()\n        tryDown()\n        tryDig()\n        turtle.turnLeft()\n        \n        if n<length then\n                tryDig()\n                if not tryForward() then\n                        print( \"Aborting Tunnel.\" )\n                        break\n                end\n        else\n                print( \"Tunnel complete.\" )\n        end\n\nend\n\n--[[\nprint( \"Returning to start...\" )\n\n-- Return to where we started\nturtle.turnLeft()\nturtle.turnLeft()\nwhile depth > 0 do\n        if turtle.forward() then\n                depth = depth - 1\n        else\n                turtle.dig()\n        end\nend\nturtle.turnRight()\nturtle.turnRight()\n]]\n\nprint( \"Tunnel complete.\" )\nprint( \"Mined \"..collected..\" items total.\" )\n复制代码\n\n\n"
        },
        {
            "author": "XT_Summer_",
            "timestamp": 1472356260,
            "txt_content": "好久了，没看到，帮你补上。"
        }
    ]
}