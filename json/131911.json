{
    "title": "啰嗦的QC教你做自动售货机",
    "author": "quentinchan",
    "replyCount": 72,
    "timestamp": 1371811620,
    "txt_content": " 本帖最后由 麦白 于 2016-8-18 19:08 编辑 \n\n什么是自动售货机？自动售货机能吃吗？\n答：收你的钱，给你你需要的货物的机器就是自动售货机，它不能吃。\n\n说在前面，这种结构的自动售货机必须依赖1.5.1以来的漏斗和红石比较器，因此，游戏版本必须1.5.1以上。\n\n首先，我先解释一下这个控制电路，红石小白可以自动忽略，按着搭就好。我们选用漏斗结合红石比较器把物品和红石信号联结起来。其实在之前的版本也有方块可以把物品和红石信号联系起来，比如线和绊线钩，但是这种组合没法收集作为货币的物品，而且区分物品的原理比较蛋疼（不赘述（已经够啰嗦了）），因此果断放弃。那么用漏斗和红石比较器是怎么做到区分物品的呢？下面开始解释。\n\n\n\n\n2013-06-21_17.33.05.jpg (16.19 KB, 下载次数: 1)\n\n下载附件\n\n2013-6-21 17:47 上传\n\n\n\n\n\n\n\n\n\n2013-06-21_17.33.01.jpg (19.74 KB, 下载次数: 0)\n\n下载附件\n\n2013-6-21 17:47 上传\n\n\n\n\n\n\n\n\n\n2013-06-21_17.32.00.jpg (18.91 KB, 下载次数: 0)\n\n下载附件\n\n2013-6-21 17:47 上传\n\n\n\n\n\n以上三幅图是用来解释控制电路的。首先我们看到这里有两个漏斗，上面那个的物品输送方向是红石比较器的方向，而下面那个的物品输送方向是一个大箱子。上面的漏斗连接红石比较器，比较器指示灯亮（减法），而比较器的右边输入一个强度为13的红石信号（注意，直接触碰红石火把红石方块踏板按钮拉杆什么的强红石信号源的红石线的信号强度是14，与之相邻的也是14，再往下传递信号才开始减弱），这个结构能让比较器在装满的情况下输出强度为1的红石信号，而在漏斗装了4组+41个方块的时候停止输出红石信号，这样，我们就把漏斗里面的物品数量成功的转换成了红石信号。我们知道临界值是4组+41个（其实就是13/14*漏斗容量），也就是说，我们应该让漏斗里物品的容量常年保持在这个数量上，而每有一个人放进一个物品的时候，就会输出一个红石信号。\n\n\n\n\n2013-06-21_17.32.49.jpg (22.05 KB, 下载次数: 0)\n\n下载附件\n\n2013-6-21 17:47 上传\n\n\n\n\n\n下面来讲一下怎么维持物品数量。上面这张图充分说明了原理。漏斗具有不断从上方吸东西和不断向所指方向运东西的特点，同时如果漏斗本身或者相邻方块被充能，那么吸和送的两个动作就会停止。如图，一般情况下，漏斗里面物品数量处于临界值边缘，比较器熄灭，红石火把点亮，下面两个中继器点亮，命令方块和紧贴着下面那个漏斗的方块被充能，下面的漏斗不不会吸上面漏斗里的物品，物品数量不变；当上面的漏斗中物品数量超过临界值的时候，比较器点亮，比较器前面的方块上的那根红石火把熄灭，下面的两个中继器也熄灭，这时候命令方块和比较器下面的那个方块没有充能，下面的漏斗正常吸走物品，于是放进上面漏斗的物品就被吸走了，直到物品数量小于临界值，中继器前面的两个方块才被充能，系统重新回归不工作的稳定状态。每次放进一个物品就会让那两个方块解除充能再重新充能，更新命令方块一次，触发前面的弹射器一次，对应的执行一个命令或者弹射一个物品。你可能会问，为什么上面那个漏斗要用漏斗，随便弄个能装东西的比如箱子陷阱箱不行么？当然不行，他不仅仅作为物品和红石信号的桥梁，更重要的是它是区分物品的关键，我把它叫做分拣器。如果换成箱子，随便你放什么进去，他都会输出红石信号，但是漏斗不同，因为不同物品不能堆叠的原因，如果漏斗的5个格都有物品，物品没有堆满的情况下，漏斗无法吸进其他物品，如果把漏斗堆满同一种物品，它就只能吸这种物品，从而起到了一个分拣器的作用。游戏里面我用的是钻石方块，也就是说，放进一个钻石方块就会让弹射器发射一次，命令方块刷新一次，执行一次命令。\n\n\n\n\n2013-06-21_17.29.50.jpg (19.17 KB, 下载次数: 0)\n\n下载附件\n\n2013-6-21 17:47 上传\n\n\n\n\n\n如果把漏斗作为与“买家”直接接触的“投币口”会出现很严重的问题，比如把漏斗里面的东西拿出来。。。。。。 这对于“商家”而言是莫大的悲剧。所以，我们必须用一个有物品栏的，能放进所有种类物品的（明显不能用熔炉），能将漏斗完全遮盖住的方块作为“投币口”，目前符合这个要求的只有发射器和弹射器。使用漏斗上方的方块作为投币口还有一个明显的优点，就是一次性购买很多东西的时候不需要一个个的放入，而可以直接放个一组半组，由于上方漏斗吸物品有一定速度，所以，只要放的物品不是太多，每吸一个物品就会激活系统工作一次，发射一个物品，刷新一次命令方块。图里面我们还可以看到，红石线错层连接的地方放置的是石英台阶，这里如果放置实体方块的话会切断连接，导致系统故障。\n\n\n\n\n2013-06-21_17.28.55.jpg (14.15 KB, 下载次数: 2)\n\n下载附件\n\n2013-6-21 17:47 上传\n\n\n\n\n\n\n做到这里还存在一个很严重的问题，那就是“买家”仍然可以从存放商品的弹射器里面直接拿东西。为了避免这种状况，我在弹射器前面放了个铁栅栏，这样就避免了玩家对弹射器的直接接触，同时又可以让物品顺利弹出。存储“货币”的箱子和存放“商品”的箱子都是用漏斗作为传输手段的，比较简单，玩漏斗的同学必须都看得懂无压力。这个红石控制线路还可以很容易的把一个钻石块一个商品的交易比例变成一个钻石块N个商品，只需要单边扩展，不断的加中继器和弹射器，配上漏斗和箱子来储存商品就好。\n\n\n至此，原理说明完毕，具体的搭法可以看图，也可以下地图，地图里面的人就站在自动售货机面前。\n地图里面没有射程很远的大炮，请大家不要去找\n喜欢用WE schematic save的同学们注意了，paste以后需要把比较器的状态改成减法，同时需要把上面的漏斗填满作为“货币”的物品。\n\n\n\n\n\n2013-06-21_17.40.45.jpg\n(38.32 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2013-6-21 17:43 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2013-06-21_17.29.02.jpg\n(16.05 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2013-6-21 17:47 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2013-06-21_17.29.24.jpg\n(13.06 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2013-6-21 17:47 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2013-06-21_17.31.56.jpg\n(19.68 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2013-6-21 17:47 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "su3155323",
            "timestamp": 1371811740,
            "txt_content": "不错，但是有人教过了，发错版了吧？"
        },
        {
            "author": "1079043962",
            "timestamp": 1371811740,
            "txt_content": "略好费材料"
        },
        {
            "author": "shizhenxing1",
            "timestamp": 1371811740,
            "txt_content": "{:10_512:}表示我不会搭.....顶一个"
        },
        {
            "author": "quentinchan",
            "timestamp": 1371811980,
            "txt_content": "su3155323 发表于 2013-6-21 18:49 \n不错，但是有人教过了，发错版了吧？\n线路优化过，大小也还行，觉得跟其他人做的还是有不同倾向的。因为主要是发地图，所以把解释都折叠了"
        },
        {
            "author": "12688066",
            "timestamp": 1371812760,
            "txt_content": "饿，好复杂耶{:10_492:}"
        },
        {
            "author": "2652247133",
            "timestamp": 1371813840,
            "txt_content": "0.2784+29+651341"
        },
        {
            "author": "luozizhang",
            "timestamp": 1371814080,
            "txt_content": "!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"
        },
        {
            "author": "爱别人是快乐的",
            "timestamp": 1371814980,
            "txt_content": "{:10_512:}{:10_512:}{:10_512:}{:10_512:}"
        },
        {
            "author": "zt9781",
            "timestamp": 1371815040,
            "txt_content": "只玩单机的路过 （ 单机需要么...）"
        },
        {
            "author": "643089849",
            "timestamp": 1371815460,
            "txt_content": "KANKANKANKANK=SSA"
        },
        {
            "author": "lpt1234",
            "timestamp": 1371816060,
            "txt_content": "ccccccccccccc"
        },
        {
            "author": "Coerce",
            "timestamp": 1371817980,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "冰封雪域-ian",
            "timestamp": 1371818100,
            "txt_content": "好高端的样子"
        },
        {
            "author": "DEATH~LOVE",
            "timestamp": 1371819360,
            "txt_content": "冰封雪域-ian 发表于 2013-6-21 20:35 \n好高端的样子\n好复杂的样子"
        },
        {
            "author": "冰封雪域-ian",
            "timestamp": 1371819840,
            "txt_content": "DEATH~LOVE 发表于 2013-6-21 20:56 \n好复杂的样子\n好高（fu）端（za）的样子"
        },
        {
            "author": "1419341363",
            "timestamp": 1371821940,
            "txt_content": "mcbbs有你更精彩"
        },
        {
            "author": "dalanpa",
            "timestamp": 1371824460,
            "txt_content": "材质包给我"
        },
        {
            "author": "小霖霖",
            "timestamp": 1371824940,
            "txt_content": "我只能说。。我看不懂= ={:10_517:}"
        },
        {
            "author": "q1048024438",
            "timestamp": 1371825660,
            "txt_content": "哦哦，这东西，我想学学"
        },
        {
            "author": "suenhao",
            "timestamp": 1371827760,
            "txt_content": "wow好厉害啊！！！"
        },
        {
            "author": "xingweimingnu",
            "timestamp": 1371829860,
            "txt_content": "不错{:10_512:}{:10_512:}"
        },
        {
            "author": "854314034",
            "timestamp": 1371830040,
            "txt_content": "额、看懂了。。。。"
        },
        {
            "author": "竹楼听雨",
            "timestamp": 1371833820,
            "txt_content": "{:10_492:}{:10_492:}{:10_512:}{:10_513:}{:10_512:}"
        },
        {
            "author": "下一刻",
            "timestamp": 1371836580,
            "txt_content": "看不懂啊，好复杂{:10_527:}"
        },
        {
            "author": "LinksYY",
            "timestamp": 1371857340,
            "txt_content": "看起来好复杂的样子"
        },
        {
            "author": "412001820",
            "timestamp": 1371860100,
            "txt_content": "jkjhkhjkhkhjkhjk"
        },
        {
            "author": "~KU~",
            "timestamp": 1371861060,
            "txt_content": "{:10_512:}\n感谢楼主~~"
        },
        {
            "author": "籍翔",
            "timestamp": 1371861180,
            "txt_content": "=-=!!!!!!!!!!!!!!!!!!!!!!!!!!!"
        },
        {
            "author": "~KU~",
            "timestamp": 1371861360,
            "txt_content": "冰封雪域-ian 发表于 2013-6-21 21:04 \n好高（fu）端（za）的样子\n金币好難中的样子"
        },
        {
            "author": "丁世荣",
            "timestamp": 1371861600,
            "txt_content": "额..........................无语"
        },
        {
            "author": "我的世界5",
            "timestamp": 1371866160,
            "txt_content": "sadcasfasdf"
        },
        {
            "author": "quentinchan",
            "timestamp": 1371884940,
            "txt_content": "dalanpa 发表于 2013-6-21 22:21 \n材质包给我\nJakob.z的方块概念材质"
        },
        {
            "author": "tteicom",
            "timestamp": 1371939840,
            "txt_content": "这个可以学习一下。。。。那个命令方块不用行不。。。。。"
        },
        {
            "author": "mcfans2001",
            "timestamp": 1371949080,
            "txt_content": "很有用。。"
        },
        {
            "author": "quentinchan",
            "timestamp": 1371969480,
            "txt_content": "tteicom 发表于 2013-6-23 06:24 \n这个可以学习一下。。。。那个命令方块不用行不。。。。。\n可以换成其他实体方块"
        },
        {
            "author": "tteicom",
            "timestamp": 1372007880,
            "txt_content": "quentinchan 发表于 2013-6-23 14:38 \n可以换成其他实体方块\n这样啊，明白了，感谢解答。。。。。。。。。。。{:10_512:}"
        },
        {
            "author": "xm520",
            "timestamp": 1373973660,
            "txt_content": "额...;....."
        },
        {
            "author": "古力怕来了",
            "timestamp": 1374371280,
            "txt_content": "{:10_512:}"
        },
        {
            "author": "786757781",
            "timestamp": 1374472980,
            "txt_content": "高级啊！！"
        },
        {
            "author": "sdsyu",
            "timestamp": 1374498420,
            "txt_content": "赞！！！！！！！！！！！！！！！！！！！！！！！"
        },
        {
            "author": "a1312169644",
            "timestamp": 1374630360,
            "txt_content": "好{:10_492:}"
        },
        {
            "author": "王叙皓",
            "timestamp": 1374630780,
            "txt_content": "太棒了            "
        },
        {
            "author": "烟消ゞ云散",
            "timestamp": 1374631680,
            "txt_content": "好           顶          赞         "
        },
        {
            "author": "dsl201288",
            "timestamp": 1374632400,
            "txt_content": "好奇、、、、啊~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
        },
        {
            "author": "dcsuibian",
            "timestamp": 1374632460,
            "txt_content": "好高级的样子               "
        },
        {
            "author": "1374825305",
            "timestamp": 1374637020,
            "txt_content": "如果我说我有更简便的方法你信吗？\n点击查看"
        },
        {
            "author": "a495660354",
            "timestamp": 1374637860,
            "txt_content": "很棒的作品！"
        },
        {
            "author": "mcbbscn",
            "timestamp": 1374646200,
            "txt_content": ".........................."
        },
        {
            "author": "长沙",
            "timestamp": 1374646680,
            "txt_content": "这是什么版本"
        },
        {
            "author": "黑骏马",
            "timestamp": 1374724860,
            "txt_content": "看起来不错，学习了"
        },
        {
            "author": "Keybydoor",
            "timestamp": 1377009300,
            "txt_content": "拿回去参考一下"
        },
        {
            "author": "2252835813",
            "timestamp": 1377136080,
            "txt_content": "我玩玩                                                        "
        },
        {
            "author": "死神の菌",
            "timestamp": 1377136080,
            "txt_content": "谢谢分享哇"
        },
        {
            "author": "962851205",
            "timestamp": 1377140400,
            "txt_content": "{:10_492:}"
        },
        {
            "author": "993614094",
            "timestamp": 1377158640,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "世界小白",
            "timestamp": 1377219060,
            "txt_content": "红石小白，表示很有压力{:10_503:}"
        },
        {
            "author": "WH的MC",
            "timestamp": 1377231780,
            "txt_content": "su3155323 发表于 2013-6-21 18:49 \n不错，但是有人教过了，发错版了吧？\n谁教过？你是指我吗？我就叫过，只不过被删了，发了两次"
        },
        {
            "author": "quentinchan",
            "timestamp": 1385736600,
            "txt_content": "1374825305 发表于 2013-7-24 11:37 \n如果我说我有更简便的方法你信吗？\n点击查看\n来个文字版吧。。。"
        },
        {
            "author": "无聊的我啊",
            "timestamp": 1385737200,
            "txt_content": "楼主好帅！"
        },
        {
            "author": "Flytotheend",
            "timestamp": 1385778540,
            "txt_content": "原理很复杂，不过顶楼主"
        },
        {
            "author": "zzh1024557605",
            "timestamp": 1386398280,
            "txt_content": "给力呀，正好个我做陷阱用~~~{:10_492:}"
        },
        {
            "author": "xwz2001",
            "timestamp": 1386420420,
            "txt_content": ".............................\n1"
        },
        {
            "author": "肖炳辉",
            "timestamp": 1386425160,
            "txt_content": "啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊"
        },
        {
            "author": "mcbbc粉",
            "timestamp": 1386835500,
            "txt_content": "{:10_492:}"
        },
        {
            "author": "1552938807",
            "timestamp": 1386840000,
            "txt_content": "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~·"
        },
        {
            "author": "479060804",
            "timestamp": 1386843180,
            "txt_content": "学习了~~~~~"
        },
        {
            "author": "leiying",
            "timestamp": 1386847320,
            "txt_content": "嘎嘎 ，很无聊= = ！"
        },
        {
            "author": "982554252",
            "timestamp": 1392588600,
            "txt_content": "一头雾水···还是下存档好了"
        },
        {
            "author": "1069443639",
            "timestamp": 1393218180,
            "txt_content": "厉害~\\(≧▽≦)/~"
        },
        {
            "author": "叫什么",
            "timestamp": 1393842660,
            "txt_content": "作的还不错顶一个"
        },
        {
            "author": "luosiping",
            "timestamp": 1393843860,
            "txt_content": "额这是存档么"
        },
        {
            "author": "153198242",
            "timestamp": 1393933320,
            "txt_content": "我来领奖励啦"
        }
    ]
}