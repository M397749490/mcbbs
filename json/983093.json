{
    "title": "大佬们！求助！",
    "author": "岁月静好、",
    "replyCount": 13,
    "timestamp": 1583920800,
    "txt_content": " 本帖最后由 岁月静好、 于 2020-3-11 18:19 编辑 \n\nhttps://timings.aikar.co/?id=452e4313362f499da0773c19e8e013ab\n帮我看看什么需要优化= =\n补\n\n\n\n\nQQ图片20200311**4.jpg (28.12 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-11 18:19 上传\n\n\n\n\n",
    "replies": [
        {
            "author": "EmptyLava",
            "timestamp": 1583920800,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-3-11 18:21 编辑 \n\n主要原因应该是cpu太渣了，一个rpg武器插件不懂为何占用那么多\n原因(3)\n1.主要是CustomRPGItem这个rpg插件(可能是技能)\n2.实体占用和区块略微有一点\n3.connection handler事件(这个事件包括玩家移动，和实体交互如打怪，剪羊毛等，很难优化！站内目前还没有有效的优化方案)\n优化方案(4)\n1.这个rpg插件占用我救不了，建议你减少它的粒子产生\n2.spigot.yml中设置entity-tracking-range中的animals为25,monsters为20或者再低一点点(不要再低了，甚至rpg服务器还要提升这个monsters数值)。另外降低后面的entity-activation-range中的animal数值(20→15)\n3.windows系统的话,在任务管理器中右键javaw.exe,转详细信息后右键javaw.exe将优先级改为实时,这可以增加cpu的占用率从而提升tps(但服务器重启后需要重新配置,建议配合计划任务)\n4.你可以尝试在server.properties中降低网络压缩阈值到256→48/64。或者使用某些网络优化插件可能可以优化这个事件"
        },
        {
            "author": "xmdhs",
            "timestamp": 1583920860,
            "txt_content": "没有，tps 稳定在 20 。"
        },
        {
            "author": "结城希亚",
            "timestamp": 1583920980,
            "txt_content": "tps这么高你还要优化...\n最多也就CustomRPGitem注意下就行，别弄太多"
        },
        {
            "author": "岁月静好、",
            "timestamp": 1583921100,
            "txt_content": "御炎Roinflam 发表于 2020-3-11 18:03\ntps这么高你还要优化...\n最多也就CustomRPGitem注意下就行，别弄太多\n人多就卡了= =15人差不多就卡了"
        },
        {
            "author": "结城希亚",
            "timestamp": 1583921160,
            "txt_content": "岁月静好、 发表于 2020-3-11 18:05\n人多就卡了= =15人差不多就卡了\n你应该把卡的时候timings发上来啊"
        },
        {
            "author": "岁月静好、",
            "timestamp": 1583921760,
            "txt_content": "御炎Roinflam 发表于 2020-3-11 18:06\n你应该把卡的时候timings发上来啊\nhttps://timings.aikar.co/?id=51876555611245df8731af59d2a6b804"
        },
        {
            "author": "岁月静好、",
            "timestamp": 1583921820,
            "txt_content": "xmdhs 发表于 2020-3-11 18:01\n没有，tps 稳定在 20 。\nhttps://timings.aikar.co/?id=51876555611245df8731af59d2a6b804"
        },
        {
            "author": "岁月静好、",
            "timestamp": 1583921820,
            "txt_content": "EmptyLava 发表于 2020-3-11 18:17\ntps是满的啊...但是有tps丢失\n原因(3)\n1.主要是CustomRPGItem这个rpg插件(可能是技能)\nhttps://timings.aikar.co/?id=51876555611245df8731af59d2a6b804"
        },
        {
            "author": "xmdhs",
            "timestamp": 1583921880,
            "txt_content": "岁月静好、 发表于 2020-3-11 18:17\nhttps://timings.aikar.co/?id=51876555611245df8731af59d2a6b804\n那也没办法，插件的占用也没法优化的"
        },
        {
            "author": "结城希亚",
            "timestamp": 1583922000,
            "txt_content": "岁月静好、 发表于 2020-3-11 18:16\nhttps://timings.aikar.co/?id=51876555611245df8731af59d2a6b804\n这个没办法，玩家是不是又进又退\n登录事件占用很高\n尝试换一个登录插件看看有没有好转"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1583922120,
            "txt_content": "岁月静好、 发表于 2020-3-11 18:17\nhttps://timings.aikar.co/?id=51876555611245df8731af59d2a6b804\n更新了方案，那个插件没法优化，只能降低粒子效果之类的\n\n你可以安装一个减少服务器粒子效果的插件，站内有"
        },
        {
            "author": "shenren3-f",
            "timestamp": 1583923140,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "fbm77q",
            "timestamp": 1583923620,
            "txt_content": "兄弟你这还要优化？都20tps了"
        }
    ]
}