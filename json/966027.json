{
    "title": "[已解决]1.7.10bukkit关于生成实体伤害",
    "author": "goalsetting",
    "replyCount": 8,
    "timestamp": 1582346220,
    "txt_content": " 本帖最后由 goalsetting 于 2020-2-26 11:41 编辑 \n\n我想做一个技能机制，功能类似于 在一定范围内的实体给他们生成一个玩家造成的伤害（就类似于生成一个玩家类型的攻击）。但是我没找到相应的api。\n我想可能需要与forge进行通信。求助大佬~急、",
    "replies": [
        {
            "author": "Ir.Nep",
            "timestamp": 1582347780,
            "txt_content": "调用应受到伤害实体的damage方法，第二个参数填造成伤害的玩家"
        },
        {
            "author": "goalsetting",
            "timestamp": 1582347960,
            "txt_content": " 本帖最后由 goalsetting 于 2020-2-22 13:09 编辑 \nIr.Nep 发表于 2020-2-22 13:03\n调用应受到伤害实体的damage方法，第二个参数填造成伤害的玩家\n1.7.10的bukkit实体我怎么没找到damage方法，能给个代码嘛？假如实体是entity,玩家是player"
        },
        {
            "author": "Sssss...",
            "timestamp": 1582348140,
            "txt_content": " 本帖最后由 Sssss... 于 2020-2-22 13:13 编辑 \ngoalsetting 发表于 2020-2-22 13:06\n1.7.10的bukkit实体我怎么没找到damage方法，能给个代码嘛？假如实体是entity,玩家是player ...\nentity.damage(double 伤害, player)"
        },
        {
            "author": "goalsetting",
            "timestamp": 1582348200,
            "txt_content": "Sssss... 发表于 2020-2-22 13:09\nentity.damage(player)\n1.7.10的bukkit.entity有damage方法？"
        },
        {
            "author": "Sssss...",
            "timestamp": 1582348260,
            "txt_content": " 本帖最后由 Sssss... 于 2020-2-22 13:13 编辑 \ngoalsetting 发表于 2020-2-22 13:10\n1.7.10的bukkit.entity有damage方法？\n我的1.13有LivingEntity实例的damage(double, LiveEntity)方法\n\n好吧我没看到你的版本"
        },
        {
            "author": "goalsetting",
            "timestamp": 1582348560,
            "txt_content": "Sssss... 发表于 2020-2-22 13:11\n我的1.13有LivingEntity实例的damage(double, LiveEntity)方法你也没标注版本\n我感觉能用net.minecraft.server.v1_7_R4.Entity的damageEntity(DamgeSource x,float f)方法能解决。但我不知道DamgeSource参数怎么用。你看看你懂不"
        },
        {
            "author": "Ir.Nep",
            "timestamp": 1582350960,
            "txt_content": "把你的Entity强转为Damageable类"
        },
        {
            "author": "轻光233",
            "timestamp": 1582366860,
            "txt_content": " 本帖最后由 轻光233 于 2020-2-22 18:24 编辑 \n\nEntity接口并没有damage方法，因为不是所有实体都是可以被伤害的(经验球和各种抛射物等)\n先判断entity是否为Damageable的子接口\nif(entity instanceof Damageable){\n    Damageable damageable = (Damageable)entity;\n    //TODO\n}复制代码\n之后就对这个damageable使用damage方法就行了\n至于DamageSource，那是伤害源的判断，具体使用可以翻一下CraftEventFactory#handleEntityDamageEvent这个方法\n"
        }
    ]
}