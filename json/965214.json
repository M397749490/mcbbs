{
    "title": "玩家放置的漏斗变成石头，服务端崩溃",
    "author": "Catnies",
    "replyCount": 13,
    "timestamp": 1582260060,
    "txt_content": " 本帖最后由 1286071831 于 2020-2-26 17:40 编辑 \n\n核心是Spigot1.15.2，玩家放置的漏斗不知道为什么就会变成石头，同时后台报错，然后崩溃重启。\n之前也出现过这样的情况，我也去了坐标看，发现没啥问题，，就是漏斗连着容器..\n\n\n\n[12:31:44] [Server thread/ERROR]: Block at -107, 67, 170 is Block{minecraft:stone} but has net.minecraft.server.v1_15_R1.TileEntityHopper@6d300027. Bukkit will attempt to fix this, but there may be additional damage that we cannot recover.\n[12:31:44] [Craft Scheduler Thread - 880/INFO]: [OFC] Cache cleaner completed, deleted files: 0\n[12:31:44] [Server thread/ERROR]: Encountered an unexpected exception\nnet.minecraft.server.v1_15_R1.ReportedException: Ticking block entity\n        at net.minecraft.server.v1_15_R1.MinecraftServer.b(MinecraftServer.java:1095) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.DedicatedServer.b(DedicatedServer.java:406) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.MinecraftServer.a(MinecraftServer.java:984) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.MinecraftServer.run(MinecraftServer.java:824) [spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_65]\nCaused by: java.lang.NullPointerException\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.a(TileEntityHopper.java:317) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.a(TileEntityHopper.java:262) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.lambda$0(TileEntityHopper.java:118) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.a(TileEntityHopper.java:139) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.tick(TileEntityHopper.java:117) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.World.tickBlockEntities(World.java:613) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.WorldServer.doTick(WorldServer.java:418) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.MinecraftServer.b(MinecraftServer.java:1082) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        ... 4 more\n[12:31:44] [Server thread/ERROR]:         Cause of unexpected exception was\njava.lang.NullPointerException: null\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.a(TileEntityHopper.java:317) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.a(TileEntityHopper.java:262) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.lambda$0(TileEntityHopper.java:118) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.a(TileEntityHopper.java:139) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.TileEntityHopper.tick(TileEntityHopper.java:117) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.World.tickBlockEntities(World.java:613) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.WorldServer.doTick(WorldServer.java:418) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.MinecraftServer.b(MinecraftServer.java:1082) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.DedicatedServer.b(DedicatedServer.java:406) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.MinecraftServer.a(MinecraftServer.java:984) ~[spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at net.minecraft.server.v1_15_R1.MinecraftServer.run(MinecraftServer.java:824) [spigot-1.15.2.jar:git-Spigot-f2c1cd1-ab13a11]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_65]\n[12:31:44] [Server thread/ERROR]: This crash report has been saved to: C:\\Users\\Administrator\\Desktop\\Cat\\Server\\.\\crash-reports\\crash-2020-02-21_12.31.44-server.txt\n\n\n\n\n\n\n\n\n\n1.png\n(67.85 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-2-26 17:40 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncrash-2020-02-21_12.31.44-server.txt\n\n\n2020-2-21 12:39 上传\n点击文件名下载附件\n\n\n\n\n73.72 KB, 下载次数: 8\n\n\n报错指向的描述文件\n\n\n\n",
    "replies": [
        {
            "author": "12klj",
            "timestamp": 1582260600,
            "txt_content": "报了一个NullPointerException，应该是方块无效导致的，清除一下错误的方块就可以了"
        },
        {
            "author": "Catnies",
            "timestamp": 1582260720,
            "txt_content": "12klj 发表于 2020-2-21 12:50\n报了一个NullPointerException，应该是方块无效导致的，清除一下错误的方块就可以了 ...\n确实之前是发生过这样的事情，我以为是某些插件检测漏斗的机制有问题。\n后续我把部分关于漏斗的功能关闭了\n我也去那把漏斗给撸了。之后该地方确实没有在发生过这样的问题了\n但是因为是生存世界，每次崩溃我不可能每次都去挖。其他地方也会发生这样的问题~"
        },
        {
            "author": "12klj",
            "timestamp": 1582260960,
            "txt_content": "在你的服务器配置里，找到removeErroringEntities 和 removeErroringTileEntities\n把false改成true应该就可以了"
        },
        {
            "author": "Catnies",
            "timestamp": 1582261560,
            "txt_content": "12klj 发表于 2020-2-21 12:56\n在你的服务器配置里，找到removeErroringEntities 和 removeErroringTileEntities\n把false改成true应该就可 ...\n呃..我想我并没有在Bukkit，Spigot等文件发现有类似的对应项.."
        },
        {
            "author": "12klj",
            "timestamp": 1582262100,
            "txt_content": " 本帖最后由 12klj 于 2020-2-21 13:19 编辑 \n\n可以用这个工具。regionfixer但是要先安装python，然后在这里打开cmd，用命令 regionfixer.py + 你的存档目录\n\n我把python上传百度云了，下载下来安装就可以了链接: https://pan.baidu.com/s/1XuU9bwPOHmRFr5NLx3qyOA 提取码: aj4x \n\n\n\n\n\n\n\nMinecraft-Region-Fixer-0.3.2.rar\n\n\n2020-2-21 13:13 上传\n点击文件名下载附件\n\n\n\n\n189.46 KB, 下载次数: 1\n\n\n\n\n"
        },
        {
            "author": "Catnies",
            "timestamp": 1582262760,
            "txt_content": "12klj 发表于 2020-2-21 13:15\n可以用这个工具。regionfixer但是要先安装python，然后在这里打开cmd，用命令 regionfixer.py + 你的存档目 ...\n我没理解错这个是存档修复工具吧~\n这个也是治标不治本那~\n不过还是非常感谢你能帮我找这个~"
        },
        {
            "author": "12klj",
            "timestamp": 1582263120,
            "txt_content": "那这个没办法呀，这个是开发者的原因，没有代码可以改呀。"
        },
        {
            "author": "AD【钙奶】",
            "timestamp": 1582263420,
            "txt_content": "删掉坐标：-107,67,170的方块\n或者删除这区块文件：region/-1,0"
        },
        {
            "author": "1213866518",
            "timestamp": 1582263720,
            "txt_content": "您是不是在服务器中把漏斗禁了"
        },
        {
            "author": "Catnies",
            "timestamp": 1582264140,
            "txt_content": "1213866518 发表于 2020-2-21 13:42\n您是不是在服务器中把漏斗禁了\n并没有~\n没有对漏斗做出限制和修改速率之类的~"
        },
        {
            "author": "Karlatemp",
            "timestamp": 1582394940,
            "txt_content": "感觉像是内核错误，请构建spigot1.15.2的最新版本然后换上去试试"
        },
        {
            "author": "Catnies",
            "timestamp": 1582709640,
            "txt_content": "Karlatemp 发表于 2020-2-23 02:09\n感觉像是内核错误，请构建spigot1.15.2的最新版本然后换上去试试\n不行，我已经尝试了paper，sipgot也重新构建了，依旧会发生这样的问题..."
        },
        {
            "author": "Catnies",
            "timestamp": 1582717320,
            "txt_content": "已自行解决，是Lagassist插件抽风了，重新生成配置文件后解决了"
        }
    ]
}