{
    "title": "【已解决】socket tcp 连接 有的包收不到的问题",
    "author": "redfish",
    "replyCount": 2,
    "timestamp": 1592276160,
    "txt_content": " 本帖最后由 redfish 于 2020-6-16 13:31 编辑 \n\n在搞一个可以接受b站直播弹幕的程序，研究了好多代码，好不容易连上了，但是只能收到公告的信息，收不到其他任何弹幕信息。\n\n然后我用wireshark查看连接的情况，发现服务器根本没有发相关的包。\n\n再然后我用弹幕姬软件做测试，发现它的连接里面的是包含所有的包的，接着检查握手和验证的包，基本和我的连接是一致的。\n\n接着我把客户端的接收线程关了，发现还是收不到包。\n\n而收不到的那些包是zlib压缩过的。\n\n所以，我现在怀疑是socket建立的时候少设置了什么。\n\n\n找了好久都没找到类似的情况，只能来这里求助了，求大佬帮忙。",
    "replies": [
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1592281980,
            "txt_content": "看看这个代码(?)\n[聊天|开源]BulletCurtain —— Bilibili弹幕姬[1.9-1.14.4]\nhttps://www.mcbbs.net/thread-1058053-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n可以发下你的代码么"
        },
        {
            "author": "redfish",
            "timestamp": 1592285400,
            "txt_content": "阴阳师元素祭祀 发表于 2020-6-16 12:33\n看看这个代码(?)\n[聊天|开源]BulletCurtain —— Bilibili弹幕姬[1.9-1.14.4]\nhttps://www.mcbbs.net/threa ...\n找到问题了，是我发认证包的问题\n\nput(\"roomid\", room_id);这里我把字段名设错了。。。。。\n\n浪费您时间了，对不起"
        }
    ]
}