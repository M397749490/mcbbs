{
    "title": "这样写为什么不会setHealth和addPotionEffect",
    "author": "1249767904",
    "replyCount": 7,
    "timestamp": 1584244020,
    "txt_content": "\n\n\n\n\nimage.png (41.43 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-15 11:46 上传\n\n\n\n\n\n",
    "replies": [
        {
            "author": "天辉胡萝卜",
            "timestamp": 1584244020,
            "txt_content": "@EventHandler\n    public void onPlayerRespawn(PlayerRespawnEvent event){\n    final Player player = event.getPlayer();\n    Bukkit.getServer().getScheduler().scheduleSyncDelayedTask(this, new BukkitRunnable(){\n        public void run(){\n                player.setHealth(10.0);\n         }\n     }, 5);\n    }\n复制代码\n\n也就是需要用延迟任务。PlayerRespawnEvent触发的时候player还没有真的“活着”。这个事件之后才会真正创建玩家"
        },
        {
            "author": "弥猫うた",
            "timestamp": 1584245580,
            "txt_content": " 本帖最后由 Mucrazy 于 2020-3-15 12:16 编辑 \n\nnew Thread(() -> {\n                        while (e.getPlayer().isDead()) {\n                                try {\n                                        Thread.sleep(1);\n                                } catch (InterruptedException exc) {\n                                        return;\n                                }\n                        }\n                        p.setHealth(p.getHealth() * 0.1);\n                        p.setFoodLevel(1);\n}).start();\n参考楼下，这个虽然能用但是不对"
        },
        {
            "author": "1249767904",
            "timestamp": 1584249240,
            "txt_content": "疾风暗影 发表于 2020-3-15 11:47\n也就是需要用延迟任务。PlayerRespawnEvent触发的时候player还没有真的“活着”。这个事件之后才会真正 ...\n.scheduleSyncDelayedTask会报错"
        },
        {
            "author": "1249767904",
            "timestamp": 1584249300,
            "txt_content": "Mucrazy 发表于 2020-3-15 12:13\nnew Thread(() -> {\n                        while (e.getPlayer().isDead()) {\n                         ...\nawa还是不行"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1584249360,
            "txt_content": "1249767904 发表于 2020-3-15 13:14\n.scheduleSyncDelayedTask会报错\n把代码片段和报错图片发上来"
        },
        {
            "author": "弥猫うた",
            "timestamp": 1584249540,
            "txt_content": "1249767904 发表于 2020-3-15 13:15\nawa还是不行\n\n\n\nSpawnEvent.zip\n(716 Bytes, 下载次数: 2)\n\n\n\n2020-3-15 13:18 上传\n点击文件名下载附件\n\n\n\n\n\n\n我这个是复活后给予一些惩罚\n很久以前写的，非常不值得参考但是可以用\n如果不一定要用复活事件的话可以使用\nPlayerDeathEvent来设置玩家一些属性"
        },
        {
            "author": "1249767904",
            "timestamp": 1584252180,
            "txt_content": "awa@兩位,那個問題已經解決了awa可是又出現了新的問題\n\n\n\n\nimage.png (17.27 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-15 14:03 上传\n\n\n\n\n\n藥水效果無法添加\n代碼寫的是 p.addPotionEffect(new PotionEffect(PotionEffectType.BLINDNESS,10,5));\n會給這個報錯,麻煩兩位了awa\n\n"
        }
    ]
}