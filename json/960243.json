{
    "title": "[安全] 对于服务器各类安全问题的基础解决方案 [反作弊/反Bug/反压测/反崩服]",
    "author": "uNever_卡荣",
    "replyCount": 4,
    "timestamp": 1581685560,
    "txt_content": " 本帖最后由 uNever_卡荣 于 2021-2-16 14:05 编辑 \n\n对于服务器各类安全问题解决方案\n\n\n反作弊/反Bug/反压测/反崩服\n\n\n前言：近日，准确的说应该是发现Bug、发现服务器可以压测之后，许多服务器在各时段经历着不同的被“攻击”，而部分开服新手与其他者，经常对此类攻击束手无策，有些会因刷物品Bug等问题而导致服务器物价失控，甚至被迫关服停运。Bug、崩服等不正常行为经常被有心之人利用，如“保护费”等。而在Mcbbs论坛中我并未发现处理相关问题的专属教程，所以在此我总结一下基础防御措施。注：攻击一词在前言中所指的是任何不正常行为，如作弊、利用Bug、压测、崩服。注：文章内仅用尽量通俗的语言去说明，可能不太严谨。\n\n反作弊\n（此处会根据服务器类型 [如生存、小游戏] 推荐不同反作弊的使用类型）\n\n\n通常情况下，不同服务器类型所选择的反作弊是不同的，在Mcbbs论坛中有数不胜数(似乎可以数的过来)的各类反作弊，在介绍中彰显自己的优点，而真正适合服务器的反作弊又是哪个呢？而反作弊又如何配置呢？基础功能又是什么？原理又是什么？为什么反作弊可以被绕过还会误判？也许有类似的问题。\n\n\nA.真正适合服务器的反作弊（共分为小游戏、生存、RPG三大类型进行推荐）（RPG指的是具有多变的各类效果、行为的服务器，小游戏与生存不必多说）\n生存服/RPG服反作弊：鉴于生存中有大量变化可能性与变量，可采用兼容性强的反作弊，且相对不注重哦PvP(可适当添加小游戏的反作弊，且仅开启Killaura等相关PvP的检测)\n\n\n\n\n\n25638.jpg (8.15 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-14 18:45 上传\n\n\n\n\n\nSpartan | 付费反作弊：斯巴达反作弊，作为目前持续更新且误报极少的反作弊，当然可以胜任此次任务，甚至可以在RPG服中发挥效果，其兼容部分主流插件，如“Item Attributes、RunesEnchant、CrazyEnchantments、mcMMO Classic、mcMMO Overhaul、CraftBook、CrackShot、TreeFeller、MagicSpells、AdvancedAbilities、NoHitDelay、VeinMiner、ProjectKorra、KitBattle Advanced、Grappling Hook、CrackShotPlus、MineBomb、SmashHit、SuperPickaxe、RealDualWield、OldCombatMechanics、MythicMobs、Floodgate”等各类插件。不仅如此，它拥有高强度的自定义性，但依然有Bypass，但阻止了生存服中几乎一切的恶劣作弊，几乎没有误报，具体信息可从专帖中查看。站内搬运帖：https://www.mcbbs.net/thread-955486-1-1.html站外原创贴：https://www.spigotmc.org/resources/spartan-advanced-anti-cheat-hack-blocker.25638/\n\n\n\n\n\n\n26.jpg (2.82 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-14 18:48 上传\n\n\n\n\n\nNoCheatPlus | 远古免费反作弊：其最大的优点就是具有非同一般的自定义性与其几乎无误判性，据使用与作者介绍来看，其性能占用低。可防御的项目多，且相对稳定。它对作弊独特的处理方式也获得了不少好评，且可根据服务器对配置进行微调，其配置也成为一个卖点。虽然作者在2018年1月11日停止了更新，但是这并不影响此反作弊在社区的优化与完善，因为这是开源项目。具体信息可从专帖中查看。站内搬运/教程帖：https://www.mcbbs.net/forum.php?mod=viewthread&tid=516608&page=1站外原创贴：https://www.spigotmc.org/resources/nocheatplus.26/\n\n\n小游戏服反作弊：小游戏服将侧重于PvP层面与Move检测，对其进行完善的推断与介绍，此处依旧可用Spartan反作弊，但其的Killaura检测几乎无用。\n\n\n\n\n\n\n\n6442.jpg (6.53 KB, 下载次数: 2)\n\n下载附件\n\n2020-2-14 19:04 上传\n\n\n\n\n\nAdvancedAntiCheat | 付费反作弊：似乎是人人皆知的反作弊，在服务器中有着良好的运行，但似乎对不起它的价格，最大的优点就是它的误判较少，但在枪械(使用了CrashShot)等服务器回弹严重。而AAC正处于各类“作弊客户端”的主要研究方向，可谓是亚历山大。AAC的开发者们经过了多次更新，目前已更新至AAC5，误判与检测效率有显著提升，是不错的选择。站内搬运/教程帖：https://www.mcbbs.net/forum.php?mod=viewthread&tid=677457站外原创贴：https://www.spigotmc.org/resources/aac-advanced-anti-cheat-hack-kill-aura-blocker.6442/\n\n\n\n\n\nB.配置反作弊\n\n配置文件通常在/plugins/XXX/config.yml对于优秀的反作弊配置的，我个人推荐MarkEIf或Flex所制作的反作弊配置\n\n\n\nMarkEIf：良好的NCP配置。站外原贴：https://www.mc-market.org/resources/475/\n\n\n\n\n\n\nMB1P{D(1K2GS)}PXDJV)4S5.png (8.01 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-14 20:18 上传\n\n\n\n\n* 目前作者已永久停止更新 *\n\nFlex：目前其AACAdditionPro与AntiAura版本配置已经停产，但依旧保持更新的恰好是我们介绍到的AAC与Spartan，也许Flex所做的配置可以弥补Spartan的部分绕过与AAC的部分不足。其Spartan版本配置亲测有效。站外网站：https://flex.itsmennyo.nl/\n\n\nC.功能\n（仅简要列举，不做详细说明）\n\n战斗:\nKillAura - 杀戮光环\nClickAura - 连点器\nMultiAura - 自动瞄准\nForceField - 杀戮光环\nAimbot - 自动瞄准\nClickAimbot - 自动瞄准连点器\nFastBow - 快速射箭\nAntiKnockback - 反击退\nFastClicks - 快速点击\nCriticals - 刀刀暴击\nHitReach - 杀戮光环\n背包:\nMoreInventory - 拥有更多背包格数\nPortalGUI - 未知\nInventoryMove - 开启背包的状态下行走\nFastDrops - 快速扔物品\nAutoSteal - 偷窃\nAutoStore - (?)\nAutoArmor - 自动穿护甲\nAutoSoup - 自动喝汤\nChestAura - 自动打开附加可打开的箱子\n移动:\nBoatMove - 自动开船\nElytraMove - 1.9+飞翼\nFly - 飞行\nGlide - 滑翔\nSkip - 跳跃(?)\nSlowFall - 摔落速度减慢\nFastFall - 摔落速度加快\nSpider - 爬墙\nStep - 自动登楼梯\nBlink - 闪现\nTimer - 改变时间\nIllegalPosition - 非法位置\nJesus - 水上漂\nNoFall - 无摔落伤害\nNoSlowdown - 移动速度不受任何影响\nSpeed - 加速\nSneak - 自动潜行\nSprint - 自动跑步\nFastLadder - 快速爬梯\nHighJump - 高跳\nMiniJump - 小跳\nDoubeJump - 双倍跳跃（左脚踩右脚?）\nClickTeleport - 传送到点击的位置即瞬移\nCheckerClimb - 爬墙\nNoClip - 穿墙\nVClip - 穿墙\nHClip - 穿墙\nClip - 穿墙\nPhase - 穿墙\n其他:\nAutoRespawn - 自动重生\nFastEat - 快速进食\nFastHeal - 快速回血\nIllegalActions - 非法行为\nNoSwing - 攻击时手臂无摆动\nPingSpoof - 延迟伪造\n世界:\nBlockReach - 快速破坏\nFastBreak - 快速破坏\nFastPlace - 快速放置\nGhostHand - 鬼手\nBedF*cker - 自动撸方块（可穿墙）\nLiquids - 非法液体交互\nNuker - 快速破坏\nCivBreak - 快速破坏\nInstantBreak - 快速破坏\nScaffold - 自动铺路\nTower - 伪造顶头跳\n\nD.原理/误判\n（不同的作弊原理不一样）\n（此处为个人向Horizon反作弊作者所请教的Killaura检测原理与Speed检测原理）\n\nKillaura：反作弊通过对比查找作弊和普通玩家不同的地方，例如发包的顺序、包的间隔和包的内容有没有异常值，总而言之就是找漏洞，最后利用头部移动模型进一步检测和判断。Speed：反作弊可以通过上一tick的移动距离，根据某公式，来预算出下一tick的移动距离。而斯巴达所运用的是精准的检测模板与最大速度检测，就是在某种情况给玩家一个速度最大值。但是误差不能避免，虽然y轴预判误差可以在0.00001%以下，但是还有要考虑特殊情况，击退或活塞等。Reflex|非引用：收集玩家战斗中大量的行为数据进行分析，与已知数据组进行比较，以此来判断玩家是否作弊。\n反Bug（各类服务器的通病，难治啊）（此处也会列举部分优化服务器顺畅度的插件）\nNeverLag：此插件应该是家喻户晓了吧，同时解决了卡顿、Bug与优化性能，的确是一个顶尖的好插件。而在此对作者的无私奉献点赞。站内原贴：https://www.mcbbs.net/forum.php?mod=viewthread&tid=415779\nLaggRemoverPlus：对于优化服务器内存具有独特的效果，且出奇的好用。站内原贴：https://www.mcbbs.net/thread-715006-1-1.html\nLagAssist|付费插件：可以帮助您的服务器自动或手动减少延迟或滞后问题的插件，他包含了很多用于定位滞后原因并将其移除的工具，亦提供了很多基础的功能供服务器使用。不仅如此，LagAssist也很轻量，在100名玩家在线的服务器只有0.4ticks，同时还保留了很多功能。站内原贴：https://www.mcbbs.net/thread-881861-1-1.html反压测（几乎所有服务器都致力于防御）\n防止服务器遭受假人压测而带来的卡顿或无用存档对于各位服主来说似乎非常重要，对于此，Mcbbs中已有绝佳的反压测插件，以下一一列举\nAntiAttackRL：适用于多种服务端的反压测，实际效果较好，经实测，压测假人无法完美绕过其反压测逻辑，一般仅可用玄学绕过。站内原贴：https://www.mcbbs.net/forum.php?mod=viewthread&tid=877521\nAntiFakePlayer：适用于Bc服务器，强大的防火墙系统，足以阻隔假人于服务器之外。经实测，压测假人可完美绕过，但可通过BC的特性阻隔假人在登录服之内(即在登录服设置点击菜单内的按键进入大厅；向前跑一段距离点击NPC打开菜单点击按键进入大厅，实测有效，建议登录服禁止说话与使用额外指令)站内原贴：https://www.mcbbs.net/forum.php?mod=viewthread&tid=654195\nDianAntiBot：五重检测齐上阵，多重防御的反压测站内原贴：https://www.mcbbs.net/forum.php?mod=viewthread&tid=735167\n\n反崩服（防止服务器因某个玩家大量发包而崩溃）\n在各类作弊端中，常出现ServerCrash这一功能，而这一功能可造成服务端的崩溃，所以在此特别对类似攻击加以防御，反压测无法防御\n\n\n\n\n\n\n\nlogo.png (56.31 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-14 21:04 上传\n\n\n\n\n\nGodAntiCheat：专治此类攻击，ServerCrash的各类功能一经启动立刻踢出玩家中断其发包导致服务器崩溃站内搬运贴：https://www.mcbbs.net/thread-959394-1-1.html站外搬运帖：https://www.spigotmc.org/resources/godanticheat-no-more-crashing-servers.49506/\n\n\n\n\n\n\nchrome_2017-11-12_17-28-55.png (82.54 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-14 21:03 上传\n\n\n\n\n如图\n\n对于服务器的基础防御就这一些，若有内容不足或不严谨，可在下方回复，帖子内容可根据建议进行单次修改，同时感谢您的阅读！\n\n\n\n\n\n\n\n\n\n\n\n65830.jpg\n(2.86 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-2-14 19:29 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "晓夜Port",
            "timestamp": 1581981960,
            "txt_content": "模组服的反作弊最好使用模组。\nAntiFakePlayer：适用于Bc服务器，强大的防火墙系统，足以阻隔假人于服务器之外。\n站内原贴：https://www.mcbbs.net/thread-654195-1-1.html\n\nDianAntiBot：五重检测齐上阵，多重防御的反压测\n站内原贴：https://www.mcbbs.net/forum.php?mod=viewthread&tid=735167\n\nAntiAttackRL：适用于多种服务端的反压测，实际效果较好\n站内原贴：https://www.mcbbs.net/forum.php?mod=viewthread&tid=877521\n这些都有可能。会把新玩家挡在外面。\n最根本的办法是使用外置登录"
        },
        {
            "author": "小庄c",
            "timestamp": 1581994380,
            "txt_content": "我觉得此贴应该.......应该写出每个插件的用法，而非介绍插件，本来这个版块是发教程的，不是发介绍的！若能带上排版和插件的用法，那么这个帖子就写的更好了！"
        },
        {
            "author": "Gavinzkn8359",
            "timestamp": 1611633000,
            "txt_content": "小庄c 发表于 2020-2-18 10:53\n我觉得此贴应该.......应该写出每个插件的用法，而非介绍插件，本来这个版块是发教程的，不是发介绍的！若 ...\n这个帖子带插件帖子链接了，插件帖子链接里能没有插件用法吗，如果介绍这么多插件都带上用法那得炸了"
        },
        {
            "author": "ksqeib",
            "timestamp": 1611716520,
            "txt_content": "AntiFakePlayer：适用于Bc服务器，强大的防火墙系统，足以阻隔假人于服务器之外。\n此项URL指向错误 为NeverLag"
        }
    ]
}