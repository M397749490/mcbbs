{
    "title": "告示牌命令無法detect nbt",
    "author": "abel820114",
    "replyCount": 8,
    "timestamp": 1550319960,
    "txt_content": " 本帖最后由 abel820114 于 2019-2-16 20:28 编辑 \n\n版本：1.13.2\n各位dalao好。以下問題描述：\n\n我想做一個點擊式告示牌，\n這個告示牌的效果是：「右鍵點擊互動後，會偵測互動玩家的副手是不是\"空瓶\"。如果是空瓶，就執行命令。」\n我寫的命令是這樣的：\n\ngive @p sign{BlockEntityTag:{Text1:\"{\\\"text\\\":\\\"sell空瓶回收\\\",\\\"bold\\\":\\\"true\\\"}\",Text2:\"{\\\"text\\\":\\\"Click me\\\",\\\"clickEvent\\\":{\\\"action\\\":\\\"run command\\\",\\\"value\\\":\\\"/execute as @s[nbt={Inventory:[{Slot:-106b,id:\\\\\\\"minecraft:glass_bottle\\\\\\\"}]}] run give @p minecraft:apple\\\"}}\"}}\n實際上也拿到告示牌了，告示牌的文字顯示也都正常，但無法檢測互動玩家副手上的空瓶\n\n請問有沒有人哪裡出錯了?\n\n",
    "replies": [
        {
            "author": "SPGoding",
            "timestamp": 1550319960,
            "txt_content": "少了一個下劃線，是 \"run_command\" 而不是你所寫的 \"run command\"。\n下面的指令修復了這個問題，並刪除了你所嵌套的實際並無意義的 execute 指令。\ngive @p sign{BlockEntityTag:{Text1:\"{\\\"text\\\":\\\"sell空瓶回收\\\",\\\"bold\\\":\\\"true\\\"}\",Text2:\"{\\\"text\\\":\\\"Click me\\\",\\\"clickEvent\\\":{\\\"action\\\":\\\"run_command\\\",\\\"value\\\":\\\"/give @s[nbt={Inventory:[{Slot:-106b,id:\\\\\\\"minecraft:glass_bottle\\\\\\\"}]}] minecraft:apple\\\"}}\"}}\n"
        },
        {
            "author": "虎水小骥",
            "timestamp": 1550324100,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "apple7032",
            "timestamp": 1550324220,
            "txt_content": "虎水小骥 发表于 2019-2-16 21:35\n不需要“/”\n请采纳\n我刚刚试了一下\n还是不行"
        },
        {
            "author": "apple7032",
            "timestamp": 1550325000,
            "txt_content": "虎水小骥 发表于 2019-2-16 21:35\n不需要“/”，同时使用的目标选择器不对\n请采纳\n他的excuse没有任何问题\n你的nbt是“主手”是玻璃瓶\n他的nbt是“副手”是玻璃瓶\n\nid记得转义\\\\\\\"minecraft:glass_bottle\\\\\\\"\n而且  还是不行\n"
        },
        {
            "author": "虎水小骥",
            "timestamp": 1550325060,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "abel820114",
            "timestamp": 1550333760,
            "txt_content": "SPGoding 发表于 2019-2-16 20:26\n少了一個下劃線，是 \"run_command\" 而不是你所寫的 \"run command\"。\n下面的指令修復了這個問題，並刪除了你 ...\n原來如此，修改之後可以了，非常感謝！\n想再請問一下，如果excute後面的只是不只是give apple，而是function的話，也是直接function就好了嗎？ 我好像有聽過 sign執行的指令就直接是以互動人的名義執行？"
        },
        {
            "author": "SPGoding",
            "timestamp": 1550335140,
            "txt_content": "abel820114 发表于 2019-2-17 00:16\n原來如此，修改之後可以了，非常感謝！\n想再請問一下，如果excute後面的只是不只是give apple，而是funct ...\n沒錯，sign 執行的命令是在 sign 的位置、以互動人的身份執行。\n\n所以有點需要注意，如果你的 function 中涉及到相對與玩家的位置（例如 ~ ~ ~），可能需要先寫一個 execute at @s 來把位置從 sign 改到互動人"
        },
        {
            "author": "abel820114",
            "timestamp": 1550339520,
            "txt_content": " 本帖最后由 abel820114 于 2019-2-17 01:54 编辑 \nSPGoding 发表于 2019-2-17 00:39\n沒錯，sign 執行的命令是在 sign 的位置、以互動人的身份執行。\n\n所以有點需要注意，如果你的 function  ...\n\n原來如此，因為執行位置還是在告示牌以至於我之前一直很疑惑執行人是誰。非常感謝！"
        }
    ]
}