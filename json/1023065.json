{
    "title": "[已解决]关于实体的问题",
    "author": "MZIMU",
    "replyCount": 4,
    "timestamp": 1587272640,
    "txt_content": " 本帖最后由 MZIMU 于 2020-4-22 13:22 编辑 \n\n我想让我的实体 [继承的是EntityZombie] 穿上装备 使用了\nCraftItemStack.asNMSCopy\n来转化为nms的item后\n再通过\nthis.setEquipment来设置 但实际生成的却没有\n装备的来源是通过 击杀的当前目标身上的装备 \n具体的代码如下EntityEquipment ee = entiry.getEquipment();\nItemStack item = CraftItemStack.asNMSCopy(ee.getChestplate());\nthis.setEquipment(EnumItemSlot.CHEST,item);\nitem = CraftItemStack.asNMSCopy(ee.getHelmet());\nthis.setEquipment(EnumItemSlot.HEAD,item);\nitem = CraftItemStack.asNMSCopy(ee.getItemInOffHand());\nthis.setEquipment(EnumItemSlot.OFFHAND,item);\nitem = CraftItemStack.asNMSCopy(ee.getItemInMainHand());\nthis.setEquipment(EnumItemSlot.MAINHAND,item);\nitem = CraftItemStack.asNMSCopy(ee.getBoots());\nthis.setEquipment(EnumItemSlot.FEET,item);\nitem = CraftItemStack.asNMSCopy(ee.getLeggings());\nthis.setEquipment(EnumItemSlot.LEGS,item);复制代码是写错了什么吗 还是说不是这样的 亦或者有什么更新数据的方法...求教...\n\n谢谢各位大佬了",
    "replies": [
        {
            "author": "3422328989cx",
            "timestamp": 1587273240,
            "txt_content": "学过化学分析方法春风花草法国"
        },
        {
            "author": "MZIMU",
            "timestamp": 1587292380,
            "txt_content": "好吧 已经解决了 发现在EntityZombie下面有一个\nprotected void a(DifficultyDamageScaler difficultydamagescaler) {\n        super.a(difficultydamagescaler);\n        if (this.random.nextFloat() < (this.world.getDifficulty() == EnumDifficulty.HARD ? 0.05F : 0.01F)) {\n            int i = this.random.nextInt(3);\n            if (i == 0) {\n                this.setSlot(EnumItemSlot.MAINHAND, new ItemStack(Items.IRON_SWORD));\n            } else {\n                this.setSlot(EnumItemSlot.MAINHAND, new ItemStack(Items.IRON_SHOVEL));\n            }\n        }\n\n    }复制代码\n\n看着像是。。。根据难度要不要给僵尸一把剑之类的把\n然后把setEquipment改成setSlot就好了。。。\n那setEquipment难道是设置。。装备掉落的？？？看到有个dropEquipment。。。。。。。。。。"
        },
        {
            "author": "瘟疫威胁全世界",
            "timestamp": 1587355620,
            "txt_content": "MZIMU 发表于 2020-4-19 18:33\n好吧 已经解决了 发现在EntityZombie下面有一个\n没错。。一般来说给什么实体穿装备都是setSlot"
        },
        {
            "author": "MZIMU",
            "timestamp": 1587379080,
            "txt_content": "瘟疫威胁全世界 发表于 2020-4-20 12:07\n没错。。一般来说给什么实体穿装备都是setSlot\n那不设置就不会掉落吧，还是说还会掉落，得把drop设为-1"
        }
    ]
}