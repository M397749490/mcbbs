{
    "title": "【TRP】用MC控制Arduino上的LED",
    "author": "719823597",
    "replyCount": 15,
    "timestamp": 1438583700,
    "txt_content": " 本帖最后由 719823597 于 2015-8-3 15:45 编辑 \n\nhttp://player.youku.com/player.php/sid/XMTMwMDE2MDYzNg==/v.swf·需要准备的东西JavaMinecraftArduinoRXTXcomm库 首先得修改游戏本身，使得游戏在接到指令后能正确地与串口通信（这里略过）。\n使用Java进行串口通信，我用的是RXYXcomm库，这里给出主要的代码        private static OutputStream os;\n\n        public static void connect() {\n                try {\n                        CommPortIdentifier portId = CommPortIdentifier\n                                        .getPortIdentifier(\"COM3\");\n<span style=\"font-size: 12pt; line-height: 1.5;\">SerialPort</span><span style=\"font-size: 12pt; line-height: 1.5;\"> </span><span style=\"font-size: 12pt; line-height: 1.5;\">sPort = (SerialPort) portId.open(\"Minecraft\", 1000);</span>复制代码private static void sendMsg(String s) {\ntry {\nos.write(s.getBytes());\nos.close();\n} catch (IOException e) {\n// TODO Auto-generated catch block\ne.printStackTrace();\n}\n}复制代码\nconnect()是连接Java和特定串口，sendMsg()是发送数据。先connect()后用sendMsg(内容)，注意connect()方法中的”COM3”请改成自家Arduino使用的串口，可以在设备管理器中查看。\n接着就是Arduino端的代码void setup() {\n  // put your setup code here, to run once:\n  Serial.begin(9600);\n  pinMode(13, OUTPUT);\n}\n\nvoid loop() {\n  // put your main code here, to run repeatedly:\nif (Serial.available() > 0) {\n  val = Serial.read();\n  if (val == 'H') {\n    digitalWrite(13, HIGH);\n    Serial.write(val);\n  }\n  else if (val == 'L') {\n    digitalWrite(13, LOW);\n    Serial.write(val);\n  }\n}\n}\n复制代码\n\n\n\n\nQQ截图20150802233759.png (107.82 KB, 下载次数: 4)\n\n下载附件\n\n2015-8-3 14:29 上传\n\n\n\n\n\n大概的原理是先用mod或插件获取玩家输入的指令，然后往串口发送数据，发送的数据为’H’时，LED会被点亮，数据为’L’时LED会被熄灭（mod/插件自己完成，只要插入关键代码就行了，这里不做说明）\n更加完整的教程我可能要下次才能发，RXTXcomm库我实在是用不好。@jianghr \n\n[groupid=143]The Redpixel[/groupid]",
    "replies": [
        {
            "author": "MC........",
            "timestamp": 1438583880,
            "txt_content": "不明觉厉"
        },
        {
            "author": "God",
            "timestamp": 1438584000,
            "txt_content": "技术宅！支持一下！"
        },
        {
            "author": "圆石",
            "timestamp": 1438584300,
            "txt_content": "失踪人口回归。。。。。。。。。。。。。。。。。。。。。。。。。。。\n\nmc病毒 指日可待~"
        },
        {
            "author": "chyx",
            "timestamp": 1438584780,
            "txt_content": "亮瞎眼睛"
        },
        {
            "author": "609883432",
            "timestamp": 1438585740,
            "txt_content": "同是玩Arduino单片机，没想到在MC看到了，你是学习很久了吧？我们加QQ交流下怎么样"
        },
        {
            "author": "小Ｃ子",
            "timestamp": 1438585800,
            "txt_content": "艾玛别说了，顶一个"
        },
        {
            "author": "719823597",
            "timestamp": 1438586220,
            "txt_content": "609883432 发表于 2015-8-3 15:09\n同是玩Arduino单片机，没想到在MC看到了，你是学习很久了吧？我们加QQ交流下怎么样 ...\n不 我是新手\nQQ号就是我的ID"
        },
        {
            "author": "asdasd1031",
            "timestamp": 1438586280,
            "txt_content": "同理，是不是可以用这个开门。死宅懒得开门了，外卖来了就这么弄"
        },
        {
            "author": "719823597",
            "timestamp": 1438586340,
            "txt_content": "asdasd1031 发表于 2015-8-3 15:18\n同理，是不是可以用这个开门。死宅懒得开门了，外卖来了就这么弄\n可以实现的"
        },
        {
            "author": "chyx",
            "timestamp": 1456735440,
            "txt_content": "第一个代码框里乱码了"
        },
        {
            "author": "chyx",
            "timestamp": 1456846500,
            "txt_content": "\n\n\n\n\n捕获.PNG (51.12 KB, 下载次数: 0)\n\n下载附件\n\n2016-3-1 23:34 上传\n\n\n\n\n\n它提示说编译不成功 怎么办？ 我是新手。@siiftun1857 \n"
        },
        {
            "author": "siiftun1857",
            "timestamp": 1456893480,
            "txt_content": "chyx 发表于 2016-3-1 23:35\n它提示说编译不成功 怎么办？ 我是新手。@siiftun1857\n编译错误：变量\"val\"未定义←_←"
        },
        {
            "author": "chyx",
            "timestamp": 1456893480,
            "txt_content": "siiftun1857 发表于 2016-3-2 12:38\n编译错误：变量\"val\"未定义←_←\n那么 在前面加上int还是什么别的？"
        },
        {
            "author": "siiftun1857",
            "timestamp": 1456893540,
            "txt_content": "还在用汇编写51单片机的我←_←\nArduino是啥。。。←_←"
        },
        {
            "author": "siiftun1857",
            "timestamp": 1456893780,
            "txt_content": "chyx 发表于 2016-3-2 12:38\n那么 在前面加上int还是什么别的？\n啥数据类型就加啥呗←_←\n看代码应该是char不是int←_←\nchar val = Serial.read();复制代码不过我建议你别直接这么写\n鬼知道谁给你同时写两个字母。。。"
        }
    ]
}