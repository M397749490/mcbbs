{
    "title": "[管理]CommandFilter——可根据权限组自定义回复消息和功能的指令过滤插件[1.12-1.16]",
    "author": "Xzavier0722",
    "replyCount": 16,
    "timestamp": 1557060720,
    "txt_content": " 本帖最后由 Xzavier0722 于 2021-1-25 12:31 编辑 \n\nCommandFilter\n一款基于权限组的指令过滤器，可以自定义回复消息/替换其他指令使用这个插件可以自定义一些像 /help /version这样不想被玩家看到原版内容的指令（也就是说可以自己写一个help列表）同时也可以给这个指令添加其它的命令组（比如让输入kill的玩家suicide hhh）适用于无效指令，也就是说可以自定义一个命令来执行命令组或返回消息\n\n\n\n\n\n\nZTO71M)99)05_7K5V5FWA{Q.jpg (93.68 KB, 下载次数: 0)\n\n下载附件\n\n2019-5-5 19:50 上传\n\n\n\n\n\n自定义回复的翻页效果\n\n这个插件是帮朋友写的，因为他说他找了很久没有找到理想的过滤插件。后来我也大致看了下好像确实没有对应他需求（他想根据玩家权限重写一个help列表）所以就有了这个插件...因为我也是一个新人啦，如果有什么建议和问题还请各位大佬告诉我！谢谢！\n\n\n指令&权限\n可使用 /comf 或 /commfilter\n\n\n/commfilter reload --- 重载配置文件\n权限: commfilter.commands.reload\n\n/commfilter groups --- 显示配置文件里的全部组和权限\n权限: commfilter.commands.groups\n\n你可以使用  \"commfilter.bypass.{command}\" 绕过这个命令的过滤\n\n复制代码\n\n\n\n配置文件\n\n\n#插件会自动将Vault关联的权限组插件（如GroupManager等）内的权限组列出来\n#也可以自定义一个权限组内没有的组\n#在这里我只给出一个组作为举例\nGroups:\n\n  #组名\n  Default:\n\n\n    #组权限\n    #在玩家没有任何组权限的情况下，插件只会检测玩家所在组的指令列表。但是可以通过给玩家组权限让玩家也被这个组的命令列表过滤。\n    #简单来说，拥有这个权限的玩家和在本组的玩家一样。\n    #如果在多个组拥有相同的命令，会优先使用玩家所在组的配置。\n    #可自定义\n    Permission: commfilter.Example\n\n      #过滤命令列表\n      Commands:\n\n      #指令\n      #使用小写字母\n      #请不要输入子命令，子命令不兼容。（指空格以后的内容）\n      #过滤会过滤这个指令下的全部子指令\n      version:\n\n        #如果设置为 true, 指令的原功能将被取消。\n        #如果不设置默认为 false\n        CancelCommand: true\n\n        #这个设置会将指定指令配置的 回复消息(ReplyMsg) 和 指令执行列表(ExecutionList)同时应用到这个组。\n        #大小写敏感，请注意组名的大小写。\n        #如果目标配置拥有其他的Include，也会一同包含进来。\n        #举个栗子，如果 Example.version 有'include: Default.help', 那么Example组的玩家执行version也会触发Default组的 ReplyMsg 和 ExecutionList\n        Include: Example.version\n\n        #回复消息\n        #每行对应新的一行\n        ReplyMsg:\n        - '&aExample 1'\n        - '&cExample 2'\n        - '&6Example 3'\n\n        #子指令白名单\n        #子指令大小写不敏感\n        #在这里的子指令将不会触发本插件的过滤/处理\n        #例如玩家执行 \"/version\" 将会被取消并返回自定义信息\n        #但是 \"/version subcommand1\" 将被正常执行，而不会被取消或返回任何这里的配置\n        #简而言之，在这个列表的二级指令将交由原本插件执行，不会做任何处理\n        Whitelist:\n        - subcommand1\n        - subcommand2\n        - subcommand3\n        \n        #指令执行列表\n        #这里的指令将会以玩家身份执行\n        #这里支持子命令\n        ExecutionList:\n        - me Example\n        - suicide\n\n        #'*'可以过滤全部指令（丢给熊孩子hhh）\n        #但是已经在配置列表的指令将会按照配置执行。\n        '*':\n        CancelCommand: true\n        #其它命令的格式和这个一样\n\n\n      #整体演示\n      help:\n        Include: Example.version\n        CancelCommand: true\n        ReplyMsg:\n        - '&aExample 1'\n        - '&cExample 2'\n        - '&6Example 3'\n        Whitelist:\n        - subcommand1\n        - subcommand2\n        - subcommand3\n        ExecutionList:\n        - say Example\n        - suicide\n\n#回复消息分页设定\nPage:\n\n  #单页最大消息数（在ReplyMsg里，每个 - 'message' 为一个消息）\n  MaxMsgInPage: 15\n \n  #下一页按钮的信息内容\n  NextPageMsg: ' Next---->>'\n \n  #上一页按钮的信息内容\n  PrevPageMsg: '<<----Prev '\n\n复制代码\n \n如果发现任何BUG请及时留言反馈给我，谢谢！\n\n\n最后附上插件的附件\n\n\n\n\nCommandFilter-1.5.1.jar\n(13.31 KB, 下载次数: 28)\n\n\n\n2021-1-25 12:24 上传\n点击文件名下载附件\n\n\n\n\n\n下载还请留言支持下啦~\n\n\n更新日志2020-02-141.4.3- 修复 使用插件名称+指令绕过过滤如bukkit:version\n2021-01-151.4.4- 修复 某些指令由于优先级问题无法监听\n\n2021-01-181.5.0- 新增 子指令白名单\n2021-01-251.5.1- 修复 登陆插件可能无法拦截在本插件中定义的指令*如果使用1.4.4以后的版本并设置 ExecutionList 的用户，请尽快更新*\n\n\n\n本插件所用所有代码均为原创,不存在借用/抄袭等行为\n\n",
    "replies": [
        {
            "author": "749112221a",
            "timestamp": 1557062520,
            "txt_content": "前排支持一下 是一个不错的插件 233"
        },
        {
            "author": "qse",
            "timestamp": 1557924120,
            "txt_content": "Groups:\n  default:\n    Commands: \n        help:\n            CancelCommand: true\n            ReplyMsg: \n            - '&b&l信息 &7>> &a服务器指令列表：'\n        Permission: commfilter.default\n这样写之后没有效果"
        },
        {
            "author": "qse",
            "timestamp": 1557924300,
            "txt_content": "qse 发表于 2019-5-15 20:42\nGroups:\n  default:\n    Commands: \n发现问题了……OP自带commfilter.bypass节点 所以输入自定义的指令会直接忽略。。。deop后执行一切正常\n这个地方可不可以修改一下？"
        },
        {
            "author": "Xzavier0722",
            "timestamp": 1558006260,
            "txt_content": " 本帖最后由 Xzavier0722 于 2019-5-16 19:43 编辑 \nqse 发表于 2019-5-15 20:45\n发现问题了……OP自带commfilter.bypass节点 所以输入自定义的指令会直接忽略。。。deop后执行一切正常\n ...\n首先感谢反馈~\n\n关于这个问题可以考虑给op或者default添加负向权限 '-commfilter.bypass.{command}'，因为op默认拥有全部权限这个是插件无法修改的。\n因为考虑到有一些服务器的op希望看到真实的消息，如果识别为op的情况下忽略bypass可能还会导致其他问题。\n\n有问题欢迎继续咨询"
        },
        {
            "author": "sg1552914356",
            "timestamp": 1558007460,
            "txt_content": "感谢大佬分享"
        },
        {
            "author": "qse",
            "timestamp": 1558097400,
            "txt_content": "Xzavier0722 发表于 2019-5-16 19:31\n首先感谢反馈~\n\n关于这个问题可以考虑给op或者default添加负向权限 '-commfilter.bypass.{command}'，因为 ...\n好的 感谢"
        },
        {
            "author": "桐乃源玖",
            "timestamp": 1560570720,
            "txt_content": "看起来不错"
        },
        {
            "author": "Xzavier0722",
            "timestamp": 1581610500,
            "txt_content": "1.4.3更新:\n- 修复 使用插件名称+指令绕过过滤\n例如设置version指令后 bukkit:version 依然可以正常使用\n现在设置version可过滤全部 xxx:version的指令了"
        },
        {
            "author": "玄锐暮",
            "timestamp": 1610520480,
            "txt_content": "很棒的插件！正愁服务器玩家能推我到底装了哪些插件"
        },
        {
            "author": "Xzavier0722",
            "timestamp": 1610687460,
            "txt_content": "1.4.4更新:\n- 修复 某些指令由于优先级问题无法在其他插件之前处理\n例如新版本cmi指令缩写等..."
        },
        {
            "author": "▲▲▲",
            "timestamp": 1610689860,
            "txt_content": "Xzavier0722 发表于 2021-1-15 13:11\n1.4.4更新:\n- 修复 某些指令由于优先级问题无法在其他插件之前处理\n例如新版本cmi指令缩写等... ...\n建议可以只更改/is指令\n而不更改/is team指令\n默认把后面的内容全替换了\n    Commands:\n      is:\n        CancelCommand: true\n        ReplyMsg:\n        - '111'"
        },
        {
            "author": "Xzavier0722",
            "timestamp": 1610713920,
            "txt_content": "创世盟主 发表于 2021-1-15 13:51\n建议可以只更改/is指令\n而不更改/is team指令\n默认把后面的内容全替换了\n了解 后期加一个可以设置子指令白名单的功能"
        },
        {
            "author": "小冰最帅",
            "timestamp": 1610714640,
            "txt_content": "不错的插件，感谢楼主的分享"
        },
        {
            "author": "小白杯子",
            "timestamp": 1610900940,
            "txt_content": "楼主牛逼 造福人类！！！！！"
        },
        {
            "author": "Xzavier0722",
            "timestamp": 1610944620,
            "txt_content": "2021-01-18\n1.5.0更新:\n- 新增 子指令白名单\n现在可以为过滤的指令定义 Whitelist: 来给二级指令添加白名单了\n白名单内的子指令本插件将不会做任何处理"
        },
        {
            "author": "Xzavier0722",
            "timestamp": 1611548880,
            "txt_content": "1.5.1更新\n- 修复 登陆插件可能无法拦截在本插件定义的指令\n1.4.4版本的低优先级导致登陆插件可能无法拦截本插件定义的ExecutionList中执行的指令。如果定义了功能性指令，请尽快更新。\n***如果使用1.4.4以后的版本并定义了功能性指令，请尽快更新"
        }
    ]
}