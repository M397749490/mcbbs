{
    "title": "腾讯云MySQL如何让插件连接加载数据",
    "author": "专业团队",
    "replyCount": 21,
    "timestamp": 1588678920,
    "txt_content": " 本帖最后由 专业团队 于 2020-5-5 19:53 编辑 \n\n用惯了phpstudy,买了腾讯云MySQL过后完全不懂.有大佬给教授一下经验吗？\n我的库\n\n\n\n\n\nimage.png\n(6.46 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-5-5 19:53 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "wjwrh",
            "timestamp": 1588678920,
            "txt_content": "专业团队 发表于 2020-5-5 20:05\n新租的我数据没转移\n刚看了一下我的服务器，理论上腾讯云数据库的那几个mysql版本CMI都是支持的...\n还报连接错误的话... 就很玄学了"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1588679040,
            "txt_content": "在插件配置文件中\n找到关于mysql的选项\n启用mysql，然后输入ip，密码一类就可以了\n\n大部分插件都支持mysql"
        },
        {
            "author": "专业团队",
            "timestamp": 1588679040,
            "txt_content": "EmptyLava 发表于 2020-5-5 19:44\n在插件配置文件中\n找到关于mysql的选项\n启用mysql，然后输入ip，密码一类就可以了\n这个谁都知道啊...我连接了没反应"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1588679100,
            "txt_content": "专业团队 发表于 2020-5-5 19:44\n这个谁都知道啊...我连接了没反应\n发一下服务端日志"
        },
        {
            "author": "wjwrh",
            "timestamp": 1588679160,
            "txt_content": "专业团队 发表于 2020-5-5 19:44\n这个谁都知道啊...我连接了没反应\n你的VPS和你的MySQL买在同一个地区吗？\n不是同一个地区是用不了的"
        },
        {
            "author": "专业团队",
            "timestamp": 1588679160,
            "txt_content": "wjwrh 发表于 2020-5-5 19:46\n你的VPS和你的MySQL买在同一个地区吗？\n不是同一个地区是用不了的\n有外网端口"
        },
        {
            "author": "wjwrh",
            "timestamp": 1588679280,
            "txt_content": "专业团队 发表于 2020-5-5 19:46\n有外网端口\n先试一下用Navicat之类的软件在你服务器的vps上连一下看看能不能连上去\n\n能连上去的话使用方式应该和你开在本地的数据库没什么关系"
        },
        {
            "author": "专业团队",
            "timestamp": 1588679340,
            "txt_content": "wjwrh 发表于 2020-5-5 19:48\n先试一下用Navicat之类的软件在你服务器的vps上连一下看看能不能连上去\n\n能连上去的话使用方式应该和你开 ...\nphpMyAdmin可以正常连接"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1588679400,
            "txt_content": "发一下服务端日志"
        },
        {
            "author": "专业团队",
            "timestamp": 1588679400,
            "txt_content": "EmptyLava 发表于 2020-5-5 19:45\n发一下服务端日志\n2 WARN]: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[19:49:52 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[19:49:52 WARN]:        at com.mysql.jdbc.Util.getInstance(Util.java:408)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2094)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2019)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:776)\n[19:49:52 WARN]:        at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[19:49:52 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)\n[19:49:52 WARN]:        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)\n[19:49:52 WARN]:        at java.sql.DriverManager.getConnection(Unknown Source)\n[19:49:52 WARN]:        at java.sql.DriverManager.getConnection(Unknown Source)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBConnectionPool.getConnection(DBConnectionPool.java:34)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBDAO.<init>(DBDAO.java:489)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBMySQL.<init>(DBMySQL.java:18)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBManager.startMysql(DBManager.java:171)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBManager.load(DBManager.java:126)\n[19:49:52 WARN]:        at com.Zrips.CMI.Config.load(Config.java:707)\n[19:49:52 WARN]:        at com.Zrips.CMI.Config.load(Config.java:689)\n[19:49:52 WARN]:        at com.Zrips.CMI.CMI.onEnable(CMI.java:1440)\n[19:49:52 WARN]:        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264)\n[19:49:52 WARN]:        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:337)\n[19:49:52 WARN]:        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:403)\n[19:49:52 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:381)\n[19:49:52 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:330)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.t(MinecraftServer.java:422)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.l(MinecraftServer.java:383)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.a(MinecraftServer.java:338)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:272)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:545)\n[19:49:52 WARN]:        at java.lang.Thread.run(Unknown Source)\n[19:49:52 WARN]: Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[19:49:52 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\n[19:49:52 WARN]:        at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:341)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2186)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2035)\n[19:49:52 WARN]:        ... 31 more\n[19:49:52 WARN]: Caused by: java.net.ConnectException: Connection timed out: connect\n[19:49:52 WARN]:        at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n[19:49:52 WARN]:        at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\n[19:49:52 WARN]:        at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\n[19:49:52 WARN]:        at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\n[19:49:52 WARN]:        at java.net.AbstractPlainSocketImpl.connect(Unknown Source)\n[19:49:52 WARN]:        at java.net.PlainSocketImpl.connect(Unknown Source)\n[19:49:52 WARN]:        at java.net.SocksSocketImpl.connect(Unknown Source)\n[19:49:52 WARN]:        at java.net.Socket.connect(Unknown Source)\n[19:49:52 WARN]:        at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)\n[19:49:52 WARN]:        at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300)\n[19:49:52 WARN]:        ... 33 more\n\n他的提示.说的是连接没有反馈"
        },
        {
            "author": "专业团队",
            "timestamp": 1588679520,
            "txt_content": "DE_SHARK 发表于 2020-5-5 19:50\n发一下服务端日志\n2 WARN]: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[19:49:52 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[19:49:52 WARN]:        at com.mysql.jdbc.Util.getInstance(Util.java:408)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2094)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2019)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:776)\n[19:49:52 WARN]:        at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[19:49:52 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)\n[19:49:52 WARN]:        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)\n[19:49:52 WARN]:        at java.sql.DriverManager.getConnection(Unknown Source)\n[19:49:52 WARN]:        at java.sql.DriverManager.getConnection(Unknown Source)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBConnectionPool.getConnection(DBConnectionPool.java:34)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBDAO.<init>(DBDAO.java:489)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBMySQL.<init>(DBMySQL.java:18)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBManager.startMysql(DBManager.java:171)\n[19:49:52 WARN]:        at com.Zrips.CMI.Modules.DataBase.DBManager.load(DBManager.java:126)\n[19:49:52 WARN]:        at com.Zrips.CMI.Config.load(Config.java:707)\n[19:49:52 WARN]:        at com.Zrips.CMI.Config.load(Config.java:689)\n[19:49:52 WARN]:        at com.Zrips.CMI.CMI.onEnable(CMI.java:1440)\n[19:49:52 WARN]:        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264)\n[19:49:52 WARN]:        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:337)\n[19:49:52 WARN]:        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:403)\n[19:49:52 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:381)\n[19:49:52 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:330)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.t(MinecraftServer.java:422)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.l(MinecraftServer.java:383)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.a(MinecraftServer.java:338)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:272)\n[19:49:52 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:545)\n[19:49:52 WARN]:        at java.lang.Thread.run(Unknown Source)\n[19:49:52 WARN]: Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[19:49:52 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[19:49:52 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[19:49:52 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[19:49:52 WARN]:        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\n[19:49:52 WARN]:        at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:341)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2186)\n[19:49:52 WARN]:        at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2035)\n[19:49:52 WARN]:        ... 31 more\n[19:49:52 WARN]: Caused by: java.net.ConnectException: Connection timed out: connect\n[19:49:52 WARN]:        at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n[19:49:52 WARN]:        at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\n[19:49:52 WARN]:        at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\n[19:49:52 WARN]:        at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\n[19:49:52 WARN]:        at java.net.AbstractPlainSocketImpl.connect(Unknown Source)\n[19:49:52 WARN]:        at java.net.PlainSocketImpl.connect(Unknown Source)\n[19:49:52 WARN]:        at java.net.SocksSocketImpl.connect(Unknown Source)\n[19:49:52 WARN]:        at java.net.Socket.connect(Unknown Source)\n[19:49:52 WARN]:        at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)\n[19:49:52 WARN]:        at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:300)\n[19:49:52 WARN]:        ... 33 more"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1588679640,
            "txt_content": "专业团队 发表于 2020-5-5 19:52\n2 WARN]: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create co ...\n检查用户名和密码\n如果配置文件内有说mysql版本号，就改为mysql数据库的版本"
        },
        {
            "author": "DE_SHARK",
            "timestamp": 1588679700,
            "txt_content": "服务器开多久了？云数据库是不是新租的？\n你转移MYSQL数据库的时候是直接复制粘贴的？"
        },
        {
            "author": "专业团队",
            "timestamp": 1588679700,
            "txt_content": "EmptyLava 发表于 2020-5-5 19:54\n检查用户名和密码\n如果配置文件内有说mysql版本号，就改为mysql数据库的版本 ...\n没有用户名密码都没问题"
        },
        {
            "author": "EmptyLava",
            "timestamp": 1588679880,
            "txt_content": " 本帖最后由 EmptyLava 于 2020-5-5 19:59 编辑 \n专业团队 发表于 2020-5-5 19:55\n没有用户名密码都没问题\n参照这个\nhttps://www.cnblogs.com/fzu-zzr/p/11216657.htmlhttps://www.wandouip.com/t5i213972/"
        },
        {
            "author": "wjwrh",
            "timestamp": 1588679940,
            "txt_content": "专业团队 发表于 2020-5-5 19:55\n没有用户名密码都没问题\nmysql降到5.5试试"
        },
        {
            "author": "专业团队",
            "timestamp": 1588680300,
            "txt_content": "DE_SHARK 发表于 2020-5-5 19:55\n服务器开多久了？云数据库是不是新租的？\n你转移MYSQL数据库的时候是直接复制粘贴的？ ...\n新租的我数据没转移"
        },
        {
            "author": "专业团队",
            "timestamp": 1588680420,
            "txt_content": "EmptyLava 发表于 2020-5-5 19:58\n参照这个\nhttps://www.cnblogs.com/fzu-zzr/p/11216657.htmlhttps://www.wandouip.com/t5i213972/\n我腾讯云怎么重新弄"
        },
        {
            "author": "专业团队",
            "timestamp": 1588680540,
            "txt_content": "wjwrh 发表于 2020-5-5 20:07\n刚看了一下我的服务器，理论上腾讯云数据库的那几个mysql版本CMI都是支持的...\n还报连接错误的话... 就很 ...\n是不是我创建或者配置的问题,可以仔细线下帮帮我嘛"
        },
        {
            "author": "专业团队",
            "timestamp": 1588680660,
            "txt_content": "EmptyLava 发表于 2020-5-5 19:58\n参照这个\nhttps://www.cnblogs.com/fzu-zzr/p/11216657.htmlhttps://www.wandouip.com/t5i213972/\n我也有点蒙蔽了能线下帮下我嘛企鹅."
        },
        {
            "author": "wjwrh",
            "timestamp": 1588683360,
            "txt_content": "刚刚帮楼主检查了一下\n发现是CMI数据库配置中端口与腾讯云MySQL外网端口不对应\n修改为对应以后问题得到解决"
        }
    ]
}