{
    "title": "自定义npc",
    "author": "connection",
    "replyCount": 4,
    "timestamp": 1481959920,
    "txt_content": "怎样用NPCmod做一个物品给予者，通过对话发送物品，主要用于给新手物品。",
    "replies": [
        {
            "author": "@@Leo",
            "timestamp": 1481963520,
            "txt_content": "我这里有一个办法，但是却不能完美符合你的要求首先对话怎么设置你自己一个套路带好\n\n然后点一下可用的选项\n\n\n\n\n2016-12-17_16.20.53.png (29.33 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 16:28 上传\n\n\n\n\n\n\n\n点选择对话\n\n\n\n\n2016-12-17_16.21.03.png (41.85 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 16:28 上传\n\n\n\n\n\n\n\n先点一下前面的\"总是可用\"变成\"...之后\"，然后选择你弄好的对话\n\n\n\n\n2016-12-17_16.22.12.png (40.68 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 16:28 上传\n\n\n\n\n\n\n\n这样子就好了。\nBUT，对话完成后你会发现屁事都没有\n然后这时你需要远离这个NPC再接近他就会给你了\n\n不然的话，你搞一下套路，对话的时候写 “你出去逛一下，我准备一下” 这样子。\n\n"
        },
        {
            "author": "平凡的行者",
            "timestamp": 1481986980,
            "txt_content": "如果只需要给一个物品的话，可以透过在对话里嵌入命令做到\n例如这样：\n\n\n\n\n2016-12-17_22.34.17.png (29.08 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 22:41 上传\n\n\n\n\n\n\n\n\n\n\n2016-12-17_22.34.20.png (26.06 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 22:41 上传\n\n\n\n\n\n\n\n\n\n\n2016-12-17_22.34.23.png (18.29 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 22:28 上传\n\n\n\n\n\n\n\n如果要给少量的物品，可以把这些对话串起来后变成某个对话里的选项，并且设置有条件的取得物品(避免重复取物)\n\n如果需要大量，可以考虑在NPC附近设置命令方块列执行一串give命令。\n但是考虑到命令方块对玩家的选择性可能会有问题。如果需要做到即时给予的话，就用最后的手段，脚本：(示范的NPCmod版本为1.7.10c)\n在这之前，先依照作者的指示，将所需的档案放入mods的文件夹里：\n\n\n\n\n\n未命名.png (96.98 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 22:45 上传\n\n\n\n\n\n\n我自己因为是用java8开游戏的，所以需要把nashorn.jar丢入mods里\n如果不是用java8开的话应该不用，除非你想用别种语言写\n进入游戏后有看到可用的脚本语言类型就可以了(右边的Language必须要有脚本语言可选，否则脚本无法执行)：\n\n\n\n\n\n2016-12-17_22.45.20.png (22.41 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 22:36 上传\n\n\n\n\n\n\n然后将Enabled设置成Yes，这样这个NPC就可以执行你写的脚本了。\n\n然后这是范例，如果你要给10种物品：(我使用ECMA语言(即是javascript)示范)\n\n\n\n\n\n2016-12-17_23.07.37.png (24.26 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 23:10 上传\n\n\n\n\n\n\n代码：\nif(dialog == 4){\n var items = [[\"minecraft:bread\",\"10\"],[\"minecraft:diamond\",\"1\"],[\"minecraft:apple\",\"5\"],[\"minecraft:pumpkin\",\"1\"],[\"minecraft:iron_ingot\",\"5\"],[\"minecraft:gold_ingot\",\"2\"],[\"minecraft:wooden_sword\",\"1\"],[\"minecraft:leather\",\"10\"]];\n for(var i = 0 ; i < items.length ; i++){\n  npc.executeCommand(\"give \"+player.getName()+\" \"+items[i][0]+\" \"+items[i][1]);\n }\n}复制代码每次玩家开启对话后，都会触发dialog这边的代码\n而dialog这个变数记录的数字代表的意义，是被触发的对话的ID：\n\n\n\n\n\n2016-12-17_23.10.03.png (27.34 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 22:59 上传\n\n\n\n\n\n\n\n执行结果：\n\n\n\n\n2016-12-17_23.10.53.png (100.07 KB, 下载次数: 0)\n\n下载附件\n\n2016-12-17 23:01 上传\n\n\n\n\n\n\n"
        },
        {
            "author": "平凡的行者",
            "timestamp": 1481987820,
            "txt_content": "平凡的行者 发表于 2016-12-17 23:03\n如果只需要给一个物品的话，可以透过在对话里嵌入命令做到\n例如这样：\n文中有些错误，应该是8种物品(10种太多了所以懒得设)"
        },
        {
            "author": "一条鱼乾",
            "timestamp": 1482055500,
            "txt_content": "设置对话任务，任务完成给予物品"
        }
    ]
}