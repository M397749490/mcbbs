{
    "title": "[求助]我一上OP周围玩家就出现问题",
    "author": "qq1668268474",
    "replyCount": 13,
    "timestamp": 1568106780,
    "txt_content": "RT，我一上OP周围玩家就会出现开不了箱子，挖不了方块之类的问题。\n之前发过一次帖子，有人说是领地插件问题，当时没注意就给最佳了。。后面发现不是领地插件的问题。\nmod和插件如下：\n\n\n\n\nQQ截图20190910171021.png (86.31 KB, 下载次数: 0)\n\n下载附件\n\n2019-9-10 17:12 上传\n\n\n\n\n\n\n\n\nQQ截图20190910171034.png (78.56 KB, 下载次数: 0)\n\n下载附件\n\n2019-9-10 17:12 上传\n\n\n\n\n\n我第一次见这种莫名其妙的问题。。求助。感谢大佬。\n",
    "replies": [
        {
            "author": "狐狸年酱",
            "timestamp": 1568107140,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "qq1668268474",
            "timestamp": 1568107860,
            "txt_content": "狐狸年酱 发表于 2019-9-10 17:19\n挖方块的时候有没有提示什么无权限\n如果没有\n那你可以看看是不是自带保护的问题\n文件里是spawn-protection=16，看起来跟上OP好像没啥关系。。？"
        },
        {
            "author": "qq1668268474",
            "timestamp": 1568107920,
            "txt_content": "狐狸年酱 发表于 2019-9-10 17:19\n挖方块的时候有没有提示什么无权限\n如果没有\n那你可以看看是不是自带保护的问题\n而且大于16格的玩家也会出那个问题，没有提示的。"
        },
        {
            "author": "Nestalie",
            "timestamp": 1568109660,
            "txt_content": "瞅一眼是不是多世界原因？\n还有上OP是指登录OP账号还是给自己/op嘞？"
        },
        {
            "author": "qq1668268474",
            "timestamp": 1568111280,
            "txt_content": "Nestalie 发表于 2019-9-10 18:01\n瞅一眼是不是多世界原因？\n还有上OP是指登录OP账号还是给自己/op嘞？\n给自己OP，我就是腐竹呀，只是平时不上OP。"
        },
        {
            "author": "Abraham511",
            "timestamp": 1568113440,
            "txt_content": "出现开不了箱子，挖不了方块之类\n\n请详述\n是否为挖方块后消失，但不掉落？还是方块回弹？"
        },
        {
            "author": "qq1668268474",
            "timestamp": 1568113560,
            "txt_content": "Abraham511 发表于 2019-9-10 19:04\n请详述\n是否为挖方块后消失，但不掉落？还是方块回弹？\n方块挖了又复原 无掉落，无提示，同时打不开箱子 不能互动方块。"
        },
        {
            "author": "Abraham511",
            "timestamp": 1568113800,
            "txt_content": "qq1668268474 发表于 2019-9-10 20:06\n方块挖了又复原 无掉落，无提示，同时打不开箱子 不能互动方块。\n后台有无提示？玩家重新上线是否恢复？"
        },
        {
            "author": "qq1668268474",
            "timestamp": 1568116080,
            "txt_content": "Abraham511 发表于 2019-9-10 19:10\n后台有无提示？玩家重新上线是否恢复？\n试了一下，后台没看见任何提示。"
        },
        {
            "author": "qq1668268474",
            "timestamp": 1568116200,
            "txt_content": "Abraham511 发表于 2019-9-10 19:10\n后台有无提示？玩家重新上线是否恢复？\n玩家重上游戏和我重上游戏也都没用。"
        },
        {
            "author": "a1294790523",
            "timestamp": 1568121720,
            "txt_content": " 本帖最后由 a1294790523 于 2019-9-10 21:25 编辑 \n\n给你写了个小插件，麻烦装上运行一次并重现出异常现象后给一下日志（logs\\latest.log）\n\n\n\nTracker.jar\n(2.08 KB, 下载次数: 1)\n\n\n\n2019-9-10 21:22 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n源码（CC0）：\npackage tracker;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.Material;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.Event;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.EventPriority;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.block.Action;\nimport org.bukkit.event.block.BlockBreakEvent;\nimport org.bukkit.event.block.BlockPlaceEvent;\nimport org.bukkit.event.player.PlayerInteractEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic final class Tracker extends JavaPlugin implements Listener {\n\n    @Override\n    public void onEnable() {\n        Bukkit.getPluginManager().registerEvents(this,this);\n        getLogger().info(\"问答版插件已启用，开始检测异常行为！\");\n        // Plugin startup logic\n\n    }\n    private boolean isOpOnline(){\n        return getServer().getOnlinePlayers().parallelStream().anyMatch(Player::isOp);\n    }\n\n    @Override\n    public void onDisable() {\n        getLogger().info(\"问答版插件已禁用！\");\n        // Plugin shutdown logic\n    }\n    @EventHandler(priority = EventPriority.LOWEST)\n    public void onBlockBreak(BlockBreakEvent event){\n        if(event.isCancelled()&&isOpOnline()) {\n            Thread.dumpStack();\n        }\n    }\n    @EventHandler(priority = EventPriority.LOWEST)\n    public void onBlockPlace(BlockPlaceEvent event){\n        if(event.isCancelled()&&isOpOnline()) {\n            Thread.dumpStack();\n        }\n    }\n    @EventHandler(priority = EventPriority.LOWEST)\n    public void onChestOpen(PlayerInteractEvent event){\n        if(event.getAction().equals(Action.RIGHT_CLICK_BLOCK)&&event.getClickedBlock().getType().equals(Material.CHEST)&&event.useInteractedBlock().equals(Event.Result.DENY)&&isOpOnline()){\n            Thread.dumpStack();\n        }\n    }\n}\n复制代码"
        },
        {
            "author": "qq1668268474",
            "timestamp": 1568193780,
            "txt_content": "a1294790523 发表于 2019-9-10 21:22\n给你写了个小插件，麻烦装上运行一次并重现出异常现象后给一下日志（logs\\latest.log）\n感谢大佬帮忙。我怕多余代码太多，就上了OP让玩家做了开箱子和放置方块挖方块，然后把服务器关了才下下来的日志。\n文件→\n\n\n\nlatest.log\n(187.42 KB, 下载次数: 4)\n\n\n\n2019-9-11 17:22 上传\n点击文件名下载附件\n\n\n\n\n\n\n"
        },
        {
            "author": "a1294790523",
            "timestamp": 1568265120,
            "txt_content": "qq1668268474 发表于 2019-9-11 17:23\n感谢大佬帮忙。我怕多余代码太多，就上了OP让玩家做了开箱子和放置方块挖方块，然后把服务器关了才下下来 ...\n没有发现插件输出的消息....\n估计不是插件导致的，你试试只留个登录插件（Authme）看看？"
        }
    ]
}