{
    "title": "[1.16附数据包]在MC中玩DFS(深度优先搜索)?自动寻路?小白也能看懂-18条命令自动走迷宫",
    "author": "ChapterII",
    "replyCount": 11,
    "timestamp": 1589169900,
    "txt_content": " 本帖最后由 ChapterII 于 2020-5-15 21:43 编辑 \n如果论坛中已经有大佬有了类似的思路或成品，请见谅.此贴需要一定命令基础\n(并不指望多少人能听懂)\n不会排版，不喜勿喷\n大佬懒得看，萌新看不懂系列\n\n\n啊啊啊写了一天的帖子论坛弄没了虽然我又写了一遍\n未更新完成，*表示未更新(咕咕咕)\n\n\n\n\n2020-05-11_11.26.08.png (218.18 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-11 11:32 上传\n\n\n\n\n\n\n\n\n\n2020-05-11_11.25.26 - 副本.png (185.56 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-11 11:32 上传\n\n\n\n\n\n\nDFS，传说中的深度优先搜索\n度凉百科\n先不用管回溯递归之类的\n原理分析:\n图床炸了请通知作者\n比如上图红色羊毛位置是起点，蓝色羊毛位置是终点，\ndeep_first_search:search函数的内容：\n#Search, search, search...\nexecute at @e[tag=dfsAS] if block ~ ~-1 ~ blue_wool run tellraw @a {\"text\":\"Reached\",\"color\":\"#123456\"}\nexecute as @e[tag=dfsAS] at @s unless block ~ ~-1 ~ blue_wool run setblock ~ ~ ~ stone keep\nexecute as @e[tag=dfsAS] at @s unless block ~ ~-1 ~ blue_wool if block ~1 ~ ~ air run function deep_first_search:move_x1\nexecute as @e[tag=dfsAS] at @s unless block ~ ~-1 ~ blue_wool if block ~-1 ~ ~ air run function deep_first_search:move_x_1\nexecute as @e[tag=dfsAS] at @s unless block ~ ~-1 ~ blue_wool if block ~ ~ ~1 air run function deep_first_search:move_y1\nexecute as @e[tag=dfsAS] at @s unless block ~ ~-1 ~ blue_wool if block ~ ~ ~-1 air run function deep_first_search:move_y_1\n\n\n看不懂在说什么？只要你能看懂这几句命令的意思是以@e[tag=dfsAS的身份，在该实体位置，如果~1 ~ ~/~-1 ~ ~/~ ~ ~1/~ ~ ~-1是空气(即无方块)且除非脚下是蓝色羊毛,则执行function deep_first_search:move_x1或别的\n就可以\n它会按顺序检测上、下、左、右分别有无方块，\n如果无方块，将执行deep_first_search:move_x1或其他函数，该函数目的为向某个方向探索。\n\nexecute as @e[tag=dfsAS] at @s run tp @s ~1 ~ ~\nfunction deep_first_search:search\nexecute as @e[tag=dfsAS] at @s unless block ~ ~-1 ~ blue_wool run tp @s ~-1 ~ ~\n\n\n\n这是deep_first_search:move_x1函数的内容 move_x_1等函数内容相仿，在此不贴代码了\n\n\n\n\n\n2020-05-10_08.13.21.png (195.26 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-10 08:18 上传\n\n\n\n\n\n分析:\n执行function deep_first_search:search\n后，在盔甲架处放置了石头\n放置石头能够阻止AS探寻走过的路径，引发死循环※\n同时游戏发现只满足了第二条/execute的条件\n于是执行了deep_first_search:move_x1函数\n在该函数中AS向下移动（为便于分析以玩家视角为准）\n\n\n\n\n2020-05-11_11.27.29.png (188.41 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-11 11:32 上传\n\n\n\n\n\n同时再次执行function deep_first_search:search函数\n于是再次判断，AS下移，以此类推\n直到第一个岔口处\n此时发现满足了向下和向右的条件\n此时由于在search函数中，\n先判断了向下再判断向右\n于是先执行move_x1函数\n一直到……\n\n\n\n\n2020-05-11_11.27.39 - 副本.png (139.91 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-11 11:32 上传\n\n\n\n\n\n此时到达拐角处，由于满足向右而不满足向下，\nAS不断前进，以此类推\n\n\n\n\n2020-05-11_11.27.47.png (134.84 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-11 11:32 上传\n\n\n\n\n\n\n\n\n\n2020-05-11_11.28.19.png (165.44 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-11 11:32 上传\n\n\n\n\n\n到达了死路\n即这条支路已到达尽头\n刚才函数的调用层次是search调用move_x1,move_x1又调用search\n到达如上图这种状态时，不再满足任何一个execute\n于是该函数结束\n类似地，该函数结束后回到move_x1，继续执行function deep_first_search:search之后的\nexecute as @e[tag=dfsAS] at @s unless block ~ ~-1 ~ blue_wool run tp @s ~-1 ~ ~于是AS原路返回\n直到它来时的路上遇到的最后一个岔路口\n即它回来时遇到的第一个岔路口\n由于当时search函数里满足两个execute,一个执行完结束继续另一个\nAS继续探寻另一条支路\n……\n……\n……\n\n\n\n\n2020-05-11_11.25.26.png (185.56 KB, 下载次数: 0)\n\n下载附件\n\n2020-5-11 11:32 上传\n\n\n\n\n\n它抵达了终点！\n因为脚下是蓝羊毛，它不再返回\n这就是\nDeep first search,深度优先搜索\n你是否对DFS有了初步的理解认知\n不会的话再看一遍\n\n度凉百科\n什么是回溯？\n回溯在这里指的不是某种特定算法，而是\n在探寻一条支路后，原路返回到岔口，探寻另一条支路。\n\n请等待作者更新\n\n\n数据包：\n\n\n\n\ndeep_first_search.zip\n(3.96 KB, 下载次数: 0)\n\n\n\n2020-5-11 11:56 上传\n点击文件名下载附件\ndatapack\n\n\n\n\n\n\n在MC里生成一个带标签\"dfsAS\"的AS，放入一个闭合迷宫里输入/function deep_first_search:search\n如果迷宫未闭合或没有终点(蓝色羊毛),听天(maxCommandChainLength)由命吧\n鸣谢\nSPGoding's Datapack Helper Plus\n大憨批真的很好用！谢谢SPG！\n\n所有在数据包方面帮助过我的玩家\n\n\n\n请稍等  如果作者还没死的话\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2020-05-10_08.17.30.png\n(319.69 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-5-10 08:18 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2020-05-11_11.27.37.png\n(149.62 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-5-11 11:32 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2020-05-11_11.27.39.png\n(139.91 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-5-11 11:32 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2020-05-11_11.27.47 - 副本.png\n(134.84 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-5-11 11:32 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2020-05-11_11.28.19 - 副本.png\n(165.44 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-5-11 11:32 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "ChapterII",
            "timestamp": 1589171580,
            "txt_content": " 本帖最后由 ChapterII 于 2020-5-15 21:42 编辑 \n\n自占一楼awaawaawa"
        },
        {
            "author": "自然_Hungteen",
            "timestamp": 1589171700,
            "txt_content": "有丶意思，再来个BFS"
        },
        {
            "author": "minecraft小器",
            "timestamp": 1589172120,
            "txt_content": "还行，就是这个方块有点亮眼"
        },
        {
            "author": "ChapterII",
            "timestamp": 1589177280,
            "txt_content": "minecraft小器 发表于 2020-5-11 12:42\n还行，就是这个方块有点亮眼\n一言难尽的诡异"
        },
        {
            "author": "ChapterII",
            "timestamp": 1589177340,
            "txt_content": "自然_Hungteen 发表于 2020-5-11 12:35\n有丶意思，再来个BFS\n还有DP\n未来考虑个Dijk什么玩意来着之类的算法\n估计MC1.20发布之前能搞出图像识别"
        },
        {
            "author": "949151128",
            "timestamp": 1589186460,
            "txt_content": "卧槽，这，，nb，来个动规"
        },
        {
            "author": "0-zero-0",
            "timestamp": 1589219580,
            "txt_content": "我在想。。。可不可以做一只指定出生点的要下蛋的海龟（可以从nbt调的）"
        },
        {
            "author": "Jokey_钥匙",
            "timestamp": 1589322960,
            "txt_content": "想过 之前尝试用遍历判断实体是否可以连成一条通路\n然而失败了（"
        },
        {
            "author": "dianya",
            "timestamp": 1589499300,
            "txt_content": "我去，这个这么强的吗，我去1.8试试行不行"
        },
        {
            "author": "dianya",
            "timestamp": 1589499300,
            "txt_content": "应该不是判断实体"
        },
        {
            "author": "ChapterII",
            "timestamp": 1589501700,
            "txt_content": "dianya 发表于 2020-5-15 07:35\n我去，这个这么强的吗，我去1.8试试行不行\n1.16测试的，1.8没有函数"
        }
    ]
}