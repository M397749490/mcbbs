{
    "title": "1.8 forgemod基础物品和方块制作",
    "author": "zkm00323",
    "replyCount": 4,
    "timestamp": 1429950720,
    "txt_content": " 本帖最后由 zkm00323 于 2015-4-26 14:11 编辑 \n\n最近去youtube看了一些别人的1.8mod制作视频,现在来分享一下\n1.配置工作环境这个已经有现成的教程了  [点我]↓↓↓↓补充教程↓↓↓↓[更新forgsrc][输出mod]↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n2.eclipse设定①首先打开eclipse,选择工作环境\n\n\n\n\n\n工作环境.png (12.61 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 16:01 上传\n\n\n\n\n请选择你下载的forgesrc内的eclipse文件夹的路径------------------------------------------------------------②改变工作环境颜色(此步奏可以不做)选择上方Window下的Preferences\n\n\n\n\npreferences.png (60.03 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 16:04 上传\n\n\n\n\n\n*搜索栏中输入them,将Classic改为Dark\n\n\n\n\ntheme.png (24.5 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 16:09 上传\n\n\n\n\n点击ok即可-----------------------------------------------------③更改文件显示构造(可以不做)点击小箭头,选择Package Presentation下的Hierarchical\n\n\n\n\n构造.png (33.17 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 16:16 上传\n\n\n\n\n\n\n3.mod主文件架构终于开始制作了对吧~右击src/main/java新建Package\n\n\n\n\npackage.png (51.13 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 16:20 上传\n\n\n\n\n\n*在Name里面输入 com.你所想要的名字{范例mod的名字就叫modname}\n\n\n\n\nmodname.png (20.92 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 16:22 上传\n\n\n\n\n\n点击Finish*右击刚刚创建的package(com里面的modname)\n\n\n\n\nclass.png (56.39 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 16:25 上传\n\n\n\n\n\n*Name输入Modmain\n\n\n\n\nmodmain.png (38.9 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 16:28 上传\n\n\n\n\n\nFinish即可*这是你会看到文件内的默认格式文字\n\n\n\n\nmain.png (5.44 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 17:31 上传\n\n\n\n\n\n*然后将下面的代码复制替换这个文件内的代码package com.modname;\n\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\n\n@Mod(modid = Modmain.MODID, name = Modmain.NAME,version = Modmain.VERSION)\npublic class Modmain {\n    @EventHandler\n    public void perInit(FMLPreInitializationEvent event){\n\n    }\n    @EventHandler\n    public void Init(FMLInitializationEvent event){\n\n    }\n    @EventHandler\n    public void postInit(FMLPostInitializationEvent event){\n\n    }\n        public static final String MODID   = \"modname\";\n        public static final String VERSION = \"0.0.1\";\n        public static final String NAME    = \"modname\";\n}复制代码\n\n@Mod是告诉forge这是一个mod的主文件,并且这个mod的ID为modname,版本为0.01,名字为modname\n\n至于preInit,init,postInit的介绍请看这里 [链接]\n最下面3个Stirng的建立是为了以后的方便,因为像是以后贴图材质的路径名是以 (modID:路径) 的方法表示如果你的modID输入Modmain.NAME,以后你要更改mod的id就不需要1个代码一个代码的改了(这是1.7的例子)*到这里mod主文件就完成了,开启游戏可以看到mod列表内有modname这个mod\n\n\n\n\nmod list.png (34.9 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 17:14 上传\n\n\n\n\n\n4.建立prxoy文件在modname里新建一个package叫Proxy在Proxy里面新建一个class叫ServerProxy在Proxy里面新建一个class叫ClientProxy\n\n\n\n\nproxy.png (4.67 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 18:39 上传\n\n\n\n\n\n这里我打成Pxoxy了,这里提醒小伙伴,打字需谨慎,不然会崩溃*将如下代码替换ServerProxy内的代码package com.modname.Proxy;\n\npublic class ServerProxy {\n       public void registerRenders(){\n                \n       }\n}复制代码\n将如下代码替换ClientProxy内的代码package com.modname.Proxy;\n\npublic class ClientProxy extends ServerProxy{\n        @Override\n        public void registerRenders(){\n\n        }\n}\n复制代码\n这里我们让ClientProxy继承ServerProxy,并且让ClientProxy Override registerRenders这个方法*现在我们要告诉主文件ClientProxy和ServerProxy的存在将如下代替换Modmain内的代码package com.modname;\n\nimport com.modname.Proxy.ServerProxy;\n\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.SidedProxy;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\n\n@Mod(modid = Modmain.MODID, version = Modmain.VERSION, name = Modmain.NAME)\npublic class Modmain {\n        \n        @SidedProxy(clientSide = Modmain.CLIENT, serverSide = Modmain.SERVER)\n        public static ServerProxy proxy;\n\n        @EventHandler\n        public void preInit(FMLPreInitializationEvent event){\n\n        }\n        @EventHandler\n        public void init(FMLInitializationEvent event){\n                proxy.registerRenders();\n        }        \n        @EventHandler\n        public void postInit(FMLPostInitializationEvent event){\n                \n        }\n        ///////////////////////////////////////////////////////\n        public static final String MODID = \"modname\";\n        public static final String VERSION = \"0.01\";\n        public static final String NAME = \"modname\";\n        public static final String CLIENT = \"com.modname.Proxy.ClientProxy\";\n        public static final String SERVER = \"com.modname.Proxy.ServerProxy\";\n}复制代码首先我加入了2个String,CLIENT和SERVER,内容就是ClientProxy和ServerProxy的路径之后加入了@SidedProxy,告诉forge我的ClientProxy和ServerProxy的路径最后在init方法(加载方法)内呼叫我们之前在ClientProxy和ServerProxy内写的registerRenders方法\n至于这些有什么用我之后会说\n5.建立一个物品在modname里新建一个package叫Items在Items里面新建一个class叫Baseitem\n\n\n\n\nbaseitem.png (5.73 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 18:21 上传\n\n\n\n\n\n*将如下代码替换Baseitem内的代码package com.modname.Items;\n\nimport net.minecraft.item.Item;\nimport net.minecraftforge.fml.common.registry.GameRegistry;\n\npublic class Baseitem extends Item{\n        public Baseitem(String name) {\n                this.setUnlocalizedName(name);\n                GameRegistry.registerItem(this, this.getUnlocalizedName().substring(5));\n        }\n}复制代码Baseitem类继承Item类,所以任何Baseitem物件都是Item在这里我加入了一个String参数setunlocalizedname方法是设置item的内部名registryitem就是注册这个item到游戏里,我把注册方法写在这里可以简化代码,不需创建一个新物品就要打一遍注册方法substring(5)的意思是从第5个位置读取unlocalizedname,因为直接读取的话会变成item.内部名*在modname里新建一个package叫Main在Main里面新建一个class叫Moditem\n\n\n\n\nmoditem.png (3.05 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 18:18 上传\n\n\n\n\n将如下代码替换Moditem内的代码package com.modname.Main;\n\nimport com.modname.Items.*;\nimport com.modname.Modmain;\n\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.client.resources.model.ModelResourceLocation;\nimport net.minecraft.item.Item;\nimport net.minecraftforge.fml.common.registry.GameRegistry;\n\npublic class Moditem {\n\n        public static Item testitem;\n        \n        public static void init(){\n                testitem = new Baseitem(\"testitem\");\n        }        \n        public static void registerRenders(){\n                registerRender(testitem);\n        }\n    /////////////////////////////////////////////\n        public static void registerRender(Item item){\n                Minecraft.getMinecraft().getRenderItem().getItemModelMesher().register(item, 0,new ModelResourceLocation(Modmain.MODID+\":\"+item.getUnlocalizedName().substring(5),\"inventory\"));      \n        }\n}\n复制代码这里我也不太会解释,反正我们创建了一个Baseitem 叫testitem之前说过了item的注册我们写在Baseitem里面了,所以这里不需要写init方法是用来给主文件呼叫的registerRenders是用来给客户端呼叫的至于registerRender方法,是用来注册render的,1.7的时候不需要做这个*接下来,在Modmain里面的preinit方法里呼叫Moditem.init方法\n\n\n\n\nmoditeminit.png (5.61 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 20:01 上传\n\n\n\n\n\n*还有,在ClientProxy里面的registerRenders方法里呼叫Moditem.registerRenders方法\n\n\n\n\nregister.png (10.58 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 20:04 上传\n\n\n\n\n\n可能说的有点晚了,有报错的时候点击左边的小红叉来导入import只要ClientProxy就好ServerProxy不需要的,毕竟只有客户端要显示贴图*现在你可以打开游戏,由于我们还并没有设置testitem的物品栏,所以只能用指令获得\n\n\n\n\ntestitem.png (9.87 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 20:45 上传\n\n\n\n\n之后让我们来看看\n\n\n\n\ntestitem2.png (263.44 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 20:45 上传\n\n\n\n\n\n\n\n\ntestitem4.png (25.49 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 20:46 上传\n\n\n\n\n卧槽,虽然因为没有设置贴图所以是黑紫,但是咋么会是个方块??按了F5更坑爹?!没错!1.8就是坑爹,我们以后每做一个物品都必须写一个立体显示文件有利有弊,这样我们就能自定义物品的立体显示*现在我们来设置立体贴图文件model.json右击src/main/resources新建package叫assets.modname.models.item\n\n\n\n\nmodels.png (15.29 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 20:59 上传\n\n\n\n\n\n\n\n\n\nmodels2.png (3.76 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 21:00 上传\n\n\n\n\n\n右击assets.modname.models.item新建Untitled test file\n\n\n\n\nmodels3.png (79.13 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 21:03 上传\n\n\n\n\n之后在里面输入{\n    \"parent\": \"builtin/generated\",\n    \"textures\": {\n        \"layer0\": \"modname:items/testitem\"\n    },\n    \"display\": {\n        \"thirdperson\": {\n            \"rotation\": [ -90, 0, 0 ],\n            \"translation\": [ 0, 1, -3 ],\n            \"scale\": [ 0.55, 0.55, 0.55 ]\n        },\n        \"firstperson\": {\n            \"rotation\": [ 0, -135, 25 ],\n            \"translation\": [ 0, 4, 2 ],\n            \"scale\": [ 1.7, 1.7, 1.7 ]\n        }\n    }\n}\n复制代码注意layer0呢里,testitem是你想设置的物品名字\n按ctrl+s保存\n\n\n\n\n\nmodels4.png (29.12 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 21:10 上传\n\n\n\n\n\n\n存放路径为src\\main\\resources\\assets\\modname\\models\\item\n文件名请打 物品名称.json\n*\n最后一步,放入贴图,路径如下\nsrc\\main\\resources\\assets\\modname\\textures\\items\\testitem.png\n顺便附赠测试用贴图\n\n\n\n\ntestitem.png (672 Bytes, 下载次数: 13)\n\n下载附件\n\n2015-4-25 21:18 上传\n\n\n\n\n\n\n\n\n\n\nmodels5.png (31.56 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 21:22 上传\n\n\n\n\n\n\n\n\nmodels6.png (191.84 KB, 下载次数: 7)\n\n下载附件\n\n2015-4-25 21:23 上传\n\n\n\n\n\n正常了对吧\n--------------------------------------------------------------------------------------------\n当然你也可以更改物品的立体贴图\n大家应该有发觉拿着弓和剑的时候f5很明显握持方法不一样\n\n\n\n\n\nbow.png (43.18 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 21:25 上传\n\n\n\n\n\n\n如果你想改成这样也没问题!\n\n\n\n\n\nmodels7.png (13.54 KB, 下载次数: 8)\n\n下载附件\n\n2015-4-25 21:27 上传\n\n\n\n\n\n\n在这里有所有东西的models文件!\n6.建立一个方块在modname里新建一个package叫Blocks在Blocks里面新建一个class叫Baseblock未完待续......写了半天好累\n\n\n\n\n\nimport.png\n(10.72 KB, 下载次数: 9)\n\n\n\n\n下载附件\n\n\n2015-4-25 16:39 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport2.png\n(7.55 KB, 下载次数: 8)\n\n\n\n\n下载附件\n\n\n2015-4-25 16:40 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmodels1.png\n(3.49 KB, 下载次数: 6)\n\n\n\n\n下载附件\n\n\n2015-4-25 20:59 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "tallmoon",
            "timestamp": 1430005560,
            "txt_content": "支持楼主的教程"
        },
        {
            "author": "ljserver",
            "timestamp": 1430443380,
            "txt_content": "楼主好人，顶"
        },
        {
            "author": "生化豆豆",
            "timestamp": 1430488920,
            "txt_content": "没想到1.8做个物品变这么复杂了，感觉自己脱离时代了"
        },
        {
            "author": "Ank",
            "timestamp": 1432053660,
            "txt_content": "可以不依赖基类方块自制方块么？？"
        }
    ]
}