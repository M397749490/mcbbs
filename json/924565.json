{
    "title": "java.lang.LinkageError",
    "author": "884633197",
    "replyCount": 2,
    "timestamp": 1573026420,
    "txt_content": "[15:40:12 WARN]: [JulyItems] Task #31 for JulyItems v1.0.0 generated an exception\njava.lang.LinkageError: loader (instance of org/bukkit/plugin/java/PluginClassLoader): attempted duplicate class definition for name: \"com/github/julyss2019/mcsp/julylibrary/utils/ItemUtil\"\n        at com.github.julyss2019.mcsp.julyitems.tasks.ArmorTask.run(ArmorTask.java:22) ~[?:?]\n        at org.bukkit.craftbukkit.v1_12_R1.scheduler.CraftTask.run(CraftTask.java:76) ~[spigot-1.12.2.jar:git-Spigot-2086bb0-61ca7d9]\n        at org.bukkit.craftbukkit.v1_12_R1.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:353) [spigot-1.12.2.jar:git-Spigot-2086bb0-61ca7d9]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.D(MinecraftServer.java:739) [spigot-1.12.2.jar:git-Spigot-2086bb0-61ca7d9]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.D(DedicatedServer.java:406) [spigot-1.12.2.jar:git-Spigot-2086bb0-61ca7d9]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.C(MinecraftServer.java:679) [spigot-1.12.2.jar:git-Spigot-2086bb0-61ca7d9]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:577) [spigot-1.12.2.jar:git-Spigot-2086bb0-61ca7d9]\n        at java.lang.Thread.run(Thread.java:844) [?:?]复制代码ItemUtil：\n    public static boolean containsLore(ItemStack itemStack, String lore) {\n        if (!isValidItem(itemStack)) {\n            return false;\n        }\n\n        List<String> lores = itemStack.getItemMeta().getLore();\n\n        return lores != null && lores.contains(JulyMessage.toColoredMessage(lore));\n    }复制代码ArmorTask：\n    @Override\n    public void run() {\n        for (Player player : Bukkit.getOnlinePlayers()) {\n            ItemStack[] armors = player.getInventory().getArmorContents();\n            int counter = 0;\n\n\n            if (ItemUtil.containsLore(armors[3], settings.getItemsHelmetKeyLore())) {\n                counter++;\n            }\n\n            if (ItemUtil.containsLore(armors[2], settings.getItemsChestplateKeyLore())) {\n                counter++;\n            }\n\n            if (ItemUtil.containsLore(armors[1], settings.getItemsLeggingKeyLore())) {\n                counter++;\n            }\n\n            if (ItemUtil.containsLore(armors[0], settings.getItemsBootsKeyLore())) {\n                counter++;\n            }\n\n            double oldMax = player.getMaxHealth();\n\n            if (counter != 0) {\n                double newHealth = 20 + counter * 2;\n\n                if (oldMax < newHealth) {\n                    player.setMaxHealth(newHealth);\n                }\n            } else if (oldMax != 20) {\n                player.setMaxHealth(20);\n            }\n        }\n    }\ngoogle看了一大圈，实在是找不到问题所在了\n服务端刚开始运行是没有问题的，过了一段时间后出现报错，使用plugman reload后又恢复正常",
    "replies": [
        {
            "author": "海螺螺",
            "timestamp": 1573036860,
            "txt_content": "首先尝试删掉你的plugman，每次调试重载的时候不要直接cv进去然后重载(/reload 或者类似的东西)"
        },
        {
            "author": "884633197",
            "timestamp": 1573081500,
            "txt_content": "海螺螺 发表于 2019-11-6 18:41\n首先尝试删掉你的plugman，每次调试重载的时候不要直接cv进去然后重载(/reload 或者类似的东西)\n ...\n尝试了下 问题依然在"
        }
    ]
}