{
    "title": "NPC脚本问题-伤害测试",
    "author": "SaliCkera",
    "replyCount": 3,
    "timestamp": 1562694300,
    "txt_content": "NPC受到伤害,说出受到的伤害\n\n\n\n求帮忙233\n\n\n\n\n\n\n版本:1.7.10",
    "replies": [
        {
            "author": "粘兽",
            "timestamp": 1562694300,
            "txt_content": "var prev = npc.health;\nvar Thread = Java.type('java.lang.Thread');\nvar Runnable = Java.extend(Java.type('java.lang.Runnable'),{\n    run: function(){\n        try{\n            Thread.sleep(20);\n            var now = npc.health;\n            if(prev > now){\n                npc.say(prev - now);\n            }\n        }catch(e){}\n    }\n});\nnew Thread(new Runnable()).start();复制代码\n\n以上代码放入任意接口中，只要执行了就有效果。\n\ncnpc脚本教程贴 如何搭建脚本环境与使用脚本都在这里看吧↓\n[NSS][BGM][NPC][图文][干货]RE:CNPC-自定义NPC 脚本教程[复活连载]\nhttp://www.mcbbs.net/thread-816677-1-1.html"
        },
        {
            "author": "SaliCkera",
            "timestamp": 1562699400,
            "txt_content": "粘兽sama 发表于 2019-7-10 03:00\n以上代码放入任意接口中，只要执行了就有效果。\n\ncnpc脚本教程贴 如何搭建脚本环境与使用脚本都在这里看 ...\n怎么说出\"造成了(伤害)点伤害\""
        },
        {
            "author": "粘兽",
            "timestamp": 1562699520,
            "txt_content": "瑾枫￡F.P 发表于 2019-7-10 03:10\n怎么说出\"造成了(伤害)点伤害\"\nnpc.say(prev - now);\n改为\nnpc.say('造成了'+(prev - now)+'点伤害');"
        }
    ]
}