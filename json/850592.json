{
    "title": "聊聊我服务器上周困扰我许久的崩溃问题（持续更新中......",
    "author": "ldw0711",
    "replyCount": 10,
    "timestamp": 1552650960,
    "txt_content": " 本帖最后由 ldw0711 于 2019-3-15 20:57 编辑 \n持续更新\n记录一下上周周末让我一时间找不到原因，十分头疼的崩溃问题\n如果你在看，可以回复一下或者评个分让我知道嘛~ (嘤嘤嘤\n\n\n    先来说说崩溃的表现 大概每两小时就要崩溃一次 人越多 崩溃频率越高 即使只有我腐竹在线 也会定期崩服。\n    这种崩服不同于其他的，在服务器后台没有任何提醒，经常就是聊着聊着天服就崩了，并未报错。在服务器日志中，最后一行显示的都是非常正常的游戏内容。而在控制台，显示 kill 2289 java -jar ....... (关闭某个进程（数字瞎编的\n\n\n\n\n\n达到.png (40.46 KB, 下载次数: 0)\n\n下载附件\n\n一段崩溃日志的末尾\n2019-3-15 19:55 上传\n\n\n\n\n一段崩溃日志的末尾\n    如果有开过服务器的应该知道，正常服务器报错，应当有一大段关于报错位置及原因的描述，然鹅看到这种崩溃日志，你会觉得问题是出在哪里？至少我是一头雾水\n       好了 现在来介绍一下服务器大致情况：在某大型云平台上租用的1核心2G内存5M服务器，系统是CentOS（linux的一种），MC版本1.12.2，服务端Spigot端，没有mod，还算比较纯净    是由于是刚开服，人数基本上是四五个左右，虽然配置不高，带动15个人应该不是什么大问题（毕竟是插件服）\n        我开始排查问题，我思考了一下近期的敏感操作，有以下几个：\n    1.加入/更新了几个新插件    2.在Spigot上套了一层Bungeecord群组服（之所以说套了一层，只是因为我的Bungeecord只连了一个子服务器）\n\n    我首先想到的就是 1.加入/更新了几个新插件 我的服务器里面有一个生物堆叠插件，我第一个想到的就是他。\n    上周五，有玩家跟我反馈，说有时候生物堆叠不起作用，我验证了一下发现确实是这样，于是我就到mcbbs上找了一下Spigotmc上的源地址，发现我原来的版本过旧，于是从Spigotmc上下载了新的jar包，更新了一下。更新完成之后一切正常。\n    讲到这里，我想介绍一下生物堆叠插件的原理：搜索一定范围内的同种生物，如果发现是同一种，那么把他们叠加到一起 显示 2x 某某生物（掉落物什么的也是相应倍掉落）\n    我在猜想，是不是新版本的生物堆叠插件的算法有问题，一直在搜索全图的生物，导致出了问题？于是我便临时卸载了该插件，几小时后，服务器还是照常崩了，说明不是该插件的问题。\n    我开始排查其他新装插件，我把地皮插件删了，没用，我把假人插件删了，还是没用。\n    我陷入绝望。\n    我开始求助。\n    我在mcbbs问答区发帖，得到的没有有价值的答案。\n    我决定上淘宝找技术。\n    第一个淘宝卖家是这样回复我的：\n\n\n\n\n**图片_20190315205420.jpg (112.58 KB, 下载次数: 0)\n\n下载附件\n\n2019-3-15 20:54 上传\n\n\n\n\n\n     好像没啥实际作用... 我之前就在排除这个问题\n    第二个淘宝卖家是这样回复我的：\n\n\n\n\n**图片_20190315205600.jpg (49.36 KB, 下载次数: 0)\n\n下载附件\n\n2019-3-15 20:56 上传\n\n\n\n\n\n    ？？？主频的频是这个意思吗？？？",
    "replies": [
        {
            "author": "ni_hao",
            "timestamp": 1552651080,
            "txt_content": "有点东西？服务器疯狂**awa"
        },
        {
            "author": "monseasd",
            "timestamp": 1552651140,
            "txt_content": "不太清楚，没搞过服务器"
        },
        {
            "author": "梦江南",
            "timestamp": 1552651200,
            "txt_content": "检查启动中有没有报错，可能线程遇见错误，有没有报错文件"
        },
        {
            "author": "夏夜的风w",
            "timestamp": 1552651200,
            "txt_content": "emmm   没有任何报错吗"
        },
        {
            "author": "ldw0711",
            "timestamp": 1552651260,
            "txt_content": "panj 发表于 2019-3-15 20:00\n检查启动中有没有报错，可能线程遇见错误，有没有报错文件\n啥都没有啊 这就是问题所在"
        },
        {
            "author": "弥猫うた",
            "timestamp": 1552651380,
            "txt_content": "https://blog.csdn.net/weixin_33834137/article/details/85630510"
        },
        {
            "author": "ldw0711",
            "timestamp": 1552651740,
            "txt_content": "Mucrazy 发表于 2019-3-15 20:03\nhttps://blog.csdn.net/weixin_33834137/article/details/85630510\n剧透一下 问题确实是其中之一"
        },
        {
            "author": "ljh221",
            "timestamp": 1552651740,
            "txt_content": "感觉内存网络有点破费，3M应该够了吧"
        },
        {
            "author": "ldw0711",
            "timestamp": 1552651980,
            "txt_content": "ljh221 发表于 2019-3-15 20:09\n感觉内存网络有点破费，3M应该够了吧\n内存和网络都有点多?"
        },
        {
            "author": "ldw0711",
            "timestamp": 1552656420,
            "txt_content": "唉 没人看呐 算了算了暂时先不更了╯^╰"
        }
    ]
}