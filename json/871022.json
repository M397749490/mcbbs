{
    "title": "关于合成返还问题",
    "author": "CCxia",
    "replyCount": 1,
    "timestamp": 1559814780,
    "txt_content": " 本帖最后由 CCxia 于 2019-6-6 18:04 编辑 \n\nforge1.12.2，问一下如果要做到在合成台里例如物品1+水桶----->物品2+空桶的效果，应该用什么方法？\n（看到有ItemCraftedEvent这个玩家合成的时间，是利用这个事件么？）\n（PlayerEvent.ItemCraftedEvent）想到的思路是检测合成后的ItemStack的数量和对应的Item，如果Item是物品2的话就在合成台的固定位置上放上相同数量的空桶？",
    "replies": [
        {
            "author": "roj234",
            "timestamp": 1559835840,
            "txt_content": " 本帖最后由 roj234 于 2019-6-6 23:46 编辑 \n\n需要注册自己的合成表\n使用下面这个事件\nRegistryEvent.Register<IRecipe>\n\n\nimport net.minecraft.item.crafting.IRecipe;\nimport net.minecraftforge.registries.IForgeRegistryEntry.Impl;\n\npublic class RecipeTest\n  extends Impl<IRecipe>\n  implements IRecipe\n{\n  public boolean matches(InventoryCrafting invCraft, World world) // 是否符合合成表\n  {\n    return true;\n  }\n\n  public ItemStack getCraftingResult(InventoryCrafting p_getCraftingResult_1_) // 获取可变输出\n  {\n    return resultStack.copy();\n  }\n  \n  public ItemStack getRecipeOutput() // 获取固定输出\n  {\n    return resultStack.copy();\n  }\n  \n  public NonNullList<ItemStack> getRemainingItems(InventoryCrafting invCraft) // 获取合成后剩余物品\n  {\n\n    return list;\n  }\n  \n  public boolean isDynamic() // 输出可变\n  {\n    return false;\n  }\n  \n  public boolean canFit(int width, int height) // 合成格中有材料部分的长宽\n  {\n    return width * height >= 2;\n  }\n}"
        }
    ]
}