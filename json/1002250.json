{
    "title": "如何通过背包点击事情判断背包内有没有特殊物品",
    "author": "BLank826",
    "replyCount": 4,
    "timestamp": 1585556880,
    "txt_content": "如标题描述的那样，我自定义了一个物品，然后想通过玩家通过点击背包菜单，判断背包内有有没有这个物品。\n\n物品为\npublic static ItemStack dzbh() {\n    ItemStack i;\n    i = new ItemStack(Material.PAPER);\n    ItemMeta id = i.getItemMeta();\n    id.setDisplayName(\"§3§2§1§6§l锻造保护符\");\n    ArrayList lore = new ArrayList();\n    lore.add(\"§e用法：§a打开背包，将保护符放入背包\");\n    lore.add(\"§e作用：§a对装备附加锻造保护效果\");\n    lore.add(\"§e说明：\");\n    lore.add(\"§7  -§a保护装备锻造失败丢失锋利\");\n    lore.add(\"§7  -§c一个保护符可抵消一次锻造失败.\");\n    lore.add(\"§7  -§a保护符放入背包即可\");\n    id.setLore(lore);\n    id.addEnchant(Enchantment.OXYGEN, 1, true);\n    i.setItemMeta(id);\n    return i;\n}\n",
    "replies": [
        {
            "author": "和煦樱",
            "timestamp": 1585562700,
            "txt_content": "for(int i=0; i<玩家背包.size; i++){\n  if(玩家背包.getItem(i) == dzbh()){\n    Do sth\n    break;\n  }\n}复制代码"
        },
        {
            "author": "秋韵",
            "timestamp": 1585578480,
            "txt_content": "刚才打了几十行代码草稿居然不见了，真气人\n我直接提供思路吧，在InventoryClickEvent事件中\n判定点击某个格子后\n遍历玩家的背包boolean hasItem = false;\nInventory inv = player.getInventory();\nfor (int i = 0;i < 40;i++) {\n     ItemStack item = inv.getItem(i);\n    接下来判定顺序：是否为null->是否有ItemMeta->是否有DisplayName->DisplayName是否包含你隐藏的特殊字符\n    若判断为true，那hasItem = true;break;\n}\n接着\nif (hasItem) {\n  有该物品怎么怎么样\n} else {\n   没有怎么怎么样\n}"
        },
        {
            "author": "a8105",
            "timestamp": 1585581240,
            "txt_content": "2楼判断方式误导:\n判断请使用equals而非==,==为比较内存地址\n3楼判断方式并不需要那么复杂,因为是判断整个物品而不是物品名称或lore的关键词\n只需要equals或者contains即可:\nItermStakc item=dzhb();\n方式1:\nplayer.getInventory().contains(item);\n方式2:\nItemStack invItem=player.getInventory().getItem(slot);\nif(invItem!=null && invItem.equals(item)){\n    ...\n}\n如果物品可叠加,equals会判断失败,应该使用:\ninvItem.isSimilar(item);"
        },
        {
            "author": "阿狸哥哥",
            "timestamp": 1585614960,
            "txt_content": "这个是淬炼插件么？"
        }
    ]
}