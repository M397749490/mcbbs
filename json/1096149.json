{
    "title": "如何检测到玩家有指定物品然后执行命令",
    "author": "konglai55",
    "replyCount": 16,
    "timestamp": 1596792240,
    "txt_content": "比如 小红身上有一把钻石剑 检测到了 然后那把钻石剑被替换成只能破坏蜘蛛网的钻石剑这种怎么搞",
    "replies": [
        {
            "author": "天佑酱",
            "timestamp": 1596792240,
            "txt_content": "konglai55 发表于 2020-8-7 19:35\n能解释一下这个指令吗我有点蒙scoreboard players tag @a add SMFX {Inventory:[{id:\"minecraft:diamond_sword\"}]}这个命令是说如果玩家背包里有钻石剑，则给玩家添加一个“SMFX”标签\n\nscoreboard players tag @a remove SMFX {Inventory:[{id:\"minecraft:diamond_sword\",tag:{Tags:[\"SMFX\"]}}]}这个命令是说如果玩家背包里有一把具有“SMFX”tag的标签，则移除该玩家的“SMFX”标签\n\nclear @a[tag=SMFX] diamond_sword这个命令是说清除有“SMFX”tag的玩家的背包里的钻石剑\n\ngive @a[tag=SMFX] minecraft:diamond_sword 1 0 {Tags:[\"SMFX\"],CanDestroy:[\"minecraft:diamond_sword\"]}这个我写错了，更正：\ngive @a[tag=SMFX] minecraft:diamond_sword 1 0 {Tags:[\"SMFX\"],CanDestroy:[\"minecraft:web\"]}\n\n这个命令是说给所有具有“SMFX”tag的玩家一把能在冒险模式破坏蜘蛛网的钻石剑。\n\nscoreboard players tag @a remove SMFX这命令是移除玩家的SMFX标签\n\n\n我说一下过程：\n若玩家背包里有钻石剑，则第一条命令成功，玩家就有了“SMFX”标签。\n因为玩家背包里是一把普通的钻石剑，没有“SMFX”标签，所以第二条命令不成功，玩家还是有SMFX标签。\n因为玩家有“SMFX”标签，所以玩家身上那把钻石剑会被清除\n因为玩家的SMFX标签还在，所以玩家会被给予一把新的有SMFX标签的钻石剑\n之后玩家的SMFX就被清除了。\n\n这是第一个循环，第二个循环：\n玩家背包里还有钻石剑，第一条命令还是成功，所以玩家又有了SMFX标签。\n因为玩家背包里有一把SMFX标签的钻石剑，所以玩家的SMFX标签被清除，\n所以后面的都无效了，所以玩家身上的能破坏蜘蛛网的钻石剑被保留。\n\n"
        },
        {
            "author": "天佑酱",
            "timestamp": 1596792360,
            "txt_content": "是什么版本呢"
        },
        {
            "author": "konglai55",
            "timestamp": 1596792540,
            "txt_content": "天佑酱 发表于 2020-8-7 17:26\n是什么版本呢\n1.12.2哦 ~"
        },
        {
            "author": "TS_cimao",
            "timestamp": 1596792660,
            "txt_content": "只能破坏蜘蛛网貌似实现不了"
        },
        {
            "author": "konglai55",
            "timestamp": 1596792780,
            "txt_content": "TS_cimao 发表于 2020-8-7 17:31\n只能破坏蜘蛛网貌似实现不了\n这是个例子 不是要破坏蜘蛛网 镐子挖石头也行"
        },
        {
            "author": "SaKTL",
            "timestamp": 1596792780,
            "txt_content": "这个在服务器里还是可以实现的....原版好像实现不了"
        },
        {
            "author": "konglai55",
            "timestamp": 1596792960,
            "txt_content": "SaKTL 发表于 2020-8-7 17:33\n这个在服务器里还是可以实现的....原版好像实现不了\n？？？ 我玩了这么多假地图 55555555 泪目"
        },
        {
            "author": "TS_cimao",
            "timestamp": 1596792960,
            "txt_content": "konglai55 发表于 2020-8-7 17:33\n这是个例子 不是要破坏蜘蛛网 镐子挖石头也行\n指定物品破坏必须要插件  具体可以看nobuild插件"
        },
        {
            "author": "名副其实",
            "timestamp": 1596793500,
            "txt_content": "TS_cimao 发表于 2020-8-7 17:36\n指定物品破坏必须要插件  具体可以看nobuild插件\n你到底有没有好好玩过原版...\n指定方块破坏是原版一大特色好吧....\n\n\n建议:只能让玩家手动检测\n并且不能给予为同一物品\n即钻石剑删除后给予的必须是另一个物品而不是相同的钻石剑\n不然的话这个在1.12还真的有点难以实现"
        },
        {
            "author": "TS_cimao",
            "timestamp": 1596793620,
            "txt_content": "名副其实 发表于 2020-8-7 17:45\n你到底有没有好好玩过原版...\n指定方块破坏是原版一大特色好吧....\nawa  确实不知道1.12还能做这种检测"
        },
        {
            "author": "TS_cimao",
            "timestamp": 1596793680,
            "txt_content": "/give @p minecraft:diamond_pickaxe 1 0 {CanDestroy:[\"minecraft:tnt\"]}  这个指令是给予玩家一把只能破坏tnt的钻石斧"
        },
        {
            "author": "天佑酱",
            "timestamp": 1596794220,
            "txt_content": "konglai55 发表于 2020-8-7 17:29\n1.12.2哦 ~\n高频：\nscoreboard players tag @a add SMFX {Inventory:[{id:\"minecraft:diamond_sword\"}]}\nscoreboard players tag @a remove SMFX {Inventory:[{id:\"minecraft:diamond_sword\",tag:{Tags:[\"SMFX\"]}}]}\nclear @a[tag=SMFX] diamond_sword\ngive @a[tag=SMFX] minecraft:diamond_sword 1 0 {Tags:[\"SMFX\"],CanDestroy:[\"minecraft:diamond_sword\"]}\nscoreboard players tag @a remove SMFX"
        },
        {
            "author": "TorkenCommander",
            "timestamp": 1596798960,
            "txt_content": " 本帖最后由 TorkenCommander 于 2020-8-7 19:24 编辑 \n天佑酱 发表于 2020-8-7 17:57\n高频：\nscoreboard players tag @a add SMFX {Inventory:[{id:\"minecraft:diamond_sword\"}]}\nscoreboard  ...\nremove后面不可以加nbt标签吧\n还有优先级得调一下,不然先移除了后面就检测不到了\nCanDestory后面写成可以破坏钻石剑了,应该是\"minecraft:web\"\n如果需要反选tag应当选个unless(虽然1.12-不能做到,但不一定要全部\n都是命令方块,可以添加一个非门(然后可能会出一些问题\n还有clear/give会有写问题,比如玩家第一个快捷栏位是空的,然后\n剑被放在了第二个快捷栏,执行完毕后剑会跑到第一个快捷栏\n如果真的是这样还不如框选{SelectedItem}+/replaceitem,这样会更好一点,\n然后是检测背包里的物品然后修改数据,那为什么不能是先/give+标签呢？非要进行检测然后修改数据吗？\n（该回复仅提意见,具体看上方指令然后进行修改\n且CanDestroy只能在冒险模式内生效,生存模式无视该设定可破坏所有的方块\n\n如果想要获取一把能破坏石头的稿子你可以这样:\n/give @s wooden_pickaxe 1 0 {CanDestroy:[\"minecraft:stone\"]}\n\n记得将玩家模式调整为冒险模式,否则该标签不生效"
        },
        {
            "author": "konglai55",
            "timestamp": 1596800100,
            "txt_content": "天佑酱 发表于 2020-8-7 17:57\n高频：\nscoreboard players tag @a add SMFX {Inventory:[{id:\"minecraft:diamond_sword\"}]}\nscoreboard  ...\n能解释一下这个指令吗我有点蒙"
        },
        {
            "author": "天佑酱",
            "timestamp": 1596805440,
            "txt_content": "TorkenCommander 发表于 2020-8-7 19:16\nremove后面不可以加nbt标签吧\n还有优先级得调一下,不然先移除了后面就检测不到了\nCanDestory后面写成可以 ...remove后面不可以加nbt标签吧可以。\n\n\n\n\n2020-08-07_20.38.42.png (121.62 KB, 下载次数: 0)\n\n下载附件\n\n2020-8-7 20:51 上传\n\n\n\n\n\n\n\n\n\n\n2020-08-07_20.39.21.png (116.65 KB, 下载次数: 0)\n\n下载附件\n\n2020-8-7 20:51 上传\n\n\n\n\n\n\n\n\n\n\n2020-08-07_20.39.28.png (118.18 KB, 下载次数: 0)\n\n下载附件\n\n2020-8-7 20:51 上传\n\n\n\n\n\n\n\n还有优先级得调一下,不然先移除了后面就检测不到了你看懂逻辑了吗，移除标签是专门用来防止钻石剑不断清空与获得的。\n\nCanDestory后面写成可以破坏钻石剑了,应该是\"minecraft:web\"确实，脑抽了\n\n如果需要反选tag应当选个unless(虽然1.12-不能做到,但不一定要全部我写的反选只需要那一条就行了，不需要小穷举\n\n都是命令方块,可以添加一个非门(然后可能会出一些问题我的首选都是function\n\n还有clear/give会有写问题,比如玩家第一个快捷栏位是空的,然后\n剑被放在了第二个快捷栏,执行完毕后剑会跑到第一个快捷栏请问这有什么影响吗  换个格子就不能破坏蜘蛛网了吗？\n\n如果真的是这样还不如框选{SelectedItem}+/replaceitem,这样会更好一点,不符合楼主所说的。我答题的宗旨就是尽量贴合楼主的想法。这里你可以想想，万一楼主是做解密地图呢 如果是解密地图你有没有想过玩家不一定手持钻石剑呢 结果不完全是目的 过程+结果才是。\n\n然后是检测背包里的物品然后修改数据,那为什么不能是先/give+标签呢？非要进行检测然后修改数据吗？\n（该回复仅提意见,具体看上方指令然后进行修改\n\n这句话用来回复我不合适吧，楼主问的这个问题你为什么不回复楼主而回复我呢（回复我楼主是没有提醒的）\n\n且CanDestroy只能在冒险模式内生效,生存模式无视该设定可破坏所有的方块这点确实是对的，但我觉得楼主可能已经是冒险模式了才没写。\n"
        },
        {
            "author": "konglai55",
            "timestamp": 1596805620,
            "txt_content": "天佑酱 发表于 2020-8-7 17:57\n高频：\nscoreboard players tag @a add SMFX {Inventory:[{id:\"minecraft:diamond_sword\"}]}\nscoreboard  ...\n\n\n\n\nimage.png (43.94 KB, 下载次数: 0)\n\n下载附件\n\n2020-8-7 21:07 上传\n\n\n\n\n？？？？ 他一直给我\n\n"
        }
    ]
}