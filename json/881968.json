{
    "title": "[娱乐]ModelAPI —— 不使用mod创建实体模型[1.9-1.13]",
    "author": "阴阳师元素祭祀",
    "replyCount": 31,
    "timestamp": 1562483820,
    "txt_content": " 本帖最后由 阴阳师元素祭祀 于 2020-4-18 12:07 编辑 \n\n不使用mod创建实体模型\n\n插件作者:Ticxo Leung\n插件原帖:https://www.spigotmc.org/resourc ... odel-manager.68014/\n插件概括:\n本插件是[ruby=原文如此]唯一[/ruby](可能)可以使用大量模型的插件，并且创建的模型看起来就像mod里面的实体\n更多信息请查询这里。(或本帖目录)\n\n插件特性:\n不需要mod创建模型不需要json模型文件，只需要材质文件游戏中实时更新模型设计高自由度的模型动画更多详细信息参考Wiki (或者本帖wiki目录)支持Mythic Mobs插件\n安装方法:\n下载本插件(API)下载前置API 和 Mythic Mobs插件(可选)丢进Plugins文件夹[ruby=入土]开始写模型吧[/ruby]！\n\n从Discord与作者交流:\nhttps://discordapp.com/invite/Gvu2x5y\n\n\n\n插件WIKI欢迎来到从入门到进阶使用插件教程WIKI，本WIKI将会用不同的示例来进行解释教程主要包含以下3个内容:如何在服务器使用本插件如何创建自定义模型给Mythic Mobs插件的实体加模型\n如果你是为了测试或者学习而完成一个模型，你可以先看看示例模型.插件瓶颈\n开始之前, 需要先注意一下事项:这是一个插件而不是mod， 所以客户端可能会有模型与实体不一致或掉帧的现象。插件模型基于盔甲架，所以可能导致服务器tps降低，因此建议不要[ruby=创建N个大模型]过度[/ruby]依赖/使用本插件。\n如果这些问题损坏了服务器或破坏体验等，非常抱歉，这个插件可能不是最好的自定义模型解决方案。\n\n\n\n配置插件使用本插件你需要先安装前置插件Additions API。当然你也可以与另外一个插件(前文所提)一起使用(另外的插件)。命令和权限本插件拥有3个命令以及其各自都有各自的权限：Disguise用法: /disguise [模型Id]\n权限: modelapi.command.disguise\n命令会将指定模型给玩家使用. [模型id]参数可使用tab补全.Undisguise用法: /undisguise\n权限: modelapi.command.undisguise\n移除所使用的模型。State用法: /state [add/remove] [state] <tick>\n权限: modelapi.command.state该命令可以添加或移除一个模型的状态；如果当前玩家正在使用模型，则指定tick之后会添加或移除所给的状态\n\n\n\n配置工作环境\n注意, 本教程默认你拥有java基础知识并且熟悉Spigot的API。 换言之，我不会教你如何构建基础的spigot插件。本教程使用Eclipse IDE 和 Spigot 1.13.2 作为例子。导入依赖创建项目之后，你必须导入前置插件(API)以及本插件(API)， 当然你也可以导入MythicMobs。并确保你在plugin.yml中写明了你的依赖插件。插件主类你可以在主类写你自己的代码， 但请确保你在插件启动(onEnable())时注册插件到ModelAPI，注册请食用ModelAPI.registerPlugin(JavaPlugin plugin, String texture)方法。变量注释:plugin: 主类本身的实例texture: 材质包名字\n\n本教程把材质包命名为了\"tex.zip\"， 所以使用这作为texture的参数。所以请自行修改你插件的参数名字。\n\n你可以进入到下一步的教程了。少女休息中...\n\n\n\n编辑模型\n这是创建一个像mod实体一样的模型中最基础的一部分。\n\n创建模型类\n每个模型是一个单独的类， 并且这个类会包含所有模型相关的代码。创建一个用你模型命名的类，并且继承类'ModelBase\"，最后的代码应该看起来像这样:\n\n你可以删除构造方法的参数，只留下一个super()。\n\n如果IDE本身没毛病，那么应该会给你2个错误，但是别害怕，你可以把报错的2个变量改为你自己的参数，就像这样：\n参数注释:\nid: 你模型id，并且你必须保证id全小写并且格式为\"pluginname:modelid\"这种, 比如： \"myawesomeplugin:myawesomemodel\"\ntexture: 你材质的文件名字， 如果你材质名字是myawesometexture.png, 则输入\"myawesometexture\"\n简单起见， 我命名我自己的模型为tutorialmodel\n\n\n给模型添加片段\n\n停! 这看起来很难！但让我们把它分成一行行的代码来进行解释。\nEntityModelPart head = createPart(\"head\", DamageableItem.DIAMOND_HOE)复制代码参数：\nEntityModelPart: 盔甲架哪部分将使用这个片段\nString partName:这片段(部分) 的名字 必须为全小写\nDamageableItem dItem: 哪个可造成伤害的物品用来添加到这个自定义模型。\n\nhead.addBox(10, 10, 10, -5, 0, -5, ModelAxis.y, 0, 0, 0, 0, 64, 0, 0, 8, 8, 8)复制代码参数:\naddBox方法将添加一个模型结构，这个方法可多次使用\ndouble x: x轴长度\ndouble y: y轴长度\ndouble z: z轴长度\ndouble ox: x轴偏移值\ndouble oy: y轴偏移值\ndouble oz: z轴偏移值\nModelAxis axis:从哪个轴旋转这个结构\ndouble angle: 结构旋转角度，参数应该是22.5的倍数(?)\ndouble rx: x轴原始旋转\ndouble ry: y轴原始旋转\ndouble rz: z轴原始旋转值\nint t:材质文件的大小，必须是次方，推荐使用2的次方\nint tx: x轴的角落像素\nint ty: y轴的角落像素\ndouble bx (可选参数): 将x作为bx\ndouble by (可选参数): 将y作为by\ndouble bz (可选参数): 将z作为bz\n这个图片中方法做了什么:\n创建了10*10*10的结构偏移结构到中心(中点 pivot), 并使结构在中点(pivot)上面没有任何旋转材质文件大小是64*64，所以请设置UV(纹理坐标)为 x:0 y:0使这个结构是8x8x8\n更多解释在这 (或通过目录找到对应wiki)\n\naddPart(new Part(head, new Offset(0, 1.875, 0), new EulerAngle(0, 0, 0)));复制代码这个方**注册你模型片段到你的模型\nPart part: 要注册的模型片段\nEntityModelPart part: 你所使用的实体模型片段\nString modelName (可选参数): 如果被使用多次，用来覆盖模型片段的名字。Offset pos: 相对于模型父骨架的偏移值，其中参数1为16像素。EulerAngle rot: 相当于模型父骨架的旋转偏移值(弧度表示)\nBone bHead = new Bone(head);复制代码Bone 是用来储存片段以及子骨架参数:\nEntityModelPart emp: 用实体模型片段来寻找实体模型片段\nString name (可选): 如果名字在addPart被重写，则用来寻找part的名字。\n在添加了更多的parts之后，你自己的模型将会有更多样子和细节。\n\n连接骨头\n假如我们在制作一个玩家的模型:\n\n一般情况下，手臂应该会被连接到身体，所以我们设置手臂的骨头为身体的骨架的子，\n我们可以通过下面这行代码完成这个工作:bBody.addChild(bRightArm);复制代码这将会连接bRightArm到bBody，其中bRightArm会偏移new Offset(0.46875, -0.15625, 0)，即x偏移7.5像素, y偏移-2.5像素。\n理论上来讲每个骨头都可以包含无数个子骨头。下面将添加剩余的骨头到bBody上。\n\n创建骨架\n每个模型只能包含一个拥有2个无父骨头的骨头的骨架。\n在现在的情况 这2个骨头应该是bHead和bBody，因为两者都可以直接从实体获取位置。\n创建并设置一个骨架很简单，你只需要添加如下代码:\nsetSkeletonModel(new SkeletonModel(bHead, bBody));复制代码如果模型没有头/身体，则设置为null。\n\n注册模型\n这是创建模型的最后一部。\n现在，回到插件主类，然后在ModelAPI.registerPlugin;下面输入以下代码ModelAPI.registerModel(new TutorialModel());复制代码ModelBase model即模型类的对象\n\n材质包\n模型不能再离开材质包的情况下工作\n创建文件夹assets\\<plugin id>\\textures\\entity\n并把你的资源文件放进entity文件夹\n因为教程所用插件id为tutorial\n所以应该是assets\\tutorial\\textures\\entity.\n\n\n\n之后， 打包资源文件夹并命名为<之前提供的名字>.zip. 教程的zip文件夹因此应为tex.zip.\n最后将压缩文件放进项目文件夹\n\n\n最后样子\n这看起来没一个地方像一个玩家！！！\n当然我们只开始制作了一个模型，而不是一个动画。\n\n\n你现在可以进入下一个章节的学习了\n少女休息中...\n\n动画虽然模型是给一个实体外观形状很重要的一步，那么动画则是给它们生命。当然这也可能使得这一节教程最难。创建动画映射表(AnimationMap )和SkeletonModel差不多, 每个模型都包含一个状态到模型的映射.\n创建动画的映射表代码:\nAnimationMap animation = new AnimationMap();复制代码状态和动画一个状态可以被一个模型正在做的事影响，比如空闲时，走路时，攻击时，被攻击时，本插件(API)将提供空闲和走路的监听，但其他状态则需要自定义监听了。动画就是控制着每个单独的肢体(骨头)移动，目前, 本插件(API)有4个预置的动画:HeadAnimation()\n这个类负责普通的头部旋转动画，实现是直接操作实体模型的pitch与yaw模值。这个类只在模型head是在实体中间上面时有用 (xOffset=0, zOffset=0). 如果你有自己的offset并想旋转头用, 则请用SubHeadAnimation().\nBodyAnimation()\n这个类负责普通的身体动画用这个动画的模型的部分没有父部分的情况，这个类只会在∣headYaw -bodyYaw∣>50的情况下旋转，就像所有实体移动时的情况。用这个动画的模型的部分有父部分的情况，这个类只会根据父部分进行旋转。\nSubHeadAnimation()\n和差不多HeadAnimation()，SubHeadAnimation()也控制头的移动。但这个类的parent不能为null。使用这个类的模型部分旋转会像HeadAnimation()一样, 但会被parent偏移旋转的位置和本身位置。\nSequenceAnimation(Sequence animation)\n这个类控制用户自己定义的一连串的动画。这个连续的动画不会在结束时自己重置. 换言之，如果动画在第30帧时暂停，那么下次动画启动时会从第30帧开始。更详细的解释（或者使用目录)\n\n设置状态和动画接下来使用之前所做的模型作为例子，本节会使用预设的BodyAnimation添加一个空闲时和走路的动画。\n\n其中String是动画状态的id，第二个参数即动画的实例。\n注意添加Node(节点)的顺序非常重要。先添加的动画更容易被其他动画覆盖掉。最后, 设置动画的映射(map) ，代码如下: setAnimationMap(animation);复制代码\n最后结果\n这距离完美的模型还有点远, 但至少我们可以看见模型静态的样子。动画组整个模型只分配4个动画是[ruby=⑨]不明智[/ruby]，但组合这些动画到一起可以让你更接近你梦想中的模型样子。\n如果你想使用动画组，创建一个类并实现Animation接口\n你可以很快的见到4个方法等待被实现。void entityParentConnection(Entity parent, ArmorStand target, Part part, EulerAngle head, EulerAngle body)\n这个方法控制没有parent的模型部分\nvoid partParentConnection(ArmorStand parent, ArmorStand target, Part part, EulerAngle head, EulerAngle body)\n这个方法控制有parent的模型部分\nAnimation createAnimation()\n这个方法提供一个自身对象的副本，防止有多重动画被激活\nboolean containsPartAnimation(Part part)\n这个方法主要用来检测这个part是否应该被用来移动当然这也可以使它有可能被用来创建同时进行的动画，比如走路时被攻击。\n当然这些方法对于动画组是不实用的，但也不是创建一个新的。\n当然有很多方法来创建一个动画组， 这节教程将告诉你最简单的方法。\n写一个带有ModelBase参数的构造方法，并使它为作为私有属性存在这个模型里，然后再这个基础模型中循环它的partsgetParts().keySet().复制代码如果这个的id包含\"head\"，则把HeadAnimation()放进HashMap，其他情况则使用BodyAnimation()。然后分别在 entityParentConnection 和 partParentConnection方法中分别添加如下代码:\n animations.get(part.getModelName()).entityParentConnection(parent, target, part, head, body);复制代码这将不同的模型part链接到自己的动画，同时填写剩下的2个方法，最后的样子应该和这差不多:\n注意，这些组合方法是几乎没优化的。 如果动画没必要跟踪任何事 (除SequenceAnimation()之外的所有动画)，那么我建议只使用一个对象并通过检查entityParentConnection和partParentConnection，来分配对象现在我们可以把BodyAnimation()替换成AnimationIdle()了成果你现在可以进入下一章的学习了\n少女休息中...\n\n\n一系列的动画(SequenceAnimation)\n在所有预设的动画类中，SequenceAnimation 无疑是最强大的动画类，它使用一系列的对象(object)并通过用户自己定义的关键帧来尝试显示动画。Sequence类 and KeyFrame(关键帧)类Sequence是负责计算2个关键帧之间的(模型)转换的类，它在构造时创建一个List<KeyFrame>。\n同时，关键帧只储存它自身所代表的帧，即偏移的变化量以及角度的变化量。开始使用SequenceAnimation本教程使用之前的例子，我们先创建一个用脚走路和手臂摇摆的动画。本节教程将使用动画组来组织这个动画，但不创建一个有ModelBase参数的构造方法。\n\n因为这个动画类是为[ruby=之前所用模型]TutorialModel[/ruby]做的，所以我可以直接硬编码这些parts。我还会创建一个私有方法来在构造的时候初始化我的动画。KeyFrame(int frame, EulerAngle rotation, Offset offset)\nint frame:正整数，第一帧必须为0EulerAngle rotation: 相对于最开始的角度的角度偏移值，并会被parent的旋转影响。Offset offset: 相对于模型最开始的位置的位置偏移值，并会被parent的位置所影响。\nSequence(List<KeyFrame> keys)\nList<KeyFrame> keys: 一串用来显示的关键帧。\nSequenceAnimation(Sequence animation, boolean isHead)\nSequence animation: Sequence  应获得动画的实例boolean isHead(可选参数): 通知这个类应该把它当作头部动画看待(执行代码)，默认为false\n\n最后，添加一些检查代码来赋值正确的动画。\n现在我们只需要把AnimationIdle替换为AnimationWalk.\n成果\n失望了？ 可能看起来很僵硬，但如果添加更细致的模型和更多关键帧就会这样:\n\n甚至这种动画都可以被实现你可以进入到下一章的学习了\n\n少女休息中...\n\n从0开始创建动画你可能会发现自己别无选择，只能从0开始创建自己的动画来满足自己的需要。因此你可以创建你自己的动画类并实现Animation接口， 并从0开始写代码。接口方法\n\n一些方法在之前的教程中已经简要的介绍了下，这节将详细地告诉你如何更好的使用这些方法。EntityParentConnection & PartParentConnection 方法public void entityParentConnection(Entity parent, ArmorStand target, Part part, EulerAngle head, EulerAngle body)\npublic void partParentConnection(ArmorStand parent, ArmorStand target, Part part, EulerAngle head, EulerAngle body)复制代码这2个方法在模型part被更新时会直接从实体那边获得值进行调用，比如头和身体。\nEntity parent/ArmorStand parent: parent实体。ArmorStand target: 用于显示模型的盔甲架的对象。Part part: contains 包含Offset和EulerAngle值的对象. 使用part.getLocationOffset()和part.getRotationOffset()来获得值。EulerAngle head: 已经被Euler角转换后的头部角度值。EulerAngle body: 已经被Euler角转换后的身体角度值，并且值在-50到50之间。\nCreateAnimation 方法public Animation createAnimation()复制代码这个方法被用来创建为每个肢体的可用动画对象，只用来返回一个新的动画对象。\nContainsPartAnimation 方法public boolean containsPartAnimation(Part part)复制代码方法用来检查这个part是否被包含在动画组里面了。\n一些实用的工具类方法本插件(API)包含2个工具类: Offset 和 Quaternion.\nOffset: 计算相对的偏移位置\nQuaternion: Euler角的包装，允许你全局或局部旋转，并且组合Euler角度。例子\n示例模型中的VelocityJoint 根据实体速度来进行移动(显示动画)。\n少女退出中...\n\n正式使用模型在使用命令测试模型和动画之后，是时候正式将模型用来投入到实际使用了。生成带模型的实体(ModelEntity)类ModelEntity 是用来管理实体和模型的类，这个类将追踪实体的头部旋转以及计算全局的模型各种值。\n你可以使用静态方法来转换一个普通的实体变成一个有模型的实体:\npublic static ModelEntity spawnEntity(Entity ent, String modelId, boolean addition)复制代码Entity ent: 你生成的实体String modelId: 使用的模型id。 这个模型id可以是其他插件所提供的。boolean addition: 这个模型是否是附加的模型\n当然你也可以不先生成实体而直接生成一个带模型的实体public static ModelEntity spawnEntity(Location loc, EntityType type, String modelId, boolean addition)复制代码Location loc: 生成实体的位置EntityType type: 实体类型其他参数见之前方法\n从实体中获得ModelEntity对象有时你可能需要从实体中获得ModelEntity的对象，这通常在事件中操作实体状态使用。\n你可以使用以下静态方法:\npublic static ModelEntity getModelEntity(Entity ent)复制代码\nEntity ent: 实体对象如果不是一个有模型的实体则返回null\n改变模型状态在使用ModelAPI.getModelEntity()获得ModelEntity之后, 你可以使用以下方法添加或移除模型状态。public void addState(String state): 添加状态，如果状态存在则不会重复添加public void removeState(String state): 移除一个状态public boolean containState(String state): 检查模型是否包含一个状态\n\n\n因为本插件只负责实体模型，所以使用Mythic Mobs来控制动画会更容易。\n技能\n模型(model)\n用于应用模型到目标实体。属性(Attributes)属性别名描述默认值modelmid, model, modelId通过模型id给予目标一个模型addonadd, addon(true/false) 模型是否为额外的一个部分false示例\n这个技能将设置生成的实体的模型为demomodel的phantom_empress。\nSkills:\n- model{mid=demomodel:phantom_empress} @self ~onSpawn复制代码\n\n状态(State)操作模型的状态属性(Attributes)属性别名描述默认值statestate被设置的状态removeremove(true/false) 是否是移除状态false示例\n这个技能将给模型添加9tick的攻击状态，9tick之后移除攻击状态。\nNormalAttack:\n  Skills:\n  - state{state=attack} @self\n  - delay 9\n  - state{state=attack;remove=true} @self\n复制代码\n\n条件(Condition)\n状态(State)检查这个实体是否有此状态用法(Usage)state{state=[state]}复制代码示例\n这个技能将检查实体是否有攻击状态Conditions:\n- state{state=attack}\n复制代码\nAddBox() 方法addBox() 乍一看似乎令人望而生畏，但如果你有了足够的经验和理解，你会发现这并不像看上去那么难。复习方法及其参数public void addBox(double x, double y, double z, double ox, double oy, double oz, ModelAxis axis, double angle, double rx, double ry, double rz, int t, int tx, int ty, double bx, double by, double bz)复制代码(因为之前已经翻译过 并且这里是更加详细的介绍 所以提供参数原文注释)double x: x dimension of the boxdouble y: y dimension of the boxdouble z: z dimension of the boxdouble ox: x offset of the boxdouble oy: y offset of the boxdouble oz: z offset of the boxModelAxis axis: axis to rotate the boxdouble angle: angle to rotate the box, would snap to increment of 22.5 degreedouble rx: x origin of rotationdouble ry: y origin of rotationdouble rz: z origin of rotationint t: size of your texture file(must be a square), recommend using powers of 2int tx: x pixel of the texture's cornerint ty: y pixel of the texture's cornerdouble bx (Optional): Assume x as bxdouble by (Optional): Assume y as bydouble bz (Optional): Assume z as bz\n可视化Box为了能够将我们创建的Box可视化，本节将使用BlockBench Box的大小x, y, z 参数控制Box大小，假定我们运行了这个代码:\naddBox(4, 5, 6,...)复制代码那么则会生成这样的:\n理论上，数字可以未负数，来创建一些奇怪的效果addBox(-4, 5, 6,...)复制代码\n\n然而负数是不受支持的，如果使用请自行承担风险。设置Box的偏移\nox, oy, oz parameters参数控制Box的偏移值，假定我们运行如下代码:\naddBox(4, 5, 6, -2, -2.5, -3, ...)复制代码则生成:\n\nBox的中心是原始的(8, 8, 8)如果使用如下代码:\naddBox(4, 5, 6, -4, -5, -6, ...)复制代码则生成:\n你可以的用右手法则来轻松的辨别可视化坐标系方向。\n\n拇指是Y轴，食指是Z轴，以及中指是X轴, 并且每个手指都指向坐标轴的正方向。\n（对 那就是写这个插件和WIKI的作者的手)旋转Boxaxis, angle, rx, ry, rz参数控制Box的旋转使用之前的addBox代码并加上一些新参数:\naddBox(4, 5, 6, -2, -2.5, -3, ModelAxis.z, 22.5, 0, 0, 0, ...)复制代码这将生成:\n坐标轴参数axis设置哪个轴会被旋转。你可能想直到为什么你只可以旋转一个坐标轴，这是因为Minecraft就是这样处理模型。每个Box只可以旋转一次，并且只能是一个轴。\n你可能也注意到了我设置angle未22.5度，这也是另外的Minecraft设计限制，angle只可以未22.5度的倍数。\n现在让我们玄学调参rx ry rz然后看看会发生什么:addBox(4, 5, 6, -2, -2.5, -3, ModelAxis.z, 22.5, -1, 2, -3, ...)复制代码\n\n就像你看到的，旋转的结果几乎一样，但原始旋转值被修改了。这个改变会随着离Box更远更显而易见addBox(4, 5, 6, -2, -2.5, -3, ModelAxis.z, 22.5, 0, -10, 0, ...)复制代码\n设置模型材质(纹理)\nt, tx,ty参数将会适当地设置Box的材质。 其中他们都是整数，并且t值必须大于tx和ty。\n因为现在所用材质文件在BlockBench显示的是64x64, 所以t是64.接下来创建一个玩家的头作为示例\naddBox(8, 8, 8, -4, 0, -4, ModelAxis.x, 0, 0, 0, 0, 64, 0, 0)复制代码\n\n下面是这个材质文件的*放大*图:\ntx和ty是Box材质的左上角，并以这种方式映射。\n强制解析材质bx, by, bz 是可选参数，用来分配材质，无论值是否合适模型都可以。\n用下面这张代码作为一个示例:\naddBox(10, 10, 10, -5, 0, -5, ModelAxis.y, 0, 0, 0, 0, 64, 0, 0, 8, 8, 8)复制代码\n如果你对这节没有任何疑问，那么恭喜你，你已**解了addBox()方法的所有事\n\nOffset类Offset类和名字一样，是一个处理位置偏移和相对位置以及角度的类。构造方法Offset(double x, double y, double z)复制代码\nx, y, z 是位置偏移值，其中1=一格方块=16像素偏移是2个坐标之间的差值\n如果偏移值是(0, 0, 0), 那么就没有偏移。如果偏移是(0, 0, 1), 那么会在z轴正方向上偏移一格。\n\n方法public Location getRelativeLocation(Location point, EulerAngle angle)复制代码 返回一个位置(point) 适用偏移值(offset本身对象)以及角度值(angle)之后的位置Location point: 要偏移的位置。并且将使用pitch和yaw旋转。EulerAngle angle (可选):  使用此值来代替Location的pitch和yaw，并且开启Z轴旋转。\npublic static Offset lerp(Offset start, Offset end, double t)复制代码返回2个偏移值之间的偏移值\nOffset start:起点Offset end: 终点double t: 如果为0 则在起点 如果为1 则在终点，因此0.5就是两点之间中点\n从Part获取OffsetPart是传递给Animation类之间的一个类, 并且是经常使用Offset及其方法的类。你可以用这个方法获得Offset:\nPart.getLocationOffset()复制代码\nQuaternion四元数是一个复数系统的拓展， by爱尔兰数学家William Rowan Hamilton.\n四元数一般是代表形如a+bi+cj+dka+bi+cj+dk的式子，其中a,b,c,d是实数，i,j,k是四元数单位(权值?). 你可以从这了解更多。在计算机图形里面，四元数因能高效且稳定地表示一个物体的旋转而实用，四元数避开了Gimbal Lock旋转矩阵乃至Euler角的问题。幸运的是，四元数在大部分情况只是一个来处理Euler角的组合的工具类，你可以实例化四元数对象，但给盔甲架应用时则需要转回Euler角。创建四元数对象public Quaternion(double w, Vector vec)复制代码double w: 表达式实数部分，或式子a+bi+cj+dk中的aVector vec: 表达式虚数部分，或式子a+bi+cj+dk中的(b,c,d)\n没有初始化对象的时候，使用构造方法创建四元数对象有点复杂，所以你可以使用四元数类中的静态方法:\npublic static Quaternion toQuaternion(EulerAngle e)复制代码EulerAngle e: 将被转换成四元数的Euler角这将返回一个四元数对象\n转换回到EulerAngle(欧拉角)与创建一样，你可以使用静态方法进行转换:\npublic static EulerAngle toEuler(Quaternion q)复制代码Quaternion q: 要被转换的四元数返回Euler角对象，但返回的值可能与初始角不同，但偏差几乎不明显。\n四元数方法\n四元数类又很多方法，但大多数都是四元数的基础操作，下面的2个方法是最实用的。public static EulerAngle combine(EulerAngle origin, EulerAngle delta)复制代码这个方法用来[ruby=combine]计算[/ruby]全局Euler角和[ruby=local]局部[/ruby]EulerAngle之后的值EulerAngle origin: 想被旋转的角EulerAngle delta: Δ角\n为什么这个方**有用l? 看看这段代码:\n\n这段代码将生成一个盔甲架，并且将2个角与Y轴对齐，我为了创建中心立方体而重绘了雕刻的南瓜的材质。\n如果想要以Y轴旋转这个立方体，则添加旋转角度到Y轴代码如下:\n\n最终结果:\n\n非常明显，这不是我们想要的。现在实用四元数来旋转模型：\n\n结果：\n\n非常完美，这才是我们想要做的样子。仅供参考，如果你把2个Euler角颠倒, 你将得到得到之前(添加旋转角到Y轴)的结果:\n\npublic static EulerAngle slerp(EulerAngle a, EulerAngle b, double t)复制代码和Offset类中lerp()方法类似，四元数也有一个明确地方法用来旋转。EulerAngle a: 开始Euler角EulerAngle b: 结束Euler角double t: 0~1之间地数字，0为开始的Euler角，1为结束的Euler角。\n\n\n\n人生第一次搬运插件\n\n\n感觉自己连机翻都不如(x\n\n还是要感谢极光的帮助\n\n如果有错别字和翻译有问题还有排版问题\n\n\n欢迎指出\n\n\n@极光creeper \n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "粘兽",
            "timestamp": 1562485980,
            "txt_content": "我和服务器都哭了"
        },
        {
            "author": "极光creeper",
            "timestamp": 1562487480,
            "txt_content": "wdnmd 为什么清楚可爱的yys这么快\n。。。\n啊不是 我的意思是 太猛......太强了"
        },
        {
            "author": "贺兰兰",
            "timestamp": 1562488920,
            "txt_content": "太带劲了这插件\n纯净服救星233333"
        },
        {
            "author": "wangxinbin",
            "timestamp": 1562491560,
            "txt_content": "这个可以哦！太棒了"
        },
        {
            "author": "诺凡克罗诺",
            "timestamp": 1562493360,
            "txt_content": " 本帖最后由 835937470 于 2019-7-7 17:58 编辑 \n\n表示不是很懂，要是能有个示例的成品包就好了，希望反馈作者\n已经找到示例"
        },
        {
            "author": "黑",
            "timestamp": 1562504160,
            "txt_content": "如果玩家网不好，会不会出现人首分离的情况（"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1562504220,
            "txt_content": "583736449 发表于 2019-7-7 20:56\n如果玩家网不好，会不会出现人首分离的情况（\n按我的理解讲\n玩家移动的每个tick都会交给服务端进行处理\n那么这个tick服务端不处理 应该不会发包给玩家 \n所以每次处理完模型才会把移动数据发给玩家\n如果有插帧渲染当我没说\n\n按作者想法讲\n是会的(在WIKI中有谈到)"
        },
        {
            "author": "1609089074",
            "timestamp": 1562522160,
            "txt_content": "完了两三个月内断断续续的时间一直在写一个这样的插件，没想到这么快就有dalao抢在前面写出来了"
        },
        {
            "author": "Dirito",
            "timestamp": 1562548800,
            "txt_content": "1609089074 发表于 2019-7-8 01:56\n完了两三个月内断断续续的时间一直在写一个这样的插件，没想到这么快就有dalao抢在前面写出来了{:69 ...\n这个插件配置太难了，希望您的可以简单一些"
        },
        {
            "author": "Dirito",
            "timestamp": 1562548860,
            "txt_content": "第一次见这么难配置的插件"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1562548920,
            "txt_content": "灯芯草 发表于 2019-7-8 09:21\n第一次见这么难配置的插件\n这不是插件 是API :D\n当然也是插件 (大雾)\n\n同时掌握美工和编程就好了(x"
        },
        {
            "author": "嘉熙",
            "timestamp": 1562560140,
            "txt_content": "惊了，简直是mm作者福音"
        },
        {
            "author": "秋之夜",
            "timestamp": 1562565180,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "诺凡克罗诺",
            "timestamp": 1562590200,
            "txt_content": "用盔甲架做的吧，略卡~"
        },
        {
            "author": "RMBQAQ",
            "timestamp": 1562819880,
            "txt_content": "太棒了这个感谢大佬"
        },
        {
            "author": "404565377",
            "timestamp": 1562832420,
            "txt_content": "这插件对服务器极不友好(服务端伪渲染)，我和我的服务器哭了"
        },
        {
            "author": "Player3",
            "timestamp": 1562840460,
            "txt_content": "又有一个要研究的东西了"
        },
        {
            "author": "玉叶金柯",
            "timestamp": 1563051240,
            "txt_content": "不错，这个插件很不错但是低配服务器应该带不起来"
        },
        {
            "author": "秋果86",
            "timestamp": 1564982400,
            "txt_content": "好厉害的样子"
        },
        {
            "author": "FFF!!!",
            "timestamp": 1582592760,
            "txt_content": "请问能不能给个实例..看着帖子完全搞不来QAQ"
        },
        {
            "author": "FFF!!!",
            "timestamp": 1582592940,
            "txt_content": "无邪。 发表于 2019-7-7 17:56\n表示不是很懂，要是能有个示例的成品包就好了，希望反馈作者\n已经找到示例\n ...\n大佬能给个实例嘛1155"
        },
        {
            "author": "391755610",
            "timestamp": 1582594620,
            "txt_content": "感谢楼主,非常好用的插件"
        },
        {
            "author": "我是懒人啊",
            "timestamp": 1582664460,
            "txt_content": "楼主接定做么 雾"
        },
        {
            "author": "紫菜酱",
            "timestamp": 1582808460,
            "txt_content": "这个插件真心好用！！！给作者赞"
        },
        {
            "author": "QAQQAQ123",
            "timestamp": 1582824300,
            "txt_content": "装上后玩家卡崩了emmm"
        },
        {
            "author": "zhaoyang136",
            "timestamp": 1583307480,
            "txt_content": "666 挺不错的！服务器用下来挺好的 很舒服 大佬牛P！！！！"
        },
        {
            "author": "麻烦论坛",
            "timestamp": 1583826360,
            "txt_content": "大佬这个模型是套用盔甲架的吗？"
        },
        {
            "author": "凉凉丶",
            "timestamp": 1588059900,
            "txt_content": "emm，看了一下写法，在操作的时候发现DamgeableItem和Model.y会报红....（spigot用的1.14.4），很奇怪的说"
        },
        {
            "author": "ting20686197",
            "timestamp": 1595577600,
            "txt_content": " 本帖最后由 ting20686197 于 2020-7-24 16:23 编辑 \n\n我用干净的spigot1.13.2会让demo model变成一堆钻锄，有大佬能支援一下么?\n\n\n刚刚重启了一次伺服器，钻锄不见了，换成一个盔甲架在我头顶上闪……\n\n\n钻锄又回来啦……\n"
        },
        {
            "author": "ting20686197",
            "timestamp": 1598500920,
            "txt_content": "后台跳了报错，有人能帮忙看一下么\n\n[11:55:00 INFO]: Changes were detected in the Resource Pack, so it has been rebuilt.\n[11:55:03 WARN]: CSS error: 'https://nodecraft.com/assets/css/chunks/about~blog~community~contact~pricing~status~support-90e1b3949927d7bc.css' [3:10] Error in style rule. (Invalid token \"-\". Was expecting one of: <EOF>, <S>, <IDENT>, \"}\", \";\", \"*\".)\n[11:55:03 WARN]: CSS warning: 'https://nodecraft.com/assets/css/chunks/about~blog~community~contact~pricing~status~support-90e1b3949927d7bc.css' [3:10] Ignoring the following declarations in this rule.\n[11:55:03 WARN]: CSS error: 'https://nodecraft.com/assets/css/chunks/articles-90e1b3949927d7bc.css' [3:10] Error in style rule. (Invalid token \"-\". Was expecting one of: <EOF>, <S>, <IDENT>, \"}\", \";\", \"*\".)\n[11:55:03 WARN]: CSS warning: 'https://nodecraft.com/assets/css/chunks/articles-90e1b3949927d7bc.css' [3:10] Ignoring the following declarations in this rule.\n[11:55:03 WARN]: CSS error: 'https://www.youtube.com/s/player/eecb0f1e/www-player-webp.css' [1:99672] Error in declaration. '*' is not allowed as first char of a property.\n[11:55:03 WARN]: CSS error: 'https://www.youtube.com/s/player/eecb0f1e/www-player-webp.css' [1:304272] Invalid color \"#000000e6\".\n[11:55:03 WARN]: [AdditionsAPI] Task #2 for AdditionsAPI v1.3.3 generated an exception\norg.openqa.selenium.NoSuchElementException: Unable to locate element with name: resourcepack\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'DESKTOP-FKG73J5', ip: '192.168.236.1', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_261'\nDriver info: driver.version: HtmlUnitDriver\n        at org.openqa.selenium.htmlunit.HtmlUnitDriver.findElementByName(HtmlUnitDriver.java:1325) ~[?:?]\n        at org.openqa.selenium.By$ByName.findElement(By.java:284) ~[?:?]\n        at org.openqa.selenium.htmlunit.HtmlUnitDriver$4.call(HtmlUnitDriver.java:2005) ~[?:?]\n        at org.openqa.selenium.htmlunit.HtmlUnitDriver$4.call(HtmlUnitDriver.java:2001) ~[?:?]\n        at org.openqa.selenium.htmlunit.HtmlUnitDriver.implicitlyWaitFor(HtmlUnitDriver.java:1627) ~[?:?]\n        at org.openqa.selenium.htmlunit.HtmlUnitDriver.findElement(HtmlUnitDriver.java:2001) ~[?:?]\n        at org.openqa.selenium.htmlunit.HtmlUnitDriver.findElement(HtmlUnitDriver.java:778) ~[?:?]\n        at me.benfah.cu.init.impl.MinePackInitializationMethod.uploadResourcePack(MinePackInitializationMethod.java:29) ~[?:?]\n        at us.fihgu.toolbox.resourcepack.ResourcePackServer.startServer(ResourcePackServer.java:57) ~[?:?]\n        at com.chrismin13.additionsapi.AdditionsAPI.setupHTTPServer(AdditionsAPI.java:193) ~[?:?]\n        at com.chrismin13.additionsapi.AdditionsAPI.load(AdditionsAPI.java:216) ~[?:?]\n        at com.chrismin13.additionsapi.AdditionsAPI.lambda$onEnable$0(AdditionsAPI.java:178) ~[?:?]\n        at org.bukkit.craftbukkit.v1_13_R2.scheduler.CraftTask.run(CraftTask.java:81) ~[spigot-1.13.2.jar:git-Spigot-1a3504a-84f3da3]\n        at org.bukkit.craftbukkit.v1_13_R2.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:392) [spigot-1.13.2.jar:git-Spigot-1a3504a-84f3da3]\n        at net.minecraft.server.v1_13_R2.MinecraftServer.b(MinecraftServer.java:889) [spigot-1.13.2.jar:git-Spigot-1a3504a-84f3da3]\n        at net.minecraft.server.v1_13_R2.DedicatedServer.b(DedicatedServer.java:417) [spigot-1.13.2.jar:git-Spigot-1a3504a-84f3da3]\n        at net.minecraft.server.v1_13_R2.MinecraftServer.a(MinecraftServer.java:831) [spigot-1.13.2.jar:git-Spigot-1a3504a-84f3da3]\n        at net.minecraft.server.v1_13_R2.MinecraftServer.run(MinecraftServer.java:729) [spigot-1.13.2.jar:git-Spigot-1a3504a-84f3da3]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1598501040,
            "txt_content": "ting20686197 发表于 2020-8-27 12:02\n后台跳了报错，有人能帮忙看一下么\n\n[11:55:00 INFO]: Changes were detected in the Resource Pack, so it ...\n你可以去问答版提问看看\n或者找原作者提问\n\n可能是资源包问题（？)"
        }
    ]
}