{
    "title": "[已解决]如何临时给玩家某个权限/临时给玩家ESS喊话权限",
    "author": "小烦",
    "replyCount": 1,
    "timestamp": 1471169160,
    "txt_content": " 本帖最后由 小烦 于 2016-8-18 21:05 编辑 \n\n比如玩家执行指令pershout后，临时给予玩家 essentials.chat.shout\n然后把sender转为player 控制玩家喊话。\n（不要暂时设置op，那样聊天会红名，虽然也可以修改opid颜色 不过不是个好法）\n具体代码如下\nif (cmd.getName().equalsIgnoreCase(\"pershout\"))\n{\nif (!(sender instanceof Player)) {\nsender.sendMessage(ChatColor.RED + \"后台禁止使用此指令！\");\nreturn true;\n}\nPlayer p = (Player)sender;\np.chat('!' + ChatColor.translateAlternateColorCodes('&', arrayToString(args, 0, false)));\nreturn true;\n}复制代码\n谢谢各位大大",
    "replies": [
        {
            "author": "TimmyOVO",
            "timestamp": 1471181160,
            "txt_content": " 本帖最后由 星燚 于 2016-8-14 23:23 编辑 \nplayerAdd(String world, org.bukkit.OfflinePlayer player, String permission)\nAdd permission to a player.\n参见vault内的Permission类，调用上述方法给玩家权限\n执行后调用这个方法再进行移除权限\nplayerRemove(String world,\n                              String player,\n                              String permission)这样嫌烦的话最简单就可以这样player.setOp(true)\nplayer.chat(\"/help\")//举个梨子，这里替换成要执行的代码\nplayer.setOp(false)\n"
        }
    ]
}