{
    "title": "关于PVP中检测玩家是否死亡的问题",
    "author": "神马",
    "replyCount": 6,
    "timestamp": 1501339500,
    "txt_content": "在PVP地图中，分成两支队伍，战斗后一方成员全部死亡，请问该如何检测该方成员全部死亡，并宣布另一方获胜呢？求教\n假如限定每人有几条命，那又如何在失去全部命数后判定死亡？求教~~~~~~~~",
    "replies": [
        {
            "author": "q1a2g3",
            "timestamp": 1501339500,
            "txt_content": "第一个问题\n使用team应该可以达到你的要求\n两方玩家分别加入两个队伍\n使用deathCount判据新建一个计分板\n将分数为一的人移出队伍\n两个循环型命令方块\n第一个/testfor @a[team=第一个队伍名字]//检测不到说明第二队赢了\n第二个/testfor @a[team=第二个队伍名字]//检测不到说明第一队赢了\n均用比较器输出\n连接非门\n第一个最后输出第二个队伍获胜\n第二个最后输出第一个队伍获胜\n\n第二个问题\n新建一个判据为deathCount的计分板\n新建一个判据为dummy的计分板\n当玩家deathCount计分板分数为一时\n将其dummy计分板分数加1\n同时其deathCount重置\n循环型命令方块/testfor @a[score_你的dummy计分板_min=允许复活的最大生命数]\n比较器输出\n连续执行\n移出队伍\n重置其所有分数\n输出其死亡\n后续指令\n\n===end==="
        },
        {
            "author": "jimmy1234",
            "timestamp": 1501401780,
            "txt_content": "分成两支队伍分别为A队和B队\n/scoreboard teams add A\n/scoreboard teams add B\n然后我们得确定人数\n生成两个积分板来分别统计两队人数\nscoreboard objectives add A dummy\nscoreboard objectives add B dummy\n生成一个盔甲架来探测人数\nsummon armor_stand ~ ~ ~ {Tags:[\"X\"]}\n设置初始值\nscoreboard players set @e[tag=X] A 0\nscoreboard players set @e[tag=X] B 0\n探测\nexecute @e[tag=X] ~ ~ ~ testfor @a[team=A]\nstats entity @e[tag=X] set AffectedEntities @e[tag=X] A\n/stats entity @e[tag=X] clear AffectedEntitie\nexecute @e[tag=X] ~ ~ ~ testfor @a[team=B]\nstats entity @e[tag=X] set AffectedEntities @e[tag=X] B\n/stats entity @e[tag=X] clear AffectedEntitie\n然后生成一个积分板来统计玩家死亡数\nscoreboard objectives add die stat.deaths\n以下命令按顺序高频执行\n当A队玩家死一次就减少A数值1\nexecute @e[score_die_min=1,team=A] ~ ~ ~ scoreboard players remove @e[tag=X] A 1\n当B队玩家死一次就减少B数值1\nexecute @e[score_die_min=1,team=B] ~ ~ ~ scoreboard players remove @e[tag=X] B 1\n重置\nscoreboard players set @e[score_die_min=1] die 0\n\n当A为0时判定B队伍获胜\nexecute @e[score_A_min=0,socre_A=0] ~ ~ ~ say B队伍获胜\n当B为0时判定A队伍获胜\nexecute @e[score_B_min=0,socre_B=0] ~ ~ ~ say A队伍获胜\n\n如果有很多条命？\n比如有3条\n那么,这就相当于 人数x3\n先创建一个积分板\n/scoreboard objectives add z dummy\n使tag=X的z设置为3\nscoreboard players set 3\nA和B都分别乘以z\n/scoreboard players operation @e[tag=X] A *= @e[tag=X] z\n/scoreboard players operation @e[tag=X] B *= @e[tag=X] z\n\n这样就好了awa\n\n并没有进行测试,出错了.....再说A.A\n"
        },
        {
            "author": "神马",
            "timestamp": 1501408920,
            "txt_content": "jimmy1234 发表于 2017-7-30 16:03\n分成两支队伍分别为A队和B队\n/scoreboard teams add A\n/scoreboard teams add B\n好的。。。。谢谢。。。。QAQ"
        },
        {
            "author": "神马",
            "timestamp": 1501408980,
            "txt_content": "q1a2g3 发表于 2017-7-30 16:42\n第一个问题\n使用team应该可以达到你的要求\n两方玩家分别加入两个队伍\n啊啊啊谢谢谢，这个我一下就明白了！！最佳答案无误~~谢谢谢谢233"
        },
        {
            "author": "jimmy1234",
            "timestamp": 1501415040,
            "txt_content": "诶诶诶？我回答的时候没看到有人回答过"
        },
        {
            "author": "神马",
            "timestamp": 1501489440,
            "txt_content": "jimmy1234 发表于 2017-7-30 19:44\n诶诶诶？我回答的时候没看到有人回答过\n2333加油啦↖(^ω^)↗"
        }
    ]
}