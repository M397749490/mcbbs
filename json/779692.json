{
    "title": "[Sponge插件]如何知道玩家当前点击格子slot为多少|如何关闭inventory[Inventory]",
    "author": "阴阳师元素祭祀",
    "replyCount": 6,
    "timestamp": 1517915760,
    "txt_content": " 本帖最后由 阴阳师元素祭祀 于 2018-2-6 19:22 编辑 \n\n代码在下面(我的gui监听点击事件的类)\n    private class PlayerProfileListener {\n        private final Player p;\n\n        private PlayerProfileListener(Player p) {\n            this.p = p;\n        }\n\n        private void fireClickEvent(ClickInventoryEvent e) {\n            e.setCancelled(true);\n            e.getCursorTransaction().getFinal().createStack().get(Keys.DISPLAY_NAME).ifPresent(text -> {\n                if (text.toString().contains(\"关闭\")) {\n                    p.closeInventory(Cause.source(plugin).build());\n                }\n            });\n        }\n    }复制代码private class PlayerProfileListener {\n    private final Player p;\n\n    private PlayerProfileListener(Player p) {\n        this.p = p;\n    }\n\n    private void fireClickEvent(ClickInventoryEvent e) {\n        e.setCancelled(true);\n        e.getCursorTransaction().getFinal().createStack().get(Keys.DISPLAY_NAME).ifPresent(text -> {\n            if (text.toString().contains(\"关闭\")) {\n                p.closeInventory(Cause.source(plugin).build());\n            }\n        });\n    }\n}\n\n↑我已经确信text.toString().contains(\"关闭\")返回值为true(之前System.out.println看了的) 但是点了我的gui的关闭按钮后并没有关闭gui 谁知道为什么qwq\n\n以及如何知道当前点击格子为当前gui的第几格 要不然我只会判断物品名来判断了.......\n#直接丢关键的代码 或者这样ClickInventoryEvent#getClickSlotID  //当然这肯定是不存在的方法\nhelp\n@ustc_zzzz  \n",
    "replies": [
        {
            "author": "GiNYAi",
            "timestamp": 1517987280,
            "txt_content": "https://ustc-zzzz.net/sponge-api ... brief-introduction/\nzzzz的教程\n\n自己尝试写的 界面正确的关闭了，不知道你那个哪里有问题\n    @Listener\n    public void onClickInv(ClickInventoryEvent event,@root Player player){\n        player.closeInventory(Cause.source(this).build());\n    }复制代码\n另外你也可以尝试使用这个\nhttp://www.mcbbs.net/thread-773072-1-1.html"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1517996880,
            "txt_content": "GiNYAi 发表于 2018-2-7 15:08\nhttps://ustc-zzzz.net/sponge-api ... brief-introduction/\nzzzz的教程\nemmmmm 反正我也不知道为什么\n图片丢osu群了【别问我为什么编程的图在osu群\n\n然后你知道如何修改玩家头顶显示的名字么\np.offer(Keys.DISPLAY_NAME, Text)好像没用啊"
        },
        {
            "author": "3TUSK",
            "timestamp": 1518024540,
            "txt_content": "阴阳师元素祭祀 发表于 2018-2-7 17:48\nemmmmm 反正我也不知道为什么\n图片丢osu群了【别问我为什么编程的图在osu群\nhttps://docs.spongepowered.org/s ... ties/modifying.html\n\n这份文档里提到了两种方式，要不要都试试？"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1518064980,
            "txt_content": "u.s.knowledge 发表于 2018-2-8 01:29\nhttps://docs.spongepowered.org/stable/zh-CN/plugin/entities/modifying.html\n\n这份文档里提到了两种方 ...\n好像都没用\nplayer.get(DisplayNameDate.class).get().XXXXXXXXXXXXXXXXXXXX\n来修改也没任何改变#后台还不丢个报错"
        },
        {
            "author": "3TUSK",
            "timestamp": 1518068340,
            "txt_content": "阴阳师元素祭祀 发表于 2018-2-8 12:43\n好像都没用\nplayer.get(DisplayNameDate.class).get().XXXXXXXXXXXXXXXXXXXX\n来修改也没任何改变#后台还 ...\n根据可靠消息，是因为玩家本来就不能这么操作：https://github.com/SpongePowered ... Processor.java#L127"
        },
        {
            "author": "T7-xin",
            "timestamp": 1519681560,
            "txt_content": "哇原来版主大大你也不知道啊( ?° ?? ?°)?"
        }
    ]
}