{
    "title": "authme无法连接数据库",
    "author": "YinDang",
    "replyCount": 8,
    "timestamp": 1594818900,
    "txt_content": "[21:14:42 WARN]: [Server thread] INFO fr.xephi.authme.libs.com.zaxxer.hikari.HikariDataSource - AuthMeMYSQLPool - Starting...\n[21:14:43 WARN]: [Server thread] ERROR fr.xephi.authme.libs.com.zaxxer.hikari.pool.HikariPool - AuthMeMYSQLPool - Exception during pool initialization.\n[21:14:43 WARN]: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n[21:14:43 WARN]:\n[21:14:43 WARN]: The last packet successfully received from the server was 306 milliseconds ago.  The last packet sent successfully to the server was 299 milliseconds ago.\n[21:14:43 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[21:14:43 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[21:14:43 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[21:14:43 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[21:14:43 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[21:14:43 WARN]:        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\n[21:14:43 WARN]:        at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:203)\n[21:14:43 WARN]:        at com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:4901)\n[21:14:43 WARN]:        at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1659)\n[21:14:43 WARN]:        at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1226)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2188)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2219)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2014)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:776)\n[21:14:43 WARN]:        at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)\n[21:14:43 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[21:14:43 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[21:14:43 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[21:14:43 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[21:14:43 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)\n[21:14:43 WARN]:        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:353)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:562)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n[21:14:43 WARN]:        at fr.xephi.authme.datasource.MySQL.getConnection(MySQL.java:167)\n[21:14:43 WARN]:        at fr.xephi.authme.datasource.MySQL.checkTablesAndColumns(MySQL.java:175)\n[21:14:43 WARN]:        at fr.xephi.authme.datasource.MySQL.<init>(MySQL.java:76)\n[21:14:43 WARN]:        at fr.xephi.authme.initialization.DataSourceProvider.createDataSource(DataSourceProvider.java:67)\n[21:14:43 WARN]:        at fr.xephi.authme.initialization.DataSourceProvider.get(DataSourceProvider.java:49)\n[21:14:43 WARN]:        at fr.xephi.authme.initialization.DataSourceProvider.get(DataSourceProvider.java:25)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.ch.jalu.injector.handlers.instantiation.ProviderHandler$InstantiationByProviderClass.instantiateWith(ProviderHandler.java:129)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.ch.jalu.injector.InjectorImpl.resolveContext(InjectorImpl.java:164)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.ch.jalu.injector.InjectorImpl.resolve(InjectorImpl.java:133)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.ch.jalu.injector.InjectorImpl.getSingleton(InjectorImpl.java:72)\n[21:14:43 WARN]:        at fr.xephi.authme.AuthMe.instantiateServices(AuthMe.java:251)\n[21:14:43 WARN]:        at fr.xephi.authme.AuthMe.initialize(AuthMe.java:227)\n[21:14:43 WARN]:        at fr.xephi.authme.AuthMe.onEnable(AuthMe.java:146)\n[21:14:43 WARN]:        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264)\n[21:14:43 WARN]:        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:316)\n[21:14:43 WARN]:        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:405)\n[21:14:43 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:395)\n[21:14:43 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:344)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.t(MinecraftServer.java:442)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.l(MinecraftServer.java:403)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.a(MinecraftServer.java:341)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:289)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:616)\n[21:14:43 WARN]:        at java.lang.Thread.run(Unknown Source)\n[21:14:43 WARN]: Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\n[21:14:43 WARN]:        at sun.security.ssl.Alerts.getSSLException(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.Handshaker.processLoop(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.Handshaker.process_record(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n[21:14:43 WARN]:        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n[21:14:43 WARN]:        at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:188)\n[21:14:43 WARN]:        ... 46 more\n[21:14:43 WARN]: Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\n[21:14:43 WARN]:        at com.mysql.jdbc.ExportControlled$X509TrustManagerWrapper.checkServerTrusted(ExportControlled.java:304)\n[21:14:43 WARN]:        at sun.security.ssl.AbstractTrustManagerWrapper.checkServerTrusted(Unknown Source)\n[21:14:43 WARN]:        ... 55 more\n[21:14:43 WARN]: Caused by: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\n[21:14:43 WARN]:        at sun.security.provider.certpath.PKIXCertPathValidator.validate(Unknown Source)\n[21:14:43 WARN]:        at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(Unknown Source)\n[21:14:43 WARN]:        at java.security.cert.CertPathValidator.validate(Unknown Source)\n[21:14:43 WARN]:        at com.mysql.jdbc.ExportControlled$X509TrustManagerWrapper.checkServerTrusted(ExportControlled.java:297)\n[21:14:43 WARN]:        ... 56 more\n[21:14:43 WARN]: [AuthMe] Can't initialize the MySQL database: [CommunicationsException]: Communications link failure\n\nThe last packet successfully received from the server was 306 milliseconds ago.  The last packet sent successfully to the server was 299 milliseconds ago.\n[21:14:43 WARN]: [AuthMe] Please check your database settings in the config.yml file!\n[21:14:43 WARN]: [AuthMe] Could not create data source: [CommunicationsException]: Communications link failure\n\nThe last packet successfully received from the server was 306 milliseconds ago.  The last packet sent successfully to the server was 299 milliseconds ago.\n[21:14:43 WARN]: [AuthMe] Aborting initialization of AuthMe: [IllegalStateException]: Error during initialization of data source\n[21:14:43 WARN]: java.lang.IllegalStateException: Error during initialization of data source\n[21:14:43 WARN]:        at fr.xephi.authme.initialization.DataSourceProvider.get(DataSourceProvider.java:52)\n[21:14:43 WARN]:        at fr.xephi.authme.initialization.DataSourceProvider.get(DataSourceProvider.java:25)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.ch.jalu.injector.handlers.instantiation.ProviderHandler$InstantiationByProviderClass.instantiateWith(ProviderHandler.java:129)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.ch.jalu.injector.InjectorImpl.resolveContext(InjectorImpl.java:164)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.ch.jalu.injector.InjectorImpl.resolve(InjectorImpl.java:133)\n[21:14:43 WARN]:        at fr.xephi.authme.libs.ch.jalu.injector.InjectorImpl.getSingleton(InjectorImpl.java:72)\n[21:14:43 WARN]:        at fr.xephi.authme.AuthMe.instantiateServices(AuthMe.java:251)\n[21:14:43 WARN]:        at fr.xephi.authme.AuthMe.initialize(AuthMe.java:227)\n[21:14:43 WARN]:        at fr.xephi.authme.AuthMe.onEnable(AuthMe.java:146)\n[21:14:43 WARN]:        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264)\n[21:14:43 WARN]:        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:316)\n[21:14:43 WARN]:        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:405)\n[21:14:43 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:395)\n[21:14:43 WARN]:        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:344)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.t(MinecraftServer.java:442)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.l(MinecraftServer.java:403)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.a(MinecraftServer.java:341)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:289)\n[21:14:43 WARN]:        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:616)\n[21:14:43 WARN]:        at java.lang.Thread.run(Unknown Source)\n[21:14:43 WARN]: Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n[21:14:43 WARN]:\n[21:14:43 WARN]: The last packet successfully received from the server was 306 milliseconds ago.  The last packet sent successfully to the server was 299 milliseconds ago.\n[21:14:43 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[21:14:43 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[21:14:43 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[21:14:43 WARN]:        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[21:14:43 WARN]:        at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[21:14:43 WARN]:        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\n[21:14:43 WARN]:        at com.mysql.jdbc.ExportControlled.transformSocketToSSLSocket(ExportControlled.java:203)\n[21:14:43 WARN]:        at com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:4901)\n[21:14:43 WARN]:        at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1659)\n[21:14:43 WARN]:        at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1226)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2188)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2219)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2014)\n[21:14:43 WARN]:        at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:776)\n[21:14:43 WARN]:        at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)\n[21:14:43 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[21:14:43 WARN]:        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[21:14:43 WARN]:        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n> [21:14:43 WARN]:      at java.lang.reflect.Constructor.newInstance(Unknown Source)\n\n\n",
    "replies": [
        {
            "author": "wjwrh",
            "timestamp": 1594818900,
            "txt_content": "YinDang 发表于 2020-7-15 21:32\n可以了 连接成功了 可是关闭这两个 不会有什么安全隐患吗 我用的是bc\n问题不大 你mysql在本地\n别人也连不进去"
        },
        {
            "author": "wjwrh",
            "timestamp": 1594818960,
            "txt_content": "仔细检查一下用户名 密码 端口是否填写正确\n以及mysql中是否已经预先存在指定的数据库"
        },
        {
            "author": "YinDang",
            "timestamp": 1594819140,
            "txt_content": "wjwrh 发表于 2020-7-15 21:16\n仔细检查一下用户名 密码 端口是否填写正确\n以及mysql中是否已经预先存在指定的数据库 ...\nDataSource:\n    # What type of database do you want to use?\n    # Valid values: SQLITE, MYSQL, POSTGRESQL\n    backend: MYSQL\n    # Enable the database caching system, should be disabled on bungeecord environments\n    # or when a website integration is being used.\n    caching: false\n    # Database host address\n    mySQLHost: 127.0.0.1\n    # Database port\n    mySQLPort: '3306'\n    # Connect to MySQL database over SSL\n    mySQLUseSSL: true\n    # Verification of server's certificate.\n    # We would not recommend to set this option to false.\n    # Set this option to false at your own risk if and only if you know what you're doing\n    mySQLCheckServerCertificate: true\n    # Username to connect to the MySQL database\n    mySQLUsername: root\n    # Password to connect to the MySQL database\n    mySQLPassword: 'root'\n    # Database Name, use with converters or as SQLITE database name\n    mySQLDatabase: authme\n    # Table of the database\n    mySQLTablename: authme\n    # Column of IDs to sort data\n\n\n数据库那边已经创建一个叫authme的库了"
        },
        {
            "author": "wjwrh",
            "timestamp": 1594819200,
            "txt_content": "YinDang 发表于 2020-7-15 21:19\nDataSource:\n    # What type of database do you want to use?\n    # Valid values: SQLITE, MYSQL, POS ...\n确定用户名和密码都是root...?\n以及数据库是否开放在3306端口"
        },
        {
            "author": "YinDang",
            "timestamp": 1594819380,
            "txt_content": "wjwrh 发表于 2020-7-15 21:20\n确定用户名和密码都是root...?\n以及数据库是否开放在3306端口\n是的 连接成功过了 其他插件连接mysql没有问题"
        },
        {
            "author": "wjwrh",
            "timestamp": 1594819620,
            "txt_content": "YinDang 发表于 2020-7-15 21:19\nDataSource:\n    # What type of database do you want to use?\n    # Valid values: SQLITE, MYSQL, POS ...\n尝试把\n  mySQLUseSSL: true\n  mySQLCheckServerCertificate: true\n设为false试试呢"
        },
        {
            "author": "YinDang",
            "timestamp": 1594819920,
            "txt_content": "wjwrh 发表于 2020-7-15 21:27\n尝试把\n  mySQLUseSSL: true\n  mySQLCheckServerCertificate: true\n\n可以了 连接成功了 可是关闭这两个 不会有什么安全隐患吗 我用的是bc"
        },
        {
            "author": "龙吟y",
            "timestamp": 1594823040,
            "txt_content": "id和密码输入对了吗"
        }
    ]
}