{
    "title": "服务器TPS个位数问题",
    "author": "IceServer",
    "replyCount": 8,
    "timestamp": 1566480720,
    "txt_content": "情况是这样的，我有一个1.12.2版本的mod服，开服有一段时间了，TPS很低（个位数波动），玩家也反馈服务器很卡（比如吃东西半天都吃不了等等），尝试了很多方法，均无效，以下是服务器详细信息：\nMOD:\n\n\n\n\nQQ截图20190822211656.png (98.54 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-22 21:18 上传\n\n\n\n\n\n\n\n\nQQ截图20190822211709.png (92.58 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-22 21:18 上传\n\n\n\n\n\n\n\n\nQQ截图20190822211718.png (35.15 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-22 21:18 上传\n\n\n\n\n\n\n插件:\n\n\n\n\n\nQQ截图20190822212120.png (9.98 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-22 21:21 上传\n\n\n\n\n\n使用率：\n\n\n\n\n\nQQ截图20190822212708.png (74.11 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-22 21:27 上传\n\n\n\n\n\n\n\n\n\n\n\nQQ截图20190822213059.png (70.48 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-22 21:31 上传\n\n\n\n\n\n启动参数:\n\"/root/Desktop/jdk8u212-b04-jre/bin/java\" -server -Xmx8192M -Xms8192M -Xgcpolicy:metronome -Xtune:virtualized -Dfml.queryResult=confirm -Dfml.ignoreInvalidMinecraftCertificatificates=true -Dfml.ignorePatchDiscrepancies=true -javaagent:authlib-injector-1.1.26-41a7a47.jar=https://skin.ripplecraft.cn/api/yggdrasil -jar CatServer.jar(注：我服用的是外置登录)\nTimings报告：https://timings.spigotmc.org/?url=ozigehutip\n服务器配置：双Xeon X5680,物理内存52G\n服务端是运行在这个主机上的虚拟机上的\n服务端是CatServerPro\n我想知道的是，我现在问题是主要出在哪，并且怎么解决，谢谢！\n\n\n",
    "replies": [
        {
            "author": "QuantumCraft",
            "timestamp": 1566480720,
            "txt_content": "你可能是正版加速火把的受害者"
        },
        {
            "author": "Xiaoxinzhi",
            "timestamp": 1566481140,
            "txt_content": "推荐阅读：\nhttps://www.mcbbs.net/thread-809680-1-1.html\nhttps://www.mcbbs.net/thread-478126-1-1.html\n原因可能是：有些模组服务器并不需要安装比如 JEI背包编辑器、环境音效(我觉得没什么用，就是听声音).\n还有主世界玩家跑图。"
        },
        {
            "author": "IceServer",
            "timestamp": 1566482460,
            "txt_content": "Xiaoxinzhi 发表于 2019-8-22 21:39\n推荐阅读：\nhttps://www.mcbbs.net/thread-809680-1-1.html\nhttps://www.mcbbs.net/thread-478126-1-1.html ...\n对于你说的那两个mod不加，已经试过，影响不大，基本可以排除，然后玩家跑图确实是一个问题，我刚刚让玩家停止跑图，但看tps也只是从个位数恢复到了13左右波动"
        },
        {
            "author": "Xiaoxinzhi",
            "timestamp": 1566482760,
            "txt_content": " 本帖最后由 Xiaoxinzhi 于 2019-8-22 22:07 编辑 \nIceServer 发表于 2019-8-22 22:01\n对于你说的那两个mod不加，已经试过，影响不大，基本可以排除，然后玩家跑图确实是一个问题，我刚刚让玩 ...\n按教程帖优化吧。视距降低点...4-6范围看看\n如果服务器都是0玩家，TPS还在18以下可能就是服务器性能问题了。"
        },
        {
            "author": "IceServer",
            "timestamp": 1566482820,
            "txt_content": "Xiaoxinzhi 发表于 2019-8-22 22:06\n按教程帖优化吧。\n如果服务器都是0玩家，TPS还在18以下可能就是服务器性能问题了。 ...\nhttps://www.spigotmc.org/go/timings?url=dehoxifeyu，这是可以确定在没有玩家跑图情况下的timings，测试时间十分钟左右"
        },
        {
            "author": "IceServer",
            "timestamp": 1566482940,
            "txt_content": "Xiaoxinzhi 发表于 2019-8-22 22:06\n按教程帖优化吧。视距降低点...4-6范围看看\n如果服务器都是0玩家，TPS还在18以下可能就是服务器性能问题了 ...\n我已经按照教程贴优化过了，之前，这个帖子我是看过的"
        },
        {
            "author": "Back_Wheel",
            "timestamp": 1566484020,
            "txt_content": "由于Mojang当初制作mc是用单线程，导致服务器一直无法用到多线程。你可以尝试用bc端分流，让每个子服的玩家保持均衡，这样才能更好你用服务器的多个核心，能够有效提升TPS"
        },
        {
            "author": "IceServer",
            "timestamp": 1566484140,
            "txt_content": "好了，QuantumCraft大佬已经让我找到了问题所在，就是加速火把导致的，拆掉加速火把之后服务器TPS成功恢复到了19.11"
        }
    ]
}