{
    "title": "能否使指定玩家拥有死亡不掉落？",
    "author": "Jaanai",
    "replyCount": 16,
    "timestamp": 1564481700,
    "txt_content": "RT，没有就算了，有的话求告知，网上是在查不到",
    "replies": [
        {
            "author": "Chelover_C60",
            "timestamp": 1564481700,
            "txt_content": " 本帖最后由 CHElover_C60 于 2019-7-31 22:01 编辑 \n\n我终于知道怎么改Slot了！\n用到了函数，因为需要一个递归结构，否则需要穷举，非常麻烦\n\n建立计分板\nscoreboard objectives add death deathCount\nscoreboard objectives add count dummy复制代码minecraft:loot.mcfunction\nsummon item ~ ~ ~ {Tags:[\"mark\"],Item:{id:\"minecraft:stone\",Count:1},PickupDelay:65535}\ndata modify entity @e[type=item,limit=1,sort=nearest,tag=mark] Item.tag.Inventory prepend from entity @s Inventory[]\n#生成item并将玩家的物品栏内的信息储存进去\n\nsummon chest_minecart\nfunction minecraft:cut\n#生成运输矿车并将最多27个物品转移至矿车内\n\nkill @e[type=chest_minecart,limit=1,sort=nearest]\nscoreboard players reset @s count\n#kill矿车以掉落物品，并重置count分数\n\nexecute if data entity @e[tag=mark,type=item,limit=1,sort=nearest] Item.tag.Inventory[0] run summon chest_minecart\nexecute if data entity @e[tag=mark,type=item,limit=1,sort=nearest] Item.tag.Inventory[0] run function minecraft:cut\nexecute if score @s count matches 0.. run kill @e[type=chest_minecart,limit=1,sort=nearest]\nscoreboard players reset @s count\n#如果仍然有物品未掉落，则重复上述操作\n\nscoreboard players reset @a[scores={death=1..}] death\nkill @e[tag=mark]\nclear @s\n#重置death分数，清除item并清除背包复制代码minecraft:cut.mcfunction\nexecute store result entity @e[type=item,limit=1,sort=nearest] Item.tag.Inventory[0].Slot byte 1 run scoreboard players get @s count\n#获取玩家count分数并保存至一个物品的Slot中，以此修改其在矿车内的存储位置\n\ndata modify entity @e[type=chest_minecart,limit=1,sort=nearest] Items append from entity @e[type=item,limit=1,sort=nearest,tag=mark] Item.tag.Inventory[0]\ndata remove entity @e[type=item,limit=1,sort=nearest,tag=mark] Item.tag.Inventory[0]\n#将该物品的信息从item中转移至矿车中\n\nscoreboard players add @s count 1\nexecute if score @s count matches ..26 run function minecraft:cut\n#若转移次数小于等于26，则继续下一次转移复制代码游戏内循环执行\nexecute as @a[tag=loot,scores={death=1..}] at @s run function minecraft:loot\nscoreboard players reset @a[tag=!loot,scores={death=1..}] death复制代码效果是在keepInventory=true时，所有拥有标签loot的玩家会在死亡时掉落所有物品\n\n\n另外不知楼主是否允许我将其作为一个原版模组发布？\n"
        },
        {
            "author": "mine新时代xs",
            "timestamp": 1564482060,
            "txt_content": "不可以的，死亡不掉落是gamerule命令下设的一个规则参数keepInventory，直译是保存物品栏，就是我们说的死亡不掉落\ngamerule命令是全局的，所以并不能做到这一点\n\n但你可以使用一些mod做到这一点，有些mod提供了保护玩家物品栏内的物品死亡不掉落的物品或附魔"
        },
        {
            "author": "xmdhs",
            "timestamp": 1564482060,
            "txt_content": " 本帖最后由 xmdhs 于 2019-7-30 18:23 编辑 \n\n并不可以，但是你可以设置死亡不掉落，然后某些玩家死亡就清空背包。\n\n能告诉我你是什么版本吗，我好给你写指令\n\n刚才看错版了。。"
        },
        {
            "author": "坑触可",
            "timestamp": 1564482300,
            "txt_content": "并不可以/gamerule keepInventory true复制代码无法指定某个玩家死亡不掉落"
        },
        {
            "author": "Jaanai",
            "timestamp": 1564485060,
            "txt_content": "xmdhs 发表于 2019-7-30 18:21\n并不可以，但是你可以设置死亡不掉落，然后某些玩家死亡就清空背包。\n\n能告诉我你是什么版本吗，我好给你写 ...\n清空？？意思是相当于消失诅咒吗？\n版本是1.14.3"
        },
        {
            "author": "xmdhs",
            "timestamp": 1564485720,
            "txt_content": " 本帖最后由 xmdhs 于 2019-7-30 19:27 编辑 \njccretsehc 发表于 2019-7-30 19:11\n清空？？意思是相当于消失诅咒吗？\n版本是1.14.3\n才发现思路有点问题，物品直接清空了，也就没掉地上了。。\n\n不过 dalao 们肯定有办法。\n\n我这先随便写个玩玩。\n\n创建一个记分板，/scoreboard objectives add s deathCount\n\n然后高频这个指令 execute as @e[scores={s=1}] at @s run clear @s \n\n和这个 execute as @e[scores={s=1}] at @s run scoreboard players reset @s s\n\n不然又会被扣分了"
        },
        {
            "author": "纸月亮",
            "timestamp": 1564495680,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "miaomang",
            "timestamp": 1564497240,
            "txt_content": "gamerule是全局设定 没有单人之说"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1564497360,
            "txt_content": "xmdhs 发表于 2019-7-30 19:22\n才发现思路有点问题，物品直接清空了，也就没掉地上了。。\n\n不过 dalao 们肯定有办法。\n借你的灵感\n\n现在能做到掉落快捷栏和物品栏前两行的物品\n\n命令如下：\n首先建立计分板/scoreboard objectives add death deathCount复制代码\n然后当玩家死亡时，将其物品复制到一个运输矿车中，再kill矿车，就可以掉落物品了。\n以下命令循环执行\n/execute at @a[scores={death=1}] run summon minecraft:chest_minecart\nexecute as @a[scores={death=1..}] at @s run data modify entity @e[type=minecraft:chest_minecart,limit=1,sort=nearest] Items prepend from entity @s Inventory[]\nexecute at @a[scores={death=1..}] run kill @e[type=minecraft:chest_minecart,limit=1,sort=nearest]\nclear @a[scores={death=1..}]\nscoreboard players reset @a[scores={death=1..}] death复制代码但是仍然存在问题，限于矿车、物品栏的Slot的问题，只能掉落快捷栏，以及物品栏的前两行的物品，物品栏第三行、装备栏、副手上的物品会消失。\n\n所以我们还需要一个大佬\nSPG救命！\n\n另外，尝试过loot玩家，不会掉落任何物品"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1564531260,
            "txt_content": "CHElover_C60 发表于 2019-7-30 22:36\n借你的灵感\n\n现在能做到掉落快捷栏和物品栏前两行的物品\n你可以再来一个矿车（跑"
        },
        {
            "author": "甜甜的羊肉",
            "timestamp": 1564537200,
            "txt_content": "没有办法,但是只有一个办法就是个指令是/ban ID"
        },
        {
            "author": "Jaanai",
            "timestamp": 1564540620,
            "txt_content": "甜甜的羊肉 发表于 2019-7-31 09:40\n没有办法,但是只有一个办法就是个指令是/ban ID\n???什么意思"
        },
        {
            "author": "shenren3-f",
            "timestamp": 1564551060,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Nitric_acid",
            "timestamp": 1564618620,
            "txt_content": "找一些插件。"
        },
        {
            "author": "Jaanai",
            "timestamp": 1564656600,
            "txt_content": "CHElover_C60 发表于 2019-7-31 21:22\n我终于知道怎么改Slot了！\n用到了函数，因为需要一个递归结构，否则需要穷举，非常麻烦\n可以的"
        },
        {
            "author": "Jaanai",
            "timestamp": 1564656660,
            "txt_content": "CHElover_C60 发表于 2019-7-31 21:22\n我终于知道怎么改Slot了！\n用到了函数，因为需要一个递归结构，否则需要穷举，非常麻烦\n当然允许发布qwq"
        }
    ]
}