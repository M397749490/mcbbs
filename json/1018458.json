{
    "title": "mca文件格式如何破译？",
    "author": "Y制杖杖",
    "replyCount": 13,
    "timestamp": 1586854620,
    "txt_content": "如题，尝试按照wiki的说法来提取mca文件信息\n我的方法是这样的：\n先去掉前面8kb的头文件\n然后循环：\n读取前四个字节为区块长度（length），忽略第五个字节，接着读取length-1长度的字节作为区块信息\n这样的方法可以正常读取到第一个区块信息，但是第二个区块开始就不行了\n区域文件以 8kB 文件头开头，其中包含了该区域文件所包括的区块信息（最后更新的时间以及方位等）。区块坐标为（x，z）的区块在所在区域中的位置可以按如下方式找到：在区域文件中偏移4 * ((x mod 32) + (z mod 32) * 32) 字节即可。针对于x或z可能为负的情况，在计算其模数后需要以31减去其绝对值。在区块信息之后4096字节为时间戳。文件的剩余部分包含了1024个区块的信息，并以大量的未使用空间点缀其间。 \n根据wiki的说法，区块信息中\"有大量的未使用空间点缀其间\"，该如何处理？\n如果有代码也可以",
    "replies": [
        {
            "author": "66816681",
            "timestamp": 1586854920,
            "txt_content": "试试用zip的方式打开"
        },
        {
            "author": "66816681",
            "timestamp": 1586855040,
            "txt_content": "截个图，看看"
        },
        {
            "author": "Y制杖杖",
            "timestamp": 1586855160,
            "txt_content": "66816681 发表于 2020-4-14 17:02\n试试用zip的方式打开\n没用的，mca是部分zlib压缩"
        },
        {
            "author": "66816681",
            "timestamp": 1586855400,
            "txt_content": "Y制杖杖 发表于 2020-4-14 17:06\n没用的，mca是部分zlib压缩\n链接给我，我试试"
        },
        {
            "author": "Y制杖杖",
            "timestamp": 1586855520,
            "txt_content": "66816681 发表于 2020-4-14 17:10\n链接给我，我试试\n什么链接？wiki吗\nhttps://minecraft.gamepedia.com/Region_file_format"
        },
        {
            "author": "66816681",
            "timestamp": 1586855640,
            "txt_content": "Y制杖杖 发表于 2020-4-14 17:12\n什么链接？wiki吗\nhttps://minecraft.gamepedia.com/Region_file_format\n是的，没毛病"
        },
        {
            "author": "66816681",
            "timestamp": 1586856060,
            "txt_content": "我要了解一下你学这个干什么"
        },
        {
            "author": "Y制杖杖",
            "timestamp": 1586856180,
            "txt_content": "66816681 发表于 2020-4-14 17:21\n我要了解一下你学这个干什么\n将mca文件转化为JNBT格式文本"
        },
        {
            "author": "66816681",
            "timestamp": 1586856360,
            "txt_content": "Y制杖杖 发表于 2020-4-14 17:23\n将mca文件转化为JNBT格式文本\n意思emmmm"
        },
        {
            "author": "Y制杖杖",
            "timestamp": 1586856600,
            "txt_content": "66816681 发表于 2020-4-14 17:26\n意思emmmm\n\n\n\n\nQQ截图20200414172939.png (48.43 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-14 17:29 上传\n\n\n\n\n\n转化成这样的格式\n"
        },
        {
            "author": "66816681",
            "timestamp": 1586856780,
            "txt_content": "已阵亡，我疯了，我去做插件了"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1586907900,
            "txt_content": " 本帖最后由 (=°ω°)丿 于 2020-4-15 18:50 编辑 \n\nmca 用 NBTExplorer 是打得开的。\n\n回答存在错误，已自行删除。"
        },
        {
            "author": "Y制杖杖",
            "timestamp": 1586908560,
            "txt_content": "(=°ω°)丿 发表于 2020-4-15 07:45\nmca 用 NBTExplorer 是打得开的。\n一个 Python 库：\nNBT: Python Parser\n有源码吗，我想要原理\n(为什么我也被划了\n"
        }
    ]
}