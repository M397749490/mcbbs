{
    "title": "Skript 的一些编写问题",
    "author": "TNT8",
    "replyCount": 10,
    "timestamp": 1580484360,
    "txt_content": "我想写个功能，检测玩家在移动的时候如果玩家头上方块为空气，就是在露天的情况\n并且天气是雷暴或者下雨，则会导致玩家被雷劈\n\n\n应该怎么写。\n\n\n\n\n\n",
    "replies": [
        {
            "author": "cc7w",
            "timestamp": 1580484360,
            "txt_content": "TNT8 发表于 2020-2-1 21:06\n不行做不到，我也不知道为什么\n这是使用图，头上有方块，显示循环的数据就是air\n我寻思我的表达式好像没 ...\nloop blocks above the player:\n    set {方块类型} to loop-block\n    if {方块类型} is air:\n        add 0 to {temp}\n    else:\n        add 1 to {temp}\nif {temp} is 0:\n    //Do Something\n有帮助请您在本回复右下角点击设置最佳答案。\n您的认可是对回答者最大的支持！"
        },
        {
            "author": "极光creeper",
            "timestamp": 1580486280,
            "txt_content": "论坛不可能用tab，code复制又预编译吞换行\n所以我就直接用4空格缩进，[ code ]也不用了\n\n首先监听玩家移动是不行的,没有现成事件，所以楼主的效果实现起来太麻烦了\n就算sk语句实现了也会完全卡服，除非你用sk-mirror附属直接用java来写，虽然效率还是很低\n那这样为什么不直接写插件去呢(笑\n\n我们考虑触发器用天气\n但是天气的话只有一个change也就是天气改变的事件触发器\n所以我们存一个变量来确定现在的天气是怎么样的\non weather change to sunny:\n    set {weather} to \"false\"\nelse:\n    set {weather} to \"true\"\n\n接下来由于移动无法监听，我们监听一下跳跃的行为吧\n我只能曲线救国，欢迎其他sk编写者来抽我脸\non jump:\n    if {weather} is \"true\":\n        player's y-coordinate is smaller than 255:\n            loop blocks above the player:\n                loop-block is air:\n                   strike lightning at the player"
        },
        {
            "author": "HotPe_e",
            "timestamp": 1580488020,
            "txt_content": "极光creeper 发表于 2020-1-31 23:58\n论坛不可能用tab，code复制又预编译吞换行\n所以我就直接用4空格缩进，[ code ]也不用了\n\n\n其实这个方法不可行\n貌似skript会误判定只要你头上有一格子 空气\n仍然执行\n\n还有其实skript(本体还是附属)有一个十分苛刻的移动监听 on anymove\n\n233"
        },
        {
            "author": "TNT8",
            "timestamp": 1580527800,
            "txt_content": "极光creeper 发表于 2020-1-31 23:58\n论坛不可能用tab，code复制又预编译吞换行\n所以我就直接用4空格缩进，[ code ]也不用了\n我想问一下，any可以是任何stone 任何wool 任何指定类型\n那它能不能是任何方块呢？ 以所有方块为类型"
        },
        {
            "author": "TNT8",
            "timestamp": 1580529240,
            "txt_content": " 本帖最后由 TNT8 于 2020-2-1 11:56 编辑 \n极光creeper 发表于 2020-1-31 23:58\n论坛不可能用tab，code复制又预编译吞换行\n所以我就直接用4空格缩进，[ code ]也不用了\n大佬帮我看一下这个，循环方块一直显示是Air 怎么破我头上已经用东西挡住了几格，还是会遭雷劈，数据一直是Air\non walking on any stone or log or planks or dirt or grass:\n        if {天气.冷却} is not set:\n                set {天气.冷却} to true\n        if weather in \"world2\" is not sunny:\n                if {天气.冷却} is true:\n                        If player's world is \"world2\":\n                                loop blocks above the player:\n                                        set {方块类型} to loop-block\n                                if {方块类型} is air:\n                                        strike lightning at the player\n                                        send \"{@Bt} &f卧槽你被雷劈了  方块%{方块类型}%\"\n                                        set {天气.冷却} to false\n                                        wait 5 second\n                                        set {天气.冷却} to true\n                                else:\n                                        stop"
        },
        {
            "author": "cc7w",
            "timestamp": 1580560500,
            "txt_content": "TNT8 发表于 2020-2-1 11:54\n大佬帮我看一下这个，循环方块一直显示是Air 怎么破我头上已经用东西挡住了几格，还是会遭雷劈，数据一直 ...\n你自己写，我提供思路。loop循环，里面：\n\nif {方块类型} is not air:\n    【我记得有break，就是结束循环的】\nelse:\n    执行雷击"
        },
        {
            "author": "TNT8",
            "timestamp": 1580562360,
            "txt_content": "cc7w 发表于 2020-2-1 20:35\n你自己写，我提供思路。loop循环，里面：\n\nif {方块类型} is not air:\n不行做不到，我也不知道为什么\n这是使用图，头上有方块，显示循环的数据就是air\n我寻思我的表达式好像没错，还是哪个细节问题？\n\n\n\n\nfile_1580562248000.jpg (117.42 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-1 21:04 上传\n\n\n\n\n\n"
        },
        {
            "author": "TNT8",
            "timestamp": 1580564640,
            "txt_content": "cc7w 发表于 2020-2-1 21:09\nloop blocks above the player:\n    set {方块类型} to loop-block\n    if {方块类型} is air:\n\n是这样吧，还是显示air 站哪都被劈\n您方便帮我试一下吗。\n\non walking on any stone or log or planks or dirt or grass:\n        if {天气.冷却} is not set:\n                set {天气.冷却} to true\n        if weather in \"world2\" is not sunny:\n                if {天气.冷却} is true:\n                        If player's world is \"world2\":\n                                loop blocks above the player:\n                                        set {方块类型} to loop-block\n                                if {方块类型} is air:\n                                        add 0 to {temp}\n                                else:\n                                        add 1 to {temp}\n                        if {temp} is 0:\n                                strike lightning at the player\n                                send \"{@Bt} &f卧槽你被雷劈了  方块%{方块类型}%\"\n                                set {天气.冷却} to false\n                                wait 5 second\n                                set {天气.冷却} to true\n                        else:\n                                stop\n\n\n\n\n\n\nimage.png\n(45.57 KB, 下载次数: 0)\n\n\n\n\n下载附件\n\n\n2020-2-1 21:41 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "cc7w",
            "timestamp": 1580564940,
            "txt_content": " 本帖最后由 cc7w 于 2020-2-1 21:50 编辑 \n\non walking on any stone or log or planks or dirt or grass:\n        if {天气.冷却} is not set:\n                set {天气.冷却} to true\n        if weather in \"world2\" is not sunny:\n                if {天气.冷却} is true:\n                        If player's world is \"world2\":\n                                loop blocks above the player:\n                                        set {方块类型} to loop-block\n                                if {方块类型} is air:\n                                        add 0 to {temp}\n                                else:\n                                        add 1 to {temp}\n                                if {temp} is 0:\n                                        strike lightning at the player\n                                        send \"{@Bt} &f卧槽你被雷劈了  方块%{方块类型}%\"\n                                        set {天气.冷却} to false\n                                        wait 5 second\n                                        set {天气.冷却} to true\n                        else:                            stop\n你注意下缩进，我复制粘贴似乎有问题\n如果临时值是0往后放，和loop并列\n"
        },
        {
            "author": "TNT8",
            "timestamp": 1580568840,
            "txt_content": "cc7w 发表于 2020-2-1 21:49\non walking on any stone or log or planks or dirt or grass:\n        if {天气.冷却} is not set:\n       ...\n无法解决，可能是我的问题吧。\n麻烦，不写了。"
        }
    ]
}