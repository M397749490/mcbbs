{
    "title": "关于FABRIC命令的问题",
    "author": "MiaoLio",
    "replyCount": 3,
    "timestamp": 1585291980,
    "txt_content": "怎么注销掉原先注册过的命令，比如我想注销掉\"KICK\"这条命令该怎么做呢",
    "replies": [
        {
            "author": "飞翔之歌",
            "timestamp": 1585293960,
            "txt_content": "你在命令里判断有没有被注销，如果被注销了就什么也不做"
        },
        {
            "author": "MiaoLio",
            "timestamp": 1585296060,
            "txt_content": "飞翔之歌 发表于 2020-3-27 15:26\n你在命令里判断有没有被注销，如果被注销了就什么也不做\n怎么在命令里判断有没有被注销，我要做的是注销已经被注册过的命令"
        },
        {
            "author": "洞穴夜莺",
            "timestamp": 1585300560,
            "txt_content": "MiaoLio 发表于 2020-3-27 16:01\n怎么在命令里判断有没有被注销，我要做的是注销已经被注册过的命令\npackage example;\n\nimport net.fabricmc.api.DedicatedServerModInitializer;\nimport net.fabricmc.fabric.api.registry.CommandRegistry;\nimport net.minecraft.server.command.CommandManager;\nimport net.minecraft.server.network.ServerPlayerEntity;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class ExampleMod implements ModInitializer {\n        public static Logger LOGGER=LogManager.getLogger();\n        public static boolean removed=false;\n        @Override\n        public void onInitialize() {\n                CommandRegistry.INSTANCE.register(true,dis->dis.register(CommandManager.literal(\"removeme\")\n                                .requires(src->!removed).executes(ctx->{\n                                        removed=true;\n                                        for(ServerPlayerEntity e:ctx.getSource().getMinecraftServer().getPlayerManager().getPlayerList()){\n                                                ctx.getSource().getMinecraftServer().getPlayerManager().sendCommandTree(e);\n                                        }\n                                        return 1;\n                                })));\n        }\n\n}\n执行成功一遍/removeme之后再执行/removeme就会报找不到命令错误了，而且命令补全也没有这个命令了！\n\n"
        }
    ]
}