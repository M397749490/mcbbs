{
    "title": "[PCD] FAQ NMS Tutorial - 教你如何放弃NMS!",
    "author": "啾",
    "replyCount": 7,
    "timestamp": 1537175040,
    "txt_content": " 本帖最后由 迷之芒果 于 2018-9-24 15:48 编辑 \nFAQ NMS Tutorial\n\n\n\n真正的无限附魔@EventHandler\n    public void on(PlayerItemHeldEvent e) {\n        Player p = e.getPlayer();\n        ItemStack item = p.getInventory().getItem(e.getNewSlot());\n        CraftPlayer craftPlayer = (CraftPlayer) p;\n        EntityPlayer entityPlayer = craftPlayer.getHandle();\n        if (item.getType() == Material.BOW && item.getItemMeta().hasEnchant(Enchantment.ARROW_INFINITE)) {\n            entityPlayer.abilities.canInstantlyBuild = true;\n            return;\n        }\n        entityPlayer.abilities.canInstantlyBuild = false;\n    }复制代码\n其实也就一行代码: entityPlayer.abilities.canInstantlyBuild = true;(开启无限弓模式)这是我翻实现翻的, 也实验和大佬反馈了有很多副作用，建议不使用！\n使用NMS发包\n\n这里就用标题包吧233, PacketPlayOutTitle, 然后我们反编译一下~\n\n\n\n\n\n4Z@S9CHZ_7Y17Q]T[{JR@$E.png (66.09 KB, 下载次数: 1)\n\n下载附件\n\n2018-9-22 18:41 上传\n\n\n\n\n\n可以看到构造参数, 这里我们使用最后一个 最长构建参数的, 如果看不懂参数可以使用mcp帮助~\n首先我们new一个标题包\nPacketPlayOutTitle titlePacket = new PacketPlayOutTitle(PacketPlayOutTitle.EnumTitleAction.TITLE, new ChatComponentText(\"标题\"), 0, 20, 0);\nPacketPlayOutTitle subtitlePacket = new PacketPlayOutTitle(PacketPlayOutTitle.EnumTitleAction.SUBTITLE, new ChatComponentText(\"副标题\"), 0, 20, 0);复制代码然后发送~\nPlayer p = e.getPlayer();\nEntityPlayer nmsPlayer = ((CraftPlayer) p).getHandle();\nnmsPlayer.playerConnection.sendPacket(titlePacket);\nnmsPlayer.playerConnection.sendPacket(subtitlePacket);复制代码完全代码\nPlayer p = e.getPlayer();\nEntityPlayer nmsPlayer = ((CraftPlayer) p).getHandle();\nPacketPlayOutTitle titlePacket = new PacketPlayOutTitle(PacketPlayOutTitle.EnumTitleAction.TITLE, new ChatComponentText(\"标题\"), 0, 20, 0);\nPacketPlayOutTitle subtitlePacket = new PacketPlayOutTitle(PacketPlayOutTitle.EnumTitleAction.SUBTITLE, new ChatComponentText(\"副标题\"), 0, 20, 0);\nnmsPlayer.playerConnection.sendPacket(titlePacket);\nnmsPlayer.playerConnection.sendPacket(subtitlePacket);复制代码每个包都是这样发的, 只要知道了参数对应的东西, 就可以随意玩耍啦~\n[groupid=1330]PluginsCDTribe[/groupid]",
    "replies": [
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1537187340,
            "txt_content": "芒果大佬支持一下\n(话说还没更新完吗，顺便催更"
        },
        {
            "author": "Ir.Nep",
            "timestamp": 1537187820,
            "txt_content": "· 没有防好item的NPE\n· canInstantlyBuild与太多东西挂钩了，打个比方，我手拿无限弓，右键铁砧去附魔东西或者修复，将不需要消耗我的经验值\n· 如果我打开GUI切换某物品栏的东西是不会触发PlayerItemHeldEvent的，也就意味着如果我拿无限弓打开GUI再把某种创造模式下右键不会消耗的物品放到手中是可以无限使用的\n还有就是NMS真棒，加油"
        },
        {
            "author": "粘兽",
            "timestamp": 1537305060,
            "txt_content": "NMSL    Forever!!!"
        },
        {
            "author": "啾",
            "timestamp": 1537611960,
            "txt_content": "qzz740827 发表于 2018-9-17 20:37\n· 没有防好item的NPE\n· canInstantlyBuild与太多东西挂钩了，打个比方，我手拿无限弓，右键铁砧去附魔东 ...\n不测试就发代码是为了懒和懒和让使用者能不直接抄233  如果说这玩意挂钩了这么多东西的话， 那还是不用为好"
        },
        {
            "author": "东药君",
            "timestamp": 1537768560,
            "txt_content": "我就想让一个NPC在玩家头上转来转去233"
        },
        {
            "author": "642_",
            "timestamp": 1558613640,
            "txt_content": "请问该怎么加进整合包，是命令块？还是versions？还是啥"
        },
        {
            "author": "Tcaks_NB",
            "timestamp": 1561908000,
            "txt_content": "感谢授课qwq"
        }
    ]
}