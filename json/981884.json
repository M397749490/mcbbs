{
    "title": "关于服务器皮肤显示的问题",
    "author": "晴天娃娃_",
    "replyCount": 7,
    "timestamp": 1583824020,
    "txt_content": " 本帖最后由 晴天娃娃_ 于 2020-3-10 15:32 编辑 \n\n希望在纯净服不配置外置登录的情况下使用皮肤站自定义皮肤。\n我使用的是Blessing Skin + Yggdrasil API 外置登录authlib injector也启用，修改提交方法模拟与mojang一样的效果（将查询uuid的api/profiles/minecraft的提交方法由post修改为了get api/profiles/minecraft?namess=name ）\n\n\n\n\nimage.png (25.86 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-10 14:52 上传\n\n\n\n\n\n\n\n\n\n服务端插件使用的是开源的SkinsRestorer 版本13.3 ，将\n\n\n\n\nimage.png (12.14 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-10 14:54 上传\n\n\n\n\n\n这一部分修改为自己的地址\n\n\n\n\nimage.png (12.22 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-10 14:55 上传\n\n\n\n\n之后发现皮肤并不能显示，\n\n\n\n\nimage.png (13.41 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-10 14:57 上传\n\n\n\n\n在获取了角色Profile之后并没有继续获取皮肤图片，经过断点之后并没有发现问题。\n发送给\n\n\n\n\nimage.png (9.11 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-10 15:04 上传\n\n\n\n\nname  value  signature这三个信息都是正常的，其中value包含的等皮肤信息解码之后发现虽然格式有一点问题但是我认为问题并不处在这。\n\n\n其中我并不理解signature是干什么的起什么作用的，我认为问题应该在于signature的数据，请问我的判断这里是否正确？(看过2楼回复之后感觉也不是此处的问题)   接下来要怎么做？如果我的判断并不正确，可能猜想一下这里不显示皮肤的原因.\n\n\n\n",
    "replies": [
        {
            "author": "天辉胡萝卜",
            "timestamp": 1583824740,
            "txt_content": "signature用来保证皮肤有效\n只有signature有效的情况下客户端才会使用该texture，这可以防止网络包被拦截修改而篡改客户端的皮肤显示\n\nhttps://wiki.vg/Mojang_API#UUID_-.3E_Profile_.2B_Skin.2FCape\n这里面提供了一个api用于获得signature\n例如这样https://sessionserver.mojang.com ... 515c?unsigned=false"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1583825040,
            "txt_content": "以及https://minecraft.gamepedia.com/Yggdrasil\n这个是mojang采用的验证系统，signature就是采用这个系统的私钥签发的，对应加密算法为SHA1withRSA"
        },
        {
            "author": "晴天娃娃_",
            "timestamp": 1583825640,
            "txt_content": "疾风暗影 发表于 2020-3-10 15:24\n以及https://minecraft.gamepedia.com/Yggdrasil\n这个是mojang采用的验证系统，signature就是采用这个系统 ...\n那应该不是这里的问题了,可猜测一下问题出在哪里？"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1583826540,
            "txt_content": " 本帖最后由 疾风暗影 于 2020-3-10 15:50 编辑 \n晴天娃娃_ 发表于 2020-3-10 15:34\n那应该不是这里的问题了,可猜测一下问题出在哪里？\n我觉得还是签名不对\n你的签名是怎么产生的？\n签名是需要根据材质来产生的，你的texture和签名能对应上吗？"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1583826660,
            "txt_content": "以及\nhttps://github.com/riflowth/SkinSystem/\n\n这个是一个开源的配合skinrestorer替换官方皮肤的例子\nhttps://github.com/riflowth/Skin ... server/skinCore.php\n这个是它产生签名的方式"
        },
        {
            "author": "晴天娃娃_",
            "timestamp": 1583826780,
            "txt_content": "疾风暗影 发表于 2020-3-10 15:49\n我觉得还是签名不对\n你的签名是怎么产生的？\n签名是需要根据材质来产生的，你的texture和签名能对应上吗？ ...\n\n\n\n\nimage.png (80.59 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-10 15:52 上传\n\n\n\n\n系统产生的，这里应该和mojang用的同一个\n"
        },
        {
            "author": "Karlatemp",
            "timestamp": 1583827920,
            "txt_content": " 本帖最后由 Karlatemp 于 2020-3-10 16:13 编辑 \n\nhttps://github.com/yushijinhun/a ... F%E8%A7%84%E8%8C%83\n\n完整的Yggdrasil规范, 里面有你要的东西\n另外客户端不配置的话是无法使用皮肤站的皮肤的，有域名限制，而且你没有Mojang的yggdrasil服务器的秘钥\n"
        }
    ]
}