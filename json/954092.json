{
    "title": "[Pangu] Minecraft Forge 快速开发框架 - 01. 简介",
    "author": "trychen",
    "replyCount": 3,
    "timestamp": 1581060480,
    "txt_content": "> 简单来说，盘古是一个 Minecraft Forge 开发工具库。本是 1.12.2 版本的 华夏文明（ChinaCraft），由于某些原因，最终成为了一个快速开发框架。\n主要功能\n\nUI 框架：一个基于 GuiScreen 的 UI 框架，拥有更加完善的组件系统\nBridge 通讯：允许开发者直接调用方法即可完成服务端、客户端之间的相互通信，不需要再手动发包。\nLoader 系统：盘古提供了不少了注解，可以用于快速注入\nRegistering System 内容注册器：可以通过注解快速注册物品、方块等\nCustom Font Renderer 字体：允许开发者加载自定义的字体\nUtils 工具类：盘古提供了不少的工具类，覆盖数据、渲染等方面\n\n在项目中配置 Pangu\n> Pangu 使用了 Jitpack 作为远程 Maven 仓库。如网络等有问题，可直接在 Github Releases 页面下载，并引入依赖\n>\n> 相关链接：[项目 GitHub 地址](<a href=\"https://github.com/MinecraftPangu/Pangu\" target=\"_blank\">https://github.com/MinecraftPangu/Pangu</a>)、[示例项目地址](<a href=\"https://github.com/MinecraftPangu/Pangu-Example\" target=\"_blank\">https://github.com/MinecraftPangu/Pangu-Example</a>)\n创建基于 Pangu 的新项目\n你可以直接下载我们的 [示例项目](<a href=\"https://github.com/MinecraftPangu/Pangu-Example\" target=\"_blank\">https://github.com/MinecraftPangu/Pangu-Example</a>)（[一键下载链接](<a href=\"https://github.com/MinecraftPangu/Pangu-Example/archive/master.zip\" target=\"_blank\">https://github.com/MinecraftPang ... /archive/master.zip</a>)），下载好后，修改相关配置。\n使用终端执行以下命令（IDEA用户）：gradle setupDecompWorkspace idea gIR。\n然后直接使用 IDEA 打开该文件夹即可。\n在已有项目中引入 Pangu\n你只需要在 build.gradle 文件中，加入以下内容即可，注意更换为最新的版本号！\nrepositories {\n    maven { url 'https://www.jitpack.io' }\n}\n\ndependencies {\n    implementation \"com.github.MinecraftPangu:Pangu:1.13.7:dev\"\n}\n\n// IDE Runner Settings from <a href=\"https://www.mcbbs.net/plugin.php?id=link_redirect⌖=https%3A%2F%2Fblog.ustc-zzzz.net%2Fadd-jvm-arguments-to-ide-in-forge-mod-projects%2F\" target=\"_blank\">https://blog.ustc-zzzz.net/add-j ... forge-mod-projects/</a>\n// 以下部分代码是为了在开发环境中引入 Pangu 的 CoreMod\next.jvmArguments = [\n        '-Dfml.coreMods.load=cn.mccraft.pangu.core.asm.PanguPlugin'\n]\n\nmakeEclipseCleanRunClient.doFirst {\n    def jvmArg = String.join(' ', jvmArguments)\n    it.setJvmArguments(jvmArg)\n}\n\nmakeEclipseCleanRunServer.doFirst {\n    def jvmArg = String.join(' ', jvmArguments)\n    it.setJvmArguments(jvmArg)\n}\n\nidea.workspace.iws.withXml {\n    def runManager = it.asNode().component.find({ it.<a href=\"https://www.mcbbs.net/home.php?mod=space&uid=48079\" target=\"_blank\">@name</a> == 'RunManager' })\n    runManager.configuration.findAll({ it.<a href=\"https://www.mcbbs.net/home.php?mod=space&uid=1474748\" target=\"_blank\">@type</a> == 'Application' }).each {\n        def mainClass = it.option.find({ it.@name == 'MAIN_CLASS_NAME' }).@value\n        if (mainClass == 'GradleStart' || mainClass == 'GradleStartServer') {\n            def jvmArg = String.join(' ', jvmArguments)\n            it.option.find({ it.@name == 'VM_PARAMETERS' }).<a href=\"https://www.mcbbs.net/home.php?mod=space&uid=829788\" target=\"_blank\">@value</a> = jvmArg\n        }\n    }\n}\nPangu 中常用组件的快速入门\n@Load\n在使用了盘古后，我们不在需要通过 CommonProxy 的方法来执行初始化操作：\npublic interface ExampleMessage {\n    @Load\n    static void init() {\n        PanguExample.getLogger().info(\"Pangu-Example initialization\");\n    }\n}\n我们可以在任意可见静态方法上加上 @Load 注解，当游戏在进行预初始化（Pre-Initialization）时，该方法则会被执行。\n如果你的初始化操作，仅在客户端执行，则可以通过修改 @Load 注解中的属性控制。（在服务端启动时，将会删除该方法，将同时有 @SideOnly 的效果）\n@Load(side = Side.CLIENT)\nstatic void init() {\n    PanguExample.getLogger().info(\"Pangu-Example initialization (client-side)\");\n}\n当然还有其他的属性，请自行查询。\n@BindKeyPress\n该注解提供了快速绑定按钮到按键的功能。\n@BindKeyPress(Keyboard.KEY_O)\nstatic void keyDown() {\n    PanguExample.getLogger().info(\"YOU PRESSED O!\");\n}\n你可以将该功能用于调试（建议添加 devOnly = true，表示仅在开发环境中生效），也可以用作你 Mod 中某功能的触发按键（建议加入 description = \"key.xxxx\"，则该案件将会对应注册按键绑定，用户可以在设置界面中修改）\n<a href=\"https://www.mcbbs.net/home.php?mod=space&amp;uid=208263\" target=\"_blank\">@reg</a> 注册器\n盘古 cn.mccraft.pangu.core.loader.annotation 包下提供了一些游戏相关内容的注册注解，只需要将对应内容注解即可自动完成注册。\npublic class Items {\n    // 自动注册为 modid:simple_item\n    @RegItem\n    public static Item simpleItem = new Item();\n}\n@Bridge\nBridge 是一个快速通信框架，允许开发者“远程调用方法”。\n@BindKeyPress(value = Keyboard.KEY_O, devOnly = true)\nstatic void keyDown() {\n    say(\"I'm Chen\");\n}\n\n@Bridge\nstatic void say(String message) {\n    PanguExample.getLogger().info(\"Message From client: \" + message);\n}\n当我们在客户端调用 say 方法时，将会被重定向服务端中执行该方法。特殊的你可以在方法中添加EntityPlayer参数，将会自动设置为发送者。\n@BindKeyPress(value = Keyboard.KEY_O, devOnly = true)\nstatic void keyDown() {\n    say(null, \"I'm Chen\");\n}\n\n@Bridge\nstatic void say(EntityPlayer player, String message) {\n    PanguExample.getLogger().info(\"Message From \" + player.getName() + \": \" + message);\n}\nUI 系统\n新的界面系统是盘古的核心功能之一，内容众多在此不做介绍。使用 Pangu UI 的例子：\n\n截图来自网易方块帝国服务器\n总结\n以上内容是盘古中比较基础而且比较快上手的内容，主要是给大家一个大概的使用示例。\n当前盘古仍然处于测试版本，有任何问题可以在下面回复留言，会尽量回复。\n\n\n你也可以在 Github 上同步阅读该文档\n\n\n[groupid=1181]Unknown Domain[/groupid]",
    "replies": [
        {
            "author": "c2500338766",
            "timestamp": 1581120000,
            "txt_content": "先码住，回来用用看"
        },
        {
            "author": "TONMMY",
            "timestamp": 1581229380,
            "txt_content": " 本帖最后由 TONMMY 于 2020-2-9 14:51 编辑 \n\n那还要构建forge开发环境吗"
        },
        {
            "author": "小歌Gg",
            "timestamp": 1584268860,
            "txt_content": " 本帖最后由 小歌Gg 于 2020-3-16 17:49 编辑 \n\n..............."
        }
    ]
}