{
    "title": "[已解決]BukkitRunnable報錯",
    "author": "1249767904",
    "replyCount": 5,
    "timestamp": 1584622680,
    "txt_content": " 本帖最后由 1249767904 于 2020-3-19 21:45 编辑 \n\n\n\n\n\nimage.png (52.49 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-19 20:50 上传\n\n\n\n\n這樣爲什麽會出現報錯？\n我之前是像下面那張圖一樣寫的\n\n\n\n\nimage.png (62.77 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-19 20:51 上传\n\n\n\n\n\n但是這樣寫的話添加藥水效果會無效,於是我聼建議改爲了BukkitRunnable\n\n\n\n\nimage.png (166.43 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-19 20:58 上传\n\n\n\n\n\n",
    "replies": [
        {
            "author": "William_Shi",
            "timestamp": 1584622980,
            "txt_content": "线程安全性考虑了么\nsendMessage应该是线程安全的\n但是添加药水效果和设置血量就不是\n你不能用异步任务\n必须用BukkitRunnable\n不断地把任务推给主线程"
        },
        {
            "author": "a1294790523",
            "timestamp": 1584623460,
            "txt_content": "请仔细阅读API文档：https://hub.spigotmc.org/javadoc ... ukkitScheduler.html\n设置延迟任务的方法签名是@NotNull Plugin plugin, @NotNull Runnable task, long delay，你需要提供插件（JavaPlugin）实例本身而不是PlayerDeath的实例"
        },
        {
            "author": "洞穴夜莺",
            "timestamp": 1584623760,
            "txt_content": "你不能用this，因为你不是个Plugin"
        },
        {
            "author": "Sssss...",
            "timestamp": 1584624660,
            "txt_content": "this指的是正在执行这里的程序的实例（表达不太清晰）\n只能在主类使用（继承了JavaPlugin，是JavaPlugin的子类所以可以转换为Plugin）\n你这个类使用this不能转换为JavaPlugin的实例，所以编译错误\n请使用JavaPlugin.getPlugin(Main.class)，Main为你的主类"
        },
        {
            "author": "1249767904",
            "timestamp": 1584625500,
            "txt_content": "謝謝各位,終於搞明白了"
        }
    ]
}