{
    "title": "奇葩bug-物品名错误？",
    "author": "jnworld",
    "replyCount": 2,
    "timestamp": 1483765560,
    "txt_content": " 本帖最后由 jnworld 于 2017-1-7 13:07 编辑 \n\n简简单单地想写一个禁止投食的小插件\n大致代码          @EventHandler\n          public void onPlayerInteractEntityEvent(PlayerInteractEntityEvent event) {\n            Player player = event.getPlayer();\n            Material heldItem = player.getItemInHand().getType();\n            if ((heldItem == Material.RABBIT) || \n              (heldItem == Material.CARROT) || \n              (heldItem == Material.COOKED_RABBIT) || \n              (heldItem == Material.COOKED_MUTTON) || \n              (heldItem == Material.MUTTON) || \n              (heldItem == Material.NETHER_WARTS))\n            {\n                  player.sendMessage(ChatColor.GREEN+\"本服务器禁止持有可喂食道具与实体交互！（禁止喂食动物）\");\n                  event.setCancelled(true);\n            }\n            else {                  player.sendMessage(ChatColor.GREEN+\"ok\");}\n          }\n}复制代码\n首先我承认借鉴了别人的代码（滑稽）\n\n\n\n版本   spigot 1.8.8\n\n功能：\n右键实体时获取手持道具 如果匹配就取消事件\n不匹配则放行   代码里写的不匹配发出OK是为了测试BUG\n\n问题来了！\n实测种子    牛肉猪肉    麦子  生鱼啥的都没有问题  全部可以正常拦截事件并cancel\n唯独！\n(item == Material.CARROT) || \n(item == Material.NETHER_WARTS) \n胡萝卜和地狱疣！！！！\n唯独胡萝卜和地狱疣依旧\np.sendMessage(ChatColor.GREEN+\"ok\");\n发出OK = =\n\n也就是说基本其他道具的情况都可以正常拦截\n只有胡萝卜和地狱疣会溜走\n\n编译器没有报错  也发现在游戏里是nether_wart 不是warts\n不过改成wart就报错\n\n求解这什么鬼啊= = \n",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1483819080,
            "txt_content": "可能是API的版本与服务端API的版本不符合←_←\n要么更换到相同的要么从String获取Material"
        },
        {
            "author": "jnworld",
            "timestamp": 1483845900,
            "txt_content": "810587921 发表于 2017-1-8 03:58\n可能是API的版本与服务端API的版本不符合←_←\n要么更换到相同的要么从String获取Material ...\n先感谢喵叔（发的无数带BUG的插件233）\n\n已经找到问题了，\n\nCARROT   ------> CARROT_ITEM\nNETHER_WARTS ------>NETHER_STALK\n\n\n解决过程：\n如果if判断为false了则输出手持道具\n结果发现2333333333333"
        }
    ]
}