{
    "title": "源码中几率设置问题",
    "author": "HYFan_Meng",
    "replyCount": 13,
    "timestamp": 1569026340,
    "txt_content": " 本帖最后由 HYFan_Meng 于 2019-9-21 08:44 编辑 \n如何在插件里实现不同阶段不同的成功几率呢下面是我完成的单阶段几率\n\n\nboolean Probability = false;\nbyte Probability1;\nif (level < 10) {\n    Probability1 = 50;\n} else {\n    Probability1 = 25;\n}\n\n\n",
    "replies": [
        {
            "author": "1837019522",
            "timestamp": 1569027000,
            "txt_content": " 本帖最后由 1837019522 于 2019-9-21 08:53 编辑 \n\n用switchswitch (level) {\n                                        case 10:\n                                                Probability1 = 25;\n                                                break;\n                                        case 15:\n                                                Probability1 = 30;\n                                                break;\n                                        default:\n                                                Probability1 = 10;\n                                                break;\n                                        }复制代码\n应该会更好\n"
        },
        {
            "author": "HYFan_Meng",
            "timestamp": 1569027300,
            "txt_content": "1837019522 发表于 2019-9-21 08:50\n用switch\n应该会更好\n问下 case10 以及default是什么意思呢\n没用过switch\n【勿吐槽我就一新手】"
        },
        {
            "author": "HYFan_Meng",
            "timestamp": 1569028200,
            "txt_content": "1837019522 发表于 2019-9-21 08:50\n用switch\n应该会更好boolean Probability = false;\nbyte Probability1;\nswitch (level) {\ncase 6:\n    Probability1 = 60;\n    break;\ncase 10:\n    Probability1 = 45;\n    break;\ncase 20:\n    Probability1 = 35;\n    break;\ncase 30:\n    Probability1 = 25;\n    break;\ncase 40:\n    Probability1 = 10;\n    break;\ncase 50:\n    Probability1 = 5;\n    break;\ndefault:\n    Probability1 = 10;\n    break;\n}\n\nint sj = (int)(Math.random() * 100.0D);\nif (sj < Probability1) {\n    p.setItemInHand(ItemUtil.setwuqiduanzao(handitem, level + 1));\n    p.sendMessage(Config.getConfig().getString(\"Message.Forging.Successfully\").replaceAll(\"&\", \"§\") + (level + 1));\n    event.setCancelled(true);\n} else if (level > 5) {\n    p.setItemInHand(ItemUtil.setwuqiduanzao(handitem, level - 1));\n    p.sendMessage(Config.getConfig().getString(\"Message.Forging.Failure\").replaceAll(\"&\", \"§\") + (level - 1));\n    event.setCancelled(true);\n} else {\n    p.sendMessage(Config.getConfig().getString(\"Message.Forging.Failure\").replaceAll(\"&\", \"§\") + level);\n    event.setCancelled(true);\n}\n\nGuiUtil.openTieJiangMenu(p);\nevent.setCancelled(true);\n}\n\nevent.setCancelled(true);\n}\n\nevent.setCancelled(true);\n}\n\n}\n}\n}复制代码\n这样弄不对吗"
        },
        {
            "author": "1837019522",
            "timestamp": 1569028920,
            "txt_content": "HYFan_Meng 发表于 2019-9-21 08:55\n问下 case10 以及default是什么意思呢\n没用过switch\n【勿吐槽我就一新手】\ncase 10:\n就是当你的level等于10的时候触发下面语句default就是上面所有都条件没有满足 触发这个"
        },
        {
            "author": "吕易天",
            "timestamp": 1569029580,
            "txt_content": "HYFan_Meng 发表于 2019-9-21 08:55\n问下 case10 以及default是什么意思呢\n没用过switch\n【勿吐槽我就一新手】\nswitch case这样的分支语句的意思就是如果switch内的表达式等于case后面的值就执行case后面的语句。"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1569031680,
            "txt_content": "Math.random（）或者ThreadLocalRandom.current().nextDouble()取浮点随机数，落在给定几率（比如0.1）范围内即可。\n考虑楼主连switch case都不会用的情况，应该学习JAVA基础知识再来编写插件。"
        },
        {
            "author": "HYFan_Meng",
            "timestamp": 1569038520,
            "txt_content": "1837019522 发表于 2019-9-21 09:22\ncase 10:\n就是当你的level等于10的时候触发下面语句default就是上面所有都条件没有满足 触发这个\n ...\n但是当case 值达到的时候case不执行是为什么呢"
        },
        {
            "author": "HYFan_Meng",
            "timestamp": 1569039720,
            "txt_content": "1837019522 发表于 2019-9-21 09:22\ncase 10:\n就是当你的level等于10的时候触发下面语句default就是上面所有都条件没有满足 触发这个\n ...\n解决了谢谢"
        },
        {
            "author": "shutong",
            "timestamp": 1569425880,
            "txt_content": "森林蝙蝠 发表于 2019-9-21 10:08\nMath.random（）或者ThreadLocalRandom.current().nextDouble()取浮点随机数，落在给定几率（比如0.1）范围 ...\n直接用list不久可以了，然后随便获取个随机数，list.get(随机数) 这个多省事，直接就抽奖了"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1569427380,
            "txt_content": "shutong 发表于 2019-9-25 23:38\n直接用list不久可以了，然后随便获取个随机数，list.get(随机数) 这个多省事，直接就抽奖了 ...\n他只说随机数，没说别的，你往里带个list要干嘛？"
        },
        {
            "author": "shutong",
            "timestamp": 1569428700,
            "txt_content": "森林蝙蝠 发表于 2019-9-26 00:03\n他只说随机数，没说别的，你往里带个list要干嘛？\nList里面存奖品,"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1569429300,
            "txt_content": " 本帖最后由 森林蝙蝠 于 2019-9-26 00:37 编辑 \nshutong 发表于 2019-9-26 00:25\nList里面存奖品,\n随机数不代表一定要抽奖，还有可能是随机传世界，随机自0杀，随机爆破，随机触发事件，别这么超前。\n而且我说的就是取随机数的过程，跟list没有半毛钱关系。\n"
        },
        {
            "author": "AegisFor",
            "timestamp": 1569435360,
            "txt_content": "if (level < 10) {\n    Probability1 = 50;\n} else if {\n    Probability1 = 25;\n} else if {\n    Probability1 = 30;\n} else {    Probability1 = 40;\n}\n\n多个else if 也可以哦\n\n"
        }
    ]
}