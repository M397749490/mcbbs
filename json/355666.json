{
    "title": "manageryzy的mod开发教程-修改最大堆叠",
    "author": "manageryzy",
    "replyCount": 6,
    "timestamp": 1413819060,
    "txt_content": "minecraft mod开发教程-修改最大堆叠打算开一个新坑。一系列基于minecraft forge的minecraft mod教程。伴随着实践来一系列mod教程。下面将会来编写一个相当基础mod来修改默认物品的最大堆叠。我们假设您已经具有了搭建forge开发环境的能力，如果你还不会搭建forge开发环境，你可以去minecraft forge官网下载官方版或者去尝试szszss的fgow（一个针对国内gfw屏蔽的使用国内软件源的forge gradle）在minecraft里面每一个物品被称作一个item，每一个item的堆叠被称为物品栈（itemstack）。item中有一个方法来获得它的允许的最大的堆叠数：/*** Returns the maximum size of the stack for a specific item.*/@Deprecatedpublic int getItemStackLimit(){    return this.maxStackSize;}\n当然了这个是mcp的中的名称。原版中的物品都没有覆盖这个方法，但是我们不保证mod中的物品会尝试覆盖这个方法了。如果mod中的物品覆盖了这个方法就只能通过coremod通过asm来修改那些字节码。但是一般不会有脑残的mod作者来这样做，所以只要修改maxStackSize就好了。虽然这个变量是私有的，但是Item里面还是有一个方法来修改：public Item setMaxStackSize(int p_77625_1_){    this.maxStackSize = p_77625_1_;    return this;}\n通过这个方法就能修改物品栈的限制了。当然前提还是mod作者没有脑残的覆盖这个方法。\n那么我们来一段实例吧：@EventHandlerpublic void postInit(FMLPostInitializationEvent evt) {        Iterator it = GameData.getItemRegistry().iterator();        for (;it.hasNext();) {                Item item = (Item)it.next();                item.setMaxStackSize(64);        }        }\nminecraft forge推荐mod在preInit的时候进行方块的注册等操作，那样的话我们就能够在Init里面进行修改堆叠的了。但是并不是每一个mod作者都遵守那样的要求，有的mod作者会公然在Init里面注册方块和物品。这个时候为了保险我们监听了PostInit。当然了我这里只是很无节操的修改了所有物品的堆叠限制。如果要修改特定的物品的话minecraft forge提供GameData.getItemRegistry().getObject(name)\n这样的方法来获得Item。\n上面就是这篇教程的全部，写的非常的简单。希望起到抛砖引玉的效果。如果大家有愿意投稿的，欢迎来我的博客投稿来源：我的博客",
    "replies": [
        {
            "author": "飘扬de信念",
            "timestamp": 1413820320,
            "txt_content": "额，好高端的样子，作为不会弄MOD的新手来说只能默默地顶一下了。。"
        },
        {
            "author": "manageryzy",
            "timestamp": 1413849780,
            "txt_content": "飘扬de信念 发表于 2014-10-20 23:52\n额，好高端的样子，作为不会弄MOD的新手来说只能默默地顶一下了。。\n其实这里写的都是非常简单的……毕竟不打算写那些超出自己能力范围的教程呢\n如果说想要看完整的mod开发教程的话，比较推荐szszss的。（我和他肯定没有什么奸情wwww"
        },
        {
            "author": "SilverMing",
            "timestamp": 1413887580,
            "txt_content": "話說setMaxStackSize方法也可以在extends Item的文件constructor裡使用耶~"
        },
        {
            "author": "manageryzy",
            "timestamp": 1413895140,
            "txt_content": "lin212 发表于 2014-10-21 18:33\n話說setMaxStackSize方法也可以在extends Item的文件constructor裡使用耶~\n我感觉minecraft团队设计的这儿api就很不好。把最大堆叠设计成了私有的，但是还给了外界完全的访问权限……完全没有意义的setter和getter"
        },
        {
            "author": "Shadow_lzy",
            "timestamp": 1413895740,
            "txt_content": "高大上。。。赞"
        },
        {
            "author": "飘扬de信念",
            "timestamp": 1413898380,
            "txt_content": "manageryzy 发表于 2014-10-21 08:03\n其实这里写的都是非常简单的……毕竟不打算写那些超出自己能力范围的教程呢\n如果说想要看完整的mod开发教 ...\n我发现了什么（斜眼笑"
        }
    ]
}