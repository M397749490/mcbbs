{
    "title": "服务端村民刷新的很少？",
    "author": "SYxuan_xin",
    "replyCount": 20,
    "timestamp": 1585126800,
    "txt_content": " 本帖最后由 玄心 于 2020-3-25 21:02 编辑 \n\n如题，服务端是官方20w12a的服务端，完全纯净的生存档，但是村民刷新却很少，基本五个村庄才会刷出1个\n\n\n\n\nQQ图片20200325165931.png (97.84 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-25 16:59 上传\n\n\n\n\n\n求大佬们解答！\n",
    "replies": [
        {
            "author": "1784234383",
            "timestamp": 1585126800,
            "txt_content": "玄心 发表于 2020-3-25 19:27\n谢谢大大，我还是个小白，有很多问题确实想咨询一下，\n①：官方服务端貌似不是很受欢迎，因为我看到的帖子 ...\n①官方服主要原因是可扩展性太小，Bukkit是基于官服构建的一个巨型工程，添加了极其完善的插件机制，也就是说有了Bukkit，论坛上你经常见到的服务端插件才能用起来。Spigot水龙头是基于Bukkit构建的一个端，相比Bukkit功能多一些，优化了一些性能。现在很多比如猫端U端Paper端都是基于Spigot构建的。Sponge是完全不同于这些东西的端，Sponge分为SpongeVanilla和SpongeForge，前者是独立的端，后者是装在Forge官服上的端，它没有Bukkit的机制，因此插件什么的都得重新写，现在插件是非常少，不过Sponge相比Bukkit有一个巨大的优点就是主线程是多线程的，性能++++++++\n②release一般指稳定版，你应该还见过alpha，beta，prerelease，这仨都代表是测试版，你这里的20w12a其实就是一个测试版本\n③这个内存占用是因为玩家在服务器内活动的时候，需要不断加载越来越多的地图文件到内存里，所以会持续上升，上升到一定程度，比如说达到最大内存限制了，或者说有些地图现在已经用不上了，就会卸载一大波，清一波内存，于是占用迅速下降。人多的时候更密集自然也好理解了吧。"
        },
        {
            "author": "xmdhs",
            "timestamp": 1585128660,
            "txt_content": "快照版本出 bug 很正常吧。。\n\n你可以降一个快照版本"
        },
        {
            "author": "1784234383",
            "timestamp": 1585128720,
            "txt_content": "这个报错我还真的从来没见过，试试删了地图让服务器重新生成一下？此外你可以试试换一个release版本的核心，别用预览版"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585129380,
            "txt_content": "xmdhs 发表于 2020-3-25 17:31\n快照版本出 bug 很正常吧。。\n\n你可以降一个快照版本\n大佬您的答案我也没法检验，我开的是生存档，而且这个快照的新东西已经做出来了，真的不能随便降版本，要不等下个快照修复之后再给您金粒？"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585129440,
            "txt_content": "1784234383 发表于 2020-3-25 17:32\n这个报错我还真的从来没见过，试试删了地图让服务器重新生成一下？此外你可以试试换一个release版本的核心 ...\n请问有相关的帖子吗，我去学习学习，地图已经是心血级别了"
        },
        {
            "author": "1784234383",
            "timestamp": 1585130460,
            "txt_content": "玄心 发表于 2020-3-25 17:44\n请问有相关的帖子吗，我去学习学习，地图已经是心血级别了\n这个没有啊。。我7年也完全是自己摸索出来的（主要是长篇大论的教程贴我根本看不进去）\n有啥问题欢迎随时来问我。\n你的这个情况的话，如果已经用了1.16的新物品了的话....就是两个选择，一个是舍去新版本的东西降级到1.15，要不就是等release版出了直接换稳定版核心\n一般开服的话都不建议选择过于前卫的版本的"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585135620,
            "txt_content": "1784234383 发表于 2020-3-25 18:01\n这个没有啊。。我7年也完全是自己摸索出来的（主要是长篇大论的教程贴我根本看不进去）\n有啥问题欢迎随时 ...\n谢谢大大，我还是个小白，有很多问题确实想咨询一下，\n①：官方服务端貌似不是很受欢迎，因为我看到的帖子基本都是什么水龙头，海绵诸如此类的一些服务器核心教程（不知道是不是我的错觉），所以您能帮我梳理下各类服务端的优缺点吗?或是相关帖子也行。\n②：您说的“release”我完全没有接触过，能帮我解释一下吗？\n③：服务器的占存为何会呈现锯齿状分布，而且人越多锯齿越密集，如果我想优化服务器内存我应该从何做起呢？\n\n\n\n\nQQ截图20200325192748.png (1.94 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-25 19:28 上传\n\n\n\n\n\n"
        },
        {
            "author": "结城希亚",
            "timestamp": 1585136880,
            "txt_content": " 本帖最后由 御炎Roinflam 于 2020-3-25 19:53 编辑 \n玄心 发表于 2020-3-25 19:27\n谢谢大大，我还是个小白，有很多问题确实想咨询一下，\n①：官方服务端貌似不是很受欢迎，因为我看到的帖子 ...\n[1.9.2-1.5.2]常见服务端资源指引&简单介绍[2016.4.8更新]\nhttps://www.mcbbs.net/thread-134876-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\nrelease翻译过来是发布，应该是正式版的意思\n\n内存的话，最大最小设置成一致即可\n\n\n官服核心都是给想体验最新版玩法的人提供的，也就联机用用\n至于这个村民，等下版本更新看看\n\n非常不建议降版本，既然你要降，当初为什么不直接选1.15呢？选择最新版就不要后悔"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585137840,
            "txt_content": "御炎Roinflam 发表于 2020-3-25 19:48\n[1.9.2-1.5.2]常见服务端资源指引&简单介绍[2016.4.8更新]\nhttps://www.mcbbs.net/thread-134876-1-1.html ...\n谢谢大大，不过内存应该在哪里设置呢？"
        },
        {
            "author": "结城希亚",
            "timestamp": 1585137840,
            "txt_content": "玄心 发表于 2020-3-25 20:04\n谢谢大大，不过内存应该在哪里设置呢？\nbat的启动脚本里"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585138020,
            "txt_content": "御炎Roinflam 发表于 2020-3-25 20:04\nbat的启动脚本里\n呃。。。能，能再说详细点吗？金粒什么的好说哈哈"
        },
        {
            "author": "1784234383",
            "timestamp": 1585138140,
            "txt_content": "玄心 发表于 2020-3-25 20:04\n谢谢大大，不过内存应该在哪里设置呢？\n内存设置 你启动的时候应该是打开一个bat文件，右键它点编辑，找到里边有一行以java开头的那行，那行里边找-Xmx参数，这个参数后边直接跟你要设定的最大内存，比如1G最大内存你可以写-Xmx1G或-Xmx1024M"
        },
        {
            "author": "结城希亚",
            "timestamp": 1585138140,
            "txt_content": "玄心 发表于 2020-3-25 20:07\n呃。。。能，能再说详细点吗？金粒什么的好说哈哈\n你是面板服吗？\n[url=home.php?mod=space&uid=39305]@echo[/url] off\n::关闭回显\nset isre=1\n::是否重启 0为关 , 1为开\nset retime=5\n::设置重启等待时间\nset restart=0\n::设置重启次数初始值，默认为0，请勿修改\nset maxre=-1\n::重启多少次后不再重启,设置成-1关闭\n:start\n::start节点\n\nCLS\n::清除屏幕上内容\n\nset server_name=御天领域\n::服务器名称，会在服务端的标题处显示\nset min_ram=6144\n::最小内存，默认2048，单位MB\nset max_ram=6144\n::最大内存，默认8192，单位MB\nset tm1=%time:~0,2%\nset tm2=%time:~3,2%\nset tm3=%time:~6,2%\n[url=home.php?mod=space&uid=219329]@Echo.[/url] \necho  现在时间：%date% %tm1%点%TM2%分\n@echo. -----------------------------------------------------------------\n@echo.                         %server_name%服务器     \n\n@echo.           注意:关闭服务器前请在后台输入stop保存玩家数据\n@echo.                      否则可能会出现回档情况\n@echo.\n@echo.                      服务器正在启动中,请稍等……\n@echo.\n@echo. -----------------------------------------------------------------\n::启动时的一些显示\n\n::警告，如果你使用x86架构的Java(即32位)，最大内存不能超过1024MB\nset jar_name=Uranium-1710-dev-4-B210-server.jar\n::设置服务端核心名称，默认路径为该批处理文件所在的根目录，需要写入文件后缀\nif %isre% == 0 (title %server_name%服务器 最大内存%max_ram%M) else (title %server_name%服务器 最大内存%max_ram%M 重启次数%restart%次)\n::设置的服务端标题，调用上面的一些变量，可酌情修改\n\n\"C:\\Program Files\\Java\\jre1.8.0_241\\bin\\java\" -server -Xincgc -Xmx%max_ram%M -Xms%min_ram%M -jar %jar_name% -Dfile.encoding=UTF-8\n::Java命令行开服代码，不推荐修改，已进行优化，32位Java运行可能会有些许问题，如有问题请替换为下方代码\n::java -Xincgc -Xmx%max_ram%M -Xms%min_ram%M -Xss512M -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -XX:ParallelGCThreads=4 -XX:+UseConcMarkSweepGC -XX:CMSFullGCsBeforeCompaction=2 -XX:CMSInitiatingOccupancyFraction=70 -XX:-DisableExplicitGC -XX:-DisableExplicitGC -XX:TargetSurvivorRatio=90 -jar %jar_name%\n\n@echo. -----------===服务端关闭，即将在五秒内重启,按Ctrl+C终止重启===------------\n@echo.\n@echo.               %server_name% --- 玩家数据保存完毕 已关服\n@echo.\n@echo. -----------------------------------------------------------------\n\nset/a restart=restart+1\n\nif %isre% == 0 (goto stop) else (goto restart)\n:restart\n::restart标签\n::设置重启次数自加一，请勿修改\ntimeout /t %retime% /NOBREAK\nif %restart% == %maxre% (goto stop) else (goto start)\n:stop\nif %isre% == 0 (echo 未开启自动重启，如果需要，请到bat中开启) else (echo 已经自动重启%maxre%次，停止自动重启，按任意键关闭)\npause复制代码\n\n在-Xmx和-Xms里设置的数值一样就行，比如4096、8192\n\n你是面板服的话当我没说，祝你早日换vps"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585138800,
            "txt_content": "1784234383 发表于 2020-3-25 20:09\n内存设置 你启动的时候应该是打开一个bat文件，右键它点编辑，找到里边有一行以java开头的那行，那行里边 ...\n谢谢您啦，我想给大佬们一些金粒表达我的感谢，so.....我该怎么给呢....."
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585139040,
            "txt_content": "御炎Roinflam 发表于 2020-3-25 20:09\n你是面板服吗？\n\n在-Xmx和-Xms里设置的数值一样就行，比如4096、8192\n我不是vps的，不过还是感谢您的解答"
        },
        {
            "author": "结城希亚",
            "timestamp": 1585139220,
            "txt_content": "玄心 发表于 2020-3-25 20:20\n谢谢您啦，我想给大佬们一些金粒表达我的感谢，so.....我该怎么给呢.....\n给对你帮助最大的就行（最佳）\n而且我们回复不是为了金粒（你看一下就知道了"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585139520,
            "txt_content": "xmdhs 发表于 2020-3-25 17:31\n快照版本出 bug 很正常吧。。\n\n你可以降一个快照版本\n大大我得失信一次了，金粒给楼下的这位可否？"
        },
        {
            "author": "xmdhs",
            "timestamp": 1585139640,
            "txt_content": " 本帖最后由 xmdhs 于 2020-3-25 20:35 编辑 \n玄心 发表于 2020-3-25 20:32\n大大我得失信一次了，金粒给楼下的这位可否？\n然而村民的问题解决了？\n\n问题直接被绕过了"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585139700,
            "txt_content": "xmdhs 发表于 2020-3-25 20:34\n然而村民的问题解决了？\n可能是版本的问题，但我得到了超出这个问题价值的答案，我下次发问给你60金行不？"
        },
        {
            "author": "SYxuan_xin",
            "timestamp": 1585141140,
            "txt_content": "注：标题问题目前很大可能是新版本的特性（Bug）导致，本帖的问题已得到解决。\n\n\n楼主问到了一些不相关的问题并将其设置为最佳答案，如有类似问题者请借鉴。"
        }
    ]
}