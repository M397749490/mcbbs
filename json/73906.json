{
    "title": "[综合|安全|经济|传送|管理]多功能集成插件v1.2.2 —— 必备插件合集！[1.4.6-R0.1]",
    "author": "压力马斯内",
    "replyCount": 7,
    "timestamp": 1356861420,
    "txt_content": "本插件的最初诉求为一体成形、简易设定、方便管理以及可以轻松进行个人化的调整。\n主要的插件功能都具有独立开关。目前暂无权限方面的设定，较适用于小型服务器。\n此外插件初始目的之一就是当教学用材料，所以欢迎自行取用源始码进行个人需求的修改。\n\n插件的设定全都集合在config.yml单一档案上。另外会自动产生data.yml用来记录相关资料。\n新版本追加value.yml档案，用来转换怪物名称、物品名称。\n建议使用Notepad++ 做为编辑YAML 档案的软件。\nNotepad++官方页：http://notepad-plus-plus.org\n\n\nExpansionManager目前有三个主要功能：\n　      IPAuth：可将玩家的名称与IP位置做绑定处理。\n　 　 此功能仅适于玩家皆为固定IP或者透过如同LogMeIn Hamachi的方式连线时使用。\n　 　 预设为关闭状态。\n　 　 ● 功能初始参照插件为同名的IPAuth插件。\n　      KeepInventory：可设定死亡时是否保留身上物品，并可做机率性保留处理及掉落时的公告设定。\n　 　 ● 功能初始参照插件为KeepItems插件。\n　      Protection：可设置各种游戏保护的功能。\n　 　 除一般的爆炸类保护外，额外有设定僵尸是否能破坏门、\n　 　 是否可破坏挂画及物品展示框以及玩家离线时进行宠物保护等功能。\n　 　 ● 功能初始参照插件为NoEntityGrief 、 SafeExplosions 、 LockProtection等插件。\n\n\nCommandManager主要为指令方面的追加功能：\n　      CommandRestrict：开启时将会使玩家除了设定内的指令外，其余指令皆无效 &#8203;&#8203;。\n　 　 ● 功能初始参照插件为UnknownCommand插件。\n　      CommandCooldown：可设定指令的再次使用时间。\n　      Back：指令/back可返回先前的死亡地点。\n　      Hat：指令/hat可将手中物品戴至头上。\n　 　 ● 功能初始参照插件为SimpleHat插件。\n　      Home：指令/homeset可设置当前地点为家。而/home可返回到设置的家。\n　 　 ● 功能初始参照插件为Homestead插件。\n　      Ping：指令/ping可查询与伺服器的延迟时间。\n　      Spawn：指令/spawnset可设置当前位置为该世界的重生点。而/spawn可返回到重生点。\n　 　 ● 功能初始参照插件为PlgSetspawn插件。\n\n\nMessageManager\n　 主要为讯息方面的功能设定。\n　 可设置玩家聊天讯息的格式、玩家加入游戏、离开游戏及死亡讯息、重生讯息。\n　 此外还可自订Help 帮助清单跟设置循环提示讯息的功能。\n　 ● 预设的游戏讯息格式设定方面，功能初始参照插件为nChat + dhmcDeath插件。\n　 ● 自制帮助清单的功能初始参照插件为iHelp插件。\n　 ● 循环提示讯息的功能初始参照插件为ZNounce插件。\n\n\nBonusSystem\n　 奖励系统，可在玩家累积在线时间达到设定时给予玩家奖励。\n　 ● 功能初始参照插件为DailyBonus插件。\n\n\nMoneySystem\n　 独立的金钱系统，可在玩家杀死生物时给予玩家金钱。\n　 目前附有指令的直接交易功能做为衍生应用。\n　 ● 功能初始参照插件为MobBountyReloaded插件。\n\n\n插件的所有指令：\nback         返回死亡点\nhat         将手中物品戴至头上\nhome         回到设定的家\nhomeset         设定当前位置为家\nmoney         查询拥有的金钱\nmoneyset         设定玩家的金钱量        Operator 限定\nping         查询与伺服器的延迟时间\ntrade        回应交易的同意与否\ntip         开关游戏提示\nsell        将手中物品贩售给指定玩家\nspawn         回到重生点\nspawnset         设定游戏重生点\nOperator 限定\n\n\n　  插 件 设 定  　　\n\n。 ExpansionManager\n　 。 Setting\n　 　 。 IPAuth\n　 　　  。 MaxAccounts 设置一个IP最多可注册的名称数量。\n　 　 。 KeepInventory\n　 　　  。 DropPercent 设定玩家死亡时掉落物品的机率百分比。请直接输入0 ~ 100的整数。\n　 　　  。 DropBroadcast 设定玩家死亡并掉落物品时是否进行公告。\n　 　 。 Protection\n　 　　  。 WorldName 设定要进行以下保护功能的世界名称。\n　 　　  。 BlockIgniteByLightning 保护被闪电击中的方块不着火。\n　 　　  　 设定0 为关闭此保护。\n　 　　  　 设定1 为开启此保护。\n　 　　  　 设定2 为开启此保护，但仅限在重生点范围内。\n　 　　  　 以下保护功能皆是如此设定。\n　 　　  。 EntityBreakDoor 保护门不被生物破坏。\n　 　　  。 EntityChangeBlockByEnderman 保护方块不被Enderman终界使者搬动。\n　 　　  。 EntityChangeBlockByWither 保护方块不被Wither凋零怪撞毁。\n　 　　  。 EntityDamage 保护生物不被伤害。除OP的普通攻击类可进行强制伤害。\n　 　　  。 EntityDamageByPetWhenOwnerOffline 保护狗跟猫在饲主离线时不受伤害。\n　 　　  。 EntityExplodeByCreeper 保护方块不被Creeper苦力怕破坏。\n　 　　  。 EntityExplodeByFireball 保护方块不被火球类的爆炸（如Ghost地狱幽灵）给破坏。\n　 　　  。 EntityExplodeByTNT 保护方块不被TNT 破坏。\n　 　　  。 EntityExplodeByWitherSpawn 保护方块不被Wither凋零怪生成时的爆炸给破坏。\n　 　　  。 EntityExplodeByWitherSkull 保护方块不被Wither凋零怪的凋零骷髅头所产生的爆炸给破坏。\n　 　　  。 HangingBreak 保护画及物品展示框不被破坏。但若依附的方块被破坏仍会掉落。\n　 　　  。 HangingPlace 使画及物品展示框无法放置。\n　 　　  。 PigZap 保护猪不会因为被闪电击中而变成僵尸猪人。\n　 　　  。 PlayerInteractTrampleSoil 保护农地不会因玩家践踏而变回土块。\n　 　　  。 PlayerInteractBreakBlock 使玩家无法与下面PlayerInteractBreakBlockIDList所设定的方块互动。\n　 　　  。 PlayerInteractBreakBlockIDList 同上，在此列方块ID清单中的方块将无法进行互动。\n　 　　  　 关于方块ID请参照 Minecraft Wiki : Data values\n。 CommandManager\n　 。 Setting\n　 　 。 CommandRestrict\n　 　　  。 Allow 当启用时，除了在这边设定的指令外，其余指令皆将无法使用。\n　 　 。 CommandCooldown\n　 　　  。 List 设定指令的冷却时间。以「:」冒号为分隔，前为指令名称，后为冷却时间。以秒为单位。\n　 　　  。 Format 可设定给玩家的讯息中的时间格式。以「,」逗号为分隔，依序为秒钟、分钟、小时。\n　 　 。 Back\n　 　　  。 SpendFood 可设定使用指令时所消耗的饱食度。\n　 　　  　 若要设定为消耗一格饱食度则设定2 ，半格饱食度则设定为1 。\n　 　　  　 当值为0 时则关闭消耗饱食度的设定。\n　 　　  　 下方Home 、Spawn 都有相同功能。\n　 　 。 Ping\n　 　　  。 Value 对应下面Color中的数值颜色。\n　 　　  　 例如预设值的100,300 则代表：\n　 　　  　 当延迟时间为0 ~ 100 时显示Color 的第一个颜色。\n　 　　  　 当延迟时间为101 ~ 300 时显示Color 的第二个颜色。\n　 　　  　 当延迟时间为300 以上时则显示Color 的第三个颜色。\n　 　 。 Spawn\n　 　　  。 FirstJoinInSpawn 设定玩家初次进入时是否诞生在重生点。否则如预设的会随机生在重生范围内。\n　 　　  。 FirstJoinStrikeLighting 设定玩家初次进入时是否在该处降下落雷。\n。 MessageManager\n　 。 Setting\n　 　 。 Chat 是否自订玩家对话格式。\n　 　 。 Join 是否自订玩家加入游戏时的讯息。\n　 　 。 Quit 是否自订玩家离开游戏时的讯息。\n　 　 。 First 是否使用玩家第一次加入游戏时的讯息。\n　 　 。 Respawn 是否使用玩家重生时的讯息。\n　 　 。 Death 是否自订玩家死亡时的讯息。\n　 　 。 Help 是否使用自订的/help帮助清单。\n　 　 。 Tip\n　 　　  。 Interval 设置循环游戏提示的间隔时间，以秒为单位。\n　 　　  。 Random 设置游戏提示的方式，true为随机，false为依照顺序。\n　 。 Message\n　 　 。 Help\n　 　　  。 Player 这边将设定一般玩家使用/help所得到的帮助清单。\n　 　　  。 Operator 这边则为OP才看得到的部分。\n。 BonusSystem\n　 。 Setting\n　 　 。 TimerInterval 设定玩家在线时间的记录间隔。以秒为单位。\n　 　　  数值越小则记录间隔越短，而玩家的在线时间也就记录得越精准，但相对的会使资料档写入较频繁。\n　 　 。 BonusInterval 当玩家累积的在线时间达到此数量时即给予奖励。以秒为单位。\n　 。 Group\n　 　 。 0 给予奖励的组别，限数字，从0开始。\n　 　　  。 Item 给予的奖励物品，以「x」为分隔，前方为物品ID ，后方为数量。\n　 　　  。 Percent 得到该组奖励的机率百分比。\n　 　　  　 系统一定会选出一组奖励，所以只有在有2组以上的奖励组别时，此机率设定才有实际功效。\n　 　　  　 选择方式为：先随机选择组别（公平机率），之后再依照组别的机率判定是否获得该组奖励。\n　 　　  　 若在机率外则会重新选择组别。\n　 　　  。 Broadcast 当得到本组奖励时是否进行公告。\n　 　　  。 BroadcastMessage 当使用公告时的公告讯息设定。\n。 MoneySystem\n　 。 Setting\n　 　 。 Blaze ~ Zombie\n　 　　  为杀死怪物获得的金钱设定，以「,」逗号为分隔，\n　 　　  依序为掉落的最大金钱量、最小金钱量、掉落机率。\n　 　　  PS 预设中杀死终界龙是所有线上玩家一起获得金钱。\n　 　 。 TradeTime\n　 　　  设定交易的逾时时间，以秒为单位。\n\n\n所有讯息设定中，若要使用颜色设定则都使用游戏预设的「§」符号。如§f之后的文字便是白色。\n相关颜色代码请参照 Minecraft Wiki : Formatting codes\n\n\n　  后 　 　 记  　　\n\n编辑YAML档时请注意空白的数量，例如非清单格式的字串，请注意勿与上层开头对齐，须多空1格空白。\n且请勿使用如记事本的Tab 功能进行缩排。\n\n而使用Notepad++编辑时，若习惯使用Tab进行缩排可如下图将「以Space取代」勾取。\n之后使用Tab 就等于是4 个Space 空白。\n\n\n\n\n\n\ne30b859dba6a45f4d84fc61aa6fc37e6.PNG (71.78 KB, 下载次数: 3)\n\n下载附件\n\n2012-12-30 17:53 上传\n\n\n\n\n\n\n\n下载：\n\n\n\n\n多功能集成插件.rar\n(31.49 KB, 下载次数: 1052)\n\n\n\n2012-12-30 17:56 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n源码：\n\npackage AFormula;import java.io.File;import java.io.IOException;import java.io.InputStream;import java.text.NumberFormat;import java.util.ArrayList;import java.util.List;import java.util.Set;import java.util.Timer;import java.util.TimerTask;import net.minecraft.server.v1_4_6.EntityPlayer;import org.bukkit.Location;import org.bukkit.Material;import org.bukkit.OfflinePlayer;import org.bukkit.command.Command;import org.bukkit.command.CommandSender;import org.bukkit.configuration.MemorySection;import org.bukkit.configuration.file.FileConfiguration;import org.bukkit.configuration.file.YamlConfiguration;import org.bukkit.craftbukkit.v1_4_6.entity.CraftCreeper;import org.bukkit.craftbukkit.v1_4_6.entity.CraftPlayer;import org.bukkit.craftbukkit.v1_4_6.entity.CraftSkeleton;import org.bukkit.entity.AnimalTamer;import org.bukkit.entity.Animals;import org.bukkit.entity.Arrow;import org.bukkit.entity.Blaze;import org.bukkit.entity.Creeper;import org.bukkit.entity.EnderDragon;import org.bukkit.entity.Enderman;import org.bukkit.entity.EntityType;import org.bukkit.entity.Fireball;import org.bukkit.entity.Ghast;import org.bukkit.entity.IronGolem;import org.bukkit.entity.LivingEntity;import org.bukkit.entity.Ocelot;import org.bukkit.entity.Player;import org.bukkit.entity.Skeleton;import org.bukkit.entity.Snowman;import org.bukkit.entity.Squid;import org.bukkit.entity.TNTPrimed;import org.bukkit.entity.Tameable;import org.bukkit.entity.ThrownPotion;import org.bukkit.entity.Villager;import org.bukkit.entity.Witch;import org.bukkit.entity.Wither;import org.bukkit.entity.WitherSkull;import org.bukkit.entity.Wolf;import org.bukkit.event.EventHandler;import org.bukkit.event.Listener;import org.bukkit.event.block.Action;import org.bukkit.event.block.BlockIgniteEvent;import org.bukkit.event.block.BlockIgniteEvent.IgniteCause;import org.bukkit.event.entity.EntityBreakDoorEvent;import org.bukkit.event.entity.EntityChangeBlockEvent;import org.bukkit.event.entity.EntityDamageByEntityEvent;import org.bukkit.event.entity.EntityDamageEvent;import org.bukkit.event.entity.EntityDeathEvent;import org.bukkit.event.entity.EntityExplodeEvent;import org.bukkit.event.entity.PigZapEvent;import org.bukkit.event.entity.PlayerDeathEvent;import org.bukkit.event.hanging.HangingBreakByEntityEvent;import org.bukkit.event.hanging.HangingBreakEvent;import org.bukkit.event.hanging.HangingPlaceEvent;import org.bukkit.event.hanging.HangingBreakEvent.RemoveCause;import org.bukkit.event.player.AsyncPlayerChatEvent;import org.bukkit.event.player.PlayerCommandPreprocessEvent;import org.bukkit.event.player.PlayerInteractEvent;import org.bukkit.event.player.PlayerJoinEvent;import org.bukkit.event.player.PlayerLoginEvent;import org.bukkit.event.player.PlayerQuitEvent;import org.bukkit.event.player.PlayerRespawnEvent;import org.bukkit.inventory.ItemStack;import org.bukkit.inventory.PlayerInventory;import org.bukkit.plugin.java.JavaPlugin;public class AFormula extends JavaPlugin implements Listener{        File ConfigFile;        FileConfiguration Config;                File DataFile;        FileConfiguration Data;                File ValueFile;        FileConfiguration Value;                int TipNumber = 0;                String ProtectionWorldName = null;        int ProtectionSpawnX = 0;        int ProtectionSpawnZ = 0;        int ProtectionSpawnR = 0;        int ProtectionEventX = 0;        int ProtectionEventZ = 0;                public void onEnable()        {                ConfigFile = new File(getDataFolder(), \"config.yml\");                if (!ConfigFile.exists()) { saveDefaultConfig(); }                                DataFile = new File(getDataFolder(), \"data.yml\");                Data = YamlConfiguration.loadConfiguration(DataFile);                                ValueFile = new File(getDataFolder(), \"value.yml\");                                InputStream Stream = getResource(\"value.yml\");                if (Stream != null && (!new File(getDataFolder(), \"value.yml\").exists()))                {                        Value = YamlConfiguration.loadConfiguration(Stream);                        try { Value.save(ValueFile); } catch (IOException e) { e.printStackTrace(); }                }                else                {                        Value = YamlConfiguration.loadConfiguration(Stream);                }                                Set<String> DataList = Data.getKeys(true);                String PlayerData = DataList.toString().replaceAll(\"\\\\[\", \"\").replaceAll(\"\\\\]\", \"\").replaceAll(\" \", \"\");                String[] PlayerDataArray = PlayerData.split(\",\");                String PlayerList = null;                int NewDataMax = -1;                if (PlayerDataArray.length > 1)                {                        for (int Number = 1; (Number + 1) != PlayerDataArray.length; Number++)                        {                                String[] NewData = PlayerDataArray[Number].toString().split(\"[.]\");                                if (NewDataMax < 0) { PlayerList = NewData[1]; NewDataMax++; }                                else                                {                                        String[] NowList = PlayerList.split(\",\");                                        int Check = 0;                                        for (int CheckNumber = 0; NewDataMax >= CheckNumber; CheckNumber++)                                        {                                                if (NowList[CheckNumber].equals(NewData[1])) { Check = 1; }                                        }                                        if (Check == 0)                                        {                                                PlayerList = PlayerList + \",\" + NewData[1];                                                NewDataMax = NewDataMax + 1;                                        }                                }                        }                }                                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\")) { ProtectionWorldName = getConfig().getString(\"ExpansionManager.Setting.Protection.WorldName\"); ProtectionSpawnX = getServer().getWorld(ProtectionWorldName).getSpawnLocation().getBlockX(); ProtectionSpawnZ = getServer().getWorld(ProtectionWorldName).getSpawnLocation().getBlockZ(); ProtectionSpawnR = getServer().getSpawnRadius(); }                                if (getConfig().getBoolean(\"MoneySystem.Enable\"))                {                        if (PlayerDataArray.length > 1)                        {                                String[] FinalList = PlayerList.split(\",\");                                for (int NeedCheckNumber = FinalList.length; NeedCheckNumber != 0; NeedCheckNumber--)                                {                                        if (Data.get(\"Player.\" + (FinalList[NeedCheckNumber - 1]) + \".Trade\") != null) { Data.set(\"Player.\" + (FinalList[NeedCheckNumber - 1]) + \".Trade\", null); DataSave(); }                                        if (Data.get(\"Player.\" + (FinalList[NeedCheckNumber - 1]) + \".TradeItem\") != null) { Data.set(\"Player.\" + (FinalList[NeedCheckNumber - 1]) + \".TradeItem\", null); DataSave(); }                                }                        }                }                                if (getConfig().getBoolean(\"CommandManager.Enable\") && getConfig().getBoolean(\"CommandManager.Setting.CommandCooldown.Enable\"))                {                        if (PlayerDataArray.length > 1)                        {                                String[] FinalList = PlayerList.split(\",\");                                for (int NeedCheckNumber = FinalList.length; NeedCheckNumber != 0; NeedCheckNumber--)                                {                                        if (Data.get(\"Player.\" + (FinalList[NeedCheckNumber - 1]) + \".CommandCooldown\") != null) { Data.set(\"Player.\" + (FinalList[NeedCheckNumber - 1]) + \".CommandCooldown\", null); DataSave(); }                                }                        }                }                                getServer().getPluginManager().registerEvents(this, this);        }                public boolean onCommand (CommandSender CommandSender, Command Command, String CommandString, String[] StringArray)        {                if (CommandSender instanceof Player)                {                        Player Player = (Player) CommandSender;                        String PlayerName = Player.getName().toUpperCase();                                                if (getConfig().getBoolean(\"CommandManager.Enable\"))                        {                                                                if (getConfig().getBoolean(\"CommandManager.Setting.Back.Enable\") && CommandString.equalsIgnoreCase(\"back\"))                                {                                        if (Data.getString(\"Player.\" + PlayerName + \".DeathPoint\") != null)                                        {                                                byte SpendFood = (byte) getConfig().getInt(\"CommandManager.Setting.Back.SpendFood\");                                                if (SpendFood < 0) { SpendFood = 0; }                                                if (SpendFood > 20) { SpendFood = 20; }                                                if ((SpendFood > 0) && (Player.isOp() == false))                                                {                                                        int PlayerFood = Player.getFoodLevel();                                                        if (SpendFood > PlayerFood) { Player.sendMessage(getConfig().getString(\"CommandManager.Message.ErrorFoodNotEnough\")); return true; }                                                        else { Player.setFoodLevel(PlayerFood-SpendFood); }                                                }                                                String[] DeathPointData = Data.getString(\"Player.\" + PlayerName + \".DeathPoint\").split(\"[,]\");                                                Location DeathPoint = new Location(getServer().getWorld(DeathPointData[0]), Float.valueOf(DeathPointData[1]), Float.valueOf(DeathPointData[2]), Float.valueOf(DeathPointData[3]));                                                Player.teleport(DeathPoint);                                                Player.sendMessage(getConfig().getString(\"CommandManager.Message.BackSuccess\"));                                                Data.set(\"Player.\" + PlayerName + \".DeathPoint\", null);                                                DataSave();                                        }                                        else { Player.sendMessage(getConfig().getString(\"CommandManager.Message.BackError\")); }                                }                                                                if (getConfig().getBoolean(\"CommandManager.Setting.Hat.Enable\") && CommandString.equalsIgnoreCase(\"hat\"))                                {                                        if (Player.getItemInHand().getType() == Material.AIR) { Player.sendMessage(getConfig().getString(\"CommandManager.Message.HatErrorAir\")); }                                        else if (Player.getItemInHand().getAmount() == 1)                                        {                                                PlayerInventory Inventory = Player.getInventory();                                                ItemStack ItemHand = Player.getItemInHand();                                                ItemStack ItemHead = Inventory.getHelmet();                                                Inventory.setHelmet(ItemHand);                                                Inventory.setItemInHand(ItemHead);                                                Player.sendMessage(getConfig().getString(\"CommandManager.Message.HatSuccess\"));                                        }                                        else if (Player.getItemInHand().getAmount() > 1) { Player.sendMessage(getConfig().getString(\"CommandManager.Message.HatErrorPlural\")); }                                        else { return true; }                                }                                                                if (getConfig().getBoolean(\"CommandManager.Setting.Home.Enable\"))                                {                                                                                if (CommandString.equalsIgnoreCase(\"home\"))                                        {                                                if (Data.getString(\"Player.\" + PlayerName + \".Home\") != null)                                                {                                                        byte SpendFood = (byte) getConfig().getInt(\"CommandManager.Setting.Home.Setting.SpendFood\");                                                        if (SpendFood < 0) { SpendFood = 0; }                                                        if (SpendFood > 20) { SpendFood = 20; }                                                        if ((SpendFood > 0) && (Player.isOp() == false))                                                        {                                                                int PlayerFood = Player.getFoodLevel();                                                                if (SpendFood > PlayerFood) { Player.sendMessage(getConfig().getString(\"CommandManager.Message.ErrorFoodNotEnough\")); return true; }                                                                else { Player.setFoodLevel(PlayerFood-SpendFood); }                                                        }                                                        String[] HomeData = Data.getString(\"Player.\" + PlayerName + \".Home\").split(\"[,]\");                                                        Location Home = new Location(getServer().getWorld(HomeData[0]), Float.valueOf(HomeData[1]), Float.valueOf(HomeData[2]), Float.valueOf(HomeData[3]));                                                        Player.teleport(Home);                                                        Player.sendMessage(getConfig().getString(\"CommandManager.Message.HomeSucces\"));                                                }                                                else { Player.sendMessage(getConfig().getString(\"CommandManager.Message.HomeError\")); }                                        }                                                                                if (CommandString.equalsIgnoreCase(\"homeset\"))                                        {                                                Data.set(\"Player.\" + PlayerName + \".Home\", Player.getWorld().getName() + \",\" + ((float) Player.getLocation().getX()) + \",\" + ((float) Player.getLocation().getY()) + \",\" + ((float) Player.getLocation().getZ()));                                                DataSave();                                                Player.sendMessage(getConfig().getString(\"CommandManager.Message.HomesetSucces\"));                                        }                                                                        }                                                                if (getConfig().getBoolean(\"CommandManager.Setting.Ping.Enable\") && CommandString.equalsIgnoreCase(\"ping\"))                                {                                        CraftPlayer CraftPlayer = (CraftPlayer) Player;                                        EntityPlayer EntityPlayer = CraftPlayer.getHandle();                                        int Ping = EntityPlayer.ping;                                        String FinalPing = null;                                        String[] ValueArray = getConfig().getString(\"CommandManager.Setting.Ping.Value\").split(\"[,]\");                                        String[] ColorArray = getConfig().getString(\"CommandManager.Setting.Ping.Color\").split(\"[,]\");                                        if (Ping < 0) { Ping = 0; }                                        if (Ping > Integer.valueOf(ValueArray[1])) { FinalPing = ColorArray[2] + Integer.toString(Ping); }                                        if (Ping <= Integer.valueOf(ValueArray[1])) { FinalPing = ColorArray[1] + Integer.toString(Ping); }                                        if (Ping <= Integer.valueOf(ValueArray[0])) { FinalPing = ColorArray[0] + Integer.toString(Ping); }                                        Player.sendMessage(getConfig().getString(\"CommandManager.Message.Ping\").replaceAll(\"%Ping\", FinalPing));                                }                                                                if (getConfig().getBoolean(\"CommandManager.Setting.Spawn.Enable\"))                                {                                        if (CommandString.equalsIgnoreCase(\"spawn\"))                                        {                                            byte SpendFood = (byte) getConfig().getInt(\"CommandManager.Setting.Spawn.SpendFood\");                                                if (SpendFood < 0) { SpendFood = 0; }                                                if (SpendFood > 20) { SpendFood = 20; }                                                if ((SpendFood > 0) && (Player.isOp() == false))                                                {                                                        int PlayerFood = Player.getFoodLevel();                                                        if (SpendFood > PlayerFood) { Player.sendMessage(getConfig().getString(\"CommandManager.Message.ErrorFoodNotEnough\")); return true; }                                                        else { Player.setFoodLevel(PlayerFood-SpendFood); }                                                }                                                Location SpawnLocation = Player.getWorld().getSpawnLocation();                                                SpawnLocation.setX(SpawnLocation.getX()+0.5);                                                SpawnLocation.setY(SpawnLocation.getY()+1);                                                SpawnLocation.setZ(SpawnLocation.getZ()+0.5);                                                 Player.teleport(SpawnLocation);                                                Player.sendMessage(getConfig().getString(\"CommandManager.Message.SpawnSucces\"));                                        }                                                                                if (CommandString.equalsIgnoreCase(\"spawnset\"))                                        {                                                if (Player.isOp())                                                {                                                        Location PlayerLocation = Player.getLocation();                                                        Player.getWorld().setSpawnLocation(PlayerLocation.getBlockX(), PlayerLocation.getBlockY(), PlayerLocation.getBlockZ());                                                        Player.sendMessage(getConfig().getString(\"CommandManager.Message.SpawnsetSucces\"));                                                }                                        }                                                                        }                                                        }                                                if (getConfig().getBoolean(\"MessageManager.Enable\") && getConfig().getBoolean(\"MessageManager.Setting.Help\") && CommandString.equalsIgnoreCase(\"help\"))                        {                                List<String> Help = new ArrayList<String>(getConfig().getStringList(\"MessageManager.Message.Help.Player\"));                                for (int HelpNumber = 0; HelpNumber <= Help.size() - 1; HelpNumber++) { Player.sendMessage(Help.get(HelpNumber)+\"\"); }                                if (Player.isOp())                                {                                        List<String> HelpToOP = new ArrayList<String>(getConfig().getStringList(\"MessageManager.Message.Help.Operator\"));                                        for (int HelpNumber = 0; HelpNumber <= HelpToOP.size() - 1; HelpNumber++) { Player.sendMessage(HelpToOP.get(HelpNumber)+\"\"); }                                }                        }                                                if (getConfig().getBoolean(\"MoneySystem.Enable\"))                        {                                if (CommandString.equalsIgnoreCase(\"money\"))                                {                                        Player.sendMessage(getConfig().getString(\"MoneySystem.Message.CheckMoney\").replaceAll(\"%Money\", NumberFormat.getInstance().format(Data.getInt(\"Player.\" + PlayerName + \".Money\"))));                                }                                                                if ((CommandString.equalsIgnoreCase(\"moneyset\")) && Player.isOp())                                {                                        if (StringArray.length == 2)                                        {                                                if (Data.get(\"Player.\" + StringArray[0].toUpperCase() + \".Money\") != null)                                                {                                                        byte Code = 0;                                                        if (StringArray[1].substring(0, 1).equals(\"+\")) { Code = 1; } else if (StringArray[1].substring(0, 1).equals(\"-\")) { Code = 2; }                                                        String Amount = 0 + StringArray[1].replaceAll(\"\\\\D+\", \"\");                                                        int NewAmount = Integer.parseInt(Amount);                                                        int PrimeAmount = (int) Data.get(\"Player.\" + StringArray[0].toUpperCase() + \".Money\");                                                        if (Code == 0)                                                        {                                                                Data.set(\"Player.\" + StringArray[0].toUpperCase() + \".Money\", NewAmount);                                                                DataSave();                                                                Player.sendMessage(getConfig().getString(\"MoneySystem.Message.SuccessSet\").replaceAll(\"%Player\", getServer().getPlayer(StringArray[0]).getName()).replaceAll(\"%Money\", NumberFormat.getInstance().format(NewAmount)));                                                        }                                                        else if (Code == 1)                                                        {                                                                Data.set(\"Player.\" + StringArray[0].toUpperCase() + \".Money\", PrimeAmount + NewAmount);                                                                DataSave();                                                                Player.sendMessage(getConfig().getString(\"MoneySystem.Message.SuccessSetAdd\").replaceAll(\"%Player\", getServer().getPlayer(StringArray[0]).getName()).replaceAll(\"%Amount\", NumberFormat.getInstance().format(NewAmount)).replaceAll(\"%Money\", NumberFormat.getInstance().format(Data.getInt(\"Player.\" + StringArray[0].toUpperCase() + \".Money\"))));                                                        }                                                        else if (Code == 2)                                                        {                                                                Data.set(\"Player.\" + StringArray[0].toUpperCase() + \".Money\", PrimeAmount - NewAmount);                                                                DataSave();                                                                Player.sendMessage(getConfig().getString(\"MoneySystem.Message.SuccessSetSubtract\").replaceAll(\"%Player\", getServer().getPlayer(StringArray[0]).getName()).replaceAll(\"%Amount\", NumberFormat.getInstance().format(NewAmount)).replaceAll(\"%Money\", NumberFormat.getInstance().format(Data.getInt(\"Player.\" + StringArray[0].toUpperCase() + \".Money\"))));                                                        }                                                }                                                else { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorData\")); }                                        }                                        else { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorFormat\")); }                                }                                                                if (CommandString.equalsIgnoreCase(\"sell\"))                                {                                                                                if (StringArray.length != 2) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorFormatSell\")); return true; }                                        if (getServer().getPlayer(StringArray[0]) == null) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorOfflineSell\")); return true; }                                        String Amount = 0 + StringArray[1].replaceAll(\"\\\\D+\", \"\");                                        int Price = Integer.parseInt(Amount);                                        if (Price <= 0) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorPriceSell\")); return true; }                                        Player Buyer = (Player) getServer().getPlayer(StringArray[0]);                                        if (Player.getName().toUpperCase().equals(StringArray[0].toUpperCase())) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorSelfSell\")); return true; }                                        if (Data.get(\"Player.\" + Player.getName().toUpperCase() + \".Trade\") != null) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorIngSell\")); return true; }                                        if (Data.get(\"Player.\" + StringArray[0].toUpperCase() + \".Trade\") != null)                                        {                                                String[] TradeData = Data.getString(\"Player.\" + StringArray[0].toUpperCase() + \".Trade\").split(\",\");                                                if (TradeData[0].equals(Player.getName().toUpperCase())) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.SellRequesting\")); }                                                else { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.SellRequestError\")); }                                                return true;                                        }                                        if (Player.getItemInHand().getType().name().equals(\"AIR\") || Player.getItemInHand().getAmount() == 0) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorItemSell\")); return true; }                                        Data.set(\"Player.\" + Player.getName().toUpperCase() + \".Trade\", \"Requesting\");                                        Data.set(\"Player.\" + StringArray[0].toUpperCase() + \".Trade\", Player.getName().toUpperCase() + \",\" + Price + \",\" + Player.getItemInHand().getData().toString() + \",\" + Player.getItemInHand().getTypeId() + \",\" + Player.getItemInHand().getAmount() + \",\" + Player.getItemInHand().getDurability() + \",\" + Player.getItemInHand().getEnchantments().size() + \",\" + System.currentTimeMillis());                                        Data.set(\"Player.\" + StringArray[0].toUpperCase() + \".TradeItem\", Player.getItemInHand());                                                                                String ItemName = Player.getItemInHand().getData().toString();                                        if (Value.getString(\"DataValue.\" + Player.getItemInHand().getData().toString()) != null)                                        {                                                ItemName = Value.getString(\"DataValue.\" + Player.getItemInHand().getData().toString());                                        }                                        else if (Value.getString(\"DataValue.\" + Player.getItemInHand().getTypeId()) != null)                                        {                                                ItemName = Value.getString(\"DataValue.\" + Player.getItemInHand().getTypeId());                                        }                                                                                String InfoDurability = \"\";                                        String InfoEnchantments = \"\";                                        String[] CheckList = Value.get(\"DataValue.CheckDurability\").toString().split(\",\");                                        int CheckListLenght = CheckList.length - 1;                                        boolean CheckEnable = false;                                        for (int CheckNumber = 0; CheckNumber <= CheckListLenght; CheckNumber++)                                        {                                                if (Player.getItemInHand().getTypeId() == Integer.valueOf(CheckList[CheckNumber])) { CheckEnable = true; }                                        }                                        if (CheckEnable == true) { InfoDurability = getConfig().getString(\"MoneySystem.Message.TradeInfoDurability\").replaceAll(\"%Durability\", String.valueOf(Player.getItemInHand().getDurability())); }                                        if (Player.getItemInHand().getEnchantments().size() > 0) { InfoEnchantments = getConfig().getString(\"MoneySystem.Message.TradeInfoEnchantments\").replaceAll(\"%Enchantments\", String.valueOf(Player.getItemInHand().getEnchantments().size())); }                                                                                Buyer.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeRequest\")                                                        .replaceAll(\"%Player\", Player.getName())                                                        .replaceAll(\"%Price\", NumberFormat.getInstance().format(Price))                                                        .replaceAll(\"%Item\", ItemName)                                                        .replaceAll(\"%Amount\", String.valueOf(Player.getItemInHand().getAmount()))                                                        .replaceAll(\"%InfoDurability\", InfoDurability)                                                        .replaceAll(\"%InfoEnchantments\", InfoEnchantments));                                                                                if (getConfig().getBoolean(\"MessageManager.Enable\") && getConfig().getBoolean(\"MessageManager.Setting.Tip.Enable\") && Data.getBoolean(\"Player.\" + Buyer.getName().toUpperCase() + \".Tip\"))                                        {                                                Buyer.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeRequestTip\"));                                        }                                        Player.sendMessage(getConfig().getString(\"MoneySystem.Message.SellRequesting\"));                                                                                final Player FinalBuyer = getServer().getPlayer(StringArray[0]);                                        final Player FinalSeller = (Player) CommandSender;                                        final ItemStack FinalItem = Player.getItemInHand();                                        final int TradeTime = getConfig().getInt(\"MoneySystem.Setting.TradeTime\");                                        getServer().getScheduler().scheduleSyncDelayedTask(this, new Runnable()                                        {                                                public void run()                                                {                                                        if ((Data.get(\"Player.\" + FinalBuyer.getName().toUpperCase() + \".TradeItem\") != null) && (Data.get(\"Player.\" + FinalBuyer.getName().toUpperCase() + \".Trade\") != null))                                                        {                                                                String[] DataArray = Data.get(\"Player.\" + FinalBuyer.getName().toUpperCase() + \".Trade\").toString().split(\",\");                                                                if ((Data.get(\"Player.\" + FinalBuyer.getName().toUpperCase() + \".TradeItem\").equals(FinalItem)) && ((((System.currentTimeMillis() - Long.valueOf(DataArray[7])) / 1000) + 2) >= TradeTime))                                                                {                                                                        Data.set(\"Player.\" + FinalSeller.getName().toUpperCase() + \".Trade\", null);                                                                        Data.set(\"Player.\" + FinalBuyer.getName().toUpperCase() + \".Trade\", null);                                                                        Data.set(\"Player.\" + FinalBuyer.getName().toUpperCase() + \".TradeItem\", null);                                                                        if (FinalSeller.isOnline())                                                                        {                                                                                if ((FinalSeller.getInventory().firstEmpty() < 0) || (FinalSeller.getInventory().firstEmpty() < 0 && FinalSeller.getGameMode().toString().equals(\"CREATIVE\")))                                                                                {                                                                                        FinalSeller.getWorld().dropItemNaturally(FinalSeller.getLocation(), FinalItem);                                                                                        Data.set(\"Player.\" + FinalSeller.getName().toUpperCase() + \".TradeTemp\", null);                                                                                }                                                                                else                                                                                {                                                                                        FinalSeller.getInventory().addItem(FinalItem);                                                                                        Data.set(\"Player.\" + FinalSeller.getName().toUpperCase() + \".TradeTemp\", null);                                                                                }                                                                        }                                                                        DataSave();                                                                        FinalBuyer.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeFailTimeout\"));                                                                        FinalSeller.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeFailTimeout\"));                                                                }                                                        }                                                }                                        } , 20 * TradeTime);                                                                                Player.getInventory().remove(FinalItem);                                        Data.set(\"Player.\" + Player.getName().toUpperCase() + \".TradeTemp\", FinalItem);                                        DataSave();                                                                        }                                                                if (CommandString.equalsIgnoreCase(\"trade\"))                                {                                        if (StringArray.length != 1) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorFormatTrade\")); return true; }                                        if (StringArray[0] == null) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorFormatTrade\")); return true; }                                        if (Data.get(\"Player.\" + Player.getName().toUpperCase() + \".Trade\") == null) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeErrorNoRequest\")); return true; }                                        if (Data.get(\"Player.\" + Player.getName().toUpperCase() + \".Trade\").equals(\"Requesting\")) { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeErrorRequesting\")); return true; }                                                                                if (StringArray[0].equalsIgnoreCase(\"yes\"))                                        {                                                String[] TradeData = Data.getString(\"Player.\" + Player.getName().toUpperCase() + \".Trade\").split(\",\");                                                ItemStack TradeItem = Data.getItemStack(\"Player.\" + Player.getName().toUpperCase() + \".TradeItem\");                                                int BuyerMoney = Data.getInt(\"Player.\" + Player.getName().toUpperCase() + \".Money\");                                                int TradePrice = Integer.valueOf(TradeData[1]);                                                Player Seller = getServer().getPlayer(TradeData[0]);                                                                                                if (Seller == null || Seller.isOnline() == false)                                                {                                                        Data.set(\"Player.\" + TradeData[0].toUpperCase() + \".Trade\", null);                                                        Data.set(\"Player.\" + Player.getName().toUpperCase() + \".Trade\", null);                                                        Data.set(\"Player.\" + Player.getName().toUpperCase() + \".TradeItem\", null);                                                        DataSave();                                                        Player.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeFailOffline\"));                                                        return true;                                                }                                                                                                if (BuyerMoney < TradePrice)                                                {                                                        Data.set(\"Player.\" + Seller.getName().toUpperCase() + \".Trade\", null);                                                        Data.set(\"Player.\" + Player.getName().toUpperCase() + \".Trade\", null);                                                        Data.set(\"Player.\" + Player.getName().toUpperCase() + \".TradeItem\", null);                                                        if ((Seller.getInventory().firstEmpty() < 0) || (Seller.getInventory().firstEmpty() < 0 && Seller.getGameMode().toString().equals(\"CREATIVE\")))                                                        {                                                                Seller.getWorld().dropItemNaturally(Seller.getLocation(), TradeItem);                                                                Data.set(\"Player.\" + Seller.getName().toUpperCase() + \".TradeTemp\", null);                                                        }                                                        else                                                        {                                                                Seller.getInventory().addItem(TradeItem);                                                                Data.set(\"Player.\" + Seller.getName().toUpperCase() + \".TradeTemp\", null);                                                        }                                                        DataSave();                                                        Seller.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeFailNoMoneySeller\"));                                                        Player.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeFailNoMoneyBuyer\"));                                                        return true;                                                }                                                                                                if ((Player.getInventory().firstEmpty() < 0) || (Player.getInventory().firstEmpty() < 0 && Player.getGameMode().toString().equals(\"CREATIVE\"))) { Player.getWorld().dropItemNaturally(Player.getLocation(), TradeItem); }                                                else { Player.getInventory().addItem(TradeItem); }                                                int SellerMoney = Data.getInt(\"Player.\" + Seller.getName().toUpperCase() + \".Money\");                                                Data.set(\"Player.\" + Player.getName().toUpperCase() + \".Money\", BuyerMoney - TradePrice);                                                Data.set(\"Player.\" + Seller.getName().toUpperCase() + \".Money\", SellerMoney + TradePrice);                                                Data.set(\"Player.\" + Seller.getName().toUpperCase() + \".Trade\", null);                                                Data.set(\"Player.\" + Seller.getName().toUpperCase() + \".TradeTemp\", null);                                                Data.set(\"Player.\" + Player.getName().toUpperCase() + \".Trade\", null);                                                Data.set(\"Player.\" + Player.getName().toUpperCase() + \".TradeItem\", null);                                                DataSave();                                                Player.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeSuccessBuyer\").replaceAll(\"%Player\", Seller.getName()).replaceAll(\"%Price\", NumberFormat.getInstance().format(TradePrice)));                                                Seller.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeSuccessSeller\").replaceAll(\"%Player\", Player.getName()).replaceAll(\"%Price\", NumberFormat.getInstance().format(TradePrice)));                                        }                                                                                else if (StringArray[0].equalsIgnoreCase(\"no\"))                                        {                                                                                                String[] TradeData = Data.getString(\"Player.\" + Player.getName().toUpperCase() + \".Trade\").split(\",\");                                                ItemStack TradeItem = Data.getItemStack(\"Player.\" + Player.getName().toUpperCase() + \".TradeItem\");                                                Player Seller = getServer().getPlayer(TradeData[0]);                                                Data.set(\"Player.\" + TradeData[0].toUpperCase() + \".Trade\", null);                                                Data.set(\"Player.\" + Player.getName().toUpperCase() + \".Trade\", null);                                                Data.set(\"Player.\" + Player.getName().toUpperCase() + \".TradeItem\", null);                                                if (Seller != null)                                                {                                                        if (Seller.isOnline())                                                        {                                                                Seller.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeFailSeller\"));                                                                if ((Seller.getInventory().firstEmpty() < 0) || (Seller.getInventory().firstEmpty() < 0 && Seller.getGameMode().toString().equals(\"CREATIVE\")))                                                                {                                                                        Seller.getWorld().dropItemNaturally(Seller.getLocation(), TradeItem);                                                                        Data.set(\"Player.\" + Seller.getName().toUpperCase() + \".TradeTemp\", null);                                                                }                                                                else                                                                {                                                                        Seller.getInventory().addItem(TradeItem);                                                                        Data.set(\"Player.\" + Seller.getName().toUpperCase() + \".TradeTemp\", null);                                                                }                                                        }                                                }                                                DataSave();                                                Player.sendMessage(getConfig().getString(\"MoneySystem.Message.TradeFailBuyer\"));                                        }                                                                                else { Player.sendMessage(getConfig().getString(\"MoneySystem.Message.ErrorFormatTrade\")); return true; }                                }                                                        }                                                if (getConfig().getBoolean(\"MessageManager.Enable\") && getConfig().getBoolean(\"MessageManager.Setting.Tip.Enable\") && CommandString.equalsIgnoreCase(\"tip\"))                        {                                if ((Data.getBoolean(\"Player.\" + PlayerName + \".Tip\")) || (Data.get(\"Player.\" + PlayerName + \".Tip\")) == null) { Data.set(\"Player.\" + PlayerName + \".Tip\", false); Player.sendMessage(getConfig().getString(\"MessageManager.Message.Tip.Close\")); }                                else { Data.set(\"Player.\" + PlayerName + \".Tip\", true); Player.sendMessage(getConfig().getString(\"MessageManager.Message.Tip.Open\")); }                                DataSave();                        }                                        }                return true;        }                @EventHandler        public void PlayerLogin (PlayerLoginEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.IPAuth.Enable\"))                {                        Set<String> DataList = Data.getKeys(true);                        String PlayerData = DataList.toString().replaceAll(\"\\\\[\", \"\").replaceAll(\"\\\\]\", \"\").replaceAll(\" \", \"\");                        String[] PlayerDataArray = PlayerData.split(\",\");                        String PlayerList = null;                        int NewDataMax = -1;                        if (PlayerDataArray.length > 1)                        {                                for (int Number = 1; (Number + 1) != PlayerDataArray.length; Number++)                                {                                        String[] NewData = PlayerDataArray[Number].toString().split(\"[.]\");                                        if (NewDataMax < 0) { PlayerList = NewData[1]; NewDataMax++; }                                        else                                        {                                                String[] NowList = PlayerList.split(\",\");                                                int Check = 0;                                                for (int CheckNumber = 0; NewDataMax >= CheckNumber; CheckNumber++)                                                {                                                        if (NowList[CheckNumber].equals(NewData[1])) { Check = 1; }                                                }                                                if (Check == 0)                                                {                                                        PlayerList = PlayerList + \",\" + NewData[1];                                                        NewDataMax = NewDataMax + 1;                                                }                                        }                                }                                                                String[] FinalList = PlayerList.split(\",\");                                String IPList = \"\";                                for (int NeedCheckNumber = FinalList.length; NeedCheckNumber != 0; NeedCheckNumber--)                                {                                        if (IPList.equals(\"\")) { IPList = (String) Data.get(\"Player.\" + (FinalList[NeedCheckNumber - 1]) + \".IP\"); }                                        else { IPList = IPList + \";\" + (String) Data.get(\"Player.\" + (FinalList[NeedCheckNumber - 1]) + \".IP\"); }                                }                                                                String[] FinalIPList = IPList.split(\";\");                                int IPAmount = 0;                                                                for (int NeedCheckIPNumber = FinalIPList.length; NeedCheckIPNumber != 0; NeedCheckIPNumber--)                                {                                        if (event.getAddress().getHostAddress().toString().equals(FinalIPList[NeedCheckIPNumber - 1])) { IPAmount++; }                                }                                                                String PlayerName = event.getPlayer().getName().toUpperCase();                                                                if (Data.get(\"Player.\" + PlayerName + \".IP\") != null)                                {                                        if (!(event.getAddress().getHostAddress().equals(Data.get(\"Player.\" + PlayerName + \".IP\"))))                                        {                                                event.disallow(PlayerLoginEvent.Result.KICK_OTHER, getConfig().getString(\"ExpansionManager.Message.AnotherIPIsUsing\"));                                        }                                        else if (IPAmount > ((byte) getConfig().getInt(\"ExpansionManager.Setting.IPAuth.MaxAccounts\")))                                        {                                                event.disallow(PlayerLoginEvent.Result.KICK_OTHER, getConfig().getString(\"ExpansionManager.Message.AccountsTooMuch\"));                                        }                                }                                else if ((Data.get(\"Player.\" + PlayerName + \".IP\") == null) && ((IPAmount + 1) > ((byte) getConfig().getInt(\"ExpansionManager.Setting.IPAuth.MaxAccounts\"))))                                {                                        event.disallow(PlayerLoginEvent.Result.KICK_OTHER, getConfig().getString(\"ExpansionManager.Message.AccountsTooMuch\"));                                }                        }                }        }                @EventHandler        public void PlayerJoin (PlayerJoinEvent event)        {                String PlayerName = event.getPlayer().getName().toUpperCase();                                if (getServer().getOnlinePlayers().length == 1) {                        if ((getConfig().getBoolean(\"BonusSystem.Enable\")) && (getConfig().getInt(\"BonusSystem.Setting.TimerInterval\") > 0) && (getConfig().getInt(\"BonusSystem.Setting.BonusInterval\") > 0))                        {                                Timer BonusTimer = new Timer();                                BonusTimer.schedule(new TimerTaskBonus(), getConfig().getInt(\"BonusSystem.Setting.TimerInterval\") * 1000, getConfig().getInt(\"BonusSystem.Setting.TimerInterval\") * 1000);                        }                        if ((getConfig().getBoolean(\"MessageManager.Enable\")) && (getConfig().getBoolean(\"MessageManager.Setting.Tip.Enable\")) && (getConfig().getInt(\"MessageManager.Setting.Tip.Interval\") > 0))                        {                                Timer TipTimer = new Timer();                                TipTimer.schedule(new TimerTaskTip(), (getConfig().getInt(\"MessageManager.Setting.Tip.Interval\")) * 1000, (getConfig().getInt(\"MessageManager.Setting.Tip.Interval\")) * 1000);                                }                }                                if ((getConfig().getBoolean(\"BonusSystem.Enable\")) && (Data.get(\"Player.\" + PlayerName + \".Bonus\") == null)) { Data.set(\"Player.\" + PlayerName + \".Bonus\", 0); DataSave(); }                if (getConfig().getBoolean(\"MessageManager.Enable\"))                {                        if ((getConfig().getBoolean(\"MessageManager.Setting.First\")) && (event.getPlayer().getLastPlayed() == 0))                        {                                getServer().broadcastMessage(getConfig().getString(\"MessageManager.Message.First\").replaceAll(\"%Player\", event.getPlayer().getName()));                                event.setJoinMessage(null);                        }                        else if (getConfig().getBoolean(\"MessageManager.Setting.Join\"))                        {                                getServer().broadcastMessage(getConfig().getString(\"MessageManager.Message.Join\").replaceAll(\"%Player\", event.getPlayer().getName()));                                event.setJoinMessage(null);                        }                }                if ((getConfig().getBoolean(\"ExpansionManager.Enable\")) && (getConfig().getBoolean(\"ExpansionManager.Setting.IPAuth.Enable\")) && (Data.get(\"Player.\" + PlayerName + \".IP\") == null)) { Data.set(\"Player.\" + PlayerName + \".IP\", event.getPlayer().getAddress().getAddress().getHostAddress()); DataSave(); }                if ((getConfig().getBoolean(\"MoneySystem.Enable\")) && (Data.get(\"Player.\" + PlayerName + \".Money\") == null)) { Data.set(\"Player.\" + PlayerName + \".Money\", 0); DataSave(); }                if ((getConfig().getBoolean(\"CommandManager.Setting.Spawn.Enable\")) && (event.getPlayer().getLastPlayed() == 0))                {                        if (getConfig().getBoolean(\"CommandManager.Setting.Spawn.FirstJoinInSpawn\"))                        {                                Location SpawnLocation = event.getPlayer().getWorld().getSpawnLocation();                                SpawnLocation.setX(SpawnLocation.getX()+0.5);                                SpawnLocation.setY(SpawnLocation.getY()+1);                                SpawnLocation.setZ(SpawnLocation.getZ()+0.5);                                 event.getPlayer().teleport(SpawnLocation);                        }                        if (getConfig().getBoolean(\"CommandManager.Setting.Spawn.FirstJoinStrikeLighting\"))                        {                                Location PlayerLocation = event.getPlayer().getLocation();                                event.getPlayer().getWorld().strikeLightning(PlayerLocation);                        }                }                if ((getConfig().getBoolean(\"MessageManager.Enable\")) && (getConfig().getBoolean(\"MessageManager.Setting.Tip.Enable\")) && (Data.get(\"Player.\" + PlayerName + \".Tip\") == null)) { Data.set(\"Player.\" + PlayerName + \".Tip\", true); DataSave(); }                                if (getConfig().getBoolean(\"MoneySystem.Enable\"))                {                        if (Data.get(\"Player.\" + PlayerName + \".TradeItem\") != null)                        {                                String[] TradeList = Data.get(\"Player.\" + PlayerName + \".Trade\").toString().split(\",\");                                String ItemName = TradeList[2];                                if (Value.getString(\"DataValue.\" + ItemName) != null) { ItemName = Value.getString(\"DataValue.\" + ItemName); }                                else if (Value.getString(\"DataValue.\" + TradeList[3]) != null) { ItemName = Value.getString(\"DataValue.\" + TradeList[3]); }                                                                String InfoDurability = \"\";                                String InfoEnchantments = \"\";                                String[] CheckList = Value.get(\"DataValue.CheckDurability\").toString().split(\",\");                                int CheckListLenght = CheckList.length - 1;                                boolean CheckEnable = false;                                for (int CheckNumber = 0; CheckNumber <= CheckListLenght; CheckNumber++)                                {                                        if (Integer.valueOf(TradeList[3]) == Integer.valueOf(CheckList[CheckNumber])) { CheckEnable = true; }                                }                                if (CheckEnable == true) { InfoDurability = getConfig().getString(\"MoneySystem.Message.TradeInfoDurability\").replaceAll(\"%Durability\", String.valueOf(TradeList[5])); }                                if (Integer.valueOf(TradeList[6]) > 0) { InfoEnchantments = getConfig().getString(\"MoneySystem.Message.TradeInfoEnchantments\").replaceAll(\"%Enchantments\", String.valueOf(TradeList[6])); }                                                                event.getPlayer().sendMessage(getConfig().getString(\"MoneySystem.Message.TradeRequest\")                                                .replaceAll(\"%Player\", TradeList[0])                                                .replaceAll(\"%Price\", NumberFormat.getInstance().format(Integer.valueOf(TradeList[1])))                                                .replaceAll(\"%Item\", ItemName)                                                .replaceAll(\"%Amount\", String.valueOf(TradeList[4]))                                                .replaceAll(\"%InfoDurability\", InfoDurability)                                                .replaceAll(\"%InfoEnchantments\", InfoEnchantments));                                                                if (getConfig().getBoolean(\"MessageManager.Enable\") && getConfig().getBoolean(\"MessageManager.Setting.Tip.Enable\") && Data.getBoolean(\"Player.\" + event.getPlayer().getName().toUpperCase() + \".Tip\"))                                {                                        event.getPlayer().sendMessage(getConfig().getString(\"MoneySystem.Message.TradeRequestTip\"));                                }                        }                }                                if (Data.get(\"Player.\" + PlayerName + \".TradeTemp\") != null && (Data.get(\"Player.\" + PlayerName + \".Trade\") == null))                {                        ItemStack TradeItem = (ItemStack) Data.get(\"Player.\" + PlayerName + \".TradeTemp\");                        if ((event.getPlayer().getInventory().firstEmpty() < 0) || (event.getPlayer().getInventory().firstEmpty() < 0 && event.getPlayer().getGameMode().toString().equals(\"CREATIVE\"))) { event.getPlayer().getWorld().dropItemNaturally(event.getPlayer().getLocation(), TradeItem); }                        else { event.getPlayer().getInventory().addItem(TradeItem); }                        event.getPlayer().sendMessage(getConfig().getString(\"MoneySystem.Message.TradeTemp\"));                        Data.set(\"Player.\" + PlayerName + \".TradeTemp\",  null);                        DataSave();                }        }                @EventHandler        public void PlayerQuit (PlayerQuitEvent event)        {                if ((getConfig().getBoolean(\"MessageManager.Enable\")) && (getConfig().getBoolean(\"MessageManager.Setting.Quit\")))                {                        getServer().broadcastMessage(getConfig().getString(\"MessageManager.Message.Quit\").replaceAll(\"%Player\", event.getPlayer().getName()));                        event.setQuitMessage(null);                }        }                @EventHandler        public void PlayerDeath (PlayerDeathEvent event)        {                                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.KeepInventory.Enable\"))                {                        byte DropPercent = (byte) getConfig().getInt(\"ExpansionManager.Setting.KeepInventory.DropPercent\");                        byte Random = (byte) ((Math.random() * 100) + 1);                        if (DropPercent > 100) { DropPercent = 100; }                        if (DropPercent < 0) { DropPercent = 0; }                        if (Random >= DropPercent)                        {                                final Player Player = event.getEntity();                                final ItemStack[] Armor = Player.getInventory().getArmorContents();                                final ItemStack[] Inventory = Player.getInventory().getContents();                                getServer().getScheduler().scheduleSyncDelayedTask(this, new Runnable() { public void run() { Player.getInventory().setArmorContents(Armor); Player.getInventory().setContents(Inventory); } } );                                for (ItemStack ItemStack : Armor) { event.getDrops().remove(ItemStack); }                                for (ItemStack ItemStack : Inventory) { event.getDrops().remove(ItemStack); }                        }                        else                        {                                if ((getConfig().getBoolean(\"ExpansionManager.Setting.KeepInventory.DropBroadcast\")) && (event.getDrops().size() > 0))                                {                                        getServer().broadcastMessage(getConfig().getString(\"ExpansionManager.Message.DropBroadcast\").replaceAll(\"%Player\", event.getEntity().getName()));                                }                        }                }                                if ((getConfig().getBoolean(\"MessageManager.Enable\")) && (getConfig().getBoolean(\"MessageManager.Setting.Death\")))                {                        String Cause = event.getEntity().getLastDamageCause().getCause().toString();                        String Attacker = null;                        if (Cause == \"SUICIDE\") { Cause = \"Suicide\"; }                        else if (Cause == \"CONTACT\") { Cause = \"Contact\"; }                        else if (Cause == \"SUFFOCATION\") { Cause = \"Suffocation\"; }                        else if (Cause == \"FALL\") { Cause = \"Fall\"; }                        else if ((Cause == \"FIRE\") || (Cause == \"FIRE_TICK\")) { Cause = \"Fire\"; }                        else if (Cause == \"LAVA\") { Cause = \"Lava\"; }                        else if (Cause == \"DROWNING\") { Cause = \"Drowing\"; }                        else if (Cause == \"BLOCK_EXPLOSION\") { Cause = \"Explosion\"; }                        else if (Cause == \"VOID\") { Cause = \"Void\"; }                        else if (Cause == \"STARVATION\") { Cause = \"Strvation\"; }                        else if (Cause == \"MAGIC\")                        {                                Cause = \"Magic\";                                if (event.getEntity().getLastDamageCause().getEventName().equals(\"EntityDamageByEntityEvent\"))                                {                                        ThrownPotion ThrownPotion = (ThrownPotion) ((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager();                                        LivingEntity Shooter = ThrownPotion.getShooter();                                        if (event.getEntity() == Shooter) { Cause = \"Suicide\"; }                                        else if (Shooter instanceof Player) { Attacker = event.getEntity().getKiller().getName(); Cause = \"PVP\"; }                                        else if (Shooter instanceof Witch) { Cause = \"CraftWitch\"; }                                }                        }                        else if (Cause == \"WITHER\") { Cause = \"Wither\"; }                        else if (Cause == \"FALLING_BLOCK\") { Cause = \"FallingBlock\"; }                        else if (((Cause == \"ENTITY_ATTACK\") || (Cause == \"PROJECTILE\")) && (event.getEntity().getKiller() instanceof Player))                        {                                Attacker = event.getEntity().getKiller().getName();                                if (Cause == \"ENTITY_ATTACK\") { Cause = \"PVP\"; }                                else if (Cause == \"PROJECTILE\") { String Projectile = ((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager().toString(); if (Projectile == \"CraftArrow\") { Cause = \"PVPArrow\"; } else { Cause = \"PVP\"; } }                        }                        else if ((((Cause == \"ENTITY_ATTACK\") || (Cause == \"PROJECTILE\")) && (!(event.getEntity().getKiller() instanceof Player))) || (Cause == \"ENTITY_EXPLOSION\"))                        {                                Cause = ((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager().toString();                                if (((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager() instanceof EnderDragon) { Cause = \"CraftEnderDragon\"; }                                else if (Cause == \"CraftArrow\") { Arrow Arrow = (Arrow) ((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager(); LivingEntity Shooter = Arrow.getShooter(); if (Shooter instanceof Skeleton) { Cause = \"CraftSkeletonArrow\"; } else { Cause = \"Arrow\"; } }                                else if (Cause == \"CraftCreeper\") { CraftCreeper Creeper = (CraftCreeper) ((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager(); if (Creeper.isPowered()) { Cause = \"CraftChargedCreeper\";  } else { Cause = \"CraftCreeper\";  } }                                else if ((Cause == \"CraftSmallFireball\") || (Cause == \"CraftLargeFireball\") || (Cause == \"CraftFireball\")) { Fireball Fireball = (Fireball) ((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager(); LivingEntity Shooter =  Fireball.getShooter(); if (Shooter instanceof Blaze) { Cause = \"CraftBlaze\"; } else if (Shooter instanceof Ghast) { Cause = \"CraftGhast\"; } else { Cause = \"Fireball\"; } }                                else if (Cause == \"CraftSkeleton\") { CraftSkeleton Damager = (CraftSkeleton) ((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager(); int SkeletonType = Damager.getHandle().getSkeletonType(); if (SkeletonType == 1) { Cause = \"CraftWitherSkeleton\";  } else { Cause = \"CraftSkeleton\";  } }                                else if ((Cause == \"CraftWither\") || (Cause == \"CraftWitherSkull\")) { Cause = \"CraftWither\"; }                                else if (Cause.substring(0, 9).equals(\"CraftWolf\")) { Wolf Wolf = (Wolf) ((EntityDamageByEntityEvent)event.getEntity().getLastDamageCause()).getDamager(); if (Wolf.isTamed()) { Cause = \"CraftWolfIsTamed\"; String Owner = ((Player) Wolf.getOwner()).getName(); Attacker = Owner; } else { Cause = \"CraftWolf\"; } }                                else if (getConfig().getStringList(\"MessageManager.Message.Death.\" + Cause) == null) { Cause = \"Default\"; }                        }                        else                        { Cause = \"Default\"; }                        List<String> DeathMessages = new ArrayList<String>(getConfig().getStringList(\"MessageManager.Message.Death.\" + Cause));                        int MessageNumber = (int) (Math.random() * DeathMessages.size());                        getServer().broadcastMessage(DeathMessages.get(MessageNumber).replaceAll(\"%Player\", event.getEntity().getName()).replaceAll(\"%Attacker\", Attacker));                        event.setDeathMessage(null);                }                                if (getConfig().getBoolean(\"CommandManager.Enable\") && getConfig().getBoolean(\"CommandManager.Setting.Back.Enable\"))                {                        String PlayerName = event.getEntity().getName().toUpperCase();                        String PlayerDeathPointWorld = event.getEntity().getLocation().getWorld().getName();                        float PlayerDeathPointX = (float) event.getEntity().getLocation().getX();                        float PlayerDeathPointY = (float) event.getEntity().getLocation().getY();                        float PlayerDeathPointZ = (float) event.getEntity().getLocation().getZ();                        Data.set(\"Player.\" + PlayerName + \".DeathPoint\", PlayerDeathPointWorld + \",\" + PlayerDeathPointX + \",\" + PlayerDeathPointY + \",\" + PlayerDeathPointZ);                        DataSave();                }                        }                @EventHandler        public void PlayerRespawn (PlayerRespawnEvent event)        {                if ((getConfig().getBoolean(\"MessageManager.Enable\")) && (getConfig().getBoolean(\"MessageManager.Setting.Respawn\")))                {                        getServer().broadcastMessage(getConfig().getString(\"MessageManager.Message.Respawn\").replaceAll(\"%Player\", event.getPlayer().getName()));                }        }                @EventHandler        public void PlayerInteract (PlayerInteractEvent event)        {                                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getPlayer().getLocation().getWorld().getName();                        ProtectionEventX = event.getPlayer().getLocation().getBlockX();                        ProtectionEventZ = event.getPlayer().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                byte Type = 0;                                if ((event.getAction() == Action.PHYSICAL) && (event.getClickedBlock().getType() == Material.SOIL))                                {                                        Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.PlayerInteractTrampleSoil\");                                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                        if (Type == 1) { event.setCancelled(true); }                                        else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                                }                                else if ((event.getAction() == Action.RIGHT_CLICK_BLOCK) || (event.getAction() == Action.LEFT_CLICK_BLOCK))                                {                                        int EventBlockID = event.getClickedBlock().getTypeId();                                        String[] ProtectionBlockIDList = getConfig().getString(\"ExpansionManager.Setting.Protection.PlayerInteractBreakBlockIDList\").split(\"[,]\");                                        for (String Each : ProtectionBlockIDList)                                        {                                                int AnyOneID = Integer.valueOf(Each).intValue();                                                if (EventBlockID == AnyOneID)                                                {                                                        Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.PlayerInteractBreakBlock\");                                                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                        if (event.getPlayer().isOp() == true) { event.setCancelled(false); }                                                        else if (Type == 1) { event.setCancelled(true); }                                                        else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                                                }                                        }                                }                        }                }        }                @EventHandler        public void PlayerChat (AsyncPlayerChatEvent event)        {                if ((getConfig().getBoolean(\"MessageManager.Enable\")) && (getConfig().getBoolean(\"MessageManager.Setting.Chat\")))                {                        event.setFormat(getConfig().getString(\"MessageManager.Message.Chat\").replaceAll(\"%Player\", event.getPlayer().getName()).replaceAll(\"%Message\", event.getMessage().replaceAll(\"\\\\\\\\\", \"\").replaceAll(\"\\\\$\", \"\").replaceAll(\"\\\\%\", \"\")));                }        }                @EventHandler        public void PlayerCommandPreprocess (PlayerCommandPreprocessEvent event)        {                if (event.getPlayer() != null)                {                        if (event.getPlayer().isOp() == false)                        {                                                                if (getConfig().getBoolean(\"CommandManager.Enable\") && getConfig().getBoolean(\"CommandManager.Setting.CommandRestrict.Enable\"))                                {                                        List<String> AllowList = new ArrayList<String>(getConfig().getStringList(\"CommandManager.Setting.CommandRestrict.Allow\"));                                        String[] CommandString = event.getMessage().replaceFirst(\"/\", \"\").split(\" \");                                        boolean Port = false;                                        for (int AllowListNumber = 0; AllowListNumber <= AllowList.size() - 1; AllowListNumber++)                                        {                                                if (AllowList.get(AllowListNumber).equalsIgnoreCase(CommandString[0])) { Port = true; }                                        }                                        if (Port == false) { event.setCancelled(true); }                                }                                                                if (getConfig().getBoolean(\"CommandManager.Enable\") && getConfig().getBoolean(\"CommandManager.Setting.CommandCooldown.Enable\"))                                {                                        List<String> CDList = new ArrayList<String>(getConfig().getStringList(\"CommandManager.Setting.CommandCooldown.List\"));                                        String[] CommandString = event.getMessage().replaceFirst(\"/\", \"\").split(\" \");                                        boolean Port = false;                                        int CommandNumber = 0;                                        for (int CDListNumber = 0; CDListNumber <= CDList.size() - 1; CDListNumber++)                                        {                                                String[] CheckCommand = CDList.get(CDListNumber).split(\":\");                                                if (CommandString[0].equals(CheckCommand[0])) { Port = true; CommandNumber = CDListNumber;}                                        }                                        if (Port == true)                                        {                                                if (Data.get(\"Player.\" + event.getPlayer().getName().toUpperCase() + \".CommandCooldown.\" + CommandString[0].toLowerCase()) == null)                                                {                                                        Data.set(\"Player.\" + event.getPlayer().getName().toUpperCase() + \".CommandCooldown.\" + CommandString[0].toLowerCase(), System.currentTimeMillis());                                                        DataSave();                                                }                                                else                                                {                                                        String[] InputCommand = CDList.get(CommandNumber).split(\":\");                                                        int CommandCooldown = Integer.valueOf(InputCommand[1]);                                                        int IntervalTime = (int) ((System.currentTimeMillis() - (long) Data.get(\"Player.\" + event.getPlayer().getName().toUpperCase() + \".CommandCooldown.\" + CommandString[0].toLowerCase())) / 1000);                                                        if (IntervalTime >= CommandCooldown)                                                        {                                                                Data.set(\"Player.\" + event.getPlayer().getName().toUpperCase() + \".CommandCooldown.\" + CommandString[0].toLowerCase(), System.currentTimeMillis());                                                                DataSave();                                                        }                                                        else                                                        {                                                                String[] TimeFormatList = getConfig().getString(\"CommandManager.Setting.CommandCooldown.Format\").split(\",\");                                                                String TimeFormat = null;                                                                int WaitTime = (CommandCooldown - IntervalTime);                                                                if (((CommandCooldown - IntervalTime) / 3600) >= 1) { TimeFormat = TimeFormatList[2]; WaitTime = WaitTime / 3600;}                                                                else if (((CommandCooldown - IntervalTime) / 60) >= 1) { TimeFormat = TimeFormatList[1]; WaitTime = WaitTime/ 60;}                                                                else { TimeFormat = TimeFormatList[0]; }                                                                event.getPlayer().sendMessage(getConfig().getString(\"CommandManager.Message.ErrorCommandCooldown\").replaceAll(\"%Time\", String.valueOf(WaitTime)).replaceAll(\"%Format\", TimeFormat));                                                                event.setCancelled(true);                                                        }                                                }                                        }                                }                                                        }                }        }                @EventHandler        public void EntityBreakDoor (EntityBreakDoorEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getBlock().getLocation().getWorld().getName();                        ProtectionEventX = event.getBlock().getLocation().getBlockX();                        ProtectionEventZ = event.getBlock().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityBreakDoor\");                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                if (Type == 1) { event.setCancelled(true); }                                else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                        }                }        }                @EventHandler        public void EntityChangeBlock (EntityChangeBlockEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getBlock().getLocation().getWorld().getName();                        ProtectionEventX = event.getBlock().getLocation().getBlockX();                        ProtectionEventZ = event.getBlock().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                byte Type = 0;                                if (event.getEntity() instanceof Enderman) { Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityChangeBlockByEnderman\"); }                                else if (event.getEntity() instanceof Wither) { Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityChangeBlockByWither\"); }                                if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                if (Type == 1) { event.setCancelled(true); }                                else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                        }                }        }                @EventHandler        public void EntityDamageByEntity (EntityDamageByEntityEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getEntity().getLocation().getWorld().getName();                        ProtectionEventX = event.getEntity().getLocation().getBlockX();                        ProtectionEventZ = event.getEntity().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityDamage\");                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                if ((event.getEntity() instanceof Animals) || (event.getEntity() instanceof IronGolem) || (event.getEntity() instanceof Player) || (event.getEntity() instanceof Snowman) || (event.getEntity() instanceof Squid) || (event.getEntity() instanceof Villager)) {                                        if ((event.getDamager() instanceof Player) && (((Player) event.getDamager()).isOp())) { event.setCancelled(false); }                                        else if (Type == 1) { event.setCancelled(true); }                                        else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                                }                        }                }        }                @EventHandler        public void EntityDamage (EntityDamageEvent event)        {                if ((event.getCause().toString().equals(\"LIGHTNING\")) && (event.getEntity() instanceof Player) && (((Player) event.getEntity()).getLastPlayed() == 0) && (getConfig().getBoolean(\"CommandManager.Enable\")) && (getConfig().getBoolean(\"CommandManager.Setting.Spawn.Enable\")) && (getConfig().getBoolean(\"CommandManager.Setting.Spawn.FirstJoinStrikeLighting\"))) { event.setCancelled(true); }                                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getEntity().getLocation().getWorld().getName();                        ProtectionEventX = event.getEntity().getLocation().getBlockX();                        ProtectionEventZ = event.getEntity().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                if ((event.getEntity() instanceof Animals) || (event.getEntity() instanceof IronGolem) || (event.getEntity() instanceof Player) || (event.getEntity() instanceof Snowman) || (event.getEntity() instanceof Squid) || (event.getEntity() instanceof Villager))                                {                                        String Cause = event.getCause().toString();                                        if (!(Cause.equals(\"ENTITY_ATTACK\")))                                        {                                                byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityDamage\");                                                if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                if (Type == 1) { event.setCancelled(true); }                                                else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                                        }                                }                                if ((event.getEntity() instanceof Wolf) || (event.getEntity() instanceof Ocelot))                                {                                        AnimalTamer Owner;                                        Owner = ((Tameable) event.getEntity()).getOwner();                                        if ((Owner != null))                                        {                                                if (((OfflinePlayer) Owner).isOnline() == false)                                                {                                                        byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityDamageByPetWhenOwnerOffline\");                                                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                        if (Type == 1) { event.setCancelled(true); }                                                        else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                                                }                                        }                                }                        }                }        }                @EventHandler        public void EntityDeath (EntityDeathEvent event)        {                if (!(event.getEntity() instanceof Player) && (event.getEntity().getKiller() instanceof Player) && (getConfig().getBoolean(\"MoneySystem.Enable\")))                {                        String MobName = event.getEntity().toString().substring(5);                        if (MobName.equals(\"Skeleton\")) { Skeleton Skeleton = (Skeleton) event.getEntity(); if (Skeleton.getSkeletonType().toString().equals(\"WITHER\")) { MobName = \"WitherSkeleton\"; } else { MobName = \"Skeleton\"; } }                        else if (MobName.equals(\"Creeper\")) { Creeper Creeper = (Creeper) event.getEntity(); if (Creeper.isPowered()) { MobName = \"ChargedCreeper\"; } else { MobName = \"Creeper\"; } }                        if (getConfig().getString(\"MoneySystem.Setting.\" + MobName) != null)                        {                                String[] MobArray = getConfig().getString(\"MoneySystem.Setting.\" + MobName).split(\"[,]\");                                if ((MobArray[0] != null) && (MobArray[1] != null) && (MobArray[2] != null))                                {                                        String MobFinalName = MobName;                                        if (Value.get(\"DataValue.\" + MobName) != null) { MobFinalName = Value.getString(\"DataValue.\" + MobName); }                                        int DropMoney_Max = Integer.parseInt(MobArray[0]);                                        int DropMoney_Min = Integer.parseInt(MobArray[1]);                                        byte DropMoney_Percent = (byte) Integer.parseInt(MobArray[2]);                                        if (DropMoney_Percent > 100) { DropMoney_Percent = 100; }                                        if (DropMoney_Max <= 0) { DropMoney_Max = 0; }                                        if (DropMoney_Min <= 0) { DropMoney_Min = 0; }                                        if ((DropMoney_Percent <= 0) || (DropMoney_Max < DropMoney_Min)) { return; }                                        byte DropMoney_DropPercent = (byte) ((Math.random() * 100) + 1);                                        if (DropMoney_Percent >= DropMoney_DropPercent)                                        {                                                String PlayerName = null;                                                int PlayerMoney = 0;                                                int DropMoney = (int) (Math.random() * (DropMoney_Max - DropMoney_Min)) + DropMoney_Min;                                                if (DropMoney <= 0) { return; }                                                if (MobName.equals(\"EnderDragon\"))                                                {                                                        for (Player Player : getServer().getOnlinePlayers()) { PlayerName = Player.getName().toUpperCase(); PlayerMoney = Data.getInt(\"Player.\" + PlayerName + \".Money\"); Data.set(\"Player.\" + PlayerName + \".Money\", PlayerMoney + DropMoney); DataSave(); }                                                        if (event.getEntity().getKiller() instanceof Player) { String HeroName = event.getEntity().getKiller().getPlayer().getName(); getServer().broadcastMessage(getConfig().getString(\"MoneySystem.Message.EnderDragonDeathByHero\").replaceAll(\"%Monster\", MobFinalName).replaceAll(\"%Drop\", Integer.toString(DropMoney)).replaceAll(\"%Hero\", HeroName)); }                                                        else { getServer().broadcastMessage(getConfig().getString(\"MoneySystem.Message.EnderDragonDeath\").replaceAll(\"%Monster\", MobFinalName).replaceAll(\"%Drop\", Integer.toString(DropMoney))); }                                                }                                                else                                                {                                                        Player Player = null;                                                        if (event.getEntity().getKiller() instanceof Player) { Player = event.getEntity().getKiller().getPlayer(); PlayerName = event.getEntity().getKiller().getPlayer().getName().toUpperCase(); }                                                        else if ((event.getEntity().getLastDamageCause().toString().contains(\"EntityDamageByEntityEvent\")) && (event.getEntity().getLastDamageCause().getCause().toString() == \"ENTITY_ATTACK\") && (((EntityDamageByEntityEvent) event.getEntity().getLastDamageCause()).getDamager().toString().substring(0, 9).equals(\"CraftWolf\")))                                                        {                                                                Wolf Wolf = (Wolf) ((EntityDamageByEntityEvent)event.getEntity().getLastDamageCause()).getDamager();                                                                if (Wolf.isTamed()) { Player = (Player) Wolf.getOwner(); PlayerName = ((Player) Wolf.getOwner()).getName().toString().toUpperCase(); }                                                        }                                                        if ((Player != null) && (PlayerName != null)) { PlayerMoney = Data.getInt(\"Player.\" + PlayerName + \".Money\"); Data.set(\"Player.\" + PlayerName + \".Money\", PlayerMoney + DropMoney); Player.sendMessage(getConfig().getString(\"MoneySystem.Message.GetMoney\").replaceAll(\"%Monster\", MobFinalName).replaceAll(\"%Drop\", Integer.toString(DropMoney))); DataSave(); }                                                }                                        }                                }                        }                }        }                @EventHandler        public void EntityExplode (EntityExplodeEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getEntity().getLocation().getWorld().getName();                        ProtectionEventX = event.getEntity().getLocation().getBlockX();                        ProtectionEventZ = event.getEntity().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                byte Type = 0;                                if (event.getEntity() instanceof Creeper) { Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityExplodeByCreeper\"); }                                else if (event.getEntity() instanceof Fireball) { Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityExplodeByFireball\"); }                                else if (event.getEntity() instanceof TNTPrimed) { Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityExplodeByTNT\"); }                                else if (event.getEntity() instanceof Wither) { Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityExplodeByWitherSpawn\"); }                                else if (event.getEntity() instanceof WitherSkull) { Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.EntityExplodeByWitherSkull\"); }                                if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                if (Type == 1) { event.blockList().clear(); }                                else if ((Type == 2) && ProtectionSpawnLocation) { event.blockList().clear(); }                        }                }        }                @EventHandler        public void HangingBreakByEntity (HangingBreakByEntityEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getEntity().getLocation().getWorld().getName();                        ProtectionEventX = event.getEntity().getLocation().getBlockX();                        ProtectionEventZ = event.getEntity().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.HangingBreak\");                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                if ((event.getRemover().getType() == EntityType.PLAYER) && (((Player) event.getRemover()).isOp())) { event.setCancelled(false); }                                else if (Type == 1) { event.setCancelled(true); }                                else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                        }                }        }                @EventHandler        public void HangingBreak (HangingBreakEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getEntity().getLocation().getWorld().getName();                        ProtectionEventX = event.getEntity().getLocation().getBlockX();                        ProtectionEventZ = event.getEntity().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.HangingBreak\");                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                if ((event.getCause() == RemoveCause.EXPLOSION) || (event.getCause() == RemoveCause.DEFAULT))                                {                                        if (Type == 1) { event.setCancelled(true); }                                        else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                                }                        }                }        }                @EventHandler        public void HangingPlace (HangingPlaceEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getEntity().getLocation().getWorld().getName();                        ProtectionEventX = event.getEntity().getLocation().getBlockX();                        ProtectionEventZ = event.getEntity().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.HangingPlace\");                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                if (event.getPlayer().isOp() == true) { event.setCancelled(false); }                                else if (Type == 1) { event.setCancelled(true); }                                else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                        }                }        }                @EventHandler        public void BlockIgnite (BlockIgniteEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getBlock().getLocation().getWorld().getName();                        ProtectionEventX = event.getBlock().getLocation().getBlockX();                        ProtectionEventZ = event.getBlock().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.BlockIgniteByLightning\");                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                if (ProtectionEventWorldName.equals(ProtectionWorldName) && event.getCause() == IgniteCause.LIGHTNING)                        {                                if (Type == 1) { event.setCancelled(true); }                                else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                        }                }        }                @EventHandler        public void PigZap (PigZapEvent event)        {                if (getConfig().getBoolean(\"ExpansionManager.Enable\") && getConfig().getBoolean(\"ExpansionManager.Setting.Protection.Enable\"))                {                        String ProtectionEventWorldName = event.getEntity().getLocation().getWorld().getName();                        ProtectionEventX = event.getEntity().getLocation().getBlockX();                        ProtectionEventZ = event.getEntity().getLocation().getBlockZ();                        boolean ProtectionSpawnLocation = ((ProtectionEventX >= (ProtectionSpawnX-ProtectionSpawnR) && ProtectionEventX <= (ProtectionSpawnX+ProtectionSpawnR)) && (ProtectionEventZ >= (ProtectionSpawnZ-ProtectionSpawnR) && ProtectionEventZ <= (ProtectionSpawnZ+ProtectionSpawnR)));                                                byte Type = (byte) getConfig().getInt(\"ExpansionManager.Setting.Protection.PigZap\");                        if (Type < 0) { Type = 0; } else if (Type > 2) { Type = 0; }                                                if (ProtectionEventWorldName.equals(ProtectionWorldName))                        {                                if (Type == 1) { event.setCancelled(true); }                                else if ((Type == 2) && ProtectionSpawnLocation) { event.setCancelled(true); }                        }                }        }                class TimerTaskBonus extends TimerTask        {                public void run()                {                        if (getServer().getOnlinePlayers().length > 0)                        {                                for (Player Player : getServer().getOnlinePlayers())                                {                                        String PlayerName = Player.getName().toUpperCase();                                        int PlayerTime = (int) Data.get(\"Player.\" + PlayerName + \".Bonus\");                                        int TimerInterval = getConfig().getInt(\"BonusSystem.Setting.TimerInterval\");                                        int BonusInterval = getConfig().getInt(\"BonusSystem.Setting.BonusInterval\");                                        Data.set(\"Player.\" + PlayerName + \".Bonus\", PlayerTime + TimerInterval);                                        PlayerTime = (int) Data.get(\"Player.\" + PlayerName + \".Bonus\");                                        int LackQuantity = PlayerTime / BonusInterval;                                        for (int GetTime = PlayerTime / BonusInterval; GetTime >= 1; GetTime = GetTime - 1 )                                        {                                                int BonusGroupMax = ((MemorySection) getConfig().get(\"BonusSystem.Group\")).getValues(true).size();                                                if (BonusGroupMax < 0) { BonusGroupMax = 0; }                                                if (!(BonusGroupMax >= 0) ) { return; }                                                List<String> BonusItem = null;                                                String BonusMessage = null;                                                String BonusBroadcastMessage = null;                                                int BonusPercent = 0;                                                int Percent = 0;                                                boolean BonusBroadcast = false;                                                do                                                {                                                        int BonusGroup = (int) (Math.random() * BonusGroupMax);                                                        Percent = (int) (Math.random() * 100) + 1;                                                        BonusItem = getConfig().getStringList(\"BonusSystem.Group.\" + BonusGroup + \".Item\");                                                        BonusPercent = getConfig().getInt(\"BonusSystem.Group.\" + BonusGroup + \".Percent\");                                                        BonusMessage = getConfig().getString(\"BonusSystem.Group.\" + BonusGroup + \".Message\");                                                        BonusBroadcast = getConfig().getBoolean(\"BonusSystem.Group.\" + BonusGroup + \".Broadcast\");                                                        if (BonusBroadcast == true) { BonusBroadcastMessage = getConfig().getString(\"BonusSystem.Group.\" + BonusGroup + \".BroadcastMessage\"); }                                                        if (BonusPercent > 100) { BonusPercent = 100; }                                                        if (BonusPercent < 1) { BonusPercent = 1; }                                        }                                                while ((BonusItem == null) || (BonusMessage == null) || ((BonusBroadcast == true) && (BonusBroadcastMessage == null)) || (Percent > BonusPercent));                                                List<?> ItemList = BonusItem;                                                String[] ItemArray = (String[]) ItemList.toArray(new String[0]);                                                for (int Number = 0; Number < ItemArray.length; Number++)                                                {                                                        String[] ItemData = ItemArray[Number].split(\"x\");                                                        if (!ItemData[0].equals(\"0\"))                                                        {                                                                ItemStack BonusItemStack = new ItemStack(Material.getMaterial(Integer.parseInt(ItemData[0])), Integer.parseInt(ItemData[1]));                                                                if (Player.getInventory().firstEmpty() < 0) { Player.getWorld().dropItemNaturally(Player.getLocation(), BonusItemStack); } else { Player.getInventory().addItem(BonusItemStack); }                                                        }                                                                                                                if (Value.get(\"DataValue.\" + ItemData[0]) != null)                                                        {                                                                BonusMessage = BonusMessage.replaceAll(\"%Item\" + (Number + 1), Value.getString(\"DataValue.\" + ItemData[0]));                                                                if (BonusBroadcastMessage != null)                                                                {                                                                        BonusBroadcastMessage = BonusBroadcastMessage.replaceAll(\"%Item\" + (Number + 1), Value.getString(\"DataValue.\" + ItemData[0]));                                                                }                                                        }                                                }                                                if ((BonusBroadcast == true) && (BonusBroadcastMessage != null))                                                {                                                        getServer().broadcastMessage(BonusBroadcastMessage.replaceAll(\"%Player\", Player.getName()));                                                        Player.sendMessage(BonusMessage);                                                }                                                else                                                {                                                        Player.sendMessage(BonusMessage);                                                }                                        }                                        Data.set(\"Player.\" + PlayerName + \".Bonus\", PlayerTime - (BonusInterval * LackQuantity));                                        DataSave();                                }                        }                        else { this.cancel(); }                }        }                class TimerTaskTip extends TimerTask        {                public void run()                {                        if (getServer().getOnlinePlayers().length > 0)                        {                                List<String> Tip = new ArrayList<String>(getConfig().getStringList(\"MessageManager.Message.Tip.Tips\"));                                if (TipNumber > Tip.size() - 1) { TipNumber = 0; }                                if (getConfig().getBoolean(\"MessageManager.Setting.Tip.Random\")) { TipNumber = (int) (Math.random() * Tip.size()); }                                for (Player Player : getServer().getOnlinePlayers()) { if ((Data.getBoolean(\"Player.\" + Player.getName().toUpperCase() + \".Tip\")) || (Data.get(\"Player.\" + Player.getName().toUpperCase() + \".Tip\")) == null) { Player.sendMessage(Tip.get(TipNumber)+\"\"); } }                                TipNumber = TipNumber + 1;                        }                        else { this.cancel(); }                }        }                public void DataSave()        {                try { Data.save(DataFile); } catch (Exception event) { event.printStackTrace(); }        }        }\n\n\n\n",
    "replies": [
        {
            "author": "kvxk__120",
            "timestamp": 1362136560,
            "txt_content": "居然没人回复。。。一个多月居然抢到沙发。。。"
        },
        {
            "author": "180032290",
            "timestamp": 1362310320,
            "txt_content": "kvxk__120 发表于 2013-3-1 19:16 \n居然没人回复。。。一个多月居然抢到沙发。。。\n全是乱码啊"
        },
        {
            "author": "kvxk__120",
            "timestamp": 1362312480,
            "txt_content": "180032290 发表于 2013-3-3 19:32 \n全是乱码啊\n= =。。我可没用。。"
        },
        {
            "author": "dsa456",
            "timestamp": 1362676680,
            "txt_content": "我打了这插件里面有的会有冲突吗？1.4.7能用吗？"
        },
        {
            "author": "344879759",
            "timestamp": 1366096380,
            "txt_content": "感谢楼主分享，mcbbs因你而精彩:)"
        },
        {
            "author": "⊙火雲邪神⊙",
            "timestamp": 1367193660,
            "txt_content": "1.5.1好像沒辦法用耶><\n好可惜"
        },
        {
            "author": "yk19086",
            "timestamp": 1374199800,
            "txt_content": "表示感谢分享 基友让我找终于找到了 呵呵"
        }
    ]
}