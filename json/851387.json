{
    "title": "[光影包制作教程] 第三章———正确显示纹理",
    "author": "悲剧小白",
    "replyCount": 99,
    "timestamp": 1553430120,
    "txt_content": " 本帖最后由 海螺螺 于 2020-1-22 21:01 编辑 \n\n索引待建立\n\n在第二章中，我们创建并加载了一个光影包，但是最终的效果很不理想。最明显的缺点是不能正确显示纹理。在这一章节里，我们将会让光影包正确显示出方块和实体的纹理。\n知识点回顾\n在上一章节中，我们已经实现了gbuffers_basic渲染器的编写(gbuffers_basic的编写已经完成，基本上不会再去碰这个文件了)。但是由于在gbuffers_basic渲染器中所能拿到的信息太少，还不足以显示纹理。我们将目光上移到gbuffers_textured渲染器，本章节将使用gbuffers_textured渲染器实现最基本的纹理显示。\n开始编写光影文件\n在shaders文件夹里再创建两个文件，分别为gbuffers_textured.vsh和gbuffers_textured.fsh并写出代码。\ngbuffers_textured.vsh：#version 120\n\nvarying vec4 color;\nvarying vec4 texcoord;\n\nvoid main() {\n    gl_Position = ftransform();\n    color = gl_Color;\n    texcoord = gl_TextureMatrix[0] * gl_MultiTexCoord0;\n}复制代码\ngbuffers_textured.fsh：#version 120\n\nuniform sampler2D texture;\n\nvarying vec4 color;\nvarying vec4 texcoord;\n\nvoid main() {\n    gl_FragData[0] = texture2D(texture, texcoord.st) * color;\n}复制代码\n代码解释\n相较于gbuffers_basic(为控制篇幅，相同部分不再做解释)，顶点着色器多出了一个texcoord，声明了一个可插值变量，不解释了。main函数中多了一个texcoord = gl_TextureMatrix[0] * gl_MultiTexCoord0;，其中gl_TextureMatrix是OpenGL中的纹理坐标矩阵，在固定管线时代，类似于闪电苦力怕身上的能量罩(可以说是能量罩吧？)就是用这个矩阵实现的。gl_MultiTexCoord0表示在启用多重纹理时的0号纹理的坐标(这个坐标其实也是一个矩阵)。坐标乘矩阵等于坐标（高等数学矩阵乘法），所以这句代码的意思是计算纹理的坐标并赋值给texcoord。片段着色器中定义了一个2D的纹理采样器：uniform sampler2D texture;。在main函数中，使用texture2D方法，根据顶点着色器传来的坐标，从texture中获得纹理的颜色，然后再乘以顶点的颜色就得到了最终的颜色。\n效果展示\n\n\n\n\n\nfile_1553419266000.jpg (95.07 KB, 下载次数: 3)\n\n下载附件\n\n2019-3-24 17:21 上传\n\n\n\n\n如果你的代码加载后的效果是这个样子，那么恭喜你，本章的目标你已经达成了。\n代码下载\n\n\n\n\n第三章最终代码.zip\n(980 Bytes, 下载次数: 101)\n\n\n\n2019-3-24 17:22 上传\n点击文件名下载附件\n\n\n\n\n\n本章测验\n1、截止到第三章，我们已经写了两个着色器的代码。现在，请再创建两个着色器，分别是gbuffers_skybasic和gbuffers_skytextured。gbuffers_skybasic代码与gbuffers_basic完全相同，gbuffers_skytextured代码与gbuffers_textured完全相同，之后将不再赘述这四个文件目前的代码。请注意：仅仅是目前代码相同，之后会对某些文件做更改，到那时代码将不再相同。（别告诉我看到这里的大家连复制粘贴都不会= _ =）\n2、做完测验一后，shaders文件夹里应该一共会有8个文件。将shaders文件夹打包并加载到游戏里，如果以上过程均正确，游戏将不会报错。现在，请找出加载光影包后与不加载任何光影包的画面区别(注：由于目前还是在从零实现固定管线渲染，所以可以用原版做比较)。",
    "replies": [
        {
            "author": "吕不才",
            "timestamp": 1553686560,
            "txt_content": "学习学习"
        },
        {
            "author": "SJkongyu",
            "timestamp": 1554100920,
            "txt_content": "楼主牛逼！"
        },
        {
            "author": "616334146",
            "timestamp": 1554210960,
            "txt_content": "单纯为效果。。。"
        },
        {
            "author": "zzp7350",
            "timestamp": 1554347520,
            "txt_content": "坐等下一章"
        },
        {
            "author": "2859286510",
            "timestamp": 1554552360,
            "txt_content": "回复可见"
        },
        {
            "author": "Minecraftsine",
            "timestamp": 1554613980,
            "txt_content": "已收藏，学习学习"
        },
        {
            "author": "minecraft12306",
            "timestamp": 1554631140,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "dshzsh",
            "timestamp": 1554692640,
            "txt_content": "厉害\n6666666"
        },
        {
            "author": "Minecraftsine",
            "timestamp": 1554694380,
            "txt_content": "加油～（破音）一直等着～"
        },
        {
            "author": "18417216501",
            "timestamp": 1554731340,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "lyclstm",
            "timestamp": 1554820080,
            "txt_content": "666666666666666666666666"
        },
        {
            "author": "迷之老王丿",
            "timestamp": 1555141440,
            "txt_content": "+++++++++++++++++"
        },
        {
            "author": "阳成乐鱼",
            "timestamp": 1555148640,
            "txt_content": "蒙，能不能做视频"
        },
        {
            "author": "xdgg66",
            "timestamp": 1555171740,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "2859286510",
            "timestamp": 1555229700,
            "txt_content": "作者，我等你的教程贴，你好久更新？等了很久了"
        },
        {
            "author": "2084788916",
            "timestamp": 1555231860,
            "txt_content": "厉害厉害流皮流皮"
        },
        {
            "author": "快手小胜",
            "timestamp": 1555572600,
            "txt_content": "66666666666"
        },
        {
            "author": "Herobrine429",
            "timestamp": 1555670520,
            "txt_content": "MCBBS因你而精彩！"
        },
        {
            "author": "Arion",
            "timestamp": 1556119980,
            "txt_content": "感谢分享！！！！"
        },
        {
            "author": "monseasd",
            "timestamp": 1556793360,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "qwe425819332",
            "timestamp": 1556845620,
            "txt_content": "66666666666666666666666"
        },
        {
            "author": "NengLiang",
            "timestamp": 1556899020,
            "txt_content": "感谢大大"
        },
        {
            "author": "CoolPayW",
            "timestamp": 1557392700,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "简简-单单",
            "timestamp": 1557404760,
            "txt_content": "做出来的天差地别"
        },
        {
            "author": "ffcr",
            "timestamp": 1557534120,
            "txt_content": "感觉要记的东西好多"
        },
        {
            "author": "leishilin",
            "timestamp": 1557558480,
            "txt_content": "良心教学"
        },
        {
            "author": "Ezol_Alex",
            "timestamp": 1557626280,
            "txt_content": "6666666666666666"
        },
        {
            "author": "hemp",
            "timestamp": 1557631440,
            "txt_content": "看到数学计算，顿时感觉...."
        },
        {
            "author": "BeaneChoun",
            "timestamp": 1558762320,
            "txt_content": "很棒的教程"
        },
        {
            "author": "LCBRST",
            "timestamp": 1558776300,
            "txt_content": "感谢感谢"
        },
        {
            "author": "xizizu",
            "timestamp": 1558787820,
            "txt_content": "大佬大佬"
        },
        {
            "author": "uffettfeng",
            "timestamp": 1558797180,
            "txt_content": "学习中 感谢楼主"
        },
        {
            "author": "Stonty",
            "timestamp": 1558961820,
            "txt_content": "感谢分享"
        },
        {
            "author": "秋日山林",
            "timestamp": 1559018880,
            "txt_content": "服服服服"
        },
        {
            "author": "柿子shizi",
            "timestamp": 1560337500,
            "txt_content": "加油，我们会继续学习的"
        },
        {
            "author": "lqqiloveyou",
            "timestamp": 1560421620,
            "txt_content": "学到了，"
        },
        {
            "author": "秋魂",
            "timestamp": 1560426840,
            "txt_content": "想看看效果是怎么样的XDDD"
        },
        {
            "author": "落寞的雪儿",
            "timestamp": 1560574380,
            "txt_content": "能给我看看你写的程序吗？"
        },
        {
            "author": "5656565566",
            "timestamp": 1560605460,
            "txt_content": "看起来很难"
        },
        {
            "author": "腹黑攻",
            "timestamp": 1560672180,
            "txt_content": "我以为很简单的啊"
        },
        {
            "author": "houa",
            "timestamp": 1560746940,
            "txt_content": "sadfasdfasdfksalndfoadsfdfasdfasdf"
        },
        {
            "author": "ddasads",
            "timestamp": 1560943140,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "Deeplypie",
            "timestamp": 1560960060,
            "txt_content": "感谢服主的分享！"
        },
        {
            "author": "RiceC",
            "timestamp": 1560963240,
            "txt_content": "感谢大佬的分享，不会的我学习一下"
        },
        {
            "author": "燕子666",
            "timestamp": 1561028520,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "1121171705",
            "timestamp": 1561136760,
            "txt_content": "谢谢分享"
        },
        {
            "author": "Beatme",
            "timestamp": 1561162320,
            "txt_content": "感谢，学习中"
        },
        {
            "author": "rt4ft3",
            "timestamp": 1561219020,
            "txt_content": "楼主别弃坑啊"
        },
        {
            "author": "Qhnan",
            "timestamp": 1561348020,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "梦殇空城",
            "timestamp": 1561614780,
            "txt_content": "希望继续更新"
        },
        {
            "author": "wuzibin4399",
            "timestamp": 1562423400,
            "txt_content": "厉害，学习学习！"
        },
        {
            "author": "去玩儿剖",
            "timestamp": 1562476080,
            "txt_content": "dsfdsfhjdsgfjhdgfdhjgfdhjf"
        },
        {
            "author": "心跳C",
            "timestamp": 1562845560,
            "txt_content": "大佬啊，根本看不懂啊55555"
        },
        {
            "author": "zhengruilin",
            "timestamp": 1563093420,
            "txt_content": "学习了，继续加油"
        },
        {
            "author": "「彧譞」",
            "timestamp": 1563160920,
            "txt_content": "学习学习"
        },
        {
            "author": "1143131944m",
            "timestamp": 1563268080,
            "txt_content": "顶顶顶"
        },
        {
            "author": "MC_Kunge[666】",
            "timestamp": 1563462240,
            "txt_content": "作者很6，在下很佩服"
        },
        {
            "author": "Roast_Chiken",
            "timestamp": 1563503400,
            "txt_content": "楼主流弊"
        },
        {
            "author": "520zhh",
            "timestamp": 1563529440,
            "txt_content": "666666666666"
        },
        {
            "author": "legendofthedrag",
            "timestamp": 1563543900,
            "txt_content": "他还是要回复才能看隐藏内容所以我又来回复了"
        },
        {
            "author": "WW915496235",
            "timestamp": 1563548100,
            "txt_content": "学习学习              "
        },
        {
            "author": "天上飞的鸟",
            "timestamp": 1563850440,
            "txt_content": "好"
        },
        {
            "author": "ITH我是火把",
            "timestamp": 1563955980,
            "txt_content": "6666666666"
        },
        {
            "author": "GC_YKE",
            "timestamp": 1563973320,
            "txt_content": "可海星   "
        },
        {
            "author": "Fablore0302",
            "timestamp": 1564123560,
            "txt_content": "很好的作品"
        },
        {
            "author": "TPAMCMOD",
            "timestamp": 1564147680,
            "txt_content": "入坑光影！终于找到教程了！谢谢LZ"
        },
        {
            "author": "此方程无解",
            "timestamp": 1564319520,
            "txt_content": "                   ."
        },
        {
            "author": "此方程无解",
            "timestamp": 1564319580,
            "txt_content": "                         。"
        },
        {
            "author": "icebears",
            "timestamp": 1564382400,
            "txt_content": "如果能做视频教程就更好了"
        },
        {
            "author": "11314242",
            "timestamp": 1564490940,
            "txt_content": "这些字我都会，连起来就看不懂了"
        },
        {
            "author": "thx114",
            "timestamp": 1564697760,
            "txt_content": "学习学习"
        },
        {
            "author": "diauweb",
            "timestamp": 1564739460,
            "txt_content": "学习学习"
        },
        {
            "author": "索菲缇娅",
            "timestamp": 1565009160,
            "txt_content": "\n学习学习"
        },
        {
            "author": "slambjt",
            "timestamp": 1565430060,
            "txt_content": "6666666666666666666666666666666"
        },
        {
            "author": "TheRayChicken",
            "timestamp": 1565442540,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "TheRayChicken",
            "timestamp": 1565442660,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "TheRayChicken",
            "timestamp": 1565442720,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "TheRayChicken",
            "timestamp": 1565442900,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Yinuo_Lin",
            "timestamp": 1565449920,
            "txt_content": "厉害楼主牛逼"
        },
        {
            "author": "小黑玩游戏",
            "timestamp": 1565764980,
            "txt_content": "6666666666666666666666666666"
        },
        {
            "author": "Chia78787",
            "timestamp": 1565936520,
            "txt_content": " 学习学习"
        },
        {
            "author": "qq2362975089",
            "timestamp": 1566055500,
            "txt_content": "我康康如何"
        },
        {
            "author": "sam8666",
            "timestamp": 1566459060,
            "txt_content": "第三章 博士后往后往后还往后的级别，我已经习惯眩晕"
        },
        {
            "author": "LC_Walker",
            "timestamp": 1566478020,
            "txt_content": "加油啊"
        },
        {
            "author": "set123",
            "timestamp": 1566558660,
            "txt_content": "收藏收藏"
        },
        {
            "author": "lzh1104",
            "timestamp": 1566573840,
            "txt_content": "楼主牛逼！"
        },
        {
            "author": "991200448",
            "timestamp": 1566608880,
            "txt_content": "支持大佬，我什么时候能成为像你一样的人"
        },
        {
            "author": "991200448",
            "timestamp": 1566610440,
            "txt_content": "区别就是变成了一个夜视光影，不错哦，get?到了，不用再喝夜视药水了"
        },
        {
            "author": "鸭蛋只吃黄",
            "timestamp": 1566610740,
            "txt_content": "SKINBBS有你更精彩....虽然学不会但是看着挺有意思的"
        },
        {
            "author": "819tierqusi",
            "timestamp": 1566636060,
            "txt_content": "仅仅如此即可？"
        },
        {
            "author": "AlaskaChinese",
            "timestamp": 1566761760,
            "txt_content": "学习学习"
        },
        {
            "author": "huanlan233",
            "timestamp": 1566888840,
            "txt_content": "谢谢楼主大好人！"
        },
        {
            "author": "ChenXing_0103",
            "timestamp": 1568506500,
            "txt_content": " 本帖最后由 ChenXing_0103 于 2019-9-21 21:53 编辑 \n\n我一脸茫然地学习"
        },
        {
            "author": "DoubPeas",
            "timestamp": 1568906820,
            "txt_content": "这东西好"
        },
        {
            "author": "mzx233",
            "timestamp": 1569247320,
            "txt_content": "谢谢分享"
        },
        {
            "author": "diev行尸",
            "timestamp": 1570066800,
            "txt_content": "Thanks?(?ω?)?"
        },
        {
            "author": "落叶歧",
            "timestamp": 1570973760,
            "txt_content": "继续路过"
        },
        {
            "author": "qq2909289349",
            "timestamp": 1571305980,
            "txt_content": "看看看看那阿卡那看看"
        },
        {
            "author": "xianjianpal3gb",
            "timestamp": 1571632020,
            "txt_content": "学习学习"
        }
    ]
}