{
    "title": "给 SEUS 添加上GodRays",
    "author": "140131422",
    "replyCount": 8,
    "timestamp": 1427089140,
    "txt_content": " 本帖最后由 140131422 于 2015-4-5 23:37 编辑 \n/*请不要称这个为体积光*/\n/*请不要称这个为体积光*/\n这东西_(:з」∠)_其实是寒假的时候搞出来的\n\n_(:з」∠)_图片:\n\n\n\n\n2015-03-21_23.32.03.png (260.02 KB, 下载次数: 2)\n\n下载附件\n\n2015-3-21 23:45 上传\n\n\n\n\n\n\n\n\n2015-03-21_23.38.11.png (260.6 KB, 下载次数: 2)\n\n下载附件\n\n2015-3-21 23:46 上传\n\n\n\n\n\n\n\n\n2015-03-21_23.39.31.png (212.77 KB, 下载次数: 2)\n\n下载附件\n\n2015-3-21 23:45 上传\n\n\n\n\n\n\n\n\n2015-03-21_23.40.21.png (159.4 KB, 下载次数: 2)\n\n下载附件\n\n2015-3-21 23:45 上传\n\n\n\n\n\n\n\n;\n\n_(:з」∠)_txt:\n\n SEUS v10.1\n\n\n\nfor SEUS v10.1.txt\n(8.6 KB, 下载次数: 14)\n\n\n\n2015-3-21 23:50 上传\n点击文件名下载附件\n阅读权限: 70\n\n\n\n\n\n SEUS v10.2 P1\n\n\n\nfor SEUS v10.2 P1.txt\n(8.4 KB, 下载次数: 10)\n\n\n\n2015-3-21 23:50 上传\n点击文件名下载附件\n阅读权限: 70\n\n\n\n\n 网盘备份urwj\n\n\n\n\n    安装方法已经写在txt里了, 如果还不会:_(:з」∠)_视频安装:\n\n    [bili=2059287]1[/bili]\n   (骗播放√);\n\n_(:з」∠)_非行数安装:\n\ncomposite.fsh(10.2P1为composite1.fsh):\n放在\" #define ENABLE_SOFT_SHADOWS \"的下面\nconst float gr_density = 0.55;                        \nconst int gr_samples = 5;\nconst float gr_noise = 0.0;复制代码；\nconst int                 RA8                                         = 0;\nconst int                 RGA8                                         = 0;\nconst int                 RGBA8                                         = 1;\nconst int                 RGBA16                                         = 1;\nconst int                 gcolorFormat                         = RGBA16;\nconst int                 gdepthFormat                         = RGBA8;\nconst int                 gnormalFormat                         = RGBA16;\nconst int                 compositeFormat                 = RGBA8;复制代码替换掉\nconst int                 R8                                         = 0;\nconst int                 RG8                                         = 0;\nconst int                 RGB8                                         = 1;\nconst int                 RGB16                                         = 2;\nconst int                 gcolorFormat                         = RGB16;\nconst int                 gdepthFormat                         = RGB8;\nconst int                 gnormalFormat                         = RGB16;\nconst int                 compositeFormat                 = RGB8;复制代码；\nfloat getnoise(vec2 pos) {\n    return abs(fract(sin(dot(pos ,vec2(18.9898f,28.633f))) * 4378.5453f));\n}复制代码放在\n> 这里 <\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////MAIN//////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\nvoid main() {复制代码;\n    vec3 sP = sunPosition * timeNoon + -sunPosition * timeMidnight;\n        vec4 tpos = vec4(sP,1.0)*gbufferProjection;\n        tpos = vec4(tpos.xyz/tpos.w,1.0);\n        vec2 pos1 = tpos.xy/tpos.z;\n        vec2 lightPos = pos1*0.5+0.5;\n        \n        float gr = 0.0;\n        \n                vec2 deltaTextCoord = vec2( texcoord.st - lightPos.xy );\n                vec2 textCoord = texcoord.st;\n                     deltaTextCoord *= 1.0 / float(gr_samples) * gr_density;\n                vec2 noise = vec2(getnoise(textCoord),getnoise(-textCoord.yx+0.05));\n                        \n                for(int i=0; i < gr_samples ; i++) {                        \n                        textCoord -= deltaTextCoord;\n                        \n                        float sample = step(texture2D(gdepth, textCoord + deltaTextCoord*noise*gr_noise).r,0.001);\n                        gr += sample;\n            }复制代码放在\n        finalComposite *= 0.001f;                                                                                                //Scale image down for HDR\n        finalComposite.b *= 1.0f;\n\n> 这里 <\n        \n         //TestRaymarch(finalComposite.rgb, surface);\n          //finalComposite.rgb = surface.debug * 0.00004f;复制代码;\n        gl_FragData[0] = vec4(finalComposite, (gr/gr_samples));复制代码替换掉原先的 \"  gl_FragData[0] \"\n;\ncomposite1.fsh(10.2P1为composite2.fsh1):\n//GodRays        \n        const float EXPOSURE = 0.45;\n        const float DENSITY = 1.0;                        \n        const int NUM_SAMPLES = 100;        复制代码放在\n#define SMOOTH_SKY\n> 这里 <\n/* DRAWBUFFERS:2 */复制代码;\nuniform vec3 sunPosition;\nuniform ivec2 eyeBrightness;        \nuniform sampler2D gaux2;复制代码放在\nvarying vec3 colorBouncedSunlight;\n> 这里 <\n\n\n#define ANIMATION_SPEED 1.0f复制代码;\n    color.a = 1.0;复制代码放在\n        color = pow(texture2DLod(gcolor, finalSamplePos, 0), vec4(2.2f));\n> 这里 <        \n        if (finalSamplePos.x == 0.0f || finalSamplePos.y == 0.0f) {复制代码;\nvoid         GodRays(inout SurfaceStruct surface){\n//省略, 不要复制这个\n}复制代码放在\n> 这里 <复制代码;\nGodRays(surface); 复制代码放在\n        //CalculateGlossySpecularReflections(surface);\n>这里<\n\n        // surface.color = surface.normal * 0.0001f;复制代码;\n\n;\n\n\n\n\n_(:з」∠)_常见BUG修复: \n晚上瞎眼:    composite1.fsh > vec3 gr_color_night = vec3(0.01,0.2,0.7) * 0.45 * timeMidnight * (1.0 - rainStrength * 1.0);复制代码   修改为vec3 gr_color_night = vec3(0.01,0.2,0.7) * 0.15 * timeMidnight * (1.0 - rainStrength * 1.0); 复制代码\n无法实现遮挡sample = texture2D(gcolor, textCoord).a;\n//sample = texture2D(gaux2, textCoord).a;\n复制代码改成//sample = texture2D(gcolor, textCoord).a;\nsample = texture2D(gaux2, textCoord).a;复制代码\n\n\n[fly]_(:з」∠)_一些修改指南:[/fly]\n颜色: \ngr_color_(时间) = vec3(R, G, B) *(强度f);</font>复制代码\n\n\n\n/*最后, 祝您身(dian)体(nao)健(bao)康(zha)*/\n/*最后, 祝您身(dian)体(nao)健(bao)康(zha)*/\n\n \n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "992979148",
            "timestamp": 1427089800,
            "txt_content": "新光影么，来顶一个"
        },
        {
            "author": "303103527",
            "timestamp": 1427091960,
            "txt_content": "好厉害的样子"
        },
        {
            "author": "xukarhei",
            "timestamp": 1427098860,
            "txt_content": "求个直接的下载QAQ"
        },
        {
            "author": "140131422",
            "timestamp": 1427189520,
            "txt_content": "xukarhei 发表于 2015-3-23 16:21\n求个直接的下载QAQ\n_(:з」∠)_我记得网盘备份有"
        },
        {
            "author": "xukarhei",
            "timestamp": 1427235060,
            "txt_content": "140131422 发表于 2015-3-24 17:32\n_(:з」∠)_我记得网盘备份有\n网盘有密码呀OAO"
        },
        {
            "author": "140131422",
            "timestamp": 1427362980,
            "txt_content": "xukarhei 发表于 2015-3-25 06:11\n网盘有密码呀OAO\n_(:з」∠)_网盘链接上的文字就是密码啊"
        },
        {
            "author": "740501486",
            "timestamp": 1439539380,
            "txt_content": "我可以加入你们的服务器吗？"
        },
        {
            "author": "逆达",
            "timestamp": 1440241380,
            "txt_content": "这不是140同学吗？我是吧里的waasd9啊。。。"
        }
    ]
}