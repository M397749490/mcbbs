{
    "title": "[PCD][开发]McSQL——一个专为插件开发者设计的插件版小型数据库[全版本]",
    "author": "弱鸡绿毛怪",
    "replyCount": 10,
    "timestamp": 1495453500,
    "txt_content": " 本帖最后由 MagicLocyDragon 于 2018-1-14 16:31 编辑 \n这个不是MySQL为什么会有一个这么垃圾的插件？\n因为数据库不是人人都会安装的，而且面板服好像也装不了数据库，操作起来也是比较麻烦，而且比如说把玩家存在数据库里面还要转成名字再用名字来获取成玩家，比较麻烦~\n开源地址:\nhttps://coding.net/u/A_Dragon/p/McSQL/git\n下载地址:\n网盘:http://pan.baidu.com/s/1hsDrdI0\n贴内:\n\n\n\nMcSQL.jar\n(12.21 KB, 下载次数: 119)\n\n\n\n2017-5-22 18:17 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n开发者专区(如果你不是开发者你可能会晕):\n\n在此之前说一个常识性的问题\n横为行 竖为列\n代码演示:\nimport java.sql.SQLException;\n\n\n\nimport org.bukkit.Bukkit;\n\nimport org.bukkit.event.EventHandler;\n\nimport org.bukkit.event.Listener;\n\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\n\nimport org.bukkit.plugin.java.JavaPlugin;\n\n\nimport McSql.Main.McSQL;\n\nimport McSql.Main.ResultSet;\n\n\n\npublic class Main extends JavaPlugin implements Listener {\n\n        McSQL sql;\n\n@Override\n\npublic void onEnable(){\n\n        sql = new McSQL(\"ChatSQL\",new String[]{\"player\",\"msg\"});\n\n        Bukkit.getPluginManager().registerEvents(this,this);\n\n        sql.connection();\n\n        try {\n\n                sql.debug(true);\n\n        } catch (SQLException e) {\n\n                e.printStackTrace();\n\n        }\n\n}\n\n@Override\n\npublic void onDisable(){\n\n        sql.save();\n\n}\n\n@EventHandler\n\npublic void onChat(AsyncPlayerChatEvent e){\n\n        try {\n\n                sql.add(e.getPlayer(),e.getMessage());\n\n            ResultSet rs = sql.read();\n\n            while(rs.next()){\n\n                    System.out.println(((OfflinePlayer) rs.getObject(\"player\")).getName()+\": \"+rs.getObject(\"msg\"));\n\n            }\n\n        } catch (SQLException e1) {\n\n                e1.printStackTrace();\n\n        }\n\n}\n\n}复制代码\n\nMcSQL类(这个是比较重要的类，其他的就不介绍了，大家可以自己去看看源码):\n\n\n构造方法: McSQL(String SQLName,String[] LineLabel) //这个名字我自己起的也是很迷，因为不知道怎么描述\nSQLName - 数据库名,不能重名\nLineLabel - 表头名\n举个例子(假设你的数据库想弄成这样子,假设数据库名字是Test)\nPlayer    Msg     Time\nxx         xx          xx\nx          x            x\n那么构造方法就可以写成new McSQL(\"Test\",new String[]{\"Player\",\"Msg\",\"Time\"});\n\nvoid - save() 保存数据库 建议onDisable里面写上，不然数据会丢\nvoid - connection() 连接数据库 建议onEnable里面写上，不然如果不连接就使用数据库会throw SQLException\nvoid - add(Object...o) 加入一行数据 数组o的长度必须等于构造方法中的LineLabel的长度，否则会throw SQLExeption,(提示，这个Object里面可以直接放Player/World/Location类，因为是专门为Mc打造的)\nvoid - clean() 清除数据库的数据\nvoid - remove(int line) 移除第line行的数据\nvoid - remove(String LineLabel_where, Object target)移除一次LineLabel_where列的target\nvoid - debug(boolean isdebug) 是否开启debug模式，如果开启了就会抛出异常，默认为true\nboolean - isdebug() 返回是否开启debug模式\nvoid - reload() 刷新数据库\nboolean - isConnectioned() 是否连接上数据库\nResultSet - read() 读取数据库 返回ResultSet 这个类会在下面讲\n\n\nResultSet类: \n和MySQL里面的ResultSet类有相似之处，不同之处在于只有getObject(String LineLabel)方法能获取，如果不会使用请看上面的例子\nint - getLengthNow() 获取目前所在的一行\nboolean - next() 是否有下一行，如果有，就切换到下一行\nObject getObject(String LineLabel) 获取这一行的LineLabel处的对象，如果找不到则抛出SQLException，当然如果你在LineLabel里面放的是Player你可以把Object强转一下，这是没有问题的，如果不会使用请看上面的例子\nQQ2424441676\n本插件所用所有代码均为原创,不存在借用/抄袭/违反协议等行为\n\n[groupid=1330]PluginsCDTribe[/groupid]",
    "replies": [
        {
            "author": "红人丶云浩",
            "timestamp": 1495461180,
            "txt_content": "可以可以 虽然我不会- - 支持原创！"
        },
        {
            "author": "先生：你好",
            "timestamp": 1495461600,
            "txt_content": "可以稍微的说说 功能和安装方法不？"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1495495140,
            "txt_content": "先生：你好 发表于 2017-5-22 22:00\n可以稍微的说说 功能和安装方法不？\n安装不就丢plugins里面吗\n怎么用就是开发者的事情了"
        },
        {
            "author": "七秒鱼丶",
            "timestamp": 1495508760,
            "txt_content": "我等闲人看看就好！但还是支持一下！"
        },
        {
            "author": "黑",
            "timestamp": 1495531560,
            "txt_content": "代码部分敢不敢不要居中。。。看着很恶心。\n\n很好的插件 ，支持作者"
        },
        {
            "author": "混世",
            "timestamp": 1495544940,
            "txt_content": "有没有什么账号密码的？\n\n有一些要指定数据库的账号密码"
        },
        {
            "author": "985783674",
            "timestamp": 1496147100,
            "txt_content": "谢谢楼主~"
        },
        {
            "author": "弱鸡绿毛怪",
            "timestamp": 1517989140,
            "txt_content": " 混世 发表于 2017-5-23 21:09\n有没有什么账号密码的？\n\n有一些要指定数据库的账号密码\n这个是专门给开发者用的"
        },
        {
            "author": "wangduidui",
            "timestamp": 1517993460,
            "txt_content": "不错的插件"
        },
        {
            "author": "Sky_HanFeng",
            "timestamp": 1518001680,
            "txt_content": "话说现在你们都喜欢写前置插件吗"
        }
    ]
}