{
    "title": "怎样获取block的nbt数据",
    "author": "拍卖官v",
    "replyCount": 11,
    "timestamp": 1587145680,
    "txt_content": " 本帖最后由 拍卖官v 于 2020-4-18 02:02 编辑 \n\n @EventHandler\n        public void onBlockPlace(BlockPlaceEvent event) {\n                Block block = event.getBlock();\n                Location location = block.getLocation();\n                int blockId = block.getTypeId();\n                int x = location.getBlockX();\n                int y = location.getBlockY();\n                int z = location.getBlockZ();\n                int chunkX = x%16;\n                int chunkZ = z%16;\n                if(chunkX == 0 || chunkX == 15 || chunkX == -1 || chunkZ == 0 || chunkZ == 15 || chunkZ == -1) {\n                        event.getPlayer().sendMessage(\"物品ID：\" + blockId + \"  区块内坐标：\" + chunkX + \" \" + chunkZ);\n                        \n                }\n        }复制代码\n\n我现在想获取放置的block方块的nbt数据，应该咋整\n求大神指导\n",
    "replies": [
        {
            "author": "天辉胡萝卜",
            "timestamp": 1587148740,
            "txt_content": "BlockState blockState = block.getState();\nCraftWorld ws = (CraftWorld) block.getWorld();\nTileEntity te = ws.getHandle().getTileEntity(new BlockPosition(pos.getX(), pos.getY(), pos.getZ()));复制代码\n\nTileEntity有一个成员函数可以获得NBTTagCompound，根据mc版本不同而不同\n例如1.15是te.b()"
        },
        {
            "author": "拍卖官v",
            "timestamp": 1587169500,
            "txt_content": " 本帖最后由 拍卖官v 于 2020-4-18 08:29 编辑 \n疾风暗影 发表于 2020-4-18 02:39\nTileEntity有一个成员函数可以获得NBTTagCompound，根据mc版本不同而不同\n例如1.15是te.b() ...\nws.getHandle()显示无法解析类型 mt。从必需的 .class 文件间接引用了它\n是需要什么外部库吗？"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1587174060,
            "txt_content": "拍卖官v 发表于 2020-4-18 08:25\nws.getHandle()显示无法解析类型 mt。从必需的 .class 文件间接引用了它\n是需要什么外部库吗？\n ...\n如果你用的是catserver的话你需要导入一份spigot.jar，并确保library顺序里面spigot.jar在catserver之前\n\ncatserver里的nms是运行时remap出来的，开发时不能直接看到"
        },
        {
            "author": "拍卖官v",
            "timestamp": 1587175740,
            "txt_content": " 本帖最后由 拍卖官v 于 2020-4-18 10:17 编辑 \n疾风暗影 发表于 2020-4-18 09:41\n如果你用的是catserver的话你需要导入一份spigot.jar，并确保library顺序里面spigot.jar在catserver之前\n ...   NBTTagCompound nbttagcompound = null;\n                        te.b(nbttagcompound);复制代码然后应该怎么用这个，或者有没有doc啊，没用过这个，不知道怎么使用"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1587177180,
            "txt_content": "拍卖官v 发表于 2020-4-18 10:09\n然后应该怎么用这个，或者有没有doc啊，没用过这个，不知道怎么使用\n请看版内NMS教程\n\n以及nbt具体用法：https://www.mcbbs.net/thread-1020301-1-2.html"
        },
        {
            "author": "拍卖官v",
            "timestamp": 1587178920,
            "txt_content": "疾风暗影 发表于 2020-4-18 10:33\n请看版内NMS教程\n\n以及nbt具体用法：https://www.mcbbs.net/thread-1020301-1-2.html\n net.minecraft.nbt.NBTTagCompound\n你知道这个类是哪个文件的吗？"
        },
        {
            "author": "William_Shi",
            "timestamp": 1587183540,
            "txt_content": "拍卖官v 发表于 2020-4-18 11:02\nnet.minecraft.nbt.NBTTagCompound\n你知道这个类是哪个文件的吗？\n你都知道是哪个包的哪个类了怎么会找不到文件"
        },
        {
            "author": "拍卖官v",
            "timestamp": 1587186960,
            "txt_content": "William_Shi 发表于 2020-4-18 12:19\n你都知道是哪个包的哪个类了怎么会找不到文件\n大佬，NBTBase怎么强转NBTTagCompound"
        },
        {
            "author": "天辉胡萝卜",
            "timestamp": 1587190860,
            "txt_content": "拍卖官v 发表于 2020-4-18 13:16\n大佬，NBTBase怎么强转NBTTagCompound\n先判断是不是instanceof，然后(NBTTagCompound)obj强转就是了"
        },
        {
            "author": "William_Shi",
            "timestamp": 1587202320,
            "txt_content": "拍卖官v 发表于 2020-4-18 13:16\n大佬，NBTBase怎么强转NBTTagCompound\nCompound是混合数据包\n可以看作是一个物品所有nbt标签的集合\n其他的base数据值是单个数据键的数据包\n我的理解是这样的"
        },
        {
            "author": "TONY_All",
            "timestamp": 1587296940,
            "txt_content": "大佬,我看了下。。TileEntity里没有返回NBTTagCompound的方法0.0怎么破QAQ\n怎么获取NBT...\n"
        }
    ]
}