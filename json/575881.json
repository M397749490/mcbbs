{
    "title": "【400高分】Linux环境如何做到[蹦服/关服]后自动重启？",
    "author": "西瓜太郎",
    "replyCount": 3,
    "timestamp": 1460779680,
    "txt_content": "Linux环境如何做到[蹦服/关服]后自动重启？",
    "replies": [
        {
            "author": "wei_shao",
            "timestamp": 1460779740,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "ESD008",
            "timestamp": 1460784120,
            "txt_content": "首先我们要向crontab加入一个新任务。\n# crontab -e：进入编辑状态，其实就是使用vi编辑。\n*/1 * * * * sh /root/monitor.sh\n我这里只是简单的设置每分钟调用一个shell脚本monitor.sh。这里可以配置的更强大，大家可以去搜索一下crontab的教程，网上有很多这类的教程。\n这里需要注意的是，很多教程配置mand的时候直接使用/root/monitor.sh，我设置的时候发现这样配置不会执行shell脚本，前面加上sh后就能执行了。\n然后我们开始写monitor.sh这个shell脚本。\n#! /bin/sh proc_name=\"WorldFrame_d\"\n#进程名 proc_num()\n#查询进程数\n{\nnum=`ps -ef | grep $proc_name | grep -v grep | wc -l`\nreturn $num}proc_num number=$?\n#获取进程数量\nif [ $number -eq 0 ]\n#如果进程数量为0then\n#重新启动服务器，或者扩展其它内容。\ncd /longwen/server/sbin/linux; ./WorldFrame_d -c 1fi\n找度娘吧 我是个新手求悬赏啊"
        },
        {
            "author": "11392761",
            "timestamp": 1460786520,
            "txt_content": "sh文件\njava -jar 服务端.jar *\nsh 这个sh文件的位置\n\n比如你在目录新建sh文件 1.sh\njava -jar 服务端.jar *\nsh 1.sh\n\n服务器端崩溃后自动运行1.sh.启动mc服务端，但是服务端卡死 并不会自动重启"
        }
    ]
}