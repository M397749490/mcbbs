{
    "title": "【Hamster君】【Bone Studio】【原创】Spigot开发实例-等级设置插件",
    "author": "苏丶小沫",
    "replyCount": 9,
    "timestamp": 1535714400,
    "txt_content": " 本帖最后由 HamsterB君 于 2018-8-31 20:03 编辑 \nSpigot开发实例-等级设置插件注：虽然此教程只是学习交流使用，但请勿转载！注：代码开源并不代表你可以直接复制粘帖(因为我可能有错)\n主类（唯一的类）（所有功能都在这里实现）（不包括包声明！）//作者 HamsterB君\nimport org.bukkit.Bukkit;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.plugin.java.JavaPlugin;\n\n//作者 HamsterB君\npublic class SettingExps extends JavaPlugin{\n  @Override public void onEnable(){\n      getLogger().info(\"等级设置插件正在开启！\");\n      this.getCommand(\"exp\").setExecutor(this);\n  }\n  @Override public void onDisable(){  \n      getLogger().info(\"等级设置插件正在关闭！\");\n  }\n  @Override public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args){\n      if(label.equalsIgnoreCase(\"exp\")){\n          if(Bukkit.getPlayer(args[1]) != null){\n          } else {sender.sendMessage(\"玩家不存在\"); return true;}\n          if(!sender.hasPermission(\"SettingExps.set\")){\n              sender.sendMessage(\"您貌似木有权限！\");\n              return true;\n          }\n          Player player = Bukkit.getPlayer(args[1]);\n          if(args[0].equalsIgnoreCase(\"set\") && Integer.valueOf(args[2]) >= 0){\n              player.setLevel(Integer.valueOf(args[2]));\n              sender.sendMessage(\"设置成功！\");\n              return true;\n          } else if(args[0].equalsIgnoreCase(\"change\")){\n              player.setLevel(player.getLevel() + Integer.valueOf(args[2]));\n              sender.sendMessage(\"设置成功！\");\n              return true;\n          } else {sender.sendMessage(\"参数错误！\"); return false;}\n      }\n      return true;\n  }\n}复制代码Plugin.yml（请勿复制粘帖，否则可能出现报错！禁止用Tab补全空格！）name: SettingExpsmain: #packageName#+#className#version: 1.0.0commands:  exp:    usage: /exp set|add 玩家名 经验等级数    description: Error讲解：主类中02行： 类声明，继承JavaPlugin。03 07行： 写出OnEnable和OnDisable方法，并且用Override标注上，就会在插件启用、卸载时调用。04 08行： getLogger().info(String s); 方法作用为在控制台上打印字符串05行： this.getCommand(主命令名).setExecutor(this); 在Spigot中注册插件的命令 10行： 写出命令的OnCommand方法，并且用Override标注，表示在玩家输入命令时条用11行： 如果玩家输入的指令是 /exp (label表示主命令名 (String)command也是主命令名)12-14行： 看看要设置经验的玩家是否在线，如果不在线，直接结束方法！15-18行： 看看玩家是否有权限执行命令，如果没有直接结束！18-27行： 看看玩家使用的是/exp set 还是/exp change，并接着给需要设置经验的玩家设置经验！方法表：打印字符串到控制台： getLogger().info(String s);检查两个字符串是否相等： 一个字符串.equalsIgnoreCase(另一个字符串);根据玩家名获取玩家： Bukkit.getPlayer(String playerName);给玩家发送信息： 玩家.sendMessage(String message);检查玩家是否有权限： 玩家.hasPermission(String permission);给玩家设置等级： 玩家.setLevel(int level);获取玩家的等级： 玩家.getLevel();特别注意：onCommand方法的返回值是Boolean类型的数据！当返回true时，不会有任何动作。当返回false时，Spigot会把plugin.yml中该命令的Description和Usage发送给命令输入者\n下载源代码：http://zipansion.com/3PEoE (点击之后等待10秒，再点击右上角的跳过广告)您的每一次点击都是对我最大的支持！5598字打得手累，各位看官不回复一下？看看我才多少级！人气什么的快点撒起来！回到目录[groupid=1306]Bone Studio[/groupid]\n\n\n\n\n\n\n\nSettingExps.rar\n\n\n2018-8-31 19:58 上传\n点击文件名下载附件\n\n\n\n\n3.33 KB, 阅读权限: 90, 下载次数: 14\n\n\n源代码(src中)\n\n\n",
    "replies": [
        {
            "author": "chenmoand",
            "timestamp": 1535723340,
            "txt_content": "mcbbs不是不让用短网址了吗"
        },
        {
            "author": "qiezhang6357",
            "timestamp": 1535723400,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1535724000,
            "txt_content": "\n\n这就是@耗子 对你的评价，可以看到你这一篇教程写得漏洞百出，结合你上一篇教程“故意”写错代码，可以认为，你根本没有写教程的心态，也没有写教程的实力，连基本的正确性都做不好。\n接二连三被打脸还在发，楼主是真的想服务论坛上的新人呢，还是竭力想证明自己的存在感？换句话说，你非得发教程吗？\n\n"
        },
        {
            "author": "gooding300",
            "timestamp": 1535726100,
            "txt_content": " 本帖最后由 gooding300 于 2018-8-31 22:47 编辑 \n\n您好\n您的程序中onCommand方法有数组越界和类型转换错误的问题，希望您可以更正一下。\n其次，Bukkit.getPlayer()是有一定开销的，在您的程序中似乎没有必要调用两次。\n\n希望您可以再次认真阅读一下您自己的程序，优化一下您的代码，例如：\nif(Bukkit.getPlayer(args[1]) != null){\n          } else {sender.sendMessage(\"玩家不存在\"); return true;}复制代码\n以及，“方法表”请链接到对应的JavaDoc。"
        },
        {
            "author": "苏丶小沫",
            "timestamp": 1535726280,
            "txt_content": "gooding300 发表于 2018-8-31 22:35\n您好\n您的程序中onCommand方法有数组越界和类型转换错误的问题，希望您可以更正一下。\n其次，Bukkit.getPla ...\n谢谢版主建议，这个帖子写得有点急了"
        },
        {
            "author": "苏丶小沫",
            "timestamp": 1535726400,
            "txt_content": "森林蝙蝠 发表于 2018-8-31 22:00\n这就是@耗子 对你的评价，可以看到你这一篇教程写得漏洞百出，结合你上一篇教程“故意”写错代码，可以认 ...\n写得是有点急了，sorry，明天来整改，帮我想那位会员道个歉"
        },
        {
            "author": "苏丶小沫",
            "timestamp": 1535726700,
            "txt_content": "森林蝙蝠 发表于 2018-8-31 22:00\n这就是@耗子 对你的评价，可以看到你这一篇教程写得漏洞百出，结合你上一篇教程“故意”写错代码，可以认 ...\n的确，我在开发经验这部分还很欠缺，也请各位dalao多多指教，我的教程其实是给别的教程查缺补漏而已，有不对的地方请提出来，我一定会更改的，另外，那位@耗子的论坛uid是啥，我想跟他聊聊"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1535726940,
            "txt_content": "HamsterB君 发表于 2018-8-31 22:45\n的确，我在开发经验这部分还很欠缺，也请各位dalao多多指教，我的教程其实是给别的教程查缺补漏而已，有 ...\n欠缺就老老实实练习水平，非要露头是要干嘛？像你这样的教程，隔一周就冒一次，删都快删不过来了。"
        },
        {
            "author": "苏丶小沫",
            "timestamp": 1535727180,
            "txt_content": "森林蝙蝠 发表于 2018-8-31 22:49\n欠缺就老老实实练习水平，非要露头是要干嘛？像你这样的教程，隔一周就冒一次，删都快删不过来了。 ...\n好吧，，这个坑就不填了吧，也请dalao们指教\n但请让我把那个spigot教程更完，我希望有始有终"
        }
    ]
}