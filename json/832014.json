{
    "title": "关于进度和随机的一些问题",
    "author": "Zevn",
    "replyCount": 2,
    "timestamp": 1543418880,
    "txt_content": "1.打个比方怎么做到当玩家杀死x个   计分板a   分数为1的实体的时候获得一个进度\n2.有没有方便一点的方法给实体随机一个[0,80]的分数？用@r或者生成不完整结构的方法我都会就不用说了，更不用说红石的方法",
    "replies": [
        {
            "author": "ruhuasiyu",
            "timestamp": 1543418880,
            "txt_content": " 本帖最后由 ruhuasiyu 于 2018-11-29 15:34 编辑 \n\n第一个我没想到什么好办法,只能是先把分数1的实体加tag,然后杀死加玩家分数,玩家分数到达x时grant进度\ntest.json\n{\n    \"criteria\": {\n        \"kill\": {\n            \"trigger\": \"minecraft:player_killed_entity\",\n            \"conditions\": {\n                \"entity\":{\n                    \"nbt\":\"{Tags:[\"a_tag\"]}\"\n                }\n            }\n        }\n    },\n    \"rewards\": {\n        \"function\": \"nmsp:test\"\n    }\n}复制代码主函数 nmsp:tick\n\nscoreboard objectives add a dummy\nscoreboard objectives add kill_a_tag  dummy\nexecute as @e unless entity @s[scores={a=1}] run tag @s remove a_tag\nexecute as @e[scores={a=1}] run tag @s add a_tag复制代码\nnsmp:test\n\nadvancement revoke @s only nmsp:test\nscoreboard players @s add kill_a_tag 1\nexecute as @s[scores={kill_a_tag=99..}] run advancement grant @s only nmsp:a_adv\n复制代码\n\n\n第二个一种是用药水云加tag，然后随机加分弄，但是一般弄2的指数幂才比较便利。所以我推荐你用战利品表，弄一个战利品表，里面有3个item选项带tag，每个设置count范围是1-27 ，然后再loot spawn ~ 255 ~ loot 战利品表，检测带tag的物品是哪一个，如果是第一个就将count赋值为分数，第二个加27，第三个加54\n\nnmsp/loot_tables/rand.json\n{\n        \"pools\": [\n                {\n                        \"rolls\": 1,\n                        \"entries\": [\n                                {\n                                        \"type\": \"item\",\n                                        \"name\": \"minecraft:firework_star\",\n                                        \"functions\": [\n                                                {\n                                                        \"function\": \"set_nbt\",\n                                                        \"tag\": \"{isMark:1b,Mark:1b}\"\n                                                },\n                                                {\n                                                        \"function\": \"set_count\",\n                                                        \"count\": {\n                                                                \"min\": 1,\n                                                                \"max\": 27\n                                                        }\n                                                }\n                                        ]\n                                },\n                                {\n                                        \"type\": \"item\",\n                                        \"name\": \"minecraft:firework_star\",\n                                        \"functions\": [\n                                                {\n                                                        \"function\": \"set_nbt\",\n                                                        \"tag\": \"{isMark:1b,Mark:2b}\"\n                                                },\n                                                {\n                                                        \"function\": \"set_count\",\n                                                        \"count\": {\n                                                                \"min\": 1,\n                                                                \"max\": 27\n                                                        }\n                                                }\n                                        ]\n                                },\n                                {\n                                        \"type\": \"item\",\n                                        \"name\": \"minecraft:firework_star\",\n                                        \"functions\": [\n                                                {\n                                                        \"function\": \"set_nbt\",\n                                                        \"tag\": \"{isMark:1b,Mark:3b}\"\n                                                },\n                                                {\n                                                        \"function\": \"set_count\",\n                                                        \"count\": {\n                                                                \"min\": 1,\n                                                                \"max\": 27\n                                                        }\n                                                }\n                                        ]\n                                }\n                        ]\n                }\n        ]\n}复制代码\n\n\nnmsp/functions/rand.mcfunction\nloot spawn ~ 255 ~ loot upp:rand\nscoreboard players set #temp a 0\nexecute store result score #temp a run data get entity @e[type=item,nbt={Item:{tag:{isMark:1b}}},limit=1] Item.Count\nexecute if entity @e[nbt={Item:{tag:{isMark:1b,Mark:1b}}}] run scoreboard players remove #temp a 1\nexecute if entity @e[nbt={Item:{tag:{isMark:1b,Mark:2b}}}] run scoreboard players add #temp a 26\nexecute if entity @e[nbt={Item:{tag:{isMark:1b,Mark:3b}}}] run scoreboard players add #temp a 53\ntellraw @p {\"score\":{\"objective\":\"a\",\"name\":\"#temp\"}}\nkill @e[nbt={Item:{tag:{isMark:1b}}}]复制代码"
        },
        {
            "author": "Zevn",
            "timestamp": 1543420800,
            "txt_content": "忘记说了，命令格式当然是最高版本，最好是func"
        }
    ]
}