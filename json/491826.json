{
    "title": "服务器玩家IP",
    "author": "caixiaojing77",
    "replyCount": 4,
    "timestamp": 1440288840,
    "txt_content": "为什么我的服务器玩家IP全是127.0.0.1的，现在熊孩子特别多\n大神说一下怎么解决吧，我是BC服！",
    "replies": [
        {
            "author": "Raymond_Min",
            "timestamp": 1440288840,
            "txt_content": "对使用BungeeCord跨服的服务器伪造IP，从而登陆OP号\n因为经过BungeeCord端以后，真实IP会被转发，用了Spigot端开启bungeecord: true选项后，可以从BC端获取真实IP。\n现在这种攻击方式就是，伪造BC端发给Spigot的数据包，从而可以伪造出任意IP地址登陆子服务器。\n如果你的整个群组服务器暴露在公网环境下（也就是可以直接端口号访问到子服务器，即使不能登陆进去，只要访问到就在此列），而且只有登陆服务器加装了登陆插件，那么攻击者通过伪造一个虚假的IP地址（比如说本地IP），就可以用OP用户名登陆到子服务器，然后就能不输入密码直接登陆子服务器获取OP权限\n解决方案：\n1.在server.properties里设置server-ip=127.0.0.1 ，这样就只侦听本地IP传来的数据（侦听本地时会直接丢弃外网传来的伪造IP数据，这种情况下即使其伪造为本地IP，也会被丢弃），不会被假数据所利用\n【以下方案对网页面板/软件后台服务器无效】\n2.在服务器的防火墙上面封禁外网登录到子服务器的端口，比如说Win下面用高级安全防火墙限制端口\n3.将整个群组移入虚拟机中，虚拟机只开放连入BungeeCord端的端口（推荐）。这种方式可以规避很多此类漏洞造成的安全风险"
        },
        {
            "author": "robbit",
            "timestamp": 1440292440,
            "txt_content": "设置bc服务端的config.yml文件中的\nip_forward: true     #这一行为true\nonline_mode: false\n\n服务端的spigot.yml文件中的\n  bungeecord: true   #一项也设置为true\n之后重载/重启BC端以及服务端即可\n\n如果对你有帮助请采纳"
        },
        {
            "author": "robbit",
            "timestamp": 1440292620,
            "txt_content": "robbit 发表于 2015-8-23 09:14\n设置bc服务端的config.yml文件中的\nip_forward: true     #这一行为true\nonline_mode: false\n这样子即可ban熊孩子ip"
        },
        {
            "author": "616315246",
            "timestamp": 1440295560,
            "txt_content": "这个是服务商的问题！你最好不要banIP  否则全部玩家都会被ban\n"
        }
    ]
}