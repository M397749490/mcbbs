{
    "title": "[execute全面教程实战——③简化与嵌套]",
    "author": "Green_stone",
    "replyCount": 2,
    "timestamp": 1471654080,
    "txt_content": " 本帖最后由 Green_stone 于 2016-8-29 21:44 编辑 \n\n    至今execute的所有功能已经讲完，但是我们还剩下一点——简化。\n    execute本身就是一个简化（只在testfor指令没有NBT的时候）。当你需要两个命令方块、一个比较器的时候，一个execute即可全部完成。例如当比较器左边是/testfor @a[...]，右边是/setblock 6 6 6 air。完全可以使用以下指令代替（这里暂不解释命令方块类型）：\n/execute @a[...] ~ ~ ~ setblock 6 6 6 air复制代码    execute还支持自身嵌套。\n    嵌套是什么？就是自身的指令包着自身。例如程序中一般都有嵌套式循环（循环内再循环），我的特长其实是编程……\n    execute怎么嵌套？首先一个完整的execute指令，在其要执行的事件指令内也填入另一个execute，此时再执行setblock什么的。\n    以上仅仅是双层的，当然还有三层的，四层的，五层的……\n    当你两个execute探测不同的目标，但执行相同的指令，请考虑使用嵌套！\n\n\n\n    execute电梯——嵌套利用\n    难度：★★☆☆☆\n    \n   两层电梯\n    电梯思路：利用execute判断脚下的方块是否是铁块，再判断头上的方块是否也是铁块，才会向上tp。\n    有些人认为只需要判断脚下啊，不必探测头上的。\n    当我们地板也需要用到铁块时，那所有地板不都是电梯咯？\n    \n\n\n\n\n00010.PNG (85.62 KB, 下载次数: 0)\n\n下载附件\n\n2016-7-17 11:52 上传\n\n\n\n\n    如图，先计算每级之间有几格，execute嵌套最终执行的指令就tp上去几格，第一级、第二级、第三级要上升，所以上下要用铁块，第四级无需上升，头上不用放铁块（或者在头上再上去一格的空中放）。    首先是一个简单只探测脚下方块的execute指令：/execute @a ~ ~ ~ detect ~ ~-1 ~ iron_block 0 ...复制代码    嵌套另一个探测头上方块的execute指令：\n/execute @a ~ ~ ~ detect ~ ~-1 ~ iron_block 0 execute @p ~ ~ ~ detect ~ ~2 ~ iron_block 0 ...复制代码    后面再加上tp即可！（我这里是tp上去5格）    如何下去一层呢？按照以上方法，利用其他方块，相反的原理再做一个电梯……（注：感谢林扬骐指错，所有嵌套中，外部的嵌套如果用@a，那内部嵌套就得用@p，避免多次执行，因为外部嵌套已经指明所有人了，那么内部只要对自己判断就行了）\n    \n\n\n未经允许，请勿转载！金币人气，向我撒来！选自 execute超全面教程索引\n",
    "replies": [
        {
            "author": "langyo",
            "timestamp": 1471756200,
            "txt_content": "灵感不错哦\n\n这个嵌套概念已经是cb模块的其中一个实现标准了～"
        },
        {
            "author": "林扬骐",
            "timestamp": 1472473800,
            "txt_content": "喂啊，嵌套的第二个execute里应该是@p不是@a啊"
        }
    ]
}