{
    "title": "[管理|安全|信息][PoS]Prism —— 棱镜【Sponge最好用的查询/回档插件】[API7]",
    "author": "_DIM_",
    "replyCount": 47,
    "timestamp": 1551188940,
    "txt_content": " 本帖最后由 酷车手BB弹 于 2020-3-23 19:09 编辑 \nPrism\nBukkit上大家常见的叫CoreProtect，俗称coi。那么这里就是pri\n目前可能还没有CoreProtect的功能多，但其功能已经比Sponge上其他任意一款查询插件都要强大\n\n目前可以记录方块以及实体甚至是掉落物的信息，并且可以记录应环境因素造成的破坏（例如苦力怕小黑弄没的方块）\n支持MongoDB，H2 以及 MySQL / MariaDB\n该插件是papi的作者rojo8399所写的\n\n命令：\n\n/pr i - 开/关查询模式\n/pr l - 查询记录，可使用参数\n/pr near - 查询附近的记录\n/pr rb (parameters) - 回档功能，可使用参数\n/pr rs (parameters) - 还原功能，可使用参数\n/pr undo - 撤消上次回档/还原操作\n复制代码\n参数：\na:(event) - “动作” 例如 break、place 等……\nb:(block id) - “方块” 的名字，例如“grass”。\nbefore:(time) - “之前” 的时间段。\nc:(cause) - 非玩家动作，即“environment”环境因素。\nplayer:(name)- “玩家名” 可以是离线玩家。\nr:(number) - “半径” - 以你为中心周围的距离。\nsince:(time) - “之后” 的时间段。复制代码\nFlag值：\n-clean - 在回档区域删除即将爆炸的方块以及掉落物。\n-drain - 在回档区域清除流体\n-no-group - 禁止在查询中自动分组，点击单条记录可直接传送过去\n-extended - 使用 /lookup 命令列出附加信息 - 例如：（X，Y，Z）日期时间复制代码\n权限：\nprism.info - 可查看关于prism的信息\nprism.help - 可查看帮助\nprism.inspect - 可使用 /pr i\nprism.lookup - 可使用 /pr l 以及 /pr n\nprism.rollback - 可使用/pr rb\nprism.undo - 可使用 /pr undo\nprism.override.radius - 可无视配置文件中的最大半径复制代码\n配置：commands {\n    near {\n        defaultRadius=5\n    }\n}\ndb {\n    h2 {\n        tablePrefix=\"prism_\"\n    }\n    mongo {\n        host=\"127.0.0.1\"\n        pass=\"\"\n        port=27017\n        user=\"\"\n    }\n    mysql {\n        host=\"127.0.0.1\"\n        pass=\"\"\n        port=3306\n        schemaVersion=1\n        tablePrefix=\"prism_\"\n        user=root\n    }\n    name=prism\n}\ndefaults {\n    enabled=true\n    radius=5\n    since=\"3d\"\n}\ndisplay {\n    dateFormat=\"yyyy/M/d HH:mm:ss\"\n}\nevents {\n    break=true\n    death=true\n    decay=true\n    drop=false\n    grow=true\n    join=true\n    pickup=false\n    place=true\n    quit=true\n}\nlimits {\n    radius {\n        max=100\n    }\n}\nquery {\n    actionable {\n        limit=10000\n    }\n    lookup {\n        limit=1000\n    }\n}\nstorage {\n    engine=h2\n    expireRecords=\"4w\"\n}\n复制代码\n使用截图：\n查询：\n\n\n\n\nQQ截图20190226214555.png (146.73 KB, 下载次数: 10)\n\n下载附件\n\n2019-2-26 21:46 上传\n\n\n\n\n\n\n\n\nQQ截图20190226213936.png (76.89 KB, 下载次数: 9)\n\n下载附件\n\n2019-2-26 21:41 上传\n\n\n\n\n\n回档：\n\n\n\n\nQQ截图20190226214032.png (116.31 KB, 下载次数: 9)\n\n下载附件\n\n2019-2-26 21:41 上传\n\n\n\n\n\n\n\n\n\nQQ截图20190226214014.png (164.95 KB, 下载次数: 9)\n\n下载附件\n\n2019-2-26 21:41 上传\n\n\n\n\n\n\n下载地址：\nhttps://github.com/prism/Prism\n网盘备份：http://zsn741656478.ys168.com/\n\n\n建议配合PrismPlus食用 最新版已包含附属的功能\n\n\n什么？缺少指令和聊天的记录功能？MMCLogger了解一下\n\n[groupid=1680]Power of Spongie[/groupid]\n\n\n\n\n\n\nQQ截图20190305231846.png\n(28.93 KB, 下载次数: 11)\n\n\n\n\n下载附件\n\n\n2019-3-5 23:21 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "_DIM_",
            "timestamp": 1551189060,
            "txt_content": "配置文件里的 expireRecords=\"4w\" 是指最长保留时间，4w就是4星期，可以改成7d，1m，1y之类的"
        },
        {
            "author": "lsaoan",
            "timestamp": 1551189960,
            "txt_content": "顶~顶~顶~顶~顶~顶~顶~顶~顶~"
        },
        {
            "author": "Akkariin",
            "timestamp": 1551206400,
            "txt_content": "这个名字有意思\n插件的作用是监听服务器的一切玩家事件，而名字又是 PRISM\n让我想起美国的某个……"
        },
        {
            "author": "SnowWings",
            "timestamp": 1551241260,
            "txt_content": "收藏.jpg"
        },
        {
            "author": "Not102",
            "timestamp": 1551260160,
            "txt_content": "支持 壮大sponge"
        },
        {
            "author": "qq2415786013",
            "timestamp": 1551429600,
            "txt_content": "后台报错刷屏"
        },
        {
            "author": "_DIM_",
            "timestamp": 1551448260,
            "txt_content": "qq2415786013 发表于 2019-3-1 16:40\n后台报错刷屏\n自己用了半年了，没任何问题"
        },
        {
            "author": "qq2415786013",
            "timestamp": 1551449460,
            "txt_content": "酷车手BB弹 发表于 2019-3-1 21:51\n自己用了半年了，没任何问题\n是不是要按键数据库？"
        },
        {
            "author": "_DIM_",
            "timestamp": 1551496500,
            "txt_content": "qq2415786013 发表于 2019-3-1 22:11\n是不是要按键数据库？\n不需要，默认h2"
        },
        {
            "author": "_DIM_",
            "timestamp": 1551799320,
            "txt_content": "qq2415786013 发表于 2019-3-1 22:11\n是不是要按键数据库？\n刚刚在帖子里写了补充，是新版不兼容附属"
        },
        {
            "author": "秋魂",
            "timestamp": 1560242160,
            "txt_content": "prism会回档出之前死去的生物并且以非常鬼畜的形式运动怎么处理..."
        },
        {
            "author": "秋魂",
            "timestamp": 1560242220,
            "txt_content": " 本帖最后由 秋魂 于 2019-6-11 16:38 编辑 \n\n就是这样\n\n\n\n\n\n\nfile_1560242296000.jpg\n(434.71 KB, 下载次数: 2)\n\n\n\n\n下载附件\n\n\n2019-6-11 16:38 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "_DIM_",
            "timestamp": 1560258660,
            "txt_content": "秋魂 发表于 2019-6-11 16:37\n就是这样\n重启服务器试试？"
        },
        {
            "author": "秋魂",
            "timestamp": 1560271320,
            "txt_content": "酷车手BB弹 发表于 2019-6-11 21:11\n重启服务器试试？\n这些生物是活着的，，，我把这些挨个杀了，之后复原的时候都记得加上了break参数，就不会出现这个bug了。\n我也不知道重启有没有效XD但可以用这个方法规避这个问题.."
        },
        {
            "author": "dark7",
            "timestamp": 1560303420,
            "txt_content": "秋魂 发表于 2019-6-12 00:42\n这些生物是活着的，，，我把这些挨个杀了，之后复原的时候都记得加上了break参数，就不会出现这个bug了。 ...\n我也遇到过，不过我直接砍死完，。。。"
        },
        {
            "author": "佟星杰",
            "timestamp": 1560789660,
            "txt_content": "感谢楼主分享"
        },
        {
            "author": "2677513295",
            "timestamp": 1563686580,
            "txt_content": "支持1.10的吗"
        },
        {
            "author": "晨曦曦",
            "timestamp": 1563794700,
            "txt_content": "插件不错回档的插件正好需要"
        },
        {
            "author": "cp666",
            "timestamp": 1564627380,
            "txt_content": "冲突就有点。。"
        },
        {
            "author": "wulangyu",
            "timestamp": 1566651300,
            "txt_content": "吹更：跪求汉化~"
        },
        {
            "author": "超人大大i",
            "timestamp": 1567070640,
            "txt_content": "用来防止熊孩子！"
        },
        {
            "author": "_DIM_",
            "timestamp": 1567084620,
            "txt_content": "wulangyu 发表于 2019-8-24 20:55\n吹更：跪求汉化~\n这玩意要啥汉化。。。"
        },
        {
            "author": "wulangyu",
            "timestamp": 1567085040,
            "txt_content": "酷车手BB弹 发表于 2019-8-29 21:17\n这玩意要啥汉化。。。\n玩家貌似并不能看懂吧，应该"
        },
        {
            "author": "_DIM_",
            "timestamp": 1567088160,
            "txt_content": "wulangyu 发表于 2019-8-29 21:24\n玩家貌似并不能看懂吧，应该\n这插件给玩家用？"
        },
        {
            "author": "a25624186",
            "timestamp": 1570350240,
            "txt_content": "...很奇怪我很多版本都说过了 1.12.2的cat服好像装不上去"
        },
        {
            "author": "Marchal",
            "timestamp": 1580898060,
            "txt_content": "这个插件可以回档指定玩家的背包吗"
        },
        {
            "author": "_DIM_",
            "timestamp": 1580961360,
            "txt_content": "Marchal 发表于 2020-2-5 18:21\n这个插件可以回档指定玩家的背包吗\n不行。     "
        },
        {
            "author": "zll1261390138",
            "timestamp": 1584711720,
            "txt_content": "楼主，我想回ID555 一个小时前的档应该填什么参数"
        },
        {
            "author": "lol我的喜欢",
            "timestamp": 1584713340,
            "txt_content": "可以可以，推荐推荐哈，良心贴！！"
        },
        {
            "author": "lol我的喜欢",
            "timestamp": 1584713340,
            "txt_content": "可以可以，推荐推荐哈，良心贴！！"
        },
        {
            "author": "lol我的喜欢",
            "timestamp": 1584713400,
            "txt_content": "可以可以，推荐推荐哈，良心贴！！"
        },
        {
            "author": "lol我的喜欢",
            "timestamp": 1584713460,
            "txt_content": "可以可以，推荐推荐哈，良心贴！！"
        },
        {
            "author": "lol我的喜欢",
            "timestamp": 1584713760,
            "txt_content": "可以可以，推荐推荐哈，良心贴！！"
        },
        {
            "author": "lol我的喜欢",
            "timestamp": 1584713880,
            "txt_content": "可以可以，推荐推荐哈，良心贴！！"
        },
        {
            "author": "a8559039",
            "timestamp": 1585138920,
            "txt_content": "大佬你好，使用了一段时间，该插件的配置文件夹现在有七个多G，这是正常现象嘛"
        },
        {
            "author": "_DIM_",
            "timestamp": 1585139520,
            "txt_content": "a8559039 发表于 2020-3-25 20:22\n大佬你好，使用了一段时间，该插件的配置文件夹现在有七个多G，这是正常现象嘛 ...\n你这算小了                           "
        },
        {
            "author": "a8559039",
            "timestamp": 1585139580,
            "txt_content": "酷车手BB弹 发表于 2020-3-25 20:32\n你这算小了\n绝了。。那得定时清理，硬盘肯定不够"
        },
        {
            "author": "qq8223426",
            "timestamp": 1586431440,
            "txt_content": "请问什么时候会有汉化？"
        },
        {
            "author": "ndywmy",
            "timestamp": 1587281820,
            "txt_content": "good！！！！！！！！！！"
        },
        {
            "author": "1165894787",
            "timestamp": 1588407360,
            "txt_content": "可不可以关闭查询时不可破坏/放置方块a\n在与林业或是潘马斯农场的果树右键收成时\n因为方块会还原，而收集到的掉落物还在，所以会刷出物品\n"
        },
        {
            "author": "WileStone",
            "timestamp": 1589426160,
            "txt_content": "这个插件会不会导致TPS降低啊，1.14.4可以正常运作吗"
        },
        {
            "author": "_DIM_",
            "timestamp": 1589690700,
            "txt_content": "1165894787 发表于 2020-5-2 16:16\n可不可以关闭查询时不可破坏/放置方块a\n在与林业或是潘马斯农场的果树右键收成时\n因为方块会还原，而收集到 ...\n难不成你把回档权限给玩家用？"
        },
        {
            "author": "し不懂丶装懂つ",
            "timestamp": 1590672240,
            "txt_content": "mcbbs有你更精彩"
        },
        {
            "author": "1165894787",
            "timestamp": 1591024200,
            "txt_content": "酷车手BB弹 发表于 2020-5-17 12:45\n难不成你把回档权限给玩家用？\n这个bug是查询时触发的"
        },
        {
            "author": "Crysta11ize",
            "timestamp": 1607905440,
            "txt_content": "恢复盒子或者箱子的话 里面的物品不会恢复"
        },
        {
            "author": "2846842988",
            "timestamp": 1607915340,
            "txt_content": "看起来很不错唉"
        },
        {
            "author": "Doubisam",
            "timestamp": 1607952900,
            "txt_content": "不会使用回档功能，楼主能否详细讲解一下\n"
        }
    ]
}