{
    "title": "跨服插件问题",
    "author": "虚伪的悲催",
    "replyCount": 5,
    "timestamp": 1562331720,
    "txt_content": "不管是PlayerDataSQL也好还是付费插件MysqlPlayerDataBridge也好，均已出现这个字符\n\nCould not create connection to database server. Attempted reconnect 3 times. Giving up.\nPlayerDataSQL插件报错更加详细\n[PlayerDataSQL][错误] 从数据库载入 %BeiCuei% 的数据时发生了错误\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误] com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server. Attempted reconnect 3 times. Giving up.\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.Util.getInstance(Util.java:408)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2094)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2019)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:776)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at java.lang.reflect.Constructor.newInstance(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at java.sql.DriverManager.getConnection(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at java.sql.DriverManager.getConnection(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at cc.bukkitPlugin.pds.storage.MySQL.createConn(MySQL.java:46)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at cc.bukkitPlugin.pds.storage.MySQL.getConn(MySQL.java:174)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at cc.bukkitPlugin.pds.storage.MySQL.get(MySQL.java:217)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at cc.bukkitPlugin.pds.user.UserManager.loadUser(UserManager.java:106)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at cc.bukkitPlugin.pds.task.LoadUserTask.run(LoadUserTask.java:62)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at org.bukkit.craftbukkit.v1_12_R1.scheduler.CraftTask.run(CraftTask.java:76)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at org.bukkit.craftbukkit.v1_12_R1.scheduler.CraftAsyncTask.run(CraftAsyncTask.java:52)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at java.lang.Thread.run(Unknown Source)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误] Caused by: java.sql.SQLException: null,  message from server: \"Host '192.168.0.165' is not allowed to connect to this MySQL server\"\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:965)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1040)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2188)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     at com.mysql.jdbc.ConnectionImpl.connectWithRetries(ConnectionImpl.java:2035)\n[21:01:01] [Craft Scheduler Thread - 4/INFO]: [PlayerDataSQL][错误]     ... 22 more复制代码\n\n\n",
    "replies": [
        {
            "author": "Zapic",
            "timestamp": 1562333460,
            "txt_content": " 本帖最后由 Zapic 于 2019-7-5 21:33 编辑 \n\n无法连接数据库,一般是你操作失误.\n1.mysql -u用户名 -hlocalhost -p\n填入你写进插件配置的数据库信息尝试连接.\n失败请参照http://www.mcbbs.net/forum.php?m ... 880370&pid=14797755 的创建用户一节来创建新的用户并再次尝试连接.GRANT ALL PRIVILEGES ON <允许连接的数据库>.* TO '<用户名>'@'<允许的IP>' IDENTIFIED BY '<密码>' WITH GRANT OPTION;\n//创建新的用户,强烈建议将允许的IP设置为localhost,并为每一个插件分配单独的数据库账户与数据库以及数据库权限.\n//但是如果懒得的话你也可以创建一个通用账户,直接使用GRANT ALL PRIVILEGES ON *.* TO '<用户名>'@'<允许的IP>' IDENTIFIED BY '<密码>' WITH GRANT OPTION;就OK了,但是这个账户拥有数据库的所有读写权限,仍然强烈建议将允许的IP设置为localhost\nFLUSH PRIVILEGES;\n//刷新权限,使新账户生效复制代码\n成功了?不可能的.成功了就把锅丢给插件吧XD"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1562335020,
            "txt_content": "Zapic 发表于 2019-7-5 21:31\n无法连接数据库,一般是你操作失误.\n1.mysql -u用户名 -hlocalhost -p\n填入你写进插件配置的数据库信息尝试 ...\n请问能不能再详细一些\n\n\n\n\n图片.png (17.94 KB, 下载次数: 0)\n\n下载附件\n\n2019-7-5 21:57 上传\n\n\n\n\n\n"
        },
        {
            "author": "Zapic",
            "timestamp": 1562335740,
            "txt_content": "虚伪的悲催 发表于 2019-7-5 21:57\n请问能不能再详细一些\n你这个...\n按照这个试一下\n1.mysql -uroot -hlocalhost -p\n输密码回车\n2.use PlayerDataSQL;\n不要漏分号\n\n第一步可能出现的错误:\n密码错误或去掉-hlocalhost后可以连接\n前者检查密码,后者参照例子创建新用户.\n\n第二步可能出现的问题:\n数据库不存在或者无权连接.\n前者使用\"CREATE DATABASE <数据库名>;\"创建数据库,不要漏分号\n后者参照例子创建新用户.\n\n还不行锅丢给插件"
        },
        {
            "author": "虚伪的悲催",
            "timestamp": 1562336880,
            "txt_content": "Zapic 发表于 2019-7-5 22:09\n你这个...\n按照这个试一下\n1.mysql -uroot -hlocalhost -p\n3个插件都不行\nCould not create connection to database server. Attempted reconnect 3 times. Giving up.\n还是这样"
        },
        {
            "author": "Zapic",
            "timestamp": 1562339160,
            "txt_content": "虚伪的悲催 发表于 2019-7-5 22:28\n3个插件都不行\nCould not create connection to database server. Attempted reconnect 3 times. Giving  ...\n这是直接在cmd/bash里执行的.\n用于查错.\n不是mc服务器指令.\n你试试登录mysql后GRANT ALL PRIVILEGES ON *.* TO 'mcsvr'@localhost' IDENTIFIED BY '<密码>' WITH GRANT OPTION;FLUSH PRIVILEGES;\n然后把用户名:mcsvr密码:你设的 写进配置里试试"
        }
    ]
}