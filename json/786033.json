{
    "title": "[管理|安全] SakuraLogin 樱花登录 —— 支持外置登录的开源登录插件 [1.7.2-1.12.2]",
    "author": "Prismaillya",
    "replyCount": 72,
    "timestamp": 1520332440,
    "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽\n",
    "replies": [
        {
            "author": "h2259",
            "timestamp": 1520332920,
            "txt_content": "666666666 厉害了 厉害了"
        },
        {
            "author": "江赛",
            "timestamp": 1520332980,
            "txt_content": "我以为是登录有樱花特效呢。但是看到后面的就..."
        },
        {
            "author": "爱浪",
            "timestamp": 1520333340,
            "txt_content": "貌似可以外置登录，先占个坑"
        },
        {
            "author": "海贼王#",
            "timestamp": 1520340720,
            "txt_content": "这是新科技。"
        },
        {
            "author": "July_Summer",
            "timestamp": 1520341140,
            "txt_content": "是很厉害的\n要是能接受返回数据\n直接在启动器里判断就更好了23333"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1520341380,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1520341440,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "xmdhs",
            "timestamp": 1520343060,
            "txt_content": " 本帖最后由 xmdhs 于 2018-3-6 21:48 编辑 \n\nhmcl 该如何配置呢\n好吧 我知道了   不过你用java写个界面也不是什么难事嘛"
        },
        {
            "author": "zxc450705154",
            "timestamp": 1520418540,
            "txt_content": "如何使用的这个插件，我完全没看懂"
        },
        {
            "author": "zxc450705154",
            "timestamp": 1520418540,
            "txt_content": "面板服能使用吗"
        },
        {
            "author": "zxc450705154",
            "timestamp": 1520418720,
            "txt_content": "为什么我打开配置文件是这样的\n\n\n\n\n\n\n25.png\n(132.33 KB, 下载次数: 1)\n\n\n\n\n下载附件\n\n\n2018-3-7 18:32 上传\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1520439240,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1520439300,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "iceBear67",
            "timestamp": 1520753820,
            "txt_content": "为dalao打call"
        },
        {
            "author": "Not105",
            "timestamp": 1520856000,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1520866980,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Not105",
            "timestamp": 1520931840,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "SB22753",
            "timestamp": 1521214980,
            "txt_content": "十分看好该插件 你的那个网页插件已经在用了"
        },
        {
            "author": "ISUO",
            "timestamp": 1521278640,
            "txt_content": "有关于 注册账号的申请格式不？还是直接和登录方式一样？"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1521279120,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "似水网络",
            "timestamp": 1521280020,
            "txt_content": "感谢大佬"
        },
        {
            "author": "Not105",
            "timestamp": 1521282000,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "OMOONO",
            "timestamp": 1521380520,
            "txt_content": "macOS腐竹好崩溃啊，不想装win，启动器又不支持Mac。。"
        },
        {
            "author": "OMOONO",
            "timestamp": 1521383040,
            "txt_content": "请问支持sponge吗？"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1521391500,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "OMOONO",
            "timestamp": 1521392280,
            "txt_content": "Prismaillya 发表于 2018-3-19 00:45\n不支持~\n(主要是还没去学sponge的api，感觉很不习惯\n好吧……先用Flexible Login好了……你这个真的厉害了，第一次在MCBBS上看到这么6的原创插件"
        },
        {
            "author": "andylizi",
            "timestamp": 1521966540,
            "txt_content": " 本帖最后由 andylizi 于 2018-3-25 16:32 编辑 \n\n1. ECB 在多数情况下被认为不安全的。不应该使用这种模式。详见 分组密码工作模式 - 维基百科 和 How to choose an AES encryption mode (CBC ECB CTR OCB CFB)? - Stack Overflow。\n\n2. 在外置登录功能的服务端实现里，程序对每个新来的连接都要创建一个新线程进行处理，并且没有设置任何安全措施。这意味着攻击者可以通过不断创建空连接的方法，几乎0成本的耗尽服务端的资源。如果运气好说不定能连操作系统也一起卡死。即使防火墙有连接频率限制也没用，因为这种压测方法对频率根本没有要求，因为反正服务端不会主动断开无效的连接，大不了就是用时长一点而已。\n\n3.private static Key generateKey(String key)throws Exception{      \n    SecretKeySpec keySpec = new SecretKeySpec(key.getBytes(), \"AES\"); \n    return keySpec; \n} 复制代码\n从这个生成密钥的方法来看，这完全就不是 AES-128。它究竟是什么我也不清楚，因为 SecretKeySpec (Java Platfrom SE 8) 里只提到了This class is only useful for raw secret keys that can be represented as a byte array and have no key parameters associated with them, e.g., DES or Triple DES keys.\n\npublic SecretKeySpec(byte[] key,\n                     String algorithm)\nConstructs a secret key from the given byte array.\n\nThis constructor does not check if the given bytes indeed specify a secret key of the specified algorithm. For example, if the algorithm is DES, this constructor does not check if key is 8 bytes long, and also does not check for weak or semi-weak keys. In order for those checks to be performed, an algorithm-specific key specification class (in this case: DESKeySpec) should be used.中文版是这样的此类仅对能表示为一个字节数组并且没有任何与之相关联的钥参数的原始密钥有用，如，DES 或者 Triple DES 密钥。\n\n此构造方法不检查给定的字节实际上是否指定了一个指定算法的密钥。例如，如果算法是 DES，此构造方法不检查 key 是否是 8 字节长，并且也不检查是否是全弱或者半弱密钥。为了执行这些检查，应当使用一个特定于算法的密钥规范。\n因此这个类的作用只是把一个已经是密钥的 byte[] 包装为 JCE 能使用的格式，但它并不检查这个 byte[] 究竟是不是一个合法的密钥格式，即使不合法也会照章接受。\n然而为什么用错误的密钥仍然能正常进行加密，这一点我也想不明白。。\n\n先不吐槽以文本作为密钥会带来一定暴力破解/弱密码的风险，如果一定要使用文本密钥好歹也用一下 PBKDF2 嘛。。直接丢进 SecretKeySpec 里算怎么回事。。\n\n4. 噢对了，既然这个密钥完全就是公开的（外置登录启动器需要拥有这个密钥才能登录，而玩家需要拥有启动器，因此就等同于玩家拥有这个密钥），并且全服玩家共用一个密钥，那这个加密的意义在哪里？\n任何截取到数据包的人，只要想办法查查这个数据包是用来登录哪个服务器的，然后去下载一份那个服务器的启动器，从启动器里找出密钥来，就可以轻松解密全服玩家的登录数据包了。\n对称加密在这种情况下完全起不到保护数据安全的作用，得使用 非对称加密 + 预先设置的公钥/证书机制（防止中间人攻击）才能解决问题。\n\n5. 发现插件会默认使用固定的密钥 \"KASUGANOSORASAES\"，如果服主懒得更改这个（我打赌一定有很多人忘了改），那似乎连下载启动器得到密钥这一步都可以省了。现在连路由器都知道不能默认用户名密码 admin / admin 了。\n\n6. 如果网页端在另一台服务器上，且没部署 https，那么直接通过 http 发送密码啊什么的也是不安全的。\n\n7. 外置登录可以参考一下国内开发者写的 authlib-injector。蛮有意思的。\n\n目前想到的安全问题就这些。关于干啥都要 new 个 Thread 处理之类的性能问题就不说了。"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1521967980,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "andylizi",
            "timestamp": 1521970620,
            "txt_content": "Prismaillya 发表于 2018-3-25 16:53\n嗯，居然引起了梨子dalao的注意，非常感谢反馈。\n\n关于 RSA 这边，其实我是一直都有在研究的，本 ...\n不用 RSA 的话可以考虑一下 ECDSA，它能用更小的密钥长度和更快的速度达到与 RSA 一样的安全性。\n以及目前的绝大多数 HTTPS 网站使用的都是 RSA 证书，每次访问 HTTPS 网站时都要进行很多次 RSA 加解密操作才能完成握手，也没见慢到了哪里去……"
        },
        {
            "author": "qq1736299124",
            "timestamp": 1522057200,
            "txt_content": "感谢分享                        "
        },
        {
            "author": "xiaozheng666QQ",
            "timestamp": 1532353920,
            "txt_content": "下载连接挂了，楼主补一下连接"
        },
        {
            "author": "xiaozheng666QQ",
            "timestamp": 1532684880,
            "txt_content": "楼主，我发现一件事，你这个的外置注册怎么注册"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1532788380,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "hou8885",
            "timestamp": 1535168640,
            "txt_content": "网页显示Token Error"
        },
        {
            "author": "hou8885",
            "timestamp": 1535184300,
            "txt_content": "我服务器和网页的api都对，为什么还是现实api错误啊"
        },
        {
            "author": "Reliable_han",
            "timestamp": 1535445300,
            "txt_content": "很好的外置登陆插件 感谢发布"
        },
        {
            "author": "前往德国权威",
            "timestamp": 1535467320,
            "txt_content": "正好缺个可以对接我启动器的登录插件，可以配合一下扫描MD5吗？，我想实现反作弊"
        },
        {
            "author": "tudo999",
            "timestamp": 1535474280,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "hui2333",
            "timestamp": 1540018800,
            "txt_content": "支持sponge吗？"
        },
        {
            "author": "Prismaillya",
            "timestamp": 1540020180,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "hui2333",
            "timestamp": 1540026300,
            "txt_content": "Prismaillya 发表于 2018-10-20 15:23\n抱歉，不支持，但是你可以用 Sponge 兼容 Bukkit 的那个插件尝试一下运行，不保证能成功。 ...\nnico：真香~"
        },
        {
            "author": "3179461185",
            "timestamp": 1549110060,
            "txt_content": "伸手党补贴"
        },
        {
            "author": "1805843660",
            "timestamp": 1551707040,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "zycdojar",
            "timestamp": 1551790560,
            "txt_content": "下载地址凉了"
        },
        {
            "author": "月神Moonking",
            "timestamp": 1557108780,
            "txt_content": "tudo999 发表于 2018-8-29 00:38\n可以的 很棒了\n我想知道如何解决token的那个API密码认证编辑，已经安装了PHPstudy"
        },
        {
            "author": "月神Moonking",
            "timestamp": 1557123720,
            "txt_content": "hou8885 发表于 2018-8-25 16:05\n我服务器和网页的api都对，为什么还是现实api错误啊\n很棒，我也是酱紫，但是我的版本是1.14，现在还在寻找解决的办法你之前的问题解决了吗？"
        },
        {
            "author": "GB_banxia",
            "timestamp": 1557588120,
            "txt_content": "感谢lz发布"
        },
        {
            "author": "迷茫zzz",
            "timestamp": 1559786820,
            "txt_content": "感谢分享"
        },
        {
            "author": "再见哦",
            "timestamp": 1562646240,
            "txt_content": "不错不错"
        },
        {
            "author": "再见哦",
            "timestamp": 1562646240,
            "txt_content": "可以可以可以 还不错"
        },
        {
            "author": "猿汐",
            "timestamp": 1562648820,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "454066419",
            "timestamp": 1576842300,
            "txt_content": "11111111111111111111112"
        },
        {
            "author": "sq1282417568",
            "timestamp": 1582273920,
            "txt_content": "拿走了，十分感谢"
        },
        {
            "author": "Chaos_dream",
            "timestamp": 1583419860,
            "txt_content": "作者怎么无了"
        },
        {
            "author": "wa3y611",
            "timestamp": 1586935560,
            "txt_content": "在，不用为什么要回复？你不是脑瘫是什么"
        },
        {
            "author": "Edens",
            "timestamp": 1587106200,
            "txt_content": "trfhtrhtfrh"
        },
        {
            "author": "9974411",
            "timestamp": 1587909120,
            "txt_content": "下载地址啥的都挂了啊"
        },
        {
            "author": "csdm522",
            "timestamp": 1589273940,
            "txt_content": "怎么开启注册功能;w;"
        },
        {
            "author": "liangcha2009",
            "timestamp": 1592302080,
            "txt_content": "又一个登录插件!"
        },
        {
            "author": "human3",
            "timestamp": 1592309340,
            "txt_content": "滋磁一下 666666"
        },
        {
            "author": "Mc_Buddhism",
            "timestamp": 1593171960,
            "txt_content": "不错很好。。"
        },
        {
            "author": "cyxzbd",
            "timestamp": 1593176640,
            "txt_content": "功能很强大，如果能支持高版本就好了"
        },
        {
            "author": "叶凡辰",
            "timestamp": 1593591840,
            "txt_content": "感谢楼组"
        },
        {
            "author": "3489800380",
            "timestamp": 1594892220,
            "txt_content": "6666666666666666"
        },
        {
            "author": "zyr743",
            "timestamp": 1600615080,
            "txt_content": "感谢分享"
        },
        {
            "author": "哀子小七",
            "timestamp": 1600659060,
            "txt_content": "更新一下高版本呗 大哥"
        },
        {
            "author": "2872854733",
            "timestamp": 1602079140,
            "txt_content": "666666666666"
        },
        {
            "author": "167143645",
            "timestamp": 1602236160,
            "txt_content": "感谢66666666666666666666666666"
        },
        {
            "author": "Thehrz",
            "timestamp": 1604821380,
            "txt_content": "不错的插件，登录挺方便的"
        },
        {
            "author": "小幽子",
            "timestamp": 1608099420,
            "txt_content": "厉害啊，这插件，下载了"
        },
        {
            "author": "ossshashuo",
            "timestamp": 1608458160,
            "txt_content": "支持，谢谢分享"
        },
        {
            "author": "学神",
            "timestamp": 1613835060,
            "txt_content": "太好了 正好再找外置 支持"
        }
    ]
}