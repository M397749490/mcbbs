{
    "title": "ForgeGradle on Wall – 科学使用FG",
    "author": "szszss",
    "replyCount": 5,
    "timestamp": 1406333400,
    "txt_content": "计算机行业一直盛传Unix哲学,它代表着一种程序设计风格,其中一条是\"只做一件事并把它做好\".在互联网时代,我倒希望那些互联网巨头(特别是@BAT)也能学学Unix哲学...不要一味地扩展业务领域,强行推广自己的垃圾服务毒害消费者...\n\n好吧扯远了,ForgeGradle毫无疑问是个小而精的工具,然而它仍有一些不尽人意的地方,于是便有了ForgeGradle on Wall (简称FGOW)来为FG添砖加瓦,\"做一些有违于LexManos和AbrarSyed哲学的事情\".\n1.概述\nFGOW目前包含如下功能:\n自定义下载源,包括Maven源和MC资源文件的下载地址.\n构建可编辑MC源代码的开发目录,主要用于Coremod开发啥的...\n\n当前版本:1.0.0\n\n下载地址:\n百度网盘:http://pan.baidu.com/s/1nt5bfsd\nSkyDrive:http://1drv.ms/1nHscFO\n\n安装方法:\n将fgow-1.0.0.jar放到你的Forge目录下,与build.gradle同级.\n\n\n\n\n20140726063207.jpg (15.68 KB, 下载次数: 7)\n\n下载附件\n\n2014-7-26 08:05 上传\n\n\n\n\n\n用任意一款文本编辑器(但不建议用记事本!实在不行的话,用写字板打开也行)编辑build.gradle,在buildscript块的dependencies中加入:\nclasspath files('fgow-1.0.0.jar')复制代码然后将下方的\napply plugin: 'forge'复制代码改为\napply plugin: 'fgow'复制代码\n\n\n\n\n20140726063545.jpg (48.92 KB, 下载次数: 7)\n\n下载附件\n\n2014-7-26 08:05 上传\n\n\n\n\n\n于是便安装完成了,打开cmd输入gradlew.bat tasks来验证一下是否安装成功\n\n\n\n\n20140726063850.jpg (160.54 KB, 下载次数: 5)\n\n下载附件\n\n2014-7-26 08:05 上传\n\n\n\n\n\n\n适用版本:\n1.7.2  1.7.10\n无法在1.6.4-964中使用 ;w;\n\n\n2.自定义下载源\n\n有些人的网络与Forge的文件服务器和亚马逊的S3文件服务器的链接并不好,而ForgeGradle又不允许自定义下载源(你说build.gradle里的源?那个仅限于解析脚本时使用...).而Gradle这屌逼玩意又偏爱联网(当然你可以使用--offline来禁止联网^ ^),因此FGOW引入了自定义下载源的作用.\n\n默认情况下,FGOW使用的和Forge相同的源设定,除了获取素材索引(AssertIndex)时使用Http而不是Https(垃圾回收党很讨厌秘密,我这里所有到S3的Https链接一律会被掐死).\n\n要自定义下载源,编辑build.gradle,在里面加入repos块,可选的参数包括:\n\n\n 参数作用 默认值  useMavenCentral 启用Maven中央库,如果不知道是何物的话...就保持默认吧. 可选值:true false false customMavenUrl 额外的自定义Maven源,位于Maven中央库之前,如果留空或没有的话,则不启用额外源.  mcClientUrl MC客户端下载地址,{MC_VERSION}为MC版本. \"http://s3.amazonaws.com/Minecraft.Download/versions/{MC_VERSION}/{MC_VERSION}.jar\" mcServerUrl MC服务器下载地址,{MC_VERSION}为MC版本. \"http://s3.amazonaws.com/Minecraft.Download/versions/{MC_VERSION}/minecraft_server.{MC_VERSION}.jar\" assestIndexUrl 素材索引下载地址,{ASSET_INDEX}为索引文件名. 1.7.2请暂时先使用默认的官方地址. \"http://s3.amazonaws.com/Minecraft.Download/indexes/{ASSET_INDEX}.json\" libraryUrl MC库文件下载地址. \"https://libraries.minecraft.net/\" forgeUrl Forge库文件下载地址. \"http://files.minecraftforge.net/maven\" mcpUrl MCP工具文件下载地址. \"http://files.minecraftforge.net/fernflower-fix-1.0.zip\"\n\n\n\n\n20140726064842.jpg (55.99 KB, 下载次数: 4)\n\n下载附件\n\n2014-7-26 08:07 上传\n\n\n\n\n\n\n几个推荐的配置包括:\n\n纯国外源:\n\nrepos {\nuseMavenCentral = true\ncustomMavenUrl = \"\"\nmcClientUrl = \"http://s3.amazonaws.com/Minecraft.Download/versions/{MC_VERSION}/{MC_VERSION}.jar\"\nmcServerUrl = \"http://s3.amazonaws.com/Minecraft.Download/versions/{MC_VERSION}/minecraft_server.{MC_VERSION}.jar\"\nassestIndexUrl = \"http://s3.amazonaws.com/Minecraft.Download/indexes/{ASSET_INDEX}.json\"\nlibraryUrl = \"https://libraries.minecraft.net/\"\nforgeUrl = \"http://files.minecraftforge.net/maven\"\nmcpUrl = \"http://files.minecraftforge.net/fernflower-fix-1.0.zip\"\n}复制代码\n这个就是默认配置...和什么都不写等效.\n\n混合源:\n\nrepos {\nuseMavenCentral = true\nmcClientUrl = \"http://bmclapi.bangbang93.com/versions/{MC_VERSION}/{MC_VERSION}.jar\"\nassestIndexUrl = \"http://bmclapi.bangbang93.com/indexes/{ASSET_INDEX}.json\"\nforgeUrl = \"http://forgemavenmirror.sinaapp.com/maven\"\n}复制代码\n这个是我推荐的配置,部分采用国内的源,其余仍使用国外源,注意1.7.2要把assestIndexUrl那行注释掉/删掉,因为现在bangbang93的BMCLAPI没有缓存legacy.json...\n\n(几乎)纯国内源:\n\nrepos {\nuseMavenCentral = false\ncustomMavenUrl = \"http://maven.oschina.net/content/groups/public/\"\nmcClientUrl = \"http://bmclapi.bangbang93.com/versions/{MC_VERSION}/{MC_VERSION}.jar\"\nassestIndexUrl = \"http://bmclapi.bangbang93.com/indexes/{ASSET_INDEX}.json\"\nlibraryUrl = \"http://bmclapi.bangbang93.com/libraries/\"\nforgeUrl = \"http://forgemavenmirror.sinaapp.com/maven\"\n}复制代码\n这个除了MCP工具和MC服务器端文件国内无处可下以外,其余能从国内下的都从国内下了...包括Maven源都改用OSC的镜像.这个应该是最快的,但稳定性也是最不保证的...\n\n\n3.经典开发目录\n\n过去我们都习惯一个说改就改的代码,但在ForgeGradle中没法这么做,LexManos又明确说过绝不会在FG中引入\"构建可编辑的工作目录\"之类的功能...于是便有了\"有违于LexManos哲学\"的FGOW.\n\nFGOW提供了如下和构建经典开发目录相关的task.\n\n 组 名称描述  ForgeGradle setupClassicWorkspace DevWorkspace的全部功能 + MC源代码被部署入源代码目录.不会覆盖已有的文件. Classic Workspace cleanClassic 近似于setupClassicWorkspace的逆向,从源码目录移除所有未被修改的MC源代码和资源文件. Classic Workspace pickClassic 从源码目录中筛选出新文件以及被修改过的MC文件,并复制入build/picked.每次复制时都会清空build/picked/main和resources.\n\n这个没啥好说的了...都懂得.\n\n\n\n\n\n20140726054939.jpg (156.69 KB, 下载次数: 5)\n\n下载附件\n\n2014-7-26 08:07 上传\n\n\n\n\n\n\n\n另外,src/main/java和resources下会加入3个文件,classic.projectmark用于标记这是个经典开发目录,sourceRecord.buildignore和resourcesRecord.buildignore用于记录文件MD5,跟踪是否文件是否发生变更.\n\n====================谜の分割线=================\n\n目前已知Bug:\n(这个不算Bug...至少不是我的Bug)如果你用BMCLAPI的源时遇到了UnknownHostException的话,再重试一遍就好了,似乎BMCLAPI的DNS不稳定?\npickClassic的描述错了,会在下一版订正...\n\n未来计划:\nSub-projects Helper:子项目辅助功能\nSync Helper:文件同步\n一个Gui界面,提供一些功能的封装,为拉低人类平均智商而设计. (可能会被取消)\n\n大量的,关于紫sama蓝sama幽幽sama觉sama恋sama和玛艾露贝莉x莲子的福利\n\n过几天会把代码传上github.\n\n建议先在白板FG上使用.如果是在已经有代码的FG上使用的话...记住:备份是金.\n\n\n有问题尽管留言^ ^\n\n",
    "replies": [
        {
            "author": "marionette1998",
            "timestamp": 1406382780,
            "txt_content": "Co坐看大触卖萌"
        },
        {
            "author": "szszss",
            "timestamp": 1406634300,
            "txt_content": "今天SAE挂掉了...如果要使用国内ForgeMaven镜像需要把sinaapp换成vipsinaapp,估计过几天就能恢复."
        },
        {
            "author": "浅度~红茶c",
            "timestamp": 1446728160,
            "txt_content": "容我挖个坟,好东西不能沉."
        },
        {
            "author": "licrafter",
            "timestamp": 1461073200,
            "txt_content": "大触啊。。。。"
        },
        {
            "author": "1241892914",
            "timestamp": 1484307180,
            "txt_content": "请问  能否给一个1.7.10的可以用fgow加速的build.gradle文件？ 很抱歉做了个伸手党 但是折腾了两天  一直出错误  按网上的解决办法也不起作用"
        }
    ]
}