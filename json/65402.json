{
    "title": "NBT格式(NBT format)",
    "author": "DJXGAME",
    "replyCount": 8,
    "timestamp": 1353248100,
    "txt_content": " 本帖最后由 DJXGAME 于 2012-11-18 22:21 编辑 \n\nNBT格式\nNBT（二进制命名标签）格式为Minecraft中用于向文件中存储数据的一种存储格式。这一格式在此处由Notch给出一个简略的介绍。NBT格式以树形结构并配以许多标签的形式存储数据。所有的标签都有一个独立的ID和名称。最初的版本如MinecraftBeta1.3中所示为19132个标签，但是随着铁砧的引入，增加了一个整形指针变量，标签数量增加至19133个。在NBT格式最初在MinecraftIndev的版本中只有0到10这11个标签可用。标签的定义\n每一个标签在数据树中都是一个独立的部分。标签的第一个字节为标签类型（ID）,其后两字节为存储名称的长度,之后以UTF-8格式的字符串的方式存储标签。尽管在默认的情况下Minecraft本身并不会存储带有空格的名称，但是标签名称可以包含空格。最后，取决于标签的类型，之后的字节为该标签的辅助信息。下表所示为在19133标签版本中二进制命名标签格式中所有12个已知的标签类型：\nID图标标签类型辅助信息描述0\nTAG_End无用于标记复合标签的结尾。本标签无任何名称所以只有一个零字节。1\n\nTAG_Byte1字节 / 8位，有正负有正负的整值数据类型，通常用于布尔表达式。2\n\nTAG_Short2字节 / 16位，有正负，字节序：BE有正负的整值数据类型。3\n\nTAG_Int4 字节 / 32 位，有正负，字节序：BE有正负的整值数据类型。4\n\nTAG_Long8 字节 / 64 位，有正负，字节序：BE有正负的整值数据类型。5\n\nTAG_Float4 字节 / 32 位，有正负，字节序：BE，IEEE 754-2008标准，binary32有正负的浮点数据类型6\n\nTAG_Double8 字节 / 64 位，有正负，字节序：BE, IEEE 754-2008标准，有正负的浮点数据类型7\n\nTAG_Byte_ArrayTAG_Int的辅助信息大小以及 TAG_Byte的辅助信息大小。数组8\n\nTAG_StringTAG_Short的辅助信息length以及一个采用UTF-8标准的带有长度信息的字符串一个采用UTF-8标准的字符串，有尺寸限制，也就是说会以空结尾。9\n\nTAG_ListTAG_Byte的辅助信息tagId以及TAG_Int的辅助信息size和size的辅助信息，所有类型的tagId。一系列没有重复标签ID和标签名称的辅助信息。10\n\nTAG_Compound标签的完整形式，需要附加TAG_End一系列完整的标签信息，包括ID、名称以及辅助信息等。任意两个标签都不会有相同的名称。11\n\nTAG_Int_ArrayTAG_Int的辅助信息size和对应的size TAG_Int的辅助信息。存储TAG_Int的辅助信息的数组复合标签的列表常以嵌套递归的方式出现。\n文件格式\nNBT文件是GZip'd格式的复合标签，其中并包括名称和标签ID。在Minecraft中使用的文件有可能未经压缩，但是基于Notch最出的叙述，文件需要经GZip进行压缩。文件中并没有用于显示版本及其他信息的头文件，只是在level.dat中才出现这一显示版本的内容。在Minecraft中的应用\nNBT文件格式在Minecraft的应用不尽相同。在某些情况下，空目录可能不会表示字节标签列表而表示为一系列正确标签类型的列表。额外的，几乎所有的根标签均包含一个空字符串并包含一个复合标签存储实际的数据和名称，如下所示：\n\n\n\n\n1.png (14.2 KB, 下载次数: 48)\n\n下载附件\n\n2012-11-18 21:49 上传\n\n\n\n\n\n\n另一点值得注意的是，尽管Notch最初所述允许在标签名称中出现空格，甚至是在例子中也出现了包含空格的标签名称，但是Minecraft并不会识别带有空格的标签名称。使用大小写字母混排也会造成不稳定，推荐使用lowerCamelCase和UpperCamelCase的命名规则，有时甚至可以使用全部小写字母的方式。\n应用level.dat以压缩后的NBT格式进行存储。<player>.dat以压缩后的NBT格式进行存储。idcounts.dat以未压缩的NBT格式进行存储。map_<#>.dat以压缩后的NBT格式进行存储。servers.dat以未压缩的NBT格式进行存储多人服务器列表区块以压缩后的NBT格式进行存储区域文件。\n\n软件\n时下除去Minecraft本身并未有一款由于编辑NBT格式的官方指定软件，在Minecraft社区中已经开发出一些用于编辑和修改NBT文件的软件。\n名称NBT版本介绍截图NBTEdit19132可以以Windows资源管理器的方式查看并修改NBT文件。但是由于其版本陈旧，不支持多标签以相同名字出现，并会强制修改类型，这一软件缺乏对未经压缩的NBT文件的支持。NBTExplorer19133受NBTEdit灵感所创，并基于NBTEdit，这一程序可以以Windows资源管理器的方式查看并修改NBT文件。支持压缩后或未经压缩的NBT文件，并允许对如MCRegion和铁砧文件、level.dat等直接进行编辑。NEINedit19132基于Mac系统的NBT编辑器。\n\n\n这篇很专业，看不懂吧~其实很简单的啦~NBT常见的用处是修改物品和修改装备名称~\n\n至于字节序，就是数据存储的方向啦~\n\n那个lowerCamelCase和UpperCamelCase的命名规则看起来很麻烦其实一个例子就清楚了：\n比如I wanna eat an apple这句话在计算机看起来有时候因为不能打空格所以就出现了一种叫做CamelCase的命名规则~顾名思义就是想骆驼一样有高有低O(∩_∩)O~\nlowerCamelCase的写法呢就是iWannaEatAnApple；UpperCamelCase的写法是IWannaEatAnApple。聪明的你已经发现不同了吧~就是第一个单词的首字母啦O(∩_∩)O~\n\nPS:还有一些题外话~\n最近翻译区很热闹，这一点人家是很开心的~但是希望大家在回复的时候呢请尽量不要回复纯字母呀、乱码呀、表情呀这种回复~（尤其是那个心理测试帖）总这么回复人家可是很困恼是扣金币还是扣金币呢？\n还有，希望大家在翻wiki的时候尽量参照一下模板，比如某懒人包版主（在这里不点名批评了）就是因为太懒了，不愿意注册wiki账号新建词条页面，他的帖子才被我关闭的~总之，关于wiki翻译有什么不明白的可以问我，不要乱发帖哦O(∩_∩)O~\n",
    "replies": [
        {
            "author": "sylqiuyifeng",
            "timestamp": 1353248220,
            "txt_content": "嗯……\n其实这篇是小头\n之后联系到的什么region format啊之类的才头大"
        },
        {
            "author": "DJXGAME",
            "timestamp": 1353248400,
            "txt_content": "sylqiuyifeng 发表于 2012-11-18 22:17 \n嗯……\n其实这篇是小头\n之后联系到的什么region format啊之类的才头大\n没问题~慢慢翻译O(∩_∩)O~"
        },
        {
            "author": "sylqiuyifeng",
            "timestamp": 1353248520,
            "txt_content": "DJXGAME 发表于 2012-11-18 22:20 \n没问题~慢慢翻译O(∩_∩)O~\n老实说……\n我没看wiki就知道NBT标签怎么用了怎么办……\n（其实当初是为了尝试给物品加中文注释于是弄了个NBT修改器来琢磨一下）"
        },
        {
            "author": "geludan",
            "timestamp": 1353249060,
            "txt_content": "用了nbt修改了我地图中的书，不然重新打一遍真的会死"
        },
        {
            "author": "LIVNDS",
            "timestamp": 1353318240,
            "txt_content": "你翻译这些做什么··············"
        },
        {
            "author": "jianghr",
            "timestamp": 1353334860,
            "txt_content": "看来这个和地图的存贮方式有关。不过既然区块有压缩过那为何MC地图文件的压缩比依旧很夸张呢？（冗余数据多）\n还有。表格里的小图标请去掉吧。论坛这里不支持图片后缀还是什么的。要是引用到了一些大的图标集……这个页面就很精彩了。\n至于发错模板还有直接新建WIKI页面的问题，每个人都有不会到会的过程，当初我也是直接把原稿发给三晋这样慢慢过来的。希望你还能记得这些。"
        },
        {
            "author": "DJXGAME",
            "timestamp": 1353408480,
            "txt_content": "jianghr 发表于 2012-11-19 22:21 \n看来这个和地图的存贮方式有关。不过既然区块有压缩过那为何MC地图文件的压缩比依旧很夸张呢？（冗余数据多 ...\n他不是不会发呀……只是不填那个基本信息……"
        },
        {
            "author": "wcsoswcsos",
            "timestamp": 1410255240,
            "txt_content": "挖坟没事吧。。。最近在研究MC文件的结构和作用，相关中文帖子真的很少。\n谢谢楼主"
        }
    ]
}