{
    "title": "在方块被破坏时，怎么获取破坏方块的进度",
    "author": "gjmeng",
    "replyCount": 11,
    "timestamp": 1527997620,
    "txt_content": "如题，方块被破坏，怎么获取破坏的进度，还有，玩家取消破坏方块会触发什么事件",
    "replies": [
        {
            "author": "a8105",
            "timestamp": 1528048380,
            "txt_content": "BlockDamageEvent"
        },
        {
            "author": "gjmeng",
            "timestamp": 1528077720,
            "txt_content": "810587921 发表于 2018-6-4 01:53\nBlockDamageEvent\n我知道这个事件，但是我怎么知道方块破坏的进度呢"
        },
        {
            "author": "zhanshi123",
            "timestamp": 1528124040,
            "txt_content": "gjmeng 发表于 2018-6-4 10:02\n我知道这个事件，但是我怎么知道方块破坏的进度呢\n方块破坏进度是在客户端上的\n没有事件给你用的"
        },
        {
            "author": "gjmeng",
            "timestamp": 1528205220,
            "txt_content": "zhanshi123 发表于 2018-6-4 22:54\n方块破坏进度是在客户端上的\n没有事件给你用的\n我最近也想到了这个问题，但是我现在想在服务端获知这个进度，怎么办呢"
        },
        {
            "author": "zhanshi123",
            "timestamp": 1528205760,
            "txt_content": "gjmeng 发表于 2018-6-5 21:27\n我最近也想到了这个问题，但是我现在想在服务端获知这个进度，怎么办呢 ...\n不可以"
        },
        {
            "author": "gjmeng",
            "timestamp": 1528282500,
            "txt_content": "zhanshi123 发表于 2018-6-5 21:36\n不可以\n好吧，谢谢了"
        },
        {
            "author": "Lss233",
            "timestamp": 1528420740,
            "txt_content": "监听服务端与客户端之间的数据包说不定可以实现这个功能。\n服务端会向客户端发送方块的破坏状态，你可以用它和BlockDamageEvent或者别的事件配合使用。\n用ProtocolLib举个例子：\nprotocolManager.addPacketListener(\n  new PacketAdapter(this, ListenerPriority.NORMAL, \n          PacketType.Play.Server.BLOCK_BREAK_ANIMATION) {\n    @Override\n    public void onPacketSending(PacketEvent event) {\n       PacketContainer packet = event.getPacket();\n       Entity 破坏者 = packet.getEntityModifier(event).read();\n       BlockPosition 方块坐标 = packet.getBlockPositionModifier().read(1);\n       byte 进度 = packet.getBytes().read(2); // 进度为0-9，共10个阶段。\n    }\n});复制代码\n大概就是上面这样。由于条件有限，所以没办法测试 ，希望能给楼主一个思路。\n"
        },
        {
            "author": "gjmeng",
            "timestamp": 1528460640,
            "txt_content": "Lss233 发表于 2018-6-8 09:19\n监听服务端与客户端之间的数据包说不定可以实现这个功能。\n服务端会向客户端发送方块的破坏状态，你可以用 ...\n看着好像不错，回头我试一下！！"
        },
        {
            "author": "1duya",
            "timestamp": 1528543800,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "gjmeng",
            "timestamp": 1528547280,
            "txt_content": "1duya 发表于 2018-6-9 19:30\n可以试着装个材质包 有些材质包有显示\n我是写插件需要获取，不是我自己要看到"
        },
        {
            "author": "轻光233",
            "timestamp": 1528858860,
            "txt_content": "Lss233 发表于 2018-6-8 09:19\n监听服务端与客户端之间的数据包说不定可以实现这个功能。\n服务端会向客户端发送方块的破坏状态，你可以用 ...\n用中文作变量名？"
        }
    ]
}