{
    "title": "服务器tps低 cpu占用诡异 付saprk",
    "author": "NothingnessVoid",
    "replyCount": 15,
    "timestamp": 1588259880,
    "txt_content": "服务器有时候tps17 有时候直接掉到0.77 \n很诡异 https://sparkprofiler.github.io/#ZbHddDBzk5 \n求各位大佬帮忙看看",
    "replies": [
        {
            "author": "结城希亚",
            "timestamp": 1588259880,
            "txt_content": "NothingnessVoid 发表于 2020-5-1 00:06\nhttps://www.spigotmc.org/go/timings?url=okavafosaz\n区块加载导致的暂时性tps炸裂\n\n是不是有人跑图\nwb填充区块试试\n[管理|安全] WorldBorder —— 世界边界★还在担心被跑图吗 【汉化】[全版本]\nhttps://www.mcbbs.net/thread-608265-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n其他的话...\n      35.22%          56.85%        304.16 s            28.43 ms         1.0              10.7k            world - tileEntityTick\n      33.06%          53.36%        285.47 s            26.68 ms        6,406          68,548.7k            tickTileEntity\n      13.94%          22.50%        120.36 s            11.25 ms         1.0              10.7k            world - entityTick\n\n机器原因了\n需要的话用下我的cbl限制数量\n[管理]ChunkBlockLimit ——  可视化的区块限制插件[1.6-1.12]\nhttps://www.mcbbs.net/thread-984759-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n或者试试在spigot.yml里改max-tick-time数值5或者3000\n\n\n还不行就真没啥办法了，超频10GHzU满上"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588260480,
            "txt_content": "我觉得补个timings会更直观点"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1588260540,
            "txt_content": "结城希亚 发表于 2020-4-30 23:28\n我觉得补个timings会更直观点\n前两天是timings 然后有人劝我mod服用spark 我迷了"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588260600,
            "txt_content": "NothingnessVoid 发表于 2020-4-30 23:29\n前两天是timings 然后有人劝我mod服用spark 我迷了\n诶，spark只在某方面比较好\n我翻sprak结果套娃套到后面是hashmap占用\n\n我用timings看就是实体占用"
        },
        {
            "author": "FurryWorld",
            "timestamp": 1588261740,
            "txt_content": "上传一下最近一次的服务器日志文件\n并且能附上timings吗？\ntimings + log\n这种更直观，更方便排查"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1588261980,
            "txt_content": "结城希亚 发表于 2020-4-30 23:30\n诶，spark只在某方面比较好\n我翻sprak结果套娃套到后面是hashmap占用\n\n\ntimings我也能看出是实体占用 \n发出来肯定一堆想水任务和刷金粒的人说实体太多\n让我加实体优化的插件\n因为spark能看出具体是什么占用多。\n所以我想看看能不能单独去解决这一方面的问题"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588262100,
            "txt_content": " 本帖最后由 结城希亚 于 2020-4-30 23:59 编辑 \nNothingnessVoid 发表于 2020-4-30 23:53\ntimings我也能看出是实体占用 \n发出来肯定一堆想水任务和刷金粒的人说实体太多\n让我加实体优化的插件\n你说是短时间内掉tps\n估计就是某个插件导致的（比如nospawnchunk和自带的autosaveworld）\ntimings可以直接看出Pct Tick最大的\n\n翻了下你的套娃sprak\n然而是世界造成的原因，而且占用都是分散开来的...\n\n什么漏斗、工业机器、热力膨胀等都多多少少沾点，没什么好针对优化的（或者试试我的cbl？）"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1588262760,
            "txt_content": "结城希亚 发表于 2020-4-30 23:55\n你说是短时间内掉tps\n估计就是某个插件导致的（比如nospawnchunk和自带的autosaveworld）\ntimings可以直接 ...\nhttps://www.spigotmc.org/go/timings?url=okavafosaz"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1588263180,
            "txt_content": "结城希亚 发表于 2020-4-30 23:55\n你说是短时间内掉tps\n估计就是某个插件导致的（比如nospawnchunk和自带的autosaveworld）\ntimings可以直接 ...\ncbl是啥 我是导线也限制了 机器也限制了 实体也限制了 但是还是特别低 而且服务器CPU占用有时能跑到70%多 平常都13-20%"
        },
        {
            "author": "结城希亚",
            "timestamp": 1588263360,
            "txt_content": "NothingnessVoid 发表于 2020-5-1 00:13\ncbl是啥 我是导线也限制了 机器也限制了 实体也限制了 但是还是特别低 而且服务器CPU占用有时能跑到70%多 ...\nchunkblocklimit\n我发的那个插件\n\n1.12.2的模组服一直都是个谜\n像电动分拣机和涡轮，一下可以把20tps碾压到个位数，甚至小数\n目前看来短暂卡顿主要来自区块加载，应该是有人跑图吧\n你可能需要升级下CPU了（"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1588263420,
            "txt_content": "结城希亚 发表于 2020-5-1 00:10\n区块加载导致的暂时性tps炸裂\n\n是不是有人跑图\n\n跑图应该不是我出生点周围1w格全用lagassist加载过了"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1588263480,
            "txt_content": "结城希亚 发表于 2020-5-1 00:16\nchunkblocklimit\n我发的那个插件\n\n\n确实是有小数\n看来洋垃圾不太行啊"
        },
        {
            "author": "柚子呦",
            "timestamp": 1588294740,
            "txt_content": "我自己是觉得服务器tps低 肯定是玩家在搞什么高科技..."
        },
        {
            "author": "1223199909",
            "timestamp": 1588300680,
            "txt_content": "可以加个opis看看哪些区块儿掉tps"
        },
        {
            "author": "NothingnessVoid",
            "timestamp": 1588307640,
            "txt_content": "1223199909 发表于 2020-5-1 10:38\n可以加个opis看看哪些区块儿掉tps\nopis是啥啊\n"
        }
    ]
}