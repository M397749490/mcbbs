{
    "title": "[聊天]Chats插件-聊天处理系统,入手稍难,复杂强大的基础插件[1.2.5-R4.0]",
    "author": "fyxridd",
    "replyCount": 20,
    "timestamp": 1343564580,
    "txt_content": " 本帖最后由 fyxridd 于 2012-7-29 21:21 编辑 \n\n推荐程度:★★★\n(★表示不怎么推荐,通常是因为插件有bug或不实用;\n★★表示一般,通常是因为插件使用的情况比较特殊或比较少或有小bug;\n★★★表示推荐,通常是安全稳定且使用情况较多的插件)\n\n介绍:\n插件介绍:\n\n插件介绍:本插件简单的说就是把玩家的聊天信息进行判断处理,再执行相应的操作.\n===============================================================================\n比如可以给玩家的聊天信息加上颜色,玩家输入脏话的时候取消信息显示,玩家输入一些求助信息的时候自动判断然后给玩家显示帮助,还可以给服务器的所有命令套个外壳,让输入执行命令变得更简单,其它更多功能则等待你自己发掘.\n===============================================================================\n首先玩家输入聊天信息,然后执行相应的操作,似乎很简单,但是有一长串的操作列表,到底应该选择哪个操作呢?这时就要进行判断,怎么判断呢?那就是把聊天信息与匹配串进行匹配,匹配成功了,就执行相应的操作,否则,正常显示聊天信息.因此插件有个匹配串列表,而每条匹配串都对应一些操作,匹配的时候会从上到下把每条匹配串与聊天信息进行匹配.\n\n那你可能会说执行的操作是固定的吗?能不能有参数变量呢(比如执行的操作是给玩家反馈信息,那么你可能会想在信息中加入玩家的名字),答案是有,玩家输入聊天信息,可以给执行的操作提供发送聊天信息的玩家的名字,玩家发送的信息两个变量,但实际上你可能仍然觉得不够,比如如果执行的操作是一个命令\"/give xxx xxx xxx\",那么后面的3个参数你可能想让玩家在聊天信息中指定而不是使用固定的值,怎么办呢?为了解决这个问题,本插件提供了另一种方法,跟普通的聊天信息不同,玩家输入的信息如果以\">\"开头那么就会被当成\"命令\",你可以像使用一般的指令一样输入\">give xxx xxx xxx\",这条聊天信息会以空格作为分隔符分割成好几段,第一段\">give\"包含命令指示符\">\"与命令名,这个例子里是\"give\",后面几段则是参数,分别是<0>,<1>...<9>,最多10个参数(这是本插件的限制),超过的参数会被截断丢掉.\n\n那么再说匹配,你可能会说怎么匹配呢?比如玩家输入\"home\",那么会与每条匹配串进行匹配,如果判断到某条匹配串,这条匹配串也是\"home\",就相当于匹配成功了,然后执行相应的操作.但这样的匹配肯定还不够,你可能希望只要玩家输入的信息里包含\"home\"也执行相应的操作,为了实现这个目的,插件提供了通配符*(表示0-N个任意字符)与?(表示1个任意字符),这样就可以实现大部分的需求了.但这样的话匹配串里的*与?都会被当作通配符而不是正常的字符来看待了,如果你需要玩家输入\"home?\"的时候算匹配成功,那怎么办呢?难道匹配串也写成\"home?\"吗?这样写匹配串的话因为\"?\"是通配符,所以玩家输入\"homea\"也算匹配成功,明显不符合你的本意,所以此插件又提供了转义符\"/\"(很多编程语言都将\"\\\"而不是\"/\"当作转义符,但为了显示的美观与方便与其它的一些原因,此插件将\"/\"当作转义符),表示把其后面的第一个字符(无论是什么)当作正常的字符来进行匹配,这样匹配串写成\"home/?\"然后玩家只能在输入\"home?\"的时候算匹配成功,满足了要求.要说一下的是,有必要在前面加\"/\"的字符只有\"*\",\"?\"与\"/\",其它的字符直接写就可以了.\n\n此外,针对玩家输入的另一种聊天\"命令\",类似\">give xxx xxx xxx\"这样的形式的,匹配的方法明显不能像上面那样,因为xxx是可以变的,不是固定的值.那么这种形式的信息又是怎么匹配的呢?很简单,就是根据第一个命令名来匹配,这里是\"give\",参数可以变,但命令名却是固定的.事实上,插件为这种形式的匹配提供了额外的限制条件,就是参数的数量,如果参数数量不满足要求,那么就算匹配失败,因为这种形式的匹配很多时候是为了执行一个命令,而命令一般对参数的数量是有严格要求的.\n\n最后就是执行操作了,你可能会问有哪些操作呢?操作的类型一共有三种,一种是显示信息,这是最基本的了,就是给玩家反馈一些信息;一种是执行命令,这也是十分重要的一个功能,可以让指定的玩家执行指定的命令;最后一种是其它功能,这是本插件额外提供的一些功能,数量并不多,事实上我发现很多功能可以用此插件调用其它插件的命令来实现,比如调用essentials插件的命令,因此在加入一些功能后我就停止加入更多的功能了.\n===============================================================================\n\n好了,我们来总结一下.这个插件会在玩家发送聊天信息的时候进行操作,把玩家发送的聊天信息与所有的匹配串进行匹配,匹配成功后就会执行相应的操作.\n\n匹配的时候分两种情况,一种情况是玩家输入的聊天信息的第一个字符是\">\",那么就会被当作聊天\"命令\"来对待,聊天信息会以空格分隔成许多段,分别被当作\">命令名\"与参数<0>,<1>....<9>来对待,然后把发送信息的玩家名字,玩家输入的信息,命令名,参数<0>,<1>...<9>传给操作,操作可以将信息显示在玩家的聊天窗口中,比如将参数<0>,<1>到<9>显示给玩家,但实际上玩家输入的信息参数的数量可能只有1个,这种情况下并不会出错,而只是不显示那些没有的参数而已.\n\n除第一种情况外的聊天信息会直接与可能包含通配符*,?与转义符/的匹配串进行匹配,匹配成功则执行相应的操作,这种情况下传递给操作的参数只有两个:发送信息的玩家名字与玩家输入的信息.\n\n         / 正常匹配 \\\n聊天信息              执行操作\n         \\\"命令\"匹配/\n\n就是这么简单!\n详细的用法请查看帮助图片.\n\n\n\n这个插件很复杂很强大,为了各位方便入手,这里我演示些例子.(用的英文)\n>帮助功能\n我输入help,然后显示:\n\nconfig配置:\n\n你是否能编出一本服务器帮助手册来了呢?\n\n>命令外壳功能\n我输入\"gohome\"或\">home\",然后显示:\n\nconfig配置:\n\n给任意插件的命令套个外壳,让它更容易使用,是否很有用呢?\n\n>过滤功能\n我输入\"fuck\",然后显示:\n如果我是op,还会显示\n\nconfig配置:\n这个功能是否不错呢?\n\n>聊天颜色功能\n我输入\"test\"(可以任意),然后显示:\n\n如果我不是op,那么就会像正常一样显示白色的聊天信息.\nconfig配置:\n(你可能会发现match后面的数字是900,为什么要写那么大呢,这并非乱写的.你要知道匹配是从0开始一个个检测的,如果某条匹配检测成功,那么可能取消下条匹配的检测,所以顺序是有必要的.至于这里的数字为何写这么大,自己思考)\n\n你可以自定义任意玩家的聊天信息颜色,是不很实用呢?\n\n>自带的额外功能\n我输入\">hide from joy\",然后我在玩家\"joy\"的视野中消失了\nconfig配置:\n\n还有一些其它功能,可在配置文件中查看.(事实中本来想加入更多功能的,但后来发现很多功能都可调用其它插件的命令来实现,所以就没再加功能了)\n\n其它功能:看你的需要与创造力了.\n\n使用方法:\n把jar文件下载下来后放入plugins文件夹,\n运行服务器一次后会生成一个chats文件夹,里面有一个config.yml配置文件,视情况修改,\n然后重启一下服务器就ok了.\nconfig.yml文件内容(推荐用notepad++修改):\n\n\n\n#是否与权限插件挂钩true/false\n#注:如果改为true则需要vault中介插件与一个权限插件,否则此插件无法启动,权限插件推荐permissionEX\n#权限名:chats\nusePermission: false\n#是否与经济插件挂钩true/false\n#注:如果改为true则需要vault中介插件与一个经济插件,否则此插件无法启动\nuseEconomy: true\n\n#设置命令字符\ncmdChar: \">\"\n\n#以下设置的时候请严格注意格式,空行没事(但空行中不能有制表符,也就是按TAB产生的空白符,只能有空格,否则会报错),但空格要注意,\":\"与值之间要有一个空格\n#注:一般编程语言将\\当成转义字符,但此插件为了显示的美观,将/当成转义字符,需要注意一下\n#非有效的格式将被当作正常字符处理,比如\"<cmd\",不会出错也不会被替换为命令名称而只是当作正常字符处理\n#变量数量0-9,超过的将被截断\n#&会被替换成\\u00A7,与其后的字符组成颜色代码,但不检查正确性\n#----------------------------------------------------------------------------------------------------------------------------------------------------\n#扫描范围,比如默认为100,插件启动时将会从0到100进行扫描,即从c0,c1一直扫描到c100,所有扫描到的信息都会被存入匹配串列表,没扫描到的信息不会存入\n#数字要唯一,建议数字隔5递增,如match0,match5,match10...这样做的好处是如果要在中间插入信息将会变得更方便\nrange: 1000\n\n###########################执行操作的字符串###########################\n#如果是\"func>xxx\",那么xxx是:\n#money [give/take/set] [playername] [double] [增加/减少/设置]玩家钱,需要Vault中介插件与经济系统插件,如果是give或take则数量只有>=0.0时有效\n#[health/food/exp/level] [give/take/set] [playername] [int] 玩家[生命值/饱食度/经验/等级][增加/减少/设置],数量>=0时有效,注:玩家生命与饱食度最大20,且经验的设置是准确的(考虑到了附魔的影响)\n#console xxx 让服务器后台发送xxx命令,注:xxx可包含空格\n#[show/hide] [playername1] from [playername2] [显示/隐藏]玩家,让[playername2][看到/看不到][playername1],注:设置看不到的情况下退出游戏重进后又可以看到了\n#kick [playername] [message] 把指定的玩家以指定的理由踢出,注:[message]可包含空格\n#allowfly [playername] [true/false] [允许/禁止]指定的玩家飞行,如果把[true/false]写成其它值,那么不会执行动作\n#fly [playername] [true/false] [开启/结束]指定的玩家飞行,如果把[true/false]写成其它值,那么不会执行动作,注:如果玩家的允许飞行权限为false则此项设置true无法让玩家飞起来\n#######################################################################\n#对于飞行的额外提示:允许飞行状态下的玩家从任意高空摔下来不会受伤;设置玩家处于飞行状态为true后如果玩家脚与地面接触那么处于飞行状态会自动转换成false;玩家从生存模式转换到创造模式的时候,游戏会自动把玩家的\n#允许飞行状态设置为true;玩家从创造模式转换到生存模式的时候,游戏会自动把玩家的允许飞行状态设置为false\n#本来我是准备加入更多功能的,不过实际上很多命令的功能用此插件配合essentials插件就可以实现,不想做重复劳动,就不再加了\n#######################################################################\nmatch0:\nuse:\nname:\n- \"\"\nkind: \"all\"\npermission: \n- \"\"\ngroup:\n- \"\"\nmatch: \n- \"msg>n>*help*\"\nmessage: false\ncontinue: false\noperate0: \ntarget:\nname:\n- \"<name>\"\nkind: \"null\"\npermission: \n- \"\"\ngroup:\n- \"\"\ncontent:\n- \"msg>&aHi,&d<name>\"\n- \"msg>&brules&a:see the rule of the server\"\n- \"msg>&bhelpEss&a:see the help of essentials plugin\"\n- \"msg>&bhelpRes&a:see the help of residence plugin\"\n\nmatch5:\nuse:\nname:\n- \"player007\"\nkind: \"null\"\npermission: \n- \"\"\ngroup:\n- \"\"\nmatch: \n- \"msg>y>gohome\"\n- \"cmd>n>u>home\"\nmessage: false\ncontinue: false\noperate0: \ntarget:\nname:\n- \"<name>\"\nkind: \"null\"\npermission: \n- \"\"\ngroup:\n- \"\"\ncontent:\n- \"cmd>/home\"\n- \"msg>&2you are home now.\"\n\nmatch10:\nuse:\nname:\n- \"\"\nkind: \"not op\"\npermission: \n- \"\"\ngroup:\n- \"\"\nmatch: \n- \"msg>y>fuck\"\n- \"msg>y>shit\"\n- \"msg>y>sb\"\nmessage: false\ncontinue: false\noperate0: \ntarget:\nname:\n- \"<name>\"\nkind: \"null\"\npermission: \n- \"\"\ngroup:\n- \"\"\ncontent:\n- \"msg>&2you can't say bad words!!!\"\noperate1: \ntarget:\nname:\n- \"\"\nkind: \"op\"\npermission: \n- \"\"\ngroup:\n- \"\"\ncontent:\n- \"msg>&2player &5<name> &2say:<msg>\"\n\nmatch15:\nuse:\nname:\n- \"\"\nkind: \"all\"\npermission: \n- \"\"\ngroup:\n- \"\"\nmatch: \n- \"cmd>y>2>hide\"\nmessage: false\ncontinue: false\noperate0: \ntarget:\nname:\n- \"<name>\"\nkind: \"null\"\npermission: \n- \"\"\ngroup:\n- \"\"\ncontent:\n- \"func>hide <name> from <1>\"\nmatch900:\nuse:\nname:\n- \"\"\nkind: \"op\"\npermission: \n- \"\"\ngroup:\n- \"\"\nmatch: \n- \"msg>n>*\"\nmessage: false\ncontinue: false\noperate0: \ntarget:\nname:\n- \"\"\nkind: \"all\"\npermission: \n- \"\"\ngroup:\n- \"\"\ncontent:\n- \"msg><<name>> &c<msg>\"\n###########################下面是插件语言信息,请无视##########################\nprefix: \"\\u00A72\"\nstring0: \"Chats插件v1.0已经启动!\"\nstring1: \"Chats插件v1.0已经停止!\"\nstring2: \"启动失败,你没有装vault中介插件或权限插件!\"\nstring3: \"启动失败,你没有装vault中介插件或经济插件!\"复制代码\n\n\n稳定性:十分稳定;但可能与一些需要处理玩家聊天信息或给玩家聊天显示颜色的插件相冲突.\n(稳定性说明:这里指的是在假定插件无bug情况下运行,插件对于出现意外情况所表现出来的稳定性)\n(此外不考虑也无法预料插件与mod的兼容性)\n(如果插件在linus系统下启动出错,那么很可能是编码格式问题,尝试这样做:打开插件的jar文件,把里面的所有yml文件的编码全部转换成utf8再保存,至于转换的软件如果你不知道那推荐notepad++,如果你已经运行过插件并且生成了相应的文件夹,那么文件夹里的yml文件也要转换编码)\n\n下载地址:\n\n\n本人所有插件链接:\nOP闪亮登场插件v1.0-一道闪电闪过,OP闪亮登场(★★★)\n开荒插件v1.1-自定义开荒生命值,饱食度与金钱变化,让生存更真实(★★★)\n服务器重启或关闭提示插件v1.0-延时+提示,让你的服务器更加安全(★★★)\n牌子扩展插件v1.0-轻量型插件,可以方便地在牌子中加入更多信息(★★)\n快速帮助插件v1.0-你还在用牌子来提示帮助玩家吗?你弱爆了有木有(★★★)\n快速传送插件v1.3-简便,易懂,功能强大,已修复bug(★★★)\n自动公告插件v1.0-简便易懂且强大的自动公告插件(★★★)\n死亡掉落插件v1.2(重制版)-最好最完善的玩家死亡处理插件(★★★)\nChats插件-聊天处理系统,入手稍难,复杂强大的基础插件(★★★)\n本人其它插件链接(不是很推荐)\n\n本人插件的一些说明:\n>对于命令,由于先前做的时候没考虑周全,因此大部分命令请别在服务端控制台输入,否则很可能出错,部分如服务器重启与关闭提示插件除外,当然一般情况下估计也没人无聊去故意找点bug来玩\n>对于配置文件,我假设你们作为服主都是比较熟悉配置文件的,因此也没对配置文件进行太多的检测,所以修改的时候请注意一些,勿胡乱修改,否则可能出问题且可能出问题了也没提示.此外,强烈推荐使用NotePad++来编辑配置文件,因为有不同颜色可以看得更清晰\n>对于游戏中插件的稳定性,这个可以放心,游戏中插件的使用绝对是安全的,包括命令的使用等,玩家乱来也不会使插件出问题.唯一有些不中的是提示较少.\n>此外,很多地方可能需要颜色代码,为方便大家这里我放张图片上来.\n[attach]37719[/attach]\n>还有,有些地方可能需要物品方块id等数据值,这里我放个网址http://zh.minecraftwiki.net/wiki/%E6%95%B0%E6%8D%AE%E5%80%BC\n>另外,请大家多多支持,并且插件随时可能更新.\n\n",
    "replies": [
        {
            "author": "evileyecc",
            "timestamp": 1343565000,
            "txt_content": "复杂到蛋疼。但顶一个"
        },
        {
            "author": "zdyxiaokeai转世",
            "timestamp": 1343565420,
            "txt_content": "虽然不是很明白,但是好像很厉害.!顶一个.!不用输入验证码万岁.!"
        },
        {
            "author": "geludan",
            "timestamp": 1343567340,
            "txt_content": "看到这么多字，我就知道，是加人气的时候了"
        },
        {
            "author": "819tierqusi",
            "timestamp": 1343567400,
            "txt_content": "好插件"
        },
        {
            "author": "mi000731",
            "timestamp": 1343617200,
            "txt_content": "RE: [聊天]Chats插件-聊天处理系统,入手稍难,复杂强大的基础插件[1.2.5-R4.0] [修改]"
        },
        {
            "author": "jesse",
            "timestamp": 1343649180,
            "txt_content": "获得成就：创造了新的编程语言"
        },
        {
            "author": "电脑疯狂人",
            "timestamp": 1343722020,
            "txt_content": "......下载"
        },
        {
            "author": "eebill",
            "timestamp": 1343727900,
            "txt_content": "好东西 拿走"
        },
        {
            "author": "qq864896956",
            "timestamp": 1343786160,
            "txt_content": "能直接求一款直接附带好的ESS的称号吗？\n直接有称号的\n谢谢~"
        },
        {
            "author": "qw8813577",
            "timestamp": 1343976540,
            "txt_content": "聊天专用~不错"
        },
        {
            "author": "25459870",
            "timestamp": 1344416340,
            "txt_content": "試試看~\n感謝分享!!!!!!"
        },
        {
            "author": "Sola_Kun",
            "timestamp": 1344455880,
            "txt_content": "虽不知但觉厉"
        },
        {
            "author": "Sola_Kun",
            "timestamp": 1344531120,
            "txt_content": "用后感言：可以添加下不区分大小写选项吗？要不屏蔽不良信息还需要大小写区分"
        },
        {
            "author": "Sola_Kun",
            "timestamp": 1344531240,
            "txt_content": "我QQ1504053595,有些细节问题可以探讨一下"
        },
        {
            "author": "906739585",
            "timestamp": 1344531360,
            "txt_content": "{:10_493:}真的好复杂"
        },
        {
            "author": "dengjunmin11",
            "timestamp": 1344686280,
            "txt_content": "{:10_512:}"
        },
        {
            "author": "1076742624",
            "timestamp": 1344720900,
            "txt_content": "我来看看 =w="
        },
        {
            "author": "vincewoo",
            "timestamp": 1344722220,
            "txt_content": "很多字我眼殘了-.-"
        },
        {
            "author": "762484064",
            "timestamp": 1344828840,
            "txt_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
        },
        {
            "author": "762484064",
            "timestamp": 1344828900,
            "txt_content": "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
        }
    ]
}