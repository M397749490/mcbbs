{
    "title": "[已降低难度]1.13.2 如何从一片区域中搜索到某个方块并输出坐标",
    "author": "langyo",
    "replyCount": 9,
    "timestamp": 1549096680,
    "txt_content": " 本帖最后由 langyo 于 2019-2-2 18:19 编辑 \n\n题目背景\n伊欧终于有时间玩 Minecraft 了！这一次，他选择了新建一个生存存档，启用作弊（反正也是娱乐）。\n虽说开了作弊，但他没以指令刷任何物品，只是额外设置了个死亡不掉落规则。\n\n游戏进展的还算顺利，依托于 1.13.2 下河里湖里大量的鱼作为食物来源，伊欧得以长期呆在矿洞中，利用一些节省资源的小技巧（例如带一批原木和煤炭，缺火把时现场合成），很长很长时间都不用出来。\n\n挖矿好一会后，伊欧挖到了两组的铁矿！为了压缩背包空间，他决定现场进行烧炼，再将这些烧成的铁锭压缩成铁块。于是先将矿石在那炼着，他自个又去别的矿洞分支挖矿了。\n\n但是，灾难发生了。伊欧迷了路，到最后被骷髅干掉了。\n\n当他复活后，虽然背包里的物品都没丢，但正在烧炼的矿石找不到了！\n\n怎么办呢？伊欧想到了个办法。利用指令，检测一片区域里的熔炉的位置，然后 tp 过去就好了嘛。\n\n题目\n请写出一个能够在 Java 1.13.2 版本下运行的指令，要求做到：\n该指令能够直接在聊天框执行（不得使用 One-Block Command）。（降低难度，允许使用函数，允许使用多指令）检测六个方向范围下的指定方块（这里需要检测的是熔炉）。向屏幕打印检测到的指定方块的坐标。\n\n\n如果你熟悉 1.13.2 的新版指令，现在就立即动手写指令吧！～手慢就抢不到悬赏了哦～（似乎压根就没人能写得出来）",
    "replies": [
        {
            "author": "(=°ω°)丿",
            "timestamp": 1549110180,
            "txt_content": " 本帖最后由 Teenager_Yang 于 2019-2-3 09:00 编辑 \n似乎压根就没人能写得出来\n写倒是可以写，\n就是人比较懒……\n说一下思路吧：\n方法一：先建立三个计分板 x、y、z\n用 fill 指令将熔炉替换成掉落物（比如胡萝卜、马铃薯什么的）\n（胡萝卜、马铃薯什么的会自然掉落，变成 Item ……）\n然后 execute as 马铃薯 at @s 运行函数 teenager_yang:mdzz\n\n#teenager_yang:mdzz 函数内容：\n1、将马铃薯的 x、y、z 坐标存入计分板\n2、向玩家 tellraw 三个计分板的分数\n3、在原来的位置放置熔炉\n4、清除马铃薯\n\n↑     这方法 BUG 挺多……\n\n方法二：\n别将熔炉替换成掉落物了，直接召唤一大堆盔甲架：\n然后也是\n1、如果当前坐标的方块是熔炉，则将盔甲架的 x、y、z 坐标存入计分板\n2、向玩家 tellraw 三个计分板的分数\n3、清除盔甲架\n\n除了会卡 and 可能超出 65535 的上限，几乎没有缺点……\n\n↓     这是特性！！！\n"
        },
        {
            "author": "lirui11",
            "timestamp": 1549111680,
            "txt_content": " 本帖最后由 lirui11 于 2019-2-2 21:26 编辑 \n检测六个方向范围下的指定方块\n这个呢，我有点不理解是什么意思哈，但是我想只要找到那个熔炉就行了吧…\n本人不才，用了一个笨办法，希望有人能比我做的更好。但是用这个办法一定是可以找到的\n\n思路：在指定的区域fill一层沙子，这些沙子下一刻就会变成下落的方块实体，选用这些实体执行递归函数,检测到熔炉则将坐标对齐并召唤一个带标签的盔甲架，然后这些盔甲架的Pos就是坐标了，存到计分板上\n\n这里的延时就偷个懒用一档的中继器吧,给红石块上方的命令方块强充能（不能用红石块！才发现，用按钮吧）进行一次检测,装置请从下往上看主要是因为表情里没有各个方向的中继器\n\n kill @e[type=falling_block]\n execute as @e[type=minecraft:falling_block] at @s run function 163:furnace\n 调成一档的中继器\n fill ~180 ~10 ~180 ~ ~10 ~ minecraft:sand \n#163:furnace内容如下\nexecute if block ~ ~ ~ minecraft:furnace align xyz run summon minecraft:armor_stand ~ ~ ~ {Tags:[\"furnace\"],NoGravity:1b,Invulnerable:1b}\nexecute as @s[distance=..100] unless block ~ ~ ~ minecraft:furnace positioned ~ ~-1 ~ run function 163:furnace复制代码\n然后将带有furnace标签的盔甲架的Pos存到相应计分板即可,这个就不用说了吧\n指定的区域可以在fill命令里调整，不要超出32767的限制就行，然后如果能够确定指定方块的y坐标比较低（比如这里的熔炉在矿洞里），也可以将distance后面的数值适量调小来减少命令数量\n不用fill的replace检测而用递归检测是因为replace的同时不方便destroy...把熔炉拆了总觉得不好..\n\n也不管命令卡不卡了，反正能够将探测的区域减小就减小吧\n写完才突然发现Teenager已经发了...\n\n刚刚突然发现其实用沙子创造一定区域的实体还要延时才能探测到实体，好麻烦，直接fill一定区域任意可以被destroy破坏产生掉落物的方块，然后再fill destroy它们再 exe 掉落物 不就好了嘛，虽然掉落物可能会飘，但误差不大，还是能正确选中方块的\n"
        },
        {
            "author": "langyo",
            "timestamp": 1549115880,
            "txt_content": "lirui11 发表于 2019-2-2 20:48\n这个呢，我有点不理解是什么意思哈，但是我想只要找到那个熔炉就行了吧…\n本人不才，用了一个笨办法，希望 ...\n我个人觉得用沙子这招感觉不太对……万一没有空间给你放沙子导致一部分空间没放沙子，或是召唤沙子的地方下头正好有固体方块而阻止其变为实体，这些你考虑过没？\n\n请再思考一下，我不介意你使用消耗游戏性能的方法，但我不希望你给的答案有严重的副作用"
        },
        {
            "author": "chyx",
            "timestamp": 1549120800,
            "txt_content": "用NBTExplorer搜索熔炉的nbt啊。。。它的id肯定是furnace嘛"
        },
        {
            "author": "⊙v⊙",
            "timestamp": 1549143120,
            "txt_content": "上面的方法二可以改用药水云，就不怎么卡了，几乎是没有负作用。\n\n其实主要是不知道你要检测的范围是多远。\n换个方法的话，建个放置熔炉的计分板，做个raycasting。\n玩家放置后raycasting的位置生成AS/AEC为marker。\ndata get保存各marker的Pos[0/1/2]为分数。\n最后，通过tellraw显示分数，或者Glowing直接高亮...\n省心多了"
        },
        {
            "author": "(=°ω°)丿",
            "timestamp": 1549155180,
            "txt_content": " 本帖最后由 Teenager_Yang 于 2019-2-3 08:58 编辑 \nTeenager_Yang 发表于 2019-2-2 20:23\n写倒是可以写，\n就是人比较懒……\n说一下思路吧：\n刚才看了一下，\n方法应该就这些了……（别打脸）\n除非去叫 Mojang 加一个 fill entities 批量生成实体、\n或者 execute as 可以指定方块什么的……\n至于方法二，用药水云代替盔甲架的确会好一些（用盔甲架纯粹个人喜好）\n召唤一大堆盔甲架 / 药水云可以参考：\nhttp://www.mcbbs.net/thread-814021-1-1.html"
        },
        {
            "author": "langyo",
            "timestamp": 1549158060,
            "txt_content": "Teenager_Yang 发表于 2019-2-3 08:53\n刚才看了一下，\n方法应该就这些了……（别打脸）\n除非去叫 Mojang 加一个 fill entities 批量生成 ...\n给具体指令吧～可以是函数，也可以是 One-Block Command\n\n@⊙v⊙ @chyx @lirui11 \n\n现在悬赏赏金算是可以开抢了，我发这个悬赏的时候还觉得这其实算是送分题来着"
        },
        {
            "author": "chyx",
            "timestamp": 1549286640,
            "txt_content": "langyo 发表于 2019-2-3 09:41\n给具体指令吧～可以是函数，也可以是 One-Block Command\n\n@⊙v⊙ @chyx @lirui11 \n你怕不是受了什么误导。。。\n我就用过nbtexplorer在mac电脑\n\n\n这个软件作者提供mac版本啊"
        },
        {
            "author": "langyo",
            "timestamp": 1549289520,
            "txt_content": "chyx 发表于 2019-2-4 21:24\n你怕不是受了什么误导。。。\n我就用过nbtexplorer在mac电脑\n咳咳……\n\n那个，其实这个问题已经相当于作废了，因为我使用的 mac 物归原主，所有我自己留存在此计算机的个人数据全部被我主动清除，所以那个存档已经不复存在，昔日挖的两组铁也就拜拜了\n\n不过我还是将此问题留下，不退回悬赏，就当是过年的有奖问答"
        }
    ]
}