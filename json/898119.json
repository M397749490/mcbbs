{
    "title": "如何检测玩家背包里没有某样东西时自动补充某样东西？",
    "author": "15159705709",
    "replyCount": 11,
    "timestamp": 1565100480,
    "txt_content": "版本为1.12.2。如题，举个例子，我想让@a[tag=sheshou]这个玩家的背包里始终都只持有一根箭(不管任何位置)，而且当玩家射出去之后自动补充。目前未想到解决方法~",
    "replies": [
        {
            "author": "Chelover_C60",
            "timestamp": 1565100480,
            "txt_content": " 本帖最后由 CHElover_C60 于 2019-8-6 22:57 编辑 \n15159705709 发表于 2019-8-6 22:36\n这个第三条是不是写错了，没加min吗...而且加了之后还是不断给箭鸭~\n不能加的，加了就会选择分数为0和1的玩家，我现在要只给分数为0的玩家，加了反而会有问题，就像你说的那样\n\n\n\n另外刚刚发现我似乎走弯路了，不需要计分板，用标签就行了\nscoreboard players tag @a add arrow\nscoreboard players tag @a remove arrow {Inventory:[{id:\"minecraft:arrow\"}]}\ngive @a[tag=arrow] arrow\n亲测背包中可能无法正常显示，但是是实际存在的，可以用弓射出，"
        },
        {
            "author": "阴阳师元素祭祀",
            "timestamp": 1565100720,
            "txt_content": " 本帖最后由 阴阳师元素祭祀 于 2019-8-6 22:13 编辑 \n\nscoreboard开个判据\n射箭+1\n分数为1的玩家给一个弓箭并清零就好了\n\n或者replaceitem一个格子 一直放一个弓箭\n\n为什么不上无限\n\n\n咳\n正经点\n可以暴力穷举一下testfor 每个格子\n如果有 穷举完\n就打tag\n然后给没tag的人这个物品\n然后移除tag"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1565101020,
            "txt_content": "借助计分板，先给所有人分数记为0，再给有箭的玩家分数记为1，最后给分数为0的玩家箭即可\n\n建立计分板\nscoreboard objectives add arrow dummy复制代码\n循环执行以下命令\nscoreboard players set @a arrow 0\nscoreboard players set @a arrow 1 {Inventory:[{id:\"minecraft:arrow\"}]}\ngive @a[score_arrow=0] arrow复制代码"
        },
        {
            "author": "HangBack_",
            "timestamp": 1565101620,
            "txt_content": " 本帖最后由 DoYo_GZ 于 2019-8-6 22:38 编辑 \n\n刚才看了之后，发现我上一个回答不符合你的意思，现在重新改正\n使用了弓后这个计分板的分数会增加，那么接下来我们得检验玩家身上是否没箭，检验方法，给玩家一个tag，比如\n\n/scoreboard players tag @a add usebow {Inventory:[{id:\"arrow\"}]}\n/scoreboard players tag @a add havebow {Inventory:[{id:\"arrow\",Count:1b}]}复制代码\n\n然后反选tag即可\n\n这样只要背包里有一支箭的玩家都会拥有这个标签，那么想让玩家使用了弓之后如果没箭了就补充一支箭应该怎么做呢？\n按照如下要求做：\n（注意以下代码完全可以丢到函数里面直接执行）\n#↓放入循环命令方块，先不要保持开启\nscoreboard players tag @a add usebow {Inventory:[{id:\"arrow\"}]}\n#放入连锁命令方块，保持开启\nscoreboard players tag @a add havebow {Inventory:[{id:\"arrow\",Count:1b}]}\n#放入连锁命令方块，保持开启\nexecute @a[score_usebow_min=1] ~ ~ ~ scoreboard players tag @s[tag=usebow] remove usebow\n#放入连锁命令方块，保持开启\nexecute @a[score_usebow_min=1] ~ ~ ~ give @s[tag=!usebow] arrow 1 0\n#以上工作做完之后，把循环命令方块改为保持开启复制代码"
        },
        {
            "author": "HangBack_",
            "timestamp": 1565101860,
            "txt_content": "DoYo_GZ 发表于 2019-8-6 22:27\n先创建计分板，一个准则stat.useItem.minecraft.bow\n\nscoreboard objectives add usebow stat.uidItem.mine ...\n仅用最后面的，但你得加上给tag那条"
        },
        {
            "author": "15159705709",
            "timestamp": 1565102160,
            "txt_content": "CHElover_C60 发表于 2019-8-6 22:17\n借助计分板，先给所有人分数记为0，再给有箭的玩家分数记为1，最后给分数为0的玩家箭即可\n\n建立计分板\n这个第三条是不是写错了，没加min吗...而且加了之后还是不断给箭鸭~"
        },
        {
            "author": "HangBack_",
            "timestamp": 1565102460,
            "txt_content": "15159705709 发表于 2019-8-6 22:36\n这个第三条是不是写错了，没加min吗...而且加了之后还是不断给箭鸭~\n不知道楼主问题表达的是什么，是玩家背包中只有一支箭时射出箭才补充，还是只要没箭了就补充？"
        },
        {
            "author": "15159705709",
            "timestamp": 1565103060,
            "txt_content": "DoYo_GZ 发表于 2019-8-6 22:41\n不知道楼主问题表达的是什么，是玩家背包中只有一支箭时射出箭才补充，还是只要没箭了就补充？ ...\n没有箭时补充一根箭"
        },
        {
            "author": "15159705709",
            "timestamp": 1565103120,
            "txt_content": "CHElover_C60 发表于 2019-8-6 22:39\n不能加的，加了就会选择分数为0和1的玩家，我现在要只给分数为0的玩家，加了反而会有问题，就像你说的那样 ...\n那应该是我放错了。。"
        },
        {
            "author": "15159705709",
            "timestamp": 1565104380,
            "txt_content": "DoYo_GZ 发表于 2019-8-6 22:27\n刚才看了之后，发现我上一个回答不符合你的意思，现在重新改正\n使用了弓后这个计分板的分数会增加，那么接 ...\n按照你的要求做了没有达到预期效果，不过还是得说一句辛苦了！"
        },
        {
            "author": "叉烧鱼",
            "timestamp": 1565149680,
            "txt_content": "呃呃呃呃呃呃呃呃呃呃呃呃呃呃呃鹅鹅鹅鹅鹅鹅饿鹅鹅鹅饿"
        }
    ]
}