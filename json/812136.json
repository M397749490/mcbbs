{
    "title": "[未知之域]聊天组件API中文翻译——来发送一条更酷炫的消息吧!",
    "author": "耗子",
    "replyCount": 17,
    "timestamp": 1533489540,
    "txt_content": " 本帖最后由 耗子 于 2018-8-6 01:32 编辑 \n\n聊天组件 API\n\n使用 BungeeCord 聊天 API 构建消息\nChat API Javadoc\n\n目录\n\n基础颜色与格式事件客户端翻译Component Builder（组件建造者）常见的问题动作\nClickEvent（点击事件）动作HoverEvent（悬浮事件）动作\n\n\n基础\n\n最简单的组件是 TextComponent（文本组件），在 BungeeCord 的使用方法如下:\n\nplayer.sendMessage( new TextComponent( \"Hello world\" ) );复制代码\n或者你想在 Spigot 中使用:\n\nplayer.spigot().sendMessage( new TextComponent( \"Hello world\" ) );复制代码\n这是一个简单的消息，没有格式和颜色。\n\n颜色与格式\n\n每个组件都支持如下功能:\n\n颜色（Color）粗体（Bold）斜体（Italic）下划线（Underline）删除线（Strikethrough）乱码（Obfuscate）事件（Events）（在下文中会详细介绍）\n\n举个例子:\n\nTextComponent message = new TextComponent( \"Hello world\" );\nmessage.setColor( ChatColor.RED );\nmessage.setBold( true );\nplayer.sendMessage( message );复制代码\n这将显示 \"Hello World\"（红色，加粗）. 任何格式和事件也应用于子组件，除非子组件覆盖设置。例如:\n\nTextComponent message = new TextComponent( \"Hello \" );\nmessage.setColor( ChatColor.RED );\nmessage.setBold( true );\nTextComponent world = new TextComponent( \"world\" );\nworld.setColor( ChatColor.BLUE );\nmessage.addExtra( world );\nmessage.addExtra( \"!\" );\nplayer.sendMessage( message );复制代码\n将会显示 \"Hello world!\"（全文为粗体，\"Hello\"和\"!\"为红色，\"world\"为蓝色）\n\n事件\n\n事件允许当文本被操作（点击或鼠标悬浮）时执行动作。目前 Minecraft 仅支持两个事件，分别是 HoverEvent（鼠标悬浮事件）和 ClickEvent（点击事件）。两个事件都有一个动作（当事件发生之后执行什么）和一个数值（这个动作的参数）。例如，如果一个点击事件的动作是 OPEN_URL（打开URL），那么它的值必须是一个有效的URL，例如\"http://spigotmc.org\"。\n\nTextComponent message = new TextComponent( \"Click me\" );\nmessage.setClickEvent( new ClickEvent( ClickEvent.Action.OPEN_URL, \"http://spigotmc.org\" ) );\nmessage.setHoverEvent( new HoverEvent( HoverEvent.Action.SHOW_TEXT, new ComponentBuilder(\"Goto the Spigot website!\").create() ) );\nplayer.spigot().sendMessage( message );复制代码\n客户端翻译\n\nTranslatableComponent（可翻译组件）可以用来发送翻译键（key）让客户端翻译，这意味着你只能使用 Minecraft 提供的文本（这里查看），除非使用一个资源包来添加更多文本。一些支持参数的翻译的参数可以是TranslatableComponent（或者只是 TextComponent）。\n\nTranslatableComponent giveMessage = new TranslatableComponent( \"commands.give.success\" );\nTranslatableComponent item = new TranslatableComponent( \"item.swordDiamond.name\" );\nitem.setColor( ChatColor.GOLD );\ngiveMessage.addWith( item );\ngiveMessage.addWith( \"32\" );\nTextComponent username = new TextComponent( \"Thinkofdeath\" );\nusername.setColor( ChatColor.AQUA );\ngiveMessage.addWith( username );\nplayer.sendMessage( giveMessage );复制代码\n以上的代码在客户端使用的语言为en_US（美式英语）时将会显示\"Given Diamond Sword  32 to Thinkofdeath\"， 但如果客户端使用的语言为zh_CN（简体中文）时将会显示\"成功将 钻石剑  32 给予 Thinkofdeath\"。\n\n组件建造者（Component Builder）\n\n简单的消息可以使用 ComponentBuilder（组件建造者）节省很多工作。ComponentBuilder 是一个链式结构的对象，允许快速创建消息。例如：\n\nplayer.sendMessage( new ComponentBuilder( \"Hello \" ).color( ChatColor.RED ).bold( true ).append( \"world\" ).color( ChatColor.BLUE ).append( \"!\" ).color( ChatColor.RED ).create() );复制代码\n这将显示 \"Hello world!\"\n\n常见的问题\n\n直接创建 BaseComponent 实例是没用的 (例如 player.sendMessage( new BaseComponent(){} );)。 应使用 TextComponent 或 TranslatableComponent。\n使用旧版的颜色代码 (例如 player.sendMessage( new TextComponent( ChatColor.RED + \":-(\" ) );) 将会不能很好的显示甚至导致客户端异常。使用 TextComponent.fromLegacyText() 方法将旧格式转换为新格式\n\n动作\n\n所有的 ClickEvent（点击事件） 和 HoverEvent（悬浮事件）的动作如下所示：\n\n点击事件动作\n\n当用户点击消息时，这些动作将会执行：\n\nAction.OPEN_URL //在用户的浏览器打开指定URL\n\nAction.OPEN_FILE //在用户的电脑打开指定文件\n\nAction.RUN_COMMAND //让用户运行指令\n\nAction.SUGGEST_COMMAND //在用户的输入框设置文字\n\nAction.CHANGE_PAGE //改变书本的页码复制代码\n悬浮事件动作\n\n当用户鼠标指针悬浮在消息上时，这些动作将会执行： \nAction.SHOW_TEXT //显示一个文本\n\nAction.SHOW_ACHIEVEMENT //显示一个成就及其介绍\n\nAction.SHOW_ITEM //显示一个物品的名字和其他信息\n\nAction.SHOW_ENTITY //显示一个实体的名字，ID和其他信息 。复制代码\n教程Github链接：这里教程原文链接：这里\n发现很多人并不了解这个API，特此重发到MCBBS上。\n欢迎各位支持作者，以编写和翻译更多优秀教程。[afd]mouse[/afd]\n\n\n\n[groupid=1181]Unknown Domain[/groupid]",
    "replies": [
        {
            "author": "肥猫欧嘎桑",
            "timestamp": 1533499080,
            "txt_content": "滋磁一下"
        },
        {
            "author": "Kyokuki",
            "timestamp": 1534475400,
            "txt_content": "非常棒的一篇教程，收藏了"
        },
        {
            "author": "Clusters_stars",
            "timestamp": 1534499100,
            "txt_content": "请问可以使用§吗= =和\nmessage.replace(\"§\",\"&\");"
        },
        {
            "author": "耗子",
            "timestamp": 1534499700,
            "txt_content": "Clusters_stars 发表于 2018-8-17 17:45\n请问可以使用§吗= =和\nmessage.replace(\"§\",\"&\");\n在该教程里，不建议使用颜色代码。建议使用ChatColor复制代码"
        },
        {
            "author": "Clusters_stars",
            "timestamp": 1534499940,
            "txt_content": "耗子 发表于 2018-8-17 17:55\n在该教程里，不建议使用颜色代码。建议使用\n个人感觉这样可以自定义emmmm"
        },
        {
            "author": "Clusters_stars",
            "timestamp": 1534500000,
            "txt_content": "耗子 发表于 2018-8-17 17:55\n在该教程里，不建议使用颜色代码。建议使用\n谢谢了 = ="
        },
        {
            "author": "chenmoand",
            "timestamp": 1534842960,
            "txt_content": "大佬我问一下player.spigot().sendMessage( message );\n输出一行,可player.spigot().sendMessage( message + m2);\n无法，怎么让json消息能+起来"
        },
        {
            "author": "耗子",
            "timestamp": 1534844160,
            "txt_content": "chenmoand 发表于 2018-8-21 17:16\n大佬我问一下player.spigot().sendMessage( message );\n输出一行,可player.spigot().sendMessage( message  ...\n不能+哦，只能使用append"
        },
        {
            "author": "chenmoand",
            "timestamp": 1534849200,
            "txt_content": "耗子 发表于 2018-8-21 17:36\n不能+哦，只能使用append\n谢谢了 大佬"
        },
        {
            "author": "gooding300",
            "timestamp": 1534853460,
            "txt_content": "或许可以去申请个高亮？\nhttp://www.mcbbs.net/thread-540567-1-1.html"
        },
        {
            "author": "guo1060924736",
            "timestamp": 1566103020,
            "txt_content": "如何展示物品呢，用到悬浮事件的Action.SHOW_ITEM类型时，后面new ComponentBuilder（）只能加string。如何加入物品的信息？"
        },
        {
            "author": "血亦寒",
            "timestamp": 1583129520,
            "txt_content": "看了一会儿，竟然看懂了一些！这么深奥的东西......学到了"
        },
        {
            "author": "妮玛煤了",
            "timestamp": 1583210400,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "Dream守护",
            "timestamp": 1583225880,
            "txt_content": "支持一下"
        },
        {
            "author": "xiaozhang421",
            "timestamp": 1583292720,
            "txt_content": "good job ！！！"
        },
        {
            "author": "Pointer",
            "timestamp": 1583857200,
            "txt_content": "Action.OPEN_FILE 没有反应 :C"
        },
        {
            "author": "MappyJ",
            "timestamp": 1589273340,
            "txt_content": "谢谢楼主的分享!找了很久了，值得学习一下！"
        }
    ]
}