{
    "title": "服务器tps很低，性能吃不满",
    "author": "星繁丶冷少",
    "replyCount": 16,
    "timestamp": 1587786780,
    "txt_content": "服务器tps低下，应该是玩家机器卡服，但我性能吃不满就很迷，timings报告：https://www.spigotmc.org/go/timings?url=rawigasive\n\n\n\n\nfile_1587786405000.jpg (147.51 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-25 11:47 上传\n\n\n\n\ncpu一直划水，内存也没满，tps就是低，带宽没满所以玩家也没啥延迟，我就是替他们心疼，服务器性能完全吃不满，要是玩家机器卡服，导致吃满性能我也就认了，我可以升级，但就是吃不满，升级也没用，我尝试更换过墨端，墨端有优化，但有一个很严重的问题，就是玩家无法发信息，op也不行，只能通过/say来说话，\n\n\n\n\nimage.png (4.92 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-25 11:51 上传\n\n\n\n\n没有聊天插件，我想联系墨端的作者，但是官网进不去，在这里请求大家帮我解决一下了\n还有我已经在bbs里优化一遍又一遍了，请不要放一些相关的优化帖子\n",
    "replies": [
        {
            "author": "结城希亚",
            "timestamp": 1587787200,
            "txt_content": " 本帖最后由 结城希亚 于 2020-4-25 12:01 编辑 \n\nMohist有群的，可以加一下782534813\n\n      68.27%         208.22%        254.96 s           104.11 ms         1.0               2.5k            world - tileEntityTick\n      64.50%         196.74%        240.91 s            98.37 ms        21,596          52,887.8k            tickTileEntity\n      44.38%         135.36%        165.75 s            67.68 ms         108             264.5k            tickTileEntity - TileEntityLogisticalTransporter\n你这个实体是真的多啊\n特别是world世界里的实体运输车（？）\n清掉我觉得就没问题了，既然是实体的话，你可以输入/killall all清理所有实体试试\n\n可以试试我这个区块限制插件来限制一下机器什么的（好用记得给插件评个分\n[管理]ChunkBlockLimit ——  可视化的区块限制插件[1.6-1.12]\nhttps://www.mcbbs.net/thread-984759-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n\n\n还有问题的话可以尝试下我这个配置（不过挺影响玩家体验的）\n\n1、在bukkit.yml里\n（1）spawn-limits值设为\n  monsters: 20\n  animals: 4\n  water-animals: 1\n  ambient: 1\n（2）chunk-gc\nperiod-in-ticks设为300\n（3）ticks-per.monster-spawns设为6\n2、在spigot.yml里\n（1）save-user-cache-on-stop-only改为true\n（2）max-tick-time数值改为5或者3000\n（3）mob-spawn-range设为3\n（4）entity-activation-range分别改为8、6、12、2\n（5）tick-inactive-villagers改为false\n（6）merge-radius都设置为64\n（7）nerf-spawner-mobs改为true\n（8）arrow-despawn-rate改为400\n（9）view-distance改为2\n\n\n\n\n\n"
        },
        {
            "author": "lengshao233",
            "timestamp": 1587787500,
            "txt_content": "结城希亚 发表于 2020-4-25 12:00\nMohist有群的，可以加一下782534813\n\n\n\n实体，是一些模组的原因，比如说植物魔法那些都有我主世界都是不刷怪的"
        },
        {
            "author": "结城希亚",
            "timestamp": 1587787560,
            "txt_content": "lengshao233 发表于 2020-4-25 12:05\n实体，是一些模组的原因，比如说植物魔法那些都有我主世界都是不刷怪的 ...\n多多少少沾一点原因吧，其实也不大\n\n主要就是类似于mek的物流管道导致的卡服，只要治好就行\n不然一切都是木大"
        },
        {
            "author": "lengshao233",
            "timestamp": 1587787920,
            "txt_content": "结城希亚 发表于 2020-4-25 12:06\n多多少少沾一点原因吧，其实也不大\n\n主要就是类似于mek的物流管道导致的卡服，只要治好就行\n\n又是mek的管道吗，主要是物流吗，我去ban了物流吧"
        },
        {
            "author": "wuliao_dada",
            "timestamp": 1587788760,
            "txt_content": "主世界吃的太多了\n还有资源      99.87%         304.73%        372.99 s           152.37 ms         1.0               2.5k            Full Server TickLearn More\n      68.27%         208.22%        254.96 s           104.11 ms         1.0               2.5k            world - tileEntityTick\n      64.50%         196.74%        240.91 s            98.37 ms        21,596          52,887.8k            tickTileEntity\n      44.38%         135.36%        165.75 s            67.68 ms         108             264.5k            tickTileEntity - TileEntityLogisticalTransporter\n       6.70%          20.44%         25.03 s            10.22 ms         1.0               2.5k            Connection HandlerLearn More\n       2.89%           8.83%         10.81 s             4.41 ms         494           1,210.7k            tickEntity\n       1.86%           5.67%          6.94 s             2.84 ms        4,234          10,370.0k            tickTileEntity - TileConduitBundle\n       1.68%           5.12%          6.27 s             2.56 ms         1.0               2.5k            world - entityTick\n       1.46%           4.46%          5.46 s             2.23 ms         1.0               2.5k            zy - doChunkMap\n       1.46%          58.93%          5.45 s            29.47 ms         0.1               0.2k            zy - syncChunkLoad\nShow rest...\nlangremove减少服务器负担\nNospawnchunks清理区块\nSAML冻结怪物\n加下这几个插件会帮你tps提高点\n不一定要i9的机器\n我E5 20人能保持15-17tps"
        },
        {
            "author": "wuliao_dada",
            "timestamp": 1587788880,
            "txt_content": "如果cpu吃不满你可以考虑下bc麻烦点但是你这内存又不够了"
        },
        {
            "author": "lengshao233",
            "timestamp": 1587789000,
            "txt_content": "wuliao_dada 发表于 2020-4-25 12:28\n如果cpu吃不满你可以考虑下bc麻烦点但是你这内存又不够了\nmc吃单核，这个我懂，但是很迷的一点就是单核都没满"
        },
        {
            "author": "tito100",
            "timestamp": 1587789060,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "lengshao233",
            "timestamp": 1587789180,
            "txt_content": "tito100 发表于 2020-4-25 12:31\n专门针对这种mod服出的优化\nhttps://www.mcbbs.net/thread-939322-1-1.html\n望采纳\n能否看看红色字，我优化走了一遍又一遍"
        },
        {
            "author": "tito100",
            "timestamp": 1587789420,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "wuliao_dada",
            "timestamp": 1587789600,
            "txt_content": "lengshao233 发表于 2020-4-25 12:30\nmc吃单核，这个我懂，但是很迷的一点就是单核都没满\n你修改下spigot吧，这东西太大也会卡炸，建议你把spigot发过来"
        },
        {
            "author": "lengshao233",
            "timestamp": 1587800880,
            "txt_content": "wuliao_dada 发表于 2020-4-25 12:40\n你修改下spigot吧，这东西太大也会卡炸，建议你把spigot发过来\n\n\n\nspigot.yml\n(3.21 KB, 下载次数: 2)\n\n\n\n2020-4-25 15:48 上传\n点击文件名下载附件\n\n\n\n\n\n这个是spigot"
        },
        {
            "author": "wuliao_dada",
            "timestamp": 1587805860,
            "txt_content": "lengshao233 发表于 2020-4-25 15:48\n这个是spigot\n你调小点把\nmax-tick-time:\n      tile: 1000\n      entity: 1000\n还有bukkit.yml中的plugin-profiling一项的布尔值为true\n有一些插件没被检测到"
        },
        {
            "author": "lengshao233",
            "timestamp": 1587807420,
            "txt_content": "wuliao_dada 发表于 2020-4-25 17:11\n你调小点把\nmax-tick-time:\n      tile: 1000\n好的好的我试试"
        },
        {
            "author": "lizejing",
            "timestamp": 1587909180,
            "txt_content": "可以装一些优化性能的插件哦"
        },
        {
            "author": "Matrixchung",
            "timestamp": 1588518840,
            "txt_content": "请安装 LuckPerms 作为权限插件"
        }
    ]
}