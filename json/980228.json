{
    "title": "[XMCL核心的使用教程]-基于C#的新启动核心",
    "author": "399071660",
    "replyCount": 8,
    "timestamp": 1583667660,
    "txt_content": " 本帖最后由 399071660 于 2020-3-10 13:30 编辑 \n\nXMCL.Core是XMCL启动器的内置核心 作者即是我 启动核心基于C#但是不能支持VB\n在阅读本教程之前 请确保您了解C# 并且有编程基础\n\n该启动核心包含两个部分 基础部分和工具部分\n基础部分功能：启动,下载，正版登录\n工具部分：获取mc版本列表[支持下载版本json],可以获取玩家的皮肤与头像，寻找Java地址\n\n这个启动核心不像KMCCC写的那么高深 [我是有些看不懂233]，其代码比较简单\n启动器核心基本上可以启动所有版本[1.6及以上] 支持forge和其他的客户端\n\n启动器核心一直开源 不懂啥协议 只要注明来源即可使用 [你也可以魔改,并且如果你有更好的写法不妨告诉我233]\n\n启动核心的支持库需要.NET Frameworker 4.7.2及以上 \n我的启动器是基于WPF写的 对于WinForm的引用可能不兼容\n\n这个启动核心我会一直持续更新和维护 如有bug请将其反馈给我 Thanks\n\n先放上最新的核心\n\n\n\nXMCL.Core.zip\n(17.37 KB, 下载次数: 8)\n\n\n\n2020-3-10 13:30 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n警告 应为这个核心是根据64为电脑编制的 需要更改程序集的目标平台为64\n",
    "replies": [
        {
            "author": "399071660",
            "timestamp": 1583667780,
            "txt_content": "因为我的启动器是以WPF写的 所以这里我以WPF为例\n\n\n\n\n1.PNG (6.05 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 19:43 上传\n\n\n\n\n\n以下开始教程\n"
        },
        {
            "author": "399071660",
            "timestamp": 1583668020,
            "txt_content": " 本帖最后由 399071660 于 2020-3-8 20:36 编辑 \n\n首先创建一个WPF项目[废话]\n现在解决资源管理器中添加对XMCL.Core.dll的引用\n\n因为是WPF 所以在Visual Studio里面 打开MainWindow.xaml.cs\n\n在里面添加命名空间引用 \nusing XMCL.Core;复制代码然后 打开XMAL设计器 打开MainWindow.xaml\n在里面添加两个TextBox[文本框]\nVisual Stadio工具箱中\n\n\n\n\n2.PNG (17.48 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 19:50 上传\n\n\n\n\n\nXAML设计器中\n\n\n\n\n3.png (8.11 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 19:53 上传\n\n\n\n\n\n一个命名为TextBox_GamePath 用来输入.minecraft目录\n另一个为TextBox_JavaPath 用来输入java.exe目录\n\n然后在另外添加两个TextBox用来分别输入用户名和Java分配内存 [这并不是必要的,其实可以直接用数据替代]\n\n\n\n\n4.png (8.12 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 19:57 上传\n\n\n\n\n\n\n接着添加一个ComboBox[选择框]\n\n\n\n\n5.PNG (16.14 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 19:59 上传\n\n\n\n\n\n\n\n\n\n6.png (8.16 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 19:59 上传\n\n\n\n\n\n\n最后你需要一个Button[按钮]\n来触发启动事件\n\n\n\n\n7.png (8.16 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 20:01 上传\n\n\n\n\n\n\n到这启动必须的控件都布置完了\n\n"
        },
        {
            "author": "399071660",
            "timestamp": 1583669160,
            "txt_content": " 本帖最后由 399071660 于 2020-3-8 20:34 编辑 \n\n接下来需要编辑代码和事件\n\n首先添加ComboBox[选择框]的DropDownOpened[下拉事件]\n\n\n\n\n8.PNG (118.57 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 20:08 上传\n\n\n\n\n\n然后在Combobox的事件中添加\nC1.ItemsSource = Tools.GetVersions(T1.Text);//这个代码是用来获取mc的版本\n复制代码\n\n\n\n\n9.PNG (140.79 KB, 下载次数: 0)\n\n下载附件\n\n2020-3-8 20:15 上传\n\n\n\n\n\n\n然后回到设计器\n双击Button添加事件\n<font style=\"background-color: rgb(255, 255, 255);\">            Value.Set(\n                T3.Text,\n                T4.Text,\n                T1.Text,\n                T2.Text,\n                C1.Text,\n                \"\",\n                \"00000000000000000\",\n                \"00000000000000000\",\n                false,\n                true\n                );\n            Value.DownloadSource = \"BMCLAPI\";\n            Game.Run();//运行</font>复制代码解读 Value.Set() = 设置启动必要的参数 \nT3.Text为用户名 \nT4.Text为java内存 \nT1.Text为游戏目录 \nT2.Text为java目录 \nC1.Text为选择的版本\n\"\"为JVM参数不是必要 保留\"\"即可[但是此项会影响mc的启动速度] \n后面两项分别为UUID和accesstoken用于正版登录 如果不需要登录可以乱填 要正版登录我后面会讲\nfalse为否 对应的作用是 是否全屏\ntrue为时 对应的作用是 是否补全assets\nValue.DownloadSource = \"BMCLAPI\";为设置下载源 可以加快libraries和assets的下载速度\n默认的源为Mojang\n\n最后建议在Windows_Closing事件里面添加\nProcess.GetCurrentProcess().Kill();复制代码因为当下载时关闭，下载器可能会导致进程无法关闭\n\n\n\n\n\n"
        },
        {
            "author": "399071660",
            "timestamp": 1583671080,
            "txt_content": " 本帖最后由 399071660 于 2020-3-8 20:41 编辑 \n\n至此 你便可以通过它来启动游戏了\n\n对于一些进阶的东西 我明天在更2333\n图片中的实例的源代码\n\n\n\nWpfApp1.zip\n(395.8 KB, 下载次数: 3)\n\n\n\n2020-3-8 20:41 上传\n点击文件名下载附件\n\n\n\n\n\n\n"
        },
        {
            "author": "PercyDan",
            "timestamp": 1583740620,
            "txt_content": "居然有人用Mojangles字体编程。。。"
        },
        {
            "author": "399071660",
            "timestamp": 1583764020,
            "txt_content": "因为今天有人催更启动器 所以一天都在写启动器。。。"
        },
        {
            "author": "Heer_Kaisair",
            "timestamp": 1583817600,
            "txt_content": "嗯...不错的启动核心，射射楼主，谢了"
        },
        {
            "author": "AHpx",
            "timestamp": 1584543960,
            "txt_content": "所以...开源地址呢...还有建议放到Github"
        }
    ]
}