{
    "title": "QuantumRPG插件应用问题",
    "author": "Alpha-∞",
    "replyCount": 16,
    "timestamp": 1575180720,
    "txt_content": " 本帖最后由 Alpha-∞ 于 2019-12-1 17:21 编辑 \n\nQuantumRPG插件，版本V4.4.5\n在plugins/QuantumRPG/modules/classes/classes的职业配置中\nleveling:\n  start-level: 1\n  max-level: 100\n  start-exp: 30\n  exp-formula: '%exp% * 1.05'\n  skill-points: 2\n  aspect-points: 1\n  actions-on-level:\n    '1':\n      target-selectors:\n        self:\n        - '[SELF]'\n      action-executors:\n      - '[COMMAND_PLAYER] ~message: me 等级提升!; ~target: self;'复制代码此处如果需要让该职业的玩家每升一级，以OP或者CONSOLE身份执行一次命令/class:class level 1，应该怎样写？\n\n以下是测试不成功的配置\nleveling:\n  start-level: 1\n  max-level: 100\n  start-exp: 30\n  exp-formula: '%exp% * 1.05'\n  skill-points: 1\n  aspect-points: 1\n  actions-on-level:\n    '1':\n      target-selectors:\n        self:\n        - '[SELF]'\n      action-executors:\n      - '[COMMAND_PLAYER] ~message: me 等级提升!; ~target: self;'\n      - '[COMMAND_OP] ~message: class level 1; ~target: self;'复制代码leveling:\n  start-level: 1\n  max-level: 100\n  start-exp: 30\n  exp-formula: '%exp% * 1.05'\n  skill-points: 1\n  aspect-points: 1\n  actions-on-level:\n    '1':\n      target-selectors:\n        self:\n        - '[SELF]'\n      action-executors:\n      - '[COMMAND_PLAYER] ~message: me 等级提升!; ~target: self;'\n      - '[COMMAND_CONSOLE] ~message: class level %target% 1; ~target: self;'复制代码但是这种配置方法用在\"actions-on-select\"却是生效的，请大佬帮忙看看这么配置有什么问题\n\n附一下我看不懂的wiki\n",
    "replies": [
        {
            "author": "Azitate",
            "timestamp": 1575180720,
            "txt_content": "Alpha-∞ 发表于 2019-12-4 23:12\n这是我测试时的配置\n我大概猜出你出什么问题了\n你的start-level和max-level都是1,那么玩家的初始等级以及上限等级都是1\n而你下面写的actions-on-level是玩家到达等级1时执行的操作\n但是插件的工作原理是通过获取经验值达到某个等级后执行下方你设置的操作\n你默认已经是等级1了，所以下面你设置的操作不会执行,这是我改的配置,你可以试试看从1升到2级\n\n\n\nAsgard.yml\n(3.88 KB, 下载次数: 5)\n\n\n\n2019-12-4 23:27 上传\n点击文件名下载附件\n\n\n\n\n\n\n"
        },
        {
            "author": "死亡进行曲",
            "timestamp": 1575181920,
            "txt_content": "你用的是原版升级指令还是mod自带"
        },
        {
            "author": "死亡进行曲",
            "timestamp": 1575181980,
            "txt_content": "我跟你说的人毫无关系只是撞头像了"
        },
        {
            "author": "Alpha-∞",
            "timestamp": 1575182340,
            "txt_content": "死亡进行曲 发表于 2019-12-1 14:32\n你用的是原版升级指令还是mod自带\n无mod\n只是在该插件的职业升级时，以OP/CONSOLE身份执行一次命令"
        },
        {
            "author": "死亡进行曲",
            "timestamp": 1575182460,
            "txt_content": "你试试看前面哪里加个杠号"
        },
        {
            "author": "死亡进行曲",
            "timestamp": 1575182460,
            "txt_content": "就是  '[COMMAND_CONSOLE] ~message: /class level %target% 1; ~target: self;'"
        },
        {
            "author": "死亡进行曲",
            "timestamp": 1575182520,
            "txt_content": "这也只是我得一己之见\n不代表着最终效果"
        },
        {
            "author": "死亡进行曲",
            "timestamp": 1575186780,
            "txt_content": "leveling:     start-level: 1  \n   max-level: 100 \n   start-exp: 30  \n   exp-formula: '%exp% * 1.05'  \n   skill-points: 2  \n   aspect-points: 1  \n   actions-on-level:   \n      '1':   \n        target-selectors:       \n           self:        \n            - '[SELF]'   \n        action-executors:      \n         - '[COMMAND_PLAYER] ~message: me 等级提升!; ~target: self;'\n\n         -'[COMMAND_OP] ~message: /class level 1; ~target: self;'"
        },
        {
            "author": "Alpha-∞",
            "timestamp": 1575186960,
            "txt_content": " 本帖最后由 Alpha-∞ 于 2019-12-1 16:01 编辑 \n死亡进行曲 发表于 2019-12-1 15:53\nleveling:     start-level: 1  \n   max-level: 100 \n   start-exp: 30  \n无任何作用请善用编辑\n"
        },
        {
            "author": "Azitate",
            "timestamp": 1575193560,
            "txt_content": "你common全是message当然执行不了指令，请仔细查看站内wiki的行为列表"
        },
        {
            "author": "Alpha-∞",
            "timestamp": 1575194040,
            "txt_content": " 本帖最后由 Alpha-∞ 于 2019-12-1 17:56 编辑 \nAzitate 发表于 2019-12-1 17:46\n你common全是message当然执行不了指令，请仔细查看站内wiki的行为列表[COMMAND_PLAYER]\n让玩家执行一个命令\n[COMMAND_PLAYER] ~message: smite %target%; ~target: players;\n其中,message和target为必填\n\n[COMMAND_CONSOLE]\n让控制台执行一个命令\n[COMMAND_CONSOLE] ~message: smite %target%; ~target: players;\n其中,message和target为必填\n\n[COMMAND_OP]\n以OP身份执行一个命令\n[COMMAND_OP] ~message: smite %target%; ~target: players;\n其中,message和target为必填\n\nwiki中，执行命令的语句就带有message啊。。"
        },
        {
            "author": "Azitate",
            "timestamp": 1575198180,
            "txt_content": "Alpha-∞ 发表于 2019-12-1 17:54\nwiki中，执行命令的语句就带有message啊。。\n....是我写wiki的时候写错了吗。。你去看看其他模块文件怎么写的，我现在没有电脑"
        },
        {
            "author": "Alpha-∞",
            "timestamp": 1575296400,
            "txt_content": "Azitate 发表于 2019-12-1 19:03\n....是我写wiki的时候写错了吗。。你去看看其他模块文件怎么写的，我现在没有电脑\n ...\n关键是，我这样的写法在同一yml文件下的“actions-on-select”是生效的\n而且您提供的汉化版本中自带的\n- '[COMMAND_PLAYER] ~message: me 等级提升!; ~target: self;'复制代码\n也没有生效"
        },
        {
            "author": "Azitate",
            "timestamp": 1575296640,
            "txt_content": "Alpha-∞ 发表于 2019-12-2 22:20\n关键是，我这样的写法在同一yml文件下的“actions-on-select”是生效的\n而且您提供的汉化版本中自带的\n\n\n现如果不着急可以等我周三放假回家给你解决手机上操作太麻烦"
        },
        {
            "author": "Azitate",
            "timestamp": 1575471960,
            "txt_content": " 本帖最后由 Azitate 于 2019-12-4 23:07 编辑 \nAlpha-∞ 发表于 2019-12-2 22:20\n关键是，我这样的写法在同一yml文件下的“actions-on-select”是生效的\n而且您提供的汉化版本中自带的\n刚刚在消耗品模块测试,命令是生效的,只不过那个class指令你貌似打错了你可以给我你的文件看看么"
        },
        {
            "author": "Alpha-∞",
            "timestamp": 1575472320,
            "txt_content": "Azitate 发表于 2019-12-4 23:06\n刚刚在消耗品模块测试,命令是生效的,只不过那个class指令你貌似打错了你可以给我你的文件看看么\n ...\n\n\n\nAsgard.yml\n(3.77 KB, 下载次数: 4)\n\n\n\n2019-12-4 23:11 上传\n点击文件名下载附件\n阅读权限: 100\n\n\n\n\n\n这是我测试时的配置\n\n\n\n"
        }
    ]
}