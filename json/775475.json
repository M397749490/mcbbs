{
    "title": "使用facing参数实现螺旋特效或画圆",
    "author": "21548612c",
    "replyCount": 11,
    "timestamp": 1516106280,
    "txt_content": " 本帖最后由 21548612c 于 2018-1-16 20:43 编辑 \n\n先上效果图螺旋\n\n\n\n\n2018-01-16_18.38.11.png (124.23 KB, 下载次数: 14)\n\n下载附件\n\n2018-1-16 19:55 上传\n\n\n\n\n\n圆\n\n\n\n\n2018-01-16_18.37.01.png (55.99 KB, 下载次数: 9)\n\n下载附件\n\n2018-1-16 19:56 上传\n\n\n\n\n\n\nmcfunction：# c_particle:circular_flame\n# 圆形火焰\n\nscoreboard objectives add c_particleStep dummy\nsummon minecraft:area_effect_cloud ~ ~ ~ {Tags:[\"c_particleStep\"],Duration:5}\n\n# 递归次数\nscoreboard players set c_particleStep c_particleStep 38\nexecute if score c_particleStep c_particleStep >= 0 c_number as @e[tag=c_particleStep] at @s positioned ~3 ~ ~ run function c_particle:circular_flame1\n\nscoreboard objectives remove c_particleStep\nkill @e[tag=c_particleStep]\n# 公式\n# 上边的 ~r ~ ~          r为半径复制代码# c_particle:circular_flame1\n# 圆形火焰\n# 递归函数\n\nparticle minecraft:flame ~ ~ ~ 0 0 0 1 0\nscoreboard players remove c_particleStep c_particleStep 1\nexecute if score c_particleStep c_particleStep > 0 c_number facing entity @s feet positioned ^1 ^ ^0.17157 run function c_particle:circular_flame1\n\n# 局部坐标 ^x ^ ^d       x为平移距离    d=r-√(r^2-x^2)复制代码\n\n原理：\n\n\n\n\n\n\n原理.jpg (31.46 KB, 下载次数: 10)\n\n下载附件\n\n2018-1-16 19:55 上传\n\n\n\n\n\n\n(画图画的不要吐槽)\n\n在圆上取任意一点  执行函数  使用facing让它“面向”圆心  并且播放1个火焰粒子（可以修改粒子类型 生成实体或方块也行）\n然后我们使用新特性局部坐标 ^x ^ ^d 使他 向左移动x距离（注意朝向）向前移动d距离  这样子这个就点到了圆中的下一个位置\n重复这个过程   就能够得到一个由点组成的圆\n\n\n另外说明下function里边的参数：\nscoreboard players set c_particleStep c_particleStep 38复制代码38是递归次数   具体的计算我没搞懂   不过可以多试几次得到最佳圆效果(外形完整和函数效率)\n\nexecute if score c_particleStep c_particleStep >= 0 c_number as @e[tag=c_particleStep] at @s positioned ~3 ~ ~ run function 复制代码~3 ~ ~ 中的3是半径r  根据你想要的圆大小填入\n\nexecute if score c_particleStep c_particleStep > 0 c_number facing entity @s feet positioned ^1 ^ ^0.17157 run function c_particle:circular_flame1\n复制代码~1 ~ ~0.17157\nx是你想要移动的距离 x决定点的密集程度  d是一个根据x和半径r计算出来的值  d=r-√(r^2-x^2)\n\n\n\n\n\n螺旋可以说是我研究facing画圆的副产物\n\n\n# c_particle:spiral_flame\n# 螺旋火焰\n\nscoreboard objectives add c_particleStep dummy\nscoreboard players set c_particleStep c_particleStep 1200\nsummon minecraft:area_effect_cloud ~ ~ ~ {Tags:[\"c_particleStep\"],Duration:20}\nexecute if score c_particleStep c_particleStep >= 0 c_number as @e[tag=c_particleStep] at @s positioned ~ ~ ~ run function c_particle:spiral_flame1\nscoreboard objectives remove c_particleStep\nkill @e[tag=c_particleStep]复制代码# c_particle:spiral_flame1\n# 螺旋火焰\n# 递归函数\n\nparticle minecraft:flame ~ ~ ~ 0 0 0 1 0\nscoreboard players remove c_particleStep c_particleStep 1\nexecute if score c_particleStep c_particleStep > 0 c_number facing entity @s feet positioned ^0.3 ^ ^ run function c_particle:spiral_flame1复制代码\n\n除了不用填半径和d之外   其他和圆一样\n^0.3 ^ ^ 中的0.3决定了螺旋的点密集程度\n递归次数决定长度\n\n\n忘了说怎么使用了\n\n可以直接\n/function c_particle:spiral_flame复制代码也可以修改位置再执行\n/execute positioned ~ ~10 ~ function c_particle:spiral_flame复制代码\n\n\n\n\n\n\nparticle.zip\n(3.07 KB, 下载次数: 20)\n\n\n\n2018-1-16 20:34 上传\n点击文件名下载附件\nmcfunction\n\n\n\n\n\n\n",
    "replies": [
        {
            "author": "Mithey",
            "timestamp": 1516106640,
            "txt_content": "数学不好不适合搞这些破东西233"
        },
        {
            "author": "21548612c",
            "timestamp": 1516106820,
            "txt_content": "Mithey 发表于 2018-1-16 20:44\n数学不好不适合搞这些破东西233\n这个不复杂吧    d=r-√(r^2-x^2) 拿window计算器一按就出 →_→"
        },
        {
            "author": "pineapple_",
            "timestamp": 1516107060,
            "txt_content": "这个螺旋线看着不错\n或许还可以画渐开线"
        },
        {
            "author": ":spgbigfan:",
            "timestamp": 1516188420,
            "txt_content": "拳打matlab脚踢wolfram就在今天"
        },
        {
            "author": "花旦",
            "timestamp": 1516205400,
            "txt_content": "画圆的话可以利用对称来简化运算 -w-   <del>虽然不知道减少递归次数的意义何在2333</del>"
        },
        {
            "author": "智障冷风=-=",
            "timestamp": 1516286520,
            "txt_content": "涨姿势了"
        },
        {
            "author": "pca006132",
            "timestamp": 1516287780,
            "txt_content": "花旦 发表于 2018-1-18 00:10\n画圆的话可以利用对称来简化运算 -w-   虽然不知道减少递归次数的意义何在2333 ...\n对称在这里真的不好用...因为你还是得particle，而且还得用记分板算一下对称与某条线之后的坐标还是挺麻烦的。"
        },
        {
            "author": "花旦",
            "timestamp": 1516292340,
            "txt_content": "pca006132 发表于 2018-1-18 23:03\n对称在这里真的不好用...因为你还是得particle，而且还得用记分板算一下对称与某条线之后的坐标还是挺麻 ...\nfacing的功能是啥啊 1.13还没碰/。。。。。。。"
        },
        {
            "author": "花旦",
            "timestamp": 1516292880,
            "txt_content": "pca006132 发表于 2018-1-18 23:03\n对称在这里真的不好用...因为你还是得particle，而且还得用记分板算一下对称与某条线之后的坐标还是挺麻 ...\n刚刚看了一下facing的说明     感觉对称还是可以用的    \nfacing圆心实体  把半圆或者八分之一圆的实体copy一份 加个标签 然后然后tp ^r^^ 就可以了"
        },
        {
            "author": "pca006132",
            "timestamp": 1516318440,
            "txt_content": "花旦 发表于 2018-1-19 00:28\n刚刚看了一下facing的说明     感觉对称还是可以用的    \nfacing圆心实体  把半圆或者八分之一圆的实体co ...\n要算的东西基本没分别，没好处"
        },
        {
            "author": "花旦",
            "timestamp": 1516359060,
            "txt_content": " 本帖最后由 花旦 于 2018-1-19 19:05 编辑 \npca006132 发表于 2018-1-19 07:34\n要算的东西基本没分别，没好处\n如果对象是一个半径比较大的圆的话。。。。。。啊呸 当我没说....\n\n"
        }
    ]
}