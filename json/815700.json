{
    "title": "[原创][DDNS][家宽开服神器][SharpAliyunDDNS]C#写的阿里云DDNS软件",
    "author": "HMTD",
    "replyCount": 21,
    "timestamp": 1534685400,
    "txt_content": " 本帖最后由 HMTD 于 2018-8-19 21:30 编辑 \n\n阿里云DDNS软件----SharpAliyunDDNS这个是一个利用阿里云云解析接口进行动态dns解析的软件，作为用户只需要在阿里云里面获取AccessKeyId和AccessKeySecret就可以使用\n这里是阿里云部分的教程\n第一步，打开阿里云\n\n\n\n\n打开阿里云.JPG (182.3 KB, 下载次数: 1)\n\n下载附件\n\n2018-8-19 20:03 上传\n\n\n\n\n\n第二步，点击右上角的登录按钮，没有的自行注册\n\n\n\n\n登录.JPG (121.46 KB, 下载次数: 1)\n\n下载附件\n\n2018-8-19 20:04 上传\n\n\n\n\n\n第三步，打开控制台\n\n\n\n\n控制台.png (228.91 KB, 下载次数: 1)\n\n下载附件\n\n2018-8-19 20:04 上传\n\n\n\n\n\n第四步，把鼠标放到右上角自己的头像上，点击红圈的那个按钮 AccessKey\n\n\n\n\n找到AccessKeyId.png (156.1 KB, 下载次数: 4)\n\n下载附件\n\n2018-8-19 20:05 上传\n\n\n\n\n\n第五步，点击那个使用子用户AccessKey\n\n\n\n\n使用子用户.JPG (122.89 KB, 下载次数: 1)\n\n下载附件\n\n2018-8-19 20:07 上传\n\n\n\n\n\n第六步，输入自定义的用户名，注意上面写的规则\n\n\n\n\n创建子用户.JPG (98.95 KB, 下载次数: 1)\n\n下载附件\n\n2018-8-19 20:08 上传\n\n\n\n\n\n第七步，选择用户的权限，由于手工找起来特别累，直接在输入框内输入\"DNS\"，然后如图点击红圈内的那个按钮\n\n\n\n\n搜索权限.JPG (130.68 KB, 下载次数: 1)\n\n下载附件\n\n2018-8-19 20:09 上传\n\n\n\n\n\n第八步，按照指示过掉验证\n\n\n\n\n验证.JPG (108.54 KB, 下载次数: 1)\n\n下载附件\n\n2018-8-19 20:10 上传\n\n\n\n\n\n第九步，可以选择直接复制保存在文本，也可以选择下载下来\n后面由于今日上传大小无法上传图片\n就使用文字描述了\n下载下来的AccessKey.csv\n可以使用npp文本编辑器直接打开，也可以使用Windows自带的文本编辑器打开\n第二行是AccessKeyId和AccessKeySecret\n是以\",\"分割的\n前面的是AccessKeyId，后面的是AccessKeySecret\nWindows教程\n\n第一步\n打开.NET Core官网：https://www.microsoft.com/net/learn/get-started-with-dotnet-tutorial\n然后如图点击Download .NET Core\n\n\n\n\n.NET Core下载.JPG (174.93 KB, 下载次数: 2)\n\n下载附件\n\n2018-8-19 20:19 上传\n\n\n\n\n\n下载以后打开.NET Core安装程序\n然后一路点确定\n然后.NET Core环境就安装完毕\n下一步就是下载我写的\nSharpAliyunDDNS打开Github网站:https://github.com/HMTD/SharpAliyunDDNS\n点击Releases\n点击netcoreapp2.0.zip下载\n下载以后把压缩包打开\n全部文件放到一个文件夹里面\n创建一个bat脚本\n放在和程序一个目录的地方\nbat内容如下：\n@ECHO OFF\ndotnet \"SharpAliyunDDNS.dll\"复制代码接下来请见软件配置教程，在下面\n过了软件配置以后\n双击bat脚本就能启动了\n至于开机启动，请自行搜索Windows如何设置脚本开机启动\n\nLinux教程\n\nCentos/Oracle:\n 按次序执行下列shell命令，如果是以Root用户，执行时可以直接把sudo去掉\nsudo rpm -Uvh https://packages.microsoft.com/config/rhel/7/packages-microsoft-prod.rpm\nsudo yum update -y\nsudo yum install dotnet-sdk-2.1 -y复制代码Debian 9\n按次序执行下列shell命令，如果是以Root用户，执行时可以直接把sudo去掉\nwget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.asc.gpg\nsudo mv microsoft.asc.gpg /etc/apt/trusted.gpg.d/\nwget -q https://packages.microsoft.com/config/debian/9/prod.list\nsudo mv prod.list /etc/apt/sources.list.d/microsoft-prod.list\nsudo chown root:root /etc/apt/trusted.gpg.d/microsoft.asc.gpg\nsudo chown root:root /etc/apt/sources.list.d/microsoft-prod.list\nsudo apt-get update -y\nsudo apt-get install dotnet-sdk-2.1 -y复制代码其余的教程可以访问https://www.microsoft.com/net/learn/get-started-with-dotnet-tutorial\n点击Linux 然后在下拉框内寻找自己的系统对应的教程\n然后.NET Core环境就安装完毕\n下一步就是下载我写的\nSharpAliyunDDNS\n打开Github网站:https://github.com/HMTD/SharpAliyunDDNS\n点击Releases\n点击netcoreapp2.0.zip下载\n下载以后把压缩包打开\n全部文件放到一个文件夹里面\n接下来请见软件配置教程，在下面\n过了软件配置以后\n由于Linux的SSH一旦断掉，程序就会被关闭，大多数腐竹不会用Linux的GUI开服\n所以接下来就是.NET Core程序在Linux下的守护程序配置了\nSupervisor \nSupervisor 安装\n\nubuntusudo apt-get install supervisor -y复制代码centos\nyum install supervisor -y复制代码debainsudo apt-get install supervisor -y复制代码Supervisor 配置，常用命令\n安装完成之后，在 /etc/supervisor/conf.d/ 目录下新建一个配置文件（vi DDNS.conf），取名为 DDNS.conf<pre style=\"white-space: pre-wrap; font-size: 12px; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important;\"><span style=\"line-height: 1.5 !important;\">[program:DDNS]\ncommand</span>=/bin/bash -c <span style=\"color: rgb(128, 0, 0); line-height: 1.5 !important;\">\"</span><span style=\"color: rgb(128, 0, 0); line-height: 1.5 !important;\">dotnet SharpAliyunDDNS.dll</span><span style=\"color: rgb(128, 0, 0); line-height: 1.5 !important;\">\" </span>#要执行的命令<span style=\"line-height: 1.5 !important;\">\ndirectory</span>=/root/DDNS #命令执行的目录\n<span style=\"line-height: 1.5 !important;\">stderr_logfile</span>=/root/DDNS/log/SharpAliyunDDNS.error.log #标准错误日志</pre><pre style=\"white-space: pre-wrap; font-size: 12px; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important;\"><span style=\"line-height: 1.5 !important;\">stdout_logfile</span>=/root/DDNS/log/SharpAliyunDDNS.stdout.log #标准输出日志</pre><pre style=\"white-space: pre-wrap; font-size: 12px; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot; !important;\"><span style=\"line-height: 1.5 !important;\">environment</span>=ASPNETCORE_ENVIRONMENT=<span style=\"line-height: 1.5 !important;\">Production #环境变量\nuser</span>=<span style=\"line-height: 1.5 !important;\">root #进程执行的用户身份\nstopsignal</span>=<span style=\"line-height: 1.5 !important;\">INT\nautostart</span>=<span style=\"color: rgb(0, 0, 255); line-height: 1.5 !important;\">true </span>#是否自动启动<span style=\"line-height: 1.5 !important;\">\nautorestart=<span style=\"color: rgb(0, 0, 255); line-height: 1.5 !important;\">true </span>#是否自动重启\nstartsecs</span>=3 #自动重启间隔</pre>复制代码配置好以后 (:wq保存退出)，需要重新加载一下配置sudo supervisorctl shutdown && sudo supervisord -c /etc/supervisor/supervisord.confSupervisor UI 管理台打开位于/etc/superisor/supervisord.conf\n找到[inet_http_server]\n\n\n\n\nshell.JPG (29.58 KB, 下载次数: 0)\n\n下载附件\n\n2018-8-19 21:14 上传\n\n\n\n\n[inet_http_server]         ; inet (TCP) server disabled by default\nport=192.168.1.10:9001        ; (ip_address:port specifier, *:port for all iface)\nusername=user              ; (default is no username (open server))\npassword=**** ; (default is no password (open server))\n复制代码把[inet_http_server]，port，username，password前面的\";\"去掉在浏览器里面打开就可以看到了如下\n\n\n\n\n控制台.JPG (80.1 KB, 下载次数: 1)\n\n下载附件\n\n2018-8-19 21:16 上传\n\n\n\n\n\n\n\n\n界面.JPG (129.04 KB, 下载次数: 0)\n\n下载附件\n\n2018-8-19 21:16 上传\n\n\n\n\n软件配置教程\n\n然后用文本编辑器打开Config.json 将获得到的AccessKeyId和AccessKeySecret分别写进去 然后域名部分用一下格式：\"根域名,主机记录,ttl\" \n根域名： \n你在阿里云的域名或者转入阿里云的解析 \n主机记录： \n如果根域名是xxxxx.com \n这边如果要直接解析xxxxx.com \n主机记录就填\"@\" \n如果要解析123.xxxxx.com \n主机记录就填\"123\" \nTtl： \n如果你没有购买阿里云云解析服务，那就默认写600 也就是1分钟 \n如果购买了阿里云的云解析服务，就写你自己购买时购买的最小ttl值\n\n到这里，SharpAliyunDDNS工具的教程就结束了\n不过有些地方walls比较高，比较奇葩 github可能访问不了，特意加上一个百度云盘的链接 \n\nhttps://pan.baidu.com/s/1bdB4Hj_75qYFR2XHJH1YyA\n\n最后，希望各位喜欢的能给我的Github里面一个星\n",
    "replies": [
        {
            "author": "Sobo",
            "timestamp": 1534685820,
            "txt_content": "开源好评，这种利用阿里云进行动态解析的操作在论坛应该算是首发吧"
        },
        {
            "author": "兄弟们GO！",
            "timestamp": 1534685820,
            "txt_content": "好东西，支持原创，支持阿里云。以后可以在家里做服务器了！"
        },
        {
            "author": "330377782",
            "timestamp": 1534690800,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "HMTD",
            "timestamp": 1534817640,
            "txt_content": "兄弟们GO！ 发表于 2018-8-19 21:37\n好东西，支持原创，支持阿里云。以后可以在家里做服务器了！\n多谢支持23333"
        },
        {
            "author": "兄弟们GO！",
            "timestamp": 1534849200,
            "txt_content": "楼主，自动刷新的是A记录吗？"
        },
        {
            "author": "cbsjz",
            "timestamp": 1534863840,
            "txt_content": " 本帖最后由 cbsjz 于 2019-4-12 02:19 编辑 \n\n动态解析很好会变动家用网ip 省的自己去改了"
        },
        {
            "author": "HMTD",
            "timestamp": 1534960260,
            "txt_content": "cbsjz 发表于 2018-8-21 23:04\n动态解析很好会变动家用网ip 省的自己去改了\n(但依旧拯救不了我这超高宽带防火墙拦截) ...\n现在最新的sdn网关没有超管但是APP可以做dmz主机的，如果你没有公网IP那就废了，有公网IP就没事，电信再怎么样都能给你做个桥接"
        },
        {
            "author": "quanee",
            "timestamp": 1534987560,
            "txt_content": "谢谢分享"
        },
        {
            "author": "quanee",
            "timestamp": 1534999620,
            "txt_content": "谢谢分享"
        },
        {
            "author": "HMTD",
            "timestamp": 1535361180,
            "txt_content": "quanee 发表于 2018-8-23 09:26\n谢谢分享\n多谢支持23"
        },
        {
            "author": "HMTD",
            "timestamp": 1535630040,
            "txt_content": "Sobo 发表于 2018-8-19 21:37\n开源好评，这种利用阿里云进行动态解析的操作在论坛应该算是首发吧 ...\n这种东西开源是自然咯"
        },
        {
            "author": "congyu",
            "timestamp": 1536241560,
            "txt_content": "感谢楼主吧，虽然我是看错成DDoS进来的"
        },
        {
            "author": "HMTD",
            "timestamp": 1537003440,
            "txt_content": "congyu 发表于 2018-9-6 21:46\n感谢楼主吧，虽然我是看错成DDoS进来的\n神tmDDOS，现行反DDNS一个就是UDP靠带宽硬抗，还有就是防CC"
        },
        {
            "author": "嘛人394",
            "timestamp": 1537123500,
            "txt_content": "没公网IP的路过支持一下"
        },
        {
            "author": "12312311a",
            "timestamp": 1537759080,
            "txt_content": "非常感谢楼主分享资源"
        },
        {
            "author": "夏逆520",
            "timestamp": 1537778700,
            "txt_content": "好评，做的不错"
        },
        {
            "author": "McZ112233",
            "timestamp": 1551277500,
            "txt_content": "请问能出个AAAA解析的吗？"
        },
        {
            "author": "婲样的女孩",
            "timestamp": 1551969780,
            "txt_content": "说实话教程有点乱一点都没看明白"
        },
        {
            "author": "woc159357",
            "timestamp": 1562227380,
            "txt_content": "\n好东西，支持原创，支持阿里云。以后可以在家里做服务器了！我现在就是组阿里云的服务器"
        },
        {
            "author": "梦文博hh",
            "timestamp": 1562581500,
            "txt_content": "我是用路由器的阿里ddns插件，结果ipv6是每个设备一个地址，不能内网分配，这个不知道有没有ipv6的功能，如果有就太好了"
        },
        {
            "author": "Wonwayshon",
            "timestamp": 1564805160,
            "txt_content": "感谢，已经用上了"
        }
    ]
}