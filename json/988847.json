{
    "title": "banitem with nbt怎么ban附魔",
    "author": "喵内噶",
    "replyCount": 10,
    "timestamp": 1584431220,
    "txt_content": "全局搜索附魔 如果附魔等级大于x则禁用\n看了教程贴 不太懂js 求栗子",
    "replies": [
        {
            "author": "结城希亚",
            "timestamp": 1584431220,
            "txt_content": "Banitem貌似无法对全局进行操作，如果只是单纯的不想让玩家拥有超过10级附魔可以试试这个插件\n\n[修正|安全]Dupe Fixes|Illegal Stack Remover——修复高版本漏洞[1.8-1.15]\nhttps://www.mcbbs.net/thread-849068-1-1.html\n(出处: Minecraft(我的世界)中文论坛)\n1) 添加修复非法附魔的选项，你可以设置超过原版的附魔等级上限。比如你设置锋利附魔的附魔等级上限为10，那么插件只会修复附魔超过10级的物品。\n\n如果banitem真能禁的话我也学习学习\n"
        },
        {
            "author": "DreamVoid",
            "timestamp": 1584431340,
            "txt_content": "js|var a=false,b=eval(\"(\"+value+\")\");if(b instanceof Array){for(var i in b){if(b.id==附魔序号&&b.lvl>等级){a=true;break}}}a;\n\nvar a = false,b =eval(\"(\" + value + \")\");\nif (b instanceof Array) {\n    for (var i in b) {\n        if (b.id == 附魔序号 && b.lvl > 附魔等级) {\n            a = true;\n            break\n        }\n    }\n}\na;复制代码\n不知道能不能帮到你"
        },
        {
            "author": "喵内噶",
            "timestamp": 1584431940,
            "txt_content": "DreamVoid 发表于 2020-3-17 15:49\n不知道能不能帮到你\n这不就是教程贴上的吗\n就是想问这个要怎么用"
        },
        {
            "author": "DreamVoid",
            "timestamp": 1584432300,
            "txt_content": "喵内噶 发表于 2020-3-17 15:59\n这不就是教程贴上的吗\n就是想问这个要怎么用/banitem add nl:ench nv:[{lvl:附魔等级,id:附魔ID}]复制代码\n手上拿着带附魔的物品，使用上面的命令就行\n来自：https://www.mcbbs.net/thread-865052-1-1.html"
        },
        {
            "author": "喵内噶",
            "timestamp": 1584432540,
            "txt_content": "DreamVoid 发表于 2020-3-17 16:05\n手上拿着带附魔的物品，使用上面的命令就行\n....看题"
        },
        {
            "author": "DreamVoid",
            "timestamp": 1584432660,
            "txt_content": "喵内噶 发表于 2020-3-17 16:09\n....看题banitem with nbt怎么ban附魔\n题目怎么了？ban附魔没错啊"
        },
        {
            "author": "DreamVoid",
            "timestamp": 1584433740,
            "txt_content": " 本帖最后由 DreamVoid 于 2020-3-17 16:32 编辑 \n\n这是教程帖的内容：\n----====Ban附魔====----\n随便拿一个带附魔的物品,然后输入/banitem add nl:ench nv:,然后按一下tab,nv的值就会填上了\n我这里的值nv:[{lvl:3,id:16},{lvl:2,id:21}] ,一个锋利3,一个抢夺2\n\n我们就拿ban锋利的例子来,锋利的附魔id是16,以上字符串中id就是附魔id,lvl就是附魔等级,\n然后我们改一下命令,变成/banitem add nl:ench nv:js|value.indexOf(\"id:16\")!=-1,然后回车\n\nvalue.indexOf(\"id:16\")!=-1这句话的意思就是把NBT值作为字符串,然后使用JS语法里字符串的indexOf方法来确定id:16这个字符串的位置,如果返回-1,说物品NBT中的ench节点的值不包含id为16的附魔\n\n当然JS解析器的功能肯定不止这么一点,你可以写复杂的语言,不过相对应的耗时就会增加,value变量可以写多个\n\n这里一个复杂的JS解析例子\njs|var a=false,b=eval(\"(\"+value+\")\");if(b instanceof Array){for(var i in b){if(b.id==16&&b.lvl>2){a=true;break}}}a;\n\nvar a = false,b =eval(\"(\" + value + \")\");\nif (b instanceof Array) {\n    for (var i in b) {\n        if (b.id == 16 && b.lvl > 2) {\n            a = true;\n            break\n        }\n    }\n}\na;\n\n由于ench这个节点的值比较特殊,可以转换成数组,所以可以使用遍历,这段js的作用就是,查找id为16的附魔,如果等级大于2就禁用,只要在js语句最后一句话放上你要返回的结果就可以获取到比较结果了\n\n编辑JS脚本的几个注意事项\n   ·js语句内不能return\n   ·js内的字符串中的特殊字符需要转义,例如var regx=\"\\d{1,}\"需要写成var regx=\"\\\\d{1,}\"\n   ·如果js语句太长了想要直接编辑文件,一定要注意单引号的转义,单引号是配置文件的边界符号,所以如果字符串\n       中包含了单引号,写到文件里一定要改成两个,所以可以的话,尽量不要使用单引号,可以使用双引号代替单引号\n既然说了“任意附魔物品”那么和手上拿着什么物品就是没关系的，只认什么附魔和附魔等级\n该文段倒数第二段说了\n由于ench这个节点的值比较特殊,可以转换成数组,所以可以使用遍历,这段js的作用就是,查找id为16的附魔,如果等级大于2就禁用,只要在js语句最后一句话放上你要返回的结果就可以获取到比较结果了\n楼主说要怎么用，我也把命令用法发了一遍，这个命令是不管你手上附魔的是什么物品\n因为\n随便拿一个带附魔的物品\n因此我根据这个判断此命令是全局禁用附魔的命令\n如果我的判断有误，那么我对我浪费楼主的时间误导楼主说声抱歉，如果楼主的问题没有得到解决，建议楼主一周后前往https://www.mcbbs.net/thread-256348-1-1.html申请关闭帖子退回悬赏\n\n"
        },
        {
            "author": "GiNYAi",
            "timestamp": 1584434340,
            "txt_content": "看了一下 聪聪的banitem 是需要每个物品分别设置的\n\n（但是EpicBanitem不用"
        },
        {
            "author": "喵内噶",
            "timestamp": 1584439800,
            "txt_content": "GiNYAi 发表于 2020-3-17 16:39\n看了一下 聪聪的banitem 是需要每个物品分别设置的\n\n（但是EpicBanitem不用\n啊 想要spigot插件orz"
        },
        {
            "author": "喵内噶",
            "timestamp": 1584439860,
            "txt_content": "DreamVoid 发表于 2020-3-17 16:29\n这是教程帖的内容：\n\n既然说了“任意附魔物品”那么和手上拿着什么物品就是没关系的，只认什么附魔和附魔等 ...\n比起一味的搬教程 不如给个实际例子"
        }
    ]
}