{
    "title": "【CBL|HerobrineXia】1.14/1.15 原版命令插件数据包（login/tpa/home/back/...）",
    "author": "HerobrineXia",
    "replyCount": 61,
    "timestamp": 1549118220,
    "txt_content": " 本帖最后由 HerobrineXia 于 2020-2-18 19:43 编辑 \n\n因为这几天闲着无聊，于是就决定写些原版插件来给服务器用，目前写了许多常用的插件，之后可能会根据需求量持续更新。由于这个数据包是在1.14版本下写的，因此不兼容任何1.14.4以下的版本。\n\n\n使用教程：\n 安装方法：将解压包解压后，把文件夹里的所有文件扔进saves/存档名/datapacks里注意：如果解压后如果看到名为“__MACOSX”文件夹，删除即可\n\n初始化：\n由于插件使用的绝大部分都是计分板，因此在扔进存档后需要手动进行初始化，而初始化的方法很简单，只需在游戏中输入以下这条命令\nfunction admin:reset复制代码即可完成初始化。如果之后在使用过程中想重置所有插件，可以再次输入这条命令。\n\n\n开启/关闭插件:\n由于数据包中大部分的插件需要给玩家分配ID来进行操作，因此玩家ID插件是默认开启的\n并且，为了方便玩家的体验，数据包中的帮助插件也是默认开启的，玩家可以在游戏中查看插件的具体命令\n注：所有的命令会使开启的插件变为关闭，关闭的插件变为开启。\nfunction 插件文件夹名:change_state复制代码插件启动设置:\n\n在datapack中，文件main/data/admin/functions/setting.mcfunction是插件在使用/function admin:reset时候的预设设置，如果不想在游戏中手动更改插件的启动状态，可以修改该文件来更改默认启动插件\n# main/data/admin/functions/setting.mcfunction# 默认启用插件（设置值为1）\nscoreboard players set 伤害显示 system 1\nscoreboard players set 游玩时长 system 1\nscoreboard players set 苦力怕防爆 system 1\nscoreboard players set 白名单 system 1\nscoreboard players set 传送 system 1\nscoreboard players set 设家 system 1\nscoreboard players set 登录 system 1\n\n# 默认不启用插件（设置值为-1）\nscoreboard players set 返回 system -1\n启动插件则将后面的数值改为1，不启用则改为-1\n\n插件具体命令&使用：\n0.玩家编号：\n在每个玩家进入服务器时，会被系统自动分配到一个玩家编号，所有玩家编号默认显示在游戏右边的计分板上\n当玩家离开服务器后，他将失去玩家编号并在下次登录后重新获得编号，而在线的其他玩家的编号不会受到影响\n\n1.帮助：\n显示帮助页面\ntrigger help复制代码使用权限：所有玩家可用\n内容：整合了所有插件中玩家会用到的命令和如何使用它们。\n\n2.传送：\n像玩家编号为X的玩家发送tp申请\ntrigger tpa set X复制代码使用权限：所有玩家可用\n内容：向玩家发起传送请求后，受到请求的玩家有10秒的时间选择是否同意该请求，如果同意，直接点击[同意]即可，不同意则点击[拒绝]。如果10秒内玩家没有选择任意一个答复，则系统将默认拒绝请求。\n注：传送的等待时间为0秒，并且该传送会无视传送点的安全性，如果被传送的玩家掉入虚空，传送的玩家也会掉入虚空，如果被传送的玩家被方块掩埋，传送的玩家也会被传送到方块中\n\n3.伤害显示：\n显示自己受到的伤害\ntrigger damage_system set 1复制代码使用权限：所有玩家可用\n\n隐藏自己受到的伤害\ntrigger damage_system set 0复制代码使用权限：所有玩家可用\n内容：显示自己受到的伤害和对其他玩家造成的伤害。本插件只会显示玩家对玩家造成的伤害、玩家受到来自玩家的伤害、玩家对自己造成的伤害，其余伤害将不会显示伤害来源。\n\n4.游戏时长显示：\n显示自己在服务器中游玩的时间\ntrigger time set 0复制代码使用权限：所有玩家可用\n内容：显示自己在服务器中游玩的时间（天/时/分/秒），具体的计算时间可能会因为服务器卡顿情况而产生影响。\n\n5.白名单：\n给予玩家白名单操作权限\ntag 游戏名 add op复制代码使用权限：拥有op权限的玩家\n给予玩家白名单\ntag 游戏名 add white复制代码使用权限：拥有op权限的玩家\n\n给予玩家编号为X的玩家白名单\ntrigger white_id set X复制代码使用权限：拥有白名单操作权限的玩家\n\n内容：伪白名单插件，玩家如果没有白名单，无法进行移动等操作，并且在30秒内不获得白名单将会被踢出游戏（需要在server.properties里将function-permission-level改为4）\n\n6.苦力怕防炸：\n无其他操作命令\n内容：在不关闭mobGriefing，取消所有苦力怕的爆炸伤害与地形破坏\n\n7.家传送点：\n设置家\ntrigger sethome复制代码使用权限：所有玩家\n\n返回家\ntrigger home复制代码使用权限：所有玩家\n\n内容：sethome可以在当前位置设置家，home则会让玩家在3秒后传送回家的位置，如果在传送回家的等待中死亡，将会取消传送，移动并不会取消传送。每个玩家只能设置一个家，并且家可以设置在主世界/末地/地狱中的任何一个地方\n注：该传送会无视传送点的安全性，如果玩家在虚空中设置家，则会被传入虚空，如果传送的点被填满了方块，玩家依旧会被传送到方块中\n\n8.返回：\n返回上次传送的地方\ntrigger back复制代码使用权限：所有玩家\n内容：back会让玩家在3秒后返回上次传送的地点，如果在等待过程中死亡将会被取消传送，移动并不会影响传送。上次传送的地点会在玩家使用tpa、home、back或者死亡后更改，玩家下线后重新上线将会使back点消失\n注：该传送会无视传送点的安全性，如果玩家掉入了虚空，还是会被传入虚空，如果传送的点被填满了方块，会被传送到方块中\n\n9.Login：\n修改密码\ntrigger change_password复制代码使用权限：所有玩家\n内容：在看了@SPGoding 的loottable的帖子后，发现了一个黑科技，因此原版login系统就这么诞生了。如果服务器启用了login系统，玩家在登录服务器时，会显示一个虚拟键盘，左键对应的字母可以输入密码，点击[确认]完成输入。玩家在第一次登录时，需要进行注册，并且在每次掉线重进服务器后，需要重新进行登录\n注：玩家需要在3分钟内完成注册或者登录，不然将会被踢出服务器（需要在server.properties里将function-permission-level改为4）玩家在未登录的时候，将会强制改为观察者模式，并且锁定一切操作，直到成功登陆，所有op在没登录的时候也会被默认取消op权限，需要运行\"/tag 游戏名 add op\"这条指令之后，op玩家在登录成功之后才会重新获得op权限。\n\n10.血量显示：\n无其他操作命令\n内容：开启后，生物头顶将显示他们的血量，通过将生物命名为CustomName可以覆盖掉生物血量显示的名字，不会消耗命名牌\n\n11.睡觉帮手：\n无其他操作命令\n内容：开启后，服务器将不再要求所有玩家一起睡觉来改变服务器时间，只要部分玩家睡觉就可以直接开始新的一天。默认设置为75%的玩家睡觉就可以跳到第二天，该设置可以在main/data/admin/functions/setting.mcfunction里更改（在初始化系统前），或者在初始化系统后，直接运行/scoreboard players set 睡觉需求百分比 SleepSystem XX来修改睡觉所要求玩家的最低百分比（XX为百分比，比如50就是要求至少有50%玩家睡觉）。\n\n12.suicide系统\n**返回出生点\ntrigger suicide复制代码使用权限：所有玩家\n内容：suicide不用多说了，就是**返回出生点的效果\n\n插件计分板：\n显示已启用插件：\nscoreboard objectives setdisplay sidebar system复制代码显示玩家ID：\nscoreboard objectives setdisplay sidebar player_id复制代码\n\n下载链接：https://pan.baidu.com/s/1L7BZlHA12ScNbAuaRzK-Zg  密码: a8rg\n如果想要定制原版插件，可以私聊我，我会在有空的时候去写着玩玩。如果有任何bug，可以在帖中告诉我，我将会在看到后修复\n注：本数据包禁止在未经过作者同意的情况下转发\n\n\n\n\n\n更新日志:\n2019/3/26: 更新原版插件1.1，修复datapack在19w12b使用的时候，back和home命令失效问题\n2019/8/8: 更新原版插件1.2，兼容1.14.4，修复datapack的back和home命令失效问题，增加了原版login系统 \n2019/8/30: 更新原版插件1.3，兼容1.14.4，增加了原版血量显示系统 \n2019/8/31: 更新原版插件1.4，兼容1.14.4，增加了睡觉助手系统\n2019/9/19: 更新原版插件1.5，兼容1.14.4，修复了睡觉助手在所有人都睡觉以后，被踢下床而切不了新的一天的bug，增加了suicide系统，优化了home和back的tp，不再进行递归位移操作\n2020/2/18: 更新原版插件1.6，兼容1.14.4+，修复了back的错误，优化了对插件进行开启/关闭以后的数据操作，修复了玩家在没有 密码/家/返回 等计分板的时候依旧能 登录/回家/返回上个地点 的bug。\n\n\n\n\n\n\n[groupid=546]Command Block Logic[/groupid]",
    "replies": [
        {
            "author": "ruhuasiyu",
            "timestamp": 1549154940,
            "txt_content": "夏tql!\n其实我觉得像显示伤害和游戏时间或许可以用trigger damage_system_on/off和time_on/off，应该比set/add方便点吧。\n另外就是白名单我觉得用tag add就可以了吧，然后像玩家编号应该首次进服分配就行了吧，动态分配有什么特别的好处吗？"
        },
        {
            "author": "SPGoding",
            "timestamp": 1549165500,
            "txt_content": "ruhuasiyu 发表于 2019-2-3 08:49\n夏tql!\n其实我觉得像显示伤害和游戏时间或许可以用trigger damage_system_on/off和time_on/off，应该比set/ ...\n不用担心溢出吧，比如某个服务器历史上有那么多个人上过线…不好意思我洗不下去了【\n\n白名单用 trigger 的话有补全啊 hhhhh"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1549176480,
            "txt_content": "SPGoding 发表于 2019-2-3 11:45\n不用担心溢出吧，比如某个服务器历史上有那么多个人上过线…不好意思我洗不下去了【\n\n白名单用 trigger  ...\n白名单我知道了，他应该是控制op组权限……"
        },
        {
            "author": "uuu2011",
            "timestamp": 1549206600,
            "txt_content": "猛地学习一波！"
        },
        {
            "author": "qq1613404266",
            "timestamp": 1556604300,
            "txt_content": "会被顶号啊，会被其他熊孩子恶意登录他人账号，那有这个编号跟没有一样嘛"
        },
        {
            "author": "ss8913",
            "timestamp": 1556630280,
            "txt_content": "back的指令是不是有问题？为什么我打trigger back显示不能触发计分项"
        },
        {
            "author": "ankerfung",
            "timestamp": 1557623340,
            "txt_content": "那个reset我觉得可以用成就系统来触发reset的function\n23333"
        },
        {
            "author": "1a2s3d4f1",
            "timestamp": 1557675000,
            "txt_content": "要是能干掉幻翼就好了，以前用命令方块搞过，一检测到就招呼掉落物再kill掉"
        },
        {
            "author": "模仿...",
            "timestamp": 1557747660,
            "txt_content": "back指令在1.14正式版用不了"
        },
        {
            "author": "hawdsf.",
            "timestamp": 1561045680,
            "txt_content": "路过路过"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1561164900,
            "txt_content": "这个现在还能用吗？有没有区块加载的问题了？"
        },
        {
            "author": "witherqwq",
            "timestamp": 1561294500,
            "txt_content": "tqlwsl:ppP"
        },
        {
            "author": "ruhuasiyu",
            "timestamp": 1564717920,
            "txt_content": "建议修改成原版模组发帖模板"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1565199480,
            "txt_content": "ruhuasiyu 发表于 2019-8-2 11:52\n建议修改成原版模组发帖模板\n修改为原版模组发帖模板了"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1565199540,
            "txt_content": "模仿... 发表于 2019-5-13 19:41\nback指令在1.14正式版用不了\n数据包已更新，如果需要启用back，请使用/function back:change_state或者在setting.mcfunction里修改"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1565199540,
            "txt_content": "ss8913 发表于 2019-4-30 21:18\nback的指令是不是有问题？为什么我打trigger back显示不能触发计分项\n数据包已更新，请阅读帖子的使用教程"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1565199600,
            "txt_content": "qq1613404266 发表于 2019-4-30 14:05\n会被顶号啊，会被其他熊孩子恶意登录他人账号，那有这个编号跟没有一样嘛 ...\n已更新原版login，应该可以解决问题了，并且编号只是方便选择玩家的，是动态id"
        },
        {
            "author": "SPGoding",
            "timestamp": 1565251380,
            "txt_content": "看你这四连我都慌…\n\n其实我感觉 3 分钟什么的那些时间如果能自定义也许会好点儿，反正不管怎么改也不会有人用就是了（不"
        },
        {
            "author": "Yi_Xin_Yi",
            "timestamp": 1566305220,
            "txt_content": "啊哈，收藏了"
        },
        {
            "author": "zjqing",
            "timestamp": 1567047420,
            "txt_content": "逼死模组"
        },
        {
            "author": "zeryter",
            "timestamp": 1569500940,
            "txt_content": " 本帖最后由 zeryter 于 2019-9-30 09:36 编辑 \n\n**** 作者被禁止或删除 内容自动屏蔽 ****"
        },
        {
            "author": "南派董卓",
            "timestamp": 1580882760,
            "txt_content": "dalao能1更新到1.15.2吗"
        },
        {
            "author": "无风引漩",
            "timestamp": 1581240120,
            "txt_content": "非常棒的插件！（还是原版插件香）\n\n另外，可以基于楼主的代码二次开发吗？"
        },
        {
            "author": "Ultra_Greedier",
            "timestamp": 1581392640,
            "txt_content": "这个插件在我关闭了配置文件的功能之后依然会出现。。。而且我还无法登陆我自己的账号了，一直说我密码错误"
        },
        {
            "author": "a6513375",
            "timestamp": 1581914520,
            "txt_content": " 本帖最后由 a6513375 于 2020-2-17 12:45 编辑 \n\n为啥在1.14.4用不了back\n他就只会输出个你将会在3秒后传送回上一个地点\n然后并没有任何反应??我看了下计分板 死亡的xyz都记录了 就是不会tp到marker"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1582026240,
            "txt_content": "南派董卓 发表于 2020-2-5 14:06\ndalao能1更新到1.15.2吗\n可以直接使用的"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1582026300,
            "txt_content": "Ultra_Greedier 发表于 2020-2-11 11:44\n这个插件在我关闭了配置文件的功能之后依然会出现。。。而且我还无法登陆我自己的账号了，一直说我密码错误 ...\n配置文件是admin:reset重置的时候加载的，如果需要关闭，则需要login:change_state来进行单独的关闭"
        },
        {
            "author": "a6513375",
            "timestamp": 1582031040,
            "txt_content": " 本帖最后由 a6513375 于 2020-2-19 12:31 编辑 \nHerobrineXia 发表于 2020-2-18 19:45\n配置文件是admin:reset重置的时候加载的，如果需要关闭，则需要login:change_state来进行单独的关闭 ...\n草(一种植物)打脸了 我reset一下再把back开了就好了\n\nback操作还是无效 :(\n\n\n\n\nQQ截图20200218210241.png (39.45 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-18 21:03 上传\n\n\n\n\n\n\n还有个Bug 注册的时候不输入任何密码点 完 成 都可以注册\n\n完成是屏蔽词?\n\n还有 这是啥\n\n\n\n\n\nQQ图片20200219123040.png (69.96 KB, 下载次数: 1)\n\n下载附件\n\n2020-2-19 12:31 上传\n\n\n\n\n\n\n\n"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1582109760,
            "txt_content": "a6513375 发表于 2020-2-18 21:04\n草(一种植物)打脸了 我reset一下再把back开了就好了\n\n\n没设置不让用空密码，然后那个盔甲架你data get一下，理论上所有的盔甲架都会在操作完被kill掉的。"
        },
        {
            "author": "a6513375",
            "timestamp": 1582112460,
            "txt_content": " 本帖最后由 a6513375 于 2020-2-20 08:35 编辑 \nHerobrineXia 发表于 2020-2-19 18:56\n没设置不让用空密码，然后那个盔甲架你data get一下，理论上所有的盔甲架都会在操作完被kill掉的。 ...\n1.看我那个截图 我开旁观发现一堆盔甲架在飞\n\n2.每次玩家进入地图服务器后台都会报错\n\n\n\n\n20200219203037.png (340.93 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-20 08:34 上传\n\n\n\n\n\n\n"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1582345440,
            "txt_content": "a6513375 发表于 2020-2-19 19:41\n1.看我那个截图 我开旁观发现一堆盔甲架在飞\n\n2.每次玩家进入地图服务器后台都会报错\n不是，你data get 一下盔甲架的nbt，不然我不知道是哪个插件出的问题，然后你用的是哪个服务端，原版么？"
        },
        {
            "author": "a6513375",
            "timestamp": 1582373280,
            "txt_content": " 本帖最后由 a6513375 于 2020-2-22 20:19 编辑 \nHerobrineXia 发表于 2020-2-22 12:24\n不是，你data get 一下盔甲架的nbt，不然我不知道是哪个插件出的问题，然后你用的是哪个服务端，原版么？ ...\n版本是 原版1.14.4 +Fabric \n\nnbt咋Get？\n\n\n\n\nQQ截图20200222201618.png (12.91 KB, 下载次数: 0)\n\n下载附件\n\n2020-2-22 20:18 上传\n\n\n\n\n\n\n草(一种植物)什么鬼\n"
        },
        {
            "author": "印度小仨",
            "timestamp": 1582463400,
            "txt_content": "这个不错啊，值得一观，作者给了我很大的灵感！~"
        },
        {
            "author": "⑨",
            "timestamp": 1583492520,
            "txt_content": "1.16最新版20w10a里 绝大多数功能正常使用 后台会刷报错\n如果可以完全兼容下最新的快照就更好了 因为有登录功能 所以可以放心的开离线模式服务器"
        },
        {
            "author": "Y制杖杖",
            "timestamp": 1583535600,
            "txt_content": "为什么不用load标签呢"
        },
        {
            "author": "justlook",
            "timestamp": 1583641260,
            "txt_content": "为什么我的用不了，1.15.2版本的，显示未知命令，未知的加分项"
        },
        {
            "author": "lun_yi~",
            "timestamp": 1583810820,
            "txt_content": "请问为什么要分成很多个数据包 毕竟每个数据包只有一个命名空间a，放在一个数据包里多个命名空间就好了，这样安装数据包就只用复制一个就好了，不会弄错。。。  小小小意见"
        },
        {
            "author": "陈皮_no橘皮",
            "timestamp": 1584238200,
            "txt_content": "苦力怕防炸是f*ck_creeper海星"
        },
        {
            "author": "hjpo",
            "timestamp": 1584506220,
            "txt_content": "问一下我的版本是1.15.2，按照要求装进datapack并且删除macox文件夹后打指令显示未知的命令"
        },
        {
            "author": "li14546444",
            "timestamp": 1587891240,
            "txt_content": "怎么重置玩家密码"
        },
        {
            "author": "li14546444",
            "timestamp": 1587892080,
            "txt_content": "怎么找回密码"
        },
        {
            "author": "li14546444",
            "timestamp": 1587892380,
            "txt_content": "为什么有3个给白名单的"
        },
        {
            "author": "li14546444",
            "timestamp": 1587893100,
            "txt_content": "给白名单有什么用  不用给不是登录就也能进去吗"
        },
        {
            "author": "li14546444",
            "timestamp": 1587895080,
            "txt_content": "为什么再文件修改为 -1后还是有登录"
        },
        {
            "author": "li14546444",
            "timestamp": 1587904440,
            "txt_content": "ss8913 发表于 2019-4-30 21:18\nback的指令是不是有问题？为什么我打trigger back显示不能触发计分项\n一样我也是这样 我还以为是我的电脑问题"
        },
        {
            "author": "li14546444",
            "timestamp": 1587906480,
            "txt_content": "苦力怕爆炸虽然不破坏地形但是没伤害"
        },
        {
            "author": "li14546444",
            "timestamp": 1587945840,
            "txt_content": "为什么点接受TP显示  你无法触发此计分项  自动拒绝"
        },
        {
            "author": "li14546444",
            "timestamp": 1587947100,
            "txt_content": "怎么关闭血量显示啊"
        },
        {
            "author": "Jun_Shen",
            "timestamp": 1587999600,
            "txt_content": "dalao显血该如何关闭 被杀显示不了被什么杀 不舒服 而且怪多的时候有点掉帧"
        },
        {
            "author": "ling_luan",
            "timestamp": 1588319520,
            "txt_content": "很好的模组，大佬加油"
        },
        {
            "author": "liangcha2009",
            "timestamp": 1592098740,
            "txt_content": "看不懂...QAQ"
        },
        {
            "author": "金色_年华",
            "timestamp": 1593143940,
            "txt_content": "ruhuasiyu 发表于 2019-2-3 08:49\n夏tql!\n其实我觉得像显示伤害和游戏时间或许可以用trigger damage_system_on/off和time_on/off，应该比set/ ...\n避免账户冒用?"
        },
        {
            "author": "gubanianchen",
            "timestamp": 1593156180,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "13626464852",
            "timestamp": 1594774020,
            "txt_content": "MCBBS有你更精彩~"
        },
        {
            "author": "kunkun520",
            "timestamp": 1596026160,
            "txt_content": "mcbbs有你更精彩！！"
        },
        {
            "author": "AzZ丶FaFa",
            "timestamp": 1596078300,
            "txt_content": "希望尽快出1.16的"
        },
        {
            "author": "18736420538",
            "timestamp": 1599900180,
            "txt_content": "玩家在未登陆时同样可以使用指令更改密码 这导致密码系统完全会变成摆设、、 有什么方法可以解决吗？"
        },
        {
            "author": "judah_qiezi",
            "timestamp": 1601195100,
            "txt_content": "啊啊啊，这个要怎么复制呀"
        },
        {
            "author": "夕阳红熊猫",
            "timestamp": 1602380280,
            "txt_content": "这个插件我感觉挺实用的，睡觉不需要雷达消失术了=w="
        },
        {
            "author": "⑨",
            "timestamp": 1602937140,
            "txt_content": " 本帖最后由 ⑨ 于 2020-10-17 20:21 编辑 \n\n更新一下1.16\n1.16跨纬度home不会去正确的地方\n可能会在空中 可能会在地下窒息\n什么奇怪的bug\n\n最好添加一下例外（没有编号的）\n地毯服可以/player挂区块 我想让一些名字的玩家没有编号（可以指定名字\n\n增加一下sethome的数量（可配置\n还有warp地标传送功能(一个玩家设置一个地标/op可以无限制设置地标"
        },
        {
            "author": "HerobrineXia",
            "timestamp": 1603027620,
            "txt_content": "⑨ 发表于 2020-10-17 20:19\n更新一下1.16\n1.16跨纬度home不会去正确的地方\n可能会在空中 可能会在地下窒息\n1.16的维度nbt改了，正在尝试支持自定义为维度，不过短时间可能不太行，因此暂时未更新home的1.16版本\nsethome之后可能会考虑多维度\nwarp在后续版本会做\n更新时间暂定寒假"
        }
    ]
}