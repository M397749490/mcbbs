{
    "title": "[已解决]vault为前置 获取权限失败了 报错",
    "author": "塑梦都",
    "replyCount": 6,
    "timestamp": 1587550380,
    "txt_content": " 本帖最后由 塑梦都 于 2020-4-23 10:29 编辑 \n\n\n\n\n\nQQ图片20200422181016.png (35.63 KB, 下载次数: 0)\n\n下载附件\n\n2020-4-22 18:12 上传\n\n\n\n\n\n\n\n1.yml\n(1.59 KB, 下载次数: 0)\n\n\n\n2020-4-22 18:12 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n[16:55:13] [Server thread/ERROR]: Error occurred while enabling ceshijar v1.0-SNAPSHOT (Is it up to date?)\njava.lang.NullPointerException: null\n        at me.d5001.dreamcity.ceshijar.setupPermissions(ceshijar.java:39) ~[?:?]\n        at me.d5001.dreamcity.ceshijar.onEnable(ceshijar.java:29) ~[?:?]\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:264) ~[PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:316) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:405) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:387) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:336) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.t(MinecraftServer.java:442) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.l(MinecraftServer.java:403) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.a(MinecraftServer.java:341) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at net.minecraft.server.v1_12_R1.DedicatedServer.init(DedicatedServer.java:292) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at net.minecraft.server.v1_12_R1.MinecraftServer.run(MinecraftServer.java:616) [PaperSpigot-1.12.2.jar:git-Paper-1322]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_191]\n[16:55:13] [Server thread/INFO]: [ceshijar] Disabling ceshijar v1.0-SNAPSHOT\n\n\n这个直接报错了就 没有提示 是否载入插件 安装了 Essentials和 GM权限组\n\n    if (!setupPermissions() ) {\n        System.out.println(\"并没有找到权限插件\");\n    }else {\n        System.out.println(\"权限插件成功载入\");\n    }\n\n}\n\nprivate boolean setupPermissions() {\n    RegisteredServiceProvider<Permission> rsp = getServer().getServicesManager().getRegistration(Permission.class);\n    Permission perms = rsp.getProvider();\n    return perms != null;\n}\n",
    "replies": [
        {
            "author": "Sssss...",
            "timestamp": 1587551280,
            "txt_content": "ceshijar.java的39行是什么\n\n你为什么不用大写字母开头？还有你对java文件的命名方式好奇怪"
        },
        {
            "author": "塑梦都",
            "timestamp": 1587551340,
            "txt_content": " 本帖最后由 塑梦都 于 2020-4-22 18:34 编辑 \nSssss... 发表于 2020-4-22 18:28\nceshijar.java的39行是什么\n\n你为什么不用大写字母开头？还有你对java文件的命名方式好奇怪 ...\n       Permission perms = rsp.getProvider();\n这个是39行 如果去掉Permission 就是vault给的原本的样子 Permission是因为有错误加上去的\n\n\n\nif (!setupPermissions() ) {\n这是29行\n我命名很随便的\n\n\n"
        },
        {
            "author": "瘟疫威胁全世界",
            "timestamp": 1587553680,
            "txt_content": "塑梦都 发表于 2020-4-22 18:29\nPermission perms = rsp.getProvider();\n这个是39行 如果去掉Permission 就是vault给的原本的样子  ...\nPermission改成全局变量"
        },
        {
            "author": "塑梦都",
            "timestamp": 1587608040,
            "txt_content": "瘟疫威胁全世界 发表于 2020-4-22 19:08\nPermission改成全局变量\n让 Permission 为全局变量？？ 有点不懂…… 是Perms 还是 Permission"
        },
        {
            "author": "塑梦都",
            "timestamp": 1587608880,
            "txt_content": "解决方法：\n不要用 自动的 import\n要用VaultApi给的 import net.milkbowl.vault.permission.Permission;"
        },
        {
            "author": "瘟疫威胁全世界",
            "timestamp": 1587610800,
            "txt_content": "塑梦都 发表于 2020-4-23 10:14\n让 Permission 为全局变量？？ 有点不懂…… 是Perms 还是 Permission\n就是·Perms"
        }
    ]
}