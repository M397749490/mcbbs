{
    "title": "如何做到用命令探测盔甲架手持物品？",
    "author": "388498173",
    "replyCount": 15,
    "timestamp": 1573915320,
    "txt_content": "如题。我想让两只盔甲架，当他们只有一个手持绊线钩，另一个手持鳕鱼桶，就会给玩家一个绊线钩和鳕鱼，同时两个盔甲架失去手持物品。\nexecute as @e[type=armor_stand,limit=1,sort=nearest,distance=..2,tag=crafting_table,nbt={HandItems:[{id:\"minecraft:tripwire_hook\",Count:1b,tag:{display:{Name:'{\"color\":\"green\",\"translate\":\"开罐器\"}',Lore:['\"可以用来打开鱼罐头之类的食品。\"']}}}]}] as @e[type=armor_stand,limit=1,sort=nearest,distance=..2,tag=crafting_table,nbt={HandItems:[{id:\"minecraft:cod_bucket\",Count:1b,tag:{display:{Name:'\"鳕鱼罐头\"',Lore:['\"里面装着一只好吃的鳕鱼。\"']}}}]}]复制代码这条指令有什么问题呢？我搞了好久都不能探测到。在function里。",
    "replies": [
        {
            "author": "MC深坑不回头",
            "timestamp": 1573915320,
            "txt_content": "388498173 发表于 2019-11-28 21:56\n重新试了一下，发现没问题。但是有没有省空间的做法？\n是指不用命令方块吗?将放在循环侦测命令方块放在循环执行的function内即可，取名为tick.json，并放在\n.minecraft\\saves\\地图档名\\datapacks\\资料包名\\data\\main\\functions\n里面，\n另外在\n.minecraft\\saves\\地图档名\\datapacks\\资料包名\\data\\minecraft\\tags\\functions里面，新建档案tick.json，里面输入:\n\n\n{\n    \"values\": [\n        \"main:tick\"\n    ]\n}\n\n\n就能让地图自动循环main:tick这个function了。\n\n\n上面蓝色/橘色路径或档名有改动，记得要一起改成相同的。\n\n"
        },
        {
            "author": "xmdhs",
            "timestamp": 1573916700,
            "txt_content": "@e[type=armor_stand,limit=1,sort=nearest,distance=..2,tag=crafting_table\n\n这样探测的应该会是同一个盔甲架吧，分成两个命令运行怎么样\n\n"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1573917480,
            "txt_content": "我这里正常？\nexecute as @e[type=armor_stand,limit=1,sort=nearest,distance=..2,tag=crafting_table,nbt={HandItems:[{id:\"minecraft:tripwire_hook\",Count:1b,tag:{display:{Name:'{\"color\":\"green\",\"translate\":\"开罐器\"}',Lore:['\"可以用来打开鱼罐头之类的食品。\"']}}}]}] as @e[type=armor_stand,limit=1,sort=nearest,distance=..2,tag=crafting_table,nbt={HandItems:[{id:\"minecraft:cod_bucket\",Count:1b,tag:{display:{Name:'\"鳕鱼罐头\"',Lore:['\"里面装着一只好吃的鳕鱼。\"']}}}]}] run say 1\n\n\n\n\n2019-11-16_23.13.16.png (165.87 KB, 下载次数: 0)\n\n下载附件\n\n2019-11-16 23:15 上传\n\n\n\n\n\n\n\n推测可能原因：\n两个as子命令都指定了一个参数distance，可能因为命令执行地点距离这个盔甲架超过2格导致检测不成功。修改方法为：\nexecute as @e[type=armor_stand,limit=1,sort=nearest,tag=crafting_table,nbt={HandItems:[{id:\"minecraft:tripwire_hook\",Count:1b,tag:{display:{Name:'{\"color\":\"green\",\"translate\":\"开罐器\"}',Lore:['\"可以用来打开鱼罐头之类的食品。\"']}}}]}] at @s as @e[type=armor_stand,limit=1,sort=nearest,distance=..2,tag=crafting_table,nbt={HandItems:[{id:\"minecraft:cod_bucket\",Count:1b,tag:{display:{Name:'\"鳕鱼罐头\"',Lore:['\"里面装着一只好吃的鳕鱼。\"']}}}]}] run say 1\n删去了第一个as子命令的distance参数，并在两个as参数之间添加了at @s子命令"
        },
        {
            "author": "388498173",
            "timestamp": 1573967280,
            "txt_content": "CHElover_C60 发表于 2019-11-16 23:18\n我这里正常？\nexecute as @e[type=armor_stand,limit=1,sort=nearest,distance=..2,tag=crafting_table,nbt ...\n还是不行啊！顺便一提我拿的是高频，这个高频在给了玩家物品之后就会清空盔甲架的手持物品。"
        },
        {
            "author": "388498173",
            "timestamp": 1573974240,
            "txt_content": "388498173 发表于 2019-11-17 13:08\n还是不行啊！顺便一提我拿的是高频，这个高频在给了玩家物品之后就会清空盔甲架的手持物品。 ...\n我是用function的方式，把上面那条指令记在记事本里面，记事本的后缀格式是.mcfunction，把它放在了datapack里面。然后用命令方块高频执行/function指令"
        },
        {
            "author": "chyx",
            "timestamp": 1573995060,
            "txt_content": "388498173 发表于 2019-11-17 15:04\n我是用function的方式，把上面那条指令记在记事本里面，记事本的后缀格式是.mcfunction，把它放在了datap ...\n是不是因为有bom？\n必须utf-8无bom"
        },
        {
            "author": "388498173",
            "timestamp": 1573995480,
            "txt_content": "chyx 发表于 2019-11-17 20:51\n是不是因为有bom？\n必须utf-8无bom\nbom是什么东西？"
        },
        {
            "author": "MC深坑不回头",
            "timestamp": 1574076240,
            "txt_content": "可以测试一下该function只放入一条命令如say hi!，看能否正确运作。\n若仍不能执行，就有可能是该档放放错文件夹，或编码不正确(要是UTF-8码 无BOM档首)，或该资料包没被正确读取。\n若可成功运作执行，那么问题有可能在命令的顺序上。如可以的话就贴上所有相关命令吧。\n\n\n记事本要存档时，选择存放路径的视窗有个编码的下拉选单，里面要选UTF-8才能正确被MINECRAFT读取到。"
        },
        {
            "author": "388498173",
            "timestamp": 1574170920,
            "txt_content": "MC深坑不回头 发表于 2019-11-18 19:24\n可以测试一下该function只放入一条命令如say hi!，看能否正确运作。\n若仍不能执行，就有可能是该档放放错文 ...\n能成功读取。但是执行不了啊"
        },
        {
            "author": "MC深坑不回头",
            "timestamp": 1574176320,
            "txt_content": "有需要用到translate吗? 因为我改下变成text就能运作嘞\n(  1.14.4  )\n还是你用我的指令，下面这一条放入高频侦测方块:\nexecute as @e[tag=crafting_table,limit=1,nbt={HandItems:[{id:\"minecraft:tripwire_hook\",Count:1b,tag:{display:{Name:'{\"color\":\"green\", \"text\":\"开罐器\"}',Lore:['\"可以用来打开鱼罐头之类的食品。\"']}}},{id:\"minecraft:cod_bucket\",Count:1b,tag: {display:{Name:'\"鳕鱼罐头\"',Lore:['\"里面装着一只好吃的鳕鱼。\"']}}}]}] run function main:aabb\n\n\n意思是当侦测到当有一个有crafting_table标签的盔甲座手上有楼主指定的物品时，会执行main资料夹下的function 名为aabb\n\n\naabb的function里面放这三条命令:\ngive @p minecraft:tripwire_hook 1\ngive @p minecraft:cod 1\n\ndata merge entity @e[tag=crafting_table,limit=1] {HandItems:[{},{}]}\n\n\n放置function的路径:\n.minecraft\\saves\\地图档名\\datapacks\\资料包名\\data\\main\\functions\n\n\n你直接复制贴上试看看，应是可运作的。\n"
        },
        {
            "author": "Chelover_C60",
            "timestamp": 1574250660,
            "txt_content": "388498173 发表于 2019-11-17 20:58\nbom是什么东西？\nutf8无bom   是一种编码格式，可能因为记事本的编码格式不是这种格式导致游戏读取有问题。如果不会修改的话，可以试着避免使用中文"
        },
        {
            "author": "388498173",
            "timestamp": 1574497620,
            "txt_content": "MC深坑不回头 发表于 2019-11-19 23:12\n有需要用到translate吗? 因为我改下变成text就能运作嘞\n(  1.14.4  )\n还是你用我的指令，下面这一条放入高 ...\nOK！我试试看！"
        },
        {
            "author": "388498173",
            "timestamp": 1574552940,
            "txt_content": "MC深坑不回头 发表于 2019-11-19 23:12\n有需要用到translate吗? 因为我改下变成text就能运作嘞\n(  1.14.4  )\n还是你用我的指令，下面这一条放入高 ...\n还是不行啊！没有反应啊！"
        },
        {
            "author": "MC深坑不回头",
            "timestamp": 1574577420,
            "txt_content": "388498173 发表于 2019-11-24 07:49\n还是不行啊！没有反应啊！\n还是你资料包发上来我看看究竟怎么了"
        },
        {
            "author": "388498173",
            "timestamp": 1574949360,
            "txt_content": "MC深坑不回头 发表于 2019-11-24 14:37\n还是你资料包发上来我看看究竟怎么了\n重新试了一下，发现没问题。但是有没有省空间的做法？"
        }
    ]
}