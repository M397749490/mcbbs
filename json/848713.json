{
    "title": "[Custom NPCs] 自定义NPC模组 - 从入门到精通（施工中）",
    "author": "SLPP",
    "replyCount": 51,
    "timestamp": 1552809960,
    "txt_content": " 本帖最后由 SLPP 于 2020-4-30 21:50 编辑 \n\n注意：本教程正在持续更新。图片等教程告一段落后补充。\n注意：本文章内容使用的模组版本是1.12.2(30Jan19)(30May19快照版)(01Oct19)(08Jan20快照版)。Forge版本为14.23.5.27952768。\n注意：此教程不提供对部分极易理解的参数及内容的解释。\n最新正式版下载（01Oct19，2019-10-01）\n快照版请到模组作者Noppes的Discord服务器下载。\n\n最后更新日期：2020-04-30\n\n0. 准备工作（MDZZ为什么第一个分页符是第二页。摔！）安装模组\n最新的自定义NPC模组可以在作者的官网下载页面下载。把下载的文件放入带有Forge的MC的\\.minecraft\\mods文件夹中启动游戏即可。\nForge的安装请参考论坛中的相关教程贴（作者懒）。\n\n模组的物品\n模组里的物品不能直接在创造物品栏中的MC原版物品选项卡中找到，需要翻到后面几页。如下图，点击物品栏上方的右箭头可进入物品栏下一页。自定义NPC模组内的所有物品均能在“自定义NPC工具”这个选项卡下找到。\n\n\n\n\nQQ截图20190303154325.png (140.8 KB, 下载次数: 0)\n\n下载附件\n\n物品栏翻页\n2019-3-3 15:42 上传\n\n\n\n\n\n\n\n\nQQ截图20190303155513.png (80.54 KB, 下载次数: 0)\n\n下载附件\n\n自定义NPC工具选项卡\n2019-3-3 15:55 上传\n\n\n\n\n\n\n\n1.1. Npc魔杖（Npc Wand） - 导航界面Npc魔杖云杉木锄Npc魔杖用于创建、修改和删除NPC。\nNpc魔杖有两个界面：导航界面和编辑界面。\n导航界面玩家拿着魔杖右击空气或某非NPC实体，会打开魔杖的导航界面。导航界面中会显示附近的Npc的列表。每个NPC以“距离：名称”的形式显示在列表中。通过导航界面，玩家可以方便地打开编辑界面以及删除、重置、传送至某附近的NPC。\n在导航界面中，玩家可以冻结NPC（Freeze Npcs）或解冻NPC（Unfreeze Npcs），冻结后，所有Npc将会进入鬼畜模式失去AI且无法移动及被推动。\n注意：离开单人世界之前建议使NPC处于解冻状态。若NPC在单人世界中保持冻结状态，玩家将无法在多人世界中观察到多人世界里NPC的移动。\n\n1.2.1. 编辑界面 - 外形设置编辑界面玩家拿着Npc魔杖右击某NPC，会打开该NPC的编辑界面。或当玩家拿着Npc魔杖右击某方块时，会在该方块上方两格创建一个NPC，并自动打开该NPC的编辑界面。\n注意：全局设置不属于正在设置的NPC，而是整个存档的全局设置。外形设置名称：NPC头顶上显示的名称。称号（旧版翻译“标题”）：NPC名称下方以一对尖括号“<>”括起来的称号或头衔。模型：修改NPC的模型，详见下文。材质：材质右边的按钮可以切换材质来源，可以切换为“材质”（本地材质，点击“选择”可以进行列表选择）、“玩家”（正版玩家材质，在输入框中指定正版玩家名可以获取该玩家的皮肤）、“Url”（网络材质，在输入框中指定链接可以获取网络上的图片）。有活力的动画（旧版翻译“有活力的”）：设为“否”后，该NPC的手臂在空闲状态下不会自然摆动。色调（Tint）：材质的色调。可见（旧版翻译“是否可见”）：该选项设为“否”时仍能被手持Npc魔杖的玩家看到。Statue（雕像，旧版）：是否具有AI。若设为否，该NPC将无法移动、攻击、交互、被推动（但仍具有碰撞箱且会推开附近的实体），甚至不能被Npc魔杖选中（但仍能通过导航界面进入编辑界面）。Interactable（可以交互）：是否具有AI。若设为否，该NPC将无法移动、攻击、交互、被推动（但仍具有无限小的碰撞箱且会推开附近的实体），甚至不能被Npc魔杖选中（但仍能通过导航界面进入编辑界面）。颜色：指Boss条颜色。\n\n特别提示：Mod作者把“Interactable”（可以交互）错打成“Intractable”啦，学英语的孩子们不要被误导哦。\n\n外形设置 - 模型打开“模型”界面之后，默认弹出的是“Parts”（部位）选择器，这个选择器提供所有已安装的NPC部位修改器。默认安装了的部位修改器有Beard（胡须）、Breasts（胸）、Claws（爪子）、Ears（耳朵）、Eyes（眼睛，里面的Eyelid（眼皮）指的是眨眼时露出的眼皮颜色）、Fin（鳍）、Hair（头发）、Horns（角）、Legs（腿）、Mohawk（莫西干式发型）、Particles（粒子效果）、Skirt（裙子）、Snout（鼻子）、Tail（尾巴）和Wings（翅膀）。更多的模型修改器可以通过下载同一模组作者的More Player Models模组装载【划线部分待验证】。“Scale”（缩放）修改器可以修改NPC模型中每个立方体的大小，这里就不详述了（懒）。“Entity”（实体）修改器可以选择大部分实体的模型作为这个NPC的模型。注意除了“NPC”这个实体外，其它的实体均没有部位修改器和缩放修改器。不过有些实体具有“Extra”（额外）修改器，这个自己尝试一下就懂了（懒）。\n\n\n1.2.2. 属性设置主动攻击范围：NPC的AI对周围生物进行敌对识别的范围。重生：当更改为自然地（Naturally）时，该NPC会在其所在区块被卸载时自动删除。另外，无论“隐藏尸体”是否打开，NPC的尸体都会有一个无限小的碰撞箱，能推开旁边的实体。近战选项：“近战攻击距离”通俗来讲就是指定NPC的手有多长。注意，“近战攻击速度”指定的是每次近战攻击之间延迟的时间（以游戏刻为单位，1秒=20游戏刻），而不是字面意义上的“速度”（下面说到的“最快攻速”等都是同指冷却时间）。“击退”的效果非常强，建议尽量少用。“攻击效果”中的“增益”指定效果的等级，“0”代表1级，“1”代表2级，以此类推。远程选项：NPC的远程攻击分为两个状态：第一部分为冷却状态，该状态中NPC不会进行远程攻击，而是等待冷却时间过去，冷却时间取“最快攻速”与“最慢攻速”间的一个随机值；冷却完后进入第二状态连射状态，NPC会每隔“连发间隔”个游戏刻（1游戏刻=0.05秒）发射“单次射击弹药量”个子弹，共发射“连发次数”次，完成后重新进入冷却状态。NPC物品栏中的“弹药”格必须有物品远程攻击才会生效。“近战攻击距离”指NPC近战和远程的切换距离，一般设为与“近战选项”中的“近战攻击距离”一样。当“射击时瞄准”（Aim While Shooting）启用时，NPC在远程战斗状态下双臂会举起做瞄准状。当“间接射击方式”（ShootIndirect）设为“当距离远时”（WhenDistant）时，NPC会在目标过远时计算弹道抛物线；当设为“当目标躲藏时”（WhenHidden）时，NPC会在目标躲进掩体无法直接瞄准的情况下计算弹道抛物线。弹药类型：“力量”指单发弹药伤害。“尺寸”指弹药实体碰撞箱及材质大小。“速度”指弹药发射时的速度。“冲击”指击中目标时给予目标的击退效果，同样建议少用。抗性提升：此选项里面的Explosion（旧版，新版已翻译）指爆炸抗性。PotionImmune（旧版，新版已翻译）：药水免疫。正常生命恢复：当NPC不在攻击状态时每秒回复的生命值。\n战斗时生命恢复（旧版翻译“受攻击生命恢复”）：当NPC在攻击状态时每秒回复的生命值。\n\n\n1.2.3. AI必须看到目标（Must See Entity，准确翻译：必定锁定目标，代码变量名：AttackLOS，即Attack Lost of Sight，攻击无法看到的实体）：该选项设为“是”且启用了“保护己方队友”时，当NPC所处阵营有队友受到攻击，无论该NPC是否看见了进攻对象，都会锁定目标。而设为“否”时，NPC不会攻击不在视野内的目标。攻击隐身实体（Attack Invisible）：指定NPC是否能看到带有隐身药水效果的目标。值得一提的是，给NPC投掷隐身药水并不会使其隐形，但也被该选项判定为隐形。跃向目标（旧版翻译“冲向目标”）：当NPC离目标还有一段距离时，NPC会快速向目标方向跃进一段距离，无论水平方向还是垂直方向都能跃进。拥有该属性的NPC能够向上跳到5格高的塔上攻击塔上的目标。战术变换：详见下文。\n\n\nAI - 战术变换\n突袭：直接冲向目标进行攻击。闪避：在“交互距离”（Engaged Distance）外，接近目标的同时，对弹射物进行躲闪。恕我直言此AI非常笨，躲开弹射物的几率不高。包围：近战时，以“轨道距离”（Orbit Distance）为半径，环绕目标移动，等待对手使用远程攻击后【划线部分待验证】切换为突袭方式进攻。远程攻击时，以“远程攻击距离”为半径（此时“轨道半径”无效），环绕目标进行风筝远程射击。攻击&逃跑（Hit&Run）：当目标进入“攻击距离”（Fight If This Close）时，对目标进行攻击，当目标离开此范围后逃跑。伏击：如果目标在“伏击距离”（Ambush Distance）外，NPC会寻找一个合适的伏击点伏击目标。当目标进入“伏击距离”时切换为突袭方式进攻。恕我直言此AI也非常笨，还会躲在栏杆后面，而且还以为别人看不到。偷袭：如果目标在“伏击距离”外，NPC会寻找掩蔽物躲开目标的视线。当目标进入“伏击距离”时切换为突袭方式进攻。和伏击不一样的是，目标离开“伏击距离”后NPC会重新寻找偷袭点而不会继续追击。和伏击一样的是，找伏击点照样那么笨。\n\n\n1.2.4 高级设置（咦，物品设置呢？算了管它呢反正大家都看得懂嘻嘻嘻）身份商人：“忽略损害值”即忽略武器、防具、工具的耐久度以及方块的变种（如石英块、錾制石英块和竖纹石英块会被视为同一种物品）。“忽略NBT”即忽略武器、防具、工具的附魔等属性。带有相同“同步交易标签”（Linked Marketname）的商人NPC，更改商品时会同步更改。雇佣随从：左方的三个物品栏是雇佣费用，“禁用界面”会禁止雇佣者打开NPC的操作界面（能存放物品，更改雇佣随从NPC行动状态的界面），大师球灵魂之石将会在下文讲到。储存者：即许多RPG游戏里的“仓管员”，用于打开“仓库”。储存档案可以在全局设置里更改，这个将在下文中讲到。传送师：文本框用于输入传送点的名称，右边的列表用于选择传送组。带有不同传送组的NPC传送师之间不能互相传送。传送组可以在全局设置里的传送档案更改，这个将在下文中讲到。信使：寄出玩家写给其它玩家的信的NPC。信将会在下文的“邮箱”中讲到。伴侣（Companion(WIP)，WIP，即Work In Progress，表示未完成的功能）：未知，等Mod作者完工吧。\n对话不讲了吧（懒）。\n【更新中……】\n\n\n",
    "replies": [
        {
            "author": "卢大爷",
            "timestamp": 1553055420,
            "txt_content": "有个问题请教下，阵营的话，创建了第5个的时候，个人友好度栏里就看不到那个阵营了，设置里面又是有的"
        },
        {
            "author": "MC_萝卜",
            "timestamp": 1553079420,
            "txt_content": "您好 是否有活力是指npc静止时是否会像玩家那样有胳膊的摆动"
        },
        {
            "author": "SLPP",
            "timestamp": 1553414820,
            "txt_content": "MC_萝卜 发表于 2019-3-20 18:57\n您好 是否有活力是指npc静止时是否会像玩家那样有胳膊的摆动\n哇，感谢告知"
        },
        {
            "author": "SLPP",
            "timestamp": 1553414880,
            "txt_content": "卢大爷 发表于 2019-3-20 12:17\n有个问题请教下，阵营的话，创建了第5个的时候，个人友好度栏里就看不到那个阵营了，设置里面又是有的 ...\n测试过了，可以看到的，请在教程正文的“准备工作”中下载模组的最新版本（1.12.2  30Jan19）"
        },
        {
            "author": "天空y666",
            "timestamp": 1553426340,
            "txt_content": "感谢楼主"
        },
        {
            "author": "英雄的梦",
            "timestamp": 1555553760,
            "txt_content": "哇  可以替换NPC导入MMD吗"
        },
        {
            "author": "1245892483",
            "timestamp": 1556237460,
            "txt_content": "npcmod 的指定击杀能设置宝可梦吗"
        },
        {
            "author": "pao_",
            "timestamp": 1556853960,
            "txt_content": "感谢大大的教程！！！"
        },
        {
            "author": "SLPP",
            "timestamp": 1563689040,
            "txt_content": "更新2019-07-20"
        },
        {
            "author": "SLPP",
            "timestamp": 1563794520,
            "txt_content": "英雄的梦 发表于 2019-4-18 10:16\n哇  可以替换NPC导入MMD吗\n这个不清楚哦，我只知道CustomSteve（CS）可以导入MMD，但是我测试过CustomNpcs 1.10.2无法读取CS的模型，1.12.2版本没有尝试，因为CS还没有1.12.2版本"
        },
        {
            "author": "SLPP",
            "timestamp": 1563794580,
            "txt_content": "1245892483 发表于 2019-4-26 08:11\nnpcmod 的指定击杀能设置宝可梦吗\n应该是可以的，实在不行可以用脚本实现"
        },
        {
            "author": "Chainsaw",
            "timestamp": 1564389240,
            "txt_content": "感谢楼主，非常感谢"
        },
        {
            "author": "1337996350",
            "timestamp": 1564452480,
            "txt_content": "\n感谢大大的教程！！！"
        },
        {
            "author": "ying6846",
            "timestamp": 1564807800,
            "txt_content": "感谢大佬"
        },
        {
            "author": "ccci",
            "timestamp": 1565448180,
            "txt_content": "怎么让创建的NPC的身体部位进行固定，就像有的地图里面的盔甲架一样动作可以固定的五花八门的？"
        },
        {
            "author": "SLPP",
            "timestamp": 1565790480,
            "txt_content": "ccci 发表于 2019-8-10 22:43\n怎么让创建的NPC的身体部位进行固定，就像有的地图里面的盔甲架一样动作可以固定的五花八门的？ ...\n将NPC的职业改为“木偶”（Puppet）并在旁边的编辑按钮中调整动作。\n注意：如果要想NPC固定不动，还需要把“AI”中“移动方式”里的“旋转”改为“手动”，旁边有个文本框可以设置朝向。"
        },
        {
            "author": "2509176342",
            "timestamp": 1567762380,
            "txt_content": "快照版无法进入 ，但可以进外国网站"
        },
        {
            "author": "淑芳",
            "timestamp": 1567855380,
            "txt_content": "教程非常不错，但是我磕破脑子到处翻都没找到你这个快照版是哪里弄来的！"
        },
        {
            "author": "团子是只猪",
            "timestamp": 1568379480,
            "txt_content": "云杉木锄笑死我了"
        },
        {
            "author": "SLPP",
            "timestamp": 1569133020,
            "txt_content": "淑芳 发表于 2019-9-7 19:23\n教程非常不错，但是我磕破脑子到处翻都没找到你这个快照版是哪里弄来的！ ...\n快照版仅在CNPC模组作者的Discord频道上有，而Discord于2018年7月在中国被屏蔽，因此无法正常访问"
        },
        {
            "author": "2509176342",
            "timestamp": 1573475400,
            "txt_content": "感觉正式版没好到那里去，特殊模型的动作还是没加，与更好的PVP模组依然有冲突，披风也出BUG了，靠近带装备的NPC时依然会嗡嗡的响，所以正式版到底改了什么"
        },
        {
            "author": "1654798741",
            "timestamp": 1573818840,
            "txt_content": "感谢楼主，BBS有您更精彩"
        },
        {
            "author": "1437146345",
            "timestamp": 1573906860,
            "txt_content": "请问1.12.2NPCmod里面的物品（像那些法杖方块那些）去哪了？"
        },
        {
            "author": "SLPP",
            "timestamp": 1573974900,
            "txt_content": "1437146345 发表于 2019-11-16 20:21\n请问1.12.2NPCmod里面的物品（像那些法杖方块那些）去哪了？\n以前在CNPC模组里的方块、武器、防具和杂项物品被其作者整合到了另一个模组Varied Commodities。现在CNPC模组本体只有最基础的功能性方块和工具。"
        },
        {
            "author": "SLPP",
            "timestamp": 1573975140,
            "txt_content": "2509176342 发表于 2019-11-11 20:30\n感觉正式版没好到那里去，特殊模型的动作还是没加，与更好的PVP模组依然有冲突，披风也出BUG了，靠近带装备 ...\n改是当然有改的。不过我看作者最近没有什么修BUG特性的想法，这次正式版只是修了一些非常小的BUG。具体改动了什么可以到作者的Discord频道里的#changelog里看到。"
        },
        {
            "author": "w1453656098",
            "timestamp": 1574485500,
            "txt_content": "教程很详细 谢谢大佬"
        },
        {
            "author": "Skuango",
            "timestamp": 1577683140,
            "txt_content": "NPC设置了对话框就不能用商人了怎么办\n"
        },
        {
            "author": "SLPP",
            "timestamp": 1579489980,
            "txt_content": "Skuango 发表于 2019-12-30 13:19\nNPC设置了对话框就不能用商人了怎么办\n在对话框里添加“打开商店”的选项，把操作设置为“职业设置”即可"
        },
        {
            "author": "Atao229",
            "timestamp": 1580831340,
            "txt_content": "进入地皮的提示如何关闭呢？"
        },
        {
            "author": "安阳先生",
            "timestamp": 1583912160,
            "txt_content": "想知道物品给予者的那个时间冷却是按秒计算还是按分钟计算 那个Daily似乎是游戏里的一天而不是现实里的"
        },
        {
            "author": "heiyouhit",
            "timestamp": 1583986440,
            "txt_content": "1.12.2  “必须看到目标”如果关着的话 NPC不会主动上前攻击 只会原地等敌人进入射程 就算他已经发现敌人但是够不到敌人的情况下  不太清楚为什么这样设定"
        },
        {
            "author": "hlf1234",
            "timestamp": 1584210720,
            "txt_content": "感谢楼主的分享"
        },
        {
            "author": "hlf1234",
            "timestamp": 1584216360,
            "txt_content": "感谢楼主的分享"
        },
        {
            "author": "萌萌哒凋零",
            "timestamp": 1585579680,
            "txt_content": "我有个问题,我是CNPC1.7老玩家,到了1.12之后不知道为什么,设置闪避,包围之类的攻击都没用,npc还是站在原地射箭"
        },
        {
            "author": "爆竹碰碰",
            "timestamp": 1585624080,
            "txt_content": "npc如何设置玩家阵容啊"
        },
        {
            "author": "qiankeshun",
            "timestamp": 1585649220,
            "txt_content": "不错，看起来很好可以试试"
        },
        {
            "author": "Sundys",
            "timestamp": 1587679980,
            "txt_content": "大佬，自定义NPC如何有那些方块和武器？我的自定义npc1.12.2只有魔杖和一些脚本物品"
        },
        {
            "author": "ghyjn",
            "timestamp": 1587725640,
            "txt_content": "问一下楼主阵营好感度怎么加的？"
        },
        {
            "author": "SLPP",
            "timestamp": 1588252740,
            "txt_content": "Atao229 发表于 2020-2-4 23:49\n进入地皮的提示如何关闭呢？\nCNPC里面没有“地皮”的说法吧……"
        },
        {
            "author": "SLPP",
            "timestamp": 1588252980,
            "txt_content": "heiyouhit 发表于 2020-3-12 12:14\n1.12.2  “必须看到目标”如果关着的话 NPC不会主动上前攻击 只会原地等敌人进入射程 就算他已经发现敌人但 ...\n感谢。我去研究了一下，你说得非常接近，但是还有一点不对。我等下会把正确的解释补充到教程正文里。"
        },
        {
            "author": "SLPP",
            "timestamp": 1588253220,
            "txt_content": "萌萌哒凋零 发表于 2020-3-30 22:48\n我有个问题,我是CNPC1.7老玩家,到了1.12之后不知道为什么,设置闪避,包围之类的攻击都没用,npc还是站在原地 ...\n不清楚，把远程攻击里面的攻击距离调低试一下？"
        },
        {
            "author": "SLPP",
            "timestamp": 1588253280,
            "txt_content": "爆竹碰碰 发表于 2020-3-31 11:08\nnpc如何设置玩家阵容啊\n玩家没有阵容选项，只有阵容对玩家的好感度。"
        },
        {
            "author": "SLPP",
            "timestamp": 1588253340,
            "txt_content": "ghyjn 发表于 2020-4-24 18:54\n问一下楼主阵营好感度怎么加的？\n各种地方都有增加/减少的选项，例如任务奖励、对话奖励等等。"
        },
        {
            "author": "SLPP",
            "timestamp": 1588253400,
            "txt_content": " 本帖最后由 SLPP 于 2020-4-30 21:31 编辑 \nSundys 发表于 2020-4-24 06:13\n大佬，自定义NPC如何有那些方块和武器？我的自定义npc1.12.2只有魔杖和一些脚本物品 ...\nCNPC的杂项物品在某个版本之后被作者拆分到了一个叫Varied Commodities的模组。详情请跳转至25楼。"
        },
        {
            "author": "SLPP",
            "timestamp": 1588253580,
            "txt_content": "安阳先生 发表于 2020-3-11 15:36\n想知道物品给予者的那个时间冷却是按秒计算还是按分钟计算 那个Daily似乎是游戏里的一天而不是现实里的 ...\n这个自己试一下就知道了（懒\n注意时间单位还有可能是游戏刻（0.05秒）"
        },
        {
            "author": "SLPP",
            "timestamp": 1588253640,
            "txt_content": "爆竹碰碰 发表于 2020-3-31 11:08\nnpc如何设置玩家阵容啊\n高级里的阵容里面设置"
        },
        {
            "author": "SLPP",
            "timestamp": 1588253640,
            "txt_content": "统一回复完毕（2020-04-30）"
        },
        {
            "author": "fulq",
            "timestamp": 1588327680,
            "txt_content": "萌新感谢楼主"
        },
        {
            "author": "ghyjn",
            "timestamp": 1588338840,
            "txt_content": "SLPP 发表于 2020-4-30 21:29\n各种地方都有增加/减少的选项，例如任务奖励、对话奖励等等。\n那敌对阵营可以加好感度吗"
        },
        {
            "author": "TSC-XC",
            "timestamp": 1589968020,
            "txt_content": "Sundys 发表于 2020-4-24 06:13\n大佬，自定义NPC如何有那些方块和武器？我的自定义npc1.12.2只有魔杖和一些脚本物品 ...\n你那里是1.12.2的（可以加扩展，只是找不到哪里下）"
        },
        {
            "author": "weiqi2008",
            "timestamp": 1590060000,
            "txt_content": "NPC在1.12.2里删减了好多物品\n1.7.10里这玩意和背包编辑器绝配\n1.12.2只能用无限物品编辑器了\n而且。。增加合成表怎么没有效果？"
        }
    ]
}