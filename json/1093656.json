{
    "title": "[插件][CPS]一起来玩小游戏吧——TNTRun插件配置详解",
    "author": "枫黎秋",
    "replyCount": 3,
    "timestamp": 1596520440,
    "txt_content": " 本帖最后由 枫黎秋 于 2020-8-5 10:27 编辑 \n教程介绍\n此教程为TNTRun小游戏插件教程，将会对国内外较为火热的TNTRun插件进行讲解，从插件安装到文件配置，“手把手”地教学习者制作自己的TNTRun小游戏服务端。对于站内小游戏教程较少，此教程也用于弥补此状情况，推动国内小游戏服务器发展。为了便于学习者学习，本教程大多数使用较为通俗易懂的语言，尽量避免专业术语对学习者的困扰\n\n字数统计\n\n\n\n\n\n字数统计.png (16.38 KB, 下载次数: 1)\n\n下载附件\n\n2020-8-4 13:55 上传\n\n\n\n\n\n\n更新日志\n2020/8/4 教程首次发布\n前言\n目前站内，TNTRun插件搬运贴主要是翻译原贴为主来讲解此插件，缺少系统化的讲解，个人认为这样不太适合“新萌”学习，加之搬运贴较为老旧，跟最新版内容差别较大，严重影响服主的使用。对于搬运贴的汉化文件较为老旧，与最新版出入较大，因此本人并未使用搬运贴的汉化，而是亲自汉化了所有最新版语言文件\n\n本教程适合哪些人？\n想要学习TNTRun插件，却无从下手的服主想要学习更多插件，增长技术的服主\n\n本教程需要的相关工具有哪些？\n服务端：Spigot/PaperSpigot等支持TNTRun插件运行的服务器编辑工具：Notepad++等编辑工具（电脑自带记事本除外）\n\nTNTrun介绍\nTNTrun是一款在国内外比较火热的小游戏插件，此插件主要玩法为：玩家在平台上快速奔跑，所碰到的方块都会坠落，玩家必须通过跑酷避免掉下去，最终留在平面上的玩家就会成为胜利者搬运贴：https://www.mcbbs.net/thread-782395-1-1.html原贴：https://www.spigotmc.org/resources/tntrun_reloaded-tntrun-for-1-13-1-16.53359/\n\n插件特色：\n可设置禁止下蹲支持设置多个竞技场可设置沙子掉落延迟自定义提示消息可创建游戏木牌可限制游戏时间竞技场自动重置支持标题和血条支持淘汰玩家观战支持给予胜利玩家奖励\n\n插件安装\n此部分为插件安装教程，将会对TNTRun插件的安装过程做一个详细的说明和教学，如果你是大佬可以跳过此部分，但如果你对于此插件的安装过程不太了解，我推荐学习一下\n\n下载插件\nTNTRun插件除了主体外（TNTRun），还需要3个前置插件（worldedit、vault、BarAPI）\n其中BarAPI是可选的，如果你不想要在游戏中屏幕上方的血条，则可以去掉此插件，但本人推荐装上\nworldedit和Vault插件是必要的，如果不安装的话，TNTRun将无法正常运行\n\nTNTRun下载地址：https://www.spigotmc.org/resources/tntrun_reloaded-tntrun-for-1-13-1-16.53359/\nworldedit下载地址：https://dev.bukkit.org/projects/worldedit\nvault下载地址：https://www.spigotmc.org/resources/vault.34315/\nBarAPI下载地址：https://www.spigotmc.org/resources/api-bossbarapi-1-7-1-8-1-9-1-10.7504/\n\n加载插件\n将下载好的插件放到服务器plugins文件夹中\n之后重启服务器来加载配置文件\n\n汉化文件\n配置文件加载后，关闭服务器，下载教程内汉化过的文件，替换掉配置文件\n在游戏中输入后输入/reload重载配置文件或重启服务器即可汉化完成\n\n文件下载\n\n\n\n\nconfig.yml\n(2.29 KB, 下载次数: 2)\n\n\n\n2020-8-4 14:01 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\nshop.yml\n(3.86 KB, 下载次数: 2)\n\n\n\n2020-8-4 14:01 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\nconfigbars.yml\n(196 Bytes, 下载次数: 2)\n\n\n\n2020-8-4 14:01 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\nconfigtitles.yml\n(241 Bytes, 下载次数: 2)\n\n\n\n2020-8-4 14:01 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n\n\nmessages.yml\n(5.57 KB, 下载次数: 2)\n\n\n\n2020-8-4 14:01 上传\n点击文件名下载附件\n\n\n\n\n\n\n\n指令与权限\n指令\n基础指令\n/tr list - 列出所有竞技场\n/tr list {arena} - 列出指定竞技场设置\n/tr join {arena} - 加入指定竞技场(默认)\n/tr join - 打开竞技场菜单(默认)\n/tr autojoin - 加入玩家人数最多的竞技场\n/tr leave - 离开当前竞技场\n/tr vote - 开启当前竞技场投票\n/tr lobby - 传送至TNTRun大厅\n/tr stats - 显示我的TNTRun信息\n/tr leaderboard {size} - 显示TNTRun计分板\n/tr listkit - 列出TNTRun所有工具包\n/tr listkit {kit} - 列出工具包物品内容\n/tr start {arena} - 强制开始游戏\n/tr info - 查询TNTRun插件信息\n/tr help - 列出所有/tr指令\n/tr cmds - 列出所有/trsetup指令​\n创建竞技场\n/trsetup create <arena>​ - 创建竞技场\n/trsetup setarena <arena>​ - 创建竞技场范围\n/trsetup setloselevel <arena>​ - 设置竞技场最低层\n/trsetup setspawn <arena>​ - 设置竞技场出生点\n/trsetup setspectate <arena>​ - 设置竞技场观战点\n/trsetup finish <arena>​ - 保存设置并启用竞技场\n/trsetup setlobby - 设置当前位置为TNTRun大厅\n配置竞技场\n/trsetup setmaxplayers {arena} {number} - 设置竞技场最大玩家人数（默认值：15）/trsetup setminplayers {arena} {number} - 设置竞技场最小玩家人数（默认值：2）\n/trsetup settimelimit {arena} {seconds} - 设置竞技场的最大游戏时间（默认值：300秒）\n/trsetup setcountdown {arena} {seconds} - 设置竞技场差多少秒开启倒计时（默认值：10）\n/trsetup setmoneyreward {arena} {amount} - 设置获胜金币奖励数量（必须有前置Vault）\n/trsetup setteleport {arena} {previous/lobby} - 设置游戏结束时将玩家传送的位置\n/trsetup setdamage {arena} {yes/no/zero} - 设置竞技场是否开启PVP（yes = 开启，no = 不开启，zero = 无伤害）\n/trsetup deletespectate {arena} - 删除玩家的传送点\n/trsetup setgameleveldestroydelay {arena} {ticks} - 设置玩家踩到块后方块多久才坠落（默认值：8）\n/trsetup setregenerationdelay {arena} {ticks} - 设置玩家重新加入竞技场的时间限制（默认值：60）\n/trsetup setvotepercent {arena} {0<votepercent<1} - 设置强制开启游戏所需的投票百分比（默认值：0.75）\n/trsetup setfee {arena} {amount} - 设置加入竞技场的花费\n/trsetup setcurrency {arena} {currency_item} - 设置金币类型\n/trsetup setreward {arena} -设置竞技场奖励物品、经验值、指令奖励（列：/points give %player% 1）/trsetup setP1 - 设置目标方块为第一个选择点\n/trsetup setP2 - 设置目标方块为第二个选择点\n/trsetup clear - 删除选择点\n控制台指令\ntrconsole help -查询控制台帮助\ntrconsole info - 查询插件信息\ntrconsole list - 列出所有竞技场\ntrconsole enable {arena} - 启用竞技场\ntrconsole disable {arena} - 禁用竞技场\ntrconsole start {arena} - 强制开始游戏\ntrconsole reloadconfig - 重载config.yml\ntrconsole reloadbars - 重载configbars.yml\ntrconsole reloadmsg - 重载messages.yml\ntrconsole leaderboard - 显示排行榜\n其他指令\n/trsetup setlobby - 设置当前位置为TNTRun大厅\n/trsetup deletelobby - 删除TNTRun大厅\n/trsetup setbarcolor {color} - 设置血条颜色（默认值：RANDOM）\n/trsetup addkit {kit} - 创建道具包\n/trsetup deletekit {kit} - 删除道具包\n/trsetup reloadbars - 重载configbars.yml\n/trsetup reloadmsg - 重载messages.yml\n/trsetup reloadtitles - 重载titles.yml\n/trsetup reloadconfig - 重载config.yml\n/trsetup addspawn {arena} - 添加竞技场出生点\n/trsetup deletespawnpoints {arena} - 删除使用addspawn创建的所有出生点\n/trsetup enable {arena} - 启用竞技场\n/trsetup disable {arena} - 禁用竞技场\n/trsetup delete {arena} - 删除竞技场​\n权限玩家权限\ntntrun.join - 允许加入游戏\ntntrun.heads - 允许玩家使用HeadsPlus\ntntrun.shop - 允许玩家购买道具\ntntrun.joinmenu - 允许玩家使用菜单\n管理员权限\ntntrun.start - 允许强制开始游戏\ntntrun.setup - 允许使用指令/trsetup\ntntrun.version.check - 允许查看版本信息\n自定义权限\ntntrun.doublejumps.n - 设置玩家二段跳的最大次数\n变量此部分为TNTRun变量详解，将会列出目前插件的所有变量，并进行注释\n\n％tntrun_played％ - 参与过的游戏次数\n％tntrun_wins％ - 游戏获胜次数\n％tntrun_losses％ - 游戏失败次数\n％tntrun_version％ - 插件版本\n％tntrun_arena_count％ - 竞技场的数量\n％tntrun_player_count％ - 当前正在玩TNTRun的玩家总数量\n％tntrun_player_count_ <竞技场>％ - 当前正在玩TNTRun的玩家数量\n％tntrun_status_ <竞技场>％ - 竞技场的状态\n％tntrun_joinfee_ <竞技场>％ - 加入竞技场所需的费用\n％tntrun_currency_ <竞技场>％ - 加入竞技场所需的花费类型\n％tntrun_doublejumps％ - 玩家允许二段跳的次数\n%tntrun_leaderboard_wins_player_<position>% - 当前在获胜排行榜中的玩家\n%tntrun_leaderboard_wins_score_<position>% - 获胜排行榜中的获胜次数\n%tntrun_leaderboard_losses_player_<position>% - 当前在失败排行榜中的玩家\n%tntrun_leaderboard_losses_score_<position>% - 失败排行榜中的获胜次数\n%tntrun_leaderboard_played_player_<position>% - 当前在总次数排行榜中的玩家\n%tntrun_leaderboard_played_score_<position>% - 总次数排行榜中的游戏次数\nconfig.yml详解\n此部分将对config.yml文件的所有内容进行讲解config.yml主要用于设置全局性问题\n\nspecial:\n  UseBossBar: true\n介绍：此项用于设置是否使用BoosBar显示信息和倒计时\n\n  BossBarColor: RANDOM\n介绍：此项用于设置BoosBar的颜色\n\n  UseTitle: true\n介绍：此项用于设置是否使用标题显示信息\n\n  UseScoreboard: true\n介绍：此项用于设置是否使用计分板显示统计信息\n\n  UseDoubleJumpPermissions: false\n介绍：此项用于设置是否使用权限来设置二段跳次数\n\n  CheckForNewVersion: true\n介绍：此项用于设置是否检测插件版本\n\n  Metrics: true\n介绍：此项用于设置是否启动aStats\n\nUseRankInChat:\n  enabled: false\n  usegroup: true\n  useprefix: false\n介绍：此项用于设置玩家聊天时显示的信息\n\nshop:\n  name: '&6&lTNTRun &f&l商店'\n  size: 27\n  doublejump:\n    maxdoublejumps: 10\n  logpurchases: false\n  onleave:\n    removepurchase: false\n  showmoneyitem: GOLD_INGOT\n介绍：此项用于设置TNTRun商店\n\nfreedoublejumps:\n  enabled: false\n  amount: 10\n介绍：此项用于设置是否在游戏开始时提供给玩家道具\n\ncommandsonwin:\n- say {PLAYER} 赢得了比赛!\n- say 恭喜!\n介绍：此项用于设置当玩家胜利时对玩家执行的指令\n\nfireworksonwin:\n  enabled: true\n  duration: 4\n介绍：此项用于设置是否开启烟花和烟花时间（秒）\n\nbroadcastwinlevel: 2\nmenu:\n  item: TNT\n  panecolor: LIGHT_BLUE\n  includedisabled: false\n介绍：此项用于设置TNTRun游戏加入菜单\n\nsounds:\n  arenastart:\n    enabled: true\n    sound: ENTITY_PLAYER_LEVELUP\n    volume: 10\n    pitch: 1.0\n  itemselect:\n    enabled: true\n    sound: UI_BUTTON_CLICK\n    volume: 1\n    pitch: 1.0\n  blockbreak:\n    enabled: true\n    sound: BLOCK_SAND_BREAK\n    volume: 5\n    pitch: 1.0\n介绍：此项用于设置游戏声音\n\nanticamping:\n  enabled: true\n介绍：此项用于设置是否开启当最后5秒时，将所有等待玩家传送到竞技场\n\nleaderboard:\n  maxentries: 10\n介绍：此项用于设置排行榜最大显示排名数\n\nitems:\n  vote:\n    use: true\n    material: DIAMOND\n    name: '&2&l投票'\n    slot: 0\n  info:\n    use: true\n    material: EMERALD\n    name: '&2&l信息'\n    slot: 1\n  shop:\n    use: true\n    material: NETHER_STAR\n    name: '&2&l商店'\n    slot: 2\n  stats:\n    use: true\n    material: REDSTONE\n    name: '&2&l统计'\n    slot: 3\n  leave:\n    material: GREEN_BED\n    name: '&2&l离开'\n    slot: 8\n  heads:\n    use: true\n    material: GLOWSTONE_DUST\n    name: '&e&lHeadsPlus'\n    slot: 4\n介绍：此项用于设置TNTRun菜单\n\nscoreboard:\n  header: '&6&lTNTRUN'\n  displaydoublejumps: false\n  waiting:\n  - '&f欢迎来到TNTRun'\n  - '&a '\n  - '&f竞技场: &6&l{ARENA}'\n  - '&b '\n  - '&f玩家: &a&l{PS}&7&l/&c&l{MPS}'\n  - '&c '\n  - '&f需要玩家: &6&l{VOTES}'\n  - '&d '\n  - '&f等待开始: &6&l{COUNT}'\n  playing:\n  - '&fTNTRun'\n  - '&竞技场: &6&l{ARENA}'\n  - '&b '\n  - '&f玩家: &a&l{PS}&7&l/&c&l{MPS}'\n  - '&c '\n  - '&f已淘汰玩家: &a&l{LOST}'\n  - '&d '\n  - '&f获胜者: &c&l{LIMIT}'\n介绍：此项用于设置TNTRun计分板信息\n\ndatabase: file\nMySQL:\n  host: host\n  port: 12345\n  name: tntrun\n  table: stats\n  user: root\n  pass: password\n  useSSL: false\n介绍：此项用于设置数据库\n\nsigns:\n  prefix: '&6&lTNTRun'\n  join: '[Join]'\n  status:\n    disabled: '&c取消开启'\n    ingame: '&c&l{PS}&8/&c&l{MPS}'\n    regenerating: '&6&l重置地图中'\n    waiting: '&a&l{PS}&8/&a&l{MPS}'\n介绍：此项用于设置木牌文本\n\nbungeecord:\n  enabled: false\n  hub: lobby\n  useMOTD: true\n  stopserver: false\n介绍：此项用于设置Bungeecord跨服\n\nshop.yml详解\n此部分将对shop.yml文件的内容进行讲解shop.yml是可以修改的，服主们可以个性化设置shop.yml为TNTRun的游戏道具购买菜单\n\n商店格式如下：\n'工具包名':\n  name: '工具包名'\n  cost: 花费数额\n  material: 显示的物品ID\n  amount: 显示的物品数量\n  permission: 购买所需权限\n  lore:\n  - 工具包Lore介绍\n  items:\n    '物品名':\n      material: '物品ID'\n      amount: 物品数量\n      displayname: '物品显示名'\n      lore:\n      - 物品Lore介绍\n      enchantments:\n      - '附魔'复制代码\nname: ' ' 设置GUI中此工具包显示的名称，支持颜色代码cost: 设置购买此工具包花费的金额material: 设置GUI中此工具包显示的物品类型amount: 设置GUI中此工具包显示的物品数量permission: 设置购买此工具包所需的权限lore: [] 设置GUI中此工具包显示的Lore介绍\nitems: 设置此工具包中的物品\n\n实例:\n'2':\n  name: '&f剑客'\n  cost: 250\n  material: IRON_SWORD\n  amount: 1\n  permission: tntrun.shop.2\n  lore:\n  - 剑 + 击退#1\n  - 只需&6 250 &5金币\n  items:\n    '1':\n      material: IRON_SWORD\n      amount: 1\n      displayname: '&c剑 + 击退1'\n      lore:\n      - 剑 + 击退#1\n      enchantments:\n      - KNOCKBACK#1复制代码\n\nconfigbars.yml详解configbars.yml文件用于设置BoosBar显示的内容此文件支持个性化修改\n文件内容\nwaiting: '&6请耐心等待玩家加入, 当前玩家人数:&r {COUNT}'\nstarting: '&6游戏将在:&r {SECONDS} 秒后开始'\nplaying: '&6剩余时间:&r {SECONDS} &6剩余玩家人数:&r {COUNT}'复制代码\nconfigtitles.yml详解\nconfigtitles.yml文件用于设置通过标题发送的内容此文件支持个性化修改\n文件内容\njoin: '&7[&6TNTRun&7]'\nsubjoin: '&6{PLAYER} &7加入游戏'\nwin: '&6你获胜了'\nsubwin: '&7恭喜'\nstarting: '&7[&6TNTRun&7]'\nsubstarting: '&7游戏将会在 &6{COUNT} 秒后开始'\nstart: '&7[&6TNTRun&7]'\nsubstart: '&7游戏已经开始'复制代码\n创建竞技场\n此部分为教程的重点部分，将会一步一步得教学习者如何创建一个竞技场建议初次创建者，仔细阅读此部分进行操作\n\n第一步 创建一个竞技场\n1.输入指令/trsetup create <竞技场>来创建一个空竞技场\n\n第二步 给竞技场设置范围​\n1.使用WorldEdit插件，选择两个相对的点，分别在竞技场的上方和下方\n提示：请确保选择区域可以包括整个竞技场\n2.输入指令/trsetup setarena <竞技场>​将竞技场的范围设置为选择区域\n\n第三步 设置最低平台\n1.使用WorldEdit选择平台的两个相对点，选择的平面将作为竞技场最低点，如果玩家掉出此平台，将会淘汰\n提示：这两个点必须位于上一步选择的竞技场范围中\n2.输入指令/ trsetup setloselevel <竞技场>将竞技场最低平台设置为选择平面\n\n第四步 设置玩家出生点\n1.站在竞技场的最高层（可自选）\n2.输入指令/trsetup setspawn <竞技场>将把你所站立的位置设置为玩家开始游戏时传送的位置\n\n第五步 设置玩家观战点\n1.站在竞技场的最高层（可自选）\n2.输入指令/trsetup setspectate <竞技场>将把你所站立的位置设置为玩家淘汰时传送观战的位置\n\n第六步 保存竞技场并开启\n1.输入指令/trsetup finish <竞技场>来保存刚才创建的竞技场，保存后竞技场将会启用\n\n第七步 设置一个大厅\n1.站在你想设置成大厅的位置\n2.输入指令/trsetup setlobby将把你所站立的位置设置为TNTRun的大厅\n提示：只允许设置一个大厅\n\n常见问题\n此部分将会对使用插件时的问题和一些小技巧进行总结，每个问题都会给出详细的解决方式\n\n如何设置悬浮字排行榜？\n1.需要下载HolographicDisplays和HolographicExtension、ProtocolLib才可以使用此功能\n2.站立在你想要创建排行榜的位置输入指令/hd create TNTRun_Wins TNTRun Leaderboard创建一个悬浮字排行榜\n3.接下来给排行榜添加排名\n/hd addline TNTRun_Wins {slowest}&6%tntrun_leaderboard_wins_player_1% &f: &c%tntrun_leaderboard_wins_score_1%\n/hd addline TNTRun_Wins {slowest}&6%tntrun_leaderboard_wins_player_2% &f: &c%tntrun_leaderboard_wins_score_2%\n/hd addline TNTRun_Wins {slowest}&6%tntrun_leaderboard_wins_player_3% &f: &c%tntrun_leaderboard_wins_score_3%\n以此类推\n如何设置工具包？\n1.将背包清空\n2.将想要添加到工具包的物品放到背包中\n3.输入指令/trsetup addkit [工具包]将背包中的物品创建为一个工具包\n4.输入指令/trsetup enablekits [竞技场]设置竞技场开启工具包\n提示：开启游戏后，允许开启工具包的竞技场的玩家将会随机分配工具包\n如何创建传送木牌?\n1.创建一个木牌按照已下格式进行填写\n加入木牌\n第一行   [TNTRun]\n第二行     [Join]   \n第三行 竞技场名字\n第四行   不填\n\n离开木牌\n第一行   [TNTRun]\n第二行    [Leave]   \n第三行    不填\n第四行   不填\n\n投票木牌\n第一行   [TNTRun]\n第二行     [Vote]   \n第三行   不填\n第四行   不填\n其他问题将会继续补充\n\n个人心得\n首先，个人认为目前国内小游戏服务器较少，大多数服主因为怕玩家太少而不敢开小游戏服务器，个人认为如果你认真做一个小游戏服务器，慢慢积累玩家，服务器还有所成就其次，个人认为服主们不应该故步自封，普遍的游戏玩法是不足以吸引玩家的，对于那些较为普遍的小游戏，玩家们大多都会选择去网易等一些大服务器，因此应该不断创新改善小游戏的玩法来吸引玩家最后，配置小游戏服务端时一定要细心，不要漏掉任何一步，否则会出现问题，导致前功尽废希望你看到这里，已经对TNTRun插件的配置有了进一步的了解，希望你继续努力，共同推动国内服务器的发展！\n\n\n[groupid=1701]Complex Studio[/groupid]",
    "replies": [
        {
            "author": "表示路过",
            "timestamp": 1596714120,
            "txt_content": "好，非常好的教程！"
        },
        {
            "author": "枫黎秋",
            "timestamp": 1596714180,
            "txt_content": "表示路过 发表于 2020-8-6 19:42\n好，非常好的教程！\n谢谢评价（可否留下评分？）"
        },
        {
            "author": "chuangxinzhe",
            "timestamp": 1600488300,
            "txt_content": "配置里没有bungeecord啊"
        }
    ]
}