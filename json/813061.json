{
    "title": "[DeluxeMenus] 杜蕾斯菜单头颅商店 + 变量判断 | 全面教程",
    "author": "North丶Kraken",
    "replyCount": 23,
    "timestamp": 1533813600,
    "txt_content": " 本帖最后由 North丶Kraken 于 2018-8-11 14:28 编辑 \n写在前面：站内原有教程：[PCD]全面教程+搭配变量插件制作菜单 | 站内搬运帖[内有教程]使用 DeluxeMenus 的过程中，我经常参阅这两个教程使用，不过可能是因为版本更新了很多次的缘故教程里关于 DeluxeMenus 插件内的一些判断语句没有效果。比如链接 全面教程 里的每日礼包以及出售商店的判断语句 .equals(\"yes\")emm 教程里会重新写一下原教程里几个失效了的语句建议和以上两个教程组合食用emmm插件支持使用PAPI变量，所以下面这几个变量可以装一下玩家变量 - Player: 一些玩家的信息：名称、模式、坐标、所处世界、等等等/papi ecloud download player统计信息 - statistic：更多玩家的信息：方块挖掘数、物品使用数、酿造台使用数、杀怪数等等等等/papi ecloud download statistic经济信息 - Vault：做商店必备，可以判断玩家拥拥有多少钱/papi ecloud download vault基础插件 - Essentials：ESS大概是服务器必装的一个插件了吧，这个ESS变量主要是判断能不能领取礼包/papi ecloud download essentials安装完以上变量后使用/papi reload 重载 PlaceholderAPI 插件，使新装的变量生效\n更多的变量请参阅：PlaceholderAPI | 插件百科 [中文] | PlaceholderAPI 变量列表英文原帖\n新版本的判断条件：原教程里出现的.equals(\"yes\")应该不会再使用了，在新版里改成了条件类型 string equals这里先列出常用的判断条件\nhas item - 是否有物品has permission - 是否有某个权限has money - 身上有多少钱string equals - 判断输出的字符串是否相同（区分大小写）stringequalsignorecase - 判断输出的字符串是否相同（不区分大小写）>= / > / == / < / <= - 判断数值大小expression - 表达式\n自定义头颅商店：emmm 今天正好在做服里的自定义头颅商店，先写这个教程吧……获得这个自定义头颅 在 DeluxeMenu 里，头颅图标是：head;玩家名不过这个方法只能获取正版玩家的头颅，或者是在服务器里玩家的头颅，不能使用value值制作出来的头颅…比如这条指令give的头颅：/give @p skull 1 3 {display:{Name:\"Arrow Down\"},SkullOwner:{Id:\"9afa272b-ca4a-4502-8073-c4be1b\",Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMmRhZGQ3NTVkMDg1MzczNTJiZjdhOTNlM2JiN2RkNGQ3MzMxMjFkMzlmMmZiNjcwNzNjZDQ3MWY1NjExOTRkZCJ9fX0=\"}]}}}复制代码DeluxeMenus 里提供了另一个方法使用它：basehead-Value值，配置文件里 material 请写成这样：material: basehead-eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMmRhZGQ3NTVkMDg1MzczNTJiZjdhOTNlM2JiN2RkNGQ3MzMxMjFkMzlmMmZiNjcwNzNjZDQ3MWY1NjExOTRkZCJ9fX0复制代码basehead-后面的value值不包含 = 号与 \" 双引号\n完整的配置文件如下：'Arrow_Down':    material: basehead-eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMmRhZGQ3NTVkMDg1MzczNTJiZjdhOTNlM2JiN2RkNGQ3MzMxMjFkMzlmMmZiNjcwNzNjZDQ3MWY1NjExOTRkZCJ9fX0    slot: 23    display_name: '&6Arrow Down'    lore:    - '&bArrow Down'    - '&2售价 2000 元'    - '&2&l单击 &7| &f购买帽子'    left_click_requirement:      expression: '%vault_eco_balance% >= 2000'      deny_commands:      - '[message] 你身上的钱不够买它哦'    left_click_commands:    - '[console] money take %player_name% 2000'    - '[console] give %player_name% skull 1 3 {display:{Name:\"Freddy Fazbear\"},SkullOwner:{Id:\"ec845821-7123-465b-81a5-db71de766752\",Properties:{textures:[{Value:\"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZWQzZjNlMTE0YzYzMWNhZGM4YTU2MDYwMjFiNGI0ZjllMTVmYTZlYzg5ZDNlZWViMWNlYzgyNWNmMjliODgzIn19fQ==\"}]}}}'    - '[message] &2购买成功！'\n商店嘛……肯定要买哇，没钱咋行，于是这里加了个 left_click_requirement [左键单击条件]条件类型是 expression [表达式] %vault_eco_balance% >= 2000变量 %vault_eco_balance% [身上的金钱数] >= 2000如果无法达成上面这个公式，则允许 deny_commands 里的内容\n自定义头颅商店……就酱紫吧……安利个收录了自定义头颅的网站：FreshCoal Heads 单击一下头颅图标，自动将指令复制到粘贴板\nemmm更多内容更新中：(??_?)\n\n",
    "replies": [
        {
            "author": "jingew233",
            "timestamp": 1534333200,
            "txt_content": "请问如何回收一个东西呢 判断物品的代码是什么 我帖子没看懂"
        },
        {
            "author": "jingew233",
            "timestamp": 1534333260,
            "txt_content": "就是express后面的代码"
        },
        {
            "author": "North丶Kraken",
            "timestamp": 1534396800,
            "txt_content": "jingew233 发表于 2018-8-15 19:41\n就是express后面的代码\n判断是否有一个物品，原教程贴里用的是：\nexpression: '\"%player_hasitem-mat:263-amt:1-data:0%\".equals(\"yes\");'复制代码\n这段的意思是，用papi判断用户有没有1个ID是263自ID为0的物品，如果有则返回yes。然后用equals(\"yes\")来判断返回的变量是什么。\n这个equals已经没有了"
        },
        {
            "author": "North丶Kraken",
            "timestamp": 1534396920,
            "txt_content": "jingew233 发表于 2018-8-15 19:40\n请问如何回收一个东西呢 判断物品的代码是什么 我帖子没看懂\n我用的方法是：\n\nleft_click_requirement:\n    requirements:\n      material:\n        type: has item\n        material: DIAMOND\n        amount: 1\n复制代码\n\n这个是杜蕾斯自带的判断方法，type类型has item， material是物品的名字（不能用ID，必须是实体名，注意大写）amount是数量"
        },
        {
            "author": "North丶Kraken",
            "timestamp": 1534397280,
            "txt_content": "jingew233 发表于 2018-8-15 19:40\n请问如何回收一个东西呢 判断物品的代码是什么 我帖子没看懂\n还有一个方法是使用type: string equals\n\nright_click_requirement:\n  requirements:\n    staff_requirement:\n    type: string equals\n    input: '%player_hasitem-mat:263-amt:1-data:0%\"\n    output: yes\n复制代码\n这个的意思就是，输入papi 变量%player_hasitem-mat:263-amt:1-data:0%\n然后判断输出值是否是output的值\n\n另外，player_hasitem这个变量似乎已经没有了，你应该要用InventoryCheck\n\n在另外，用变量判断是否有物品，我认为主要是判断有没有自定义NBT标签的物品。比如给了name和lore的。普通的物品用自带的has item就可以了"
        },
        {
            "author": "jingew233",
            "timestamp": 1534418280,
            "txt_content": "North丶Kraken 发表于 2018-8-16 13:28\n还有一个方法是使用type: string equals\n\n这个的意思就是，输入papi 变量%player_hasitem-mat:263-amt:1- ...\n感谢 非常感谢"
        },
        {
            "author": "jingew233",
            "timestamp": 1534426620,
            "txt_content": "North丶Kraken 发表于 2018-8-16 13:28\n还有一个方法是使用type: string equals\n\n这个的意思就是，输入papi 变量%player_hasitem-mat:263-amt:1- ...\n'皮革帽子':\n        material: 298\n        amount: 1\n        slot: 18\n        display_name: '&7皮革帽子'\n        lore:\n        - '&71个铜'\n        - '&7点击购买'\n        enchantments:\n        - 'protection;1'\n        right_click_commands:\n        - '[console] give %player_name% leather_helmet 1 0 {ench:[{id:0,lvl:1}]}'\n        - '[console] clear %player_name% brick 0 1'\n        right_click_requirement:\n            requirements:\n              material:\n                type: has item\n                material: BRICK\n                amount: 1\n        deny_commands:\n        - '[message] &6&l&o梦灵之都 &f&l&o> &c你没有足够的资源去购买这个物品'\n        left_click_commands:\n        - '[console] give %player_name% leather_helmet 1 0 {ench:[{id:0,lvl:1}]}'\n        - '[console] clear %player_name% brick 0 1'\n        left_click_requirement:\n            requirements:\n              material:\n                type: has item\n                material: BRICK\n                amount: 1\n        deny_commands:\n        - '[message] &6&l&o梦灵之都 &f&l&o> &c你没有足够的资源去购买这个物品'\n\n这是我设置的 好像还是不行 插件版本是1.10.5 请您帮忙看下谢谢"
        },
        {
            "author": "North丶Kraken",
            "timestamp": 1534487880,
            "txt_content": "jingew233 发表于 2018-8-16 21:37\n'皮革帽子':\n        material: 298\n        amount: 1\n红砖的实体名错了，应该是CLAY_BRICK\n\n不清楚实体名，你可以装一个Banitem\n手持物品，输入/banitem remove\n聊天框里会显示出手上物品的实体名"
        },
        {
            "author": "zuzhang22",
            "timestamp": 1534507380,
            "txt_content": "North丶Kraken 发表于 2018-8-17 14:38\n红砖的实体名错了，应该是CLAY_BRICK\n\n不清楚实体名，你可以装一个Banitem\n楼主认真看WIKI，其实我是精通DM的"
        },
        {
            "author": "North丶Kraken",
            "timestamp": 1534569060,
            "txt_content": "zuzhang22 发表于 2018-8-17 20:03\n楼主认真看WIKI，其实我是精通DM的\n没有翻Wiki哦，我是看的配置文件里的注释emmmmmm"
        },
        {
            "author": "zuzhang22",
            "timestamp": 1534570800,
            "txt_content": "North丶Kraken 发表于 2018-8-18 13:11\n没有翻Wiki哦，我是看的配置文件里的注释emmmmmm\n注释有问题"
        },
        {
            "author": "zuzhang22",
            "timestamp": 1535444580,
            "txt_content": "North丶Kraken 发表于 2018-8-16 13:28\n还有一个方法是使用type: string equals\n\n这个的意思就是，输入papi 变量%player_hasitem-mat:263-amt:1- ...\n或者\nright_click_requirement:\n  requirements:\n    这里随便写:\n    type: javascript\n     expression: '\"%player_hasitem-mat:263-amt:1-data:0%\".equalsIgnoreCase(\"yes\");'"
        },
        {
            "author": "jingew233",
            "timestamp": 1535626020,
            "txt_content": "这里随便写是啥呀."
        },
        {
            "author": "North丶Kraken",
            "timestamp": 1535694600,
            "txt_content": "jingew233 发表于 2018-8-30 18:47\n这里随便写是啥呀.\n你可以理解成。。名字，代号。啥的。。不管写什么都不会对判断产生影响。。"
        },
        {
            "author": "啊啊啊啊12",
            "timestamp": 1536038520,
            "txt_content": "太复杂没看懂"
        },
        {
            "author": "758949513",
            "timestamp": 1583971020,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "North丶Kraken",
            "timestamp": 1584026700,
            "txt_content": "758949513 发表于 2020-3-12 07:57\n请问请问，lz大大，菜单弄很多头颅在里面会使得菜单加载变慢吗？？\n会，轻则从菜单里取出东西，重则崩服"
        },
        {
            "author": "758949513",
            "timestamp": 1584027420,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "QAQQAQ123",
            "timestamp": 1589296380,
            "txt_content": " 本帖最后由 QAQQAQ123 于 2020-5-12 23:19 编辑 \n\n楼主大大我想问下杜蕾斯菜单如何写一个玩家必须持有某个物品然后等级必须达到10级才能使用指令的图标呢，我看你帖子写了一个，取消op后不用等级和物品就能使用我想请教下"
        },
        {
            "author": "hahaha2586",
            "timestamp": 1589383800,
            "txt_content": "不错"
        },
        {
            "author": "白钻想peach",
            "timestamp": 1597646760,
            "txt_content": "我这里装了Head Database插件然后怎么用才能引用Head Database的头颅。。。"
        },
        {
            "author": "LingoKong",
            "timestamp": 1597736940,
            "txt_content": "学到了学到了"
        },
        {
            "author": "KPL一陈栩",
            "timestamp": 1597806120,
            "txt_content": "486842425472"
        }
    ]
}