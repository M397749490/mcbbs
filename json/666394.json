{
    "title": "如何制作一个一键启动所有服务器的bat脚本",
    "author": "伪笑",
    "replyCount": 7,
    "timestamp": 1485185580,
    "txt_content": "RT\n我需要一个bat脚本来启动我所有的子服\n需要怎么做？\n",
    "replies": [
        {
            "author": "ysy960108",
            "timestamp": 1485185580,
            "txt_content": "创建一个bat文件，内容按照以下格式\n[url=home.php?mod=space&uid=39305]@echo[/url] off\ncd 盘符:\\子服A所在目录\nstart 子服A.bat\n\ncd 盘符:\\子服B所在目录\nstart 子服B.bat\n\ncd 盘符:\\子服C所在目录\nstart 子服C.bat复制代码\n\n比如说服务端都在D:/server/，子服文件夹分别是s1,s2,s3，3个启动脚本都是‘启动服务器.bat’，那么就这么写：@echo off\ncd D:\\server\\s1\nstart 启动服务器.bat\n\ncd D:\\server\\s2\nstart 启动服务器.bat\n\ncd D:\\server\\s3\nstart 启动服务器.bat复制代码"
        },
        {
            "author": "伪笑",
            "timestamp": 1485226560,
            "txt_content": "ysy960108 发表于 2017-1-23 23:52\n创建一个bat文件，内容按照以下格式\n那如果子服就在D盘要怎么弄，cd代表什么意思"
        },
        {
            "author": "minecraft菜鸟..",
            "timestamp": 1485230580,
            "txt_content": "这里有一个很不错的BAT，在服务器崩溃、关闭后自动重启，并且无需指定java路径\n\n\n[url=home.php?mod=space&uid=39305]@echo[/url] OFF\n\nTitle TimeCraft Survive_TimeCity\ncolor 02\n:restart\njava -Xms1024M -Xmx2048M -XX:+AggressiveOpts -jar Start.jar\n\n\necho 自动重启倒计时 5 秒\nping -n 2 -w 500 0.0.0.1>nul\necho 自动重启倒计时 4 秒\nping -n 2 -w 500 0.0.0.1>nul\necho 自动重启倒计时 3 秒\nping -n 2 -w 500 0.0.0.1>nul\necho 自动重启倒计时 2 秒\nping -n 2 -w 500 0.0.0.1>nul\necho 自动重启倒计时 1 秒\nping -n 2 -w 500 0.0.0.1>nul\ngoto restart复制代码"
        },
        {
            "author": "minecraft菜鸟..",
            "timestamp": 1485230700,
            "txt_content": "minecraft菜鸟.. 发表于 2017-1-24 12:03\n这里有一个很不错的BAT，在服务器崩溃、关闭后自动重启，并且无需指定java路径\n第6行开头的Java是直接调用Java，要求Java必须正常安装，不能是绿色版\n第3行title后面可以改成你服务器的名字，显示在bat标题\n第6行后面Xms是最小内存 -Xmx是最大内存\n\n后面是自动重启的相关命令"
        },
        {
            "author": "浅念哥",
            "timestamp": 1485246060,
            "txt_content": "伪笑 发表于 2017-1-24 10:56\n那如果子服就在D盘要怎么弄，cd代表什么意思\ncd代表切换命令行目录\n比如当前文件夹下有s1子服\n那么直接cd s1\n然后start xxx.bat文件就好\nstart的意思是新开命令行\n因为如果直接打开就需要等待一个子服关闭后再开启其他子服\n这显然不是我们需要的\n沙发的配置是绝对路径\n可以使用cd ../s2来返回上级目录\n../的意思是上个文件夹下面的文件夹"
        },
        {
            "author": "ysy960108",
            "timestamp": 1485248400,
            "txt_content": "伪笑 发表于 2017-1-24 03:56\n那如果子服就在D盘要怎么弄，cd代表什么意思\n你只需要给每个子服创建单独的启动bat脚本，自动重启/内存分配什么的都是每个子服的脚本单独设定，而这个一键开所有子服的脚本的功能仅是一次性运行每个子服的bat文件，原理是进入每个子服的开服目录（就是cd），然后直接跑bat，就是这么简单，不需要修改原有子服的脚本，也不需要别的设定，亲测有效。\n另外每次用绝对路径只是为了看起来更直观。\n你的子服直接在D盘，不影响脚本的格式，因为你只需要每个子服的bat所在的文件夹目录，在D:\\和在D:\\server没有本质区别\n我假定你有4个子服，分别在s1 s2 s3 s4，s1的bat叫做'运行服务器.bat'，s2-s4的bat都叫'启动服务器.bat'\n[url=home.php?mod=space&uid=39305]@echo[/url] off <--论坛bug，这一行无视掉\n@echo off\ncd D:\\s1\nstart 运行服务器.bat\n\ncd D:\\s2\nstart 启动服务器.bat\n\ncd D:\\s3\nstart 启动服务器.bat\n\ncd D:\\s4\nstart 启动服务器.bat复制代码\n\n不知LZ是否能够理解？如果还是有疑问，可以私信我。"
        },
        {
            "author": "786071433",
            "timestamp": 1485272160,
            "txt_content": "在bat的前几行加上\nstart 路径\n如\nstart D:\\启动器.bat\n类似这样。有多少服务器就加多少。"
        }
    ]
}