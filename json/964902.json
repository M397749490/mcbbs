{
    "title": "[Slimefun]让玩家达到指定条件才能游玩粘液科技(例如等级 任务 权限)",
    "author": "翼LOVE·小爱",
    "replyCount": 0,
    "timestamp": 1582212060,
    "txt_content": " 本帖最后由 翼LOVE·小爱 于 2020-2-21 18:54 编辑 \n\n草稿，正在编辑\n教程：如何让玩家达到指定条件才能游玩粘液科技。这是一篇萌新腐竹也能看懂的教程~\n本教程默认使用的Slimefun版本为NOBUTS大佬发布的Slimefun4.1.15重置版\n本教程将直接给出详细示例，具体实现方法可根据各位腐竹自己的实际需求进行修改\n-\n需要用到的插件：\n粘液科技本体- > Slimefun\n粘液科技前置 -> CS-CoreLib\n礼包 -> EasyKitsRel\n判定物品Lore来在后台执行指令 -> LoreCommand\n让后台以玩家身份执行指令 -> PlayerCommands\n菜单 -> DeluxeMenus\n权限组 -> LuckPerms\n-\n使用场景：空岛生存服\n示例中使用的服务端来自极简主义·空岛生存，主菜单样式来源于此\n\n原理：\n1.取消玩家默认拥有的slimefun.command.guide权限，使得玩家无法通过指令/sf guide获取指导书\n2.当玩家达到一定条件后，给予玩家slimefun.command.open_guide权限，使得玩家能够使用指令/sf open_guide来打开指导书菜单\n3.将/sf open_guide指令绑定到一个物品上，实现指导书物品化，还原原有的Slimefun指导书设定\n\n\n步骤：\n1) 按照教程正常安装Slimefun插件，这里不再赘述\n2) 修改Slimefun插件文件中的plugin.yml，取消默认玩家拥有权限slimefun.command.guide这一设置 \n    方法：用压缩软件打开jar文件，找到里面的plugin.yml，用编辑软件打开，找到以下设置\n  slimefun.command.guide:\n    description: Allows you to obtain the Slimefun guide book\n    default: true复制代码 将default: true修改为default: op\n  slimefun.command.guide:\n    description: Allows you to obtain the Slimefun guide book\n    default: op复制代码.转码并保存至jar文件(通常情况转码为UTF-8)\n3) 制作一个用于绑定指令的物品    这里推荐使用插件Editlore进行物品编辑\n    这里楼主已给好样式，可输入以下指令快速制作\n/lore name &e&l远古工艺之书 &7(右键打开)\n/lore add &f\n/lore add &e&l右键点击 &8> &7浏览物品\n/lore add &f\n/lore add &a&o介绍：\n/lore add &f\n/lore add &f &f这是一本关于远古工艺的食用指导书~\n/lore add &f\n/lore set 7 #time_sfguide复制代码制作出的物品的Lore如下图所示，这里楼主使用的物品为书 (物品ID：BOOK)\n注意：在使用Editlore插件对物品进行Lore编辑的过程中可能会出现些许延迟，如果编辑不成功可多输入一次指令，如果发现编辑错了可以使用指令\"/lore set  <行数> <内容>\"进行更正 (物品名称不算做一行)\n\n4) 使用LoreCommand插件来判定Lore，从而实现物品绑定指令\n    这里楼主判定的Lore是#time_sfguide，LoreCommand的配置如下\nlore:\n  '#time_sfguide':\n    permission: 'timekd.cz.level233'\n    commands:\n     - 'pcmd [player] p:/sf open_guide'复制代码这里的设置项'#time_sfguide'正是插件配置上一行中提到的用于判定的Lore，各位腐竹可根据实际需求自行更改\n至于绑定这个指令以及添加timekd.cz.level233这一权限的原因，会在接下来进行讲解\n\n5) 测试过程中我们会发现LoreCommand会以后台的身份执行指令，这时我们就需要PlayerCommands插件来让后台以玩家的身份执行打开指导书菜单的指令\n    上面LoreCommand的配置第五行正是用来执行这一指令：pcmd [player] p:/sf open_guidepcmd -> 插件主指令\n[player] -> 获取玩家ID (玩家ID的占位符，这一功能来自LoreCommand插件)\np:/sf open_guide -> p:以玩家身份执行指令，/sf open_guide指导书菜单的打开指令复制代码     (PlayerCommands的具体使用方法可看插件发布帖，这里只解释为什么这样使用)\n\n6) 用EasyKitsRel插件来实现我们制作好的劣质指导书的领取功能\n    (以下将把上文提到的绑定有指令的物品简称为指导书)\n    将身上以及背包中的物品清空，只留一本我们自己制作的指导书\n    (1)执行礼包创建指令，创建一个名为@t_sfguide的礼包/kit create @t_sfguide复制代码    (2)设置礼包的冷却时间，将@t_sfguide礼包的冷却时间设置为10小时，即当玩家领取了礼包，到再领取下一次前需要等待10小时\n<font size=\"3\">/kit cooldown </font><span style=\"font-size: medium;\">@t_sfguide 10h</span>复制代码\n\n\n\n\n\n\n\n\n\n\n.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "replies": []
}