{
    "title": "IDEA下建立Forge开发环境的正确姿势",
    "author": "RecursiveG",
    "replyCount": 16,
    "timestamp": 1418303340,
    "txt_content": "见过不少教程都是基于Eclipse的，而基于IDEA的文章少得可怜，遂决定写此文。\n本文通篇基于Linux/IntellijIDEA进行讲解，Windows/MAC/Eclipse用户请自行依葫芦画瓢。\n本文不属于入门教程，不适合小白阅读\n设置Forge工作区你得首先去MinecraftForg下载一份源代码。我这里用的是最新的forge-1.7.10-10.13.2.1258-src.zip\n接着，找个地方建立一个文件夹，这将是你的工程目录，我的叫Forge1.7.10-1258。然后再在里面建立一个目录，比方说就叫forge-1.7.10-10.13.2.1258-src，把你的Forge源码解压进去。\n现在，你的文件夹层次应该看起来是这样的：Forge1.7.10-1258\n└── forge-1.7.10-10.13.2.1258-src\n       ├── build.gradle\n       ├── CREDITS-fml.txt\n       ├── eclipse\n       ├── forge-1.7.10-10.13.2.1258-changelog.txt\n       ├── gradle\n       ├── gradlew\n       ├── gradlew.bat\n       ├── LICENSE-fml.txt\n       ├── MinecraftForge-Credits.txt\n       ├── MinecraftForge-License.txt\n       ├── README.txt\n       └── src复制代码你可以先按自己喜好改动一下build.gradle。比如，我喜欢手动指定一下mappings的版本：minecraft {\n    version = \"1.7.10-10.13.2.1258\"\n    runDir = \"eclipse\"\n    mappings = \"stable_12\"\n}复制代码接着，cd到forge-1.7.10-10.13.2.1258-src目录下，执行如下两条命令：gradle -i setupDecompWorkspace\ngradle -i ideaModule复制代码然后请耐心等待指令完成，可以去喝杯牛奶睡个觉什么的。导入到IDEA等以上操作完成后，就可以打开IDEA，选“Create New Project”，注意要建立一个空工程（Empty Project）\n\n\"Project Name\"自然可以随意填写，\"Project Location\"则是之前创建的目录，下方的\"Project Format\"推荐选\"Directory Based\"\n点\"Finish\"之后应该会自动打开\"Project Structure\"窗口，如果没有的话可以按Ctrl+Alt+Shift+S或是从菜单栏\"File --> Project Structure\"\n打开窗口之后我们首先要选择SDK版本：先点左边的\"Project\"，然后在右边\"Project SDK\"里选一个，我是选了Java8，你当然可以选择任何版本（不要低于Java6）\n\n接着点左边的\"Modules\",再点那个绿色的“+”号，接着选\"Import Module\"\n\n然后选forge-1.7.10-10.13.2.1258-src目录下的forge-1.7.10-10.13.2.1258-src.iml文件就好。\nImport完了之后检查下有没有报错，如果没问题就可以点右下角OK。\n重新cd到forge-1.7.10-10.13.2.1258-src目录下，执行如下三条命令让gradle自动建立运行配置。ln -s ../.idea .\ngradle -i genIntellijRun\nrm .idea复制代码回到IDEA，然后有必要的话重新加载一下Project。\n继续选菜单栏\"Run --> Edit Configurations\",点左侧的\"Minecraft Client\"，修改\"Working Directory\"到forge-1.7.10-10.13.2.1258-src/eclipse。\n\n你也可以像我一样指定一个username。接着对\"Minecraft Server\"也如法炮制。然后右下角\"OK\"退出。\n现在Forge应该就可以运行了，在IDEA的主界面右上角有这么一片区域，选\"Minecraft Client\"然后点右侧那个绿色的三角箭头即可\n一个Mod!如果之前的步骤都没有问题，你就可以继续了\n为了更好地演示运行配置以及发布流程，我决定写一个Mod，添加一种矿石：“Xp Ore”,顾名思义，挖掉后能得到大量经验。\n我们需要新建一个Module来写我们的代码：菜单栏\"File --> New Module\"\n\"Module Name\"就叫XpOre好了，然后继续打开\"Project Structure\"，将forge-1.7.10-10.13.2.1258-src添加成为它的依赖。\n\n那个菜单同样是点右边的绿色加号出来，点\"Module Dependency\"后在弹出来的窗口里选\"forge-1.7.10-10.13.2.1258-src\"然后\"OK\"即可。\n之后就可以写Mod了！至于具体Mod怎么写我就不在这里提了，请各位参考其他文章。\n这是我的代码和目录层次结构，请自行调整，我就不把每一步的细节都写出来了。\n请记得把`java`和`resources`两个目录设置成代码根目录和资源根目录，具体方法是在文件夹上右键然后\"Mark Directory As\"\n\n（xp_ore.png是矿石的材质，其实就是拿金矿石的材质把几个像素涂成绿色让它看起来比较像附魔瓶的颜色）\n要想让这个Mod在IDEA里运行起来，有两种方式。\n第一种比较简单，直接菜单栏\"Run --> Edit Configurations --> 'Minecraft Client' --> Use classpath of mod ...\"下拉列表里选\"XpOre\"，保存退出运行即可。这种方式比较适合只开发一个Mod的情况。\n当有N个Module互相依赖的时候，我推荐创建另一个Module，比方说，叫\"Run\"。然后令其依赖`forge-1.7.10-10.13.2.1258-src`和你需要加载的其他Module，然后\"Use classpath of mod\"选择\"Run\"即可。发布发布其实相当方便，把forge-1.7.10-10.13.2.1258-src文件夹里的`build.gradle`复制到`XpOre`文件夹下面\n按自己喜好修改其中的`version`,`group`和`archivesBaseName`即可。比方说我的是：version = \"v0.1\"\ngroup= \"org.devinprogress.xpore\"\narchivesBaseName = \"XpOre-1.7.10\"复制代码然后在XpOre文件夹下`gradle build`即可。运行完成后，就能在`XpOre/build/libs/`文件夹下找到编译好的jar了。\n\n最后来一张Mod的效果图\n\n全文完",
    "replies": [
        {
            "author": "simοn3000",
            "timestamp": 1418305440,
            "txt_content": "话说这IDEA和e什么什么的大概是什么区别啊"
        },
        {
            "author": "RecursiveG",
            "timestamp": 1418306280,
            "txt_content": "simοn3000 发表于 2014-12-11 21:44\n话说这IDEA和e什么什么的大概是什么区别啊\n不同的IDE\n可以大概理解成不同的编辑器之类的\n功能其实都差不多"
        },
        {
            "author": "simοn3000",
            "timestamp": 1418306340,
            "txt_content": "RecursiveG 发表于 2014-12-11 21:58\n不同的IDE\n可以大概理解成不同的编辑器之类的\n功能其实都差不多\n好吧\n表示还是乖乖用Eclipse好了"
        },
        {
            "author": "KKK_Death",
            "timestamp": 1500988080,
            "txt_content": "话说IDEA如何新建包（Package）啊"
        },
        {
            "author": "myshirtis0",
            "timestamp": 1513573440,
            "txt_content": "gradle -i setupDecompWorkspacegradle \ngradle -i ideaModule\n这两个指令我怎么用不了"
        },
        {
            "author": "myshirtis0",
            "timestamp": 1513573680,
            "txt_content": "是cmd里面的吗？貌似用不了"
        },
        {
            "author": "小猫鱼鱼",
            "timestamp": 1514699940,
            "txt_content": "KKK_Death 发表于 2017-7-25 21:08\n话说IDEA如何新建包（Package）啊\n请勿挖坟"
        },
        {
            "author": "小猫鱼鱼",
            "timestamp": 1514700000,
            "txt_content": "myshirtis0 发表于 2017-12-18 13:08\n是cmd里面的吗？貌似用不了\n是linux用的命令..............windows当然用不了，linux在终端中输入即可"
        },
        {
            "author": "sulinly",
            "timestamp": 1564681500,
            "txt_content": "有用非常好 谢谢"
        },
        {
            "author": "ps360papa",
            "timestamp": 1567216020,
            "txt_content": "2014年就开始用idea，很良心的教程，也正好是我需要的，传送门也给的很给力啊"
        },
        {
            "author": "mod设计师",
            "timestamp": 1569990000,
            "txt_content": "大佬威武"
        },
        {
            "author": "无语………",
            "timestamp": 1576505760,
            "txt_content": "强啊楼主好红红火火恍恍惚惚"
        },
        {
            "author": "slyz",
            "timestamp": 1584441540,
            "txt_content": "这个怎么用啊：ln -s ../.idea .\ngradle -i genIntellijRun\nrm .idea"
        },
        {
            "author": "艾伦诺顿",
            "timestamp": 1585620600,
            "txt_content": "simοn3000 发表于 2014-12-11 21:44\n话说这IDEA和e什么什么的大概是什么区别啊\n两个ide，功能差不多，不过现在eclipse凉下去了，idea比较好用"
        },
        {
            "author": "e_mirai",
            "timestamp": 1592118300,
            "txt_content": "问一下，idea里面各种mc的类显红，找不到定义，但是能正常buid打包，需要怎么处理？没有提示很不方便"
        },
        {
            "author": "uitprs_nLCM5",
            "timestamp": 1613814120,
            "txt_content": "myshirtis0 发表于 2017-12-18 13:04\ngradle -i setupDecompWorkspacegradle \ngradle -i ideaModule\n这两个指令我怎么用不了\ngradle配置到path"
        }
    ]
}