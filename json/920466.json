{
    "title": "关于喵端后台无限制报错问题",
    "author": "Alex5231",
    "replyCount": 5,
    "timestamp": 1571196600,
    "txt_content": "喵端 1.12.2-b19657a-servermod服\n昨天开始服务端后台一直刷下面这段信息，想问一下有没大佬知道为什么会出现，以及如何解决\n\n[11:24:38] [Server thread/INFO]: [Yum] [Yum 事件监控] 插件 Residence 处理 BlockBreakEvent 事件时发生异常![11:24:38] [Server thread/INFO]: [Yum] 异常名称: java.lang.RuntimeException\n[11:24:38] [Server thread/INFO]: [Yum] 异常说明: The operation to lookup a UUID for '[xu2fakeplayer]' was cancelled by LuckPerms. This is NOT a bug.\nThe lookup request was made on the main server thread. It is not safe to execute a request to\nload username data from the database in this context.\nIf you are a plugin author, please either make your request asynchronously,\nor provide an 'OfflinePlayer' object with the UUID already populated.\nAlternatively, server admins can disable this catch by setting 'vault-unsafe-lookups' to true\nin the LP config, but should consider the consequences (lag) before doing so.\n[11:24:38] [Server thread/INFO]: [Yum] 简易错误信息如下:\n[11:24:38] [Server thread/INFO]: [Yum]     位于 me.lucko.luckperms.bukkit.vault.LuckPermsVaultPermission.lookupUuid(LuckPermsVaultPermission.java:109)\n[11:24:38] [Server thread/INFO]: [Yum]     位于 me.lucko.luckperms.bukkit.vault.AbstractVaultPermission.getPrimaryGroup(AbstractVaultPermission.java:372)\n[11:24:38] [Server thread/INFO]: [Yum]     位于 pw.yumc.Residence.vaultinterface.ResidenceVaultAdapter.getPlayerGroup(ResidenceVaultAdapter.java:95)\n[11:24:38] [Server thread/INFO]: [Yum]     位于 com.bekvon.bukkit.residence.permissions.PermissionManager.getPermissionsGroup(PermissionManager.java:102)\n[11:24:38] [Server thread/INFO]: [Yum]     位于 com.bekvon.bukkit.residence.permissions.PermissionManager.getGroupNameByPlayer(PermissionManager.java:87)\n\n\n",
    "replies": [
        {
            "author": "l89669",
            "timestamp": 1571196600,
            "txt_content": "不要用yumc的领地,去spigot下载最新的领地"
        },
        {
            "author": "智乃是我的",
            "timestamp": 1571197740,
            "txt_content": "个人建议:删除yum 使用plugman"
        },
        {
            "author": "xmdhs",
            "timestamp": 1571199240,
            "txt_content": "尝试更新 Residence \n\n看上去是 Residence 查询玩家的 UUID 被 luckperma 阻止了，因为是在主线程查询什么的，也许更新就可以解决。"
        },
        {
            "author": "a1294790523",
            "timestamp": 1571303460,
            "txt_content": "异常说明: The operation to lookup a UUID for '[xu2fakeplayer]' was cancelled by LuckPerms. This is NOT a bug.\nThe lookup request was made on the main server thread. It is not safe to execute a request to\nload username data from the database in this context.\nIf you are a plugin author, please either make your request asynchronously,\nor provide an 'OfflinePlayer' object with the UUID already populated.\nAlternatively, server admins can disable this catch by setting 'vault-unsafe-lookups' to true\nin the LP config, but should consider the consequences (lag) before doing so.\n错误原因其实已经说的很清楚了，我翻译一下：\n查询玩家名为[xu2fakeplayer]的UUID的操作已被LuckPerms取消，这不是出了什么bug。\n此次查询操作是在服务器主线程进行的。在这种情况下请求从数据库中读取玩家名称数据并不安全（译者注：数据库操作会让服务器主线程停一小会，如果连接超时或者耗时较高，你的服务器会大幅卡顿）\n如果你是该插件的作者，请异步执行你的请求或者提供存在UUID的OfflinePlayer对象。\n服务器管理者（服主）也可以在LP（LuckPerms）的配置文件中通过将vault-unsafe-lookups配置项设置为true来禁用这个检测，但这应该会导致服务器卡顿。\n\n你可以先试试更新/更换领地插件，不行再按上面的做吧\n"
        },
        {
            "author": "Alex5231",
            "timestamp": 1571537100,
            "txt_content": "换了领地插件，已解决\n"
        }
    ]
}