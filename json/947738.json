{
    "title": "LuckPerms数据库连接报错",
    "author": "Goblins",
    "replyCount": 9,
    "timestamp": 1580235060,
    "txt_content": " 本帖最后由 Goblins 于 2020-1-29 02:12 编辑 \n\n其他连接数据库插件均无异常重启可解决问题，但是隔一段时间又会开始\n报错时玩家无法进入服务器，会提示数据库权限出错\n长时间报错后会停止报错，恢复正常\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []: Caused by: java.sql.SQLException: Connection.setNetworkTimeout cannot be called on a closed connection\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.lib.mariadb.internal.util.exceptions.ExceptionMapper.getSqlException(ExceptionMapper.java:278)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.lib.mariadb.MariaDbConnection.setNetworkTimeout(MariaDbConnection.java:1624)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:552)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:168)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:185)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.runHousekeeping(AbstractSqlMessenger.java:115)\n[02:09:46] [luckperms-scheduler-worker-11/WARN] []:         ... 4 more\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 10000ms.\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:697)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:196)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.pollMessages(AbstractSqlMessenger.java:96)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.common.plugin.scheduler.AbstractJavaScheduler$ErrorReportingRunnable.run(AbstractJavaScheduler.java:118)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at java.lang.Thread.run(Thread.java:748)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []: Caused by: java.sql.SQLException: Connection.setNetworkTimeout cannot be called on a closed connection\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.mariadb.internal.util.exceptions.ExceptionMapper.getSqlException(ExceptionMapper.java:278)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.mariadb.MariaDbConnection.setNetworkTimeout(MariaDbConnection.java:1624)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:552)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:168)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:185)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.runHousekeeping(AbstractSqlMessenger.java:115)\n[02:09:47] [luckperms-scheduler-worker-6/WARN] []:         ... 4 more\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 10000ms.\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:697)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:196)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.pollMessages(AbstractSqlMessenger.java:96)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.common.plugin.scheduler.AbstractJavaScheduler$ErrorReportingRunnable.run(AbstractJavaScheduler.java:118)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at java.lang.Thread.run(Thread.java:748)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []: Caused by: java.sql.SQLException: Connection.setNetworkTimeout cannot be called on a closed connection\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.mariadb.internal.util.exceptions.ExceptionMapper.getSqlException(ExceptionMapper.java:278)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.mariadb.MariaDbConnection.setNetworkTimeout(MariaDbConnection.java:1624)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:552)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:168)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:185)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.runHousekeeping(AbstractSqlMessenger.java:115)\n[02:09:48] [luckperms-scheduler-worker-8/WARN] []:         ... 4 more\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 10001ms.\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:697)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:196)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.runHousekeeping(AbstractSqlMessenger.java:115)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.common.plugin.scheduler.AbstractJavaScheduler$ErrorReportingRunnable.run(AbstractJavaScheduler.java:118)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at java.lang.Thread.run(Thread.java:748)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []: Caused by: java.sql.SQLException: Connection.setNetworkTimeout cannot be called on a closed connection\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.mariadb.internal.util.exceptions.ExceptionMapper.getSqlException(ExceptionMapper.java:278)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.mariadb.MariaDbConnection.setNetworkTimeout(MariaDbConnection.java:1624)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:552)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:168)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:185)\n[02:09:49] [luckperms-scheduler-worker-7/WARN] []:         ... 9 more\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 10001ms.\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:697)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:196)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.pollMessages(AbstractSqlMessenger.java:96)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.common.plugin.scheduler.AbstractJavaScheduler$ErrorReportingRunnable.run(AbstractJavaScheduler.java:118)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at java.lang.Thread.run(Thread.java:748)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []: Caused by: java.sql.SQLException: Connection.setNetworkTimeout cannot be called on a closed connection\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.mariadb.internal.util.exceptions.ExceptionMapper.getSqlException(ExceptionMapper.java:278)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.mariadb.MariaDbConnection.setNetworkTimeout(MariaDbConnection.java:1624)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:552)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:168)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:185)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.runHousekeeping(AbstractSqlMessenger.java:115)\n[02:09:49] [luckperms-scheduler-worker-4/WARN] []:         ... 4 more\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 10001ms.\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:697)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:196)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.pollMessages(AbstractSqlMessenger.java:96)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.common.plugin.scheduler.AbstractJavaScheduler$ErrorReportingRunnable.run(AbstractJavaScheduler.java:118)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at java.lang.Thread.run(Thread.java:748)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []: Caused by: java.sql.SQLException: Connection.setNetworkTimeout cannot be called on a closed connection\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.mariadb.internal.util.exceptions.ExceptionMapper.getSqlException(ExceptionMapper.java:278)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.mariadb.MariaDbConnection.setNetworkTimeout(MariaDbConnection.java:1624)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:552)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:168)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:185)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.runHousekeeping(AbstractSqlMessenger.java:115)\n[02:09:50] [luckperms-scheduler-worker-3/WARN] []:         ... 4 more\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 10000ms.\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:697)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:196)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.pollMessages(AbstractSqlMessenger.java:96)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.common.plugin.scheduler.AbstractJavaScheduler$ErrorReportingRunnable.run(AbstractJavaScheduler.java:118)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at java.lang.Thread.run(Thread.java:748)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []: Caused by: java.sql.SQLException: Connection.setNetworkTimeout cannot be called on a closed connection\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.mariadb.internal.util.exceptions.ExceptionMapper.getSqlException(ExceptionMapper.java:278)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.mariadb.MariaDbConnection.setNetworkTimeout(MariaDbConnection.java:1624)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:552)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:168)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:185)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.runHousekeeping(AbstractSqlMessenger.java:115)\n[02:09:51] [luckperms-scheduler-worker-14/WARN] []:         ... 4 more\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []: java.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 10001ms.\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:697)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:196)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.pollMessages(AbstractSqlMessenger.java:96)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.common.plugin.scheduler.AbstractJavaScheduler$ErrorReportingRunnable.run(AbstractJavaScheduler.java:118)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at java.lang.Thread.run(Thread.java:748)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []: Caused by: java.sql.SQLException: Connection.setNetworkTimeout cannot be called on a closed connection\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.mariadb.internal.util.exceptions.ExceptionMapper.getSqlException(ExceptionMapper.java:278)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.mariadb.MariaDbConnection.setNetworkTimeout(MariaDbConnection.java:1624)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:552)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:168)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:185)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.pool.HikariPool.getConnection(HikariPool.java:161)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.lib.hikari.HikariDataSource.getConnection(HikariDataSource.java:100)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.common.storage.implementation.sql.connection.hikari.HikariConnectionFactory.getConnection(HikariConnectionFactory.java:131)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.common.messaging.sql.SqlMessenger.getConnection(SqlMessenger.java:85)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         at me.lucko.luckperms.common.messaging.sql.AbstractSqlMessenger.runHousekeeping(AbstractSqlMessenger.java:115)\n[02:09:52] [luckperms-scheduler-worker-5/WARN] []:         ... 4 more\n复制代码\n\n\n",
    "replies": [
        {
            "author": "GiNYAi",
            "timestamp": 1580235060,
            "txt_content": "https://github.com/lucko/LuckPerms/issues/1373\n\n我觉得是你的数据库的什么地方有问题 比如说 mysql的连接数不够?"
        },
        {
            "author": "世予予",
            "timestamp": 1580239680,
            "txt_content": "提示: 作者被禁止或删除 内容自动屏蔽"
        },
        {
            "author": "a854124946",
            "timestamp": 1580262720,
            "txt_content": "你好，是只有LP会出现mysq报错吗，如果是的建议排查配置文件填写是否正确，如果其他插件也有报错现象，建议查看mysql的配置有没有问题。\n插件的WARN中有一条为\njava.sql.SQLTransientConnectionException: luckperms-hikari - Connection is not available, request timed out after 10001ms.\n可能是配置文件的信息没有填对，建议重新审核。\n"
        },
        {
            "author": "Goblins",
            "timestamp": 1580273640,
            "txt_content": "a854124946 发表于 2020-1-29 09:52\n你好，是只有LP会出现mysq报错吗，如果是的建议排查配置文件填写是否正确，如果其他插件也有报错现象，建议 ...\n\n没修改过配置文件，除了改数据库连接\n它是时好时坏得，不是一上来就 炸"
        },
        {
            "author": "dragonfish331",
            "timestamp": 1580274600,
            "txt_content": "你的具体情况我不清楚，但我当时使用MariaDB的时候报错，把数据库地址从“localhost”修改为“127.0.0.1”就行了，你也可以试试"
        },
        {
            "author": "a854124946",
            "timestamp": 1580278380,
            "txt_content": "Goblins 发表于 2020-1-29 12:54\n没修改过配置文件，除了改数据库连接\n它是时好时坏得，不是一上来就 炸 ...\n在mysql的配置文件my.ini 添加或修改以下配置试试:\nmax_connections=10000   #修改最**接数为10000\nwait_timeout=86400    #连接等待超时时间\ninteractive_timeout=31536000  #交互式响应超时时间"
        },
        {
            "author": "Goblins",
            "timestamp": 1580287980,
            "txt_content": " 本帖最后由 Goblins 于 2020-1-29 16:56 编辑 \na854124946 发表于 2020-1-29 14:13\n在mysql的配置文件my.ini 添加或修改以下配置试试:\nmax_connections=10000   #修改最**接数为10000\nwait_ ...\n我使用的是阿里云数据库\n并未找到 max_connections 配置项\nwair_timeout 默认为86400\ninteractive_timeout 的值区间为 [10-86400] 默认为7200"
        },
        {
            "author": "Goblins",
            "timestamp": 1580288040,
            "txt_content": "GiNYAi 发表于 2020-1-29 09:51\nhttps://github.com/lucko/LuckPerms/issues/1373\n\n我觉得是你的数据库的什么地方有问题 比如说 mysql的连 ...\nissues中确实为同一问题，回复的链接中有提到这个报错但没有详细解决方案\n提问者 为重装数据库解决，这个我只能放最后解决"
        },
        {
            "author": "a854124946",
            "timestamp": 1580290500,
            "txt_content": "Goblins 发表于 2020-1-29 16:53\n我使用的是阿里云数据库\n并未找到 max_connections 配置项\nwair_timeout 默认为86400\nmax_connections 在末尾行自行添加,默认应该是100或者1000,这个最**接数如果太小，插件连接mysql过多，会导致插件无法连接到mysql"
        }
    ]
}