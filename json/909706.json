{
    "title": "谁知道为什么打印结果一样，判断还是false？我彻底懵了",
    "author": "guaiMiao~",
    "replyCount": 9,
    "timestamp": 1567073880,
    "txt_content": "\n\n\n\n\n问题.png (3.77 KB, 下载次数: 0)\n\n下载附件\n\n2019-8-29 18:16 上传\n\n\n\n\n\n\n代码：\nPlayer p = e.getPlayer();\np.sendMessage(\"\"+p.getItemInHand());\np.sendMessage(\"\"+(new ItemStack(Material.AIR,0)));\np.sendMessage(\"\"+(new ItemStack(Material.AIR,0)).isSimilar(p.getItemInHand()));\n\n\n\n为什么打印都是一样的判断还是false？？？\n",
    "replies": [
        {
            "author": "taotaonly",
            "timestamp": 1567074540,
            "txt_content": "路过不知道"
        },
        {
            "author": "guaiMiao~",
            "timestamp": 1567074840,
            "txt_content": "taotaonly 发表于 2019-8-29 18:29\n路过不知道\n不知道你回什么……"
        },
        {
            "author": "森林蝙蝠",
            "timestamp": 1567080540,
            "txt_content": "因为你手里什么都没有，getItemInhand()其实是null，当然不等。"
        },
        {
            "author": "guaiMiao~",
            "timestamp": 1567080840,
            "txt_content": "森林蝙蝠 发表于 2019-8-29 20:09\n因为你手里什么都没有，getItemInhand()其实是null，当然不等。\n不对啊，我的手里打印出来是ItemStack{AIR*0},不是null啊，我一开始写的是p.getItemInHand()==null,也是false"
        },
        {
            "author": "guaiMiao~",
            "timestamp": 1567081740,
            "txt_content": "我突然发现个问题：javadoc里似乎没有getItemInHand()，eclipse里也被打上了删除线，会不会跟这个有关系？"
        },
        {
            "author": "guaiMiao~",
            "timestamp": 1567082220,
            "txt_content": "如果手里拿着物品，可以正常判断，但空手似乎不行"
        },
        {
            "author": "guaiMiao~",
            "timestamp": 1567083000,
            "txt_content": "我判断物品堆的类型，可以判断成功了，但还是不知道为什么直接判断物品堆会得到false\n成功判断空手：\nMaterial.AIR.equals(p.getInventory().getItemInMainHand().getType());"
        },
        {
            "author": "gucandong",
            "timestamp": 1567133760,
            "txt_content": "equals更适合判断各种类型的，==适用于 如纯数字等完全相等的"
        },
        {
            "author": "chixvv",
            "timestamp": 1567134660,
            "txt_content": " 本帖最后由 chixvv 于 2019-8-30 11:29 编辑 \n拿狙也爆头 发表于 2019-8-29 20:50\n我判断物品堆的类型，可以判断成功了，但还是不知道为什么直接判断物品堆会得到false\n成功判断空手：\nMater ...\n请看一下ItemStack.ItemStack(Material,int)以及ItemStack.getType（）和ItemStack.toString（）的语法吧，手上没有物品时，Item当然是null，所以和ItemStack(Material.AIR,0)不相同。但在toString或者getType时，在1.12.2里mdk的语法是这样的\n\n\npublic static final ItemStack field_190927_a = new ItemStack((Item)null);\n\npublic Item getItem(){\n        return this.field_190928_g ? Item.getItemFromBlock(Blocks.AIR) : this.item;\n}\n\nprivate void func_190923_F(){\n        this.field_190928_g = this.func_190926_b();\n}\n\npublic boolean func_190926_b(){\n        if (this == field_190927_a){\n            return true;\n        }\n        else if (this.item != null && this.item != Item.getItemFromBlock(Blocks.AIR)){\n            if (this.stackSize <= 0){\n                return true;\n            }else{\n                return this.itemDamage < -32768 || this.itemDamage > 65535;\n            }\n        }else{\n            return true;\n        }\n    }\n复制代码\n\n也就是说Item是null或者物品数量小于等于0时，返回Items.AIR。\n\n\n\n\n"
        }
    ]
}